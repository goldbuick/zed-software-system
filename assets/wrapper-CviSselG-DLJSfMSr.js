import{c as yt,r as Hi,B as j,p as D,a as oi,b as re}from"./index-B2FbkvTB.js";var nt={},Kt={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Kt.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,o=t&&!t.nodeType&&t,i=typeof yt=="object"&&yt;(i.global===i||i.window===i||i.self===i)&&(r=i);var s,a=2147483647,f=36,l=1,c=26,p=38,u=700,y=72,h=128,d="-",_=/^xn--/,R=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},$=f-l,A=Math.floor,N=String.fromCharCode,G;function k(m){throw new RangeError(v[m])}function F(m,E){for(var I=m.length,U=[];I--;)U[I]=E(m[I]);return U}function q(m,E){var I=m.split("@"),U="";I.length>1&&(U=I[0]+"@",m=I[1]),m=m.replace(g,".");var B=m.split("."),H=F(B,E).join(".");return U+H}function b(m){for(var E=[],I=0,U=m.length,B,H;I<U;)B=m.charCodeAt(I++),B>=55296&&B<=56319&&I<U?(H=m.charCodeAt(I++),(H&64512)==56320?E.push(((B&1023)<<10)+(H&1023)+65536):(E.push(B),I--)):E.push(B);return E}function w(m){return F(m,function(E){var I="";return E>65535&&(E-=65536,I+=N(E>>>10&1023|55296),E=56320|E&1023),I+=N(E),I}).join("")}function S(m){return m-48<10?m-22:m-65<26?m-65:m-97<26?m-97:f}function T(m,E){return m+22+75*(m<26)-((E!=0)<<5)}function M(m,E,I){var U=0;for(m=I?A(m/u):m>>1,m+=A(m/E);m>$*c>>1;U+=f)m=A(m/$);return A(U+($+1)*m/(m+p))}function C(m){var E=[],I=m.length,U,B=0,H=h,X=y,ne,se,ue,me,Z,ie,fe,Ee,$e;for(ne=m.lastIndexOf(d),ne<0&&(ne=0),se=0;se<ne;++se)m.charCodeAt(se)>=128&&k("not-basic"),E.push(m.charCodeAt(se));for(ue=ne>0?ne+1:0;ue<I;){for(me=B,Z=1,ie=f;ue>=I&&k("invalid-input"),fe=S(m.charCodeAt(ue++)),(fe>=f||fe>A((a-B)/Z))&&k("overflow"),B+=fe*Z,Ee=ie<=X?l:ie>=X+c?c:ie-X,!(fe<Ee);ie+=f)$e=f-Ee,Z>A(a/$e)&&k("overflow"),Z*=$e;U=E.length+1,X=M(B-me,U,me==0),A(B/U)>a-H&&k("overflow"),H+=A(B/U),B%=U,E.splice(B++,0,H)}return w(E)}function ce(m){var E,I,U,B,H,X,ne,se,ue,me,Z,ie=[],fe,Ee,$e,_r;for(m=b(m),fe=m.length,E=h,I=0,H=y,X=0;X<fe;++X)Z=m[X],Z<128&&ie.push(N(Z));for(U=B=ie.length,B&&ie.push(d);U<fe;){for(ne=a,X=0;X<fe;++X)Z=m[X],Z>=E&&Z<ne&&(ne=Z);for(Ee=U+1,ne-E>A((a-I)/Ee)&&k("overflow"),I+=(ne-E)*Ee,E=ne,X=0;X<fe;++X)if(Z=m[X],Z<E&&++I>a&&k("overflow"),Z==E){for(se=I,ue=f;me=ue<=H?l:ue>=H+c?c:ue-H,!(se<me);ue+=f)_r=se-me,$e=f-me,ie.push(N(T(me+_r%$e,0))),se=A(_r/$e);ie.push(N(T(se,0))),H=M(I,Ee,U==B),I=0,++U}++I,++E}return ie.join("")}function Be(m){return q(m,function(E){return _.test(E)?C(E.slice(4).toLowerCase()):E})}function be(m){return q(m,function(E){return R.test(E)?"xn--"+ce(E):E})}if(s={version:"1.4.1",ucs2:{decode:b,encode:w},decode:C,encode:ce,toASCII:be,toUnicode:Be},n&&o)if(t.exports==n)o.exports=s;else for(G in s)s.hasOwnProperty(G)&&(n[G]=s[G]);else r.punycode=s})(yt)})(Kt,Kt.exports);var Ki=Kt.exports,Oe=TypeError,Sn=typeof Map=="function"&&Map.prototype,Sr=Object.getOwnPropertyDescriptor&&Sn?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Yt=Sn&&Sr&&typeof Sr.get=="function"?Sr.get:null,Ln=Sn&&Map.prototype.forEach,bn=typeof Set=="function"&&Set.prototype,br=Object.getOwnPropertyDescriptor&&bn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Jt=bn&&br&&typeof br.get=="function"?br.get:null,Wn=bn&&Set.prototype.forEach,Yi=typeof WeakMap=="function"&&WeakMap.prototype,ht=Yi?WeakMap.prototype.has:null,Ji=typeof WeakSet=="function"&&WeakSet.prototype,dt=Ji?WeakSet.prototype.has:null,Qi=typeof WeakRef=="function"&&WeakRef.prototype,jn=Qi?WeakRef.prototype.deref:null,Xi=Boolean.prototype.valueOf,Zi=Object.prototype.toString,ea=Function.prototype.toString,ta=String.prototype.match,En=String.prototype.slice,Pe=String.prototype.replace,ra=String.prototype.toUpperCase,Gn=String.prototype.toLowerCase,ii=RegExp.prototype.test,qn=Array.prototype.concat,ve=Array.prototype.join,na=Array.prototype.slice,Vn=Math.floor,fn=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Er=Object.getOwnPropertySymbols,ln=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ze=typeof Symbol=="function"&&typeof Symbol.iterator=="object",ee=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ze||!0)?Symbol.toStringTag:null,ai=Object.prototype.propertyIsEnumerable,zn=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Hn(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ii.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Vn(-t):Vn(t);if(n!==t){var o=String(n),i=En.call(e,o.length+1);return Pe.call(o,r,"$&_")+"."+Pe.call(Pe.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Pe.call(e,r,"$&_")}var cn=Hi,Kn=cn.custom,Yn=li(Kn)?Kn:null,si={__proto__:null,double:'"',single:"'"},oa={__proto__:null,double:/(["\\])/g,single:/(['\\])/g},sr=function t(e,r,n,o){var i=r||{};if(ge(i,"quoteStyle")&&!ge(si,i.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ge(i,"maxStringLength")&&(typeof i.maxStringLength=="number"?i.maxStringLength<0&&i.maxStringLength!==1/0:i.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=ge(i,"customInspect")?i.customInspect:!0;if(typeof s!="boolean"&&s!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ge(i,"indent")&&i.indent!==null&&i.indent!=="	"&&!(parseInt(i.indent,10)===i.indent&&i.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ge(i,"numericSeparator")&&typeof i.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=i.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return ui(e,i);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var f=String(e);return a?Hn(e,f):f}if(typeof e=="bigint"){var l=String(e)+"n";return a?Hn(e,l):l}var c=typeof i.depth>"u"?5:i.depth;if(typeof n>"u"&&(n=0),n>=c&&c>0&&typeof e=="object")return un(e)?"[Array]":"[Object]";var p=Ea(i,n);if(typeof o>"u")o=[];else if(ci(o,e)>=0)return"[Circular]";function u(S,T,M){if(T&&(o=na.call(o),o.push(T)),M){var C={depth:i.depth};return ge(i,"quoteStyle")&&(C.quoteStyle=i.quoteStyle),t(S,C,n+1,o)}return t(S,i,n+1,o)}if(typeof e=="function"&&!Jn(e)){var y=ya(e),h=Tt(e,u);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(h.length>0?" { "+ve.call(h,", ")+" }":"")}if(li(e)){var d=Ze?Pe.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ln.call(e);return typeof e=="object"&&!Ze?it(d):d}if(_a(e)){for(var _="<"+Gn.call(String(e.nodeName)),R=e.attributes||[],g=0;g<R.length;g++)_+=" "+R[g].name+"="+fi(ia(R[g].value),"double",i);return _+=">",e.childNodes&&e.childNodes.length&&(_+="..."),_+="</"+Gn.call(String(e.nodeName))+">",_}if(un(e)){if(e.length===0)return"[]";var v=Tt(e,u);return p&&!ba(v)?"["+pn(v,p)+"]":"[ "+ve.call(v,", ")+" ]"}if(sa(e)){var $=Tt(e,u);return!("cause"in Error.prototype)&&"cause"in e&&!ai.call(e,"cause")?"{ ["+String(e)+"] "+ve.call(qn.call("[cause]: "+u(e.cause),$),", ")+" }":$.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ve.call($,", ")+" }"}if(typeof e=="object"&&s){if(Yn&&typeof e[Yn]=="function"&&cn)return cn(e,{depth:c-n});if(s!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ha(e)){var A=[];return Ln&&Ln.call(e,function(S,T){A.push(u(T,e,!0)+" => "+u(S,e))}),Qn("Map",Yt.call(e),A,p)}if(ma(e)){var N=[];return Wn&&Wn.call(e,function(S){N.push(u(S,e))}),Qn("Set",Jt.call(e),N,p)}if(da(e))return wr("WeakMap");if(ga(e))return wr("WeakSet");if(va(e))return wr("WeakRef");if(la(e))return it(u(Number(e)));if(ua(e))return it(u(fn.call(e)));if(ca(e))return it(Xi.call(e));if(fa(e))return it(u(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof yt<"u"&&e===yt)return"{ [object globalThis] }";if(!aa(e)&&!Jn(e)){var G=Tt(e,u),k=zn?zn(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",q=!k&&ee&&Object(e)===e&&ee in e?En.call(xe(e),8,-1):F?"Object":"",b=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",w=b+(q||F?"["+ve.call(qn.call([],q||[],F||[]),": ")+"] ":"");return G.length===0?w+"{}":p?w+"{"+pn(G,p)+"}":w+"{ "+ve.call(G,", ")+" }"}return String(e)};function fi(t,e,r){var n=r.quoteStyle||e,o=si[n];return o+t+o}function ia(t){return Pe.call(String(t),/"/g,"&quot;")}function un(t){return xe(t)==="[object Array]"&&(!ee||!(typeof t=="object"&&ee in t))}function aa(t){return xe(t)==="[object Date]"&&(!ee||!(typeof t=="object"&&ee in t))}function Jn(t){return xe(t)==="[object RegExp]"&&(!ee||!(typeof t=="object"&&ee in t))}function sa(t){return xe(t)==="[object Error]"&&(!ee||!(typeof t=="object"&&ee in t))}function fa(t){return xe(t)==="[object String]"&&(!ee||!(typeof t=="object"&&ee in t))}function la(t){return xe(t)==="[object Number]"&&(!ee||!(typeof t=="object"&&ee in t))}function ca(t){return xe(t)==="[object Boolean]"&&(!ee||!(typeof t=="object"&&ee in t))}function li(t){if(Ze)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ln)return!1;try{return ln.call(t),!0}catch{}return!1}function ua(t){if(!t||typeof t!="object"||!fn)return!1;try{return fn.call(t),!0}catch{}return!1}var pa=Object.prototype.hasOwnProperty||function(t){return t in this};function ge(t,e){return pa.call(t,e)}function xe(t){return Zi.call(t)}function ya(t){if(t.name)return t.name;var e=ta.call(ea.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function ci(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function ha(t){if(!Yt||!t||typeof t!="object")return!1;try{Yt.call(t);try{Jt.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function da(t){if(!ht||!t||typeof t!="object")return!1;try{ht.call(t,ht);try{dt.call(t,dt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function va(t){if(!jn||!t||typeof t!="object")return!1;try{return jn.call(t),!0}catch{}return!1}function ma(t){if(!Jt||!t||typeof t!="object")return!1;try{Jt.call(t);try{Yt.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function ga(t){if(!dt||!t||typeof t!="object")return!1;try{dt.call(t,dt);try{ht.call(t,ht)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function _a(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function ui(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return ui(En.call(t,0,e.maxStringLength),e)+n}var o=oa[e.quoteStyle||"single"];o.lastIndex=0;var i=Pe.call(Pe.call(t,o,"\\$1"),/[\x00-\x1f]/g,Sa);return fi(i,"single",e)}function Sa(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+ra.call(e.toString(16))}function it(t){return"Object("+t+")"}function wr(t){return t+" { ? }"}function Qn(t,e,r,n){var o=n?pn(r,n):ve.call(r,", ");return t+" ("+e+") {"+o+"}"}function ba(t){for(var e=0;e<t.length;e++)if(ci(t[e],`
`)>=0)return!1;return!0}function Ea(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ve.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ve.call(Array(e+1),r)}}function pn(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ve.call(t,","+r)+`
`+e.prev}function Tt(t,e){var r=un(t),n=[];if(r){n.length=t.length;for(var o=0;o<t.length;o++)n[o]=ge(t,o)?e(t[o],t):""}var i=typeof Er=="function"?Er(t):[],s;if(Ze){s={};for(var a=0;a<i.length;a++)s["$"+i[a]]=i[a]}for(var f in t)ge(t,f)&&(r&&String(Number(f))===f&&f<t.length||Ze&&s["$"+f]instanceof Symbol||(ii.call(/[^\w$]/,f)?n.push(e(f,t)+": "+e(t[f],t)):n.push(f+": "+e(t[f],t))));if(typeof Er=="function")for(var l=0;l<i.length;l++)ai.call(t,i[l])&&n.push("["+e(i[l])+"]: "+e(t[i[l]],t));return n}var wa=sr,Aa=Oe,fr=function(t,e,r){for(var n=t,o;(o=n.next)!=null;n=o)if(o.key===e)return n.next=o.next,r||(o.next=t.next,t.next=o),o},Pa=function(t,e){if(t){var r=fr(t,e);return r&&r.value}},Oa=function(t,e,r){var n=fr(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},xa=function(t,e){return t?!!fr(t,e):!1},$a=function(t,e){if(t)return fr(t,e,!0)},Ia=function(){var e,r={assert:function(n){if(!r.has(n))throw new Aa("Side channel does not contain "+wa(n))},delete:function(n){var o=e&&e.next,i=$a(e,n);return i&&o&&o===i&&(e=void 0),!!i},get:function(n){return Pa(e,n)},has:function(n){return xa(e,n)},set:function(n,o){e||(e={next:void 0}),Oa(e,n,o)}};return r},lr=Object,wn=Error,An=EvalError,Pn=RangeError,On=ReferenceError,xn=SyntaxError,$n=URIError,In=Math.abs,Rn=Math.floor,Tn=Math.max,Cn=Math.min,Nn=Math.pow,kn=Math.round,Ra=Number.isNaN||function(e){return e!==e},Ta=Ra,Fn=function(e){return Ta(e)||e===0?e:e<0?-1:1},Ca=Object.getOwnPropertyDescriptor,Bt=Ca;if(Bt)try{Bt([],"length")}catch{Bt=null}var Na=Bt,Lt=Object.defineProperty||!1;if(Lt)try{Lt({},"a",{value:1})}catch{Lt=!1}var ka=Lt,Ar,Xn;function Fa(){return Xn||(Xn=1,Ar=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}),Ar}var Pr,Zn;function Ua(){if(Zn)return Pr;Zn=1;var t=typeof Symbol<"u"&&Symbol,e=Fa();return Pr=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Pr}var Or,eo;function cr(){return eo||(eo=1,Or=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Or}var xr,to;function ur(){if(to)return xr;to=1;var t=lr;return xr=t.getPrototypeOf||null,xr}var $r,ro;function Da(){if(ro)return $r;ro=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",o=function(f,l){for(var c=[],p=0;p<f.length;p+=1)c[p]=f[p];for(var u=0;u<l.length;u+=1)c[u+f.length]=l[u];return c},i=function(f,l){for(var c=[],p=l,u=0;p<f.length;p+=1,u+=1)c[u]=f[p];return c},s=function(a,f){for(var l="",c=0;c<a.length;c+=1)l+=a[c],c+1<a.length&&(l+=f);return l};return $r=function(f){var l=this;if(typeof l!="function"||e.apply(l)!==n)throw new TypeError(t+l);for(var c=i(arguments,1),p,u=function(){if(this instanceof p){var R=l.apply(this,o(c,arguments));return Object(R)===R?R:this}return l.apply(f,o(c,arguments))},y=r(0,l.length-c.length),h=[],d=0;d<y;d++)h[d]="$"+d;if(p=Function("binder","return function ("+s(h,",")+"){ return binder.apply(this,arguments); }")(u),l.prototype){var _=function(){};_.prototype=l.prototype,p.prototype=new _,_.prototype=null}return p},$r}var Ir,no;function ot(){if(no)return Ir;no=1;var t=Da();return Ir=Function.prototype.bind||t,Ir}var Rr,oo;function St(){return oo||(oo=1,Rr=Function.prototype.call),Rr}var Tr,io;function pr(){return io||(io=1,Tr=Function.prototype.apply),Tr}var Ma=typeof Reflect<"u"&&Reflect&&Reflect.apply,Ba=ot(),La=pr(),Wa=St(),ja=Ma,Ga=ja||Ba.call(Wa,La),qa=ot(),Va=Oe,za=St(),Ha=Ga,pi=function(e){if(e.length<1||typeof e[0]!="function")throw new Va("a function is required");return Ha(qa,za,e)},Cr,ao;function Ka(){return ao||(ao=1,Cr=Object.getOwnPropertyDescriptor),Cr}var Nr,so;function Ya(){if(so)return Nr;so=1;var t=Ka();if(t)try{t([],"length")}catch{t=null}return Nr=t,Nr}var kr,fo;function Ja(){if(fo)return kr;fo=1;var t=pi,e=Ya(),r;try{r=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var n=!!r&&e&&e(Object.prototype,"__proto__"),o=Object,i=o.getPrototypeOf;return kr=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?function(a){return i(a==null?a:o(a))}:!1,kr}var Fr,lo;function Un(){if(lo)return Fr;lo=1;var t=cr(),e=ur(),r=Ja();return Fr=t?function(o){return t(o)}:e?function(o){if(!o||typeof o!="object"&&typeof o!="function")throw new TypeError("getProto: not an object");return e(o)}:r?function(o){return r(o)}:null,Fr}var Ur,co;function Dn(){if(co)return Ur;co=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=ot();return Ur=r.call(t,e),Ur}var P,Qa=lr,Xa=wn,Za=An,es=Pn,ts=On,et=xn,Ye=Oe,rs=$n,ns=In,os=Rn,is=Tn,as=Cn,ss=Nn,fs=kn,ls=Fn,yi=Function,Dr=function(t){try{return yi('"use strict"; return ('+t+").constructor;")()}catch{}},mt=Na,cs=ka,Mr=function(){throw new Ye},us=mt?function(){try{return arguments.callee,Mr}catch{try{return mt(arguments,"callee").get}catch{return Mr}}}():Mr,Le=Ua()(),Y=Un(),ps=ur(),ys=cr(),hi=pr(),bt=St(),Ve={},hs=typeof Uint8Array>"u"||!Y?P:Y(Uint8Array),Ne={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?P:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?P:ArrayBuffer,"%ArrayIteratorPrototype%":Le&&Y?Y([][Symbol.iterator]()):P,"%AsyncFromSyncIteratorPrototype%":P,"%AsyncFunction%":Ve,"%AsyncGenerator%":Ve,"%AsyncGeneratorFunction%":Ve,"%AsyncIteratorPrototype%":Ve,"%Atomics%":typeof Atomics>"u"?P:Atomics,"%BigInt%":typeof BigInt>"u"?P:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?P:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?P:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?P:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Xa,"%eval%":eval,"%EvalError%":Za,"%Float32Array%":typeof Float32Array>"u"?P:Float32Array,"%Float64Array%":typeof Float64Array>"u"?P:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?P:FinalizationRegistry,"%Function%":yi,"%GeneratorFunction%":Ve,"%Int8Array%":typeof Int8Array>"u"?P:Int8Array,"%Int16Array%":typeof Int16Array>"u"?P:Int16Array,"%Int32Array%":typeof Int32Array>"u"?P:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Le&&Y?Y(Y([][Symbol.iterator]())):P,"%JSON%":typeof JSON=="object"?JSON:P,"%Map%":typeof Map>"u"?P:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Le||!Y?P:Y(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Qa,"%Object.getOwnPropertyDescriptor%":mt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?P:Promise,"%Proxy%":typeof Proxy>"u"?P:Proxy,"%RangeError%":es,"%ReferenceError%":ts,"%Reflect%":typeof Reflect>"u"?P:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?P:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Le||!Y?P:Y(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?P:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Le&&Y?Y(""[Symbol.iterator]()):P,"%Symbol%":Le?Symbol:P,"%SyntaxError%":et,"%ThrowTypeError%":us,"%TypedArray%":hs,"%TypeError%":Ye,"%Uint8Array%":typeof Uint8Array>"u"?P:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?P:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?P:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?P:Uint32Array,"%URIError%":rs,"%WeakMap%":typeof WeakMap>"u"?P:WeakMap,"%WeakRef%":typeof WeakRef>"u"?P:WeakRef,"%WeakSet%":typeof WeakSet>"u"?P:WeakSet,"%Function.prototype.call%":bt,"%Function.prototype.apply%":hi,"%Object.defineProperty%":cs,"%Object.getPrototypeOf%":ps,"%Math.abs%":ns,"%Math.floor%":os,"%Math.max%":is,"%Math.min%":as,"%Math.pow%":ss,"%Math.round%":fs,"%Math.sign%":ls,"%Reflect.getPrototypeOf%":ys};if(Y)try{null.error}catch(t){var ds=Y(Y(t));Ne["%Error.prototype%"]=ds}var vs=function t(e){var r;if(e==="%AsyncFunction%")r=Dr("async function () {}");else if(e==="%GeneratorFunction%")r=Dr("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Dr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Y&&(r=Y(o.prototype))}return Ne[e]=r,r},uo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Et=ot(),Qt=Dn(),ms=Et.call(bt,Array.prototype.concat),gs=Et.call(hi,Array.prototype.splice),po=Et.call(bt,String.prototype.replace),Xt=Et.call(bt,String.prototype.slice),_s=Et.call(bt,RegExp.prototype.exec),Ss=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,bs=/\\(\\)?/g,Es=function(e){var r=Xt(e,0,1),n=Xt(e,-1);if(r==="%"&&n!=="%")throw new et("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new et("invalid intrinsic syntax, expected opening `%`");var o=[];return po(e,Ss,function(i,s,a,f){o[o.length]=a?po(f,bs,"$1"):s||i}),o},ws=function(e,r){var n=e,o;if(Qt(uo,n)&&(o=uo[n],n="%"+o[0]+"%"),Qt(Ne,n)){var i=Ne[n];if(i===Ve&&(i=vs(n)),typeof i>"u"&&!r)throw new Ye("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new et("intrinsic "+e+" does not exist!")},As=function(e,r){if(typeof e!="string"||e.length===0)throw new Ye("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Ye('"allowMissing" argument must be a boolean');if(_s(/^%?[^%]*%?$/,e)===null)throw new et("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=Es(e),o=n.length>0?n[0]:"",i=ws("%"+o+"%",r),s=i.name,a=i.value,f=!1,l=i.alias;l&&(o=l[0],gs(n,ms([0,1],l)));for(var c=1,p=!0;c<n.length;c+=1){var u=n[c],y=Xt(u,0,1),h=Xt(u,-1);if((y==='"'||y==="'"||y==="`"||h==='"'||h==="'"||h==="`")&&y!==h)throw new et("property names with quotes must have matching quotes");if((u==="constructor"||!p)&&(f=!0),o+="."+u,s="%"+o+"%",Qt(Ne,s))a=Ne[s];else if(a!=null){if(!(u in a)){if(!r)throw new Ye("base intrinsic for "+e+" exists, but the property is not available.");return}if(mt&&c+1>=n.length){var d=mt(a,u);p=!!d,p&&"get"in d&&!("originalValue"in d.get)?a=d.get:a=a[u]}else p=Qt(a,u),a=a[u];p&&!f&&(Ne[s]=a)}}return a},Ps=Object.getOwnPropertyDescriptor,Wt=Ps;if(Wt)try{Wt([],"length")}catch{Wt=null}var Os=Wt,jt=Object.defineProperty||!1;if(jt)try{jt({},"a",{value:1})}catch{jt=!1}var xs=jt,Br,yo;function $s(){return yo||(yo=1,Br=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}),Br}var Lr,ho;function Is(){if(ho)return Lr;ho=1;var t=typeof Symbol<"u"&&Symbol,e=$s();return Lr=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Lr}var O,Rs=lr,Ts=wn,Cs=An,Ns=Pn,ks=On,tt=xn,Je=Oe,Fs=$n,Us=In,Ds=Rn,Ms=Tn,Bs=Cn,Ls=Nn,Ws=kn,js=Fn,di=Function,Wr=function(t){try{return di('"use strict"; return ('+t+").constructor;")()}catch{}},gt=Os,Gs=xs,jr=function(){throw new Je},qs=gt?function(){try{return arguments.callee,jr}catch{try{return gt(arguments,"callee").get}catch{return jr}}}():jr,We=Is()(),J=Un(),Vs=ur(),zs=cr(),vi=pr(),wt=St(),ze={},Hs=typeof Uint8Array>"u"||!J?O:J(Uint8Array),ke={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?O:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?O:ArrayBuffer,"%ArrayIteratorPrototype%":We&&J?J([][Symbol.iterator]()):O,"%AsyncFromSyncIteratorPrototype%":O,"%AsyncFunction%":ze,"%AsyncGenerator%":ze,"%AsyncGeneratorFunction%":ze,"%AsyncIteratorPrototype%":ze,"%Atomics%":typeof Atomics>"u"?O:Atomics,"%BigInt%":typeof BigInt>"u"?O:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?O:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?O:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?O:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Ts,"%eval%":eval,"%EvalError%":Cs,"%Float32Array%":typeof Float32Array>"u"?O:Float32Array,"%Float64Array%":typeof Float64Array>"u"?O:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?O:FinalizationRegistry,"%Function%":di,"%GeneratorFunction%":ze,"%Int8Array%":typeof Int8Array>"u"?O:Int8Array,"%Int16Array%":typeof Int16Array>"u"?O:Int16Array,"%Int32Array%":typeof Int32Array>"u"?O:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":We&&J?J(J([][Symbol.iterator]())):O,"%JSON%":typeof JSON=="object"?JSON:O,"%Map%":typeof Map>"u"?O:Map,"%MapIteratorPrototype%":typeof Map>"u"||!We||!J?O:J(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Rs,"%Object.getOwnPropertyDescriptor%":gt,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?O:Promise,"%Proxy%":typeof Proxy>"u"?O:Proxy,"%RangeError%":Ns,"%ReferenceError%":ks,"%Reflect%":typeof Reflect>"u"?O:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?O:Set,"%SetIteratorPrototype%":typeof Set>"u"||!We||!J?O:J(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?O:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":We&&J?J(""[Symbol.iterator]()):O,"%Symbol%":We?Symbol:O,"%SyntaxError%":tt,"%ThrowTypeError%":qs,"%TypedArray%":Hs,"%TypeError%":Je,"%Uint8Array%":typeof Uint8Array>"u"?O:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?O:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?O:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?O:Uint32Array,"%URIError%":Fs,"%WeakMap%":typeof WeakMap>"u"?O:WeakMap,"%WeakRef%":typeof WeakRef>"u"?O:WeakRef,"%WeakSet%":typeof WeakSet>"u"?O:WeakSet,"%Function.prototype.call%":wt,"%Function.prototype.apply%":vi,"%Object.defineProperty%":Gs,"%Object.getPrototypeOf%":Vs,"%Math.abs%":Us,"%Math.floor%":Ds,"%Math.max%":Ms,"%Math.min%":Bs,"%Math.pow%":Ls,"%Math.round%":Ws,"%Math.sign%":js,"%Reflect.getPrototypeOf%":zs};if(J)try{null.error}catch(t){var Ks=J(J(t));ke["%Error.prototype%"]=Ks}var Ys=function t(e){var r;if(e==="%AsyncFunction%")r=Wr("async function () {}");else if(e==="%GeneratorFunction%")r=Wr("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Wr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&J&&(r=J(o.prototype))}return ke[e]=r,r},vo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},At=ot(),Zt=Dn(),Js=At.call(wt,Array.prototype.concat),Qs=At.call(vi,Array.prototype.splice),mo=At.call(wt,String.prototype.replace),er=At.call(wt,String.prototype.slice),Xs=At.call(wt,RegExp.prototype.exec),Zs=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ef=/\\(\\)?/g,tf=function(e){var r=er(e,0,1),n=er(e,-1);if(r==="%"&&n!=="%")throw new tt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new tt("invalid intrinsic syntax, expected opening `%`");var o=[];return mo(e,Zs,function(i,s,a,f){o[o.length]=a?mo(f,ef,"$1"):s||i}),o},rf=function(e,r){var n=e,o;if(Zt(vo,n)&&(o=vo[n],n="%"+o[0]+"%"),Zt(ke,n)){var i=ke[n];if(i===ze&&(i=Ys(n)),typeof i>"u"&&!r)throw new Je("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new tt("intrinsic "+e+" does not exist!")},nf=function(e,r){if(typeof e!="string"||e.length===0)throw new Je("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Je('"allowMissing" argument must be a boolean');if(Xs(/^%?[^%]*%?$/,e)===null)throw new tt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=tf(e),o=n.length>0?n[0]:"",i=rf("%"+o+"%",r),s=i.name,a=i.value,f=!1,l=i.alias;l&&(o=l[0],Qs(n,Js([0,1],l)));for(var c=1,p=!0;c<n.length;c+=1){var u=n[c],y=er(u,0,1),h=er(u,-1);if((y==='"'||y==="'"||y==="`"||h==='"'||h==="'"||h==="`")&&y!==h)throw new tt("property names with quotes must have matching quotes");if((u==="constructor"||!p)&&(f=!0),o+="."+u,s="%"+o+"%",Zt(ke,s))a=ke[s];else if(a!=null){if(!(u in a)){if(!r)throw new Je("base intrinsic for "+e+" exists, but the property is not available.");return}if(gt&&c+1>=n.length){var d=gt(a,u);p=!!d,p&&"get"in d&&!("originalValue"in d.get)?a=d.get:a=a[u]}else p=Zt(a,u),a=a[u];p&&!f&&(ke[s]=a)}}return a},mi=nf,gi=pi,of=gi([mi("%String.prototype.indexOf%")]),_i=function(e,r){var n=mi(e,!!r);return typeof n=="function"&&of(e,".prototype.")>-1?gi([n]):n},af=As,Pt=_i,sf=sr,ff=Oe,go=af("%Map%",!0),lf=Pt("Map.prototype.get",!0),cf=Pt("Map.prototype.set",!0),uf=Pt("Map.prototype.has",!0),pf=Pt("Map.prototype.delete",!0),yf=Pt("Map.prototype.size",!0),Si=!!go&&function(){var e,r={assert:function(n){if(!r.has(n))throw new ff("Side channel does not contain "+sf(n))},delete:function(n){if(e){var o=pf(e,n);return yf(e)===0&&(e=void 0),o}return!1},get:function(n){if(e)return lf(e,n)},has:function(n){return e?uf(e,n):!1},set:function(n,o){e||(e=new go),cf(e,n,o)}};return r},hf=Object.getOwnPropertyDescriptor,Gt=hf;if(Gt)try{Gt([],"length")}catch{Gt=null}var df=Gt,qt=Object.defineProperty||!1;if(qt)try{qt({},"a",{value:1})}catch{qt=!1}var vf=qt,Gr,_o;function mf(){return _o||(_o=1,Gr=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var o=42;e[r]=o;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,r);if(a.value!==o||a.enumerable!==!0)return!1}return!0}),Gr}var qr,So;function gf(){if(So)return qr;So=1;var t=typeof Symbol<"u"&&Symbol,e=mf();return qr=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},qr}var x,_f=lr,Sf=wn,bf=An,Ef=Pn,wf=On,rt=xn,Qe=Oe,Af=$n,Pf=In,Of=Rn,xf=Tn,$f=Cn,If=Nn,Rf=kn,Tf=Fn,bi=Function,Vr=function(t){try{return bi('"use strict"; return ('+t+").constructor;")()}catch{}},_t=df,Cf=vf,zr=function(){throw new Qe},Nf=_t?function(){try{return arguments.callee,zr}catch{try{return _t(arguments,"callee").get}catch{return zr}}}():zr,je=gf()(),Q=Un(),kf=ur(),Ff=cr(),Ei=pr(),Ot=St(),He={},Uf=typeof Uint8Array>"u"||!Q?x:Q(Uint8Array),Fe={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?x:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?x:ArrayBuffer,"%ArrayIteratorPrototype%":je&&Q?Q([][Symbol.iterator]()):x,"%AsyncFromSyncIteratorPrototype%":x,"%AsyncFunction%":He,"%AsyncGenerator%":He,"%AsyncGeneratorFunction%":He,"%AsyncIteratorPrototype%":He,"%Atomics%":typeof Atomics>"u"?x:Atomics,"%BigInt%":typeof BigInt>"u"?x:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?x:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?x:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?x:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Sf,"%eval%":eval,"%EvalError%":bf,"%Float32Array%":typeof Float32Array>"u"?x:Float32Array,"%Float64Array%":typeof Float64Array>"u"?x:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?x:FinalizationRegistry,"%Function%":bi,"%GeneratorFunction%":He,"%Int8Array%":typeof Int8Array>"u"?x:Int8Array,"%Int16Array%":typeof Int16Array>"u"?x:Int16Array,"%Int32Array%":typeof Int32Array>"u"?x:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":je&&Q?Q(Q([][Symbol.iterator]())):x,"%JSON%":typeof JSON=="object"?JSON:x,"%Map%":typeof Map>"u"?x:Map,"%MapIteratorPrototype%":typeof Map>"u"||!je||!Q?x:Q(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":_f,"%Object.getOwnPropertyDescriptor%":_t,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?x:Promise,"%Proxy%":typeof Proxy>"u"?x:Proxy,"%RangeError%":Ef,"%ReferenceError%":wf,"%Reflect%":typeof Reflect>"u"?x:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?x:Set,"%SetIteratorPrototype%":typeof Set>"u"||!je||!Q?x:Q(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?x:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":je&&Q?Q(""[Symbol.iterator]()):x,"%Symbol%":je?Symbol:x,"%SyntaxError%":rt,"%ThrowTypeError%":Nf,"%TypedArray%":Uf,"%TypeError%":Qe,"%Uint8Array%":typeof Uint8Array>"u"?x:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?x:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?x:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?x:Uint32Array,"%URIError%":Af,"%WeakMap%":typeof WeakMap>"u"?x:WeakMap,"%WeakRef%":typeof WeakRef>"u"?x:WeakRef,"%WeakSet%":typeof WeakSet>"u"?x:WeakSet,"%Function.prototype.call%":Ot,"%Function.prototype.apply%":Ei,"%Object.defineProperty%":Cf,"%Object.getPrototypeOf%":kf,"%Math.abs%":Pf,"%Math.floor%":Of,"%Math.max%":xf,"%Math.min%":$f,"%Math.pow%":If,"%Math.round%":Rf,"%Math.sign%":Tf,"%Reflect.getPrototypeOf%":Ff};if(Q)try{null.error}catch(t){var Df=Q(Q(t));Fe["%Error.prototype%"]=Df}var Mf=function t(e){var r;if(e==="%AsyncFunction%")r=Vr("async function () {}");else if(e==="%GeneratorFunction%")r=Vr("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Vr("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var o=t("%AsyncGenerator%");o&&Q&&(r=Q(o.prototype))}return Fe[e]=r,r},bo={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xt=ot(),tr=Dn(),Bf=xt.call(Ot,Array.prototype.concat),Lf=xt.call(Ei,Array.prototype.splice),Eo=xt.call(Ot,String.prototype.replace),rr=xt.call(Ot,String.prototype.slice),Wf=xt.call(Ot,RegExp.prototype.exec),jf=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Gf=/\\(\\)?/g,qf=function(e){var r=rr(e,0,1),n=rr(e,-1);if(r==="%"&&n!=="%")throw new rt("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new rt("invalid intrinsic syntax, expected opening `%`");var o=[];return Eo(e,jf,function(i,s,a,f){o[o.length]=a?Eo(f,Gf,"$1"):s||i}),o},Vf=function(e,r){var n=e,o;if(tr(bo,n)&&(o=bo[n],n="%"+o[0]+"%"),tr(Fe,n)){var i=Fe[n];if(i===He&&(i=Mf(n)),typeof i>"u"&&!r)throw new Qe("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:o,name:n,value:i}}throw new rt("intrinsic "+e+" does not exist!")},zf=function(e,r){if(typeof e!="string"||e.length===0)throw new Qe("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new Qe('"allowMissing" argument must be a boolean');if(Wf(/^%?[^%]*%?$/,e)===null)throw new rt("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=qf(e),o=n.length>0?n[0]:"",i=Vf("%"+o+"%",r),s=i.name,a=i.value,f=!1,l=i.alias;l&&(o=l[0],Lf(n,Bf([0,1],l)));for(var c=1,p=!0;c<n.length;c+=1){var u=n[c],y=rr(u,0,1),h=rr(u,-1);if((y==='"'||y==="'"||y==="`"||h==='"'||h==="'"||h==="`")&&y!==h)throw new rt("property names with quotes must have matching quotes");if((u==="constructor"||!p)&&(f=!0),o+="."+u,s="%"+o+"%",tr(Fe,s))a=Fe[s];else if(a!=null){if(!(u in a)){if(!r)throw new Qe("base intrinsic for "+e+" exists, but the property is not available.");return}if(_t&&c+1>=n.length){var d=_t(a,u);p=!!d,p&&"get"in d&&!("originalValue"in d.get)?a=d.get:a=a[u]}else p=tr(a,u),a=a[u];p&&!f&&(Fe[s]=a)}}return a},Hf=zf,yr=_i,Kf=sr,Ct=Si,Yf=Oe,Ge=Hf("%WeakMap%",!0),Jf=yr("WeakMap.prototype.get",!0),Qf=yr("WeakMap.prototype.set",!0),Xf=yr("WeakMap.prototype.has",!0),Zf=yr("WeakMap.prototype.delete",!0),el=Ge?function(){var e,r,n={assert:function(o){if(!n.has(o))throw new Yf("Side channel does not contain "+Kf(o))},delete:function(o){if(Ge&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Zf(e,o)}else if(Ct&&r)return r.delete(o);return!1},get:function(o){return Ge&&o&&(typeof o=="object"||typeof o=="function")&&e?Jf(e,o):r&&r.get(o)},has:function(o){return Ge&&o&&(typeof o=="object"||typeof o=="function")&&e?Xf(e,o):!!r&&r.has(o)},set:function(o,i){Ge&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Ge),Qf(e,o,i)):Ct&&(r||(r=Ct()),r.set(o,i))}};return n}:Ct,tl=Oe,rl=sr,nl=Ia,ol=Si,il=el,al=il||ol||nl,sl=function(){var e,r={assert:function(n){if(!r.has(n))throw new tl("Side channel does not contain "+rl(n))},delete:function(n){return!!e&&e.delete(n)},get:function(n){return e&&e.get(n)},has:function(n){return!!e&&e.has(n)},set:function(n,o){e||(e=al()),e.set(n,o)}};return r},fl=String.prototype.replace,ll=/%20/g,Hr={RFC1738:"RFC1738",RFC3986:"RFC3986"},Mn={default:Hr.RFC3986,formatters:{RFC1738:function(t){return fl.call(t,ll,"+")},RFC3986:function(t){return String(t)}},RFC1738:Hr.RFC1738,RFC3986:Hr.RFC3986},cl=Mn,Kr=Object.prototype.hasOwnProperty,Ce=Array.isArray,pe=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ul=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(Ce(n)){for(var o=[],i=0;i<n.length;++i)typeof n[i]<"u"&&o.push(n[i]);r.obj[r.prop]=o}}},wi=function(e,r){for(var n=r&&r.plainObjects?{__proto__:null}:{},o=0;o<e.length;++o)typeof e[o]<"u"&&(n[o]=e[o]);return n},pl=function t(e,r,n){if(!r)return e;if(typeof r!="object"&&typeof r!="function"){if(Ce(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Kr.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var o=e;return Ce(e)&&!Ce(r)&&(o=wi(e,n)),Ce(e)&&Ce(r)?(r.forEach(function(i,s){if(Kr.call(e,s)){var a=e[s];a&&typeof a=="object"&&i&&typeof i=="object"?e[s]=t(a,i,n):e.push(i)}else e[s]=i}),e):Object.keys(r).reduce(function(i,s){var a=r[s];return Kr.call(i,s)?i[s]=t(i[s],a,n):i[s]=a,i},o)},yl=function(e,r){return Object.keys(r).reduce(function(n,o){return n[o]=r[o],n},e)},hl=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},Yr=1024,dl=function(e,r,n,o,i){if(e.length===0)return e;var s=e;if(typeof e=="symbol"?s=Symbol.prototype.toString.call(e):typeof e!="string"&&(s=String(e)),n==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(y){return"%26%23"+parseInt(y.slice(2),16)+"%3B"});for(var a="",f=0;f<s.length;f+=Yr){for(var l=s.length>=Yr?s.slice(f,f+Yr):s,c=[],p=0;p<l.length;++p){var u=l.charCodeAt(p);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===cl.RFC1738&&(u===40||u===41)){c[c.length]=l.charAt(p);continue}if(u<128){c[c.length]=pe[u];continue}if(u<2048){c[c.length]=pe[192|u>>6]+pe[128|u&63];continue}if(u<55296||u>=57344){c[c.length]=pe[224|u>>12]+pe[128|u>>6&63]+pe[128|u&63];continue}p+=1,u=65536+((u&1023)<<10|l.charCodeAt(p)&1023),c[c.length]=pe[240|u>>18]+pe[128|u>>12&63]+pe[128|u>>6&63]+pe[128|u&63]}a+=c.join("")}return a},vl=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],o=0;o<r.length;++o)for(var i=r[o],s=i.obj[i.prop],a=Object.keys(s),f=0;f<a.length;++f){var l=a[f],c=s[l];typeof c=="object"&&c!==null&&n.indexOf(c)===-1&&(r.push({obj:s,prop:l}),n.push(c))}return ul(r),e},ml=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},gl=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},_l=function(e,r){return[].concat(e,r)},Sl=function(e,r){if(Ce(e)){for(var n=[],o=0;o<e.length;o+=1)n.push(r(e[o]));return n}return r(e)},Ai={arrayToObject:wi,assign:yl,combine:_l,compact:vl,decode:hl,encode:dl,isBuffer:gl,isRegExp:ml,maybeMap:Sl,merge:pl},Pi=sl,Vt=Ai,vt=Mn,bl=Object.prototype.hasOwnProperty,Oi={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},de=Array.isArray,El=Array.prototype.push,xi=function(t,e){El.apply(t,de(e)?e:[e])},wl=Date.prototype.toISOString,wo=vt.default,V={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Vt.encode,encodeValuesOnly:!1,filter:void 0,format:wo,formatter:vt.formatters[wo],indices:!1,serializeDate:function(e){return wl.call(e)},skipNulls:!1,strictNullHandling:!1},Al=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},Jr={},Pl=function t(e,r,n,o,i,s,a,f,l,c,p,u,y,h,d,_,R,g){for(var v=e,$=g,A=0,N=!1;($=$.get(Jr))!==void 0&&!N;){var G=$.get(e);if(A+=1,typeof G<"u"){if(G===A)throw new RangeError("Cyclic object value");N=!0}typeof $.get(Jr)>"u"&&(A=0)}if(typeof c=="function"?v=c(r,v):v instanceof Date?v=y(v):n==="comma"&&de(v)&&(v=Vt.maybeMap(v,function(m){return m instanceof Date?y(m):m})),v===null){if(s)return l&&!_?l(r,V.encoder,R,"key",h):r;v=""}if(Al(v)||Vt.isBuffer(v)){if(l){var k=_?r:l(r,V.encoder,R,"key",h);return[d(k)+"="+d(l(v,V.encoder,R,"value",h))]}return[d(r)+"="+d(String(v))]}var F=[];if(typeof v>"u")return F;var q;if(n==="comma"&&de(v))_&&l&&(v=Vt.maybeMap(v,l)),q=[{value:v.length>0?v.join(",")||null:void 0}];else if(de(c))q=c;else{var b=Object.keys(v);q=p?b.sort(p):b}var w=f?String(r).replace(/\./g,"%2E"):String(r),S=o&&de(v)&&v.length===1?w+"[]":w;if(i&&de(v)&&v.length===0)return S+"[]";for(var T=0;T<q.length;++T){var M=q[T],C=typeof M=="object"&&M&&typeof M.value<"u"?M.value:v[M];if(!(a&&C===null)){var ce=u&&f?String(M).replace(/\./g,"%2E"):String(M),Be=de(v)?typeof n=="function"?n(S,ce):S:S+(u?"."+ce:"["+ce+"]");g.set(e,A);var be=Pi();be.set(Jr,g),xi(F,t(C,Be,n,o,i,s,a,f,n==="comma"&&_&&de(v)?null:l,c,p,u,y,h,d,_,R,be))}}return F},Ol=function(e){if(!e)return V;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||V.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=vt.default;if(typeof e.format<"u"){if(!bl.call(vt.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var o=vt.formatters[n],i=V.filter;(typeof e.filter=="function"||de(e.filter))&&(i=e.filter);var s;if(e.arrayFormat in Oi?s=e.arrayFormat:"indices"in e?s=e.indices?"indices":"repeat":s=V.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var a=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:V.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:V.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:V.allowEmptyArrays,arrayFormat:s,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:V.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?V.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:V.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:V.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:V.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:V.encodeValuesOnly,filter:i,format:n,formatter:o,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:V.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:V.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:V.strictNullHandling}},xl=function(t,e){var r=t,n=Ol(e),o,i;typeof n.filter=="function"?(i=n.filter,r=i("",r)):de(n.filter)&&(i=n.filter,o=i);var s=[];if(typeof r!="object"||r===null)return"";var a=Oi[n.arrayFormat],f=a==="comma"&&n.commaRoundTrip;o||(o=Object.keys(r)),n.sort&&o.sort(n.sort);for(var l=Pi(),c=0;c<o.length;++c){var p=o[c],u=r[p];n.skipNulls&&u===null||xi(s,Pl(u,p,a,f,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var y=s.join(n.delimiter),h=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?h+="utf8=%26%2310003%3B&":h+="utf8=%E2%9C%93&"),y.length>0?h+y:""},Ue=Ai,yn=Object.prototype.hasOwnProperty,Ao=Array.isArray,W={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ue.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},$l=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},$i=function(t,e,r){if(t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1)return t.split(",");if(e.throwOnLimitExceeded&&r>=e.arrayLimit)throw new RangeError("Array limit exceeded. Only "+e.arrayLimit+" element"+(e.arrayLimit===1?"":"s")+" allowed in an array.");return t},Il="utf8=%26%2310003%3B",Rl="utf8=%E2%9C%93",Tl=function(e,r){var n={__proto__:null},o=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;o=o.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var i=r.parameterLimit===1/0?void 0:r.parameterLimit,s=o.split(r.delimiter,r.throwOnLimitExceeded?i+1:i);if(r.throwOnLimitExceeded&&s.length>i)throw new RangeError("Parameter limit exceeded. Only "+i+" parameter"+(i===1?"":"s")+" allowed.");var a=-1,f,l=r.charset;if(r.charsetSentinel)for(f=0;f<s.length;++f)s[f].indexOf("utf8=")===0&&(s[f]===Rl?l="utf-8":s[f]===Il&&(l="iso-8859-1"),a=f,f=s.length);for(f=0;f<s.length;++f)if(f!==a){var c=s[f],p=c.indexOf("]="),u=p===-1?c.indexOf("="):p+1,y,h;u===-1?(y=r.decoder(c,W.decoder,l,"key"),h=r.strictNullHandling?null:""):(y=r.decoder(c.slice(0,u),W.decoder,l,"key"),h=Ue.maybeMap($i(c.slice(u+1),r,Ao(n[y])?n[y].length:0),function(_){return r.decoder(_,W.decoder,l,"value")})),h&&r.interpretNumericEntities&&l==="iso-8859-1"&&(h=$l(String(h))),c.indexOf("[]=")>-1&&(h=Ao(h)?[h]:h);var d=yn.call(n,y);d&&r.duplicates==="combine"?n[y]=Ue.combine(n[y],h):(!d||r.duplicates==="last")&&(n[y]=h)}return n},Cl=function(t,e,r,n){var o=0;if(t.length>0&&t[t.length-1]==="[]"){var i=t.slice(0,-1).join("");o=Array.isArray(e)&&e[i]?e[i].length:0}for(var s=n?e:$i(e,r,o),a=t.length-1;a>=0;--a){var f,l=t[a];if(l==="[]"&&r.parseArrays)f=r.allowEmptyArrays&&(s===""||r.strictNullHandling&&s===null)?[]:Ue.combine([],s);else{f=r.plainObjects?{__proto__:null}:{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,p=r.decodeDotInKeys?c.replace(/%2E/g,"."):c,u=parseInt(p,10);!r.parseArrays&&p===""?f={0:s}:!isNaN(u)&&l!==p&&String(u)===p&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(f=[],f[u]=s):p!=="__proto__"&&(f[p]=s)}s=f}return s},Nl=function(e,r,n,o){if(e){var i=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,a=/(\[[^[\]]*])/g,f=n.depth>0&&s.exec(i),l=f?i.slice(0,f.index):i,c=[];if(l){if(!n.plainObjects&&yn.call(Object.prototype,l)&&!n.allowPrototypes)return;c.push(l)}for(var p=0;n.depth>0&&(f=a.exec(i))!==null&&p<n.depth;){if(p+=1,!n.plainObjects&&yn.call(Object.prototype,f[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(f[1])}if(f){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");c.push("["+i.slice(f.index)+"]")}return Cl(c,r,n,o)}},kl=function(e){if(!e)return W;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof e.throwOnLimitExceeded<"u"&&typeof e.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var r=typeof e.charset>"u"?W.charset:e.charset,n=typeof e.duplicates>"u"?W.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var o=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:W.allowDots:!!e.allowDots;return{allowDots:o,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:W.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:W.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:W.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:W.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:W.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:W.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:W.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:W.decoder,delimiter:typeof e.delimiter=="string"||Ue.isRegExp(e.delimiter)?e.delimiter:W.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:W.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:W.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:W.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:W.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:W.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:W.strictNullHandling,throwOnLimitExceeded:typeof e.throwOnLimitExceeded=="boolean"?e.throwOnLimitExceeded:!1}},Fl=function(t,e){var r=kl(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?{__proto__:null}:{};for(var n=typeof t=="string"?Tl(t,r):t,o=r.plainObjects?{__proto__:null}:{},i=Object.keys(n),s=0;s<i.length;++s){var a=i[s],f=Nl(a,n[a],r,typeof t=="string");o=Ue.merge(o,f,r)}return r.allowSparse===!0?o:Ue.compact(o)},Ul=xl,Dl=Fl,Ml=Mn,Bl={formats:Ml,parse:Dl,stringify:Ul},Ll=Ki;function ae(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Wl=/^([a-z0-9.+-]+:)/i,jl=/:[0-9]*$/,Gl=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,ql=["<",">",'"',"`"," ","\r",`
`,"	"],Vl=["{","}","|","\\","^","`"].concat(ql),hn=["'"].concat(Vl),Po=["%","/","?",";","#"].concat(hn),Oo=["/","?","#"],zl=255,xo=/^[+a-z0-9A-Z_-]{0,63}$/,Hl=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Kl={javascript:!0,"javascript:":!0},dn={javascript:!0,"javascript:":!0},Xe={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},vn=Bl;function $t(t,e,r){if(t&&typeof t=="object"&&t instanceof ae)return t;var n=new ae;return n.parse(t,e,r),n}ae.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),o=n!==-1&&n<t.indexOf("#")?"?":"#",i=t.split(o),s=/\\/g;i[0]=i[0].replace(s,"/"),t=i.join(o);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var f=Gl.exec(a);if(f)return this.path=a,this.href=a,this.pathname=f[1],f[2]?(this.search=f[2],e?this.query=vn.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var l=Wl.exec(a);if(l){l=l[0];var c=l.toLowerCase();this.protocol=c,a=a.substr(l.length)}if(r||l||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(l&&dn[l])&&(a=a.substr(2),this.slashes=!0)}if(!dn[l]&&(p||l&&!Xe[l])){for(var u=-1,y=0;y<Oo.length;y++){var h=a.indexOf(Oo[y]);h!==-1&&(u===-1||h<u)&&(u=h)}var d,_;u===-1?_=a.lastIndexOf("@"):_=a.lastIndexOf("@",u),_!==-1&&(d=a.slice(0,_),a=a.slice(_+1),this.auth=decodeURIComponent(d)),u=-1;for(var y=0;y<Po.length;y++){var h=a.indexOf(Po[y]);h!==-1&&(u===-1||h<u)&&(u=h)}u===-1&&(u=a.length),this.host=a.slice(0,u),a=a.slice(u),this.parseHost(),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R)for(var g=this.hostname.split(/\./),y=0,v=g.length;y<v;y++){var $=g[y];if($&&!$.match(xo)){for(var A="",N=0,G=$.length;N<G;N++)$.charCodeAt(N)>127?A+="x":A+=$[N];if(!A.match(xo)){var k=g.slice(0,y),F=g.slice(y+1),q=$.match(Hl);q&&(k.push(q[1]),F.unshift(q[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=k.join(".");break}}}this.hostname.length>zl?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=Ll.toASCII(this.hostname));var b=this.port?":"+this.port:"",w=this.hostname||"";this.host=w+b,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!Kl[c])for(var y=0,v=hn.length;y<v;y++){var S=hn[y];if(a.indexOf(S)!==-1){var T=encodeURIComponent(S);T===S&&(T=escape(S)),a=a.split(S).join(T)}}var M=a.indexOf("#");M!==-1&&(this.hash=a.substr(M),a=a.slice(0,M));var C=a.indexOf("?");if(C!==-1?(this.search=a.substr(C),this.query=a.substr(C+1),e&&(this.query=vn.parse(this.query)),a=a.slice(0,C)):e&&(this.search="",this.query={}),a&&(this.pathname=a),Xe[c]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var b=this.pathname||"",ce=this.search||"";this.path=b+ce}return this.href=this.format(),this};function Yl(t){return typeof t=="string"&&(t=$t(t)),t instanceof ae?t.format():ae.prototype.format.call(t)}ae.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",o=!1,i="";this.host?o=t+this.host:this.hostname&&(o=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(i=vn.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var s=this.search||i&&"?"+i||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Xe[e])&&o!==!1?(o="//"+(o||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):o||(o=""),n&&n.charAt(0)!=="#"&&(n="#"+n),s&&s.charAt(0)!=="?"&&(s="?"+s),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),s=s.replace("#","%23"),e+o+r+s+n};function Jl(t,e){return $t(t,!1,!0).resolve(e)}ae.prototype.resolve=function(t){return this.resolveObject($t(t,!1,!0)).format()};function Ql(t,e){return t?$t(t,!1,!0).resolveObject(e):e}ae.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new ae;e.parse(t,!1,!0),t=e}for(var r=new ae,n=Object.keys(this),o=0;o<n.length;o++){var i=n[o];r[i]=this[i]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),a=0;a<s.length;a++){var f=s[a];f!=="protocol"&&(r[f]=t[f])}return Xe[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Xe[t.protocol]){for(var l=Object.keys(t),c=0;c<l.length;c++){var p=l[c];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!dn[t.protocol]){for(var v=(t.pathname||"").split("/");v.length&&!(t.host=v.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),v[0]!==""&&v.unshift(""),v.length<2&&v.unshift(""),r.pathname=v.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var u=r.pathname||"",y=r.search||"";r.path=u+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var h=r.pathname&&r.pathname.charAt(0)==="/",d=t.host||t.pathname&&t.pathname.charAt(0)==="/",_=d||h||r.host&&t.pathname,R=_,g=r.pathname&&r.pathname.split("/")||[],v=t.pathname&&t.pathname.split("/")||[],$=r.protocol&&!Xe[r.protocol];if($&&(r.hostname="",r.port=null,r.host&&(g[0]===""?g[0]=r.host:g.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(v[0]===""?v[0]=t.host:v.unshift(t.host)),t.host=null),_=_&&(v[0]===""||g[0]==="")),d)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,g=v;else if(v.length)g||(g=[]),g.pop(),g=g.concat(v),r.search=t.search,r.query=t.query;else if(t.search!=null){if($){r.host=g.shift(),r.hostname=r.host;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!g.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=g.slice(-1)[0],G=(r.host||t.host||g.length>1)&&(N==="."||N==="..")||N==="",k=0,F=g.length;F>=0;F--)N=g[F],N==="."?g.splice(F,1):N===".."?(g.splice(F,1),k++):k&&(g.splice(F,1),k--);if(!_&&!R)for(;k--;k)g.unshift("..");_&&g[0]!==""&&(!g[0]||g[0].charAt(0)!=="/")&&g.unshift(""),G&&g.join("/").substr(-1)!=="/"&&g.push("");var q=g[0]===""||g[0]&&g[0].charAt(0)==="/";if($){r.hostname=q?"":g.length?g.shift():"",r.host=r.hostname;var A=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;A&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)}return _=_||r.host&&g.length,_&&!q&&g.unshift(""),g.length>0?r.pathname=g.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};ae.prototype.parseHost=function(){var t=this.host,e=jl.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};nt.parse=$t;nt.resolve=Jl;nt.resolveObject=Ql;nt.format=Yl;nt.Url=ae;var he={};function It(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var o=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,o.get?o:{enumerable:!0,get:function(){return t[n]}})}),r}const{Duplex:Zl}=re;function $o(t){t.emit("close")}function ec(){!this.destroyed&&this._writableState.finished&&this.destroy()}function Ii(t){this.removeListener("error",Ii),this.destroy(),this.listenerCount("error")===0&&this.emit("error",t)}function tc(t,e){let r=!0;const n=new Zl({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return t.on("message",function(i,s){const a=!s&&n._readableState.objectMode?i.toString():i;n.push(a)||t.pause()}),t.once("error",function(i){n.destroyed||(r=!1,n.destroy(i))}),t.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(o,i){if(t.readyState===t.CLOSED){i(o),D.nextTick($o,n);return}let s=!1;t.once("error",function(f){s=!0,i(f)}),t.once("close",function(){s||i(o),D.nextTick($o,n)}),r&&t.terminate()},n._final=function(o){if(t.readyState===t.CONNECTING){t.once("open",function(){n._final(o)});return}t._socket!==null&&(t._socket._writableState.finished?(o(),n._readableState.endEmitted&&n.destroy()):(t._socket.once("finish",function(){o()}),t.close()))},n._read=function(){t.isPaused&&t.resume()},n._write=function(o,i,s){if(t.readyState===t.CONNECTING){t.once("open",function(){n._write(o,i,s)});return}t.send(o,s)},n.on("end",ec),n.on("error",Ii),n}var rc=tc;const Ru=It(rc);var nr={exports:{}},De={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:j.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}},Nt={exports:{}},kt={exports:{}};function nc(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Qr,Io;function oc(){if(Io)return Qr;Io=1;var t=re,e=re,r=re,n=typeof __webpack_require__=="function"?__non_webpack_require__:nc,o=D.config&&D.config.variables||{},i=!!he.PREBUILDS_ONLY,s=D.versions.modules,a=F()?"electron":k()?"node-webkit":"node",f=he.npm_config_arch||r.arch(),l=he.npm_config_platform||r.platform(),c=he.LIBC||(q(l)?"musl":"glibc"),p=he.ARM_VERSION||(f==="arm64"?"8":o.arm_version)||"",u=(D.versions.uv||"").split(".")[0];Qr=y;function y(b){return n(y.resolve(b))}y.resolve=y.path=function(b){b=e.resolve(b||".");try{var w=n(e.join(b,"package.json")).name.toUpperCase().replace(/-/g,"_");he[w+"_PREBUILD"]&&(b=he[w+"_PREBUILD"])}catch{}if(!i){var S=d(e.join(b,"build/Release"),_);if(S)return S;var T=d(e.join(b,"build/Debug"),_);if(T)return T}var M=Be(b);if(M)return M;var C=Be(e.dirname(D.execPath));if(C)return C;var ce=["platform="+l,"arch="+f,"runtime="+a,"abi="+s,"uv="+u,p?"armv="+p:"","libc="+c,"node="+D.versions.node,D.versions.electron?"electron="+D.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+ce+`
    loaded from: `+b+`
`);function Be(be){var m=h(e.join(be,"prebuilds")).map(R),E=m.filter(g(l,f)).sort(v)[0];if(E){var I=e.join(be,"prebuilds",E.name),U=h(I).map($),B=U.filter(A(a,s)),H=B.sort(G(a))[0];if(H)return e.join(I,H.file)}}};function h(b){try{return t.readdirSync(b)}catch{return[]}}function d(b,w){var S=h(b).filter(w);return S[0]&&e.join(b,S[0])}function _(b){return/\.node$/.test(b)}function R(b){var w=b.split("-");if(w.length===2){var S=w[0],T=w[1].split("+");if(S&&T.length&&T.every(Boolean))return{name:b,platform:S,architectures:T}}}function g(b,w){return function(S){return S==null||S.platform!==b?!1:S.architectures.includes(w)}}function v(b,w){return b.architectures.length-w.architectures.length}function $(b){var w=b.split("."),S=w.pop(),T={file:b,specificity:0};if(S==="node"){for(var M=0;M<w.length;M++){var C=w[M];if(C==="node"||C==="electron"||C==="node-webkit")T.runtime=C;else if(C==="napi")T.napi=!0;else if(C.slice(0,3)==="abi")T.abi=C.slice(3);else if(C.slice(0,2)==="uv")T.uv=C.slice(2);else if(C.slice(0,4)==="armv")T.armv=C.slice(4);else if(C==="glibc"||C==="musl")T.libc=C;else continue;T.specificity++}return T}}function A(b,w){return function(S){return!(S==null||S.runtime!==b&&!N(S)||S.abi!==w&&!S.napi||S.uv&&S.uv!==u||S.armv&&S.armv!==p||S.libc&&S.libc!==c)}}function N(b){return b.runtime==="node"&&b.napi}function G(b){return function(w,S){return w.runtime!==S.runtime?w.runtime===b?-1:1:w.abi!==S.abi?w.abi?-1:1:w.specificity!==S.specificity?w.specificity>S.specificity?-1:1:0}}function k(){return!!(D.versions&&D.versions.nw)}function F(){return D.versions&&D.versions.electron||he.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function q(b){return b==="linux"&&t.existsSync("/etc/alpine-release")}return y.parseTags=$,y.matchTags=A,y.compareTags=G,y.parseTuple=R,y.matchTuple=g,y.compareTuples=v,Qr}var Ro;function ic(){return Ro||(Ro=1,typeof D.addon=="function"?kt.exports=D.addon.bind(D):kt.exports=oc()),kt.exports}var Xr,To;function ac(){return To||(To=1,Xr={mask:(r,n,o,i,s)=>{for(var a=0;a<s;a++)o[i+a]=r[a]^n[a&3]},unmask:(r,n)=>{const o=r.length;for(var i=0;i<o;i++)r[i]^=n[i&3]}}),Xr}var Co;function sc(){if(Co)return Nt.exports;Co=1;try{Nt.exports=ic()(__dirname)}catch{Nt.exports=ac()}return Nt.exports}var fc,lc;const{EMPTY_BUFFER:cc}=De,mn=j[Symbol.species];function uc(t,e){if(t.length===0)return cc;if(t.length===1)return t[0];const r=j.allocUnsafe(e);let n=0;for(let o=0;o<t.length;o++){const i=t[o];r.set(i,n),n+=i.length}return n<e?new mn(r.buffer,r.byteOffset,n):r}function Ri(t,e,r,n,o){for(let i=0;i<o;i++)r[n+i]=t[i]^e[i&3]}function Ti(t,e){for(let r=0;r<t.length;r++)t[r]^=e[r&3]}function pc(t){return t.length===t.buffer.byteLength?t.buffer:t.buffer.slice(t.byteOffset,t.byteOffset+t.length)}function gn(t){if(gn.readOnly=!0,j.isBuffer(t))return t;let e;return t instanceof ArrayBuffer?e=new mn(t):ArrayBuffer.isView(t)?e=new mn(t.buffer,t.byteOffset,t.byteLength):(e=j.from(t),gn.readOnly=!1),e}nr.exports={concat:uc,mask:Ri,toArrayBuffer:pc,toBuffer:gn,unmask:Ti};if(!he.WS_NO_BUFFER_UTIL)try{const t=sc();lc=nr.exports.mask=function(e,r,n,o,i){i<48?Ri(e,r,n,o,i):t.mask(e,r,n,o,i)},fc=nr.exports.unmask=function(e,r){e.length<32?Ti(e,r):t.unmask(e,r)}}catch{}var hr=nr.exports;const No=Symbol("kDone"),Zr=Symbol("kRun");let yc=class{constructor(e){this[No]=()=>{this.pending--,this[Zr]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Zr]()}[Zr](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[No])}}};var hc=yc;const at=re,ko=hr,dc=hc,{kStatusCode:Ci}=De,vc=j[Symbol.species],mc=j.from([0,0,255,255]),or=Symbol("permessage-deflate"),_e=Symbol("total-length"),ut=Symbol("callback"),we=Symbol("buffers"),zt=Symbol("error");let Ft,gc=class{constructor(e,r,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!r,this._deflate=null,this._inflate=null,this.params=null,!Ft){const o=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ft=new dc(o)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[ut];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const r=this._options,n=e.find(o=>!(r.serverNoContextTakeover===!1&&o.server_no_context_takeover||o.server_max_window_bits&&(r.serverMaxWindowBits===!1||typeof r.serverMaxWindowBits=="number"&&r.serverMaxWindowBits>o.server_max_window_bits)||typeof r.clientMaxWindowBits=="number"&&!o.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return r.serverNoContextTakeover&&(n.server_no_context_takeover=!0),r.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof r.serverMaxWindowBits=="number"&&(n.server_max_window_bits=r.serverMaxWindowBits),typeof r.clientMaxWindowBits=="number"?n.client_max_window_bits=r.clientMaxWindowBits:(n.client_max_window_bits===!0||r.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){const r=e[0];if(this._options.clientNoContextTakeover===!1&&r.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!r.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(r.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&r.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return r}normalizeParams(e){return e.forEach(r=>{Object.keys(r).forEach(n=>{let o=r[n];if(o.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(o=o[0],n==="client_max_window_bits"){if(o!==!0){const i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${o}`);o=i}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${o}`)}else if(n==="server_max_window_bits"){const i=+o;if(!Number.isInteger(i)||i<8||i>15)throw new TypeError(`Invalid value for parameter "${n}": ${o}`);o=i}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(o!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${o}`)}else throw new Error(`Unknown parameter "${n}"`);r[n]=o})}),e}decompress(e,r,n){Ft.add(o=>{this._decompress(e,r,(i,s)=>{o(),n(i,s)})})}compress(e,r,n){Ft.add(o=>{this._compress(e,r,(i,s)=>{o(),n(i,s)})})}_decompress(e,r,n){const o=this._isServer?"client":"server";if(!this._inflate){const i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?at.Z_DEFAULT_WINDOWBITS:this.params[i];this._inflate=at.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[or]=this,this._inflate[_e]=0,this._inflate[we]=[],this._inflate.on("error",Sc),this._inflate.on("data",Ni)}this._inflate[ut]=n,this._inflate.write(e),r&&this._inflate.write(mc),this._inflate.flush(()=>{const i=this._inflate[zt];if(i){this._inflate.close(),this._inflate=null,n(i);return}const s=ko.concat(this._inflate[we],this._inflate[_e]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[_e]=0,this._inflate[we]=[],r&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,r,n){const o=this._isServer?"server":"client";if(!this._deflate){const i=`${o}_max_window_bits`,s=typeof this.params[i]!="number"?at.Z_DEFAULT_WINDOWBITS:this.params[i];this._deflate=at.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[_e]=0,this._deflate[we]=[],this._deflate.on("data",_c)}this._deflate[ut]=n,this._deflate.write(e),this._deflate.flush(at.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let i=ko.concat(this._deflate[we],this._deflate[_e]);r&&(i=new vc(i.buffer,i.byteOffset,i.length-4)),this._deflate[ut]=null,this._deflate[_e]=0,this._deflate[we]=[],r&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),n(null,i)})}};var dr=gc;function _c(t){this[we].push(t),this[_e]+=t.length}function Ni(t){if(this[_e]+=t.length,this[or]._maxPayload<1||this[_e]<=this[or]._maxPayload){this[we].push(t);return}this[zt]=new RangeError("Max payload size exceeded"),this[zt].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[zt][Ci]=1009,this.removeListener("data",Ni),this.reset()}function Sc(t){this[or]._inflate=null,t[Ci]=1007,this[ut](t)}var ir={exports:{}};const bc={},Ec=Object.freeze(Object.defineProperty({__proto__:null,default:bc},Symbol.toStringTag,{value:"Module"})),wc=Xl(Ec);var Fo;const{isUtf8:Uo}=j,Ac=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function Pc(t){return t>=1e3&&t<=1014&&t!==1004&&t!==1005&&t!==1006||t>=3e3&&t<=4999}function _n(t){const e=t.length;let r=0;for(;r<e;)if(!(t[r]&128))r++;else if((t[r]&224)===192){if(r+1===e||(t[r+1]&192)!==128||(t[r]&254)===192)return!1;r+=2}else if((t[r]&240)===224){if(r+2>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||t[r]===224&&(t[r+1]&224)===128||t[r]===237&&(t[r+1]&224)===160)return!1;r+=3}else if((t[r]&248)===240){if(r+3>=e||(t[r+1]&192)!==128||(t[r+2]&192)!==128||(t[r+3]&192)!==128||t[r]===240&&(t[r+1]&240)===128||t[r]===244&&t[r+1]>143||t[r]>244)return!1;r+=4}else return!1;return!0}ir.exports={isValidStatusCode:Pc,isValidUTF8:_n,tokenChars:Ac};if(Uo)Fo=ir.exports.isValidUTF8=function(t){return t.length<24?_n(t):Uo(t)};else if(!he.WS_NO_UTF_8_VALIDATE)try{const t=wc;Fo=ir.exports.isValidUTF8=function(e){return e.length<32?_n(e):t(e)}}catch{}var vr=ir.exports;const{Writable:Oc}=re,Do=dr,{BINARY_TYPES:xc,EMPTY_BUFFER:Mo,kStatusCode:$c,kWebSocket:Ic}=De,{concat:en,toArrayBuffer:Rc,unmask:Tc}=hr,{isValidStatusCode:Cc,isValidUTF8:Bo}=vr,Ut=j[Symbol.species],st=0,Lo=1,Wo=2,jo=3,tn=4,Nc=5;let kc=class extends Oc{constructor(e={}){super(),this._binaryType=e.binaryType||xc[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[Ic]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=st,this._loop=!1}_write(e,r,n){if(this._opcode===8&&this._state==st)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const n=this._buffers[0];return this._buffers[0]=new Ut(n.buffer,n.byteOffset+e,n.length-e),new Ut(n.buffer,n.byteOffset,e)}const r=j.allocUnsafe(e);do{const n=this._buffers[0],o=r.length-e;e>=n.length?r.set(this._buffers.shift(),o):(r.set(new Uint8Array(n.buffer,n.byteOffset,e),o),this._buffers[0]=new Ut(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return r}startLoop(e){let r;this._loop=!0;do switch(this._state){case st:r=this.getInfo();break;case Lo:r=this.getPayloadLength16();break;case Wo:r=this.getPayloadLength64();break;case jo:this.getMask();break;case tn:r=this.getData(e);break;default:this._loop=!1;return}while(this._loop);e(r)}getInfo(){if(this._bufferedBytes<2){this._loop=!1;return}const e=this.consume(2);if(e[0]&48)return this._loop=!1,K(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const r=(e[0]&64)===64;if(r&&!this._extensions[Do.extensionName])return this._loop=!1,K(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=(e[0]&128)===128,this._opcode=e[0]&15,this._payloadLength=e[1]&127,this._opcode===0){if(r)return this._loop=!1,K(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,K(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented)return this._loop=!1,K(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=r}else if(this._opcode>7&&this._opcode<11){if(!this._fin)return this._loop=!1,K(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(r)return this._loop=!1,K(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1)return this._loop=!1,K(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}else return this._loop=!1,K(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(e[1]&128)===128,this._isServer){if(!this._masked)return this._loop=!1,K(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,K(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(this._payloadLength===126)this._state=Lo;else if(this._payloadLength===127)this._state=Wo;else return this.haveLength()}getPayloadLength16(){if(this._bufferedBytes<2){this._loop=!1;return}return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength()}getPayloadLength64(){if(this._bufferedBytes<8){this._loop=!1;return}const e=this.consume(8),r=e.readUInt32BE(0);return r>Math.pow(2,21)-1?(this._loop=!1,K(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=r*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,K(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=jo:this._state=tn}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=tn}getData(e){let r=Mo;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}r=this.consume(this._payloadLength),this._masked&&this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3]&&Tc(r,this._mask)}if(this._opcode>7)return this.controlMessage(r);if(this._compressed){this._state=Nc,this.decompress(r,e);return}return r.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(r)),this.dataMessage()}decompress(e,r){this._extensions[Do.extensionName].decompress(e,this._fin,(o,i)=>{if(o)return r(o);if(i.length){if(this._messageLength+=i.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return r(K(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(i)}const s=this.dataMessage();if(s)return r(s);this.startLoop(r)})}dataMessage(){if(this._fin){const e=this._messageLength,r=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let n;this._binaryType==="nodebuffer"?n=en(r,e):this._binaryType==="arraybuffer"?n=Rc(en(r,e)):n=r,this.emit("message",n,!0)}else{const n=en(r,e);if(!this._skipUTF8Validation&&!Bo(n))return this._loop=!1,K(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",n,!1)}}this._state=st}controlMessage(e){if(this._opcode===8)if(this._loop=!1,e.length===0)this.emit("conclude",1005,Mo),this.end();else{const r=e.readUInt16BE(0);if(!Cc(r))return K(RangeError,`invalid status code ${r}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const n=new Ut(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!Bo(n))return K(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",r,n),this.end()}else this._opcode===9?this.emit("ping",e):this.emit("pong",e);this._state=st}};var ki=kc;function K(t,e,r,n,o){const i=new t(r?`Invalid WebSocket frame: ${e}`:e);return Error.captureStackTrace(i,K),i.code=o,i[$c]=n,i}const ku=It(ki),{randomFillSync:Fc}=re,Go=dr,{EMPTY_BUFFER:Uc}=De,{isValidStatusCode:Dc}=vr,{mask:qo,toBuffer:qe}=hr,le=Symbol("kByteLength"),Mc=j.alloc(4);let Bc=class Re{constructor(e,r,n){this._extensions=r||{},n&&(this._generateMask=n,this._maskBuffer=j.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,r){let n,o=!1,i=2,s=!1;r.mask&&(n=r.maskBuffer||Mc,r.generateMask?r.generateMask(n):Fc(n,0,4),s=(n[0]|n[1]|n[2]|n[3])===0,i=6);let a;typeof e=="string"?(!r.mask||s)&&r[le]!==void 0?a=r[le]:(e=j.from(e),a=e.length):(a=e.length,o=r.mask&&r.readOnly&&!s);let f=a;a>=65536?(i+=8,f=127):a>125&&(i+=2,f=126);const l=j.allocUnsafe(o?a+i:i);return l[0]=r.fin?r.opcode|128:r.opcode,r.rsv1&&(l[0]|=64),l[1]=f,f===126?l.writeUInt16BE(a,2):f===127&&(l[2]=l[3]=0,l.writeUIntBE(a,4,6)),r.mask?(l[1]|=128,l[i-4]=n[0],l[i-3]=n[1],l[i-2]=n[2],l[i-1]=n[3],s?[l,e]:o?(qo(e,n,l,i,a),[l]):(qo(e,n,e,0,a),[l,e])):[l,e]}close(e,r,n,o){let i;if(e===void 0)i=Uc;else{if(typeof e!="number"||!Dc(e))throw new TypeError("First argument must be a valid error code number");if(r===void 0||!r.length)i=j.allocUnsafe(2),i.writeUInt16BE(e,0);else{const a=j.byteLength(r);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");i=j.allocUnsafe(2+a),i.writeUInt16BE(e,0),typeof r=="string"?i.write(r,2):i.set(r,2)}}const s={[le]:i.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,i,!1,s,o]):this.sendFrame(Re.frame(i,s),o)}ping(e,r,n){let o,i;if(typeof e=="string"?(o=j.byteLength(e),i=!1):(e=qe(e),o=e.length,i=qe.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[le]:o,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:9,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(Re.frame(e,s),n)}pong(e,r,n){let o,i;if(typeof e=="string"?(o=j.byteLength(e),i=!1):(e=qe(e),o=e.length,i=qe.readOnly),o>125)throw new RangeError("The data size must not be greater than 125 bytes");const s={[le]:o,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:10,readOnly:i,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(Re.frame(e,s),n)}send(e,r,n){const o=this._extensions[Go.extensionName];let i=r.binary?2:1,s=r.compress,a,f;if(typeof e=="string"?(a=j.byteLength(e),f=!1):(e=qe(e),a=e.length,f=qe.readOnly),this._firstFragment?(this._firstFragment=!1,s&&o&&o.params[o._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=o._threshold),this._compress=s):(s=!1,i=0),r.fin&&(this._firstFragment=!0),o){const l={[le]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:f,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,l,n]):this.dispatch(e,this._compress,l,n)}else this.sendFrame(Re.frame(e,{[le]:a,fin:r.fin,generateMask:this._generateMask,mask:r.mask,maskBuffer:this._maskBuffer,opcode:i,readOnly:f,rsv1:!1}),n)}dispatch(e,r,n,o){if(!r){this.sendFrame(Re.frame(e,n),o);return}const i=this._extensions[Go.extensionName];this._bufferedBytes+=n[le],this._deflating=!0,i.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){const f=new Error("The socket was closed while data was being compressed");typeof o=="function"&&o(f);for(let l=0;l<this._queue.length;l++){const c=this._queue[l],p=c[c.length-1];typeof p=="function"&&p(f)}return}this._bufferedBytes-=n[le],this._deflating=!1,n.readOnly=!1,this.sendFrame(Re.frame(a,n),o),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][le],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][le],this._queue.push(e)}sendFrame(e,r){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],r),this._socket.uncork()):this._socket.write(e[0],r)}};var Fi=Bc;const Fu=It(Fi),{kForOnEventAttribute:ft,kListener:rn}=De,Vo=Symbol("kCode"),zo=Symbol("kData"),Ho=Symbol("kError"),Ko=Symbol("kMessage"),Yo=Symbol("kReason"),Ke=Symbol("kTarget"),Jo=Symbol("kType"),Qo=Symbol("kWasClean");class Me{constructor(e){this[Ke]=null,this[Jo]=e}get target(){return this[Ke]}get type(){return this[Jo]}}Object.defineProperty(Me.prototype,"target",{enumerable:!0});Object.defineProperty(Me.prototype,"type",{enumerable:!0});class Rt extends Me{constructor(e,r={}){super(e),this[Vo]=r.code===void 0?0:r.code,this[Yo]=r.reason===void 0?"":r.reason,this[Qo]=r.wasClean===void 0?!1:r.wasClean}get code(){return this[Vo]}get reason(){return this[Yo]}get wasClean(){return this[Qo]}}Object.defineProperty(Rt.prototype,"code",{enumerable:!0});Object.defineProperty(Rt.prototype,"reason",{enumerable:!0});Object.defineProperty(Rt.prototype,"wasClean",{enumerable:!0});class mr extends Me{constructor(e,r={}){super(e),this[Ho]=r.error===void 0?null:r.error,this[Ko]=r.message===void 0?"":r.message}get error(){return this[Ho]}get message(){return this[Ko]}}Object.defineProperty(mr.prototype,"error",{enumerable:!0});Object.defineProperty(mr.prototype,"message",{enumerable:!0});class Bn extends Me{constructor(e,r={}){super(e),this[zo]=r.data===void 0?null:r.data}get data(){return this[zo]}}Object.defineProperty(Bn.prototype,"data",{enumerable:!0});const Lc={addEventListener(t,e,r={}){for(const o of this.listeners(t))if(!r[ft]&&o[rn]===e&&!o[ft])return;let n;if(t==="message")n=function(i,s){const a=new Bn("message",{data:s?i:i.toString()});a[Ke]=this,Dt(e,this,a)};else if(t==="close")n=function(i,s){const a=new Rt("close",{code:i,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Ke]=this,Dt(e,this,a)};else if(t==="error")n=function(i){const s=new mr("error",{error:i,message:i.message});s[Ke]=this,Dt(e,this,s)};else if(t==="open")n=function(){const i=new Me("open");i[Ke]=this,Dt(e,this,i)};else return;n[ft]=!!r[ft],n[rn]=e,r.once?this.once(t,n):this.on(t,n)},removeEventListener(t,e){for(const r of this.listeners(t))if(r[rn]===e&&!r[ft]){this.removeListener(t,r);break}}};var Wc={CloseEvent:Rt,ErrorEvent:mr,Event:Me,EventTarget:Lc,MessageEvent:Bn};function Dt(t,e,r){typeof t=="object"&&t.handleEvent?t.handleEvent.call(t,r):t.call(e,r)}const{tokenChars:lt}=vr;function ye(t,e,r){t[e]===void 0?t[e]=[r]:t[e].push(r)}function jc(t){const e=Object.create(null);let r=Object.create(null),n=!1,o=!1,i=!1,s,a,f=-1,l=-1,c=-1,p=0;for(;p<t.length;p++)if(l=t.charCodeAt(p),s===void 0)if(c===-1&&lt[l]===1)f===-1&&(f=p);else if(p!==0&&(l===32||l===9))c===-1&&f!==-1&&(c=p);else if(l===59||l===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1&&(c=p);const y=t.slice(f,c);l===44?(ye(e,y,r),r=Object.create(null)):s=y,f=c=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(c===-1&&lt[l]===1)f===-1&&(f=p);else if(l===32||l===9)c===-1&&f!==-1&&(c=p);else if(l===59||l===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1&&(c=p),ye(r,t.slice(f,c),!0),l===44&&(ye(e,s,r),r=Object.create(null),s=void 0),f=c=-1}else if(l===61&&f!==-1&&c===-1)a=t.slice(f,p),f=c=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(o){if(lt[l]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);f===-1?f=p:n||(n=!0),o=!1}else if(i)if(lt[l]===1)f===-1&&(f=p);else if(l===34&&f!==-1)i=!1,c=p;else if(l===92)o=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(l===34&&t.charCodeAt(p-1)===61)i=!0;else if(c===-1&&lt[l]===1)f===-1&&(f=p);else if(f!==-1&&(l===32||l===9))c===-1&&(c=p);else if(l===59||l===44){if(f===-1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1&&(c=p);let y=t.slice(f,c);n&&(y=y.replace(/\\/g,""),n=!1),ye(r,a,y),l===44&&(ye(e,s,r),r=Object.create(null),s=void 0),a=void 0,f=c=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(f===-1||i||l===32||l===9)throw new SyntaxError("Unexpected end of input");c===-1&&(c=p);const u=t.slice(f,c);return s===void 0?ye(e,u,r):(a===void 0?ye(r,u,!0):n?ye(r,a,u.replace(/\\/g,"")):ye(r,a,u),ye(e,s,r)),e}function Gc(t){return Object.keys(t).map(e=>{let r=t[e];return Array.isArray(r)||(r=[r]),r.map(n=>[e].concat(Object.keys(n).map(o=>{let i=n[o];return Array.isArray(i)||(i=[i]),i.map(s=>s===!0?o:`${o}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}var Ui={format:Gc,parse:jc};const qc=oi,Vc=re,zc=re,Di=re,Hc=re,{randomBytes:Kc,createHash:Yc}=re,{URL:nn}=nt,Ae=dr,Jc=ki,Qc=Fi,{BINARY_TYPES:Xo,EMPTY_BUFFER:Mt,GUID:Xc,kForOnEventAttribute:on,kListener:Zc,kStatusCode:eu,kWebSocket:te,NOOP:Mi}=De,{EventTarget:{addEventListener:tu,removeEventListener:ru}}=Wc,{format:nu,parse:ou}=Ui,{toBuffer:iu}=hr,au=30*1e3,Bi=Symbol("kAborted"),an=[8,13],Se=["CONNECTING","OPEN","CLOSING","CLOSED"],su=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;let z=class L extends qc{constructor(e,r,n){super(),this._binaryType=Xo[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=Mt,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=L.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,r===void 0?r=[]:Array.isArray(r)||(typeof r=="object"&&r!==null?(n=r,r=[]):r=[r]),Wi(this,e,r,n)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){Xo.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,r,n){const o=new Jc({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new Qc(e,this._extensions,n.generateMask),this._receiver=o,this._socket=e,o[te]=this,e[te]=this,o.on("conclude",cu),o.on("drain",uu),o.on("error",pu),o.on("message",yu),o.on("ping",hu),o.on("pong",du),e.setTimeout(0),e.setNoDelay(),r.length>0&&e.unshift(r),e.on("close",Gi),e.on("data",gr),e.on("end",qi),e.on("error",Vi),this._readyState=L.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ae.extensionName]&&this._extensions[Ae.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=L.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,r){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){oe(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===L.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=L.CLOSING,this._sender.close(e,r,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),au)}}pause(){this.readyState===L.CONNECTING||this.readyState===L.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,r,n){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==L.OPEN){sn(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.ping(e||Mt,r,n)}pong(e,r,n){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=r=void 0):typeof r=="function"&&(n=r,r=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==L.OPEN){sn(this,e,n);return}r===void 0&&(r=!this._isServer),this._sender.pong(e||Mt,r,n)}resume(){this.readyState===L.CONNECTING||this.readyState===L.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,r,n){if(this.readyState===L.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof r=="function"&&(n=r,r={}),typeof e=="number"&&(e=e.toString()),this.readyState!==L.OPEN){sn(this,e,n);return}const o={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...r};this._extensions[Ae.extensionName]||(o.compress=!1),this._sender.send(e||Mt,o,n)}terminate(){if(this.readyState!==L.CLOSED){if(this.readyState===L.CONNECTING){oe(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=L.CLOSING,this._socket.destroy())}}};Object.defineProperty(z,"CONNECTING",{enumerable:!0,value:Se.indexOf("CONNECTING")});Object.defineProperty(z.prototype,"CONNECTING",{enumerable:!0,value:Se.indexOf("CONNECTING")});Object.defineProperty(z,"OPEN",{enumerable:!0,value:Se.indexOf("OPEN")});Object.defineProperty(z.prototype,"OPEN",{enumerable:!0,value:Se.indexOf("OPEN")});Object.defineProperty(z,"CLOSING",{enumerable:!0,value:Se.indexOf("CLOSING")});Object.defineProperty(z.prototype,"CLOSING",{enumerable:!0,value:Se.indexOf("CLOSING")});Object.defineProperty(z,"CLOSED",{enumerable:!0,value:Se.indexOf("CLOSED")});Object.defineProperty(z.prototype,"CLOSED",{enumerable:!0,value:Se.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(t=>{Object.defineProperty(z.prototype,t,{enumerable:!0})});["open","error","close","message"].forEach(t=>{Object.defineProperty(z.prototype,`on${t}`,{enumerable:!0,get(){for(const e of this.listeners(t))if(e[on])return e[Zc];return null},set(e){for(const r of this.listeners(t))if(r[on]){this.removeListener(t,r);break}typeof e=="function"&&this.addEventListener(t,e,{[on]:!0})}})});z.prototype.addEventListener=tu;z.prototype.removeEventListener=ru;var Li=z;function Wi(t,e,r,n){const o={protocolVersion:an[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!an.includes(o.protocolVersion))throw new RangeError(`Unsupported protocol version: ${o.protocolVersion} (supported versions: ${an.join(", ")})`);let i;if(e instanceof nn)i=e,t._url=e.href;else{try{i=new nn(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}t._url=e}const s=i.protocol==="wss:",a=i.protocol==="ws+unix:";let f;if(i.protocol!=="ws:"&&!s&&!a?f=`The URL's protocol must be one of "ws:", "wss:", or "ws+unix:"`:a&&!i.pathname?f="The URL's pathname is empty":i.hash&&(f="The URL contains a fragment identifier"),f){const d=new SyntaxError(f);if(t._redirects===0)throw d;Ht(t,d);return}const l=s?443:80,c=Kc(16).toString("base64"),p=s?Vc.request:zc.request,u=new Set;let y;if(o.createConnection=s?lu:fu,o.defaultPort=o.defaultPort||l,o.port=i.port||l,o.host=i.hostname.startsWith("[")?i.hostname.slice(1,-1):i.hostname,o.headers={...o.headers,"Sec-WebSocket-Version":o.protocolVersion,"Sec-WebSocket-Key":c,Connection:"Upgrade",Upgrade:"websocket"},o.path=i.pathname+i.search,o.timeout=o.handshakeTimeout,o.perMessageDeflate&&(y=new Ae(o.perMessageDeflate!==!0?o.perMessageDeflate:{},!1,o.maxPayload),o.headers["Sec-WebSocket-Extensions"]=nu({[Ae.extensionName]:y.offer()})),r.length){for(const d of r){if(typeof d!="string"||!su.test(d)||u.has(d))throw new SyntaxError("An invalid or duplicated subprotocol was specified");u.add(d)}o.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(o.origin&&(o.protocolVersion<13?o.headers["Sec-WebSocket-Origin"]=o.origin:o.headers.Origin=o.origin),(i.username||i.password)&&(o.auth=`${i.username}:${i.password}`),a){const d=o.path.split(":");o.socketPath=d[0],o.path=d[1]}let h;if(o.followRedirects){if(t._redirects===0){t._originalIpc=a,t._originalSecure=s,t._originalHostOrSocketPath=a?o.socketPath:i.host;const d=n&&n.headers;if(n={...n,headers:{}},d)for(const[_,R]of Object.entries(d))n.headers[_.toLowerCase()]=R}else if(t.listenerCount("redirect")===0){const d=a?t._originalIpc?o.socketPath===t._originalHostOrSocketPath:!1:t._originalIpc?!1:i.host===t._originalHostOrSocketPath;(!d||t._originalSecure&&!s)&&(delete o.headers.authorization,delete o.headers.cookie,d||delete o.headers.host,o.auth=void 0)}o.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+j.from(o.auth).toString("base64")),h=t._req=p(o),t._redirects&&t.emit("redirect",t.url,h)}else h=t._req=p(o);o.timeout&&h.on("timeout",()=>{oe(t,h,"Opening handshake has timed out")}),h.on("error",d=>{h===null||h[Bi]||(h=t._req=null,Ht(t,d))}),h.on("response",d=>{const _=d.headers.location,R=d.statusCode;if(_&&o.followRedirects&&R>=300&&R<400){if(++t._redirects>o.maxRedirects){oe(t,h,"Maximum redirects exceeded");return}h.abort();let g;try{g=new nn(_,e)}catch{const $=new SyntaxError(`Invalid URL: ${_}`);Ht(t,$);return}Wi(t,g,r,n)}else t.emit("unexpected-response",h,d)||oe(t,h,`Unexpected server response: ${d.statusCode}`)}),h.on("upgrade",(d,_,R)=>{if(t.emit("upgrade",d),t.readyState!==z.CONNECTING)return;if(h=t._req=null,d.headers.upgrade.toLowerCase()!=="websocket"){oe(t,_,"Invalid Upgrade header");return}const g=Yc("sha1").update(c+Xc).digest("base64");if(d.headers["sec-websocket-accept"]!==g){oe(t,_,"Invalid Sec-WebSocket-Accept header");return}const v=d.headers["sec-websocket-protocol"];let $;if(v!==void 0?u.size?u.has(v)||($="Server sent an invalid subprotocol"):$="Server sent a subprotocol but none was requested":u.size&&($="Server sent no subprotocol"),$){oe(t,_,$);return}v&&(t._protocol=v);const A=d.headers["sec-websocket-extensions"];if(A!==void 0){if(!y){oe(t,_,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let N;try{N=ou(A)}catch{oe(t,_,"Invalid Sec-WebSocket-Extensions header");return}const G=Object.keys(N);if(G.length!==1||G[0]!==Ae.extensionName){oe(t,_,"Server indicated an extension that was not requested");return}try{y.accept(N[Ae.extensionName])}catch{oe(t,_,"Invalid Sec-WebSocket-Extensions header");return}t._extensions[Ae.extensionName]=y}t.setSocket(_,R,{generateMask:o.generateMask,maxPayload:o.maxPayload,skipUTF8Validation:o.skipUTF8Validation})}),o.finishRequest?o.finishRequest(h,t):h.end()}function Ht(t,e){t._readyState=z.CLOSING,t.emit("error",e),t.emitClose()}function fu(t){return t.path=t.socketPath,Di.connect(t)}function lu(t){return t.path=void 0,!t.servername&&t.servername!==""&&(t.servername=Di.isIP(t.host)?"":t.host),Hc.connect(t)}function oe(t,e,r){t._readyState=z.CLOSING;const n=new Error(r);Error.captureStackTrace(n,oe),e.setHeader?(e[Bi]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),D.nextTick(Ht,t,n)):(e.destroy(n),e.once("error",t.emit.bind(t,"error")),e.once("close",t.emitClose.bind(t)))}function sn(t,e,r){if(e){const n=iu(e).length;t._socket?t._sender._bufferedBytes+=n:t._bufferedAmount+=n}if(r){const n=new Error(`WebSocket is not open: readyState ${t.readyState} (${Se[t.readyState]})`);D.nextTick(r,n)}}function cu(t,e){const r=this[te];r._closeFrameReceived=!0,r._closeMessage=e,r._closeCode=t,r._socket[te]!==void 0&&(r._socket.removeListener("data",gr),D.nextTick(ji,r._socket),t===1005?r.close():r.close(t,e))}function uu(){const t=this[te];t.isPaused||t._socket.resume()}function pu(t){const e=this[te];e._socket[te]!==void 0&&(e._socket.removeListener("data",gr),D.nextTick(ji,e._socket),e.close(t[eu])),e.emit("error",t)}function Zo(){this[te].emitClose()}function yu(t,e){this[te].emit("message",t,e)}function hu(t){const e=this[te];e.pong(t,!e._isServer,Mi),e.emit("ping",t)}function du(t){this[te].emit("pong",t)}function ji(t){t.resume()}function Gi(){const t=this[te];this.removeListener("close",Gi),this.removeListener("data",gr),this.removeListener("end",qi),t._readyState=z.CLOSING;let e;!this._readableState.endEmitted&&!t._closeFrameReceived&&!t._receiver._writableState.errorEmitted&&(e=t._socket.read())!==null&&t._receiver.write(e),t._receiver.end(),this[te]=void 0,clearTimeout(t._closeTimer),t._receiver._writableState.finished||t._receiver._writableState.errorEmitted?t.emitClose():(t._receiver.on("error",Zo),t._receiver.on("finish",Zo))}function gr(t){this[te]._receiver.write(t)||this.pause()}function qi(){const t=this[te];t._readyState=z.CLOSING,t._receiver.end(),this.end()}function Vi(){const t=this[te];this.removeListener("error",Vi),this.on("error",Mi),t&&(t._readyState=z.CLOSING,this.destroy())}const Uu=It(Li),{tokenChars:vu}=vr;function mu(t){const e=new Set;let r=-1,n=-1,o=0;for(o;o<t.length;o++){const s=t.charCodeAt(o);if(n===-1&&vu[s]===1)r===-1&&(r=o);else if(o!==0&&(s===32||s===9))n===-1&&r!==-1&&(n=o);else if(s===44){if(r===-1)throw new SyntaxError(`Unexpected character at index ${o}`);n===-1&&(n=o);const a=t.slice(r,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),r=n=-1}else throw new SyntaxError(`Unexpected character at index ${o}`)}if(r===-1||n!==-1)throw new SyntaxError("Unexpected end of input");const i=t.slice(r,o);if(e.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);return e.add(i),e}var gu={parse:mu};const _u=oi,ar=re,{createHash:Su}=re,ei=Ui,Ie=dr,bu=gu,Eu=Li,{GUID:wu,kWebSocket:Au}=De,Pu=/^[+/0-9A-Za-z]{22}==$/,ti=0,ri=1,zi=2;class Ou extends _u{constructor(e,r){if(super(),e={maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:Eu,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=ar.createServer((n,o)=>{const i=ar.STATUS_CODES[426];o.writeHead(426,{"Content-Length":i.length,"Content-Type":"text/plain"}),o.end(i)}),this._server.listen(e.port,e.host,e.backlog,r)):e.server&&(this._server=e.server),this._server){const n=this.emit.bind(this,"connection");this._removeListeners=$u(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(o,i,s)=>{this.handleUpgrade(o,i,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=ti}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===zi){e&&this.once("close",()=>{e(new Error("The server is not running"))}),D.nextTick(ct,this);return}if(e&&this.once("close",e),this._state!==ri)if(this._state=ri,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:D.nextTick(ct,this):D.nextTick(ct,this);else{const r=this._server;this._removeListeners(),this._removeListeners=this._server=null,r.close(()=>{ct(this)})}}shouldHandle(e){if(this.options.path){const r=e.url.indexOf("?");if((r!==-1?e.url.slice(0,r):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,r,n,o){r.on("error",ni);const i=e.headers["sec-websocket-key"],s=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Te(this,e,r,405,"Invalid HTTP method");return}if(e.headers.upgrade.toLowerCase()!=="websocket"){Te(this,e,r,400,"Invalid Upgrade header");return}if(!i||!Pu.test(i)){Te(this,e,r,400,"Missing or invalid Sec-WebSocket-Key header");return}if(s!==8&&s!==13){Te(this,e,r,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){pt(r,400);return}const a=e.headers["sec-websocket-protocol"];let f=new Set;if(a!==void 0)try{f=bu.parse(a)}catch{Te(this,e,r,400,"Invalid Sec-WebSocket-Protocol header");return}const l=e.headers["sec-websocket-extensions"],c={};if(this.options.perMessageDeflate&&l!==void 0){const p=new Ie(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const u=ei.parse(l);u[Ie.extensionName]&&(p.accept(u[Ie.extensionName]),c[Ie.extensionName]=p)}catch{Te(this,e,r,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){const p={origin:e.headers[`${s===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(p,(u,y,h,d)=>{if(!u)return pt(r,y||401,h,d);this.completeUpgrade(c,i,f,e,r,n,o)});return}if(!this.options.verifyClient(p))return pt(r,401)}this.completeUpgrade(c,i,f,e,r,n,o)}completeUpgrade(e,r,n,o,i,s,a){if(!i.readable||!i.writable)return i.destroy();if(i[Au])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>ti)return pt(i,503);const l=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${Su("sha1").update(r+wu).digest("base64")}`],c=new this.options.WebSocket(null);if(n.size){const p=this.options.handleProtocols?this.options.handleProtocols(n,o):n.values().next().value;p&&(l.push(`Sec-WebSocket-Protocol: ${p}`),c._protocol=p)}if(e[Ie.extensionName]){const p=e[Ie.extensionName].params,u=ei.format({[Ie.extensionName]:[p]});l.push(`Sec-WebSocket-Extensions: ${u}`),c._extensions=e}this.emit("headers",l,o),i.write(l.concat(`\r
`).join(`\r
`)),i.removeListener("error",ni),c.setSocket(i,s,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(c),c.on("close",()=>{this.clients.delete(c),this._shouldEmitClose&&!this.clients.size&&D.nextTick(ct,this)})),a(c,o)}}var xu=Ou;function $u(t,e){for(const r of Object.keys(e))t.on(r,e[r]);return function(){for(const n of Object.keys(e))t.removeListener(n,e[n])}}function ct(t){t._state=zi,t.emit("close")}function ni(){this.destroy()}function pt(t,e,r,n){r=r||ar.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":j.byteLength(r),...n},t.once("finish",t.destroy),t.end(`HTTP/1.1 ${e} ${ar.STATUS_CODES[e]}\r
`+Object.keys(n).map(o=>`${o}: ${n[o]}`).join(`\r
`)+`\r
\r
`+r)}function Te(t,e,r,n,o){if(t.listenerCount("wsClientError")){const i=new Error(o);Error.captureStackTrace(i,Te),t.emit("wsClientError",i,r,e)}else pt(r,n,o)}const Du=It(xu);export{ku as Receiver,Fu as Sender,Uu as WebSocket,Du as WebSocketServer,Ru as createWebSocketStream,Uu as default};
