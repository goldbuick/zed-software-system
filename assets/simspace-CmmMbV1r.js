(function(){"use strict";const wm=new Set,_c={emit(t,e,A,n,r){_c.invoke(gZ(t,e,A,n,r))},invoke(t){wm.forEach(e=>e.handle(t))},connect(t){wm.add(t)},disconnect(t){wm.delete(t)}};var ri=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yx(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var A=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};A.prototype=e.prototype}else A={};return Object.defineProperty(A,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(A,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),A}var gu={exports:{}},CS=gu.exports,Dx;function PS(){return Dx||(Dx=1,(function(t,e){(function(A,n){t.exports=n()})(CS,function(){return A.importState=function(r){var s=new A;return s.importState(r),s},A;function A(){return(function(r){var s=0,i=0,o=0,a=1;r.length==0&&(r=[+new Date]);var c=n();s=c(" "),i=c(" "),o=c(" ");for(var l=0;l<r.length;l++)s-=c(r[l]),s<0&&(s+=1),i-=c(r[l]),i<0&&(i+=1),o-=c(r[l]),o<0&&(o+=1);c=null;var u=function(){var h=2091639*s+a*23283064365386963e-26;return s=i,i=o,o=h-(a=h|0)};return u.next=u,u.uint32=function(){return u()*4294967296},u.fract53=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.version="Alea 0.9",u.args=r,u.exportState=function(){return[s,i,o,a]},u.importState=function(h){s=+h[0]||0,i=+h[1]||0,o=+h[2]||0,a=+h[3]||0},u})(Array.prototype.slice.call(arguments))}function n(){var r=4022871197,s=function(i){i=i.toString();for(var o=0;o<i.length;o++){r+=i.charCodeAt(o);var a=.02519603282416938*r;r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296}return(r>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(gu)),gu.exports}var RS=PS(),vx=Hi(RS),xc={},Bx;function IS(){return Bx||(Bx=1,(function(t){var e=xc&&xc.__spreadArray||function(c,l,u){if(u||arguments.length===2)for(var h=0,f=l.length,d;h<f;h++)(d||!(h in l))&&(d||(d=Array.prototype.slice.call(l,0,h)),d[h]=l[h]);return c.concat(d||Array.prototype.slice.call(l))};Object.defineProperty(t,"__esModule",{value:!0}),t.minLength=t.maxLength=t.poolSize=t.humanId=t.adverbs=t.verbs=t.nouns=t.adjectives=void 0,t.adjectives=["afraid","all","beige","better","big","blue","bold","brave","breezy","bright","brown","bumpy","busy","calm","chatty","chilly","chubby","clean","clear","clever","cold","common","cool","cozy","crisp","cuddly","curly","curvy","cute","cyan","dark","deep","dirty","dry","dull","eager","early","easy","eight","eighty","eleven","empty","every","fair","famous","fancy","fast","few","fiery","fifty","fine","five","flat","floppy","fluffy","forty","four","frank","free","fresh","fruity","full","funky","funny","fuzzy","gentle","giant","gold","good","goofy","great","green","grumpy","happy","heavy","hip","honest","hot","huge","humble","hungry","icy","itchy","jolly","khaki","kind","large","late","lazy","legal","lemon","light","little","long","loose","loud","lovely","lucky","major","many","metal","mighty","modern","moody","neat","new","nice","nine","ninety","odd","old","olive","open","orange","perky","petite","pink","plain","plenty","polite","pretty","proud","public","puny","purple","quick","quiet","rare","ready","real","red","rich","ripe","salty","seven","shaggy","shaky","sharp","shiny","short","shy","silent","silly","silver","six","sixty","slick","slimy","slow","small","smart","smooth","social","soft","solid","some","sour","sparkly","spicy","spotty","stale","strict","strong","sunny","sweet","swift","tall","tame","tangy","tasty","ten","tender","thick","thin","thirty","three","tidy","tiny","tired","tough","tricky","true","twelve","twenty","two","upset","vast","violet","wacky","warm","wet","whole","wicked","wide","wild","wise","witty","yellow","young","yummy"],t.nouns=["actors","ads","adults","aliens","animals","ants","apes","apples","areas","baboons","badgers","bags","balloons","bananas","banks","bars","baths","bats","beans","bears","beds","beers","bees","berries","bikes","birds","boats","bobcats","books","bottles","boxes","breads","brooms","buckets","bugs","buses","bushes","buttons","camels","cameras","candies","candles","canyons","carpets","carrots","cars","cases","cats","chairs","chefs","chicken","cities","clocks","cloths","clouds","clowns","clubs","coats","cobras","coins","colts","comics","cooks","corners","cougars","cows","crabs","crews","cups","cycles","dancers","days","deer","deserts","dingos","dodos","dogs","dolls","donkeys","donuts","doodles","doors","dots","dragons","drinks","dryers","ducks","eagles","ears","eels","eggs","emus","ends","experts","eyes","facts","falcons","fans","feet","files","flies","flowers","forks","foxes","friends","frogs","games","garlics","geckos","geese","ghosts","gifts","glasses","goats","grapes","groups","guests","hairs","hands","hats","heads","hoops","hornets","horses","hotels","hounds","houses","humans","icons","ideas","impalas","insects","islands","items","jars","jeans","jobs","jokes","keys","kids","kings","kiwis","knives","lamps","lands","laws","lemons","lies","lights","lilies","lines","lions","lizards","llamas","loops","mails","mammals","mangos","maps","masks","meals","melons","memes","meteors","mice","mirrors","moles","moments","monkeys","months","moons","moose","mugs","nails","needles","news","nights","numbers","olives","onions","oranges","otters","owls","pandas","pans","pants","papayas","papers","parents","parks","parrots","parts","paths","paws","peaches","pears","peas","pens","pets","phones","pianos","pigs","pillows","places","planes","planets","plants","plums","poems","poets","points","pots","pugs","pumas","queens","rabbits","radios","rats","ravens","readers","regions","results","rice","rings","rivers","rockets","rocks","rooms","roses","rules","sails","schools","seals","seas","sheep","shirts","shoes","showers","shrimps","sides","signs","singers","sites","sloths","snails","snakes","socks","spiders","spies","spoons","squids","stamps","stars","states","steaks","streets","suits","suns","swans","symbols","tables","taxes","taxis","teams","teeth","terms","things","ties","tigers","times","tips","tires","toes","tools","towns","toys","trains","trams","trees","turkeys","turtles","vans","views","walls","wasps","waves","ways","webs","weeks","windows","wings","wolves","wombats","words","worlds","worms","yaks","years","zebras","zoos"],t.verbs=["accept","act","add","admire","agree","allow","appear","argue","arrive","ask","attack","attend","bake","bathe","battle","beam","beg","begin","behave","bet","boil","bow","brake","brush","build","burn","buy","call","camp","care","carry","change","cheat","check","cheer","chew","clap","clean","cough","count","cover","crash","create","cross","cry","cut","dance","decide","deny","design","dig","divide","do","double","doubt","draw","dream","dress","drive","drop","drum","eat","end","enjoy","enter","exist","fail","fall","feel","fetch","film","find","fix","flash","float","flow","fly","fold","follow","fry","give","glow","go","grab","greet","grin","grow","guess","hammer","hang","happen","heal","hear","help","hide","hope","hug","hunt","invent","invite","itch","jam","jog","join","joke","judge","juggle","jump","kick","kiss","kneel","knock","know","laugh","lay","lead","learn","leave","lick","lie","like","listen","live","look","lose","love","make","march","marry","mate","matter","melt","mix","move","nail","notice","obey","occur","open","own","pay","peel","pick","play","poke","post","press","prove","pull","pump","punch","push","raise","read","refuse","relate","relax","remain","repair","repeat","reply","report","rescue","rest","retire","return","rhyme","ring","roll","rule","run","rush","say","scream","search","see","sell","send","serve","shake","share","shave","shine","shop","shout","show","sin","sing","sink","sip","sit","sleep","slide","smash","smell","smile","smoke","sneeze","sniff","sort","speak","spend","stand","stare","start","stay","stick","stop","strive","study","swim","switch","take","talk","tan","tap","taste","teach","tease","tell","thank","think","throw","tickle","tie","trade","train","travel","try","turn","type","unite","vanish","visit","wait","walk","warn","wash","watch","wave","wear","win","wink","wish","wonder","work","worry","write","yawn","yell"],t.adverbs=["bravely","brightly","busily","daily","freely","hungrily","joyously","knowingly","lazily","noisily","oddly","politely","quickly","quietly","rapidly","safely","sleepily","slowly","truly","yearly"];function A(c){return c[Math.floor(Math.random()*c.length)]}function n(c){return c.reduce(function(l,u){return l.length>u.length?l:u})}function r(c){return c.reduce(function(l,u){return l.length<u.length?l:u})}function s(c){c===void 0&&(c={}),typeof c=="string"&&(c={separator:c}),typeof c=="boolean"&&(c={capitalize:c});var l=c.separator,u=l===void 0?"":l,h=c.capitalize,f=h===void 0?!0:h,d=c.adjectiveCount,m=d===void 0?1:d,p=c.addAdverb,g=p===void 0?!1:p,w=e(e(e([],e([],Array(m),!0).map(function(x){return A(t.adjectives)}),!0),[A(t.nouns),A(t.verbs)],!1),g?[A(t.adverbs)]:[],!0);return f&&(w=w.map(function(x){return x.charAt(0).toUpperCase()+x.substr(1)})),w.join(u)}t.humanId=s;function i(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h;return t.adjectives.length*u*t.nouns.length*t.verbs.length*(f?t.adverbs.length:1)}t.poolSize=i;function o(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h,d=c.separator,m=d===void 0?"":d;return n(t.adjectives).length*u+u*m.length+n(t.nouns).length+m.length+n(t.verbs).length+(f?n(t.adverbs).length+m.length:0)}t.maxLength=o;function a(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h,d=c.separator,m=d===void 0?"":d;return r(t.adjectives).length*u+u*m.length+r(t.nouns).length+m.length+r(t.verbs).length+(f?r(t.adverbs).length+m.length:0)}t.minLength=a,t.default=s})(xc)),xc}var jS=IS(),kx=Hi(jS);const zS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let HS=t=>crypto.getRandomValues(new Uint8Array(t)),LS=(t,e,A)=>{let n=(2<<Math.log2(t.length-1))-1,r=-~(1.6*n*e/t.length);return(s=e)=>{let i="";for(;;){let o=A(r),a=r|0;for(;a--;)if(i+=t[o[a]&n]||"",i.length>=s)return i}}},Ex=(t,e=21)=>LS(t,e|0,HS),US=(t=21)=>{let e="",A=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=zS[A[t]&63];return e};var bm,Nx;function Tx(){return Nx||(Nx=1,bm="abcdefghijklmnopqrstuvwxyz"),bm}var _m,Yx;function Ox(){return Yx||(Yx=1,_m="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),_m}var xm,Sx;function Zx(){return Sx||(Sx=1,xm="0123456789"),xm}var Gm,Cx;function $S(){return Cx||(Cx=1,Gm="346789ABCDEFGHJKLMNPQRTUVWXYabcdefghijkmnpqrtwxyz"),Gm}var Mm,Px;function FS(){return Px||(Px=1,Mm="6789BCDFGHJKLMNPQRTWbcdfghjkmnpqrtwz"),Mm}var ym,Rx;function VS(){if(Rx)return ym;Rx=1;const t=Zx(),e=Tx(),A=Ox();return ym=t+e+A,ym}var Dm,Ix;function WS(){return Ix||(Ix=1,Dm={lowercase:Tx(),uppercase:Ox(),numbers:Zx(),nolookalikes:$S(),nolookalikesSafe:FS(),alphanumeric:VS()}),Dm}var vm=WS();function sA(){return`sid_${US(12).replaceAll("-",".")}`}const QS=Ex(vm.numbers,4),qS=Ex(`${vm.numbers}${vm.lowercase}`,16);function KS(){return`pid_${QS()}_${qS()}`}function Wt(t){return t?.startsWith("pid_")??!1}function Bm(){return kx({capitalize:!1,adjectiveCount:1})}function JS(){return kx({addAdverb:!1,capitalize:!1,adjectiveCount:0})}var XS=(function(){var t=function(e,A){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},t(e,A)};return function(e,A){t(e,A);function n(){this.constructor=e}e.prototype=A===null?Object.create(A):(n.prototype=A.prototype,new n)}})(),eZ=Object.prototype.hasOwnProperty;function km(t,e){return eZ.call(t,e)}function Em(t){if(Array.isArray(t)){for(var e=new Array(t.length),A=0;A<e.length;A++)e[A]=""+A;return e}if(Object.keys)return Object.keys(t);var n=[];for(var r in t)km(t,r)&&n.push(r);return n}function Gn(t){switch(typeof t){case"object":return JSON.parse(JSON.stringify(t));case"undefined":return null;default:return t}}function Nm(t){for(var e=0,A=t.length,n;e<A;){if(n=t.charCodeAt(e),n>=48&&n<=57){e++;continue}return!1}return!0}function Li(t){return t.indexOf("/")===-1&&t.indexOf("~")===-1?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function jx(t){return t.replace(/~1/g,"/").replace(/~0/g,"~")}function Tm(t){if(t===void 0)return!0;if(t){if(Array.isArray(t)){for(var e=0,A=t.length;e<A;e++)if(Tm(t[e]))return!0}else if(typeof t=="object"){for(var n=Em(t),r=n.length,s=0;s<r;s++)if(Tm(t[n[s]]))return!0}}return!1}function zx(t,e){var A=[t];for(var n in e){var r=typeof e[n]=="object"?JSON.stringify(e[n],null,2):e[n];typeof r<"u"&&A.push(n+": "+r)}return A.join(`
`)}var Hx=(function(t){XS(e,t);function e(A,n,r,s,i){var o=this.constructor,a=t.call(this,zx(A,{name:n,index:r,operation:s,tree:i}))||this;return a.name=n,a.index=r,a.operation=s,a.tree=i,Object.setPrototypeOf(a,o.prototype),a.message=zx(A,{name:n,index:r,operation:s,tree:i}),a}return e})(Error),iA=Hx,tZ=Gn,Fo={add:function(t,e,A){return t[e]=this.value,{newDocument:A}},remove:function(t,e,A){var n=t[e];return delete t[e],{newDocument:A,removed:n}},replace:function(t,e,A){var n=t[e];return t[e]=this.value,{newDocument:A,removed:n}},move:function(t,e,A){var n=wu(A,this.path);n&&(n=Gn(n));var r=Ui(A,{op:"remove",path:this.from}).removed;return Ui(A,{op:"add",path:this.path,value:r}),{newDocument:A,removed:n}},copy:function(t,e,A){var n=wu(A,this.from);return Ui(A,{op:"add",path:this.path,value:Gn(n)}),{newDocument:A}},test:function(t,e,A){return{newDocument:A,test:Gc(t[e],this.value)}},_get:function(t,e,A){return this.value=t[e],{newDocument:A}}},AZ={add:function(t,e,A){return Nm(e)?t.splice(e,0,this.value):t[e]=this.value,{newDocument:A,index:e}},remove:function(t,e,A){var n=t.splice(e,1);return{newDocument:A,removed:n[0]}},replace:function(t,e,A){var n=t[e];return t[e]=this.value,{newDocument:A,removed:n}},move:Fo.move,copy:Fo.copy,test:Fo.test,_get:Fo._get};function wu(t,e){if(e=="")return t;var A={op:"_get",path:e};return Ui(t,A),A.value}function Ui(t,e,A,n,r,s){if(A===void 0&&(A=!1),n===void 0&&(n=!0),r===void 0&&(r=!0),s===void 0&&(s=0),A&&(typeof A=="function"?A(e,0,t,e.path):bu(e,0)),e.path===""){var i={newDocument:t};if(e.op==="add")return i.newDocument=e.value,i;if(e.op==="replace")return i.newDocument=e.value,i.removed=t,i;if(e.op==="move"||e.op==="copy")return i.newDocument=wu(t,e.from),e.op==="move"&&(i.removed=t),i;if(e.op==="test"){if(i.test=Gc(t,e.value),i.test===!1)throw new iA("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i.newDocument=t,i}else{if(e.op==="remove")return i.removed=t,i.newDocument=null,i;if(e.op==="_get")return e.value=t,i;if(A)throw new iA("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,e,t);return i}}else{n||(t=Gn(t));var o=e.path||"",a=o.split("/"),c=t,l=1,u=a.length,h=void 0,f=void 0,d=void 0;for(typeof A=="function"?d=A:d=bu;;){if(f=a[l],f&&f.indexOf("~")!=-1&&(f=jx(f)),r&&(f=="__proto__"||f=="prototype"&&l>0&&a[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(A&&h===void 0&&(c[f]===void 0?h=a.slice(0,l).join("/"):l==u-1&&(h=e.path),h!==void 0&&d(e,0,t,h)),l++,Array.isArray(c)){if(f==="-")f=c.length;else{if(A&&!Nm(f))throw new iA("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,e,t);Nm(f)&&(f=~~f)}if(l>=u){if(A&&e.op==="add"&&f>c.length)throw new iA("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,e,t);var i=AZ[e.op].call(e,c,f,t);if(i.test===!1)throw new iA("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i}}else if(l>=u){var i=Fo[e.op].call(e,c,f,t);if(i.test===!1)throw new iA("Test operation failed","TEST_OPERATION_FAILED",s,e,t);return i}if(c=c[f],A&&l<u&&(!c||typeof c!="object"))throw new iA("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,e,t)}}}function Ym(t,e,A,n,r){if(n===void 0&&(n=!0),r===void 0&&(r=!0),A&&!Array.isArray(e))throw new iA("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(t=Gn(t));for(var s=new Array(e.length),i=0,o=e.length;i<o;i++)s[i]=Ui(t,e[i],A,!0,r,i),t=s[i].newDocument;return s.newDocument=t,s}function nZ(t,e,A){var n=Ui(t,e);if(n.test===!1)throw new iA("Test operation failed","TEST_OPERATION_FAILED",A,e,t);return n.newDocument}function bu(t,e,A,n){if(typeof t!="object"||t===null||Array.isArray(t))throw new iA("Operation is not an object","OPERATION_NOT_AN_OBJECT",e,t,A);if(Fo[t.op]){if(typeof t.path!="string")throw new iA("Operation `path` property is not a string","OPERATION_PATH_INVALID",e,t,A);if(t.path.indexOf("/")!==0&&t.path.length>0)throw new iA('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",e,t,A);if((t.op==="move"||t.op==="copy")&&typeof t.from!="string")throw new iA("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",e,t,A);if((t.op==="add"||t.op==="replace"||t.op==="test")&&t.value===void 0)throw new iA("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",e,t,A);if((t.op==="add"||t.op==="replace"||t.op==="test")&&Tm(t.value))throw new iA("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",e,t,A);if(A){if(t.op=="add"){var r=t.path.split("/").length,s=n.split("/").length;if(r!==s+1&&r!==s)throw new iA("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",e,t,A)}else if(t.op==="replace"||t.op==="remove"||t.op==="_get"){if(t.path!==n)throw new iA("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",e,t,A)}else if(t.op==="move"||t.op==="copy"){var i={op:"_get",path:t.from,value:void 0},o=Lx([i],A);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new iA("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",e,t,A)}}}else throw new iA("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",e,t,A)}function Lx(t,e,A){try{if(!Array.isArray(t))throw new iA("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(e)Ym(Gn(e),Gn(t),A||!0);else{A=A||bu;for(var n=0;n<t.length;n++)A(t[n],n,e,void 0)}}catch(r){if(r instanceof iA)return r;throw r}}function Gc(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){var A=Array.isArray(t),n=Array.isArray(e),r,s,i;if(A&&n){if(s=t.length,s!=e.length)return!1;for(r=s;r--!==0;)if(!Gc(t[r],e[r]))return!1;return!0}if(A!=n)return!1;var o=Object.keys(t);if(s=o.length,s!==Object.keys(e).length)return!1;for(r=s;r--!==0;)if(!e.hasOwnProperty(o[r]))return!1;for(r=s;r--!==0;)if(i=o[r],!Gc(t[i],e[i]))return!1;return!0}return t!==t&&e!==e}var rZ=Object.freeze({__proto__:null,JsonPatchError:iA,_areEquals:Gc,applyOperation:Ui,applyPatch:Ym,applyReducer:nZ,deepClone:tZ,getValueByPointer:wu,validate:Lx,validator:bu});var Om=new WeakMap,sZ=(function(){function t(e){this.observers=new Map,this.obj=e}return t})(),iZ=(function(){function t(e,A){this.callback=e,this.observer=A}return t})();function oZ(t){return Om.get(t)}function aZ(t,e){return t.observers.get(e)}function cZ(t,e){t.observers.delete(e.callback)}function lZ(t,e){e.unobserve()}function uZ(t,e){var A=[],n,r=oZ(t);if(!r)r=new sZ(t),Om.set(t,r);else{var s=aZ(r,e);n=s&&s.observer}if(n)return n;if(n={},r.value=Gn(t),e){n.callback=e,n.next=null;var i=function(){Sm(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=A,n.object=t,n.unobserve=function(){Sm(n),clearTimeout(n.next),cZ(r,n),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(e,new iZ(e,n)),n}function Sm(t,e){e===void 0&&(e=!1);var A=Om.get(t.object);Zm(A.value,t.object,t.patches,"",e),t.patches.length&&Ym(A.value,t.patches);var n=t.patches;return n.length>0&&(t.patches=[],t.callback&&t.callback(n)),n}function Zm(t,e,A,n,r){if(e!==t){typeof e.toJSON=="function"&&(e=e.toJSON());for(var s=Em(e),i=Em(t),o=!1,a=i.length-1;a>=0;a--){var c=i[a],l=t[c];if(km(e,c)&&!(e[c]===void 0&&l!==void 0&&Array.isArray(e)===!1)){var u=e[c];typeof l=="object"&&l!=null&&typeof u=="object"&&u!=null&&Array.isArray(l)===Array.isArray(u)?Zm(l,u,A,n+"/"+Li(c),r):l!==u&&(r&&A.push({op:"test",path:n+"/"+Li(c),value:Gn(l)}),A.push({op:"replace",path:n+"/"+Li(c),value:Gn(u)}))}else Array.isArray(t)===Array.isArray(e)?(r&&A.push({op:"test",path:n+"/"+Li(c),value:Gn(l)}),A.push({op:"remove",path:n+"/"+Li(c)}),o=!0):(r&&A.push({op:"test",path:n,value:t}),A.push({op:"replace",path:n,value:e}))}if(!(!o&&s.length==i.length))for(var a=0;a<s.length;a++){var c=s[a];!km(t,c)&&e[c]!==void 0&&A.push({op:"add",path:n+"/"+Li(c),value:Gn(e[c])})}}}function Ux(t,e,A){A===void 0&&(A=!1);var n=[];return Zm(t,e,n,"",A),n}var hZ=Object.freeze({__proto__:null,compare:Ux,generate:Sm,observe:uZ,unobserve:lZ});Object.assign({},rZ,hZ,{JsonPatchError:Hx,deepClone:Gn,escapePathComponent:Li,unescapePathComponent:jx});var Cm,$x;function fZ(){if($x)return Cm;$x=1;var t=typeof Element<"u",e=typeof Map=="function",A=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,i){if(s===i)return!0;if(s&&i&&typeof s=="object"&&typeof i=="object"){if(s.constructor!==i.constructor)return!1;var o,a,c;if(Array.isArray(s)){if(o=s.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!r(s[a],i[a]))return!1;return!0}var l;if(e&&s instanceof Map&&i instanceof Map){if(s.size!==i.size)return!1;for(l=s.entries();!(a=l.next()).done;)if(!i.has(a.value[0]))return!1;for(l=s.entries();!(a=l.next()).done;)if(!r(a.value[1],i.get(a.value[0])))return!1;return!0}if(A&&s instanceof Set&&i instanceof Set){if(s.size!==i.size)return!1;for(l=s.entries();!(a=l.next()).done;)if(!i.has(a.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(i)){if(o=s.length,o!=i.length)return!1;for(a=o;a--!==0;)if(s[a]!==i[a])return!1;return!0}if(s.constructor===RegExp)return s.source===i.source&&s.flags===i.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof i.valueOf=="function")return s.valueOf()===i.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof i.toString=="function")return s.toString()===i.toString();if(c=Object.keys(s),o=c.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[a]))return!1;if(t&&s instanceof Element)return!1;for(a=o;a--!==0;)if(!((c[a]==="_owner"||c[a]==="__v"||c[a]==="__o")&&s.$$typeof)&&!r(s[c[a]],i[c[a]]))return!1;return!0}return s!==s&&i!==i}return Cm=function(i,o){try{return r(i,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},Cm}var dZ=fZ(),mZ=Hi(dZ);function G(t){return t!=null}const Mn=Object.keys;function JA(t){return Gn(t)}function pZ(t){return typeof t=="boolean"}function Ne(t){return typeof t=="number"&&isNaN(t)===!1}function xe(t){return typeof t=="string"}function st(t){return Array.isArray(t)}function Pm(t){return t}var Xe=(t=>(t[t.BLACK=0]="BLACK",t[t.DKBLUE=1]="DKBLUE",t[t.DKGREEN=2]="DKGREEN",t[t.DKCYAN=3]="DKCYAN",t[t.DKRED=4]="DKRED",t[t.DKPURPLE=5]="DKPURPLE",t[t.DKYELLOW=6]="DKYELLOW",t[t.LTGRAY=7]="LTGRAY",t[t.DKGRAY=8]="DKGRAY",t[t.BLUE=9]="BLUE",t[t.GREEN=10]="GREEN",t[t.CYAN=11]="CYAN",t[t.RED=12]="RED",t[t.PURPLE=13]="PURPLE",t[t.YELLOW=14]="YELLOW",t[t.WHITE=15]="WHITE",t[t.ONBLACK=16]="ONBLACK",t[t.ONDKBLUE=17]="ONDKBLUE",t[t.ONDKGREEN=18]="ONDKGREEN",t[t.ONDKCYAN=19]="ONDKCYAN",t[t.ONDKRED=20]="ONDKRED",t[t.ONDKPURPLE=21]="ONDKPURPLE",t[t.ONDKYELLOW=22]="ONDKYELLOW",t[t.ONLTGRAY=23]="ONLTGRAY",t[t.ONDKGRAY=24]="ONDKGRAY",t[t.ONBLUE=25]="ONBLUE",t[t.ONGREEN=26]="ONGREEN",t[t.ONCYAN=27]="ONCYAN",t[t.ONRED=28]="ONRED",t[t.ONPURPLE=29]="ONPURPLE",t[t.ONYELLOW=30]="ONYELLOW",t[t.ONWHITE=31]="ONWHITE",t[t.ONCLEAR=32]="ONCLEAR",t[t.BLBLACK=33]="BLBLACK",t[t.BLDKBLUE=34]="BLDKBLUE",t[t.BLDKGREEN=35]="BLDKGREEN",t[t.BLDKCYAN=36]="BLDKCYAN",t[t.BLDKRED=37]="BLDKRED",t[t.BLDKPURPLE=38]="BLDKPURPLE",t[t.BLDKYELLOW=39]="BLDKYELLOW",t[t.BLLTGRAY=40]="BLLTGRAY",t[t.BLDKGRAY=41]="BLDKGRAY",t[t.BLBLUE=42]="BLBLUE",t[t.BLGREEN=43]="BLGREEN",t[t.BLCYAN=44]="BLCYAN",t[t.BLRED=45]="BLRED",t[t.BLPURPLE=46]="BLPURPLE",t[t.BLYELLOW=47]="BLYELLOW",t[t.BLWHITE=48]="BLWHITE",t))(Xe||{}),Fe=(t=>(t[t.ISWALK=0]="ISWALK",t[t.ISSOLID=1]="ISSOLID",t[t.ISSWIM=2]="ISSWIM",t[t.ISBULLET=3]="ISBULLET",t[t.ISGHOST=4]="ISGHOST",t))(Fe||{}),yn=(t=>(t[t.ISTERRAIN=0]="ISTERRAIN",t[t.ISOBJECT=1]="ISOBJECT",t))(yn||{}),ve=(t=>(t[t.IDLE=0]="IDLE",t[t.NORTH=1]="NORTH",t[t.SOUTH=2]="SOUTH",t[t.WEST=3]="WEST",t[t.EAST=4]="EAST",t[t.BY=5]="BY",t[t.AT=6]="AT",t[t.FLOW=7]="FLOW",t[t.SEEK=8]="SEEK",t[t.RNDNS=9]="RNDNS",t[t.RNDNE=10]="RNDNE",t[t.RND=11]="RND",t[t.CW=12]="CW",t[t.CCW=13]="CCW",t[t.OPP=14]="OPP",t[t.RNDP=15]="RNDP",t[t.AWAY=16]="AWAY",t[t.TOWARD=17]="TOWARD",t[t.FIND=18]="FIND",t[t.FLEE=19]="FLEE",t[t.TO=20]="TO",t[t.MID=21]="MID",t[t.OVER=22]="OVER",t[t.UNDER=23]="UNDER",t[t.GROUND=24]="GROUND",t[t.WITHIN=25]="WITHIN",t[t.AWAYBY=26]="AWAYBY",t[t.ELEMENTS=27]="ELEMENTS",t))(ve||{}),Ge=(t=>(t[t.LOADER=0]="LOADER",t[t.BOARD=1]="BOARD",t[t.OBJECT=2]="OBJECT",t[t.TERRAIN=3]="TERRAIN",t[t.CHARSET=4]="CHARSET",t[t.PALETTE=5]="PALETTE",t[t.CONST=6]="CONST",t[t.RANGE=7]="RANGE",t[t.SELECT=8]="SELECT",t[t.NUMBER=9]="NUMBER",t[t.TEXT=10]="TEXT",t[t.HOTKEY=11]="HOTKEY",t[t.COPYIT=12]="COPYIT",t[t.OPENIT=13]="OPENIT",t[t.VIEWIT=14]="VIEWIT",t[t.RUNIT=15]="RUNIT",t[t.ZSSEDIT=16]="ZSSEDIT",t[t.CHAREDIT=17]="CHAREDIT",t[t.COLOREDIT=18]="COLOREDIT",t))(Ge||{});function je(t){return xe(t)?t.toLowerCase().trim():""}function gZ(t,e,A,n,r){return{session:t,player:e,id:sA(),sender:A,target:n,data:r}}function tr(t){const[e,...A]=t.split(":");return{target:e,path:A.join(":")}}function $i(t,e=[],A=Pm,n=""){const r=sA(),s=je(t),i=e.map(je);let o=n;const a={id(){return r},name(){return t},session(c){return G(c)?c.session===o?c.session:"":o},topics(){return e},emit(c,l,u){_c.emit(o,c,r,l,u)},reply(c,l,u){a.emit(c.player,`${c.sender}:${l}`,u)},replynext(c,l,u){setTimeout(()=>a.emit(c.player,`${c.sender}:${l}`,u),64)},handle(c){const{target:l,path:u}=tr(c.target),h=je(l);!o&&h==="ready"&&(o=c.session),h==="sessionreset"&&(o=""),i.findIndex(f=>f==="all"||f===h)!==-1&&A(c),(r===l||h==="all"||s===h)&&A({...c,target:u})},disconnect(){_c.disconnect(a)}};return _c.connect(a),a}function wZ(t){return typeof t=="object"&&xe(t.session)&&xe(t.player)&&xe(t.id)&&xe(t.sender)&&xe(t.target)}function Mt(t,e,A,...n){return t.emit(e,"log",[`$red${A}$blue>>`,...n]),!1}function _A(t,e,...A){return t.emit(e,"log",A),!0}function Rm(t,e,...A){return t.emit(e,"chat",A),!0}function Bs(t,e,A){t.emit(e,"toast",A)}function bZ(t,e,A){t.emit(e,"bridge:streamstart",A)}function _Z(t,e){t.emit(e,"bridge:streamstop",void 0)}function xZ(t,e,A){t.emit(e,"bridge:chatstart",A)}function GZ(t,e){t.emit(e,"bridge:chatstop")}function MZ(t,e,A,n,r,s,i){t.emit(e,"bridge:fetch",[A,n,r,s,i])}function yZ(t,e,A){t.emit(e,"bridge:start",A)}function DZ(t,e,A){t.emit(e,"bridge:tab",A)}function vZ(t,e,A){t.emit(e,"gadgetclient:paint",A)}function BZ(t,e,A){t.emit(e,"gadgetclient:patch",A)}function kZ(t,e){t.emit(e,"gadgetserver:clearscroll")}function EZ(t,e,A,n){t.emit(e,"heavy:modelprompt",[A,n])}function NZ(t){t.emit("","ready")}function Kr(t,e,A,n){t.emit(e,"register:input",[A,n])}function Im(t,e){t.emit(e,"register:loginready",!0)}function TZ(t,e,A,n,r){t.emit(e,"register:savemem",[A,n,r])}function YZ(t,e,A,n){t.emit(e,"register:forkmem",[A,n])}function OZ(t,e,A,...n){t.emit(e,"register:publishmem",[A,...n])}function _u(t,e,A){t.emit(e,"register:copy",A)}function SZ(t,e){t.emit(e,"register:screenshot")}function Fx(t,e,A,n){t.emit(e,"register:downloadjsonfile",[A,n])}function ZZ(t,e){t.emit(e,"register:share",void 0)}function CZ(t,e){t.emit(e,"register:nuke",void 0)}function jm(t,e,A,n){t.emit(e,"synth:play",[A,n])}function PZ(t,e,A,n,r){t.emit(e,"synth:bgplay",[A,n,r])}function RZ(t,e,A,n){t.emit(e,"synth:bpm",[A,n])}function IZ(t,e,A,n){t.emit(e,"synth:playvolume",[A,n])}function jZ(t,e,A,n){t.emit(e,"synth:bgplayvolume",[A,n])}function zZ(t,e,A,n){t.emit(e,"synth:ttsvolume",[A,n])}function HZ(t,e,A,n,r){t.emit(e,"synth:ttsengine",[A,n,r])}function LZ(t,e,A,n,r){t.emit(e,"synth:tts",[A,n,r])}function UZ(t,e,A,n){t.emit(e,"synth:ttsinfo",[A,n])}function $Z(t,e,A,n,r){t.emit(e,"synth:ttsqueue",[A,n,r])}function FZ(t,e,A){t.emit(e,"synth:ttsclearqueue",[A])}function zm(t,e,A,n,r,s){t.emit(e,"synth:voice",[A,n,r,s])}function Vx(t,e,A,n,r,s,i){t.emit(e,"synth:voicefx",[A,n,r,s,i])}function VZ(t,e,A){t.emit(e,"synth:record",[A])}function WZ(t,e){t.emit(e,"synth:flush")}function QZ(t,e,A,n){t.emit(e,"register:store",[A,n])}function Wx(t,e,A){t.emit(e,"register:inspector",A)}function Qx(t,e,A){t.emit(e,"register:findany",A)}function qZ(t,e){t.emit(e,"register:terminal:full")}function qx(t,e,A,n,r,s){t.emit(e,"register:editor:open",[A,n,r,s])}function KZ(t,e){t.emit(e,"vm:admin")}function JZ(t,e,A,n){t.emit(e,"vm:zztsearch",[A,n])}function XZ(t,e){t.emit(e,"vm:zztrandom")}function eC(t,e){t.emit(e,"vm:halt")}function tC(t,e,A){t.emit(e,"vm:login",A)}function AC(t,e){t.emit(e,"vm:local")}function Mc(t,e,A){t.emit(e,"vm:logout",A)}function nC(t,e){t.emit(e,"vm:doot")}function rC(t,e){t.emit(e,"vm:agentstart")}function sC(t,e,A){t.emit(e,"vm:agentstop",A)}function Hm(t,e){t.emit(e,"vm:agentlist")}function iC(t,e,A,n){t.emit(e,"vm:agentprompt",[A,n])}function oC(t,e,A){t.emit(e,"vm:makeitscroll",A)}function Kx(t,e){t.emit(e,"vm:refscroll")}function aC(t,e){t.emit(e,"vm:readzipfilelist")}function xu(t,e){const[A,n]=e;return`${t}:${[A,n].filter(G).join(":")}`}function Jx(t,e){t.emit(e,"vm:clearscroll")}function Fi(t,e,A){t.emit(e,"vm:cli",A)}function cC(t,e){t.emit(e,"vm:restart")}function Xx(t,e){t.emit(e,"vm:flush")}function lC(t,e,A){t.emit(e,"vm:fork",A)}function eG(t,e,A,...n){t.emit(e,"vm:publish",[A,...n])}function uC(t,e){return{filename:t,cursor:0,lines:e.split(`
`)}}function hC(t,e){return{filename:t,json:e}}function fC(t,e){return{filename:t,cursor:0,bytes:e,dataview:new DataView(e.buffer)}}function yc(t,e,A,n,r,s){let i;switch(n){case"file":i=s;break;case"text":i=uC(r,s);break;case"json":i=hC(r,s);break;case"binary":i=fC(r,s);break}setTimeout(()=>{t.emit(e,"vm:loader",[A,n,r,i])},1)}function dC(t){const e=new Set;function A(s){wZ(s)&&s.target!=="tick"&&s.target!=="tock"&&e.has(s.id)===!1&&(e.add(s.id),_c.invoke(s))}const n=$i("forward",["all"],s=>{e.has(s.id)||(e.add(s.id),t(s))});function r(){n.disconnect()}return{forward:A,disconnect:r}}function mC(t){switch(t.target){case"log":case"chat":case"tick":case"tock":case"ready":case"toast":case"second":return!0;default:{const e=tr(t.target);switch(e.target){case"vm":case"heavy":case"synth":case"modem":case"bridge":case"register":case"gadgetclient":return!0}switch(e.path){case"sync":case"heavy":case"joinack":case"acklook":case"acklogin":case"ackoperator":case"ackzsswords":case"gadgetclient":return!0}break}}return!1}const Lm=80,tG=1e3/Lm,AG=3;function Vi(t){return new Promise(e=>setTimeout(e,t))}const Um=$i("clock");let Gu=0,$m=0,Fm=0,nG=performance.now();function rG(){const t=performance.now(),e=t-nG;$m+=e,$m>=Lm&&($m%=Lm,Um.emit("","tick",Gu),Um.emit("","tock",Gu),++Gu),Fm+=e,Fm>=1e3&&(Fm-=1e3,Um.emit("","second",Gu)),nG=t,setTimeout(rG,2)}rG();var Dc={},sG={},Mu={};Mu.byteLength=wC,Mu.toByteArray=_C,Mu.fromByteArray=MC;for(var Jr=[],Ar=[],pC=typeof Uint8Array<"u"?Uint8Array:Array,Vm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Vo=0,gC=Vm.length;Vo<gC;++Vo)Jr[Vo]=Vm[Vo],Ar[Vm.charCodeAt(Vo)]=Vo;Ar[45]=62,Ar[95]=63;function iG(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=t.indexOf("=");A===-1&&(A=e);var n=A===e?0:4-A%4;return[A,n]}function wC(t){var e=iG(t),A=e[0],n=e[1];return(A+n)*3/4-n}function bC(t,e,A){return(e+A)*3/4-A}function _C(t){var e,A=iG(t),n=A[0],r=A[1],s=new pC(bC(t,n,r)),i=0,o=r>0?n-4:n,a;for(a=0;a<o;a+=4)e=Ar[t.charCodeAt(a)]<<18|Ar[t.charCodeAt(a+1)]<<12|Ar[t.charCodeAt(a+2)]<<6|Ar[t.charCodeAt(a+3)],s[i++]=e>>16&255,s[i++]=e>>8&255,s[i++]=e&255;return r===2&&(e=Ar[t.charCodeAt(a)]<<2|Ar[t.charCodeAt(a+1)]>>4,s[i++]=e&255),r===1&&(e=Ar[t.charCodeAt(a)]<<10|Ar[t.charCodeAt(a+1)]<<4|Ar[t.charCodeAt(a+2)]>>2,s[i++]=e>>8&255,s[i++]=e&255),s}function xC(t){return Jr[t>>18&63]+Jr[t>>12&63]+Jr[t>>6&63]+Jr[t&63]}function GC(t,e,A){for(var n,r=[],s=e;s<A;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(t[s+2]&255),r.push(xC(n));return r.join("")}function MC(t){for(var e,A=t.length,n=A%3,r=[],s=16383,i=0,o=A-n;i<o;i+=s)r.push(GC(t,i,i+s>o?o:i+s));return n===1?(e=t[A-1],r.push(Jr[e>>2]+Jr[e<<4&63]+"==")):n===2&&(e=(t[A-2]<<8)+t[A-1],r.push(Jr[e>>10]+Jr[e>>4&63]+Jr[e<<2&63]+"=")),r.join("")}var Wm={};Wm.read=function(t,e,A,n,r){var s,i,o=r*8-n-1,a=(1<<o)-1,c=a>>1,l=-7,u=A?r-1:0,h=A?-1:1,f=t[e+u];for(u+=h,s=f&(1<<-l)-1,f>>=-l,l+=o;l>0;s=s*256+t[e+u],u+=h,l-=8);for(i=s&(1<<-l)-1,s>>=-l,l+=n;l>0;i=i*256+t[e+u],u+=h,l-=8);if(s===0)s=1-c;else{if(s===a)return i?NaN:(f?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-c}return(f?-1:1)*i*Math.pow(2,s-n)},Wm.write=function(t,e,A,n,r,s){var i,o,a,c=s*8-r-1,l=(1<<c)-1,u=l>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,d=n?1:-1,m=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(o=isNaN(e)?1:0,i=l):(i=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+u>=1?e+=h/a:e+=h*Math.pow(2,1-u),e*a>=2&&(i++,a/=2),i+u>=l?(o=0,i=l):i+u>=1?(o=(e*a-1)*Math.pow(2,r),i=i+u):(o=e*Math.pow(2,u-1)*Math.pow(2,r),i=0));r>=8;t[A+f]=o&255,f+=d,o/=256,r-=8);for(i=i<<r|o,c+=r;c>0;t[A+f]=i&255,f+=d,i/=256,c-=8);t[A+f-d]|=m*128};(function(t){const e=Mu,A=Wm,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=b,t.INSPECT_MAX_BYTES=50;const r=2147483647;t.kMaxLength=r;const{Uint8Array:s,ArrayBuffer:i,SharedArrayBuffer:o}=globalThis;l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const P=new s(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,s.prototype),Object.setPrototypeOf(P,D),P.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(P){if(P>r)throw new RangeError('The value "'+P+'" is invalid for option "size"');const D=new s(P);return Object.setPrototypeOf(D,l.prototype),D}function l(P,D,E){if(typeof P=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(P)}return u(P,D,E)}l.poolSize=8192;function u(P,D,E){if(typeof P=="string")return m(P,D);if(i.isView(P))return g(P);if(P==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P);if(Be(P,i)||P&&Be(P.buffer,i)||typeof o<"u"&&(Be(P,o)||P&&Be(P.buffer,o)))return w(P,D,E);if(typeof P=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const H=P.valueOf&&P.valueOf();if(H!=null&&H!==P)return l.from(H,D,E);const ne=x(P);if(ne)return ne;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof P[Symbol.toPrimitive]=="function")return l.from(P[Symbol.toPrimitive]("string"),D,E);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof P)}l.from=function(P,D,E){return u(P,D,E)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function h(P){if(typeof P!="number")throw new TypeError('"size" argument must be of type number');if(P<0)throw new RangeError('The value "'+P+'" is invalid for option "size"')}function f(P,D,E){return h(P),P<=0?c(P):D!==void 0?typeof E=="string"?c(P).fill(D,E):c(P).fill(D):c(P)}l.alloc=function(P,D,E){return f(P,D,E)};function d(P){return h(P),c(P<0?0:v(P)|0)}l.allocUnsafe=function(P){return d(P)},l.allocUnsafeSlow=function(P){return d(P)};function m(P,D){if((typeof D!="string"||D==="")&&(D="utf8"),!l.isEncoding(D))throw new TypeError("Unknown encoding: "+D);const E=T(P,D)|0;let H=c(E);const ne=H.write(P,D);return ne!==E&&(H=H.slice(0,ne)),H}function p(P){const D=P.length<0?0:v(P.length)|0,E=c(D);for(let H=0;H<D;H+=1)E[H]=P[H]&255;return E}function g(P){if(Be(P,s)){const D=new s(P);return w(D.buffer,D.byteOffset,D.byteLength)}return p(P)}function w(P,D,E){if(D<0||P.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(P.byteLength<D+(E||0))throw new RangeError('"length" is outside of buffer bounds');let H;return D===void 0&&E===void 0?H=new s(P):E===void 0?H=new s(P,D):H=new s(P,D,E),Object.setPrototypeOf(H,l.prototype),H}function x(P){if(l.isBuffer(P)){const D=v(P.length)|0,E=c(D);return E.length===0||P.copy(E,0,0,D),E}if(P.length!==void 0)return typeof P.length!="number"||Ue(P.length)?c(0):p(P);if(P.type==="Buffer"&&Array.isArray(P.data))return p(P.data)}function v(P){if(P>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return P|0}function b(P){return+P!=P&&(P=0),l.alloc(+P)}l.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==l.prototype},l.compare=function(D,E){if(Be(D,s)&&(D=l.from(D,D.offset,D.byteLength)),Be(E,s)&&(E=l.from(E,E.offset,E.byteLength)),!l.isBuffer(D)||!l.isBuffer(E))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===E)return 0;let H=D.length,ne=E.length;for(let ue=0,$=Math.min(H,ne);ue<$;++ue)if(D[ue]!==E[ue]){H=D[ue],ne=E[ue];break}return H<ne?-1:ne<H?1:0},l.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(D,E){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return l.alloc(0);let H;if(E===void 0)for(E=0,H=0;H<D.length;++H)E+=D[H].length;const ne=l.allocUnsafe(E);let ue=0;for(H=0;H<D.length;++H){let $=D[H];if(Be($,s))ue+$.length>ne.length?(l.isBuffer($)||($=l.from($)),$.copy(ne,ue)):s.prototype.set.call(ne,$,ue);else if(l.isBuffer($))$.copy(ne,ue);else throw new TypeError('"list" argument must be an Array of Buffers');ue+=$.length}return ne};function T(P,D){if(l.isBuffer(P))return P.length;if(i.isView(P)||Be(P,i))return P.byteLength;if(typeof P!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof P);const E=P.length,H=arguments.length>2&&arguments[2]===!0;if(!H&&E===0)return 0;let ne=!1;for(;;)switch(D){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return fe(P).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E*2;case"hex":return E>>>1;case"base64":return ye(P).length;default:if(ne)return H?-1:fe(P).length;D=(""+D).toLowerCase(),ne=!0}}l.byteLength=T;function M(P,D,E){let H=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((E===void 0||E>this.length)&&(E=this.length),E<=0)||(E>>>=0,D>>>=0,E<=D))return"";for(P||(P="utf8");;)switch(P){case"hex":return R(this,D,E);case"utf8":case"utf-8":return j(this,D,E);case"ascii":return W(this,D,E);case"latin1":case"binary":return O(this,D,E);case"base64":return U(this,D,E);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ae(this,D,E);default:if(H)throw new TypeError("Unknown encoding: "+P);P=(P+"").toLowerCase(),H=!0}}l.prototype._isBuffer=!0;function B(P,D,E){const H=P[D];P[D]=P[E],P[E]=H}l.prototype.swap16=function(){const D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let E=0;E<D;E+=2)B(this,E,E+1);return this},l.prototype.swap32=function(){const D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let E=0;E<D;E+=4)B(this,E,E+3),B(this,E+1,E+2);return this},l.prototype.swap64=function(){const D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let E=0;E<D;E+=8)B(this,E,E+7),B(this,E+1,E+6),B(this,E+2,E+5),B(this,E+3,E+4);return this},l.prototype.toString=function(){const D=this.length;return D===0?"":arguments.length===0?j(this,0,D):M.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(D){if(!l.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:l.compare(this,D)===0},l.prototype.inspect=function(){let D="";const E=t.INSPECT_MAX_BYTES;return D=this.toString("hex",0,E).replace(/(.{2})/g,"$1 ").trim(),this.length>E&&(D+=" ... "),"<Buffer "+D+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(D,E,H,ne,ue){if(Be(D,s)&&(D=l.from(D,D.offset,D.byteLength)),!l.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(E===void 0&&(E=0),H===void 0&&(H=D?D.length:0),ne===void 0&&(ne=0),ue===void 0&&(ue=this.length),E<0||H>D.length||ne<0||ue>this.length)throw new RangeError("out of range index");if(ne>=ue&&E>=H)return 0;if(ne>=ue)return-1;if(E>=H)return 1;if(E>>>=0,H>>>=0,ne>>>=0,ue>>>=0,this===D)return 0;let $=ue-ne,se=H-E;const Ve=Math.min($,se),Qe=this.slice(ne,ue),Ke=D.slice(E,H);for(let Ie=0;Ie<Ve;++Ie)if(Qe[Ie]!==Ke[Ie]){$=Qe[Ie],se=Ke[Ie];break}return $<se?-1:se<$?1:0};function Z(P,D,E,H,ne){if(P.length===0)return-1;if(typeof E=="string"?(H=E,E=0):E>2147483647?E=2147483647:E<-2147483648&&(E=-2147483648),E=+E,Ue(E)&&(E=ne?0:P.length-1),E<0&&(E=P.length+E),E>=P.length){if(ne)return-1;E=P.length-1}else if(E<0)if(ne)E=0;else return-1;if(typeof D=="string"&&(D=l.from(D,H)),l.isBuffer(D))return D.length===0?-1:S(P,D,E,H,ne);if(typeof D=="number")return D=D&255,typeof s.prototype.indexOf=="function"?ne?s.prototype.indexOf.call(P,D,E):s.prototype.lastIndexOf.call(P,D,E):S(P,[D],E,H,ne);throw new TypeError("val must be string, number or Buffer")}function S(P,D,E,H,ne){let ue=1,$=P.length,se=D.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(P.length<2||D.length<2)return-1;ue=2,$/=2,se/=2,E/=2}function Ve(Ke,Ie){return ue===1?Ke[Ie]:Ke.readUInt16BE(Ie*ue)}let Qe;if(ne){let Ke=-1;for(Qe=E;Qe<$;Qe++)if(Ve(P,Qe)===Ve(D,Ke===-1?0:Qe-Ke)){if(Ke===-1&&(Ke=Qe),Qe-Ke+1===se)return Ke*ue}else Ke!==-1&&(Qe-=Qe-Ke),Ke=-1}else for(E+se>$&&(E=$-se),Qe=E;Qe>=0;Qe--){let Ke=!0;for(let Ie=0;Ie<se;Ie++)if(Ve(P,Qe+Ie)!==Ve(D,Ie)){Ke=!1;break}if(Ke)return Qe}return-1}l.prototype.includes=function(D,E,H){return this.indexOf(D,E,H)!==-1},l.prototype.indexOf=function(D,E,H){return Z(this,D,E,H,!0)},l.prototype.lastIndexOf=function(D,E,H){return Z(this,D,E,H,!1)};function C(P,D,E,H){E=Number(E)||0;const ne=P.length-E;H?(H=Number(H),H>ne&&(H=ne)):H=ne;const ue=D.length;H>ue/2&&(H=ue/2);let $;for($=0;$<H;++$){const se=parseInt(D.substr($*2,2),16);if(Ue(se))return $;P[E+$]=se}return $}function k(P,D,E,H){return Se(fe(D,P.length-E),P,E,H)}function N(P,D,E,H){return Se(pe(D),P,E,H)}function y(P,D,E,H){return Se(ye(D),P,E,H)}function I(P,D,E,H){return Se(oe(D,P.length-E),P,E,H)}l.prototype.write=function(D,E,H,ne){if(E===void 0)ne="utf8",H=this.length,E=0;else if(H===void 0&&typeof E=="string")ne=E,H=this.length,E=0;else if(isFinite(E))E=E>>>0,isFinite(H)?(H=H>>>0,ne===void 0&&(ne="utf8")):(ne=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const ue=this.length-E;if((H===void 0||H>ue)&&(H=ue),D.length>0&&(H<0||E<0)||E>this.length)throw new RangeError("Attempt to write outside buffer bounds");ne||(ne="utf8");let $=!1;for(;;)switch(ne){case"hex":return C(this,D,E,H);case"utf8":case"utf-8":return k(this,D,E,H);case"ascii":case"latin1":case"binary":return N(this,D,E,H);case"base64":return y(this,D,E,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,D,E,H);default:if($)throw new TypeError("Unknown encoding: "+ne);ne=(""+ne).toLowerCase(),$=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(P,D,E){return D===0&&E===P.length?e.fromByteArray(P):e.fromByteArray(P.slice(D,E))}function j(P,D,E){E=Math.min(P.length,E);const H=[];let ne=D;for(;ne<E;){const ue=P[ne];let $=null,se=ue>239?4:ue>223?3:ue>191?2:1;if(ne+se<=E){let Ve,Qe,Ke,Ie;switch(se){case 1:ue<128&&($=ue);break;case 2:Ve=P[ne+1],(Ve&192)===128&&(Ie=(ue&31)<<6|Ve&63,Ie>127&&($=Ie));break;case 3:Ve=P[ne+1],Qe=P[ne+2],(Ve&192)===128&&(Qe&192)===128&&(Ie=(ue&15)<<12|(Ve&63)<<6|Qe&63,Ie>2047&&(Ie<55296||Ie>57343)&&($=Ie));break;case 4:Ve=P[ne+1],Qe=P[ne+2],Ke=P[ne+3],(Ve&192)===128&&(Qe&192)===128&&(Ke&192)===128&&(Ie=(ue&15)<<18|(Ve&63)<<12|(Qe&63)<<6|Ke&63,Ie>65535&&Ie<1114112&&($=Ie))}}$===null?($=65533,se=1):$>65535&&($-=65536,H.push($>>>10&1023|55296),$=56320|$&1023),H.push($),ne+=se}return V(H)}const F=4096;function V(P){const D=P.length;if(D<=F)return String.fromCharCode.apply(String,P);let E="",H=0;for(;H<D;)E+=String.fromCharCode.apply(String,P.slice(H,H+=F));return E}function W(P,D,E){let H="";E=Math.min(P.length,E);for(let ne=D;ne<E;++ne)H+=String.fromCharCode(P[ne]&127);return H}function O(P,D,E){let H="";E=Math.min(P.length,E);for(let ne=D;ne<E;++ne)H+=String.fromCharCode(P[ne]);return H}function R(P,D,E){const H=P.length;(!D||D<0)&&(D=0),(!E||E<0||E>H)&&(E=H);let ne="";for(let ue=D;ue<E;++ue)ne+=Bt[P[ue]];return ne}function Ae(P,D,E){const H=P.slice(D,E);let ne="";for(let ue=0;ue<H.length-1;ue+=2)ne+=String.fromCharCode(H[ue]+H[ue+1]*256);return ne}l.prototype.slice=function(D,E){const H=this.length;D=~~D,E=E===void 0?H:~~E,D<0?(D+=H,D<0&&(D=0)):D>H&&(D=H),E<0?(E+=H,E<0&&(E=0)):E>H&&(E=H),E<D&&(E=D);const ne=this.subarray(D,E);return Object.setPrototypeOf(ne,l.prototype),ne};function K(P,D,E){if(P%1!==0||P<0)throw new RangeError("offset is not uint");if(P+D>E)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(D,E,H){D=D>>>0,E=E>>>0,H||K(D,E,this.length);let ne=this[D],ue=1,$=0;for(;++$<E&&(ue*=256);)ne+=this[D+$]*ue;return ne},l.prototype.readUintBE=l.prototype.readUIntBE=function(D,E,H){D=D>>>0,E=E>>>0,H||K(D,E,this.length);let ne=this[D+--E],ue=1;for(;E>0&&(ue*=256);)ne+=this[D+--E]*ue;return ne},l.prototype.readUint8=l.prototype.readUInt8=function(D,E){return D=D>>>0,E||K(D,1,this.length),this[D]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(D,E){return D=D>>>0,E||K(D,2,this.length),this[D]|this[D+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(D,E){return D=D>>>0,E||K(D,2,this.length),this[D]<<8|this[D+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(D,E){return D=D>>>0,E||K(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(D,E){return D=D>>>0,E||K(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},l.prototype.readBigUInt64LE=tt(function(D){D=D>>>0,X(D,"offset");const E=this[D],H=this[D+7];(E===void 0||H===void 0)&&L(D,this.length-8);const ne=E+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24,ue=this[++D]+this[++D]*2**8+this[++D]*2**16+H*2**24;return BigInt(ne)+(BigInt(ue)<<BigInt(32))}),l.prototype.readBigUInt64BE=tt(function(D){D=D>>>0,X(D,"offset");const E=this[D],H=this[D+7];(E===void 0||H===void 0)&&L(D,this.length-8);const ne=E*2**24+this[++D]*2**16+this[++D]*2**8+this[++D],ue=this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+H;return(BigInt(ne)<<BigInt(32))+BigInt(ue)}),l.prototype.readIntLE=function(D,E,H){D=D>>>0,E=E>>>0,H||K(D,E,this.length);let ne=this[D],ue=1,$=0;for(;++$<E&&(ue*=256);)ne+=this[D+$]*ue;return ue*=128,ne>=ue&&(ne-=Math.pow(2,8*E)),ne},l.prototype.readIntBE=function(D,E,H){D=D>>>0,E=E>>>0,H||K(D,E,this.length);let ne=E,ue=1,$=this[D+--ne];for(;ne>0&&(ue*=256);)$+=this[D+--ne]*ue;return ue*=128,$>=ue&&($-=Math.pow(2,8*E)),$},l.prototype.readInt8=function(D,E){return D=D>>>0,E||K(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},l.prototype.readInt16LE=function(D,E){D=D>>>0,E||K(D,2,this.length);const H=this[D]|this[D+1]<<8;return H&32768?H|4294901760:H},l.prototype.readInt16BE=function(D,E){D=D>>>0,E||K(D,2,this.length);const H=this[D+1]|this[D]<<8;return H&32768?H|4294901760:H},l.prototype.readInt32LE=function(D,E){return D=D>>>0,E||K(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},l.prototype.readInt32BE=function(D,E){return D=D>>>0,E||K(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},l.prototype.readBigInt64LE=tt(function(D){D=D>>>0,X(D,"offset");const E=this[D],H=this[D+7];(E===void 0||H===void 0)&&L(D,this.length-8);const ne=this[D+4]+this[D+5]*2**8+this[D+6]*2**16+(H<<24);return(BigInt(ne)<<BigInt(32))+BigInt(E+this[++D]*2**8+this[++D]*2**16+this[++D]*2**24)}),l.prototype.readBigInt64BE=tt(function(D){D=D>>>0,X(D,"offset");const E=this[D],H=this[D+7];(E===void 0||H===void 0)&&L(D,this.length-8);const ne=(E<<24)+this[++D]*2**16+this[++D]*2**8+this[++D];return(BigInt(ne)<<BigInt(32))+BigInt(this[++D]*2**24+this[++D]*2**16+this[++D]*2**8+H)}),l.prototype.readFloatLE=function(D,E){return D=D>>>0,E||K(D,4,this.length),A.read(this,D,!0,23,4)},l.prototype.readFloatBE=function(D,E){return D=D>>>0,E||K(D,4,this.length),A.read(this,D,!1,23,4)},l.prototype.readDoubleLE=function(D,E){return D=D>>>0,E||K(D,8,this.length),A.read(this,D,!0,52,8)},l.prototype.readDoubleBE=function(D,E){return D=D>>>0,E||K(D,8,this.length),A.read(this,D,!1,52,8)};function ee(P,D,E,H,ne,ue){if(!l.isBuffer(P))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ne||D<ue)throw new RangeError('"value" argument is out of bounds');if(E+H>P.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(D,E,H,ne){if(D=+D,E=E>>>0,H=H>>>0,!ne){const se=Math.pow(2,8*H)-1;ee(this,D,E,H,se,0)}let ue=1,$=0;for(this[E]=D&255;++$<H&&(ue*=256);)this[E+$]=D/ue&255;return E+H},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(D,E,H,ne){if(D=+D,E=E>>>0,H=H>>>0,!ne){const se=Math.pow(2,8*H)-1;ee(this,D,E,H,se,0)}let ue=H-1,$=1;for(this[E+ue]=D&255;--ue>=0&&($*=256);)this[E+ue]=D/$&255;return E+H},l.prototype.writeUint8=l.prototype.writeUInt8=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,1,255,0),this[E]=D&255,E+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,2,65535,0),this[E]=D&255,this[E+1]=D>>>8,E+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,2,65535,0),this[E]=D>>>8,this[E+1]=D&255,E+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,4,4294967295,0),this[E+3]=D>>>24,this[E+2]=D>>>16,this[E+1]=D>>>8,this[E]=D&255,E+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,4,4294967295,0),this[E]=D>>>24,this[E+1]=D>>>16,this[E+2]=D>>>8,this[E+3]=D&255,E+4};function de(P,D,E,H,ne){J(D,H,ne,P,E,7);let ue=Number(D&BigInt(4294967295));P[E++]=ue,ue=ue>>8,P[E++]=ue,ue=ue>>8,P[E++]=ue,ue=ue>>8,P[E++]=ue;let $=Number(D>>BigInt(32)&BigInt(4294967295));return P[E++]=$,$=$>>8,P[E++]=$,$=$>>8,P[E++]=$,$=$>>8,P[E++]=$,E}function be(P,D,E,H,ne){J(D,H,ne,P,E,7);let ue=Number(D&BigInt(4294967295));P[E+7]=ue,ue=ue>>8,P[E+6]=ue,ue=ue>>8,P[E+5]=ue,ue=ue>>8,P[E+4]=ue;let $=Number(D>>BigInt(32)&BigInt(4294967295));return P[E+3]=$,$=$>>8,P[E+2]=$,$=$>>8,P[E+1]=$,$=$>>8,P[E]=$,E+8}l.prototype.writeBigUInt64LE=tt(function(D,E=0){return de(this,D,E,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=tt(function(D,E=0){return be(this,D,E,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(D,E,H,ne){if(D=+D,E=E>>>0,!ne){const Ve=Math.pow(2,8*H-1);ee(this,D,E,H,Ve-1,-Ve)}let ue=0,$=1,se=0;for(this[E]=D&255;++ue<H&&($*=256);)D<0&&se===0&&this[E+ue-1]!==0&&(se=1),this[E+ue]=(D/$>>0)-se&255;return E+H},l.prototype.writeIntBE=function(D,E,H,ne){if(D=+D,E=E>>>0,!ne){const Ve=Math.pow(2,8*H-1);ee(this,D,E,H,Ve-1,-Ve)}let ue=H-1,$=1,se=0;for(this[E+ue]=D&255;--ue>=0&&($*=256);)D<0&&se===0&&this[E+ue+1]!==0&&(se=1),this[E+ue]=(D/$>>0)-se&255;return E+H},l.prototype.writeInt8=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,1,127,-128),D<0&&(D=255+D+1),this[E]=D&255,E+1},l.prototype.writeInt16LE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,2,32767,-32768),this[E]=D&255,this[E+1]=D>>>8,E+2},l.prototype.writeInt16BE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,2,32767,-32768),this[E]=D>>>8,this[E+1]=D&255,E+2},l.prototype.writeInt32LE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,4,2147483647,-2147483648),this[E]=D&255,this[E+1]=D>>>8,this[E+2]=D>>>16,this[E+3]=D>>>24,E+4},l.prototype.writeInt32BE=function(D,E,H){return D=+D,E=E>>>0,H||ee(this,D,E,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[E]=D>>>24,this[E+1]=D>>>16,this[E+2]=D>>>8,this[E+3]=D&255,E+4},l.prototype.writeBigInt64LE=tt(function(D,E=0){return de(this,D,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=tt(function(D,E=0){return be(this,D,E,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function me(P,D,E,H,ne,ue){if(E+H>P.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function _e(P,D,E,H,ne){return D=+D,E=E>>>0,ne||me(P,D,E,4),A.write(P,D,E,H,23,4),E+4}l.prototype.writeFloatLE=function(D,E,H){return _e(this,D,E,!0,H)},l.prototype.writeFloatBE=function(D,E,H){return _e(this,D,E,!1,H)};function ke(P,D,E,H,ne){return D=+D,E=E>>>0,ne||me(P,D,E,8),A.write(P,D,E,H,52,8),E+8}l.prototype.writeDoubleLE=function(D,E,H){return ke(this,D,E,!0,H)},l.prototype.writeDoubleBE=function(D,E,H){return ke(this,D,E,!1,H)},l.prototype.copy=function(D,E,H,ne){if(!l.isBuffer(D))throw new TypeError("argument should be a Buffer");if(H||(H=0),!ne&&ne!==0&&(ne=this.length),E>=D.length&&(E=D.length),E||(E=0),ne>0&&ne<H&&(ne=H),ne===H||D.length===0||this.length===0)return 0;if(E<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("Index out of range");if(ne<0)throw new RangeError("sourceEnd out of bounds");ne>this.length&&(ne=this.length),D.length-E<ne-H&&(ne=D.length-E+H);const ue=ne-H;return this===D&&typeof s.prototype.copyWithin=="function"?this.copyWithin(E,H,ne):s.prototype.set.call(D,this.subarray(H,ne),E),ue},l.prototype.fill=function(D,E,H,ne){if(typeof D=="string"){if(typeof E=="string"?(ne=E,E=0,H=this.length):typeof H=="string"&&(ne=H,H=this.length),ne!==void 0&&typeof ne!="string")throw new TypeError("encoding must be a string");if(typeof ne=="string"&&!l.isEncoding(ne))throw new TypeError("Unknown encoding: "+ne);if(D.length===1){const $=D.charCodeAt(0);(ne==="utf8"&&$<128||ne==="latin1")&&(D=$)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(E<0||this.length<E||this.length<H)throw new RangeError("Out of range index");if(H<=E)return this;E=E>>>0,H=H===void 0?this.length:H>>>0,D||(D=0);let ue;if(typeof D=="number")for(ue=E;ue<H;++ue)this[ue]=D;else{const $=l.isBuffer(D)?D:l.from(D,ne),se=$.length;if(se===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(ue=0;ue<H-E;++ue)this[ue+E]=$[ue%se]}return this};const Ye={};function Pe(P,D,E){Ye[P]=class extends E{constructor(){super(),Object.defineProperty(this,"message",{value:D.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${P}]`,this.stack,delete this.name}get code(){return P}set code(ne){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:ne,writable:!0})}toString(){return`${this.name} [${P}]: ${this.message}`}}}Pe("ERR_BUFFER_OUT_OF_BOUNDS",function(P){return P?`${P} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Pe("ERR_INVALID_ARG_TYPE",function(P,D){return`The "${P}" argument must be of type number. Received type ${typeof D}`},TypeError),Pe("ERR_OUT_OF_RANGE",function(P,D,E){let H=`The value of "${P}" is out of range.`,ne=E;return Number.isInteger(E)&&Math.abs(E)>2**32?ne=$e(String(E)):typeof E=="bigint"&&(ne=String(E),(E>BigInt(2)**BigInt(32)||E<-(BigInt(2)**BigInt(32)))&&(ne=$e(ne)),ne+="n"),H+=` It must be ${D}. Received ${ne}`,H},RangeError);function $e(P){let D="",E=P.length;const H=P[0]==="-"?1:0;for(;E>=H+4;E-=3)D=`_${P.slice(E-3,E)}${D}`;return`${P.slice(0,E)}${D}`}function Y(P,D,E){X(D,"offset"),(P[D]===void 0||P[D+E]===void 0)&&L(D,P.length-(E+1))}function J(P,D,E,H,ne,ue){if(P>E||P<D){const $=typeof D=="bigint"?"n":"";let se;throw D===0||D===BigInt(0)?se=`>= 0${$} and < 2${$} ** ${(ue+1)*8}${$}`:se=`>= -(2${$} ** ${(ue+1)*8-1}${$}) and < 2 ** ${(ue+1)*8-1}${$}`,new Ye.ERR_OUT_OF_RANGE("value",se,P)}Y(H,ne,ue)}function X(P,D){if(typeof P!="number")throw new Ye.ERR_INVALID_ARG_TYPE(D,"number",P)}function L(P,D,E){throw Math.floor(P)!==P?(X(P,E),new Ye.ERR_OUT_OF_RANGE("offset","an integer",P)):D<0?new Ye.ERR_BUFFER_OUT_OF_BOUNDS:new Ye.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${D}`,P)}const z=/[^+/0-9A-Za-z-_]/g;function Q(P){if(P=P.split("=")[0],P=P.trim().replace(z,""),P.length<2)return"";for(;P.length%4!==0;)P=P+"=";return P}function fe(P,D){D=D||1/0;let E;const H=P.length;let ne=null;const ue=[];for(let $=0;$<H;++$){if(E=P.charCodeAt($),E>55295&&E<57344){if(!ne){if(E>56319){(D-=3)>-1&&ue.push(239,191,189);continue}else if($+1===H){(D-=3)>-1&&ue.push(239,191,189);continue}ne=E;continue}if(E<56320){(D-=3)>-1&&ue.push(239,191,189),ne=E;continue}E=(ne-55296<<10|E-56320)+65536}else ne&&(D-=3)>-1&&ue.push(239,191,189);if(ne=null,E<128){if((D-=1)<0)break;ue.push(E)}else if(E<2048){if((D-=2)<0)break;ue.push(E>>6|192,E&63|128)}else if(E<65536){if((D-=3)<0)break;ue.push(E>>12|224,E>>6&63|128,E&63|128)}else if(E<1114112){if((D-=4)<0)break;ue.push(E>>18|240,E>>12&63|128,E>>6&63|128,E&63|128)}else throw new Error("Invalid code point")}return ue}function pe(P){const D=[];for(let E=0;E<P.length;++E)D.push(P.charCodeAt(E)&255);return D}function oe(P,D){let E,H,ne;const ue=[];for(let $=0;$<P.length&&!((D-=2)<0);++$)E=P.charCodeAt($),H=E>>8,ne=E%256,ue.push(ne),ue.push(H);return ue}function ye(P){return e.toByteArray(Q(P))}function Se(P,D,E,H){let ne;for(ne=0;ne<H&&!(ne+E>=D.length||ne>=P.length);++ne)D[ne+E]=P[ne];return ne}function Be(P,D){return P instanceof D||P!=null&&P.constructor!=null&&P.constructor.name!=null&&P.constructor.name===D.name}function Ue(P){return P!==P}const Bt=(function(){const P="0123456789abcdef",D=new Array(256);for(let E=0;E<16;++E){const H=E*16;for(let ne=0;ne<16;++ne)D[H+ne]=P[E]+P[ne]}return D})();function tt(P){return typeof BigInt>"u"?BA:P}function BA(){throw new Error("BigInt not supported")}})(sG);const Ut=sG.Buffer;var vc={},Bc={},oG;function yC(){if(oG)return Bc;oG=1,Object.defineProperty(Bc,"__esModule",{value:!0}),Bc.Slice=void 0;let t=class{constructor(A,n,r,s){this.uint8=A,this.view=n,this.start=r,this.end=s}subarray(){return this.uint8.subarray(this.start,this.end)}};return Bc.Slice=t,Bc}var aG;function DC(){if(aG)return vc;aG=1,Object.defineProperty(vc,"__esModule",{value:!0}),vc.Writer=void 0;const t=yC(),e=new Uint8Array([]),A=new DataView(e.buffer),n=typeof Ut=="function",r=n?Ut.prototype.utf8Write:null,s=n?Ut.from:null,i=typeof TextEncoder<"u"?new TextEncoder:null;let o=class{constructor(c=64*1024){this.allocSize=c,this.view=A,this.x0=0,this.x=0,this.uint8=new Uint8Array(c),this.size=c,this.view=new DataView(this.uint8.buffer)}grow(c){const l=this.x0,u=this.x,h=this.uint8,f=new Uint8Array(c),d=new DataView(f.buffer),m=h.subarray(l,u);f.set(m,0),this.x=u-l,this.x0=0,this.uint8=f,this.size=c,this.view=d}ensureCapacity(c){const l=this.size,u=l-this.x;if(u<c){const h=l-this.x0,f=c-u,d=h+f;this.grow(d<=this.allocSize?this.allocSize:d*2)}}move(c){this.ensureCapacity(c),this.x+=c}reset(){this.x0=this.x}newBuffer(c){const l=this.uint8=new Uint8Array(c);this.size=c,this.view=new DataView(l.buffer),this.x=this.x0=0}flush(){const c=this.uint8.subarray(this.x0,this.x);return this.x0=this.x,c}flushSlice(){const c=new t.Slice(this.uint8,this.view,this.x0,this.x);return this.x0=this.x,c}u8(c){this.ensureCapacity(1),this.uint8[this.x++]=c}u16(c){this.ensureCapacity(2),this.view.setUint16(this.x,c),this.x+=2}u32(c){this.ensureCapacity(4),this.view.setUint32(this.x,c),this.x+=4}i32(c){this.ensureCapacity(4),this.view.setInt32(this.x,c),this.x+=4}u64(c){this.ensureCapacity(8),this.view.setBigUint64(this.x,BigInt(c)),this.x+=8}f64(c){this.ensureCapacity(8),this.view.setFloat64(this.x,c),this.x+=8}u8u16(c,l){this.ensureCapacity(3);let u=this.x;this.uint8[u++]=c,this.uint8[u++]=l>>>8,this.uint8[u++]=l&255,this.x=u}u8u32(c,l){this.ensureCapacity(5);let u=this.x;this.uint8[u++]=c,this.view.setUint32(u,l),this.x=u+4}u8u64(c,l){this.ensureCapacity(9);let u=this.x;this.uint8[u++]=c,this.view.setBigUint64(u,BigInt(l)),this.x=u+8}u8f32(c,l){this.ensureCapacity(5);let u=this.x;this.uint8[u++]=c,this.view.setFloat32(u,l),this.x=u+4}u8f64(c,l){this.ensureCapacity(9);let u=this.x;this.uint8[u++]=c,this.view.setFloat64(u,l),this.x=u+8}buf(c,l){this.ensureCapacity(l);const u=this.x;this.uint8.set(c,u),this.x=u+l}utf8(c){const l=c.length*4;if(l<168)return this.utf8Native(c);this.ensureCapacity(l);const u=this.size-this.x;if(r){const h=r.call(this.uint8,c,this.x,u);return this.x+=h,h}else if(s){const h=this.uint8,f=h.byteOffset+this.x,m=s(h.buffer).subarray(f,f+u).write(c,0,u,"utf8");return this.x+=m,m}else if(l>1024&&i){const h=i.encodeInto(c,this.uint8.subarray(this.x,this.x+u)).written;return this.x+=h,h}return this.utf8Native(c)}utf8Native(c){const l=c.length,u=this.uint8;let h=this.x,f=0;for(;f<l;){let m=c.charCodeAt(f++);if((m&4294967168)===0){u[h++]=m;continue}else if((m&4294965248)===0)u[h++]=m>>6&31|192;else{if(m>=55296&&m<=56319&&f<l){const p=c.charCodeAt(f);(p&64512)===56320&&(f++,m=((m&1023)<<10)+(p&1023)+65536)}(m&4294901760)===0?(u[h++]=m>>12&15|224,u[h++]=m>>6&63|128):(u[h++]=m>>18&7|240,u[h++]=m>>12&63|128,u[h++]=m>>6&63|128)}u[h++]=m&63|128}const d=h-this.x;return this.x=h,d}ascii(c){const l=c.length;this.ensureCapacity(l);const u=this.uint8;let h=this.x,f=0;for(;f<l;)u[h++]=c.charCodeAt(f++);this.x=h}};return vc.Writer=o,vc}var cG;function vC(){if(cG)return Dc;cG=1,Object.defineProperty(Dc,"__esModule",{value:!0}),Dc.MsgPackEncoderFast=void 0;const t=DC();let e=class{constructor(n=new t.Writer){this.writer=n}encode(n){return this.writer.reset(),this.writeAny(n),this.writer.flush()}encodeAny(n){this.writeAny(n)}writeAny(n){switch(n){case null:return this.writer.u8(192);case!1:return this.writer.u8(194);case!0:return this.writer.u8(195)}if(n instanceof Array)return this.writeArr(n);switch(typeof n){case"number":return this.writeNumber(n);case"string":return this.writeStr(n);case"object":return this.writeObj(n)}}encodeFloat64(n){this.writeFloat(n)}writeNull(){return this.writer.u8(192)}writeFloat(n){this.writer.u8f64(203,n)}u32(n){const r=this.writer;this.writer.ensureCapacity(5);const s=r.uint8;n<=127?s[r.x++]=n:n<=65535?(s[r.x++]=205,r.view.setUint16(r.x,n),r.x+=2):n<=4294967295?(s[r.x++]=206,r.view.setUint32(r.x,n),r.x+=4):this.writeFloat(n)}n32(n){const r=this.writer;this.writer.ensureCapacity(5);const s=r.uint8;n>=-32?s[r.x++]=256+n:n>=-32768?(s[r.x++]=209,r.view.setInt16(r.x,n),r.x+=2):n>=-2147483648?(s[r.x++]=210,r.view.setInt32(r.x,n),r.x+=4):this.writeFloat(n)}encodeNumber(n){this.writeNumber(n)}writeNumber(n){if(n>>>0===n)return this.u32(n);if(n>>0===n)return this.n32(n);this.writeFloat(n)}writeInteger(n){if(n>=0){if(n<=4294967295)return this.u32(n);if(n>-2147483648)return this.n32(n)}this.writeFloat(n)}writeUInteger(n){if(n<=4294967295)return this.u32(n);this.writeFloat(n)}encodeNull(){this.writer.u8(192)}encodeTrue(){this.writer.u8(195)}encodeFalse(){this.writer.u8(194)}encodeBoolean(n){this.writeBoolean(n)}writeBoolean(n){n?this.writer.u8(195):this.writer.u8(194)}encodeStringHeader(n){this.writeStrHdr(n)}writeStrHdr(n){n<=31?this.writer.u8(160|n):n<=255?this.writer.u16(55552+n):n<=65535?this.writer.u8u16(218,n):this.writer.u8u32(219,n)}encodeString(n){this.writeStr(n)}writeStr(n){const r=this.writer,i=n.length*4;r.ensureCapacity(5+i);const o=r.uint8;let a=r.x;i<=31?r.x++:i<=255?(o[r.x++]=217,a=r.x,r.x++):i<=65535?(o[r.x++]=218,a=r.x,r.x+=2):(o[r.x++]=219,a=r.x,r.x+=4);const c=this.writer.utf8(n);i<=31?o[a]=160|c:i<=255?o[a]=c:i<=65535?r.view.setUint16(a,c):r.view.setUint32(a,c)}encodeAsciiString(n){this.writeAsciiStr(n)}writeAsciiStr(n){this.writeStrHdr(n.length),this.writer.ascii(n)}encodeArrayHeader(n){this.writeArrHdr(n)}encodeArray(n){this.writeArr(n)}writeArrHdr(n){n<=15?this.writer.u8(144|n):n<=65535?this.writer.u8u16(220,n):n<=4294967295&&this.writer.u8u32(221,n)}writeArr(n){const r=n.length;r<=15?this.writer.u8(144|r):r<=65535?this.writer.u8u16(220,r):r<=4294967295&&this.writer.u8u32(221,r);for(let s=0;s<r;s++)this.writeAny(n[s])}encodeObjectHeader(n){this.writeObjHdr(n)}encodeObject(n){this.writeObj(n)}writeObjHdr(n){n<=15?this.writer.u8(128|n):n<=65535?this.writer.u8u16(222,n):n<=4294967295&&this.writer.u8u32(223,n)}writeObj(n){const r=Object.keys(n),s=r.length;this.writeObjHdr(s);for(let i=0;i<s;i++){const o=r[i];this.writeStr(o),this.writeAny(n[o])}}encodeExtHeader(n,r){switch(r){case 1:this.writer.u16(54272|n);break;case 2:this.writer.u16(54528|n);break;case 4:this.writer.u16(54784|n);break;case 8:this.writer.u16(55040|n);break;case 16:this.writer.u16(55296|n);break;default:r<=255?(this.writer.u16(50944|r),this.writer.u8(n)):r<=65535?(this.writer.u8u16(200,r),this.writer.u8(n)):r<=4294967295&&(this.writer.u8u32(201,r),this.writer.u8(n))}}encodeExt(n){const{tag:r,val:s}=n,i=s.length;this.encodeExtHeader(r,i),this.writer.buf(s,i)}encodeBinaryHeader(n){this.writeBinHdr(n)}encodeBinary(n){this.writeBin(n)}writeBinHdr(n){n<=255?this.writer.u16(50176|n):n<=65535?this.writer.u8u16(197,n):n<=4294967295&&this.writer.u8u32(198,n)}writeBin(n){const r=n.length;this.writeBinHdr(r),this.writer.buf(n,r)}};return Dc.MsgPackEncoderFast=e,Dc}var BC=vC(),ge;(function(t){t[t.add=0]="add",t[t.remove=1]="remove",t[t.replace=2]="replace",t[t.copy=3]="copy",t[t.move=4]="move",t[t.test=5]="test",t[t.str_ins=6]="str_ins",t[t.str_del=7]="str_del",t[t.flip=8]="flip",t[t.inc=9]="inc",t[t.split=10]="split",t[t.merge=11]="merge",t[t.extend=12]="extend",t[t.contains=30]="contains",t[t.defined=31]="defined",t[t.ends=32]="ends",t[t.in=33]="in",t[t.less=34]="less",t[t.matches=35]="matches",t[t.more=36]="more",t[t.starts=37]="starts",t[t.undefined=38]="undefined",t[t.test_type=39]="test_type",t[t.test_string=40]="test_string",t[t.test_string_len=41]="test_string_len",t[t.type=42]="type",t[t.and=43]="and",t[t.not=44]="not",t[t.or=45]="or"})(ge||(ge={}));let kC=class extends BC.MsgPackEncoderFast{encode(e){this.writer.reset(),this.encodeArrayHeader(e.length);const A=e.length;for(let n=0;n<A;n++)this.encodeOp(e[n]);return this.writer.flush()}encodeOp(e,A){switch(e.code()){case ge.add:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.add),this.encodeArray(n.path),this.encodeAny(n.value);break}case ge.remove:{const n=e,r=n.oldValue!==void 0;this.encodeArrayHeader(r?3:2),this.writer.u8(ge.remove),this.encodeArray(n.path),r&&this.encodeAny(n.oldValue);break}case ge.replace:{const n=e,r=n.oldValue!==void 0;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.replace),this.encodeArray(n.path),this.encodeAny(n.value),r&&this.encodeAny(n.oldValue);break}case ge.copy:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.copy),this.encodeArray(n.path),this.encodeArray(n.from);break}case ge.move:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.move),this.encodeArray(n.path),this.encodeArray(n.from);break}case ge.test:{const n=e;this.encodeArrayHeader(n.not?4:3),this.writer.u8(ge.test),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeAny(n.value),n.not&&this.writer.u8(1);break}case ge.str_ins:{const n=e;this.encodeArrayHeader(4),this.writer.u8(ge.str_ins),this.encodeArray(n.path),this.encodeNumber(n.pos),this.encodeString(n.str);break}case ge.str_del:{const n=e,r=typeof n.str=="string";this.encodeArrayHeader(r?4:5),this.writer.u8(ge.str_del),this.encodeArray(n.path),this.encodeNumber(n.pos),r?this.encodeString(n.str):(this.writer.u8(0),this.encodeNumber(n.len));break}case ge.flip:{const n=e;this.encodeArrayHeader(2),this.writer.u8(ge.flip),this.encodeArray(n.path);break}case ge.inc:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.inc),this.encodeArray(n.path),this.encodeNumber(n.inc);break}case ge.split:{const n=e;this.encodeArrayHeader(n.props?4:3),this.writer.u8(ge.split),this.encodeArray(n.path),this.encodeNumber(n.pos),n.props&&this.encodeObject(n.props);break}case ge.merge:{const n=e;this.encodeArrayHeader(n.props?4:3),this.writer.u8(ge.merge),this.encodeArray(n.path),this.encodeNumber(n.pos),n.props&&this.encodeAny(n.props);break}case ge.extend:{const n=e,{deleteNull:r}=n;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.extend),this.encodeArray(n.path),this.encodeObject(n.props),r&&this.writer.u8(1);break}case ge.contains:{const n=e,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.contains),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case ge.defined:{const n=e;this.encodeArrayHeader(2),this.writer.u8(ge.defined),this.encodeArray(A?n.path.slice(A.path.length):n.path);break}case ge.ends:{const n=e,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.ends),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case ge.in:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.in),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeArray(n.value);break}case ge.less:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.less),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeNumber(n.value);break}case ge.matches:{const n=e,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.matches),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case ge.more:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.more),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeNumber(n.value);break}case ge.starts:{const n=e,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(ge.starts),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case ge.test_type:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.test_type),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeArray(n.type);break}case ge.test_string:{const n=e;this.encodeArrayHeader(n.not?5:4),this.writer.u8(ge.test_string),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeNumber(n.pos),this.encodeString(n.str),n.not&&this.writer.u8(1);break}case ge.test_string_len:{const n=e;this.encodeArrayHeader(n.not?4:3),this.writer.u8(ge.test_string_len),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeNumber(n.len),n.not&&this.writer.u8(1);break}case ge.type:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.type),this.encodeArray(A?n.path.slice(A.path.length):n.path),this.encodeString(n.value);break}case ge.undefined:{const n=e;this.encodeArrayHeader(2),this.writer.u8(ge.undefined),this.encodeArray(A?n.path.slice(A.path.length):n.path);break}case ge.and:{const n=e,r=A?n.path.slice(A.path.length):n.path;this.encodeArrayHeader(3),this.writer.u8(ge.and),this.encodeArray(r);const s=n.ops.length;this.encodeArrayHeader(s);for(let i=0;i<s;i++)this.encodeOp(n.ops[i],n);break}case ge.not:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.not),this.encodeArray(A?n.path.slice(A.path.length):n.path);const r=n.ops.length;this.encodeArrayHeader(r);for(let s=0;s<r;s++)this.encodeOp(n.ops[s],n);break}case ge.or:{const n=e;this.encodeArrayHeader(3),this.writer.u8(ge.or),this.encodeArray(A?n.path.slice(A.path.length):n.path);const r=n.ops.length;this.encodeArrayHeader(r);for(let s=0;s<r;s++)this.encodeOp(n.ops[s],n);break}default:throw new Error(`Unknown operation code: ${e.code()}`)}}};class jn{path;from;constructor(e){this.path=e}}var Qm={},qm=function(t,e){return qm=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,n){A.__proto__=n}||function(A,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(A[r]=n[r])},qm(t,e)};function lG(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");qm(t,e);function A(){this.constructor=t}t.prototype=e===null?Object.create(e):(A.prototype=e.prototype,new A)}var yu=function(){return yu=Object.assign||function(e){for(var A,n=1,r=arguments.length;n<r;n++){A=arguments[n];for(var s in A)Object.prototype.hasOwnProperty.call(A,s)&&(e[s]=A[s])}return e},yu.apply(this,arguments)};function uG(t,e){var A={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(A[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(A[n[r]]=t[n[r]]);return A}function zn(t,e,A,n){var r=arguments.length,s=r<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,A):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,A,n);else for(var o=t.length-1;o>=0;o--)(i=t[o])&&(s=(r<3?i(s):r>3?i(e,A,s):i(e,A))||s);return r>3&&s&&Object.defineProperty(e,A,s),s}function hG(t,e){return function(A,n){e(A,n,t)}}function fG(t,e,A,n,r,s){function i(g){if(g!==void 0&&typeof g!="function")throw new TypeError("Function expected");return g}for(var o=n.kind,a=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?n.static?t:t.prototype:null,l=e||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),u,h=!1,f=A.length-1;f>=0;f--){var d={};for(var m in n)d[m]=m==="access"?{}:n[m];for(var m in n.access)d.access[m]=n.access[m];d.addInitializer=function(g){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(g||null))};var p=(0,A[f])(o==="accessor"?{get:l.get,set:l.set}:l[a],d);if(o==="accessor"){if(p===void 0)continue;if(p===null||typeof p!="object")throw new TypeError("Object expected");(u=i(p.get))&&(l.get=u),(u=i(p.set))&&(l.set=u),(u=i(p.init))&&r.unshift(u)}else(u=i(p))&&(o==="field"?r.unshift(u):l[a]=u)}c&&Object.defineProperty(c,n.name,l),h=!0}function dG(t,e,A){for(var n=arguments.length>2,r=0;r<e.length;r++)A=n?e[r].call(t,A):e[r].call(t);return n?A:void 0}function mG(t){return typeof t=="symbol"?t:"".concat(t)}function pG(t,e,A){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:A?"".concat(A," ",e):e})}function gG(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oA(t,e,A,n){function r(s){return s instanceof A?s:new A(function(i){i(s)})}return new(A||(A=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(t,e||[])).next())})}function wG(t,e){var A={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(l){return a([c,l])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(A=0)),A;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return A.label++,{value:c[1],done:!1};case 5:A.label++,r=c[1],c=[0];continue;case 7:c=A.ops.pop(),A.trys.pop();continue;default:if(s=A.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){A=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){A.label=c[1];break}if(c[0]===6&&A.label<s[1]){A.label=s[1],s=c;break}if(s&&A.label<s[2]){A.label=s[2],A.ops.push(c);break}s[2]&&A.ops.pop(),A.trys.pop();continue}c=e.call(t,A)}catch(l){c=[6,l],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Du=Object.create?(function(t,e,A,n){n===void 0&&(n=A);var r=Object.getOwnPropertyDescriptor(e,A);(!r||("get"in r?!e.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return e[A]}}),Object.defineProperty(t,n,r)}):(function(t,e,A,n){n===void 0&&(n=A),t[n]=e[A]});function bG(t,e){for(var A in t)A!=="default"&&!Object.prototype.hasOwnProperty.call(e,A)&&Du(e,t,A)}function vu(t){var e=typeof Symbol=="function"&&Symbol.iterator,A=e&&t[e],n=0;if(A)return A.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Km(t,e){var A=typeof Symbol=="function"&&t[Symbol.iterator];if(!A)return t;var n=A.call(t),r,s=[],i;try{for(;(e===void 0||e-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(A=n.return)&&A.call(n)}finally{if(i)throw i.error}}return s}function _G(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Km(arguments[e]));return t}function xG(){for(var t=0,e=0,A=arguments.length;e<A;e++)t+=arguments[e].length;for(var n=Array(t),r=0,e=0;e<A;e++)for(var s=arguments[e],i=0,o=s.length;i<o;i++,r++)n[r]=s[i];return n}function GG(t,e,A){if(A||arguments.length===2)for(var n=0,r=e.length,s;n<r;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Wo(t){return this instanceof Wo?(this.v=t,this):new Wo(t)}function MG(t,e,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=A.apply(t,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(f){return function(d){return Promise.resolve(d).then(f,u)}}function o(f,d){n[f]&&(r[f]=function(m){return new Promise(function(p,g){s.push([f,m,p,g])>1||a(f,m)})},d&&(r[f]=d(r[f])))}function a(f,d){try{c(n[f](d))}catch(m){h(s[0][3],m)}}function c(f){f.value instanceof Wo?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,d){f(d),s.shift(),s.length&&a(s[0][0],s[0][1])}}function yG(t){var e,A;return e={},n("next"),n("throw",function(r){throw r}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(r,s){e[r]=t[r]?function(i){return(A=!A)?{value:Wo(t[r](i)),done:!1}:s?s(i):i}:s}}function DG(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],A;return e?e.call(t):(t=typeof vu=="function"?vu(t):t[Symbol.iterator](),A={},n("next"),n("throw"),n("return"),A[Symbol.asyncIterator]=function(){return this},A);function n(s){A[s]=t[s]&&function(i){return new Promise(function(o,a){i=t[s](i),r(o,a,i.done,i.value)})}}function r(s,i,o,a){Promise.resolve(a).then(function(c){s({value:c,done:o})},i)}}function vG(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var EC=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},Jm=function(t){return Jm=Object.getOwnPropertyNames||function(e){var A=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(A[A.length]=n);return A},Jm(t)};function BG(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var A=Jm(t),n=0;n<A.length;n++)A[n]!=="default"&&Du(e,t,A[n]);return EC(e,t),e}function kG(t){return t&&t.__esModule?t:{default:t}}function EG(t,e,A,n){if(A==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?n:A==="a"?n.call(t):n?n.value:e.get(t)}function NG(t,e,A,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(t,A):r?r.value=A:e.set(t,A),A}function TG(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function YG(t,e,A){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,r;if(A){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],A&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:A})}else A&&t.stack.push({async:!0});return e}var NC=typeof SuppressedError=="function"?SuppressedError:function(t,e,A){var n=new Error(A);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function OG(t){function e(s){t.error=t.hasError?new NC(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var A,n=0;function r(){for(;A=t.stack.pop();)try{if(!A.async&&n===1)return n=0,t.stack.push(A),Promise.resolve().then(r);if(A.dispose){var s=A.dispose.call(A.value);if(A.async)return n|=2,Promise.resolve(s).then(r,function(i){return e(i),r()})}else n|=1}catch(i){e(i)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return r()}function SG(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(A,n,r,s,i){return n?e?".jsx":".js":r&&(!s||!i)?A:r+s+"."+i.toLowerCase()+"js"}):t}var TC={__extends:lG,__assign:yu,__rest:uG,__decorate:zn,__param:hG,__esDecorate:fG,__runInitializers:dG,__propKey:mG,__setFunctionName:pG,__metadata:gG,__awaiter:oA,__generator:wG,__createBinding:Du,__exportStar:bG,__values:vu,__read:Km,__spread:_G,__spreadArrays:xG,__spreadArray:GG,__await:Wo,__asyncGenerator:MG,__asyncDelegator:yG,__asyncValues:DG,__makeTemplateObject:vG,__importStar:BG,__importDefault:kG,__classPrivateFieldGet:EG,__classPrivateFieldSet:NG,__classPrivateFieldIn:TG,__addDisposableResource:YG,__disposeResources:OG,__rewriteRelativeImportExtension:SG},YC=Object.freeze({__proto__:null,__addDisposableResource:YG,get __assign(){return yu},__asyncDelegator:yG,__asyncGenerator:MG,__asyncValues:DG,__await:Wo,__awaiter:oA,__classPrivateFieldGet:EG,__classPrivateFieldIn:TG,__classPrivateFieldSet:NG,__createBinding:Du,__decorate:zn,__disposeResources:OG,__esDecorate:fG,__exportStar:bG,__extends:lG,__generator:wG,__importDefault:kG,__importStar:BG,__makeTemplateObject:vG,__metadata:gG,__param:hG,__propKey:mG,__read:Km,__rest:uG,__rewriteRelativeImportExtension:SG,__runInitializers:dG,__setFunctionName:pG,__spread:_G,__spreadArray:GG,__spreadArrays:xG,__values:vu,default:TC}),Wi=yx(YC),Xm={},ZG;function OC(){return ZG||(ZG=1,Object.defineProperty(Xm,"__esModule",{value:!0})),Xm}var ep={},CG;function PG(){return CG||(CG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.isInteger=t.isRoot=t.toPath=void 0,t.unescapeComponent=s,t.escapeComponent=i,t.parseJsonPointer=o,t.formatJsonPointer=a,t.isChild=l,t.isPathEqual=u,t.parent=f,t.isValidIndex=d;const e=/~1/g,A=/~0/g,n=/~/g,r=/\//g;function s(p){return p.indexOf("~")===-1?p:p.replace(e,"/").replace(A,"~")}function i(p){return p.indexOf("/")===-1&&p.indexOf("~")===-1?p:p.replace(n,"~0").replace(r,"~1")}function o(p){return p?p.slice(1).split("/").map(s):[]}function a(p){return(0,t.isRoot)(p)?"":"/"+p.map(g=>i(String(g))).join("/")}const c=p=>typeof p=="string"?o(p):p;t.toPath=c;function l(p,g){if(p.length>=g.length)return!1;for(let w=0;w<p.length;w++)if(p[w]!==g[w])return!1;return!0}function u(p,g){if(p.length!==g.length)return!1;for(let w=0;w<p.length;w++)if(p[w]!==g[w])return!1;return!0}const h=p=>!p.length;t.isRoot=h;function f(p){if(p.length<1)throw new Error("NO_PARENT");return p.slice(0,p.length-1)}function d(p){if(typeof p=="number")return!0;const g=Number.parseInt(p,10);return String(g)===p&&g>=0}const m=p=>{const g=p.length;let w=0,x;for(;w<g;){if(x=p.charCodeAt(w),x>=48&&x<=57){w++;continue}return!1}return!0};t.isInteger=m})(ep)),ep}var tp={},RG;function SC(){return RG||(RG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validatePath=t.validateJsonPointer=void 0;const e=r=>{if(typeof r=="string"){if(r){if(r[0]!=="/")throw new Error("POINTER_INVALID");if(r.length>1024)throw new Error("POINTER_TOO_LONG")}}else(0,t.validatePath)(r)};t.validateJsonPointer=e;const{isArray:A}=Array,n=r=>{if(!A(r))throw new Error("Invalid path.");if(r.length>256)throw new Error("Path too long.");for(const s of r)switch(typeof s){case"string":case"number":continue;default:throw new Error("Invalid path step.")}};t.validatePath=n})(tp)),tp}var kc={},Bu={},IG;function Ap(){if(IG)return Bu;IG=1,Object.defineProperty(Bu,"__esModule",{value:!0}),Bu.hasOwnProperty=e;const t=Object.prototype.hasOwnProperty;function e(A,n){return t.call(A,n)}return Bu}var jG;function ZC(){if(jG)return kc;jG=1,Object.defineProperty(kc,"__esModule",{value:!0}),kc.get=void 0;const t=Ap(),e=(A,n)=>{const r=n.length;let s;if(!r)return A;for(let i=0;i<r;i++)if(s=n[i],A instanceof Array){if(typeof s!="number"){if(s==="-")return;const o=~~s;if(""+o!==s)return;s=o}A=A[s]}else if(typeof A=="object"){if(!A||!(0,t.hasOwnProperty)(A,s))return;A=A[s]}else return;return A};return kc.get=e,kc}var Dr={},zG;function CC(){if(zG)return Dr;zG=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.isObjectReference=Dr.isArrayEnd=Dr.isArrayReference=Dr.find=void 0;const t=Ap(),{isArray:e}=Array,A=(i,o)=>{const a=o.length;if(!a)return{val:i};let c,l;for(let h=0;h<a;h++)if(c=i,l=o[h],e(c)){const f=c.length;if(l==="-")l=f;else if(typeof l=="string"){const d=~~l;if(""+d!==l)throw new Error("INVALID_INDEX");if(l=d,l<0)throw new Error("INVALID_INDEX")}i=c[l]}else if(typeof c=="object"&&c)i=(0,t.hasOwnProperty)(c,l)?c[l]:void 0;else throw new Error("NOT_FOUND");return{val:i,obj:c,key:l}};Dr.find=A;const n=i=>e(i.obj)&&typeof i.key=="number";Dr.isArrayReference=n;const r=i=>i.obj.length===i.key;Dr.isArrayEnd=r;const s=i=>typeof i.obj=="object"&&typeof i.key=="string";return Dr.isObjectReference=s,Dr}var np={},Ec={},HG;function PC(){if(HG)return Ec;HG=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.findByPointer=void 0;const t=Ap(),e=PG(),{isArray:A}=Array,n=(r,s)=>{if(!r)return{val:s};let i,o,a=0,c=1;for(;a>-1;)if(a=r.indexOf("/",c),o=a>-1?r.substring(c,a):r.substring(c),c=a+1,i=s,A(i)){const l=i.length;if(o==="-")o=l;else{const u=~~o;if(""+u!==o)throw new Error("INVALID_INDEX");if(o=u,o<0)throw"INVALID_INDEX"}s=i[o]}else if(typeof i=="object"&&i)o=(0,e.unescapeComponent)(o),s=(0,t.hasOwnProperty)(i,o)?i[o]:void 0;else throw"NOT_FOUND";return{val:s,obj:i,key:o}};return Ec.findByPointer=n,Ec}var LG;function RC(){return LG||(LG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Wi.__exportStar(PC(),t)})(np)),np}var UG;function IC(){return UG||(UG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Wi;e.__exportStar(OC(),t),e.__exportStar(PG(),t),e.__exportStar(SC(),t),e.__exportStar(ZC(),t),e.__exportStar(CC(),t),e.__exportStar(RC(),t)})(Qm)),Qm}var De=IC(),rp={},$G;function jC(){return $G||($G=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.clone=void 0;const{isArray:e}=Array,A=Object.keys,n=r=>{if(!r)return r;if(e(r)){const s=[],i=r.length;for(let o=0;o<i;o++)s.push((0,t.clone)(r[o]));return s}else if(typeof r=="object"){const s=A(r),i=s.length,o={};for(let a=0;a<i;a++){const c=s[a];o[c]=(0,t.clone)(r[c])}return o}return r};t.clone=n})(rp)),rp}var sp=jC();class ip extends jn{value;constructor(e,A){super(e),this.value=A}op(){return"add"}code(){return ge.add}apply(e){const{val:A,key:n,obj:r}=De.find(e,this.path),s=sp.clone(this.value);if(!r)e=s;else if(typeof n=="string")r[n]=s;else{const i=r.length;if(n<i)r.splice(n,0,s);else{if(n>i)throw new Error("INVALID_INDEX");r.push(s)}}return{doc:e,old:A}}toJson(e){return{op:"add",path:De.formatJsonPointer(this.path),value:this.value}}toCompact(e,A){return[A?"add":ge.add,this.path,this.value]}}class FG extends jn{oldValue;constructor(e,A){super(e),this.oldValue=A}op(){return"remove"}code(){return ge.remove}apply(e){const A=De.find(e,this.path);if(A.val===void 0)throw new Error("NOT_FOUND");return De.isObjectReference(A)?delete A.obj[A.key]:De.isArrayReference(A)?A.val!==void 0&&A.obj.splice(A.key,1):e=null,{doc:e,old:A.val}}toJson(e){const A={op:"remove",path:De.formatJsonPointer(this.path)};return this.oldValue!==void 0&&(A.oldValue=this.oldValue),A}toCompact(e,A){const n=A?"remove":ge.remove;return this.oldValue===void 0?[n,this.path]:[n,this.path,this.oldValue]}}class zC extends jn{value;oldValue;constructor(e,A,n){super(e),this.value=A,this.oldValue=n}op(){return"replace"}code(){return ge.replace}apply(e){const A=De.find(e,this.path);if(A.val===void 0)throw new Error("NOT_FOUND");const n=sp.clone(this.value);return De.isObjectReference(A)||De.isArrayReference(A)?A.obj[A.key]=n:e=n,{doc:e,old:A.val}}toJson(e){const A={op:"replace",path:De.formatJsonPointer(this.path),value:this.value};return this.oldValue!==void 0&&(A.oldValue=this.oldValue),A}toCompact(e,A){const n=A?"replace":ge.replace;return this.oldValue===void 0?[n,this.path,this.value]:[n,this.path,this.value,this.oldValue]}}class HC extends jn{from;constructor(e,A){super(e),this.from=A}op(){return"move"}code(){return ge.move}apply(e){const A=new FG(De.toPath(this.from),void 0).apply(e);return new ip(this.path,A.old).apply(A.doc)}toJson(e){return{op:"move",path:De.formatJsonPointer(this.path),from:De.formatJsonPointer(this.from)}}toCompact(e,A){return[A?"move":ge.move,this.path,this.from]}}class LC extends jn{from;constructor(e,A){super(e),this.from=A}op(){return"copy"}code(){return ge.copy}apply(e){const{val:A}=De.find(e,this.from);if(A===void 0)throw new Error("NOT_FOUND");return new ip(this.path,sp.clone(A)).apply(e)}toJson(e){return{op:"copy",path:De.formatJsonPointer(this.path),from:De.formatJsonPointer(this.from)}}toCompact(e,A){return[A?"copy":ge.copy,this.path,this.from]}}class an extends jn{apply(e){if(!this.test(e))throw new Error("TEST");return{doc:e}}}var op={},ap={},VG;function UC(){return VG||(VG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.deepEqual=void 0;const e=Array.isArray,A=Object.prototype,n=(r,s)=>{if(r===s)return!0;let i=0,o=0;if(e(r)){if(!e(s)||(i=r.length,i!==s.length))return!1;for(o=i;o--!==0;)if(!(0,t.deepEqual)(r[o],s[o]))return!1;return!0}if(r&&s&&typeof r=="object"&&typeof s=="object"){e:{if(r.__proto__===A)break e;if(r instanceof Uint8Array){if(!(s instanceof Uint8Array))return!1;const c=r.length;if(c!==s.length)return!1;for(let l=0;l<c;l++)if(r[l]!==s[l])return!1;return!0}}const a=Object.keys(r);if(i=a.length,i!==Object.keys(s).length||e(s))return!1;for(o=i;o--!==0;){const c=a[o];if(!(0,t.deepEqual)(r[c],s[c]))return!1}return!0}return!1};t.deepEqual=n})(ap)),ap}var WG;function $C(){return WG||(WG=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),Wi.__exportStar(UC(),t)})(op)),op}var QG=$C();class FC extends an{value;not;constructor(e,A,n){super(e),this.value=A,this.not=n}op(){return"test"}code(){return ge.test}test(e){const{val:A}=De.find(e,this.path);if(A===void 0)return!!this.not;const n=QG.deepEqual(A,this.value);return this.not?!n:n}toJson(e){const A={op:"test",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value};return this.not&&(A.not=this.not),A}toCompact(e,A){const n=e?this.path.slice(e.path.length):this.path,r=A?"test":ge.test;return this.not?[r,n,this.value,1]:[r,n,this.value]}}class VC extends jn{op(){return"flip"}code(){return ge.flip}apply(e){const A=De.find(e,this.path);return A.obj?A.obj[A.key]=!A.val:e=!A.val,{doc:e,old:A.val}}toJson(e){return{op:"flip",path:De.formatJsonPointer(this.path)}}toCompact(e,A){return[A?"flip":ge.flip,this.path]}}class WC extends jn{inc;constructor(e,A){super(e),this.inc=A}op(){return"inc"}code(){return ge.inc}apply(e){const A=De.find(e,this.path),n=this.inc+Number(A.val);return A.obj?A.obj[A.key]=n:e=n,{doc:e,old:A.val}}toJson(e){return{op:"inc",path:De.formatJsonPointer(this.path),inc:this.inc}}toCompact(e,A){return[A?"inc":ge.inc,this.path,this.inc]}}class QC extends jn{pos;str;constructor(e,A,n){super(e),this.pos=A,this.str=n}op(){return"str_ins"}code(){return ge.str_ins}apply(e){const{val:A,key:n,obj:r}=De.find(e,this.path);if(typeof A!="string"){if(A!==void 0)throw new Error("NOT_A_STRING");if(this.pos!==0)throw new Error("POS")}const s=typeof A=="string"?A:"",i=Math.min(this.pos,s.length),o=s.slice(0,i),a=s.slice(i),c=o+this.str+a;return r?r[n]=c:e=c,{doc:e,old:A}}toJson(e){return{op:"str_ins",path:De.formatJsonPointer(this.path),pos:this.pos,str:this.str}}toCompact(e,A){return[A?"str_ins":ge.str_ins,this.path,this.pos,this.str]}}class qC extends jn{pos;str;len;constructor(e,A,n,r){super(e),this.pos=A,this.str=n,this.len=r}op(){return"str_del"}code(){return ge.str_del}deleteLength(){return typeof this.str=="string"?this.str.length:this.len}apply(e){const{val:A,key:n,obj:r}=De.find(e,this.path);if(typeof A!="string")throw new Error("NOT_A_STRING");const s=A.length,i=Math.min(this.pos,A.length),o=Math.min(i,s),a=this.str!==void 0?this.str.length:this.len,c=Math.min(i+a,s),l=A.slice(0,o),u=A.substr(c),h=l+u;return r?r[n]=h:e=h,{doc:e,old:A}}toJson(e){return typeof this.str=="string"?{op:"str_del",path:De.formatJsonPointer(this.path),pos:this.pos,str:this.str}:{op:"str_del",path:De.formatJsonPointer(this.path),pos:this.pos,len:this.len}}toCompact(e,A){const n=A?"str_del":ge.str_del;return typeof this.str=="string"?[n,this.path,this.pos,this.str]:[n,this.path,this.pos,0,this.len]}}const{isArray:KC}=Array,cp=t=>!!t&&typeof t=="object"&&typeof t.text=="string",lp=t=>!!t&&typeof t=="object"&&KC(t.children),JC=(t,e)=>{const A=new RegExp(t,e?"i":void 0);return n=>A.test(n)};class XC extends jn{pos;props;constructor(e,A,n){super(e),this.pos=A,this.props=n}op(){return"split"}code(){return ge.split}apply(e){const A=De.find(e,this.path);if(A.val===void 0)throw new Error("NOT_FOUND");const n=this.split(A.val);return De.isObjectReference(A)?A.obj[A.key]=n:De.isArrayReference(A)?(A.obj[A.key]=n[0],A.obj.splice(A.key+1,0,n[1])):e=n,{doc:e,old:A.val}}split(e){if(typeof e=="string"){const{pos:A,props:n}=this,r=e.slice(0,A),s=e.slice(A);return n?[{...n,text:r},{...n,text:s}]:[r,s]}else if(cp(e)){const{pos:A,props:n}=this,r=e.text.slice(0,A),s=e.text.slice(A);return[{...e,...n,text:r},{...e,...n,text:s}]}else if(lp(e)){const{pos:A,props:n}=this,r=e.children.slice(0,A),s=e.children.slice(A);return[{...e,...n,children:r},{...e,...n,children:s}]}else if(typeof e=="number"){const{pos:A}=this;return[A,e-A]}else return[e,e]}toJson(e){const A={op:"split",path:De.formatJsonPointer(this.path),pos:this.pos};return this.props&&(A.props=this.props),A}toCompact(e,A){const n=A?"split":ge.split;return this.props?[n,this.path,this.pos,this.props]:[n,this.path,this.pos]}}class eP extends jn{pos;props;constructor(e,A,n){super(e),this.pos=A,this.props=n}op(){return"merge"}code(){return ge.merge}apply(e){const A=De.find(e,this.path);if(!De.isArrayReference(A))throw new Error("INVALID_TARGET");if(A.key<=0)throw new Error("INVALID_KEY");const n=A.obj[A.key-1],r=A.obj[A.key],s=this.merge(n,r);return A.obj[A.key-1]=s,A.obj.splice(A.key,1),{doc:e,old:[n,r]}}merge(e,A){return typeof e=="string"&&typeof A=="string"||typeof e=="number"&&typeof A=="number"?e+A:cp(e)&&cp(A)?{...e,...A,text:e.text+A.text}:lp(e)&&lp(A)?{...e,...A,children:[...e.children,...A.children]}:[e,A]}toJson(e){const A={op:"merge",path:De.formatJsonPointer(this.path),pos:this.pos};return this.props&&(A.props=this.props),A}toCompact(e,A){const n=A?"merge":ge.merge;return this.props?[n,this.path,this.pos,this.props]:[n,this.path,this.pos]}}const{isArray:tP}=Array;class AP extends jn{props;deleteNull;constructor(e,A,n){super(e),this.props=A,this.deleteNull=n}op(){return"extend"}code(){return ge.extend}apply(e){const A=De.find(e,this.path);return De.isArrayReference(A)?A.val!==void 0&&(A.obj[A.key]=this.extend(A.val)):De.isObjectReference(A)?A.obj[A.key]=this.extend(A.val):e=this.extend(e),{doc:e}}extend(e){if(tP(e)||typeof e!="object"||!e)return e;for(const[A,n]of Object.entries(this.props)){if(A==="__proto__")throw new Error("NO_PROTO");if(n===null&&this.deleteNull){delete e[A];continue}e[A]=n}return e}toJson(e){const A={op:"extend",path:De.formatJsonPointer(this.path),props:this.props};return this.deleteNull&&(A.deleteNull=this.deleteNull),A}toCompact(e,A){const n=A?"extend":ge.extend;return this.deleteNull?[n,this.path,this.props,1]:[n,this.path,this.props]}}class nP extends an{op(){return"defined"}code(){return ge.defined}test(e){const{val:A}=De.find(e,this.path);return A!==void 0}toJson(e){return{op:"defined",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path)}}toCompact(e,A){return[A?"defined":ge.defined,e?this.path.slice(e.path.length):this.path]}}class rP extends an{op(){return"undefined"}code(){return ge.undefined}test(e){try{const{val:A}=De.find(e,this.path);return A===void 0}catch(A){if(A.message==="NOT_FOUND")return!0;throw A}}toJson(e){return{op:"undefined",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path)}}toCompact(e,A){return[A?"undefined":ge.undefined,e?this.path.slice(e.path.length):this.path]}}const{isArray:sP}=Array;class iP extends an{type;constructor(e,A){super(e),this.type=A}op(){return"test_type"}code(){return ge.test_type}test(e){const{val:A}=De.find(e,this.path);return A===null?this.type.indexOf("null")>-1:sP(A)?this.type.indexOf("array")>-1:this.type.indexOf(typeof A)>-1||typeof A=="number"&&A===Math.round(A)&&this.type.indexOf("integer")>-1}toJson(e){return{op:"test_type",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),type:this.type}}toCompact(e,A){return[A?"test_type":ge.test_type,e?this.path.slice(e.path.length):this.path,this.type]}}class oP extends an{pos;str;not;constructor(e,A,n,r){super(e),this.pos=A,this.str=n,this.not=r}op(){return"test_string"}code(){return ge.test_string}test(e){const{val:A}=De.find(e,this.path);if(typeof A!="string")return!1;const n=A.length,r=Math.min(this.pos,n),s=Math.min(this.pos+this.str.length,n),i=A.substring(r,s)===this.str;return this.not?!i:i}toJson(e){const A={op:"test_string",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),pos:this.pos,str:this.str};return this.not&&(A.not=this.not),A}toCompact(e,A){const n=A?"test_string":ge.test_string,r=e?this.path.slice(e.path.length):this.path;return this.not?[n,r,this.pos,this.str,1]:[n,r,this.pos,this.str]}}class aP extends an{len;not;constructor(e,A,n){super(e),this.len=A,this.not=n}op(){return"test_string_len"}code(){return ge.test_string_len}test(e){const{val:A}=De.find(e,this.path);if(typeof A!="string")return!1;const r=A.length>=this.len;return this.not?!r:r}toJson(e){const A={op:"test_string_len",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),len:this.len};return this.not&&(A.not=this.not),A}toCompact(e,A){const n=A?"test_string_len":ge.test_string_len,r=e?this.path.slice(e.path.length):this.path;return this.not?[n,r,this.len,1]:[n,r,this.len]}}class cP extends an{value;ignore_case;constructor(e,A,n){super(e),this.value=A,this.ignore_case=n}op(){return"contains"}code(){return ge.contains}test(e){const{val:A}=De.find(e,this.path);if(typeof A!="string")return!1;const n=this.ignore_case?A.toLowerCase():A,r=this.ignore_case?this.value.toLowerCase():this.value;return n.indexOf(r)>-1}toJson(e){const A={op:"contains",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value};return this.ignore_case&&(A.ignore_case=this.ignore_case),A}toCompact(e,A){const n=A?"contains":ge.contains;return this.ignore_case?[n,e?this.path.slice(e.path.length):this.path,this.value,1]:[n,e?this.path.slice(e.path.length):this.path,this.value]}}class lP extends an{value;ignore_case;constructor(e,A,n){super(e),this.value=A,this.ignore_case=n}op(){return"ends"}code(){return ge.ends}test(e){const{val:A}=De.find(e,this.path);if(typeof A!="string")return!1;const n=this.ignore_case?A.toLowerCase():A,r=this.ignore_case?this.value.toLowerCase():this.value;return n.endsWith(r)}toJson(e){const A={op:"ends",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value};return this.ignore_case&&(A.ignore_case=this.ignore_case),A}toCompact(e,A){const n=A?"ends":ge.ends;return this.ignore_case?[n,e?this.path.slice(e.path.length):this.path,this.value,1]:[n,e?this.path.slice(e.path.length):this.path,this.value]}}class uP extends an{value;ignore_case;constructor(e,A,n){super(e),this.value=A,this.ignore_case=n}op(){return"starts"}code(){return ge.starts}test(e){const{val:A}=De.find(e,this.path);if(typeof A!="string")return!1;const n=this.ignore_case?A.toLowerCase():A,r=this.ignore_case?this.value.toLowerCase():this.value;return n.startsWith(r)}toJson(e){const A={op:"starts",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value};return this.ignore_case&&(A.ignore_case=this.ignore_case),A}toCompact(e,A){const n=A?"starts":ge.starts;return this.ignore_case?[n,e?this.path.slice(e.path.length):this.path,this.value,1]:[n,e?this.path.slice(e.path.length):this.path,this.value]}}class hP extends an{value;constructor(e,A){super(e),this.value=A}op(){return"in"}code(){return ge.in}test(e){const{val:A}=De.find(e,this.path);for(const n of this.value)if(QG.deepEqual(A,n))return!0;return!1}toJson(e){return{op:"in",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value}}toCompact(e,A){return[A?"in":ge.in,e?this.path.slice(e.path.length):this.path,this.value]}}class fP extends an{value;constructor(e,A){super(e),this.value=A}op(){return"less"}code(){return ge.less}test(e){const{val:A}=De.find(e,this.path);return typeof A!="number"?!1:A<this.value}toJson(e){return{op:"less",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value}}toCompact(e,A){return[A?"less":ge.less,e?this.path.slice(e.path.length):this.path,this.value]}}class dP extends an{value;constructor(e,A){super(e),this.value=A}op(){return"more"}code(){return ge.more}test(e){const{val:A}=De.find(e,this.path);return typeof A!="number"?!1:A>this.value}toJson(e){return{op:"more",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value}}toCompact(e,A){return[A?"more":ge.more,e?this.path.slice(e.path.length):this.path,this.value]}}class up extends an{ops;constructor(e,A){super(e),this.ops=A}}class mP extends up{ops;constructor(e,A){super(e,A),this.ops=A}op(){return"and"}code(){return ge.and}test(e){for(const A of this.ops)if(!A.test(e))return!1;return!0}toJson(e){return{op:"and",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(e,A){return[A?"and":ge.and,e?this.path.slice(e.path.length):this.path,this.ops.map(r=>r.toCompact(this,A))]}}class pP extends up{ops;constructor(e,A){super(e,A),this.ops=A}op(){return"or"}code(){return ge.or}test(e){for(const A of this.ops)if(A.test(e))return!0;return!1}toJson(e){return{op:"or",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(e,A){return[A?"or":ge.or,e?this.path.slice(e.path.length):this.path,this.ops.map(r=>r.toCompact(this,A))]}}class gP extends up{ops;constructor(e,A){super(e,A),this.ops=A}op(){return"not"}code(){return ge.not}test(e){for(const A of this.ops)if(A.test(e))return!1;return!0}toJson(e){return{op:"not",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(e,A){return[A?"not":ge.not,e?this.path.slice(e.path.length):this.path,this.ops.map(r=>r.toCompact(this,A))]}}class wP extends an{value;ignore_case;matcher;constructor(e,A,n,r){super(e),this.value=A,this.ignore_case=n,this.matcher=r(A,n)}op(){return"matches"}code(){return ge.matches}test(e){const{val:A}=De.find(e,this.path);return typeof A!="string"?!1:this.matcher(A)}toJson(e){const A={op:"matches",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value};return this.ignore_case&&(A.ignore_case=this.ignore_case),A}toCompact(e,A){const n=A?"matches":ge.matches;return this.ignore_case?[n,e?this.path.slice(e.path.length):this.path,this.value,1]:[n,e?this.path.slice(e.path.length):this.path,this.value]}}const{isArray:bP}=Array;class _P extends an{value;constructor(e,A){super(e),this.value=A}op(){return"type"}code(){return ge.type}test(e){const{val:A}=De.find(e,this.path);return A===null?this.value==="null":bP(A)?this.value==="array":typeof A===this.value||typeof A=="number"&&A===Math.round(A)&&this.value==="integer"}toJson(e){return{op:"type",path:De.formatJsonPointer(e?this.path.slice(e.path.length):this.path),value:this.value}}toCompact(e,A){return[A?"type":ge.type,e?this.path.slice(e.path.length):this.path,this.value]}}var Nc={},Tc={},Yc={},ku={},Qi={},qG;function xP(){if(qG)return Qi;qG=1,Object.defineProperty(Qi,"__esModule",{value:!0}),Qi.decodeAsciiMax15=Qi.decodeAscii=void 0;const t=String.fromCharCode,e=(n,r,s)=>{const i=[];for(let o=0;o<s;o++){const a=n[r++];if(a&128)return;i.push(a)}return t.apply(String,i)};Qi.decodeAscii=e;const A=(n,r,s)=>{if(s<4)if(s<2){if(s===0)return"";{const i=n[r++];if((i&128)>1){r-=1;return}return t(i)}}else{const i=n[r++],o=n[r++];if((i&128)>0||(o&128)>0){r-=2;return}if(s<3)return t(i,o);const a=n[r++];if((a&128)>0){r-=3;return}return t(i,o,a)}else{const i=n[r++],o=n[r++],a=n[r++],c=n[r++];if((i&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){r-=4;return}if(s<6){if(s===4)return t(i,o,a,c);{const l=n[r++];if((l&128)>0){r-=5;return}return t(i,o,a,c,l)}}else if(s<8){const l=n[r++],u=n[r++];if((l&128)>0||(u&128)>0){r-=6;return}if(s<7)return t(i,o,a,c,l,u);const h=n[r++];if((h&128)>0){r-=7;return}return t(i,o,a,c,l,u,h)}else{const l=n[r++],u=n[r++],h=n[r++],f=n[r++];if((l&128)>0||(u&128)>0||(h&128)>0||(f&128)>0){r-=8;return}if(s<10){if(s===8)return t(i,o,a,c,l,u,h,f);{const d=n[r++];if((d&128)>0){r-=9;return}return t(i,o,a,c,l,u,h,f,d)}}else if(s<12){const d=n[r++],m=n[r++];if((d&128)>0||(m&128)>0){r-=10;return}if(s<11)return t(i,o,a,c,l,u,h,f,d,m);const p=n[r++];if((p&128)>0){r-=11;return}return t(i,o,a,c,l,u,h,f,d,m,p)}else{const d=n[r++],m=n[r++],p=n[r++],g=n[r++];if((d&128)>0||(m&128)>0||(p&128)>0||(g&128)>0){r-=12;return}if(s<14){if(s===12)return t(i,o,a,c,l,u,h,f,d,m,p,g);{const w=n[r++];if((w&128)>0){r-=13;return}return t(i,o,a,c,l,u,h,f,d,m,p,g,w)}}else{const w=n[r++],x=n[r++];if((w&128)>0||(x&128)>0){r-=14;return}if(s<15)return t(i,o,a,c,l,u,h,f,d,m,p,g,w,x);const v=n[r++];if((v&128)>0){r-=15;return}return t(i,o,a,c,l,u,h,f,d,m,p,g,w,x,v)}}}}};return Qi.decodeAsciiMax15=A,Qi}var Eu={},KG;function GP(){if(KG)return Eu;KG=1,Object.defineProperty(Eu,"__esModule",{value:!0});const t=String.fromCharCode;return Eu.default=(e,A,n)=>{let r=A;const s=r+n,i=[];for(;r<s;){let o=e[r++];if((o&128)!==0){const a=e[r++]&63;if((o&224)===192)o=(o&31)<<6|a;else{const c=e[r++]&63;if((o&240)===224)o=(o&31)<<12|a<<6|c;else if((o&248)===240){const l=e[r++]&63;let u=(o&7)<<18|a<<12|c<<6|l;if(u>65535){u-=65536;const h=u>>>10&1023|55296;o=56320|u&1023,i.push(h)}else o=u}}}i.push(o)}return t.apply(String,i)},Eu}var JG;function MP(){if(JG)return ku;JG=1,Object.defineProperty(ku,"__esModule",{value:!0});const t=Wi,e=xP(),A=t.__importDefault(GP()),n=typeof Ut<"u",r=n?Ut.prototype.utf8Slice:null,s=n?Ut.from:null,i=(l,u,h)=>(0,e.decodeAsciiMax15)(l,u,h)??(0,A.default)(l,u,h),o=(l,u,h)=>(0,e.decodeAscii)(l,u,h)??(0,A.default)(l,u,h),a=r?(l,u,h)=>r.call(l,u,u+h):s?(l,u,h)=>s(l).subarray(u,u+h).toString("utf8"):A.default,c=(l,u,h)=>h<16?i(l,u,h):h<32?o(l,u,h):a(l,u,h);return ku.default=c,ku}var XG;function yP(){if(XG)return Yc;XG=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.decodeUtf8=void 0;const e=Wi.__importDefault(MP());return Yc.decodeUtf8=e.default,Yc}var eM;function DP(){if(eM)return Tc;eM=1,Object.defineProperty(Tc,"__esModule",{value:!0}),Tc.Reader=void 0;const t=yP();let e=class YS{constructor(n=new Uint8Array([]),r=new DataView(n.buffer,n.byteOffset,n.length),s=0,i=n.length){this.uint8=n,this.view=r,this.x=s,this.end=i}reset(n){this.x=0,this.uint8=n,this.view=new DataView(n.buffer,n.byteOffset,n.length)}size(){return this.end-this.x}peek(){return this.view.getUint8(this.x)}peak(){return this.peek()}skip(n){this.x+=n}buf(n=this.size()){const r=this.x,s=r+n,i=this.uint8.subarray(r,s);return this.x=s,i}subarray(n=0,r){const s=this.x,i=s+n,o=typeof r=="number"?s+r:this.end;return this.uint8.subarray(i,o)}slice(n=0,r){const s=this.x,i=s+n,o=typeof r=="number"?s+r:this.end;return new YS(this.uint8,this.view,i,o)}cut(n=this.size()){const r=this.slice(0,n);return this.skip(n),r}u8(){return this.uint8[this.x++]}i8(){return this.view.getInt8(this.x++)}u16(){let n=this.x;const r=(this.uint8[n++]<<8)+this.uint8[n++];return this.x=n,r}i16(){const n=this.view.getInt16(this.x);return this.x+=2,n}u32(){const n=this.view.getUint32(this.x);return this.x+=4,n}i32(){const n=this.view.getInt32(this.x);return this.x+=4,n}u64(){const n=this.view.getBigUint64(this.x);return this.x+=8,n}i64(){const n=this.view.getBigInt64(this.x);return this.x+=8,n}f32(){const n=this.x;return this.x+=4,this.view.getFloat32(n)}f64(){const n=this.x;return this.x+=8,this.view.getFloat64(n)}utf8(n){const r=this.x;return this.x+=n,(0,t.decodeUtf8)(this.uint8,r,n)}ascii(n){const r=this.uint8;let s="";const i=this.x+n;for(let o=this.x;o<i;o++)s+=String.fromCharCode(r[o]);return this.x=i,s}};return Tc.Reader=e,Tc}var Nu={},Oc={},Tu={},tM;function vP(){if(tM)return Tu;tM=1,Object.defineProperty(Tu,"__esModule",{value:!0});const t=String.fromCharCode;return Tu.default=(e,A,n)=>{let r=A;const s=r+n;let i="";for(;r<s;){const o=e[r++];if((o&128)===0){i+=t(o);continue}const a=e[r++]&63;if((o&224)===192){i+=t((o&31)<<6|a);continue}const c=e[r++]&63;if((o&240)===224){i+=t((o&31)<<12|a<<6|c);continue}if((o&248)===240){const l=e[r++]&63;let u=(o&7)<<18|a<<12|c<<6|l;if(u>65535){u-=65536;const h=u>>>10&1023|55296;u=56320|u&1023,i+=t(h,u)}else i+=t(u)}else i+=t(o)}return i},Tu}var AM;function BP(){if(AM)return Oc;AM=1,Object.defineProperty(Oc,"__esModule",{value:!0}),Oc.CachedUtf8Decoder=void 0;const e=Wi.__importDefault(vP());let A=1+Math.round(Math.random()*((-1>>>0)-1));function n(i,o){return A^=A<<13,A^=A>>>17,A^=A<<5,(A>>>0)%(o-i+1)+i}class r{constructor(o,a){this.bytes=o,this.value=a}}let s=class{constructor(){this.caches=[];for(let o=0;o<31;o++)this.caches.push([])}get(o,a,c){const l=this.caches[c-1],u=l.length;e:for(let h=0;h<u;h++){const f=l[h],d=f.bytes;for(let m=0;m<c;m++)if(d[m]!==o[a+m])continue e;return f.value}return null}store(o,a){const c=this.caches[o.length-1],l=new r(o,a);c.length>=16?c[n(0,15)]=l:c.push(l)}decode(o,a,c){if(!c)return"";const l=this.get(o,a,c);if(l!==null)return l;const u=(0,e.default)(o,a,c),h=Uint8Array.prototype.slice.call(o,a,a+c);return this.store(h,u),u}};return Oc.CachedUtf8Decoder=s,Oc}var nM;function kP(){if(nM)return Nu;nM=1,Object.defineProperty(Nu,"__esModule",{value:!0});const t=BP();return Nu.default=new t.CachedUtf8Decoder,Nu}var Sc={},rM;function EP(){if(rM)return Sc;rM=1,Object.defineProperty(Sc,"__esModule",{value:!0}),Sc.JsonPackExtension=void 0;let t=class{constructor(A,n){this.tag=A,this.val=n}};return Sc.JsonPackExtension=t,Sc}var sM;function NP(){if(sM)return Nc;sM=1,Object.defineProperty(Nc,"__esModule",{value:!0}),Nc.MsgPackDecoderFast=void 0;const t=Wi,e=DP(),A=t.__importDefault(kP()),n=EP();let r=class{constructor(i=new e.Reader,o=A.default){this.reader=i,this.keyDecoder=o}decode(i){return this.reader.reset(i),this.readAny()}read(i){return this.reader.reset(i),this.readAny()}val(){return this.readAny()}readAny(){const i=this.reader,o=i.u8();if(o>=224)return o-256;if(o<=191)return o<144?o<=127?o:this.obj(o&15):o<160?this.arr(o&15):i.utf8(o&31);if(o<=208)return o<=200?o<=196?o<=194?o===194?!1:o===192?null:void 0:o===196?i.buf(i.u8()):!0:o<=198?o===198?i.buf(i.u32()):i.buf(i.u16()):o===200?this.ext(i.u16()):this.ext(i.u8()):o<=204?o<=202?o===202?i.f32():this.ext(i.u32()):o===204?i.u8():i.f64():o<=206?o===206?i.u32():i.u16():o===208?i.i8():i.u32()*4294967296+i.u32();if(o<=216)return o<=212?o<=210?o===210?i.i32():i.i16():o===212?this.ext(1):i.i32()*4294967296+i.u32():o<=214?o===214?this.ext(4):this.ext(2):o===216?this.ext(16):this.ext(8);switch(o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32());case 220:return this.arr(i.u16());case 221:return this.arr(i.u32());case 222:return this.obj(i.u16());case 223:return this.obj(i.u32())}}str(){const i=this.reader,o=i.u8();if(o>>5===5)return i.utf8(o&31);switch(o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32())}}obj(i){const o={};for(let a=0;a<i;a++){const c=this.key();if(c==="__proto__")throw 6;o[c]=this.readAny()}return o}key(){const i=this.reader,o=i.view.getUint8(i.x);if(o>=160&&o<=191){const a=o&31,c=this.keyDecoder.decode(i.uint8,i.x+1,a);return i.x+=1+a,c}else if(o===217){const a=i.view.getUint8(i.x+1);if(a<32){const c=this.keyDecoder.decode(i.uint8,i.x+2,a);return i.x+=2+a,c}}switch(i.x++,o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32());default:return""}}arr(i){const o=[];for(let a=0;a<i;a++)o.push(this.readAny());return o}ext(i){const o=this.reader,a=o.u8(),c=o.x+i,l=o.uint8.subarray(o.x,c);return o.x=c,new n.JsonPackExtension(a,l)}back(i){this.reader.x-=i}};return Nc.MsgPackDecoderFast=r,Nc}NP();const TP=(t,e)=>{switch(t.op){case"add":return new ip(De.toPath(t.path),t.value);case"remove":return new FG(De.toPath(t.path),t.oldValue);case"replace":return new zC(De.toPath(t.path),t.value,t.oldValue);case"move":return new HC(De.toPath(t.path),De.toPath(t.from));case"copy":return new LC(De.toPath(t.path),De.toPath(t.from));case"flip":return new VC(De.toPath(t.path));case"inc":return new WC(De.toPath(t.path),t.inc);case"str_ins":return new QC(De.toPath(t.path),t.pos,t.str);case"str_del":return new qC(De.toPath(t.path),t.pos,t.str,t.len);case"split":return new XC(De.toPath(t.path),t.pos,t.props||null);case"merge":return new eP(De.toPath(t.path),t.pos,t.props||null);case"extend":return new AP(De.toPath(t.path),t.props,!!t.deleteNull);default:return Yu(t,e)}},Yu=(t,e)=>{switch(t.op){case"test":return new FC(De.toPath(t.path),t.value,!!t.not);case"defined":return new nP(De.toPath(t.path));case"undefined":return new rP(De.toPath(t.path));case"type":return new _P(De.toPath(t.path),t.value);case"test_type":return new iP(De.toPath(t.path),t.type);case"test_string":return new oP(De.toPath(t.path),t.pos,t.str,!!t.not);case"test_string_len":return new aP(De.toPath(t.path),t.len,!!t.not);case"contains":return new cP(De.toPath(t.path),t.value,!!t.ignore_case);case"ends":return new lP(De.toPath(t.path),t.value,!!t.ignore_case);case"starts":return new uP(De.toPath(t.path),t.value,!!t.ignore_case);case"matches":return new wP(De.toPath(t.path),t.value,!!t.ignore_case,e.createMatcher||JC);case"in":return new hP(De.toPath(t.path),t.value);case"less":return new fP(De.toPath(t.path),t.value);case"more":return new dP(De.toPath(t.path),t.value);case"and":{const A=De.toPath(t.path);return new mP(A,t.apply.map(n=>Yu({...n,path:[...A,...De.toPath(n.path)]},e)))}case"or":{const A=De.toPath(t.path);return new pP(A,t.apply.map(n=>Yu({...n,path:[...A,...De.toPath(n.path)]},e)))}case"not":{const A=De.toPath(t.path);return new gP(A,t.apply.map(n=>Yu({...n,path:[...A,...De.toPath(n.path)]},e)))}default:throw new Error("OP_UNKNOWN")}};function YP(t,e){const A=[],n=t.length;for(let r=0;r<n;r++){const s=TP(t[r],e);A.push(s)}return A}var hp={exports:{}};function OP(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var iM={exports:{}},fA=iM.exports={},Xr,es;function fp(){throw new Error("setTimeout has not been defined")}function dp(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Xr=setTimeout:Xr=fp}catch{Xr=fp}try{typeof clearTimeout=="function"?es=clearTimeout:es=dp}catch{es=dp}})();function oM(t){if(Xr===setTimeout)return setTimeout(t,0);if((Xr===fp||!Xr)&&setTimeout)return Xr=setTimeout,setTimeout(t,0);try{return Xr(t,0)}catch{try{return Xr.call(null,t,0)}catch{return Xr.call(this,t,0)}}}function SP(t){if(es===clearTimeout)return clearTimeout(t);if((es===dp||!es)&&clearTimeout)return es=clearTimeout,clearTimeout(t);try{return es(t)}catch{try{return es.call(null,t)}catch{return es.call(this,t)}}}var ks=[],Qo=!1,qi,Ou=-1;function ZP(){!Qo||!qi||(Qo=!1,qi.length?ks=qi.concat(ks):Ou=-1,ks.length&&aM())}function aM(){if(!Qo){var t=oM(ZP);Qo=!0;for(var e=ks.length;e;){for(qi=ks,ks=[];++Ou<e;)qi&&qi[Ou].run();Ou=-1,e=ks.length}qi=null,Qo=!1,SP(t)}}fA.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)e[A-1]=arguments[A];ks.push(new cM(t,e)),ks.length===1&&!Qo&&oM(aM)};function cM(t,e){this.fun=t,this.array=e}cM.prototype.run=function(){this.fun.apply(null,this.array)},fA.title="browser",fA.browser=!0,fA.env={},fA.argv=[],fA.version="",fA.versions={};function Es(){}fA.on=Es,fA.addListener=Es,fA.once=Es,fA.off=Es,fA.removeListener=Es,fA.removeAllListeners=Es,fA.emit=Es,fA.prependListener=Es,fA.prependOnceListener=Es,fA.listeners=function(t){return[]},fA.binding=function(t){throw new Error("process.binding is not supported")},fA.cwd=function(){return"/"},fA.chdir=function(t){throw new Error("process.chdir is not supported")},fA.umask=function(){return 0};var CP=iM.exports;const vr=OP(CP);var At={},lM;function PP(){if(lM)return At;lM=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),h=Symbol.iterator;function f(O){return O===null||typeof O!="object"?null:(O=h&&O[h]||O["@@iterator"],typeof O=="function"?O:null)}var d={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(O,R,Ae){this.props=O,this.context=R,this.refs=p,this.updater=Ae||d}g.prototype.isReactComponent={},g.prototype.setState=function(O,R){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,R,"setState")},g.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function w(){}w.prototype=g.prototype;function x(O,R,Ae){this.props=O,this.context=R,this.refs=p,this.updater=Ae||d}var v=x.prototype=new w;v.constructor=x,m(v,g.prototype),v.isPureReactComponent=!0;var b=Array.isArray;function T(){}var M={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function Z(O,R,Ae){var K=Ae.ref;return{$$typeof:t,type:O,key:R,ref:K!==void 0?K:null,props:Ae}}function S(O,R){return Z(O.type,R,O.props)}function C(O){return typeof O=="object"&&O!==null&&O.$$typeof===t}function k(O){var R={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(Ae){return R[Ae]})}var N=/\/+/g;function y(O,R){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):R.toString(36)}function I(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(T,T):(O.status="pending",O.then(function(R){O.status==="pending"&&(O.status="fulfilled",O.value=R)},function(R){O.status==="pending"&&(O.status="rejected",O.reason=R)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function U(O,R,Ae,K,ee){var de=typeof O;(de==="undefined"||de==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(de){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case t:case e:be=!0;break;case l:return be=O._init,U(be(O._payload),R,Ae,K,ee)}}if(be)return ee=ee(O),be=K===""?"."+y(O,0):K,b(ee)?(Ae="",be!=null&&(Ae=be.replace(N,"$&/")+"/"),U(ee,R,Ae,"",function(ke){return ke})):ee!=null&&(C(ee)&&(ee=S(ee,Ae+(ee.key==null||O&&O.key===ee.key?"":(""+ee.key).replace(N,"$&/")+"/")+be)),R.push(ee)),1;be=0;var me=K===""?".":K+":";if(b(O))for(var _e=0;_e<O.length;_e++)K=O[_e],de=me+y(K,_e),be+=U(K,R,Ae,de,ee);else if(_e=f(O),typeof _e=="function")for(O=_e.call(O),_e=0;!(K=O.next()).done;)K=K.value,de=me+y(K,_e++),be+=U(K,R,Ae,de,ee);else if(de==="object"){if(typeof O.then=="function")return U(I(O),R,Ae,K,ee);throw R=String(O),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return be}function j(O,R,Ae){if(O==null)return O;var K=[],ee=0;return U(O,K,"","",function(de){return R.call(Ae,de,ee++)}),K}function F(O){if(O._status===-1){var R=O._result;R=R(),R.then(function(Ae){(O._status===0||O._status===-1)&&(O._status=1,O._result=Ae)},function(Ae){(O._status===0||O._status===-1)&&(O._status=2,O._result=Ae)}),O._status===-1&&(O._status=0,O._result=R)}if(O._status===1)return O._result.default;throw O._result}var V=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(R))return}else if(typeof vr=="object"&&typeof vr.emit=="function"){vr.emit("uncaughtException",O);return}console.error(O)},W={map:j,forEach:function(O,R,Ae){j(O,function(){R.apply(this,arguments)},Ae)},count:function(O){var R=0;return j(O,function(){R++}),R},toArray:function(O){return j(O,function(R){return R})||[]},only:function(O){if(!C(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=u,At.Children=W,At.Component=g,At.Fragment=A,At.Profiler=r,At.PureComponent=x,At.StrictMode=n,At.Suspense=a,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return M.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,R,Ae){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var K=m({},O.props),ee=O.key;if(R!=null)for(de in R.key!==void 0&&(ee=""+R.key),R)!B.call(R,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&R.ref===void 0||(K[de]=R[de]);var de=arguments.length-2;if(de===1)K.children=Ae;else if(1<de){for(var be=Array(de),me=0;me<de;me++)be[me]=arguments[me+2];K.children=be}return Z(O.type,ee,K)},At.createContext=function(O){return O={$$typeof:i,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:s,_context:O},O},At.createElement=function(O,R,Ae){var K,ee={},de=null;if(R!=null)for(K in R.key!==void 0&&(de=""+R.key),R)B.call(R,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ee[K]=R[K]);var be=arguments.length-2;if(be===1)ee.children=Ae;else if(1<be){for(var me=Array(be),_e=0;_e<be;_e++)me[_e]=arguments[_e+2];ee.children=me}if(O&&O.defaultProps)for(K in be=O.defaultProps,be)ee[K]===void 0&&(ee[K]=be[K]);return Z(O,de,ee)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:o,render:O}},At.isValidElement=C,At.lazy=function(O){return{$$typeof:l,_payload:{_status:-1,_result:O},_init:F}},At.memo=function(O,R){return{$$typeof:c,type:O,compare:R===void 0?null:R}},At.startTransition=function(O){var R=M.T,Ae={};M.T=Ae;try{var K=O(),ee=M.S;ee!==null&&ee(Ae,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(T,V)}catch(de){V(de)}finally{R!==null&&Ae.types!==null&&(R.types=Ae.types),M.T=R}},At.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},At.use=function(O){return M.H.use(O)},At.useActionState=function(O,R,Ae){return M.H.useActionState(O,R,Ae)},At.useCallback=function(O,R){return M.H.useCallback(O,R)},At.useContext=function(O){return M.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,R){return M.H.useDeferredValue(O,R)},At.useEffect=function(O,R){return M.H.useEffect(O,R)},At.useEffectEvent=function(O){return M.H.useEffectEvent(O)},At.useId=function(){return M.H.useId()},At.useImperativeHandle=function(O,R,Ae){return M.H.useImperativeHandle(O,R,Ae)},At.useInsertionEffect=function(O,R){return M.H.useInsertionEffect(O,R)},At.useLayoutEffect=function(O,R){return M.H.useLayoutEffect(O,R)},At.useMemo=function(O,R){return M.H.useMemo(O,R)},At.useOptimistic=function(O,R){return M.H.useOptimistic(O,R)},At.useReducer=function(O,R,Ae){return M.H.useReducer(O,R,Ae)},At.useRef=function(O){return M.H.useRef(O)},At.useState=function(O){return M.H.useState(O)},At.useSyncExternalStore=function(O,R,Ae){return M.H.useSyncExternalStore(O,R,Ae)},At.useTransition=function(){return M.H.useTransition()},At.version="19.2.4",At}var uM;function RP(){return uM||(uM=1,hp.exports=PP()),hp.exports}RP();const hM="0123456789abcdef",fM=[],Su=[];for(let t=0;t<256;t++)fM[t]=hM[t>>4&15]+hM[t&15],t<16&&(t<10?Su[48+t]=t:Su[87+t]=t);const dM=t=>{const e=t.length;let A="",n=0;for(;n<e;)A+=fM[t[n++]];return A},Zu=t=>{const e=t.length>>1,A=e<<1,n=new Uint8Array(e);let r=0,s=0;for(;s<A;)n[r++]=Su[t.charCodeAt(s++)]<<4|Su[t.charCodeAt(s++)];return n};for(var mM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",IP=typeof Uint8Array>"u"?[]:new Uint8Array(256),Cu=0;Cu<mM.length;Cu++)IP[mM.charCodeAt(Cu)]=Cu;new TextDecoder,new TextEncoder;const pM=typeof window<"u"?window:self,gM=pM.crypto||pM.msCrypto||{};gM.subtle||gM.webkitSubtle;const qo=globalThis||void 0||self,Br=()=>new Map,mp=t=>{const e=Br();return t.forEach((A,n)=>{e.set(n,A)}),e},si=(t,e,A)=>{let n=t.get(e);return n===void 0&&t.set(e,n=A()),n},jP=(t,e)=>{const A=[];for(const[n,r]of t)A.push(e(r,n));return A},zP=(t,e)=>{for(const[A,n]of t)if(e(n,A))return!0;return!1},Ko=()=>new Set,pp=t=>t[t.length-1],HP=(t,e)=>{for(let A=0;A<e.length;A++)t.push(e[A])},Ki=Array.from,gp=(t,e)=>{for(let A=0;A<t.length;A++)if(!e(t[A],A,t))return!1;return!0},wM=(t,e)=>{for(let A=0;A<t.length;A++)if(e(t[A],A,t))return!0;return!1},LP=(t,e)=>{const A=new Array(t);for(let n=0;n<t;n++)A[n]=e(n,A);return A},Pu=Array.isArray;class UP{constructor(){this._observers=Br()}on(e,A){return si(this._observers,e,Ko).add(A),A}once(e,A){const n=(...r)=>{this.off(e,n),A(...r)};this.on(e,n)}off(e,A){const n=this._observers.get(e);n!==void 0&&(n.delete(A),n.size===0&&this._observers.delete(e))}emit(e,A){return Ki((this._observers.get(e)||Br()).values()).forEach(n=>n(...A))}destroy(){this._observers=Br()}}const ts=Math.floor,Ru=Math.abs,bM=(t,e)=>t<e?t:e,Ji=(t,e)=>t>e?t:e,_M=t=>t!==0?t<0:1/t<0,xM=1,GM=2,wp=4,bp=8,Zc=32,Ns=64,Hn=128,Iu=31,_p=63,Xi=127,$P=2147483647,ju=Number.MAX_SAFE_INTEGER,MM=Number.MIN_SAFE_INTEGER,FP=Number.isInteger||(t=>typeof t=="number"&&isFinite(t)&&ts(t)===t),VP=String.fromCharCode,WP=t=>t.toLowerCase(),QP=/^\s*/g,qP=t=>t.replace(QP,""),KP=/([A-Z])/g,yM=(t,e)=>qP(t.replace(KP,A=>`${e}${WP(A)}`)),JP=t=>{const e=unescape(encodeURIComponent(t)),A=e.length,n=new Uint8Array(A);for(let r=0;r<A;r++)n[r]=e.codePointAt(r);return n},Cc=typeof TextEncoder<"u"?new TextEncoder:null,XP=Cc?t=>Cc.encode(t):JP;let Pc=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Pc&&Pc.decode(new Uint8Array).length===1&&(Pc=null);const eR=(t,e)=>LP(e,()=>t).join("");class Rc{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const zu=()=>new Rc,tR=t=>{let e=t.cpos;for(let A=0;A<t.bufs.length;A++)e+=t.bufs[A].length;return e},As=t=>{const e=new Uint8Array(tR(t));let A=0;for(let n=0;n<t.bufs.length;n++){const r=t.bufs[n];e.set(r,A),A+=r.length}return e.set(new Uint8Array(t.cbuf.buffer,0,t.cpos),A),e},AR=(t,e)=>{const A=t.cbuf.length;A-t.cpos<e&&(t.bufs.push(new Uint8Array(t.cbuf.buffer,0,t.cpos)),t.cbuf=new Uint8Array(Ji(A,e)*2),t.cpos=0)},ZA=(t,e)=>{const A=t.cbuf.length;t.cpos===A&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(A*2),t.cpos=0),t.cbuf[t.cpos++]=e},xp=ZA,xt=(t,e)=>{for(;e>Xi;)ZA(t,Hn|Xi&e),e=ts(e/128);ZA(t,Xi&e)},Gp=(t,e)=>{const A=_M(e);for(A&&(e=-e),ZA(t,(e>_p?Hn:0)|(A?Ns:0)|_p&e),e=ts(e/64);e>0;)ZA(t,(e>Xi?Hn:0)|Xi&e),e=ts(e/128)},Mp=new Uint8Array(3e4),nR=Mp.length/3,rR=(t,e)=>{if(e.length<nR){const A=Cc.encodeInto(e,Mp).written||0;xt(t,A);for(let n=0;n<A;n++)ZA(t,Mp[n])}else Ln(t,XP(e))},sR=(t,e)=>{const A=unescape(encodeURIComponent(e)),n=A.length;xt(t,n);for(let r=0;r<n;r++)ZA(t,A.codePointAt(r))},Jo=Cc&&Cc.encodeInto?rR:sR,Hu=(t,e)=>{const A=t.cbuf.length,n=t.cpos,r=bM(A-n,e.length),s=e.length-r;t.cbuf.set(e.subarray(0,r),n),t.cpos+=r,s>0&&(t.bufs.push(t.cbuf),t.cbuf=new Uint8Array(Ji(A*2,s)),t.cbuf.set(e.subarray(r)),t.cpos=s)},Ln=(t,e)=>{xt(t,e.byteLength),Hu(t,e)},yp=(t,e)=>{AR(t,e);const A=new DataView(t.cbuf.buffer,t.cpos,e);return t.cpos+=e,A},iR=(t,e)=>yp(t,4).setFloat32(0,e,!1),oR=(t,e)=>yp(t,8).setFloat64(0,e,!1),aR=(t,e)=>yp(t,8).setBigInt64(0,e,!1),DM=new DataView(new ArrayBuffer(4)),cR=t=>(DM.setFloat32(0,t),DM.getFloat32(0)===t),Ic=(t,e)=>{switch(typeof e){case"string":ZA(t,119),Jo(t,e);break;case"number":FP(e)&&Ru(e)<=$P?(ZA(t,125),Gp(t,e)):cR(e)?(ZA(t,124),iR(t,e)):(ZA(t,123),oR(t,e));break;case"bigint":ZA(t,122),aR(t,e);break;case"object":if(e===null)ZA(t,126);else if(Pu(e)){ZA(t,117),xt(t,e.length);for(let A=0;A<e.length;A++)Ic(t,e[A])}else if(e instanceof Uint8Array)ZA(t,116),Ln(t,e);else{ZA(t,118);const A=Object.keys(e);xt(t,A.length);for(let n=0;n<A.length;n++){const r=A[n];Jo(t,r),Ic(t,e[r])}}break;case"boolean":ZA(t,e?120:121);break;default:ZA(t,127)}};class vM extends Rc{constructor(e){super(),this.w=e,this.s=null,this.count=0}write(e){this.s===e?this.count++:(this.count>0&&xt(this,this.count-1),this.count=1,this.w(this,e),this.s=e)}}const BM=t=>{t.count>0&&(Gp(t.encoder,t.count===1?t.s:-t.s),t.count>1&&xt(t.encoder,t.count-2))};class Lu{constructor(){this.encoder=new Rc,this.s=0,this.count=0}write(e){this.s===e?this.count++:(BM(this),this.count=1,this.s=e)}toUint8Array(){return BM(this),As(this.encoder)}}const kM=t=>{if(t.count>0){const e=t.diff*2+(t.count===1?0:1);Gp(t.encoder,e),t.count>1&&xt(t.encoder,t.count-2)}};class Dp{constructor(){this.encoder=new Rc,this.s=0,this.count=0,this.diff=0}write(e){this.diff===e-this.s?(this.s=e,this.count++):(kM(this),this.count=1,this.diff=e-this.s,this.s=e)}toUint8Array(){return kM(this),As(this.encoder)}}class lR{constructor(){this.sarr=[],this.s="",this.lensE=new Lu}write(e){this.s+=e,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(e.length)}toUint8Array(){const e=new Rc;return this.sarr.push(this.s),this.s="",Jo(e,this.sarr.join("")),Hu(e,this.lensE.toUint8Array()),As(e)}}const ns=t=>new Error(t),kr=()=>{throw ns("Method unimplemented")},nr=()=>{throw ns("Unexpected case")},EM=ns("Unexpected end of array"),NM=ns("Integer out of Range");class Uu{constructor(e){this.arr=e,this.pos=0}}const Xo=t=>new Uu(t),uR=t=>t.pos!==t.arr.length,hR=(t,e)=>{const A=new Uint8Array(t.arr.buffer,t.pos+t.arr.byteOffset,e);return t.pos+=e,A},Un=t=>hR(t,ct(t)),ea=t=>t.arr[t.pos++],ct=t=>{let e=0,A=1;const n=t.arr.length;for(;t.pos<n;){const r=t.arr[t.pos++];if(e=e+(r&Xi)*A,A*=128,r<Hn)return e;if(e>ju)throw NM}throw EM},vp=t=>{let e=t.arr[t.pos++],A=e&_p,n=64;const r=(e&Ns)>0?-1:1;if((e&Hn)===0)return r*A;const s=t.arr.length;for(;t.pos<s;){if(e=t.arr[t.pos++],A=A+(e&Xi)*n,n*=128,e<Hn)return r*A;if(A>ju)throw NM}throw EM},ta=Pc?t=>Pc.decode(Un(t)):t=>{let e=ct(t);if(e===0)return"";{let A=String.fromCodePoint(ea(t));if(--e<100)for(;e--;)A+=String.fromCodePoint(ea(t));else for(;e>0;){const n=e<1e4?e:1e4,r=t.arr.subarray(t.pos,t.pos+n);t.pos+=n,A+=String.fromCodePoint.apply(null,r),e-=n}return decodeURIComponent(escape(A))}},Bp=(t,e)=>{const A=new DataView(t.arr.buffer,t.arr.byteOffset+t.pos,e);return t.pos+=e,A},fR=[t=>{},t=>null,vp,t=>Bp(t,4).getFloat32(0,!1),t=>Bp(t,8).getFloat64(0,!1),t=>Bp(t,8).getBigInt64(0,!1),t=>!1,t=>!0,ta,t=>{const e=ct(t),A={};for(let n=0;n<e;n++){const r=ta(t);A[r]=jc(t)}return A},t=>{const e=ct(t),A=[];for(let n=0;n<e;n++)A.push(jc(t));return A},Un],jc=t=>fR[127-ea(t)](t);class TM extends Uu{constructor(e,A){super(e),this.reader=A,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),uR(this)?this.count=ct(this)+1:this.count=-1),this.count--,this.s}}class $u extends Uu{constructor(e){super(e),this.s=0,this.count=0}read(){if(this.count===0){this.s=vp(this);const e=_M(this.s);this.count=1,e&&(this.s=-this.s,this.count=ct(this)+2)}return this.count--,this.s}}class kp extends Uu{constructor(e){super(e),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const e=vp(this),A=e&1;this.diff=ts(e/2),this.count=1,A&&(this.count=ct(this)+2)}return this.s+=this.diff,this.count--,this.s}}class dR{constructor(e){this.decoder=new $u(e),this.str=ta(this.decoder),this.spos=0}read(){const e=this.spos+this.decoder.read(),A=this.str.slice(this.spos,e);return this.spos=e,A}}const mR=crypto.getRandomValues.bind(crypto),YM=()=>mR(new Uint32Array(1))[0],pR="10000000-1000-4000-8000"+-1e11,gR=()=>pR.replace(/[018]/g,t=>(t^YM()&15>>t/4).toString(16)),OM=t=>new Promise(t);Promise.all.bind(Promise);const SM=t=>t===void 0?null:t;class wR{constructor(){this.map=new Map}setItem(e,A){this.map.set(e,A)}getItem(e){return this.map.get(e)}}let ZM=new wR,bR=!0;try{typeof localStorage<"u"&&localStorage&&(ZM=localStorage,bR=!1)}catch{}const _R=ZM,zc=Symbol("Equality"),CM=(t,e)=>t===e||!!t?.[zc]?.(e)||!1,xR=t=>typeof t=="object",GR=Object.assign,MR=Object.keys,yR=(t,e)=>{for(const A in t)e(t[A],A)},Fu=t=>MR(t).length,DR=t=>{for(const e in t)return!1;return!0},Hc=(t,e)=>{for(const A in t)if(!e(t[A],A))return!1;return!0},Ep=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),vR=(t,e)=>t===e||Fu(t)===Fu(e)&&Hc(t,(A,n)=>(A!==void 0||Ep(e,n))&&CM(e[n],A)),BR=Object.freeze,PM=t=>{for(const e in t){const A=t[e];(typeof A=="object"||typeof A=="function")&&PM(t[e])}return BR(t)},Np=(t,e,A=0)=>{try{for(;A<t.length;A++)t[A](...e)}finally{A<t.length&&Np(t,e,A+1)}},kR=t=>t,Vu=(t,e)=>{if(t===e)return!0;if(t==null||e==null||t.constructor!==e.constructor&&(t.constructor||Object)!==(e.constructor||Object))return!1;if(t[zc]!=null)return t[zc](e);switch(t.constructor){case ArrayBuffer:t=new Uint8Array(t),e=new Uint8Array(e);case Uint8Array:{if(t.byteLength!==e.byteLength)return!1;for(let A=0;A<t.length;A++)if(t[A]!==e[A])return!1;break}case Set:{if(t.size!==e.size)return!1;for(const A of t)if(!e.has(A))return!1;break}case Map:{if(t.size!==e.size)return!1;for(const A of t.keys())if(!e.has(A)||!Vu(t.get(A),e.get(A)))return!1;break}case void 0:case Object:if(Fu(t)!==Fu(e))return!1;for(const A in t)if(!Ep(t,A)||!Vu(t[A],e[A]))return!1;break;case Array:if(t.length!==e.length)return!1;for(let A=0;A<t.length;A++)if(!Vu(t[A],e[A]))return!1;break;default:return!1}return!0},ER=(t,e)=>e.includes(t);var RM={};const Lc=typeof vr<"u"&&vr.release&&/node|io\.js/.test(vr.release.name)&&Object.prototype.toString.call(typeof vr<"u"?vr:0)==="[object process]";let rs;const NR=()=>{if(rs===void 0)if(Lc){rs=Br();const t=vr.argv;let e=null;for(let A=0;A<t.length;A++){const n=t[A];n[0]==="-"?(e!==null&&rs.set(e,""),e=n):e!==null&&(rs.set(e,n),e=null)}e!==null&&rs.set(e,"")}else typeof location=="object"?(rs=Br(),(location.search||"?").slice(1).split("&").forEach(t=>{if(t.length!==0){const[e,A]=t.split("=");rs.set(`--${yM(e,"-")}`,A),rs.set(`-${yM(e,"-")}`,A)}})):rs=Br();return rs},Tp=t=>NR().has(t),Wu=t=>SM(Lc?RM[t.toUpperCase().replaceAll("-","_")]:_R.getItem(t)),IM=t=>Tp("--"+t)||Wu(t)!==null,TR=IM("production"),YR=Lc&&ER(RM.FORCE_COLOR,["true","1","2"])||!Tp("--no-colors")&&!IM("no-color")&&(!Lc||vr.stdout.isTTY)&&(!Lc||Tp("--color")||Wu("COLORTERM")!==null||(Wu("TERM")||"").includes("color")),OR=t=>new Uint8Array(t),SR=t=>{const e=OR(t.byteLength);return e.set(t),e};class ZR{constructor(e,A){this.left=e,this.right=A}}const Ts=(t,e)=>new ZR(t,e),jM=t=>t.next()>=.5,Yp=(t,e,A)=>ts(t.next()*(A+1-e)+e),zM=(t,e,A)=>ts(t.next()*(A+1-e)+e),Op=(t,e,A)=>zM(t,e,A),CR=t=>VP(Op(t,97,122)),PR=(t,e=0,A=20)=>{const n=Op(t,e,A);let r="";for(let s=0;s<n;s++)r+=CR(t);return r},Sp=(t,e)=>e[Op(t,0,e.length-1)],RR=Symbol("0schema");class IR{constructor(){this._rerrs=[]}extend(e,A,n,r=null){this._rerrs.push({path:e,expected:A,has:n,message:r})}toString(){const e=[];for(let A=this._rerrs.length-1;A>0;A--){const n=this._rerrs[A];e.push(eR(" ",(this._rerrs.length-A)*2)+`${n.path!=null?`[${n.path}] `:""}${n.has} doesn't match ${n.expected}. ${n.message}`)}return e.join(`
`)}}const Zp=(t,e)=>t===e?!0:t==null||e==null||t.constructor!==e.constructor?!1:t[zc]?CM(t,e):Pu(t)?gp(t,A=>wM(e,n=>Zp(A,n))):xR(t)?Hc(t,(A,n)=>Zp(A,e[n])):!1;class cn{static _dilutes=!1;extends(e){let[A,n]=[this.shape,e.shape];return this.constructor._dilutes&&([n,A]=[A,n]),Zp(A,n)}equals(e){return this.constructor===e.constructor&&Vu(this.shape,e.shape)}[RR](){return!0}[zc](e){return this.equals(e)}validate(e){return this.check(e)}check(e,A){kr()}get nullable(){return Aa(this,th)}get optional(){return new UM(this)}cast(e){return Ay(e,this),e}expect(e){return Ay(e,this),e}}class Cp extends cn{constructor(e,A){super(),this.shape=e,this._c=A}check(e,A=void 0){const n=e?.constructor===this.shape&&(this._c==null||this._c(e));return!n&&A?.extend(null,this.shape.name,e?.constructor.name,e?.constructor!==this.shape?"Constructor match failed":"Check failed"),n}}const xA=(t,e=null)=>new Cp(t,e);xA(Cp);class Pp extends cn{constructor(e){super(),this.shape=e}check(e,A){const n=this.shape(e);return!n&&A?.extend(null,"custom prop",e?.constructor.name,"failed to check custom prop"),n}}const CA=t=>new Pp(t);xA(Pp);class Qu extends cn{constructor(e){super(),this.shape=e}check(e,A){const n=this.shape.some(r=>r===e);return!n&&A?.extend(null,this.shape.join(" | "),e.toString()),n}}const qu=(...t)=>new Qu(t),HM=xA(Qu),jR=RegExp.escape||(t=>t.replace(/[().|&,$^[\]]/g,e=>"\\"+e)),LM=t=>{if(ra.check(t))return[jR(t)];if(HM.check(t))return t.shape.map(e=>e+"");if(XM.check(t))return["[+-]?\\d+.?\\d*"];if(ey.check(t))return[".*"];if(Ju.check(t))return t.shape.map(LM).flat(1);nr()};class zR extends cn{constructor(e){super(),this.shape=e,this._r=new RegExp("^"+e.map(LM).map(A=>`(${A.join("|")})`).join("")+"$")}check(e,A){const n=this._r.exec(e)!=null;return!n&&A?.extend(null,this._r.toString(),e.toString(),"String doesn't match string template."),n}}xA(zR);const HR=Symbol("optional");class UM extends cn{constructor(e){super(),this.shape=e}check(e,A){const n=e===void 0||this.shape.check(e);return!n&&A?.extend(null,"undefined (optional)","()"),n}get[HR](){return!0}}const LR=xA(UM);class UR extends cn{check(e,A){return A?.extend(null,"never",typeof e),!1}}xA(UR);class Ku extends cn{constructor(e,A=!1){super(),this.shape=e,this._isPartial=A}static _dilutes=!0;get partial(){return new Ku(this.shape,!0)}check(e,A){return e==null?(A?.extend(null,"object","null"),!1):Hc(this.shape,(n,r)=>{const s=this._isPartial&&!Ep(e,r)||n.check(e[r],A);return!s&&A?.extend(r.toString(),n.toString(),typeof e[r],"Object property does not match"),s})}}const $R=t=>new Ku(t),FR=xA(Ku),VR=CA(t=>t!=null&&(t.constructor===Object||t.constructor==null));class $M extends cn{constructor(e,A){super(),this.shape={keys:e,values:A}}check(e,A){return e!=null&&Hc(e,(n,r)=>{const s=this.shape.keys.check(r,A);return!s&&A?.extend(r+"","Record",typeof e,s?"Key doesn't match schema":"Value doesn't match value"),s&&this.shape.values.check(n,A)})}}const FM=(t,e)=>new $M(t,e),WR=xA($M);class VM extends cn{constructor(e){super(),this.shape=e}check(e,A){return e!=null&&Hc(this.shape,(n,r)=>{const s=n.check(e[r],A);return!s&&A?.extend(r.toString(),"Tuple",typeof n),s})}}const QR=(...t)=>new VM(t);xA(VM);class WM extends cn{constructor(e){super(),this.shape=e.length===1?e[0]:new Rp(e)}check(e,A){const n=Pu(e)&&gp(e,r=>this.shape.check(r));return!n&&A?.extend(null,"Array",""),n}}const QM=(...t)=>new WM(t),qR=xA(WM),KR=CA(t=>Pu(t));class qM extends cn{constructor(e,A){super(),this.shape=e,this._c=A}check(e,A){const n=e instanceof this.shape&&(this._c==null||this._c(e));return!n&&A?.extend(null,this.shape.name,e?.constructor.name),n}}const JR=(t,e=null)=>new qM(t,e);xA(qM);const XR=JR(cn);class eI extends cn{constructor(e){super(),this.len=e.length-1,this.args=QR(...e.slice(-1)),this.res=e[this.len]}check(e,A){const n=e.constructor===Function&&e.length<=this.len;return!n&&A?.extend(null,"function",typeof e),n}}const tI=xA(eI),AI=CA(t=>typeof t=="function");class nI extends cn{constructor(e){super(),this.shape=e}check(e,A){const n=gp(this.shape,r=>r.check(e,A));return!n&&A?.extend(null,"Intersectinon",typeof e),n}}xA(nI,t=>t.shape.length>0);class Rp extends cn{static _dilutes=!0;constructor(e){super(),this.shape=e}check(e,A){const n=wM(this.shape,r=>r.check(e,A));return A?.extend(null,"Union",typeof e),n}}const Aa=(...t)=>t.findIndex(e=>Ju.check(e))>=0?Aa(...t.map(e=>Uc(e)).map(e=>Ju.check(e)?e.shape:[e]).flat(1)):t.length===1?t[0]:new Rp(t),Ju=xA(Rp),KM=()=>!0,Xu=CA(KM),rI=xA(Pp,t=>t.shape===KM),Ip=CA(t=>typeof t=="bigint"),sI=CA(t=>t===Ip),JM=CA(t=>typeof t=="symbol");CA(t=>t===JM);const na=CA(t=>typeof t=="number"),XM=CA(t=>t===na),ra=CA(t=>typeof t=="string"),ey=CA(t=>t===ra),eh=CA(t=>typeof t=="boolean"),iI=CA(t=>t===eh),ty=qu(void 0);xA(Qu,t=>t.shape.length===1&&t.shape[0]===void 0),qu(void 0);const th=qu(null),oI=xA(Qu,t=>t.shape.length===1&&t.shape[0]===null);xA(Uint8Array),xA(Cp,t=>t.shape===Uint8Array);const aI=Aa(na,ra,th,ty,Ip,eh,JM);(()=>{const t=QM(Xu),e=FM(ra,Xu),A=Aa(na,ra,th,eh,t,e);return t.shape=A,e.shape.values=A,A})();const Uc=t=>{if(XR.check(t))return t;if(VR.check(t)){const e={};for(const A in t)e[A]=Uc(t[A]);return $R(e)}else{if(KR.check(t))return Aa(...t.map(Uc));if(aI.check(t))return qu(t);if(AI.check(t))return xA(t)}nr()},Ay=TR?()=>{}:(t,e)=>{const A=new IR;if(!e.check(t,A))throw ns(`Expected value to be of type ${e.constructor.name}.
${A.toString()}`)};class cI{constructor(e){this.patterns=[],this.$state=e}if(e,A){return this.patterns.push({if:Uc(e),h:A}),this}else(e){return this.if(Xu,e)}done(){return(e,A)=>{for(let n=0;n<this.patterns.length;n++){const r=this.patterns[n];if(r.if.check(e))return r.h(e,A)}throw ns("Unhandled pattern")}}}const ny=(t=>new cI(t))(Xu).if(XM,(t,e)=>Yp(e,MM,ju)).if(ey,(t,e)=>PR(e)).if(iI,(t,e)=>jM(e)).if(sI,(t,e)=>BigInt(Yp(e,MM,ju))).if(Ju,(t,e)=>sa(e,Sp(e,t.shape))).if(FR,(t,e)=>{const A={};for(const n in t.shape){let r=t.shape[n];if(LR.check(r)){if(jM(e))continue;r=r.shape}A[n]=ny(r,e)}return A}).if(qR,(t,e)=>{const A=[],n=zM(e,0,42);for(let r=0;r<n;r++)A.push(sa(e,t.shape));return A}).if(HM,(t,e)=>Sp(e,t.shape)).if(oI,(t,e)=>null).if(tI,(t,e)=>{const A=sa(e,t.res);return()=>A}).if(rI,(t,e)=>sa(e,Sp(e,[na,ra,th,ty,Ip,eh,QM(na),FM(Aa("a","b","c"),na)]))).if(WR,(t,e)=>{const A={},n=Yp(e,0,3);for(let r=0;r<n;r++){const s=sa(e,t.shape.keys),i=sa(e,t.shape.values);A[s]=i}return A}).done(),sa=(t,e)=>ny(Uc(e),t),Ah=typeof document<"u"?document:{};CA(t=>t.nodeType===dI),typeof DOMParser<"u"&&new DOMParser,CA(t=>t.nodeType===uI),CA(t=>t.nodeType===hI);const lI=t=>jP(t,(e,A)=>`${A}:${e};`).join(""),uI=Ah.ELEMENT_NODE,hI=Ah.TEXT_NODE,fI=Ah.DOCUMENT_NODE,dI=Ah.DOCUMENT_FRAGMENT_NODE;CA(t=>t.nodeType===fI);const Ys=Symbol,ry=Ys(),sy=Ys(),mI=Ys(),pI=Ys(),gI=Ys(),iy=Ys(),wI=Ys(),jp=Ys(),bI=Ys(),_I=t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],A=[];let n=0;for(;n<t.length;n++){const r=t[n];if(r===void 0)break;if(r.constructor===String||r.constructor===Number)e.push(r);else if(r.constructor===Object)break}for(n>0&&A.push(e.join(""));n<t.length;n++){const r=t[n];r instanceof Symbol||A.push(r)}return A},xI={[ry]:Ts("font-weight","bold"),[sy]:Ts("font-weight","normal"),[mI]:Ts("color","blue"),[gI]:Ts("color","green"),[pI]:Ts("color","grey"),[iy]:Ts("color","red"),[wI]:Ts("color","purple"),[jp]:Ts("color","orange"),[bI]:Ts("color","black")},oy=YR?t=>{t.length===1&&t[0]?.constructor===Function&&(t=t[0]());const e=[],A=[],n=Br();let r=[],s=0;for(;s<t.length;s++){const i=t[s],o=xI[i];if(o!==void 0)n.set(o.left,o.right);else{if(i===void 0)break;if(i.constructor===String||i.constructor===Number){const a=lI(n);s>0||a.length>0?(e.push("%c"+i),A.push(a)):e.push(i)}else break}}for(s>0&&(r=A,r.unshift(e.join("")));s<t.length;s++){const i=t[s];i instanceof Symbol||r.push(i)}return r}:_I,GI=(...t)=>{console.log(...oy(t)),ay.forEach(e=>e.print(t))},MI=(...t)=>{console.warn(...oy(t)),t.unshift(jp),ay.forEach(e=>e.print(t))},ay=Ko(),cy=t=>({[Symbol.iterator](){return this},next:t}),yI=(t,e)=>cy(()=>{let A;do A=t.next();while(!A.done&&!e(A.value));return A}),zp=(t,e)=>cy(()=>{const{done:A,value:n}=t.next();return{done:A,value:A?void 0:e(n)}});class Hp{constructor(e,A){this.clock=e,this.len=A}}class $c{constructor(){this.clients=new Map}}const ly=(t,e,A)=>e.clients.forEach((n,r)=>{const s=t.doc.store.clients.get(r);if(s!=null){const i=s[s.length-1],o=i.id.clock+i.length;for(let a=0,c=n[a];a<n.length&&c.clock<o;c=n[++a])vy(t,s,c.clock,c.len,A)}}),DI=(t,e)=>{let A=0,n=t.length-1;for(;A<=n;){const r=ts((A+n)/2),s=t[r],i=s.clock;if(i<=e){if(e<i+s.len)return r;A=r+1}else n=r-1}return null},uy=(t,e)=>{const A=t.clients.get(e.client);return A!==void 0&&DI(A,e.clock)!==null},Lp=t=>{t.clients.forEach(e=>{e.sort((r,s)=>r.clock-s.clock);let A,n;for(A=1,n=1;A<e.length;A++){const r=e[n-1],s=e[A];r.clock+r.len>=s.clock?r.len=Ji(r.len,s.clock+s.len-r.clock):(n<A&&(e[n]=s),n++)}e.length=n})},vI=t=>{const e=new $c;for(let A=0;A<t.length;A++)t[A].clients.forEach((n,r)=>{if(!e.clients.has(r)){const s=n.slice();for(let i=A+1;i<t.length;i++)HP(s,t[i].clients.get(r)||[]);e.clients.set(r,s)}});return Lp(e),e},nh=(t,e,A,n)=>{si(t.clients,e,()=>[]).push(new Hp(A,n))},BI=()=>new $c,kI=t=>{const e=BI();return t.clients.forEach((A,n)=>{const r=[];for(let s=0;s<A.length;s++){const i=A[s];if(i.deleted){const o=i.id.clock;let a=i.length;if(s+1<A.length)for(let c=A[s+1];s+1<A.length&&c.deleted;c=A[++s+1])a+=c.length;r.push(new Hp(o,a))}}r.length>0&&e.clients.set(n,r)}),e},ia=(t,e)=>{xt(t.restEncoder,e.clients.size),Ki(e.clients.entries()).sort((A,n)=>n[0]-A[0]).forEach(([A,n])=>{t.resetDsCurVal(),xt(t.restEncoder,A);const r=n.length;xt(t.restEncoder,r);for(let s=0;s<r;s++){const i=n[s];t.writeDsClock(i.clock),t.writeDsLen(i.len)}})},Up=t=>{const e=new $c,A=ct(t.restDecoder);for(let n=0;n<A;n++){t.resetDsCurVal();const r=ct(t.restDecoder),s=ct(t.restDecoder);if(s>0){const i=si(e.clients,r,()=>[]);for(let o=0;o<s;o++)i.push(new Hp(t.readDsClock(),t.readDsLen()))}}return e},hy=(t,e,A)=>{const n=new $c,r=ct(t.restDecoder);for(let s=0;s<r;s++){t.resetDsCurVal();const i=ct(t.restDecoder),o=ct(t.restDecoder),a=A.clients.get(i)||[],c=PA(A,i);for(let l=0;l<o;l++){const u=t.readDsClock(),h=u+t.readDsLen();if(u<c){c<h&&nh(n,i,c,h-c);let f=ss(a,u),d=a[f];for(!d.deleted&&d.id.clock<u&&(a.splice(f+1,0,gh(e,d,u-d.id.clock)),f++);f<a.length&&(d=a[f++],d.id.clock<h);)d.deleted||(h<d.id.clock+d.length&&a.splice(f,0,gh(e,d,h-d.id.clock)),d.delete(e))}else nh(n,i,u,h-u)}}if(n.clients.size>0){const s=new eo;return xt(s.restEncoder,0),ia(s,n),s.toUint8Array()}return null},fy=YM;class oa extends UP{constructor({guid:e=gR(),collectionid:A=null,gc:n=!0,gcFilter:r=()=>!0,meta:s=null,autoLoad:i=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=fy(),this.guid=e,this.collectionid=A,this.share=new Map,this.store=new My,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=i,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=OM(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const a=()=>OM(c=>{const l=u=>{(u===void 0||u===!0)&&(this.off("sync",l),c())};this.on("sync",l)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=a()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){const e=this._item;e!==null&&!this.shouldLoad&&Zt(e.parent.doc,A=>{A.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set(Ki(this.subdocs).map(e=>e.guid))}transact(e,A=null){return Zt(this,e,A)}get(e,A=FA){const n=si(this.share,e,()=>{const s=new A;return s._integrate(this,null),s}),r=n.constructor;if(A!==FA&&r!==A)if(r===FA){const s=new A;s._map=n._map,n._map.forEach(i=>{for(;i!==null;i=i.left)i.parent=s}),s._start=n._start;for(let i=s._start;i!==null;i=i.right)i.parent=s;return s._length=n._length,this.share.set(e,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${e} has already been defined with a different constructor`);return n}getArray(e=""){return this.get(e,ua)}getText(e=""){return this.get(e,Os)}getMap(e=""){return this.get(e,ha)}getXmlElement(e=""){return this.get(e,da)}getXmlFragment(e=""){return this.get(e,to)}toJSON(){const e={};return this.share.forEach((A,n)=>{e[n]=A.toJSON()}),e}destroy(){this.isDestroyed=!0,Ki(this.subdocs).forEach(A=>A.destroy());const e=this._item;if(e!==null){this._item=null;const A=e.content;A.doc=new oa({guid:this.guid,...A.opts,shouldLoad:!1}),A.doc._item=e,Zt(e.parent.doc,n=>{const r=A.doc;e.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class dy{constructor(e){this.restDecoder=e}resetDsCurVal(){}readDsClock(){return ct(this.restDecoder)}readDsLen(){return ct(this.restDecoder)}}class my extends dy{readLeftID(){return dt(ct(this.restDecoder),ct(this.restDecoder))}readRightID(){return dt(ct(this.restDecoder),ct(this.restDecoder))}readClient(){return ct(this.restDecoder)}readInfo(){return ea(this.restDecoder)}readString(){return ta(this.restDecoder)}readParentInfo(){return ct(this.restDecoder)===1}readTypeRef(){return ct(this.restDecoder)}readLen(){return ct(this.restDecoder)}readAny(){return jc(this.restDecoder)}readBuf(){return SR(Un(this.restDecoder))}readJSON(){return JSON.parse(ta(this.restDecoder))}readKey(){return ta(this.restDecoder)}}class EI{constructor(e){this.dsCurrVal=0,this.restDecoder=e}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=ct(this.restDecoder),this.dsCurrVal}readDsLen(){const e=ct(this.restDecoder)+1;return this.dsCurrVal+=e,e}}class aa extends EI{constructor(e){super(e),this.keys=[],ct(e),this.keyClockDecoder=new kp(Un(e)),this.clientDecoder=new $u(Un(e)),this.leftClockDecoder=new kp(Un(e)),this.rightClockDecoder=new kp(Un(e)),this.infoDecoder=new TM(Un(e),ea),this.stringDecoder=new dR(Un(e)),this.parentInfoDecoder=new TM(Un(e),ea),this.typeRefDecoder=new $u(Un(e)),this.lenDecoder=new $u(Un(e))}readLeftID(){return new ca(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new ca(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return jc(this.restDecoder)}readBuf(){return Un(this.restDecoder)}readJSON(){return jc(this.restDecoder)}readKey(){const e=this.keyClockDecoder.read();if(e<this.keys.length)return this.keys[e];{const A=this.stringDecoder.read();return this.keys.push(A),A}}}class NI{constructor(){this.restEncoder=zu()}toUint8Array(){return As(this.restEncoder)}resetDsCurVal(){}writeDsClock(e){xt(this.restEncoder,e)}writeDsLen(e){xt(this.restEncoder,e)}}class Fc extends NI{writeLeftID(e){xt(this.restEncoder,e.client),xt(this.restEncoder,e.clock)}writeRightID(e){xt(this.restEncoder,e.client),xt(this.restEncoder,e.clock)}writeClient(e){xt(this.restEncoder,e)}writeInfo(e){xp(this.restEncoder,e)}writeString(e){Jo(this.restEncoder,e)}writeParentInfo(e){xt(this.restEncoder,e?1:0)}writeTypeRef(e){xt(this.restEncoder,e)}writeLen(e){xt(this.restEncoder,e)}writeAny(e){Ic(this.restEncoder,e)}writeBuf(e){Ln(this.restEncoder,e)}writeJSON(e){Jo(this.restEncoder,JSON.stringify(e))}writeKey(e){Jo(this.restEncoder,e)}}class TI{constructor(){this.restEncoder=zu(),this.dsCurrVal=0}toUint8Array(){return As(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(e){const A=e-this.dsCurrVal;this.dsCurrVal=e,xt(this.restEncoder,A)}writeDsLen(e){e===0&&nr(),xt(this.restEncoder,e-1),this.dsCurrVal+=e}}class eo extends TI{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Dp,this.clientEncoder=new Lu,this.leftClockEncoder=new Dp,this.rightClockEncoder=new Dp,this.infoEncoder=new vM(xp),this.stringEncoder=new lR,this.parentInfoEncoder=new vM(xp),this.typeRefEncoder=new Lu,this.lenEncoder=new Lu}toUint8Array(){const e=zu();return xt(e,0),Ln(e,this.keyClockEncoder.toUint8Array()),Ln(e,this.clientEncoder.toUint8Array()),Ln(e,this.leftClockEncoder.toUint8Array()),Ln(e,this.rightClockEncoder.toUint8Array()),Ln(e,As(this.infoEncoder)),Ln(e,this.stringEncoder.toUint8Array()),Ln(e,As(this.parentInfoEncoder)),Ln(e,this.typeRefEncoder.toUint8Array()),Ln(e,this.lenEncoder.toUint8Array()),Hu(e,As(this.restEncoder)),As(e)}writeLeftID(e){this.clientEncoder.write(e.client),this.leftClockEncoder.write(e.clock)}writeRightID(e){this.clientEncoder.write(e.client),this.rightClockEncoder.write(e.clock)}writeClient(e){this.clientEncoder.write(e)}writeInfo(e){this.infoEncoder.write(e)}writeString(e){this.stringEncoder.write(e)}writeParentInfo(e){this.parentInfoEncoder.write(e?1:0)}writeTypeRef(e){this.typeRefEncoder.write(e)}writeLen(e){this.lenEncoder.write(e)}writeAny(e){Ic(this.restEncoder,e)}writeBuf(e){Ln(this.restEncoder,e)}writeJSON(e){Ic(this.restEncoder,e)}writeKey(e){const A=this.keyMap.get(e);A===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(e)):this.keyClockEncoder.write(A)}}const YI=(t,e,A,n)=>{n=Ji(n,e[0].id.clock);const r=ss(e,n);xt(t.restEncoder,e.length-r),t.writeClient(A),xt(t.restEncoder,n);const s=e[r];s.write(t,n-s.id.clock);for(let i=r+1;i<e.length;i++)e[i].write(t,0)},$p=(t,e,A)=>{const n=new Map;A.forEach((r,s)=>{PA(e,s)>r&&n.set(s,r)}),Vp(e).forEach((r,s)=>{A.has(s)||n.set(s,0)}),xt(t.restEncoder,n.size),Ki(n.entries()).sort((r,s)=>s[0]-r[0]).forEach(([r,s])=>{YI(t,e.clients.get(r),r,s)})},OI=(t,e)=>{const A=Br(),n=ct(t.restDecoder);for(let r=0;r<n;r++){const s=ct(t.restDecoder),i=new Array(s),o=t.readClient();let a=ct(t.restDecoder);A.set(o,{i:0,refs:i});for(let c=0;c<s;c++){const l=t.readInfo();switch(Iu&l){case 0:{const u=t.readLen();i[c]=new rr(dt(o,a),u),a+=u;break}case 10:{const u=ct(t.restDecoder);i[c]=new sr(dt(o,a),u),a+=u;break}default:{const u=(l&(Ns|Hn))===0,h=new EA(dt(o,a),null,(l&Hn)===Hn?t.readLeftID():null,null,(l&Ns)===Ns?t.readRightID():null,u?t.readParentInfo()?e.get(t.readString()):t.readLeftID():null,u&&(l&Zc)===Zc?t.readString():null,Ky(t,l));i[c]=h,a+=h.length}}}}return A},SI=(t,e,A)=>{const n=[];let r=Ki(A.keys()).sort((f,d)=>f-d);if(r.length===0)return null;const s=()=>{if(r.length===0)return null;let f=A.get(r[r.length-1]);for(;f.refs.length===f.i;)if(r.pop(),r.length>0)f=A.get(r[r.length-1]);else return null;return f};let i=s();if(i===null)return null;const o=new My,a=new Map,c=(f,d)=>{const m=a.get(f);(m==null||m>d)&&a.set(f,d)};let l=i.refs[i.i++];const u=new Map,h=()=>{for(const f of n){const d=f.id.client,m=A.get(d);m?(m.i--,o.clients.set(d,m.refs.slice(m.i)),A.delete(d),m.i=0,m.refs=[]):o.clients.set(d,[f]),r=r.filter(p=>p!==d)}n.length=0};for(;;){if(l.constructor!==sr){const d=si(u,l.id.client,()=>PA(e,l.id.client))-l.id.clock;if(d<0)n.push(l),c(l.id.client,l.id.clock-1),h();else{const m=l.getMissing(t,e);if(m!==null){n.push(l);const p=A.get(m)||{refs:[],i:0};if(p.refs.length===p.i)c(m,PA(e,m)),h();else{l=p.refs[p.i++];continue}}else(d===0||d<l.length)&&(l.integrate(t,d),u.set(l.id.client,l.id.clock+l.length))}}if(n.length>0)l=n.pop();else if(i!==null&&i.i<i.refs.length)l=i.refs[i.i++];else{if(i=s(),i===null)break;l=i.refs[i.i++]}}if(o.clients.size>0){const f=new eo;return $p(f,o,new Map),xt(f.restEncoder,0),{missing:a,update:f.toUint8Array()}}return null},ZI=(t,e)=>$p(t,e.doc.store,e.beforeState),CI=(t,e,A,n=new aa(t))=>Zt(e,r=>{r.local=!1;let s=!1;const i=r.doc,o=i.store,a=OI(n,i),c=SI(r,o,a),l=o.pendingStructs;if(l){for(const[h,f]of l.missing)if(f<PA(o,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const d=l.missing.get(h);(d==null||d>f)&&l.missing.set(h,f)}l.update=ih([l.update,c.update])}}else o.pendingStructs=c;const u=hy(n,r,o);if(o.pendingDs){const h=new aa(Xo(o.pendingDs));ct(h.restDecoder);const f=hy(h,r,o);u&&f?o.pendingDs=ih([u,f]):o.pendingDs=u||f}else o.pendingDs=u;if(s){const h=o.pendingStructs.update;o.pendingStructs=null,py(r.doc,h)}},A,!1),py=(t,e,A,n=aa)=>{const r=Xo(e);CI(r,t,A,new n(r))},gy=(t,e,A)=>py(t,e,A,my),PI=(t,e,A=new Map)=>{$p(t,e.store,A),ia(t,kI(e.store))},RI=(t,e=new Uint8Array([0]),A=new eo)=>{const n=wy(e);PI(A,t,n);const r=[A.toUint8Array()];if(t.store.pendingDs&&r.push(t.store.pendingDs),t.store.pendingStructs&&r.push(qI(t.store.pendingStructs.update,e)),r.length>1){if(A.constructor===Fc)return WI(r.map((s,i)=>i===0?s:JI(s)));if(A.constructor===eo)return ih(r)}return r[0]},II=(t,e)=>RI(t,e,new Fc),jI=t=>{const e=new Map,A=ct(t.restDecoder);for(let n=0;n<A;n++){const r=ct(t.restDecoder),s=ct(t.restDecoder);e.set(r,s)}return e},wy=t=>jI(new dy(Xo(t)));class zI{constructor(){this.l=[]}}const by=()=>new zI,_y=(t,e)=>t.l.push(e),xy=(t,e)=>{const A=t.l,n=A.length;t.l=A.filter(r=>e!==r),n===t.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Gy=(t,e,A)=>Np(t.l,[e,A]);class ca{constructor(e,A){this.client=e,this.clock=A}}const rh=(t,e)=>t===e||t!==null&&e!==null&&t.client===e.client&&t.clock===e.clock,dt=(t,e)=>new ca(t,e),HI=t=>{for(const[e,A]of t.doc.share.entries())if(A===t)return e;throw nr()},la=(t,e)=>e===void 0?!t.deleted:e.sv.has(t.id.client)&&(e.sv.get(t.id.client)||0)>t.id.clock&&!uy(e.ds,t.id),Fp=(t,e)=>{const A=si(t.meta,Fp,Ko),n=t.doc.store;A.has(e)||(e.sv.forEach((r,s)=>{r<PA(n,s)&&ii(t,dt(s,r))}),ly(t,e.ds,r=>{}),A.add(e))};class My{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const Vp=t=>{const e=new Map;return t.clients.forEach((A,n)=>{const r=A[A.length-1];e.set(n,r.id.clock+r.length)}),e},PA=(t,e)=>{const A=t.clients.get(e);if(A===void 0)return 0;const n=A[A.length-1];return n.id.clock+n.length},yy=(t,e)=>{let A=t.clients.get(e.id.client);if(A===void 0)A=[],t.clients.set(e.id.client,A);else{const n=A[A.length-1];if(n.id.clock+n.length!==e.id.clock)throw nr()}A.push(e)},ss=(t,e)=>{let A=0,n=t.length-1,r=t[n],s=r.id.clock;if(s===e)return n;let i=ts(e/(s+r.length-1)*n);for(;A<=n;){if(r=t[i],s=r.id.clock,s<=e){if(e<s+r.length)return i;A=i+1}else n=i-1;i=ts((A+n)/2)}throw nr()},Wp=(t,e)=>{const A=t.clients.get(e.client);return A[ss(A,e.clock)]},Qp=(t,e,A)=>{const n=ss(e,A),r=e[n];return r.id.clock<A&&r instanceof EA?(e.splice(n+1,0,gh(t,r,A-r.id.clock)),n+1):n},ii=(t,e)=>{const A=t.doc.store.clients.get(e.client);return A[Qp(t,A,e.clock)]},Dy=(t,e,A)=>{const n=e.clients.get(A.client),r=ss(n,A.clock),s=n[r];return A.clock!==s.id.clock+s.length-1&&s.constructor!==rr&&n.splice(r+1,0,gh(t,s,A.clock-s.id.clock+1)),s},LI=(t,e,A)=>{const n=t.clients.get(e.id.client);n[ss(n,e.id.clock)]=A},vy=(t,e,A,n,r)=>{if(n===0)return;const s=A+n;let i=Qp(t,e,A),o;do o=e[i++],s<o.id.clock+o.length&&Qp(t,e,s),r(o);while(i<e.length&&e[i].id.clock<s)};class UI{constructor(e,A,n){this.doc=e,this.deleteSet=new $c,this.beforeState=Vp(e.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=A,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const By=(t,e)=>e.deleteSet.clients.size===0&&!zP(e.afterState,(A,n)=>e.beforeState.get(n)!==A)?!1:(Lp(e.deleteSet),ZI(t,e),ia(t,e.deleteSet),!0),ky=(t,e,A)=>{const n=e._item;(n===null||n.id.clock<(t.beforeState.get(n.id.client)||0)&&!n.deleted)&&si(t.changed,e,Ko).add(A)},sh=(t,e)=>{let A=t[e],n=t[e-1],r=e;for(;r>0;A=n,n=t[--r-1]){if(n.deleted===A.deleted&&n.constructor===A.constructor&&n.mergeWith(A)){A instanceof EA&&A.parentSub!==null&&A.parent._map.get(A.parentSub)===A&&A.parent._map.set(A.parentSub,n);continue}break}const s=e-r;return s&&t.splice(e+1-s,s),s},$I=(t,e,A)=>{for(const[n,r]of t.clients.entries()){const s=e.clients.get(n);for(let i=r.length-1;i>=0;i--){const o=r[i],a=o.clock+o.len;for(let c=ss(s,o.clock),l=s[c];c<s.length&&l.id.clock<a;l=s[++c]){const u=s[c];if(o.clock+o.len<=u.id.clock)break;u instanceof EA&&u.deleted&&!u.keep&&A(u)&&u.gc(e,!1)}}}},FI=(t,e)=>{t.clients.forEach((A,n)=>{const r=e.clients.get(n);for(let s=A.length-1;s>=0;s--){const i=A[s],o=bM(r.length-1,1+ss(r,i.clock+i.len-1));for(let a=o,c=r[a];a>0&&c.id.clock>=i.clock;c=r[a])a-=1+sh(r,a)}})},Ey=(t,e)=>{if(e<t.length){const A=t[e],n=A.doc,r=n.store,s=A.deleteSet,i=A._mergeStructs;try{Lp(s),A.afterState=Vp(A.doc.store),n.emit("beforeObserverCalls",[A,n]);const o=[];A.changed.forEach((a,c)=>o.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(A,a)})),o.push(()=>{A.changedParentTypes.forEach((a,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(a=a.filter(l=>l.target._item===null||!l.target._item.deleted),a.forEach(l=>{l.currentTarget=c,l._path=null}),a.sort((l,u)=>l.path.length-u.path.length),o.push(()=>{Gy(c._dEH,a,A)}))}),o.push(()=>n.emit("afterTransaction",[A,n])),o.push(()=>{A._needFormattingCleanup&&hj(A)})}),Np(o,[])}finally{n.gc&&$I(s,r,n.gcFilter),FI(s,r),A.afterState.forEach((l,u)=>{const h=A.beforeState.get(u)||0;if(h!==l){const f=r.clients.get(u),d=Ji(ss(f,h),1);for(let m=f.length-1;m>=d;)m-=1+sh(f,m)}});for(let l=i.length-1;l>=0;l--){const{client:u,clock:h}=i[l].id,f=r.clients.get(u),d=ss(f,h);d+1<f.length&&sh(f,d+1)>1||d>0&&sh(f,d)}if(!A.local&&A.afterState.get(n.clientID)!==A.beforeState.get(n.clientID)&&(GI(jp,ry,"[yjs] ",sy,iy,"Changed the client-id because another client seems to be using it."),n.clientID=fy()),n.emit("afterTransactionCleanup",[A,n]),n._observers.has("update")){const l=new Fc;By(l,A)&&n.emit("update",[l.toUint8Array(),A.origin,n,A])}if(n._observers.has("updateV2")){const l=new eo;By(l,A)&&n.emit("updateV2",[l.toUint8Array(),A.origin,n,A])}const{subdocsAdded:o,subdocsLoaded:a,subdocsRemoved:c}=A;(o.size>0||c.size>0||a.size>0)&&(o.forEach(l=>{l.clientID=n.clientID,l.collectionid==null&&(l.collectionid=n.collectionid),n.subdocs.add(l)}),c.forEach(l=>n.subdocs.delete(l)),n.emit("subdocs",[{loaded:a,added:o,removed:c},n,A]),c.forEach(l=>l.destroy())),t.length<=e+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,t])):Ey(t,e+1)}}},Zt=(t,e,A=null,n=!0)=>{const r=t._transactionCleanups;let s=!1,i=null;t._transaction===null&&(s=!0,t._transaction=new UI(t,A,n),r.push(t._transaction),r.length===1&&t.emit("beforeAllTransactions",[t]),t.emit("beforeTransaction",[t._transaction,t]));try{i=e(t._transaction)}finally{if(s){const o=t._transaction===r[0];t._transaction=null,o&&Ey(r,0)}}return i};function*VI(t){const e=ct(t.restDecoder);for(let A=0;A<e;A++){const n=ct(t.restDecoder),r=t.readClient();let s=ct(t.restDecoder);for(let i=0;i<n;i++){const o=t.readInfo();if(o===10){const a=ct(t.restDecoder);yield new sr(dt(r,s),a),s+=a}else if((Iu&o)!==0){const a=(o&(Ns|Hn))===0,c=new EA(dt(r,s),null,(o&Hn)===Hn?t.readLeftID():null,null,(o&Ns)===Ns?t.readRightID():null,a?t.readParentInfo()?t.readString():t.readLeftID():null,a&&(o&Zc)===Zc?t.readString():null,Ky(t,o));yield c,s+=c.length}else{const a=t.readLen();yield new rr(dt(r,s),a),s+=a}}}}class qp{constructor(e,A){this.gen=VI(e),this.curr=null,this.done=!1,this.filterSkips=A,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===sr);return this.curr}}class Kp{constructor(e){this.currClient=0,this.startClock=0,this.written=0,this.encoder=e,this.clientStructs=[]}}const WI=t=>ih(t,my,Fc),QI=(t,e)=>{if(t.constructor===rr){const{client:A,clock:n}=t.id;return new rr(dt(A,n+e),t.length-e)}else if(t.constructor===sr){const{client:A,clock:n}=t.id;return new sr(dt(A,n+e),t.length-e)}else{const A=t,{client:n,clock:r}=A.id;return new EA(dt(n,r+e),null,dt(n,r+e-1),null,A.rightOrigin,A.parent,A.parentSub,A.content.splice(e))}},ih=(t,e=aa,A=eo)=>{if(t.length===1)return t[0];const n=t.map(l=>new e(Xo(l)));let r=n.map(l=>new qp(l,!0)),s=null;const i=new A,o=new Kp(i);for(;r=r.filter(h=>h.curr!==null),r.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const d=h.curr.id.clock-f.curr.id.clock;return d===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===sr?1:-1:d}else return f.curr.id.client-h.curr.id.client}),r.length!==0;){const l=r[0],u=l.curr.id.client;if(s!==null){let h=l.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=l.next(),f=!0;if(h===null||h.id.client!==u||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(u!==s.struct.id.client)oi(o,s.struct,s.offset),s={struct:h,offset:0},l.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===sr)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{oi(o,s.struct,s.offset);const d=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new sr(dt(u,s.struct.id.clock+s.struct.length),d),offset:0}}else{const d=s.struct.id.clock+s.struct.length-h.id.clock;d>0&&(s.struct.constructor===sr?s.struct.length-=d:h=QI(h,d)),s.struct.mergeWith(h)||(oi(o,s.struct,s.offset),s={struct:h,offset:0},l.next())}}else s={struct:l.curr,offset:0},l.next();for(let h=l.curr;h!==null&&h.id.client===u&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==sr;h=l.next())oi(o,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(oi(o,s.struct,s.offset),s=null),Jp(o);const a=n.map(l=>Up(l)),c=vI(a);return ia(i,c),i.toUint8Array()},qI=(t,e,A=aa,n=eo)=>{const r=wy(e),s=new n,i=new Kp(s),o=new A(Xo(t)),a=new qp(o,!1);for(;a.curr;){const l=a.curr,u=l.id.client,h=r.get(u)||0;if(a.curr.constructor===sr){a.next();continue}if(l.id.clock+l.length>h)for(oi(i,l,Ji(h-l.id.clock,0)),a.next();a.curr&&a.curr.id.client===u;)oi(i,a.curr,0),a.next();else for(;a.curr&&a.curr.id.client===u&&a.curr.id.clock+a.curr.length<=h;)a.next()}Jp(i);const c=Up(o);return ia(s,c),s.toUint8Array()},Ny=t=>{t.written>0&&(t.clientStructs.push({written:t.written,restEncoder:As(t.encoder.restEncoder)}),t.encoder.restEncoder=zu(),t.written=0)},oi=(t,e,A)=>{t.written>0&&t.currClient!==e.id.client&&Ny(t),t.written===0&&(t.currClient=e.id.client,t.encoder.writeClient(e.id.client),xt(t.encoder.restEncoder,e.id.clock+A)),e.write(t.encoder,A),t.written++},Jp=t=>{Ny(t);const e=t.encoder.restEncoder;xt(e,t.clientStructs.length);for(let A=0;A<t.clientStructs.length;A++){const n=t.clientStructs[A];xt(e,n.written),Hu(e,n.restEncoder)}},KI=(t,e,A,n)=>{const r=new A(Xo(t)),s=new qp(r,!1),i=new n,o=new Kp(i);for(let c=s.curr;c!==null;c=s.next())oi(o,e(c),0);Jp(o);const a=Up(r);return ia(i,a),i.toUint8Array()},JI=t=>KI(t,kR,aa,Fc),Ty="You must not compute changes after the event-handler fired.";class oh{constructor(e,A){this.target=e,this.currentTarget=e,this.transaction=A,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=XI(this.currentTarget,this.target))}deletes(e){return uy(this.transaction.deleteSet,e.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw ns(Ty);const e=new Map,A=this.target;this.transaction.changed.get(A).forEach(r=>{if(r!==null){const s=A._map.get(r);let i,o;if(this.adds(s)){let a=s.left;for(;a!==null&&this.adds(a);)a=a.left;if(this.deletes(s))if(a!==null&&this.deletes(a))i="delete",o=pp(a.content.getContent());else return;else a!==null&&this.deletes(a)?(i="update",o=pp(a.content.getContent())):(i="add",o=void 0)}else if(this.deletes(s))i="delete",o=pp(s.content.getContent());else return;e.set(r,{action:i,oldValue:o})}}),this._keys=e}return this._keys}get delta(){return this.changes.delta}adds(e){return e.id.clock>=(this.transaction.beforeState.get(e.id.client)||0)}get changes(){let e=this._changes;if(e===null){if(this.transaction.doc._transactionCleanups.length===0)throw ns(Ty);const A=this.target,n=Ko(),r=Ko(),s=[];if(e={added:n,deleted:r,delta:s,keys:this.keys},this.transaction.changed.get(A).has(null)){let o=null;const a=()=>{o&&s.push(o)};for(let c=A._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((o===null||o.delete===void 0)&&(a(),o={delete:0}),o.delete+=c.length,r.add(c)):this.adds(c)?((o===null||o.insert===void 0)&&(a(),o={insert:[]}),o.insert=o.insert.concat(c.content.getContent()),n.add(c)):((o===null||o.retain===void 0)&&(a(),o={retain:0}),o.retain+=c.length);o!==null&&o.retain===void 0&&a()}this._changes=e}return e}}const XI=(t,e)=>{const A=[];for(;e._item!==null&&e!==t;){if(e._item.parentSub!==null)A.unshift(e._item.parentSub);else{let n=0,r=e._item.parent._start;for(;r!==e._item&&r!==null;)!r.deleted&&r.countable&&(n+=r.length),r=r.right;A.unshift(n)}e=e._item.parent}return A},XA=()=>{MI("Invalid access: Add Yjs type to a document before reading data.")},Yy=80;let Xp=0;class ej{constructor(e,A){e.marker=!0,this.p=e,this.index=A,this.timestamp=Xp++}}const tj=t=>{t.timestamp=Xp++},Oy=(t,e,A)=>{t.p.marker=!1,t.p=e,e.marker=!0,t.index=A,t.timestamp=Xp++},Aj=(t,e,A)=>{if(t.length>=Yy){const n=t.reduce((r,s)=>r.timestamp<s.timestamp?r:s);return Oy(n,e,A),n}else{const n=new ej(e,A);return t.push(n),n}},ah=(t,e)=>{if(t._start===null||e===0||t._searchMarker===null)return null;const A=t._searchMarker.length===0?null:t._searchMarker.reduce((s,i)=>Ru(e-s.index)<Ru(e-i.index)?s:i);let n=t._start,r=0;for(A!==null&&(n=A.p,r=A.index,tj(A));n.right!==null&&r<e;){if(!n.deleted&&n.countable){if(e<r+n.length)break;r+=n.length}n=n.right}for(;n.left!==null&&r>e;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);return A!==null&&Ru(A.index-r)<n.parent.length/Yy?(Oy(A,n,r),A):Aj(t._searchMarker,n,r)},Vc=(t,e,A)=>{for(let n=t.length-1;n>=0;n--){const r=t[n];if(A>0){let s=r.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(r.index-=s.length);if(s===null||s.marker===!0){t.splice(n,1);continue}r.p=s,s.marker=!0}(e<r.index||A>0&&e===r.index)&&(r.index=Ji(e,r.index+A))}},ch=(t,e,A)=>{const n=t,r=e.changedParentTypes;for(;si(r,t,()=>[]).push(A),t._item!==null;)t=t._item.parent;Gy(n._eH,A,e)};class FA{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=by(),this._dEH=by(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(e,A){this.doc=e,this._item=A}_copy(){throw kr()}clone(){throw kr()}_write(e){}get _first(){let e=this._start;for(;e!==null&&e.deleted;)e=e.right;return e}_callObserver(e,A){!e.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(e){_y(this._eH,e)}observeDeep(e){_y(this._dEH,e)}unobserve(e){xy(this._eH,e)}unobserveDeep(e){xy(this._dEH,e)}toJSON(){}}const Sy=(t,e,A)=>{t.doc??XA(),e<0&&(e=t._length+e),A<0&&(A=t._length+A);let n=A-e;const r=[];let s=t._start;for(;s!==null&&n>0;){if(s.countable&&!s.deleted){const i=s.content.getContent();if(i.length<=e)e-=i.length;else{for(let o=e;o<i.length&&n>0;o++)r.push(i[o]),n--;e=0}}s=s.right}return r},Zy=t=>{t.doc??XA();const e=[];let A=t._start;for(;A!==null;){if(A.countable&&!A.deleted){const n=A.content.getContent();for(let r=0;r<n.length;r++)e.push(n[r])}A=A.right}return e},Wc=(t,e)=>{let A=0,n=t._start;for(t.doc??XA();n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)e(r[s],A++,t)}n=n.right}},Cy=(t,e)=>{const A=[];return Wc(t,(n,r)=>{A.push(e(n,r,t))}),A},nj=t=>{let e=t._start,A=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(A===null){for(;e!==null&&e.deleted;)e=e.right;if(e===null)return{done:!0,value:void 0};A=e.content.getContent(),n=0,e=e.right}const r=A[n++];return A.length<=n&&(A=null),{done:!1,value:r}}}},Py=(t,e)=>{t.doc??XA();const A=ah(t,e);let n=t._start;for(A!==null&&(n=A.p,e-=A.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(e<n.length)return n.content.getContent()[e];e-=n.length}},lh=(t,e,A,n)=>{let r=A;const s=t.doc,i=s.clientID,o=s.store,a=A===null?e._start:A.right;let c=[];const l=()=>{c.length>0&&(r=new EA(dt(i,PA(o,i)),r,r&&r.lastId,a,a&&a.id,e,null,new no(c)),r.integrate(t,0),c=[])};n.forEach(u=>{if(u===null)c.push(u);else switch(u.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(u);break;default:switch(l(),u.constructor){case Uint8Array:case ArrayBuffer:r=new EA(dt(i,PA(o,i)),r,r&&r.lastId,a,a&&a.id,e,null,new Qc(new Uint8Array(u))),r.integrate(t,0);break;case oa:r=new EA(dt(i,PA(o,i)),r,r&&r.lastId,a,a&&a.id,e,null,new Kc(u)),r.integrate(t,0);break;default:if(u instanceof FA)r=new EA(dt(i,PA(o,i)),r,r&&r.lastId,a,a&&a.id,e,null,new Ss(u)),r.integrate(t,0);else throw new Error("Unexpected content type in insert operation")}}}),l()},Ry=()=>ns("Length exceeded!"),Iy=(t,e,A,n)=>{if(A>e._length)throw Ry();if(A===0)return e._searchMarker&&Vc(e._searchMarker,A,n.length),lh(t,e,null,n);const r=A,s=ah(e,A);let i=e._start;for(s!==null&&(i=s.p,A-=s.index,A===0&&(i=i.prev,A+=i&&i.countable&&!i.deleted?i.length:0));i!==null;i=i.right)if(!i.deleted&&i.countable){if(A<=i.length){A<i.length&&ii(t,dt(i.id.client,i.id.clock+A));break}A-=i.length}return e._searchMarker&&Vc(e._searchMarker,r,n.length),lh(t,e,i,n)},rj=(t,e,A)=>{let r=(e._searchMarker||[]).reduce((s,i)=>i.index>s.index?i:s,{index:0,p:e._start}).p;if(r)for(;r.right;)r=r.right;return lh(t,e,r,A)},jy=(t,e,A,n)=>{if(n===0)return;const r=A,s=n,i=ah(e,A);let o=e._start;for(i!==null&&(o=i.p,A-=i.index);o!==null&&A>0;o=o.right)!o.deleted&&o.countable&&(A<o.length&&ii(t,dt(o.id.client,o.id.clock+A)),A-=o.length);for(;n>0&&o!==null;)o.deleted||(n<o.length&&ii(t,dt(o.id.client,o.id.clock+n)),o.delete(t),n-=o.length),o=o.right;if(n>0)throw Ry();e._searchMarker&&Vc(e._searchMarker,r,-s+n)},uh=(t,e,A)=>{const n=e._map.get(A);n!==void 0&&n.delete(t)},eg=(t,e,A,n)=>{const r=e._map.get(A)||null,s=t.doc,i=s.clientID;let o;if(n==null)o=new no([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new no([n]);break;case Uint8Array:o=new Qc(n);break;case oa:o=new Kc(n);break;default:if(n instanceof FA)o=new Ss(n);else throw new Error("Unexpected content type")}new EA(dt(i,PA(s.store,i)),r,r&&r.lastId,null,null,e,A,o).integrate(t,0)},tg=(t,e)=>{t.doc??XA();const A=t._map.get(e);return A!==void 0&&!A.deleted?A.content.getContent()[A.length-1]:void 0},zy=t=>{const e={};return t.doc??XA(),t._map.forEach((A,n)=>{A.deleted||(e[n]=A.content.getContent()[A.length-1])}),e},Hy=(t,e)=>{t.doc??XA();const A=t._map.get(e);return A!==void 0&&!A.deleted},sj=(t,e)=>{const A={};return t._map.forEach((n,r)=>{let s=n;for(;s!==null&&(!e.sv.has(s.id.client)||s.id.clock>=(e.sv.get(s.id.client)||0));)s=s.left;s!==null&&la(s,e)&&(A[r]=s.content.getContent()[s.length-1])}),A},hh=t=>(t.doc??XA(),yI(t._map.entries(),e=>!e[1].deleted));class ij extends oh{}class ua extends FA{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(e){const A=new ua;return A.push(e),A}_integrate(e,A){super._integrate(e,A),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new ua}clone(){const e=new ua;return e.insert(0,this.toArray().map(A=>A instanceof FA?A.clone():A)),e}get length(){return this.doc??XA(),this._length}_callObserver(e,A){super._callObserver(e,A),ch(this,e,new ij(this,e))}insert(e,A){this.doc!==null?Zt(this.doc,n=>{Iy(n,this,e,A)}):this._prelimContent.splice(e,0,...A)}push(e){this.doc!==null?Zt(this.doc,A=>{rj(A,this,e)}):this._prelimContent.push(...e)}unshift(e){this.insert(0,e)}delete(e,A=1){this.doc!==null?Zt(this.doc,n=>{jy(n,this,e,A)}):this._prelimContent.splice(e,A)}get(e){return Py(this,e)}toArray(){return Zy(this)}slice(e=0,A=this.length){return Sy(this,e,A)}toJSON(){return this.map(e=>e instanceof FA?e.toJSON():e)}map(e){return Cy(this,e)}forEach(e){Wc(this,e)}[Symbol.iterator](){return nj(this)}_write(e){e.writeTypeRef(Tj)}}const oj=t=>new ua;class aj extends oh{constructor(e,A,n){super(e,A),this.keysChanged=n}}class ha extends FA{constructor(e){super(),this._prelimContent=null,e===void 0?this._prelimContent=new Map:this._prelimContent=new Map(e)}_integrate(e,A){super._integrate(e,A),this._prelimContent.forEach((n,r)=>{this.set(r,n)}),this._prelimContent=null}_copy(){return new ha}clone(){const e=new ha;return this.forEach((A,n)=>{e.set(n,A instanceof FA?A.clone():A)}),e}_callObserver(e,A){ch(this,e,new aj(this,e,A))}toJSON(){this.doc??XA();const e={};return this._map.forEach((A,n)=>{if(!A.deleted){const r=A.content.getContent()[A.length-1];e[n]=r instanceof FA?r.toJSON():r}}),e}get size(){return[...hh(this)].length}keys(){return zp(hh(this),e=>e[0])}values(){return zp(hh(this),e=>e[1].content.getContent()[e[1].length-1])}entries(){return zp(hh(this),e=>[e[0],e[1].content.getContent()[e[1].length-1]])}forEach(e){this.doc??XA(),this._map.forEach((A,n)=>{A.deleted||e(A.content.getContent()[A.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(e){this.doc!==null?Zt(this.doc,A=>{uh(A,this,e)}):this._prelimContent.delete(e)}set(e,A){return this.doc!==null?Zt(this.doc,n=>{eg(n,this,e,A)}):this._prelimContent.set(e,A),A}get(e){return tg(this,e)}has(e){return Hy(this,e)}clear(){this.doc!==null?Zt(this.doc,e=>{this.forEach(function(A,n,r){uh(e,r,n)})}):this._prelimContent.clear()}_write(e){e.writeTypeRef(Yj)}}const cj=t=>new ha,ai=(t,e)=>t===e||typeof t=="object"&&typeof e=="object"&&t&&e&&vR(t,e);class Ag{constructor(e,A,n,r){this.left=e,this.right=A,this.index=n,this.currentAttributes=r}forward(){this.right===null&&nr(),this.right.content.constructor===kA?this.right.deleted||fa(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const Ly=(t,e,A)=>{for(;e.right!==null&&A>0;)e.right.content.constructor===kA?e.right.deleted||fa(e.currentAttributes,e.right.content):e.right.deleted||(A<e.right.length&&ii(t,dt(e.right.id.client,e.right.id.clock+A)),e.index+=e.right.length,A-=e.right.length),e.left=e.right,e.right=e.right.right;return e},fh=(t,e,A,n)=>{const r=new Map,s=n?ah(e,A):null;if(s){const i=new Ag(s.p.left,s.p,s.index,r);return Ly(t,i,A-s.index)}else{const i=new Ag(null,e._start,0,r);return Ly(t,i,A)}},Uy=(t,e,A,n)=>{for(;A.right!==null&&(A.right.deleted===!0||A.right.content.constructor===kA&&ai(n.get(A.right.content.key),A.right.content.value));)A.right.deleted||n.delete(A.right.content.key),A.forward();const r=t.doc,s=r.clientID;n.forEach((i,o)=>{const a=A.left,c=A.right,l=new EA(dt(s,PA(r.store,s)),a,a&&a.lastId,c,c&&c.id,e,null,new kA(o,i));l.integrate(t,0),A.right=l,A.forward()})},fa=(t,e)=>{const{key:A,value:n}=e;n===null?t.delete(A):t.set(A,n)},$y=(t,e)=>{for(;t.right!==null;){if(!(t.right.deleted||t.right.content.constructor===kA&&ai(e[t.right.content.key]??null,t.right.content.value)))break;t.forward()}},Fy=(t,e,A,n)=>{const r=t.doc,s=r.clientID,i=new Map;for(const o in n){const a=n[o],c=A.currentAttributes.get(o)??null;if(!ai(c,a)){i.set(o,c);const{left:l,right:u}=A;A.right=new EA(dt(s,PA(r.store,s)),l,l&&l.lastId,u,u&&u.id,e,null,new kA(o,a)),A.right.integrate(t,0),A.forward()}}return i},ng=(t,e,A,n,r)=>{A.currentAttributes.forEach((h,f)=>{r[f]===void 0&&(r[f]=null)});const s=t.doc,i=s.clientID;$y(A,r);const o=Fy(t,e,A,r),a=n.constructor===String?new is(n):n instanceof FA?new Ss(n):new Ao(n);let{left:c,right:l,index:u}=A;e._searchMarker&&Vc(e._searchMarker,A.index,a.getLength()),l=new EA(dt(i,PA(s.store,i)),c,c&&c.lastId,l,l&&l.id,e,null,a),l.integrate(t,0),A.right=l,A.index=u,A.forward(),Uy(t,e,A,o)},Vy=(t,e,A,n,r)=>{const s=t.doc,i=s.clientID;$y(A,r);const o=Fy(t,e,A,r);e:for(;A.right!==null&&(n>0||o.size>0&&(A.right.deleted||A.right.content.constructor===kA));){if(!A.right.deleted)switch(A.right.content.constructor){case kA:{const{key:a,value:c}=A.right.content,l=r[a];if(l!==void 0){if(ai(l,c))o.delete(a);else{if(n===0)break e;o.set(a,c)}A.right.delete(t)}else A.currentAttributes.set(a,c);break}default:n<A.right.length&&ii(t,dt(A.right.id.client,A.right.id.clock+n)),n-=A.right.length;break}A.forward()}if(n>0){let a="";for(;n>0;n--)a+=`
`;A.right=new EA(dt(i,PA(s.store,i)),A.left,A.left&&A.left.lastId,A.right,A.right&&A.right.id,e,null,new is(a)),A.right.integrate(t,0),A.forward()}Uy(t,e,A,o)},Wy=(t,e,A,n,r)=>{let s=e;const i=Br();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===kA){const c=s.content;i.set(c.key,c)}s=s.right}let o=0,a=!1;for(;e!==s;){if(A===e&&(a=!0),!e.deleted){const c=e.content;if(c.constructor===kA){const{key:l,value:u}=c,h=n.get(l)??null;(i.get(l)!==c||h===u)&&(e.delete(t),o++,!a&&(r.get(l)??null)===u&&h!==u&&(h===null?r.delete(l):r.set(l,h))),!a&&!e.deleted&&fa(r,c)}}e=e.right}return o},lj=(t,e)=>{for(;e&&e.right&&(e.right.deleted||!e.right.countable);)e=e.right;const A=new Set;for(;e&&(e.deleted||!e.countable);){if(!e.deleted&&e.content.constructor===kA){const n=e.content.key;A.has(n)?e.delete(t):A.add(n)}e=e.left}},uj=t=>{let e=0;return Zt(t.doc,A=>{let n=t._start,r=t._start,s=Br();const i=mp(s);for(;r;)r.deleted===!1&&(r.content.constructor===kA?fa(i,r.content):(e+=Wy(A,n,r,s,i),s=mp(i),n=r)),r=r.right}),e},hj=t=>{const e=new Set,A=t.doc;for(const[n,r]of t.afterState.entries()){const s=t.beforeState.get(n)||0;r!==s&&vy(t,A.store.clients.get(n),s,r,i=>{!i.deleted&&i.content.constructor===kA&&i.constructor!==rr&&e.add(i.parent)})}Zt(A,n=>{ly(t,t.deleteSet,r=>{if(r instanceof rr||!r.parent._hasFormatting||e.has(r.parent))return;const s=r.parent;r.content.constructor===kA?e.add(s):lj(n,r)});for(const r of e)uj(r)})},Qy=(t,e,A)=>{const n=A,r=mp(e.currentAttributes),s=e.right;for(;A>0&&e.right!==null;){if(e.right.deleted===!1)switch(e.right.content.constructor){case Ss:case Ao:case is:A<e.right.length&&ii(t,dt(e.right.id.client,e.right.id.clock+A)),A-=e.right.length,e.right.delete(t);break}e.forward()}s&&Wy(t,s,e.right,r,e.currentAttributes);const i=(e.left||e.right).parent;return i._searchMarker&&Vc(i._searchMarker,e.index,-n+A),e};class fj extends oh{constructor(e,A,n){super(e,A),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const e={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=e}return this._changes}get delta(){if(this._delta===null){const e=this.target.doc,A=[];Zt(e,n=>{const r=new Map,s=new Map;let i=this.target._start,o=null;const a={};let c="",l=0,u=0;const h=()=>{if(o!==null){let f=null;switch(o){case"delete":u>0&&(f={delete:u}),u=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},r.size>0&&(f.attributes={},r.forEach((d,m)=>{d!==null&&(f.attributes[m]=d)}))),c="";break;case"retain":l>0&&(f={retain:l},DR(a)||(f.attributes=GR({},a))),l=0;break}f&&A.push(f),o=null}};for(;i!==null;){switch(i.content.constructor){case Ss:case Ao:this.adds(i)?this.deletes(i)||(h(),o="insert",c=i.content.getContent()[0],h()):this.deletes(i)?(o!=="delete"&&(h(),o="delete"),u+=1):i.deleted||(o!=="retain"&&(h(),o="retain"),l+=1);break;case is:this.adds(i)?this.deletes(i)||(o!=="insert"&&(h(),o="insert"),c+=i.content.str):this.deletes(i)?(o!=="delete"&&(h(),o="delete"),u+=i.length):i.deleted||(o!=="retain"&&(h(),o="retain"),l+=i.length);break;case kA:{const{key:f,value:d}=i.content;if(this.adds(i)){if(!this.deletes(i)){const m=r.get(f)??null;ai(m,d)?d!==null&&i.delete(n):(o==="retain"&&h(),ai(d,s.get(f)??null)?delete a[f]:a[f]=d)}}else if(this.deletes(i)){s.set(f,d);const m=r.get(f)??null;ai(m,d)||(o==="retain"&&h(),a[f]=m)}else if(!i.deleted){s.set(f,d);const m=a[f];m!==void 0&&(ai(m,d)?m!==null&&i.delete(n):(o==="retain"&&h(),d===null?delete a[f]:a[f]=d))}i.deleted||(o==="insert"&&h(),fa(r,i.content));break}}i=i.right}for(h();A.length>0;){const f=A[A.length-1];if(f.retain!==void 0&&f.attributes===void 0)A.pop();else break}}),this._delta=A}return this._delta}}class Os extends FA{constructor(e){super(),this._pending=e!==void 0?[()=>this.insert(0,e)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??XA(),this._length}_integrate(e,A){super._integrate(e,A);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new Os}clone(){const e=new Os;return e.applyDelta(this.toDelta()),e}_callObserver(e,A){super._callObserver(e,A);const n=new fj(this,e,A);ch(this,e,n),!e.local&&this._hasFormatting&&(e._needFormattingCleanup=!0)}toString(){this.doc??XA();let e="",A=this._start;for(;A!==null;)!A.deleted&&A.countable&&A.content.constructor===is&&(e+=A.content.str),A=A.right;return e}toJSON(){return this.toString()}applyDelta(e,{sanitize:A=!0}={}){this.doc!==null?Zt(this.doc,n=>{const r=new Ag(null,this._start,0,new Map);for(let s=0;s<e.length;s++){const i=e[s];if(i.insert!==void 0){const o=!A&&typeof i.insert=="string"&&s===e.length-1&&r.right===null&&i.insert.slice(-1)===`
`?i.insert.slice(0,-1):i.insert;(typeof o!="string"||o.length>0)&&ng(n,this,r,o,i.attributes||{})}else i.retain!==void 0?Vy(n,this,r,i.retain,i.attributes||{}):i.delete!==void 0&&Qy(n,r,i.delete)}}):this._pending.push(()=>this.applyDelta(e))}toDelta(e,A,n){this.doc??XA();const r=[],s=new Map,i=this.doc;let o="",a=this._start;function c(){if(o.length>0){const u={};let h=!1;s.forEach((d,m)=>{h=!0,u[m]=d});const f={insert:o};h&&(f.attributes=u),r.push(f),o=""}}const l=()=>{for(;a!==null;){if(la(a,e)||A!==void 0&&la(a,A))switch(a.content.constructor){case is:{const u=s.get("ychange");e!==void 0&&!la(a,e)?(u===void 0||u.user!==a.id.client||u.type!=="removed")&&(c(),s.set("ychange",n?n("removed",a.id):{type:"removed"})):A!==void 0&&!la(a,A)?(u===void 0||u.user!==a.id.client||u.type!=="added")&&(c(),s.set("ychange",n?n("added",a.id):{type:"added"})):u!==void 0&&(c(),s.delete("ychange")),o+=a.content.str;break}case Ss:case Ao:{c();const u={insert:a.content.getContent()[0]};if(s.size>0){const h={};u.attributes=h,s.forEach((f,d)=>{h[d]=f})}r.push(u);break}case kA:la(a,e)&&(c(),fa(s,a.content));break}a=a.right}c()};return e||A?Zt(i,u=>{e&&Fp(u,e),A&&Fp(u,A),l()},"cleanup"):l(),r}insert(e,A,n){if(A.length<=0)return;const r=this.doc;r!==null?Zt(r,s=>{const i=fh(s,this,e,!n);n||(n={},i.currentAttributes.forEach((o,a)=>{n[a]=o})),ng(s,this,i,A,n)}):this._pending.push(()=>this.insert(e,A,n))}insertEmbed(e,A,n){const r=this.doc;r!==null?Zt(r,s=>{const i=fh(s,this,e,!n);ng(s,this,i,A,n||{})}):this._pending.push(()=>this.insertEmbed(e,A,n||{}))}delete(e,A){if(A===0)return;const n=this.doc;n!==null?Zt(n,r=>{Qy(r,fh(r,this,e,!0),A)}):this._pending.push(()=>this.delete(e,A))}format(e,A,n){if(A===0)return;const r=this.doc;r!==null?Zt(r,s=>{const i=fh(s,this,e,!1);i.right!==null&&Vy(s,this,i,A,n)}):this._pending.push(()=>this.format(e,A,n))}removeAttribute(e){this.doc!==null?Zt(this.doc,A=>{uh(A,this,e)}):this._pending.push(()=>this.removeAttribute(e))}setAttribute(e,A){this.doc!==null?Zt(this.doc,n=>{eg(n,this,e,A)}):this._pending.push(()=>this.setAttribute(e,A))}getAttribute(e){return tg(this,e)}getAttributes(){return zy(this)}_write(e){e.writeTypeRef(Oj)}}const dj=t=>new Os;class rg{constructor(e,A=()=>!0){this._filter=A,this._root=e,this._currentNode=e._start,this._firstCall=!0,e.doc??XA()}[Symbol.iterator](){return this}next(){let e=this._currentNode,A=e&&e.content&&e.content.type;if(e!==null&&(!this._firstCall||e.deleted||!this._filter(A)))do if(A=e.content.type,!e.deleted&&(A.constructor===da||A.constructor===to)&&A._start!==null)e=A._start;else for(;e!==null;){const n=e.next;if(n!==null){e=n;break}else e.parent===this._root?e=null:e=e.parent._item}while(e!==null&&(e.deleted||!this._filter(e.content.type)));return this._firstCall=!1,e===null?{value:void 0,done:!0}:(this._currentNode=e,{value:e.content.type,done:!1})}}class to extends FA{constructor(){super(),this._prelimContent=[]}get firstChild(){const e=this._first;return e?e.content.getContent()[0]:null}_integrate(e,A){super._integrate(e,A),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new to}clone(){const e=new to;return e.insert(0,this.toArray().map(A=>A instanceof FA?A.clone():A)),e}get length(){return this.doc??XA(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(e){return new rg(this,e)}querySelector(e){e=e.toUpperCase();const n=new rg(this,r=>r.nodeName&&r.nodeName.toUpperCase()===e).next();return n.done?null:n.value}querySelectorAll(e){return e=e.toUpperCase(),Ki(new rg(this,A=>A.nodeName&&A.nodeName.toUpperCase()===e))}_callObserver(e,A){ch(this,e,new gj(this,A,e))}toString(){return Cy(this,e=>e.toString()).join("")}toJSON(){return this.toString()}toDOM(e=document,A={},n){const r=e.createDocumentFragment();return n!==void 0&&n._createAssociation(r,this),Wc(this,s=>{r.insertBefore(s.toDOM(e,A,n),null)}),r}insert(e,A){this.doc!==null?Zt(this.doc,n=>{Iy(n,this,e,A)}):this._prelimContent.splice(e,0,...A)}insertAfter(e,A){if(this.doc!==null)Zt(this.doc,n=>{const r=e&&e instanceof FA?e._item:e;lh(n,this,r,A)});else{const n=this._prelimContent,r=e===null?0:n.findIndex(s=>s===e)+1;if(r===0&&e!==null)throw ns("Reference item not found");n.splice(r,0,...A)}}delete(e,A=1){this.doc!==null?Zt(this.doc,n=>{jy(n,this,e,A)}):this._prelimContent.splice(e,A)}toArray(){return Zy(this)}push(e){this.insert(this.length,e)}unshift(e){this.insert(0,e)}get(e){return Py(this,e)}slice(e=0,A=this.length){return Sy(this,e,A)}forEach(e){Wc(this,e)}_write(e){e.writeTypeRef(Zj)}}const mj=t=>new to;class da extends to{constructor(e="UNDEFINED"){super(),this.nodeName=e,this._prelimAttrs=new Map}get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_integrate(e,A){super._integrate(e,A),this._prelimAttrs.forEach((n,r)=>{this.setAttribute(r,n)}),this._prelimAttrs=null}_copy(){return new da(this.nodeName)}clone(){const e=new da(this.nodeName),A=this.getAttributes();return yR(A,(n,r)=>{e.setAttribute(r,n)}),e.insert(0,this.toArray().map(n=>n instanceof FA?n.clone():n)),e}toString(){const e=this.getAttributes(),A=[],n=[];for(const o in e)n.push(o);n.sort();const r=n.length;for(let o=0;o<r;o++){const a=n[o];A.push(a+'="'+e[a]+'"')}const s=this.nodeName.toLocaleLowerCase(),i=A.length>0?" "+A.join(" "):"";return`<${s}${i}>${super.toString()}</${s}>`}removeAttribute(e){this.doc!==null?Zt(this.doc,A=>{uh(A,this,e)}):this._prelimAttrs.delete(e)}setAttribute(e,A){this.doc!==null?Zt(this.doc,n=>{eg(n,this,e,A)}):this._prelimAttrs.set(e,A)}getAttribute(e){return tg(this,e)}hasAttribute(e){return Hy(this,e)}getAttributes(e){return e?sj(this,e):zy(this)}toDOM(e=document,A={},n){const r=e.createElement(this.nodeName),s=this.getAttributes();for(const i in s){const o=s[i];typeof o=="string"&&r.setAttribute(i,o)}return Wc(this,i=>{r.appendChild(i.toDOM(e,A,n))}),n!==void 0&&n._createAssociation(r,this),r}_write(e){e.writeTypeRef(Sj),e.writeKey(this.nodeName)}}const pj=t=>new da(t.readKey());class gj extends oh{constructor(e,A,n){super(e,n),this.childListChanged=!1,this.attributesChanged=new Set,A.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class dh extends ha{constructor(e){super(),this.hookName=e}_copy(){return new dh(this.hookName)}clone(){const e=new dh(this.hookName);return this.forEach((A,n)=>{e.set(n,A)}),e}toDOM(e=document,A={},n){const r=A[this.hookName];let s;return r!==void 0?s=r.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(s,this),s}_write(e){e.writeTypeRef(Cj),e.writeKey(this.hookName)}}const wj=t=>new dh(t.readKey());class mh extends Os{get nextSibling(){const e=this._item?this._item.next:null;return e?e.content.type:null}get prevSibling(){const e=this._item?this._item.prev:null;return e?e.content.type:null}_copy(){return new mh}clone(){const e=new mh;return e.applyDelta(this.toDelta()),e}toDOM(e=document,A,n){const r=e.createTextNode(this.toString());return n!==void 0&&n._createAssociation(r,this),r}toString(){return this.toDelta().map(e=>{const A=[];for(const r in e.attributes){const s=[];for(const i in e.attributes[r])s.push({key:i,value:e.attributes[r][i]});s.sort((i,o)=>i.key<o.key?-1:1),A.push({nodeName:r,attrs:s})}A.sort((r,s)=>r.nodeName<s.nodeName?-1:1);let n="";for(let r=0;r<A.length;r++){const s=A[r];n+=`<${s.nodeName}`;for(let i=0;i<s.attrs.length;i++){const o=s.attrs[i];n+=` ${o.key}="${o.value}"`}n+=">"}n+=e.insert;for(let r=A.length-1;r>=0;r--)n+=`</${A[r].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(e){e.writeTypeRef(Pj)}}const bj=t=>new mh;class sg{constructor(e,A){this.id=e,this.length=A}get deleted(){throw kr()}mergeWith(e){return!1}write(e,A,n){throw kr()}integrate(e,A){throw kr()}}const _j=0;class rr extends sg{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,A){A>0&&(this.id.clock+=A,this.length-=A),yy(e.doc.store,this)}write(e,A){e.writeInfo(_j),e.writeLen(this.length-A)}getMissing(e,A){return null}}class Qc{constructor(e){this.content=e}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new Qc(this.content)}splice(e){throw kr()}mergeWith(e){return!1}integrate(e,A){}delete(e){}gc(e){}write(e,A){e.writeBuf(this.content)}getRef(){return 3}}const xj=t=>new Qc(t.readBuf());class qc{constructor(e){this.len=e}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new qc(this.len)}splice(e){const A=new qc(this.len-e);return this.len=e,A}mergeWith(e){return this.len+=e.len,!0}integrate(e,A){nh(e.deleteSet,A.id.client,A.id.clock,this.len),A.markDeleted()}delete(e){}gc(e){}write(e,A){e.writeLen(this.len-A)}getRef(){return 1}}const Gj=t=>new qc(t.readLen()),qy=(t,e)=>new oa({guid:t,...e,shouldLoad:e.shouldLoad||e.autoLoad||!1});class Kc{constructor(e){e._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=e;const A={};this.opts=A,e.gc||(A.gc=!1),e.autoLoad&&(A.autoLoad=!0),e.meta!==null&&(A.meta=e.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new Kc(qy(this.doc.guid,this.opts))}splice(e){throw kr()}mergeWith(e){return!1}integrate(e,A){this.doc._item=A,e.subdocsAdded.add(this.doc),this.doc.shouldLoad&&e.subdocsLoaded.add(this.doc)}delete(e){e.subdocsAdded.has(this.doc)?e.subdocsAdded.delete(this.doc):e.subdocsRemoved.add(this.doc)}gc(e){}write(e,A){e.writeString(this.doc.guid),e.writeAny(this.opts)}getRef(){return 9}}const Mj=t=>new Kc(qy(t.readString(),t.readAny()));class Ao{constructor(e){this.embed=e}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Ao(this.embed)}splice(e){throw kr()}mergeWith(e){return!1}integrate(e,A){}delete(e){}gc(e){}write(e,A){e.writeJSON(this.embed)}getRef(){return 5}}const yj=t=>new Ao(t.readJSON());class kA{constructor(e,A){this.key=e,this.value=A}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new kA(this.key,this.value)}splice(e){throw kr()}mergeWith(e){return!1}integrate(e,A){const n=A.parent;n._searchMarker=null,n._hasFormatting=!0}delete(e){}gc(e){}write(e,A){e.writeKey(this.key),e.writeJSON(this.value)}getRef(){return 6}}const Dj=t=>new kA(t.readKey(),t.readJSON());class ph{constructor(e){this.arr=e}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new ph(this.arr)}splice(e){const A=new ph(this.arr.slice(e));return this.arr=this.arr.slice(0,e),A}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,A){}delete(e){}gc(e){}write(e,A){const n=this.arr.length;e.writeLen(n-A);for(let r=A;r<n;r++){const s=this.arr[r];e.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const vj=t=>{const e=t.readLen(),A=[];for(let n=0;n<e;n++){const r=t.readString();r==="undefined"?A.push(void 0):A.push(JSON.parse(r))}return new ph(A)},Bj=Wu("node_env")==="development";class no{constructor(e){this.arr=e,Bj&&PM(e)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new no(this.arr)}splice(e){const A=new no(this.arr.slice(e));return this.arr=this.arr.slice(0,e),A}mergeWith(e){return this.arr=this.arr.concat(e.arr),!0}integrate(e,A){}delete(e){}gc(e){}write(e,A){const n=this.arr.length;e.writeLen(n-A);for(let r=A;r<n;r++){const s=this.arr[r];e.writeAny(s)}}getRef(){return 8}}const kj=t=>{const e=t.readLen(),A=[];for(let n=0;n<e;n++)A.push(t.readAny());return new no(A)};class is{constructor(e){this.str=e}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new is(this.str)}splice(e){const A=new is(this.str.slice(e));this.str=this.str.slice(0,e);const n=this.str.charCodeAt(e-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,e-1)+"",A.str=""+A.str.slice(1)),A}mergeWith(e){return this.str+=e.str,!0}integrate(e,A){}delete(e){}gc(e){}write(e,A){e.writeString(A===0?this.str:this.str.slice(A))}getRef(){return 4}}const Ej=t=>new is(t.readString()),Nj=[oj,cj,dj,pj,mj,wj,bj],Tj=0,Yj=1,Oj=2,Sj=3,Zj=4,Cj=5,Pj=6;class Ss{constructor(e){this.type=e}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Ss(this.type._copy())}splice(e){throw kr()}mergeWith(e){return!1}integrate(e,A){this.type._integrate(e.doc,A)}delete(e){let A=this.type._start;for(;A!==null;)A.deleted?A.id.clock<(e.beforeState.get(A.id.client)||0)&&e._mergeStructs.push(A):A.delete(e),A=A.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(e.beforeState.get(n.id.client)||0)&&e._mergeStructs.push(n):n.delete(e)}),e.changed.delete(this.type)}gc(e){let A=this.type._start;for(;A!==null;)A.gc(e,!0),A=A.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(e,!0),n=n.left}),this.type._map=new Map}write(e,A){this.type._write(e)}getRef(){return 7}}const Rj=t=>new Ss(Nj[t.readTypeRef()](t)),gh=(t,e,A)=>{const{client:n,clock:r}=e.id,s=new EA(dt(n,r+A),e,dt(n,r+A-1),e.right,e.rightOrigin,e.parent,e.parentSub,e.content.splice(A));return e.deleted&&s.markDeleted(),e.keep&&(s.keep=!0),e.redone!==null&&(s.redone=dt(e.redone.client,e.redone.clock+A)),e.right=s,s.right!==null&&(s.right.left=s),t._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),e.length=A,s};class EA extends sg{constructor(e,A,n,r,s,i,o,a){super(e,a.getLength()),this.origin=n,this.left=A,this.right=r,this.rightOrigin=s,this.parent=i,this.parentSub=o,this.redone=null,this.content=a,this.info=this.content.isCountable()?GM:0}set marker(e){(this.info&bp)>0!==e&&(this.info^=bp)}get marker(){return(this.info&bp)>0}get keep(){return(this.info&xM)>0}set keep(e){this.keep!==e&&(this.info^=xM)}get countable(){return(this.info&GM)>0}get deleted(){return(this.info&wp)>0}set deleted(e){this.deleted!==e&&(this.info^=wp)}markDeleted(){this.info|=wp}getMissing(e,A){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=PA(A,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=PA(A,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===ca&&this.id.client!==this.parent.client&&this.parent.clock>=PA(A,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Dy(e,A,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=ii(e,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===rr||this.right&&this.right.constructor===rr)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===EA?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===EA&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===ca){const n=Wp(A,this.parent);n.constructor===rr?this.parent=null:this.parent=n.content.type}return null}integrate(e,A){if(A>0&&(this.id.clock+=A,this.left=Dy(e,e.doc.store,dt(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(A),this.length-=A),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,r;if(n!==null)r=n.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const s=new Set,i=new Set;for(;r!==null&&r!==this.right;){if(i.add(r),s.add(r),rh(this.origin,r.origin)){if(r.id.client<this.id.client)n=r,s.clear();else if(rh(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&i.has(Wp(e.doc.store,r.origin)))s.has(Wp(e.doc.store,r.origin))||(n=r,s.clear());else break;r=r.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(e)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),yy(e.doc.store,this),this.content.integrate(e,this),ky(e,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(e)}else new rr(this.id,this.length).integrate(e,0)}get next(){let e=this.right;for(;e!==null&&e.deleted;)e=e.right;return e}get prev(){let e=this.left;for(;e!==null&&e.deleted;)e=e.left;return e}get lastId(){return this.length===1?this.id:dt(this.id.client,this.id.clock+this.length-1)}mergeWith(e){if(this.constructor===e.constructor&&rh(e.origin,this.lastId)&&this.right===e&&rh(this.rightOrigin,e.rightOrigin)&&this.id.client===e.id.client&&this.id.clock+this.length===e.id.clock&&this.deleted===e.deleted&&this.redone===null&&e.redone===null&&this.content.constructor===e.content.constructor&&this.content.mergeWith(e.content)){const A=this.parent._searchMarker;return A&&A.forEach(n=>{n.p===e&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),e.keep&&(this.keep=!0),this.right=e.right,this.right!==null&&(this.right.left=this),this.length+=e.length,!0}return!1}delete(e){if(!this.deleted){const A=this.parent;this.countable&&this.parentSub===null&&(A._length-=this.length),this.markDeleted(),nh(e.deleteSet,this.id.client,this.id.clock,this.length),ky(e,A,this.parentSub),this.content.delete(e)}}gc(e,A){if(!this.deleted)throw nr();this.content.gc(e),A?LI(e,this,new rr(this.id,this.length)):this.content=new qc(this.length)}write(e,A){const n=A>0?dt(this.id.client,this.id.clock+A-1):this.origin,r=this.rightOrigin,s=this.parentSub,i=this.content.getRef()&Iu|(n===null?0:Hn)|(r===null?0:Ns)|(s===null?0:Zc);if(e.writeInfo(i),n!==null&&e.writeLeftID(n),r!==null&&e.writeRightID(r),n===null&&r===null){const o=this.parent;if(o._item!==void 0){const a=o._item;if(a===null){const c=HI(o);e.writeParentInfo(!0),e.writeString(c)}else e.writeParentInfo(!1),e.writeLeftID(a.id)}else o.constructor===String?(e.writeParentInfo(!0),e.writeString(o)):o.constructor===ca?(e.writeParentInfo(!1),e.writeLeftID(o)):nr();s!==null&&e.writeString(s)}this.content.write(e,A)}}const Ky=(t,e)=>Ij[e&Iu](t),Ij=[()=>{nr()},Gj,vj,xj,Ej,yj,Dj,Rj,kj,Mj,()=>{nr()}],jj=10;class sr extends sg{get deleted(){return!0}delete(){}mergeWith(e){return this.constructor!==e.constructor?!1:(this.length+=e.length,!0)}integrate(e,A){nr()}write(e,A){e.writeInfo(jj),xt(e.restEncoder,this.length-A)}getMissing(e,A){return null}}const Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof qo<"u"?qo:{},Xy="__ $YJS$ __";Jy[Xy]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),Jy[Xy]=!0;let eD=!1;const $n=new oa;function tD(t,e,A){const n=$n.getMap();if(!n.has(t))switch(e){case 0:case 1:n.set(t,A);break}}function zj(t,e){tD(t,0,e)}function ig(t,e){const A=new Os(e);tD(t,1,A)}function Hj(t,e){$n.getMap().set(t,e)}function Lj(t,e){const A=$n.getMap(),n=new Os(e);A.set(t,n)}function AD(t,e){const A=$n.getMap();function n(r){const s=A.get(t);for(let i=0;i<r.length;++i)(r[i].target===A||r[i].target===s)&&e(s)}return A.has(t)&&e(A.get(t)),A.observeDeep(n),()=>{A.observeDeep(n)}}function Uj(t,e){return AD(t,A=>{Ne(A)&&e(A)})}function nD(t,e){return AD(t,A=>{A instanceof Os&&e(A.toJSON())})}const ro=$i("modem",["second"],t=>{if(ro.session(t))switch(t.target){case"second":!eD&&t.data%2===0&&ro.emit(t.player,"modem:join");break;case"join":t.sender!==ro.id()&&ro.reply(t,"joinack",dM(II($n)));break;case"joinack":t.sender!==ro.id()&&(eD=!0,gy($n,Zu(t.data),$n));break;case"sync":{t.sender!==ro.id()&&G(t.data)&&gy($n,Zu(t.data),$n);break}}});function rD(t,e){e!==$n&&ro.emit("","modem:sync",dM(t))}$n.on("update",rD),$n.on("destroy",()=>{$n.off("update",rD)});function Ct(t){return`${t??""}`}function ci(t,e){const A=parseFloat(Ct(t));return isNaN(A)?e:A}var og;try{og=new TextDecoder}catch{}var Ze,os,re=0,Pt={},mt,li,ir=0,as=0,RA,Zs,Dn=[],ht,sD={useRecords:!1,mapsAsObjects:!0};class iD{}const oD=new iD;oD.name="MessagePack 0xC1";var ui=!1,aD=2,$j;try{new Function("")}catch{aD=1/0}class Jc{constructor(e){e&&(e.useRecords===!1&&e.mapsAsObjects===void 0&&(e.mapsAsObjects=!0),e.sequential&&e.trusted!==!1&&(e.trusted=!0,!e.structures&&e.useRecords!=!1&&(e.structures=[],e.maxSharedStructures||(e.maxSharedStructures=0))),e.structures?e.structures.sharedLength=e.structures.length:e.getStructures&&((e.structures=[]).uninitialized=!0,e.structures.sharedLength=0),e.int64AsNumber&&(e.int64AsType="number")),Object.assign(this,e)}unpack(e,A){if(Ze)return GD(()=>(hg(),this?this.unpack(e,A):Jc.prototype.unpack.call(sD,e,A)));!e.buffer&&e.constructor===ArrayBuffer&&(e=typeof Ut<"u"?Ut.from(e):new Uint8Array(e)),typeof A=="object"?(os=A.end||e.length,re=A.start||0):(re=0,os=A>-1?A:e.length),as=0,li=null,RA=null,Ze=e;try{ht=e.dataView||(e.dataView=new DataView(e.buffer,e.byteOffset,e.byteLength))}catch(n){throw Ze=null,e instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(e&&typeof e=="object"?e.constructor.name:typeof e))}if(this instanceof Jc){if(Pt=this,this.structures)return mt=this.structures,wh(A);(!mt||mt.length>0)&&(mt=[])}else Pt=sD,(!mt||mt.length>0)&&(mt=[]);return wh(A)}unpackMultiple(e,A){let n,r=0;try{ui=!0;let s=e.length,i=this?this.unpack(e,s):bh.unpack(e,s);if(A){if(A(i,r,re)===!1)return;for(;re<s;)if(r=re,A(wh(),r,re)===!1)return}else{for(n=[i];re<s;)r=re,n.push(wh());return n}}catch(s){throw s.lastPosition=r,s.values=n,s}finally{ui=!1,hg()}}_mergeStructures(e,A){e=e||[],Object.isFrozen(e)&&(e=e.map(n=>n.slice(0)));for(let n=0,r=e.length;n<r;n++){let s=e[n];s&&(s.isShared=!0,n>=32&&(s.highByte=n-32>>5))}e.sharedLength=e.length;for(let n in A||[])if(n>=0){let r=e[n],s=A[n];s&&(r&&((e.restoreStructures||(e.restoreStructures=[]))[n]=r),e[n]=s)}return this.structures=e}decode(e,A){return this.unpack(e,A)}}function wh(t){try{if(!Pt.trusted&&!ui){let A=mt.sharedLength||0;A<mt.length&&(mt.length=A)}let e;if(Pt.randomAccessStructure&&Ze[re]<64&&Ze[re]>=32&&$j||(e=dA()),RA&&(re=RA.postBundlePosition,RA=null),ui&&(mt.restoreStructures=null),re==os)mt&&mt.restoreStructures&&cD(),mt=null,Ze=null,Zs&&(Zs=null);else{if(re>os)throw new Error("Unexpected end of MessagePack data");if(!ui){let A;try{A=JSON.stringify(e,(n,r)=>typeof r=="bigint"?`${r}n`:r).slice(0,100)}catch(n){A="(JSON view not available "+n+")"}throw new Error("Data read, but end of buffer not reached "+A)}}return e}catch(e){throw mt&&mt.restoreStructures&&cD(),hg(),(e instanceof RangeError||e.message.startsWith("Unexpected end of buffer")||re>os)&&(e.incomplete=!0),e}}function cD(){for(let t in mt.restoreStructures)mt[t]=mt.restoreStructures[t];mt.restoreStructures=null}function dA(){let t=Ze[re++];if(t<160)if(t<128){if(t<64)return t;{let e=mt[t&63]||Pt.getStructures&&uD()[t&63];return e?(e.read||(e.read=ag(e,t&63)),e.read()):t}}else if(t<144)if(t-=128,Pt.mapsAsObjects){let e={};for(let A=0;A<t;A++){let n=gD();n==="__proto__"&&(n="__proto_"),e[n]=dA()}return e}else{let e=new Map;for(let A=0;A<t;A++)e.set(dA(),dA());return e}else{t-=144;let e=new Array(t);for(let A=0;A<t;A++)e[A]=dA();return Pt.freezeData?Object.freeze(e):e}else if(t<192){let e=t-160;if(as>=re)return li.slice(re-ir,(re+=e)-ir);if(as==0&&os<140){let A=e<16?lg(e):dD(e);if(A!=null)return A}return cg(e)}else{let e;switch(t){case 192:return null;case 193:return RA?(e=dA(),e>0?RA[1].slice(RA.position1,RA.position1+=e):RA[0].slice(RA.position0,RA.position0-=e)):oD;case 194:return!1;case 195:return!0;case 196:if(e=Ze[re++],e===void 0)throw new Error("Unexpected end of buffer");return ug(e);case 197:return e=ht.getUint16(re),re+=2,ug(e);case 198:return e=ht.getUint32(re),re+=4,ug(e);case 199:return so(Ze[re++]);case 200:return e=ht.getUint16(re),re+=2,so(e);case 201:return e=ht.getUint32(re),re+=4,so(e);case 202:if(e=ht.getFloat32(re),Pt.useFloat32>2){let A=fg[(Ze[re]&127)<<1|Ze[re+1]>>7];return re+=4,(A*e+(e>0?.5:-.5)>>0)/A}return re+=4,e;case 203:return e=ht.getFloat64(re),re+=8,e;case 204:return Ze[re++];case 205:return e=ht.getUint16(re),re+=2,e;case 206:return e=ht.getUint32(re),re+=4,e;case 207:return Pt.int64AsType==="number"?(e=ht.getUint32(re)*4294967296,e+=ht.getUint32(re+4)):Pt.int64AsType==="string"?e=ht.getBigUint64(re).toString():Pt.int64AsType==="auto"?(e=ht.getBigUint64(re),e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=ht.getBigUint64(re),re+=8,e;case 208:return ht.getInt8(re++);case 209:return e=ht.getInt16(re),re+=2,e;case 210:return e=ht.getInt32(re),re+=4,e;case 211:return Pt.int64AsType==="number"?(e=ht.getInt32(re)*4294967296,e+=ht.getUint32(re+4)):Pt.int64AsType==="string"?e=ht.getBigInt64(re).toString():Pt.int64AsType==="auto"?(e=ht.getBigInt64(re),e>=BigInt(-2)<<BigInt(52)&&e<=BigInt(2)<<BigInt(52)&&(e=Number(e))):e=ht.getBigInt64(re),re+=8,e;case 212:if(e=Ze[re++],e==114)return bD(Ze[re++]&63);{let A=Dn[e];if(A)return A.read?(re++,A.read(dA())):A.noBuffer?(re++,A()):A(Ze.subarray(re,++re));throw new Error("Unknown extension "+e)}case 213:return e=Ze[re],e==114?(re++,bD(Ze[re++]&63,Ze[re++])):so(2);case 214:return so(4);case 215:return so(8);case 216:return so(16);case 217:return e=Ze[re++],as>=re?li.slice(re-ir,(re+=e)-ir):Vj(e);case 218:return e=ht.getUint16(re),re+=2,as>=re?li.slice(re-ir,(re+=e)-ir):Wj(e);case 219:return e=ht.getUint32(re),re+=4,as>=re?li.slice(re-ir,(re+=e)-ir):Qj(e);case 220:return e=ht.getUint16(re),re+=2,hD(e);case 221:return e=ht.getUint32(re),re+=4,hD(e);case 222:return e=ht.getUint16(re),re+=2,fD(e);case 223:return e=ht.getUint32(re),re+=4,fD(e);default:if(t>=224)return t-256;if(t===void 0){let A=new Error("Unexpected end of MessagePack data");throw A.incomplete=!0,A}throw new Error("Unknown MessagePack token "+t)}}}const Fj=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function ag(t,e){function A(){if(A.count++>aD){let r=t.read=new Function("r","return function(){return "+(Pt.freezeData?"Object.freeze":"")+"({"+t.map(s=>s==="__proto__"?"__proto_:r()":Fj.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(dA);return t.highByte===0&&(t.read=lD(e,t.read)),r()}let n={};for(let r=0,s=t.length;r<s;r++){let i=t[r];i==="__proto__"&&(i="__proto_"),n[i]=dA()}return Pt.freezeData?Object.freeze(n):n}return A.count=0,t.highByte===0?lD(e,A):A}const lD=(t,e)=>function(){let A=Ze[re++];if(A===0)return e();let n=t<32?-(t+(A<<5)):t+(A<<5),r=mt[n]||uD()[n];if(!r)throw new Error("Record id is not defined for "+n);return r.read||(r.read=ag(r,t)),r.read()};function uD(){let t=GD(()=>(Ze=null,Pt.getStructures()));return mt=Pt._mergeStructures(t,mt)}var cg=Xc,Vj=Xc,Wj=Xc,Qj=Xc;function Xc(t){let e;if(t<16&&(e=lg(t)))return e;if(t>64&&og)return og.decode(Ze.subarray(re,re+=t));const A=re+t,n=[];for(e="";re<A;){const r=Ze[re++];if((r&128)===0)n.push(r);else if((r&224)===192){const s=Ze[re++]&63;n.push((r&31)<<6|s)}else if((r&240)===224){const s=Ze[re++]&63,i=Ze[re++]&63;n.push((r&31)<<12|s<<6|i)}else if((r&248)===240){const s=Ze[re++]&63,i=Ze[re++]&63,o=Ze[re++]&63;let a=(r&7)<<18|s<<12|i<<6|o;a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a)}else n.push(r);n.length>=4096&&(e+=IA.apply(String,n),n.length=0)}return n.length>0&&(e+=IA.apply(String,n)),e}function hD(t){let e=new Array(t);for(let A=0;A<t;A++)e[A]=dA();return Pt.freezeData?Object.freeze(e):e}function fD(t){if(Pt.mapsAsObjects){let e={};for(let A=0;A<t;A++){let n=gD();n==="__proto__"&&(n="__proto_"),e[n]=dA()}return e}else{let e=new Map;for(let A=0;A<t;A++)e.set(dA(),dA());return e}}var IA=String.fromCharCode;function dD(t){let e=re,A=new Array(t);for(let n=0;n<t;n++){const r=Ze[re++];if((r&128)>0){re=e;return}A[n]=r}return IA.apply(String,A)}function lg(t){if(t<4)if(t<2){if(t===0)return"";{let e=Ze[re++];if((e&128)>1){re-=1;return}return IA(e)}}else{let e=Ze[re++],A=Ze[re++];if((e&128)>0||(A&128)>0){re-=2;return}if(t<3)return IA(e,A);let n=Ze[re++];if((n&128)>0){re-=3;return}return IA(e,A,n)}else{let e=Ze[re++],A=Ze[re++],n=Ze[re++],r=Ze[re++];if((e&128)>0||(A&128)>0||(n&128)>0||(r&128)>0){re-=4;return}if(t<6){if(t===4)return IA(e,A,n,r);{let s=Ze[re++];if((s&128)>0){re-=5;return}return IA(e,A,n,r,s)}}else if(t<8){let s=Ze[re++],i=Ze[re++];if((s&128)>0||(i&128)>0){re-=6;return}if(t<7)return IA(e,A,n,r,s,i);let o=Ze[re++];if((o&128)>0){re-=7;return}return IA(e,A,n,r,s,i,o)}else{let s=Ze[re++],i=Ze[re++],o=Ze[re++],a=Ze[re++];if((s&128)>0||(i&128)>0||(o&128)>0||(a&128)>0){re-=8;return}if(t<10){if(t===8)return IA(e,A,n,r,s,i,o,a);{let c=Ze[re++];if((c&128)>0){re-=9;return}return IA(e,A,n,r,s,i,o,a,c)}}else if(t<12){let c=Ze[re++],l=Ze[re++];if((c&128)>0||(l&128)>0){re-=10;return}if(t<11)return IA(e,A,n,r,s,i,o,a,c,l);let u=Ze[re++];if((u&128)>0){re-=11;return}return IA(e,A,n,r,s,i,o,a,c,l,u)}else{let c=Ze[re++],l=Ze[re++],u=Ze[re++],h=Ze[re++];if((c&128)>0||(l&128)>0||(u&128)>0||(h&128)>0){re-=12;return}if(t<14){if(t===12)return IA(e,A,n,r,s,i,o,a,c,l,u,h);{let f=Ze[re++];if((f&128)>0){re-=13;return}return IA(e,A,n,r,s,i,o,a,c,l,u,h,f)}}else{let f=Ze[re++],d=Ze[re++];if((f&128)>0||(d&128)>0){re-=14;return}if(t<15)return IA(e,A,n,r,s,i,o,a,c,l,u,h,f,d);let m=Ze[re++];if((m&128)>0){re-=15;return}return IA(e,A,n,r,s,i,o,a,c,l,u,h,f,d,m)}}}}}function mD(){let t=Ze[re++],e;if(t<192)e=t-160;else switch(t){case 217:e=Ze[re++];break;case 218:e=ht.getUint16(re),re+=2;break;case 219:e=ht.getUint32(re),re+=4;break;default:throw new Error("Expected string")}return Xc(e)}function ug(t){return Pt.copyBuffers?Uint8Array.prototype.slice.call(Ze,re,re+=t):Ze.subarray(re,re+=t)}function so(t){let e=Ze[re++];if(Dn[e]){let A;return Dn[e](Ze.subarray(re,A=re+=t),n=>{re=n;try{return dA()}finally{re=A}})}else throw new Error("Unknown extension type "+e)}var pD=new Array(4096);function gD(){let t=Ze[re++];if(t>=160&&t<192){if(t=t-160,as>=re)return li.slice(re-ir,(re+=t)-ir);if(!(as==0&&os<180))return cg(t)}else return re--,wD(dA());let e=(t<<5^(t>1?ht.getUint16(re):t>0?Ze[re]:0))&4095,A=pD[e],n=re,r=re+t-3,s,i=0;if(A&&A.bytes==t){for(;n<r;){if(s=ht.getUint32(n),s!=A[i++]){n=1879048192;break}n+=4}for(r+=3;n<r;)if(s=Ze[n++],s!=A[i++]){n=1879048192;break}if(n===r)return re=n,A.string;r-=3,n=re}for(A=[],pD[e]=A,A.bytes=t;n<r;)s=ht.getUint32(n),A.push(s),n+=4;for(r+=3;n<r;)s=Ze[n++],A.push(s);let o=t<16?lg(t):dD(t);return o!=null?A.string=o:A.string=cg(t)}function wD(t){if(typeof t=="string")return t;if(typeof t=="number"||typeof t=="boolean"||typeof t=="bigint")return t.toString();if(t==null)return t+"";if(Pt.allowArraysInMapKeys&&Array.isArray(t)&&t.flat().every(e=>["string","number","boolean","bigint"].includes(typeof e)))return t.flat().toString();throw new Error(`Invalid property type for record: ${typeof t}`)}const bD=(t,e)=>{let A=dA().map(wD),n=t;e!==void 0&&(t=t<32?-((e<<5)+t):(e<<5)+t,A.highByte=e);let r=mt[t];return r&&(r.isShared||ui)&&((mt.restoreStructures||(mt.restoreStructures=[]))[t]=r),mt[t]=A,A.read=ag(A,n),A.read()};Dn[0]=()=>{},Dn[0].noBuffer=!0,Dn[66]=t=>{let e=t.byteLength%8||8,A=BigInt(t[0]&128?t[0]-256:t[0]);for(let n=1;n<e;n++)A<<=BigInt(8),A+=BigInt(t[n]);if(t.byteLength!==e){let n=new DataView(t.buffer,t.byteOffset,t.byteLength),r=(s,i)=>{let o=i-s;if(o<=40){let u=n.getBigUint64(s);for(let h=s+8;h<i;h+=8)u<<=64n,u|=n.getBigUint64(h);return u}let a=s+(o>>4<<3),c=r(s,a),l=r(a,i);return c<<BigInt((i-a)*8)|l};A=A<<BigInt((n.byteLength-e)*8)|r(e,n.byteLength)}return A};let _D={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:typeof AggregateError=="function"?AggregateError:null};Dn[101]=()=>{let t=dA();if(!_D[t[0]]){let e=Error(t[1],{cause:t[2]});return e.name=t[0],e}return _D[t[0]](t[1],{cause:t[2]})},Dn[105]=t=>{if(Pt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=ht.getUint32(re-4);Zs||(Zs=new Map);let A=Ze[re],n;A>=144&&A<160||A==220||A==221?n=[]:A>=128&&A<144||A==222||A==223?n=new Map:(A>=199&&A<=201||A>=212&&A<=216)&&Ze[re+1]===115?n=new Set:n={};let r={target:n};Zs.set(e,r);let s=dA();if(r.used)Object.assign(n,s);else return r.target=s;if(n instanceof Map)for(let[i,o]of s.entries())n.set(i,o);if(n instanceof Set)for(let i of Array.from(s))n.add(i);return n},Dn[112]=t=>{if(Pt.structuredClone===!1)throw new Error("Structured clone extension is disabled");let e=ht.getUint32(re-4),A=Zs.get(e);return A.used=!0,A.target},Dn[115]=()=>new Set(dA());const xD=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(t=>t+"Array");let qj=typeof globalThis=="object"?globalThis:window;Dn[116]=t=>{let e=t[0],A=Uint8Array.prototype.slice.call(t,1).buffer,n=xD[e];if(!n){if(e===16)return A;if(e===17)return new DataView(A);throw new Error("Could not find typed array for code "+e)}return new qj[n](A)},Dn[120]=()=>{let t=dA();return new RegExp(t[0],t[1])};const Kj=[];Dn[98]=t=>{let e=(t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3],A=re;return re+=e-t.length,RA=Kj,RA=[mD(),mD()],RA.position0=0,RA.position1=0,RA.postBundlePosition=re,re=A,dA()},Dn[255]=t=>t.length==4?new Date((t[0]*16777216+(t[1]<<16)+(t[2]<<8)+t[3])*1e3):t.length==8?new Date(((t[0]<<22)+(t[1]<<14)+(t[2]<<6)+(t[3]>>2))/1e6+((t[3]&3)*4294967296+t[4]*16777216+(t[5]<<16)+(t[6]<<8)+t[7])*1e3):t.length==12?new Date(((t[0]<<24)+(t[1]<<16)+(t[2]<<8)+t[3])/1e6+((t[4]&128?-281474976710656:0)+t[6]*1099511627776+t[7]*4294967296+t[8]*16777216+(t[9]<<16)+(t[10]<<8)+t[11])*1e3):new Date("invalid");function GD(t){let e=os,A=re,n=ir,r=as,s=li,i=Zs,o=RA,a=new Uint8Array(Ze.slice(0,os)),c=mt,l=mt.slice(0,mt.length),u=Pt,h=ui,f=t();return os=e,re=A,ir=n,as=r,li=s,Zs=i,RA=o,Ze=a,ui=h,mt=c,mt.splice(0,mt.length,...l),Pt=u,ht=new DataView(Ze.buffer,Ze.byteOffset,Ze.byteLength),f}function hg(){Ze=null,Zs=null,mt=null}const fg=new Array(147);for(let t=0;t<256;t++)fg[t]=+("1e"+Math.floor(45.15-t*.30103));var bh=new Jc({useRecords:!1});const Jj=bh.unpack;bh.unpackMultiple,bh.unpack;let Xj=new Float32Array(1);new Uint8Array(Xj.buffer,0,4);let _h;try{_h=new TextEncoder}catch{}let dg,mg;const ma=typeof Ut<"u",xh=ma?function(t){return Ut.allocUnsafeSlow(t)}:Uint8Array,MD=ma?Ut:Uint8Array,yD=ma?4294967296:2144337920;let le,el,Yt,ie=0,en,Jt=null,e2;const t2=21760,A2=/[\u0080-\uFFFF]/,pa=Symbol("record-id");class n2 extends Jc{constructor(e){super(e),this.offset=0;let A,n,r,s,i=MD.prototype.utf8Write?function(N,y){return le.utf8Write(N,y,le.byteLength-y)}:_h&&_h.encodeInto?function(N,y){return _h.encodeInto(N,le.subarray(y)).written}:!1,o=this;e||(e={});let a=e&&e.sequential,c=e.structures||e.saveStructures,l=e.maxSharedStructures;if(l==null&&(l=c?32:0),l>8160)throw new Error("Maximum maxSharedStructure is 8160");e.structuredClone&&e.moreTypes==null&&(this.moreTypes=!0);let u=e.maxOwnStructures;u==null&&(u=c?32:64),!this.structures&&e.useRecords!=!1&&(this.structures=[]);let h=l>32||u+l>64,f=l+64,d=l+u+64;if(d>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let m=[],p=0,g=0;this.pack=this.encode=function(N,y){if(le||(le=new xh(8192),Yt=le.dataView||(le.dataView=new DataView(le.buffer,0,8192)),ie=0),en=le.length-10,en-ie<2048?(le=new xh(le.length),Yt=le.dataView||(le.dataView=new DataView(le.buffer,0,le.length)),en=le.length-10,ie=0):ie=ie+7&2147483640,A=ie,y&c2&&(ie+=y&255),s=o.structuredClone?new Map:null,o.bundleStrings&&typeof N!="string"?(Jt=[],Jt.size=1/0):Jt=null,r=o.structures,r){r.uninitialized&&(r=o._mergeStructures(o.getStructures()));let U=r.sharedLength||0;if(U>l)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let j=0;j<U;j++){let F=r[j];if(!F)continue;let V,W=r.transitions;for(let O=0,R=F.length;O<R;O++){let Ae=F[O];V=W[Ae],V||(V=W[Ae]=Object.create(null)),W=V}W[pa]=j+64}this.lastNamedStructuresLength=U}a||(r.nextId=U+64)}n&&(n=!1);let I;try{o.randomAccessStructure&&N&&typeof N=="object"?N.constructor===Object?k(N):N.constructor!==Map&&!Array.isArray(N)&&!mg.some(j=>N instanceof j)?k(N.toJSON?N.toJSON():N):v(N):v(N);let U=Jt;if(Jt&&vD(A,v,0),s&&s.idsToInsert){let j=s.idsToInsert.sort((O,R)=>O.offset>R.offset?1:-1),F=j.length,V=-1;for(;U&&F>0;){let O=j[--F].offset+A;O<U.stringsPosition+A&&V===-1&&(V=0),O>U.position+A?V>=0&&(V+=6):(V>=0&&(Yt.setUint32(U.position+A,Yt.getUint32(U.position+A)+V),V=-1),U=U.previous,F++)}V>=0&&U&&Yt.setUint32(U.position+A,Yt.getUint32(U.position+A)+V),ie+=j.length*6,ie>en&&Z(ie),o.offset=ie;let W=r2(le.subarray(A,ie),j);return s=null,W}return o.offset=ie,y&o2?(le.start=A,le.end=ie,le):le.subarray(A,ie)}catch(U){throw I=U,U}finally{if(r&&(w(),n&&o.saveStructures)){let U=r.sharedLength||0,j=le.subarray(A,ie),F=s2(r,o);if(!I)return o.saveStructures(F,F.isCompatible)===!1?o.pack(N,y):(o.lastNamedStructuresLength=U,le.length>1073741824&&(le=null),j)}le.length>1073741824&&(le=null),y&a2&&(ie=A)}};const w=()=>{g<10&&g++;let N=r.sharedLength||0;if(r.length>N&&!a&&(r.length=N),p>1e4)r.transitions=null,g=0,p=0,m.length>0&&(m=[]);else if(m.length>0&&!a){for(let y=0,I=m.length;y<I;y++)m[y][pa]=0;m=[]}},x=N=>{var y=N.length;y<16?le[ie++]=144|y:y<65536?(le[ie++]=220,le[ie++]=y>>8,le[ie++]=y&255):(le[ie++]=221,Yt.setUint32(ie,y),ie+=4);for(let I=0;I<y;I++)v(N[I])},v=N=>{ie>en&&(le=Z(ie));var y=typeof N,I;if(y==="string"){let U=N.length;if(Jt&&U>=4&&U<4096){if((Jt.size+=U)>t2){let W,O=(Jt[0]?Jt[0].length*3+Jt[1].length:0)+10;ie+O>en&&(le=Z(ie+O));let R;Jt.position?(R=Jt,le[ie]=200,ie+=3,le[ie++]=98,W=ie-A,ie+=4,vD(A,v,0),Yt.setUint16(W+A-3,ie-A-W)):(le[ie++]=214,le[ie++]=98,W=ie-A,ie+=4),Jt=["",""],Jt.previous=R,Jt.size=0,Jt.position=W}let V=A2.test(N);Jt[V?0:1]+=N,le[ie++]=193,v(V?-U:U);return}let j;U<32?j=1:U<256?j=2:U<65536?j=3:j=5;let F=U*3;if(ie+F>en&&(le=Z(ie+F)),U<64||!i){let V,W,O,R=ie+j;for(V=0;V<U;V++)W=N.charCodeAt(V),W<128?le[R++]=W:W<2048?(le[R++]=W>>6|192,le[R++]=W&63|128):(W&64512)===55296&&((O=N.charCodeAt(V+1))&64512)===56320?(W=65536+((W&1023)<<10)+(O&1023),V++,le[R++]=W>>18|240,le[R++]=W>>12&63|128,le[R++]=W>>6&63|128,le[R++]=W&63|128):(le[R++]=W>>12|224,le[R++]=W>>6&63|128,le[R++]=W&63|128);I=R-ie-j}else I=i(N,ie+j);I<32?le[ie++]=160|I:I<256?(j<2&&le.copyWithin(ie+2,ie+1,ie+1+I),le[ie++]=217,le[ie++]=I):I<65536?(j<3&&le.copyWithin(ie+3,ie+2,ie+2+I),le[ie++]=218,le[ie++]=I>>8,le[ie++]=I&255):(j<5&&le.copyWithin(ie+5,ie+3,ie+3+I),le[ie++]=219,Yt.setUint32(ie,I),ie+=4),ie+=I}else if(y==="number")if(N>>>0===N)N<32||N<128&&this.useRecords===!1||N<64&&!this.randomAccessStructure?le[ie++]=N:N<256?(le[ie++]=204,le[ie++]=N):N<65536?(le[ie++]=205,le[ie++]=N>>8,le[ie++]=N&255):(le[ie++]=206,Yt.setUint32(ie,N),ie+=4);else if(N>>0===N)N>=-32?le[ie++]=256+N:N>=-128?(le[ie++]=208,le[ie++]=N+256):N>=-32768?(le[ie++]=209,Yt.setInt16(ie,N),ie+=2):(le[ie++]=210,Yt.setInt32(ie,N),ie+=4);else{let U;if((U=this.useFloat32)>0&&N<4294967296&&N>=-2147483648){le[ie++]=202,Yt.setFloat32(ie,N);let j;if(U<4||(j=N*fg[(le[ie]&127)<<1|le[ie+1]>>7])>>0===j){ie+=4;return}else ie--}le[ie++]=203,Yt.setFloat64(ie,N),ie+=8}else if(y==="object"||y==="function")if(!N)le[ie++]=192;else{if(s){let j=s.get(N);if(j){if(!j.id){let F=s.idsToInsert||(s.idsToInsert=[]);j.id=F.push(j)}le[ie++]=214,le[ie++]=112,Yt.setUint32(ie,j.id),ie+=4;return}else s.set(N,{offset:ie-A})}let U=N.constructor;if(U===Object)B(N);else if(U===Array)x(N);else if(U===Map)if(this.mapAsEmptyObject)le[ie++]=128;else{I=N.size,I<16?le[ie++]=128|I:I<65536?(le[ie++]=222,le[ie++]=I>>8,le[ie++]=I&255):(le[ie++]=223,Yt.setUint32(ie,I),ie+=4);for(let[j,F]of N)v(j),v(F)}else{for(let j=0,F=dg.length;j<F;j++){let V=mg[j];if(N instanceof V){let W=dg[j];if(W.write){W.type&&(le[ie++]=212,le[ie++]=W.type,le[ie++]=0);let ee=W.write.call(this,N);ee===N?Array.isArray(N)?x(N):B(N):v(ee);return}let O=le,R=Yt,Ae=ie;le=null;let K;try{K=W.pack.call(this,N,ee=>(le=O,O=null,ie+=ee,ie>en&&Z(ie),{target:le,targetView:Yt,position:ie-ee}),v)}finally{O&&(le=O,Yt=R,ie=Ae,en=le.length-10)}K&&(K.length+ie>en&&Z(K.length+ie),ie=DD(K,le,ie,W.type));return}}if(Array.isArray(N))x(N);else{if(N.toJSON){const j=N.toJSON();if(j!==N)return v(j)}if(y==="function")return v(this.writeFunction&&this.writeFunction(N));B(N)}}}else if(y==="boolean")le[ie++]=N?195:194;else if(y==="bigint"){if(N<9223372036854776e3&&N>=-9223372036854776e3)le[ie++]=211,Yt.setBigInt64(ie,N);else if(N<18446744073709552e3&&N>0)le[ie++]=207,Yt.setBigUint64(ie,N);else if(this.largeBigIntToFloat)le[ie++]=203,Yt.setFloat64(ie,Number(N));else{if(this.largeBigIntToString)return v(N.toString());if(this.useBigIntExtension||this.moreTypes){let U=N<0?BigInt(-1):BigInt(0),j;if(N>>BigInt(65536)===U){let F=BigInt(18446744073709552e3)-BigInt(1),V=[];for(;V.push(N&F),N>>BigInt(63)!==U;)N>>=BigInt(64);j=new Uint8Array(new BigUint64Array(V).buffer),j.reverse()}else{let F=N<0,V=(F?~N:N).toString(16);if(V.length%2?V="0"+V:parseInt(V.charAt(0),16)>=8&&(V="00"+V),ma)j=Ut.from(V,"hex");else{j=new Uint8Array(V.length/2);for(let W=0;W<j.length;W++)j[W]=parseInt(V.slice(W*2,W*2+2),16)}if(F)for(let W=0;W<j.length;W++)j[W]=~j[W]}j.length+ie>en&&Z(j.length+ie),ie=DD(j,le,ie,66);return}else throw new RangeError(N+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}ie+=8}else if(y==="undefined")this.encodeUndefinedAsNil?le[ie++]=192:(le[ie++]=212,le[ie++]=0,le[ie++]=0);else throw new Error("Unknown type: "+y)},b=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?N=>{let y;if(this.skipValues){y=[];for(let j in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(j))&&!this.skipValues.includes(N[j])&&y.push(j)}else y=Object.keys(N);let I=y.length;I<16?le[ie++]=128|I:I<65536?(le[ie++]=222,le[ie++]=I>>8,le[ie++]=I&255):(le[ie++]=223,Yt.setUint32(ie,I),ie+=4);let U;if(this.coercibleKeyAsNumber)for(let j=0;j<I;j++){U=y[j];let F=Number(U);v(isNaN(F)?U:F),v(N[U])}else for(let j=0;j<I;j++)v(U=y[j]),v(N[U])}:N=>{le[ie++]=222;let y=ie-A;ie+=2;let I=0;for(let U in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(U))&&(v(U),v(N[U]),I++);if(I>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');le[y+++A]=I>>8,le[y+A]=I&255},T=this.useRecords===!1?b:e.progressiveRecords&&!h?N=>{let y,I=r.transitions||(r.transitions=Object.create(null)),U=ie++-A,j;for(let F in N)if(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(F)){if(y=I[F],y)I=y;else{let V=Object.keys(N),W=I;I=r.transitions;let O=0;for(let R=0,Ae=V.length;R<Ae;R++){let K=V[R];y=I[K],y||(y=I[K]=Object.create(null),O++),I=y}U+A+1==ie?(ie--,S(I,V,O)):C(I,V,U,O),j=!0,I=W[F]}v(N[F])}if(!j){let F=I[pa];F?le[U+A]=F:C(I,Object.keys(N),U,0)}}:N=>{let y,I=r.transitions||(r.transitions=Object.create(null)),U=0;for(let F in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(F))&&(y=I[F],y||(y=I[F]=Object.create(null),U++),I=y);let j=I[pa];j?j>=96&&h?(le[ie++]=((j-=96)&31)+96,le[ie++]=j>>5):le[ie++]=j:S(I,I.__keys__||Object.keys(N),U);for(let F in N)(typeof N.hasOwnProperty!="function"||N.hasOwnProperty(F))&&v(N[F])},M=typeof this.useRecords=="function"&&this.useRecords,B=M?N=>{M(N)?T(N):b(N)}:T,Z=N=>{let y;if(N>16777216){if(N-A>yD)throw new Error("Packed buffer would be larger than maximum buffer size");y=Math.min(yD,Math.round(Math.max((N-A)*(N>67108864?1.25:2),4194304)/4096)*4096)}else y=(Math.max(N-A<<2,le.length-1)>>12)+1<<12;let I=new xh(y);return Yt=I.dataView||(I.dataView=new DataView(I.buffer,0,y)),N=Math.min(N,le.length),le.copy?le.copy(I,0,A,N):I.set(le.slice(A,N)),ie-=A,A=0,en=I.length-10,le=I},S=(N,y,I)=>{let U=r.nextId;U||(U=64),U<f&&this.shouldShareStructure&&!this.shouldShareStructure(y)?(U=r.nextOwnId,U<d||(U=f),r.nextOwnId=U+1):(U>=d&&(U=f),r.nextId=U+1);let j=y.highByte=U>=96&&h?U-96>>5:-1;N[pa]=U,N.__keys__=y,r[U-64]=y,U<f?(y.isShared=!0,r.sharedLength=U-63,n=!0,j>=0?(le[ie++]=(U&31)+96,le[ie++]=j):le[ie++]=U):(j>=0?(le[ie++]=213,le[ie++]=114,le[ie++]=(U&31)+96,le[ie++]=j):(le[ie++]=212,le[ie++]=114,le[ie++]=U),I&&(p+=g*I),m.length>=u&&(m.shift()[pa]=0),m.push(N),v(y))},C=(N,y,I,U)=>{let j=le,F=ie,V=en,W=A;le=el,ie=0,A=0,le||(el=le=new xh(8192)),en=le.length-10,S(N,y,U),el=le;let O=ie;if(le=j,ie=F,en=V,A=W,O>1){let R=ie+O-1;R>en&&Z(R);let Ae=I+A;le.copyWithin(Ae+O,Ae+1,ie),le.set(el.slice(0,O),Ae),ie=R}else le[I+A]=el[0]},k=N=>{let y=e2(N,le,A,ie,r,Z,(I,U,j)=>{if(j)return n=!0;ie=U;let F=le;return v(I),w(),F!==le?{position:ie,targetView:Yt,target:le}:ie},this);if(y===0)return B(N);ie=y}}useBuffer(e){le=e,le.dataView||(le.dataView=new DataView(le.buffer,le.byteOffset,le.byteLength)),Yt=le.dataView,ie=0}set position(e){ie=e}get position(){return ie}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}mg=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,iD],dg=[{pack(t,e,A){let n=t.getTime()/1e3;if((this.useTimestamp32||t.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:r,targetView:s,position:i}=e(6);r[i++]=214,r[i++]=255,s.setUint32(i,n)}else if(n>0&&n<4294967296){let{target:r,targetView:s,position:i}=e(10);r[i++]=215,r[i++]=255,s.setUint32(i,t.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),s.setUint32(i+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return e(0),A(this.onInvalidDate());let{target:r,targetView:s,position:i}=e(3);r[i++]=212,r[i++]=255,r[i++]=255}else{let{target:r,targetView:s,position:i}=e(15);r[i++]=199,r[i++]=12,r[i++]=255,s.setUint32(i,t.getMilliseconds()*1e6),s.setBigInt64(i+4,BigInt(Math.floor(n)))}}},{pack(t,e,A){if(this.setAsEmptyObject)return e(0),A({});let n=Array.from(t),{target:r,position:s}=e(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=115,r[s++]=0),A(n)}},{pack(t,e,A){let{target:n,position:r}=e(this.moreTypes?3:0);this.moreTypes&&(n[r++]=212,n[r++]=101,n[r++]=0),A([t.name,t.message,t.cause])}},{pack(t,e,A){let{target:n,position:r}=e(this.moreTypes?3:0);this.moreTypes&&(n[r++]=212,n[r++]=120,n[r++]=0),A([t.source,t.flags])}},{pack(t,e){this.moreTypes?pg(t,16,e):gg(ma?Ut.from(t):new Uint8Array(t),e)}},{pack(t,e){let A=t.constructor;A!==MD&&this.moreTypes?pg(t,xD.indexOf(A.name),e):gg(t,e)}},{pack(t,e){this.moreTypes?pg(t,17,e):gg(ma?Ut.from(t):new Uint8Array(t),e)}},{pack(t,e){let{target:A,position:n}=e(1);A[n]=193}}];function pg(t,e,A,n){let r=t.byteLength;if(r+1<256){var{target:s,position:i}=A(4+r);s[i++]=199,s[i++]=r+1}else if(r+1<65536){var{target:s,position:i}=A(5+r);s[i++]=200,s[i++]=r+1>>8,s[i++]=r+1&255}else{var{target:s,position:i,targetView:o}=A(7+r);s[i++]=201,o.setUint32(i,r+1),i+=4}s[i++]=116,s[i++]=e,t.buffer||(t=new Uint8Array(t)),s.set(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),i)}function gg(t,e){let A=t.byteLength;var n,r;if(A<256){var{target:n,position:r}=e(A+2);n[r++]=196,n[r++]=A}else if(A<65536){var{target:n,position:r}=e(A+3);n[r++]=197,n[r++]=A>>8,n[r++]=A&255}else{var{target:n,position:r,targetView:s}=e(A+5);n[r++]=198,s.setUint32(r,A),r+=4}n.set(t,r)}function DD(t,e,A,n){let r=t.length;switch(r){case 1:e[A++]=212;break;case 2:e[A++]=213;break;case 4:e[A++]=214;break;case 8:e[A++]=215;break;case 16:e[A++]=216;break;default:r<256?(e[A++]=199,e[A++]=r):r<65536?(e[A++]=200,e[A++]=r>>8,e[A++]=r&255):(e[A++]=201,e[A++]=r>>24,e[A++]=r>>16&255,e[A++]=r>>8&255,e[A++]=r&255)}return e[A++]=n,e.set(t,A),A+=r,A}function r2(t,e){let A,n=e.length*6,r=t.length-n;for(;A=e.pop();){let s=A.offset,i=A.id;t.copyWithin(s+n,s,r),n-=6;let o=s+n;t[o++]=214,t[o++]=105,t[o++]=i>>24,t[o++]=i>>16&255,t[o++]=i>>8&255,t[o++]=i&255,r=s}return t}function vD(t,e,A){if(Jt.length>0){Yt.setUint32(Jt.position+t,ie+A-Jt.position-t),Jt.stringsPosition=ie-t;let n=Jt;Jt=null,e(n[0]),e(n[1])}}function s2(t,e){return t.isCompatible=A=>{let n=!A||(e.lastNamedStructuresLength||0)===A.length;return n||e._mergeStructures(A),n},t}let BD=new n2({useRecords:!1});const i2=BD.pack;BD.pack;const o2=512,a2=1024,c2=2048,te=$i("SOFTWARE");function Ot(){return null}function Cs(t,e,A={}){if(!G(t))return;const n=[],r=Object.keys(t);for(let s=0;s<r.length;++s){let i=r[s],o=t[i];const a=A[i];G(a)&&(o=a(o));const c=e[i];G(c)&&(i=c),o!==null&&n.push(i,o)}return n}function tl(t,e,A={}){if(G(t))try{const n={};for(let r=0;r<t.length;r+=2){let s=t[r],i=t[r+1];const o=e[s];G(o)&&(s=o);const a=A[s];G(a)&&(i=a(i)),n[s]=i}return n}catch(n){Mt(te,"","format",n.message)}}function l2(t){try{return i2(t)}catch(e){Mt(te,"","format",e.message)}}function wg(t){if(xe(t)){try{return JSON.parse(t)}catch(e){Mt(te,"","format",e.message)}return}try{return Jj(t)}catch(e){Mt(te,"","format",e.message)}}function kD(t,e){return t%e}function ED(t,e){return Math.floor(t/e)}function u2(t,e){return{x:kD(t,e),y:ED(t,e)}}function ND(t,e){const A=t.x-e.x,n=t.y-e.y;return Math.sqrt(A*A+n*n)}function vn(t,e){return t.x+t.y*e}function Er(t,e){return`${t.x},${t.y},${e.x},${e.y}`}function bg(t,e,A,n,r,s){return t>=s&&t<=n&&e>=A&&e<=r}function _g(t,e,A,n){const r=[],s=Math.min(t,A),i=Math.max(t,A),o=Math.min(e,n),a=Math.max(e,n);for(let c=o;c<=a;++c)for(let l=s;l<=i;++l)r.push({x:l,y:c});return r}function TD(t,e,A,n){const r=[],s=Math.abs(A-t),i=Math.abs(n-e),o=t<A?1:-1,a=e<n?1:-1;let c=s-i;for(r.push({x:t,y:e});t!==A||e!==n;){const l=2*c;l>-i&&(c-=i,t+=o),l<s&&(c+=s,e+=a),r.push({x:t,y:e})}return r}const YD="176",h2="",Nr="srgb",OD="srgb-linear",SD="linear",xg="srgb",tn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ZD=1234567;const CD=Math.PI/180,PD=180/Math.PI;function f2(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,A=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(tn[t&255]+tn[t>>8&255]+tn[t>>16&255]+tn[t>>24&255]+"-"+tn[e&255]+tn[e>>8&255]+"-"+tn[e>>16&15|64]+tn[e>>24&255]+"-"+tn[A&63|128]+tn[A>>8&255]+"-"+tn[A>>16&255]+tn[A>>24&255]+tn[n&255]+tn[n>>8&255]+tn[n>>16&255]+tn[n>>24&255]).toLowerCase()}function or(t,e,A){return Math.max(e,Math.min(A,t))}function Gg(t,e){return(t%e+e)%e}function d2(t,e,A,n,r){return n+(t-e)*(r-n)/(A-e)}function m2(t,e,A){return t!==e?(A-t)/(e-t):0}function Al(t,e,A){return(1-A)*t+A*e}function p2(t,e,A,n){return Al(t,e,1-Math.exp(-A*n))}function g2(t,e=1){return e-Math.abs(Gg(t,e*2)-e)}function w2(t,e,A){return t<=e?0:t>=A?1:(t=(t-e)/(A-e),t*t*(3-2*t))}function b2(t,e,A){return t<=e?0:t>=A?1:(t=(t-e)/(A-e),t*t*t*(t*(t*6-15)+10))}function _2(t,e){return t+Math.floor(Math.random()*(e-t+1))}function x2(t,e){return t+Math.random()*(e-t)}function G2(t){return t*(.5-Math.random())}function M2(t){t!==void 0&&(ZD=t);let e=ZD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function y2(t){return t*CD}function D2(t){return t*PD}function v2(t){return(t&t-1)===0&&t!==0}function B2(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function k2(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function E2(t,e,A,n,r){const s=Math.cos,i=Math.sin,o=s(A/2),a=i(A/2),c=s((e+n)/2),l=i((e+n)/2),u=s((e-n)/2),h=i((e-n)/2),f=s((n-e)/2),d=i((n-e)/2);switch(r){case"XYX":t.set(o*l,a*u,a*h,o*c);break;case"YZY":t.set(a*h,o*l,a*u,o*c);break;case"ZXZ":t.set(a*u,a*h,o*l,o*c);break;case"XZX":t.set(o*l,a*d,a*f,o*c);break;case"YXY":t.set(a*f,o*l,a*d,o*c);break;case"ZYZ":t.set(a*d,a*f,o*l,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function N2(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function T2(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Y2={DEG2RAD:CD,RAD2DEG:PD,generateUUID:f2,clamp:or,euclideanModulo:Gg,mapLinear:d2,inverseLerp:m2,lerp:Al,damp:p2,pingpong:g2,smoothstep:w2,smootherstep:b2,randInt:_2,randFloat:x2,randFloatSpread:G2,seededRandom:M2,degToRad:y2,radToDeg:D2,isPowerOfTwo:v2,ceilPowerOfTwo:B2,floorPowerOfTwo:k2,setQuaternionFromProperEuler:E2,normalize:T2,denormalize:N2};class nl{constructor(e=0,A=0){nl.prototype.isVector2=!0,this.x=e,this.y=A}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,A){return this.x=e,this.y=A,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,A){switch(e){case 0:this.x=A;break;case 1:this.y=A;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,A){return this.x=e.x+A.x,this.y=e.y+A.y,this}addScaledVector(e,A){return this.x+=e.x*A,this.y+=e.y*A,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,A){return this.x=e.x-A.x,this.y=e.y-A.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const A=this.x,n=this.y,r=e.elements;return this.x=r[0]*A+r[3]*n+r[6],this.y=r[1]*A+r[4]*n+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,A){return this.x=or(this.x,e.x,A.x),this.y=or(this.y,e.y,A.y),this}clampScalar(e,A){return this.x=or(this.x,e,A),this.y=or(this.y,e,A),this}clampLength(e,A){const n=this.length();return this.divideScalar(n||1).multiplyScalar(or(n,e,A))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const A=Math.sqrt(this.lengthSq()*e.lengthSq());if(A===0)return Math.PI/2;const n=this.dot(e)/A;return Math.acos(or(n,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const A=this.x-e.x,n=this.y-e.y;return A*A+n*n}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,A){return this.x+=(e.x-this.x)*A,this.y+=(e.y-this.y)*A,this}lerpVectors(e,A,n){return this.x=e.x+(A.x-e.x)*n,this.y=e.y+(A.y-e.y)*n,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,A=0){return this.x=e[A],this.y=e[A+1],this}toArray(e=[],A=0){return e[A]=this.x,e[A+1]=this.y,e}fromBufferAttribute(e,A){return this.x=e.getX(A),this.y=e.getY(A),this}rotateAround(e,A){const n=Math.cos(A),r=Math.sin(A),s=this.x-e.x,i=this.y-e.y;return this.x=s*n-i*r+e.x,this.y=s*r+i*n+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class rl{constructor(e,A,n,r,s,i,o,a,c){rl.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,A,n,r,s,i,o,a,c)}set(e,A,n,r,s,i,o,a,c){const l=this.elements;return l[0]=e,l[1]=r,l[2]=o,l[3]=A,l[4]=s,l[5]=a,l[6]=n,l[7]=i,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const A=this.elements,n=e.elements;return A[0]=n[0],A[1]=n[1],A[2]=n[2],A[3]=n[3],A[4]=n[4],A[5]=n[5],A[6]=n[6],A[7]=n[7],A[8]=n[8],this}extractBasis(e,A,n){return e.setFromMatrix3Column(this,0),A.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const A=e.elements;return this.set(A[0],A[4],A[8],A[1],A[5],A[9],A[2],A[6],A[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,A){const n=e.elements,r=A.elements,s=this.elements,i=n[0],o=n[3],a=n[6],c=n[1],l=n[4],u=n[7],h=n[2],f=n[5],d=n[8],m=r[0],p=r[3],g=r[6],w=r[1],x=r[4],v=r[7],b=r[2],T=r[5],M=r[8];return s[0]=i*m+o*w+a*b,s[3]=i*p+o*x+a*T,s[6]=i*g+o*v+a*M,s[1]=c*m+l*w+u*b,s[4]=c*p+l*x+u*T,s[7]=c*g+l*v+u*M,s[2]=h*m+f*w+d*b,s[5]=h*p+f*x+d*T,s[8]=h*g+f*v+d*M,this}multiplyScalar(e){const A=this.elements;return A[0]*=e,A[3]*=e,A[6]*=e,A[1]*=e,A[4]*=e,A[7]*=e,A[2]*=e,A[5]*=e,A[8]*=e,this}determinant(){const e=this.elements,A=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],c=e[7],l=e[8];return A*i*l-A*o*c-n*s*l+n*o*a+r*s*c-r*i*a}invert(){const e=this.elements,A=e[0],n=e[1],r=e[2],s=e[3],i=e[4],o=e[5],a=e[6],c=e[7],l=e[8],u=l*i-o*c,h=o*a-l*s,f=c*s-i*a,d=A*u+n*h+r*f;if(d===0)return this.set(0,0,0,0,0,0,0,0,0);const m=1/d;return e[0]=u*m,e[1]=(r*c-l*n)*m,e[2]=(o*n-r*i)*m,e[3]=h*m,e[4]=(l*A-r*a)*m,e[5]=(r*s-o*A)*m,e[6]=f*m,e[7]=(n*a-c*A)*m,e[8]=(i*A-n*s)*m,this}transpose(){let e;const A=this.elements;return e=A[1],A[1]=A[3],A[3]=e,e=A[2],A[2]=A[6],A[6]=e,e=A[5],A[5]=A[7],A[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const A=this.elements;return e[0]=A[0],e[1]=A[3],e[2]=A[6],e[3]=A[1],e[4]=A[4],e[5]=A[7],e[6]=A[2],e[7]=A[5],e[8]=A[8],this}setUvTransform(e,A,n,r,s,i,o){const a=Math.cos(s),c=Math.sin(s);return this.set(n*a,n*c,-n*(a*i+c*o)+i+e,-r*c,r*a,-r*(-c*i+a*o)+o+A,0,0,1),this}scale(e,A){return this.premultiply(Mg.makeScale(e,A)),this}rotate(e){return this.premultiply(Mg.makeRotation(-e)),this}translate(e,A){return this.premultiply(Mg.makeTranslation(e,A)),this}makeTranslation(e,A){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,A,0,0,1),this}makeRotation(e){const A=Math.cos(e),n=Math.sin(e);return this.set(A,-n,0,n,A,0,0,0,1),this}makeScale(e,A){return this.set(e,0,0,0,A,0,0,0,1),this}equals(e){const A=this.elements,n=e.elements;for(let r=0;r<9;r++)if(A[r]!==n[r])return!1;return!0}fromArray(e,A=0){for(let n=0;n<9;n++)this.elements[n]=e[n+A];return this}toArray(e=[],A=0){const n=this.elements;return e[A]=n[0],e[A+1]=n[1],e[A+2]=n[2],e[A+3]=n[3],e[A+4]=n[4],e[A+5]=n[5],e[A+6]=n[6],e[A+7]=n[7],e[A+8]=n[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Mg=new rl,RD=new rl().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ID=new rl().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function O2(){const t={enabled:!0,workingColorSpace:OD,spaces:{},convert:function(r,s,i){return this.enabled===!1||s===i||!s||!i||(this.spaces[s].transfer===xg&&(r.r=ga(r.r),r.g=ga(r.g),r.b=ga(r.b)),this.spaces[s].primaries!==this.spaces[i].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===xg&&(r.r=wa(r.r),r.g=wa(r.g),r.b=wa(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===h2?SD:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,i){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],A=[.2126,.7152,.0722],n=[.3127,.329];return t.define({[OD]:{primaries:e,whitePoint:n,transfer:SD,toXYZ:RD,fromXYZ:ID,luminanceCoefficients:A,workingColorSpaceConfig:{unpackColorSpace:Nr},outputColorSpaceConfig:{drawingBufferColorSpace:Nr}},[Nr]:{primaries:e,whitePoint:n,transfer:xg,toXYZ:RD,fromXYZ:ID,luminanceCoefficients:A,outputColorSpaceConfig:{drawingBufferColorSpace:Nr}}}),t}const Tr=O2();function ga(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function wa(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const jD={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hi={h:0,s:0,l:0},Gh={h:0,s:0,l:0};function yg(t,e,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?t+(e-t)*6*A:A<1/2?e:A<2/3?t+(e-t)*6*(2/3-A):t}class Mh{constructor(e,A,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,A,n)}set(e,A,n){if(A===void 0&&n===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,A,n);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,A=Nr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Tr.toWorkingColorSpace(this,A),this}setRGB(e,A,n,r=Tr.workingColorSpace){return this.r=e,this.g=A,this.b=n,Tr.toWorkingColorSpace(this,r),this}setHSL(e,A,n,r=Tr.workingColorSpace){if(e=Gg(e,1),A=or(A,0,1),n=or(n,0,1),A===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+A):n+A-n*A,i=2*n-s;this.r=yg(i,s,e+1/3),this.g=yg(i,s,e),this.b=yg(i,s,e-1/3)}return Tr.toWorkingColorSpace(this,r),this}setStyle(e,A=Nr){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,A);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,A);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,A);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],i=s.length;if(i===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,A);if(i===6)return this.setHex(parseInt(s,16),A);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,A);return this}setColorName(e,A=Nr){const n=jD[e.toLowerCase()];return n!==void 0?this.setHex(n,A):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ga(e.r),this.g=ga(e.g),this.b=ga(e.b),this}copyLinearToSRGB(e){return this.r=wa(e.r),this.g=wa(e.g),this.b=wa(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Nr){return Tr.fromWorkingColorSpace(An.copy(this),e),Math.round(or(An.r*255,0,255))*65536+Math.round(or(An.g*255,0,255))*256+Math.round(or(An.b*255,0,255))}getHexString(e=Nr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,A=Tr.workingColorSpace){Tr.fromWorkingColorSpace(An.copy(this),A);const n=An.r,r=An.g,s=An.b,i=Math.max(n,r,s),o=Math.min(n,r,s);let a,c;const l=(o+i)/2;if(o===i)a=0,c=0;else{const u=i-o;switch(c=l<=.5?u/(i+o):u/(2-i-o),i){case n:a=(r-s)/u+(r<s?6:0);break;case r:a=(s-n)/u+2;break;case s:a=(n-r)/u+4;break}a/=6}return e.h=a,e.s=c,e.l=l,e}getRGB(e,A=Tr.workingColorSpace){return Tr.fromWorkingColorSpace(An.copy(this),A),e.r=An.r,e.g=An.g,e.b=An.b,e}getStyle(e=Nr){Tr.fromWorkingColorSpace(An.copy(this),e);const A=An.r,n=An.g,r=An.b;return e!==Nr?`color(${e} ${A.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(A*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(e,A,n){return this.getHSL(hi),this.setHSL(hi.h+e,hi.s+A,hi.l+n)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,A){return this.r=e.r+A.r,this.g=e.g+A.g,this.b=e.b+A.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,A){return this.r+=(e.r-this.r)*A,this.g+=(e.g-this.g)*A,this.b+=(e.b-this.b)*A,this}lerpColors(e,A,n){return this.r=e.r+(A.r-e.r)*n,this.g=e.g+(A.g-e.g)*n,this.b=e.b+(A.b-e.b)*n,this}lerpHSL(e,A){this.getHSL(hi),e.getHSL(Gh);const n=Al(hi.h,Gh.h,A),r=Al(hi.s,Gh.s,A),s=Al(hi.l,Gh.l,A);return this.setHSL(n,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const A=this.r,n=this.g,r=this.b,s=e.elements;return this.r=s[0]*A+s[3]*n+s[6]*r,this.g=s[1]*A+s[4]*n+s[7]*r,this.b=s[2]*A+s[5]*n+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,A=0){return this.r=e[A],this.g=e[A+1],this.b=e[A+2],this}toArray(e=[],A=0){return e[A]=this.r,e[A+1]=this.g,e[A+2]=this.b,e}fromBufferAttribute(e,A){return this.r=e.getX(A),this.g=e.getY(A),this.b=e.getZ(A),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const An=new Mh;Mh.NAMES=jD,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:YD}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=YD),new nl,new nl;function Yr(t,e,A){return Math.max(e,Math.min(A,t))}function zD(t){return t/180*Math.PI}function HD(t){return t*180/Math.PI}const S2=vx("089fad0j9awfem09wavefc09uwaef");function Z2(){return S2()}function C2(t){return vx(t)()}function ln(t,e){const A=Math.min(t,e),r=Math.max(t,e)-A+1;return A+Math.floor(Z2()*r)}function LD(t,e,A){const n=Math.min(e,A),s=Math.max(e,A)-n+1;return n+Math.floor(C2(t)*s)}function sl(t,e,A){typeof t!="number"&&(t=0,e=0,A=1),typeof e!="number"&&(e=t,t=0,A=1),typeof A!="number"&&(A=1);const n=[],r=Math.min(t,e),s=Math.max(t,e);for(let i=r;i<=s;i+=A)n.push(i);return n}function P2(t){return t[ln(0,t.length-1)]}function R2(t,e){return e[LD(t,0,e.length-1)]}function ar(...t){return P2(t.flat())}function I2(t,...e){return R2(t,e.flat())}function j2(t){return[...new Set(t)].filter(G)}function fi(t){return G(t)&&G(t.x)&&G(t.y)}function Xt(t,e){switch(e){case ve.NORTH:--t.y;break;case ve.SOUTH:++t.y;break;case ve.WEST:--t.x;break;case ve.EAST:++t.x;break}return t}function Dg(t,e){return t<0?ve.WEST:t>0?ve.EAST:e<0?ve.NORTH:e>0?ve.SOUTH:ve.IDLE}function cr(t,e){return Dg(e.x-t.x,e.y-t.y)}const vg={idle:"IDLE",up:"NORTH",down:"SOUTH",left:"WEST",right:"EAST",by:"BY",at:"AT",flow:"FLOW",seek:"SEEK",rndns:"RNDNS",rndne:"RNDNE",rnd:"RND",cw:"CW",ccw:"CCW",opp:"OPP",rndp:"RNDP",away:"AWAY",toward:"TOWARD",find:"FIND",flee:"FLEE",to:"TO",i:"IDLE",u:"NORTH",north:"NORTH",n:"NORTH",d:"SOUTH",south:"SOUTH",s:"SOUTH",l:"WEST",west:"WEST",w:"WEST",r:"EAST",east:"EAST",e:"EAST",over:"OVER",under:"UNDER",ground:"GROUND",within:"WITHIN",awayby:"AWAYBY",elements:"ELEMENTS"};function Fn(t){return st(t)&&UD(t[0])}function UD(t){return G(ve[t])&&xe(t)}function $D(t){const e=ve[t];return G(e)?e:ve.IDLE}function il(t){if(xe(t))return vg[je(t)]}function z2(t){if(Fn(t))return t;if(UD(t))return[t];const e=il(t);if(G(e))return[e]}function FD(t){const e=_.words[t],A=z2(e);return Fn(A)?[A,t+1]:[void 0,t]}function VD(t){const e=[];let[A,n]=FD(t);for(;Fn(A);){switch(e.push(...A),A[0]){case"AT":case"BY":case"AWAY":case"TOWARD":{const[o,a,c]=ce(_.words,n,[q.NUMBER,q.NUMBER]);e.push(o,a),n=c;break}case"FLEE":case"FIND":{const[o,a]=ce(_.words,n,[q.KIND]);console.info("kind",o),n=a;break}case"TO":{const[o,a,c]=ce(_.words,n,[q.DIR,q.DIR]),l=_.element?.x??0,u=_.element?.y??0;o.destpt.x-=l,o.destpt.y-=u,a.destpt.x-=l,a.destpt.y-=u,e.push(l+o.destpt.x+a.destpt.x,u+o.destpt.y+a.destpt.y),n=c;break}case"WITHIN":case"AWAYBY":{const[o,a]=ce(_.words,n,[q.NUMBER]);e.push(o),n=a;break}}const r=n;switch(A[0]){case"CW":case"CCW":case"OPP":case"RNDP":case"OVER":case"UNDER":case"WITHIN":case"AWAYBY":case"ELEMENTS":break;default:return[e,n]}const[s,i]=FD(r);A=s,n=i}return e.length?[e,n]:[void 0,t]}function H2(t){if(G(t)&&(t<Xe.ONBLACK||t>Xe.ONCLEAR))return t}function Bg(t){return G(t)&&t>Xe.WHITE&&t<Xe.ONCLEAR?t-Xe.ONBLACK:void 0}const ol={black:"BLACK",dkblue:"DKBLUE",dkgreen:"DKGREEN",dkcyan:"DKCYAN",dkred:"DKRED",dkpurple:"DKPURPLE",dkyellow:"DKYELLOW",ltgray:"LTGRAY",dkgray:"DKGRAY",blue:"BLUE",green:"GREEN",cyan:"CYAN",red:"RED",purple:"PURPLE",yellow:"YELLOW",white:"WHITE",brown:"DKYELLOW",dkwhite:"LTGRAY",ltgrey:"LTGRAY",gray:"LTGRAY",grey:"LTGRAY",dkgrey:"DKGRAY",ltblack:"DKGRAY",onblack:"ONBLACK",ondkblue:"ONDKBLUE",ondkgreen:"ONDKGREEN",ondkcyan:"ONDKCYAN",ondkred:"ONDKRED",ondkpurple:"ONDKPURPLE",ondkyellow:"ONDKYELLOW",onltgray:"ONLTGRAY",ondkgray:"ONDKGRAY",onblue:"ONBLUE",ongreen:"ONGREEN",oncyan:"ONCYAN",onred:"ONRED",onpurple:"ONPURPLE",onyellow:"ONYELLOW",onwhite:"ONWHITE",onbrown:"ONDKYELLOW",ondkwhite:"ONLTGRAY",onltgrey:"ONLTGRAY",ongray:"ONLTGRAY",ongrey:"ONLTGRAY",ondkgrey:"ONDKGRAY",onltblack:"ONDKGRAY",onclear:"ONCLEAR",blblack:"BLBLACK",bldkblue:"BLDKBLUE",bldkgreen:"BLDKGREEN",bldkcyan:"BLDKCYAN",bldkred:"BLDKRED",bldkpurple:"BLDKPURPLE",bldkyellow:"BLDKYELLOW",blltgray:"BLLTGRAY",bldkgray:"BLDKGRAY",blblue:"BLBLUE",blgreen:"BLGREEN",blcyan:"BLCYAN",blred:"BLRED",blpurple:"BLPURPLE",blyellow:"BLYELLOW",blwhite:"BLWHITE",blbrown:"BLDKYELLOW",bldkwhite:"BLLTGRAY",blltgrey:"BLLTGRAY",blgray:"BLLTGRAY",blgrey:"BLLTGRAY",bldkgrey:"BLDKGRAY",blltblack:"BLDKGRAY"};function NA(t){return st(t)&&WD(t[0])}function L2(t){return NA(t)&&t[0].startsWith("ON")}function WD(t){return G(Xe[t])&&xe(t)}function ba(t){if(xe(t))return ol[je(t)]}function di(t,e){return[G(t)?`${Xe[t]}`:void 0,G(e)?`ON${Xe[e]}`:void 0].filter(G)}function yh(t){return t.map(e=>Xe[e]).find(e=>G(e)&&e<Xe.ONBLACK)}function Dh(t){return t.map(e=>Xe[e]).find(e=>G(e)&&e>=Xe.ONBLACK)}function U2(t){if(NA(t))return t;if(WD(t))return[t];const e=ba(t);if(G(e))return[e]}function QD(t){const e=_.words[t],A=U2(e);return NA(A)?[A,t+1]:[void 0,t]}function vh(t){const e=[];let A=t;const n=parseFloat(_.words[t]);if(Ne(n))return[di(n,void 0),t+1];const[r,s]=QD(t);NA(r)&&(e.push(...r),A=s);const[i,o]=QD(s);return L2(i)&&(e.push(...i),A=o),e.length?[e,A]:[void 0,t]}function _a(t){const e={};for(let A=0;A<t.length;++A){const n=t[A],r=Xe[n];G(r)&&(r<Xe.ONBLACK||r>Xe.ONCLEAR?e.color=r:e.bg=Bg(r))}return e}const Re=60,rt=25,kg=Re*rt,mi=3,$2=new Date("1980/09/02");var Eg=(t=>(t[t.width=0]="width",t[t.height=1]="height",t[t.bits=2]="bits",t))(Eg||{}),Bh=(t=>(t[t.kind=0]="kind",t[t.id=1]="id",t[t.x=2]="x",t[t.y=3]="y",t[t.lx=4]="lx",t[t.ly=5]="ly",t[t.code=6]="code",t[t.name=7]="name",t[t.char=8]="char",t[t.color=9]="color",t[t.bg=10]="bg",t[t.light=11]="light",t[t.player=12]="player",t[t.bucket=13]="bucket",t[t.pushable=14]="pushable",t[t.collision=15]="collision",t[t.breakable=16]="breakable",t[t.tickertext=17]="tickertext",t[t.tickertime=18]="tickertime",t[t.p1=19]="p1",t[t.p2=20]="p2",t[t.p3=21]="p3",t[t.cycle=22]="cycle",t[t.stepx=23]="stepx",t[t.stepy=24]="stepy",t[t.sender=25]="sender",t[t.arg=26]="arg",t[t.stopped=27]="stopped",t[t.removed=28]="removed",t[t.party=29]="party",t[t.group=30]="group",t[t.lightdir=31]="lightdir",t[t.item=32]="item",t[t.p4=33]="p4",t[t.p5=34]="p5",t[t.p6=35]="p6",t[t.displaychar=36]="displaychar",t[t.displaycolor=37]="displaycolor",t[t.displaybg=38]="displaybg",t[t.shootx=39]="shootx",t[t.shooty=40]="shooty",t[t.p7=41]="p7",t[t.p8=42]="p8",t[t.p9=43]="p9",t[t.p10=44]="p10",t))(Bh||{}),Ng=(t=>(t[t.terrain=0]="terrain",t[t.objects=1]="objects",t[t.isdark=2]="isdark",t[t.over=3]="over",t[t.under=4]="under",t[t.exitnorth=5]="exitnorth",t[t.exitsouth=6]="exitsouth",t[t.exitwest=7]="exitwest",t[t.exiteast=8]="exiteast",t[t.timelimit=9]="timelimit",t[t.restartonzap=10]="restartonzap",t[t.maxplayershots=11]="maxplayershots",t[t.camera=12]="camera",t[t.graphics=13]="graphics",t[t.b1=14]="b1",t[t.b2=15]="b2",t[t.b3=16]="b3",t[t.b4=17]="b4",t[t.b5=18]="b5",t[t.b6=19]="b6",t[t.b7=20]="b7",t[t.b8=21]="b8",t[t.b9=22]="b9",t[t.b10=23]="b10",t[t.charset=24]="charset",t[t.palette=25]="palette",t))(Ng||{}),Tg=(t=>(t[t.id=0]="id",t[t.name=1]="name",t[t.timestamp=2]="timestamp",t[t.activelist=3]="activelist",t[t.pages=4]="pages",t[t.flags=5]="flags",t[t.token=6]="token",t))(Tg||{}),Yg=(t=>(t[t.id=0]="id",t[t.code=1]="code",t[t.board=2]="board",t[t.object=3]="object",t[t.terrain=4]="terrain",t[t.charset=5]="charset",t[t.palette=6]="palette",t[t.eighttrack=7]="eighttrack",t))(Yg||{}),Oe=(t=>(t[t.ERROR=0]="ERROR",t[t.LOADER=1]="LOADER",t[t.BOARD=2]="BOARD",t[t.OBJECT=3]="OBJECT",t[t.TERRAIN=4]="TERRAIN",t[t.CHARSET=5]="CHARSET",t[t.PALETTE=6]="PALETTE",t))(Oe||{}),He=(t=>(t.MAIN="main",t.TEMP="temp",t.TITLE="title",t.PLAYER="player",t.GADGETSTORE="gadgetstore",t))(He||{});function io(t,e){if(!G(t)||!NA(e))return;const{color:A,bg:n}=_a(e);G(A)&&(t.color=A),G(n)&&(t.bg=n)}function kh(t){return G(t?.id)?Cs(t,Bh,{category:Ot,kinddata:Ot,stopped:Ot,removed:Ot,bucket:Ot}):Cs(t,Bh,{id:Ot,x:Ot,y:Ot,lx:Ot,ly:Ot,code:Ot,category:Ot,kinddata:Ot,stopped:Ot,removed:Ot,bucket:Ot})}function Eh(t){return tl(t,Bh)}function vt(t){return t?.category===yn.ISOBJECT}function qD(){return{id:sA()}}const al=14,Nh=3,cs=8,Ps=14,xa=16;var KD=(t=>(t[t.BLANK=0]="BLANK",t[t.TILES=1]="TILES",t[t.SPRITES=2]="SPRITES",t[t.DITHER=3]="DITHER",t[t.MEDIA=4]="MEDIA",t[t.CONTROL=5]="CONTROL",t))(KD||{}),Th=(t=>(t[t.FAR=1]="FAR",t[t.MID=1.5]="MID",t[t.NEAR=3]="NEAR",t))(Th||{});function cl(t,e){return new Array(t).fill(e)}function F2(t,e,A,n,r=0){const s=A*n;return{id:`t:${t}:${e}`,type:1,width:A,height:n,char:cl(s,0),color:cl(s,0),bg:cl(s,r),stats:cl(s,0)}}function V2(t,e,A,n=1,r=15){return{id:`s:${t}:${e}:${A}`,x:0,y:0,char:n,color:r,bg:Xe.ONCLEAR,stat:0}}function W2(t,e){return{id:`${t}:${e}`,type:2,sprites:[]}}function Q2(t,e,A,n,r=0){const s=A*n;return{id:`d:${t}:${e}`,type:3,width:A,height:n,alphas:cl(s,r)}}function q2(t,e,A,n){return{id:`m:${t}:${e}`,type:4,mime:A,media:n}}function K2(t){return t.filter(e=>e.type===4)}function J2(t,e){return{id:`c:${t}:${e}`,type:5,focusx:0,focusy:0,focusid:t,viewscale:1.5,graphics:"flat",facing:0}}function JD(t,e){return`${t}:${e}`}const X2=1,e3=16,t3=256;var $t=(t=>(t[t.NONE=0]="NONE",t[t.ALT=1]="ALT",t[t.CTRL=2]="CTRL",t[t.SHIFT=3]="SHIFT",t[t.MOVE_UP=4]="MOVE_UP",t[t.MOVE_DOWN=5]="MOVE_DOWN",t[t.MOVE_LEFT=6]="MOVE_LEFT",t[t.MOVE_RIGHT=7]="MOVE_RIGHT",t[t.OK_BUTTON=8]="OK_BUTTON",t[t.CANCEL_BUTTON=9]="CANCEL_BUTTON",t[t.MENU_BUTTON=10]="MENU_BUTTON",t))($t||{});function XD(t,e){return{width:t,height:e,size:t*e,bits:new Uint8Array(t*e).fill(0)}}function ev(t){const e=Math.floor(t.length/Nh);if(e*Nh!==t.length)return;const A=XD(3,e);for(let n=0;n<A.bits.length;++n)A.bits[n]=t[n];return A}function A3(t,e){return t&1<<e?255:0}function tv(t){const e=Math.floor(t.length/al);if(e*al!==t.length)return;const A=Math.ceil(e/xa),n=cs*xa,r=XD(n,Ps*A);let s=0,i=0,o=0;for(let a=0;a<t.length;++a){const c=i*Ps+o,l=t[a];for(let u=0;u<cs;++u){const h=s*cs+u;r.bits[h+c*n]=A3(l,7-u)}++o,o===Ps&&(o=0,++s,s===xa&&(s=0,++i))}return r}function n3(t,e,A){if(!G(e))return;const n=Math.floor(e.bits.length/al);if(A<0||A>255||t.length===al||n*al!==e.bits.length)return;const r=cs*xa,s=A%xa*cs,i=Math.floor(A/xa)*Ps,o=0;for(let a=0;a<Ps;++a)for(let c=0;c<cs;++c){const l=s+c,u=i+a;e.bits[l+u*r]=t[o]?255:0}}const r3=Zu("000000000000000000000000000000007e81a58181bd99817e00000000007effdbffffc3e7ff7e0000000000006cfefefefe7c381000000000000010387cfe7c3810000000000000183c3ce7e7e718183c0000000000183c7effff7e18183c0000000000000000183c3c180000000000ffffffffffe7c3c3e7ffffffffff000000003c664242663c00000000ffffffffc399bdbd99c3ffffffff00001e0e1a3278cccccc7800000000003c6666663c187e181800000000003f333f30303070f0e000000000007f637f63636367e7e6c0000000001818db3ce73cdb1818000000000080c0e0f8fef8e0c080000000000002060e3efe3e0e06020000000000183c7e1818187e3c18000000000066666666666600666600000000007fdbdbdb7b1b1b1b1b000000007cc660386cc6c66c380cc67c000000000000000000fefefe0000000000183c7e1818187e3c187e00000000183c7e18181818181800000000001818181818187e3c1800000000000000180cfe0c180000000000000000003060fe603000000000000000000000c0c0c0fe000000000000000000286cfe6c2800000000000000001038387c7cfefe00000000000000fefe7c7c3838100000000000000000000000000000000000000000183c3c3c1818001818000000006666662400000000000000000000006c6cfe6c6c6cfe6c6c00000018187cc6c2c07c0686c67c18180000000000c2c60c183066c60000000000386c6c3876dccccc76000000003030306000000000000000000000000c183030303030180c000000000030180c0c0c0c0c183000000000000000663cff3c6600000000000000000018187e181800000000000000000000000000181818300000000000000000fe000000000000000000000000000000001818000000000002060c183060c0800000000000007cc6cedef6e6c6c67c000000000018387818181818187e00000000007cc6060c183060c6fe00000000007cc606063c0606c67c00000000000c1c3c6cccfe0c0c1e0000000000fec0c0c0fc0606c67c00000000003860c0c0fcc6c6c67c0000000000fec6060c183030303000000000007cc6c6c67cc6c6c67c00000000007cc6c6c67e06060c78000000000000181800000018180000000000000018180000001818300000000000060c18306030180c0600000000000000007e00007e000000000000006030180c060c18306000000000007cc6c60c181800181800000000007cc6c6dedededcc07c000000000010386cc6c6fec6c6c60000000000fc6666667c666666fc00000000003c66c2c0c0c0c2663c0000000000f86c66666666666cf80000000000fe66626878686266fe0000000000fe66626878686060f000000000003c66c2c0c0dec6663a0000000000c6c6c6c6fec6c6c6c600000000003c181818181818183c00000000001e0c0c0c0c0ccccc780000000000e6666c6c786c6c66e60000000000f060606060606266fe0000000000c6eefefed6c6c6c6c60000000000c6e6f6fedecec6c6c60000000000386cc6c6c6c6c66c380000000000fc6666667c606060f000000000007cc6c6c6c6d6de7c0c0e00000000fc6666667c6c6666e600000000007cc6c660380cc6c67c00000000007e7e5a18181818183c0000000000c6c6c6c6c6c6c6c67c0000000000c6c6c6c6c6c66c38100000000000c6c6c6c6d6d6fe7c6c0000000000c6c66c3838386cc6c60000000000666666663c1818183c0000000000fec68c183060c2c6fe00000000003c303030303030303c000000000080c0e070381c0e060200000000003c0c0c0c0c0c0c0c3c00000010386cc600000000000000000000000000000000000000000000ff0030301800000000000000000000000000000000780c7ccccc760000000000e06060786c6666667c00000000000000007cc6c0c0c67c00000000001c0c0c3c6ccccccc7600000000000000007cc6fec0c67c0000000000386c6460f0606060f0000000000000000076cccccc7c0ccc78000000e060606c76666666e6000000000018180038181818183c00000000000606000e0606060666663c000000e06060666c786c66e6000000000038181818181818183c0000000000000000ecfed6d6d6c60000000000000000dc666666666600000000000000007cc6c6c6c67c0000000000000000dc6666667c6060f000000000000076cccccc7c0c0c1e000000000000dc76666060f000000000000000007cc6701cc67c0000000000103030fc303030361c0000000000000000cccccccccc760000000000000000666666663c180000000000000000c6c6d6d6fe6c0000000000000000c66c38386cc60000000000000000c6c6c6c67e060cf8000000000000fecc183066fe00000000000e181818701818180e00000000001818181800181818180000000000701818180e18181870000000000076dc000000000000000000000000000010386cc6c6fe0000000000003c66c2c0c0c2663c0c067c000000cccc00cccccccccc76000000000c1830007cc6fec0c67c0000000010386c00780c7ccccc760000000000cccc00780c7ccccc760000000060301800780c7ccccc7600000000386c3800780c7ccccc76000000000000003c6660663c0c063c00000010386c007cc6fec0c67c0000000000cccc007cc6fec0c67c00000000603018007cc6fec0c67c000000000066660038181818183c00000000183c660038181818183c000000006030180038181818183c00000000c6c610386cc6c6fec6c6000000386c3800386cc6c6fec6c600000018306000fe66607c6066fe00000000000000cc76367ed8d86e00000000003e6cccccfeccccccce0000000010386c007cc6c6c6c67c0000000000c6c6007cc6c6c6c67c00000000603018007cc6c6c6c67c000000003078cc00cccccccccc760000000060301800cccccccccc760000000000c6c600c6c6c6c67e060c780000c6c6386cc6c6c6c66c3800000000c6c600c6c6c6c6c6c67c0000000018183c666060663c181800000000386c6460f0606060e6fc000000000066663c187e187e181800000000f8ccccf8c4ccdeccccc6000000000e1b1818187e18181818d870000018306000780c7ccccc76000000000c18300038181818183c00000000183060007cc6c6c6c67c0000000018306000cccccccccc76000000000076dc00dc666666666600000076dc00c6e6f6fedecec6c6000000003c6c6c3e007e0000000000000000386c6c38007c000000000000000000303000303060c6c67c000000000000000000fec0c0c000000000000000000000fe0606060000000000c0c0c6ccd83060dc860c183e0000c0c0c6ccd83066ce9e3e060600000018180018183c3c3c1800000000000000366cd86c36000000000000000000d86c366cd80000000000114411441144114411441144114455aa55aa55aa55aa55aa55aa55aadd77dd77dd77dd77dd77dd77dd77181818181818181818181818181818181818181818f81818181818181818181818f818f818181818181836363636363636f636363636363600000000000000fe3636363636360000000000f818f81818181818183636363636f606f636363636363636363636363636363636363636360000000000fe06f63636363636363636363636f606fe00000000000036363636363636fe0000000000001818181818f818f800000000000000000000000000f8181818181818181818181818181f00000000000018181818181818ff00000000000000000000000000ff181818181818181818181818181f18181818181800000000000000ff00000000000018181818181818ff18181818181818181818181f181f1818181818183636363636363637363636363636363636363637303f00000000000000000000003f30373636363636363636363636f700ff0000000000000000000000ff00f736363636363636363636363730373636363636360000000000ff00ff0000000000003636363636f700f73636363636361818181818ff00ff00000000000036363636363636ff0000000000000000000000ff00ff18181818181800000000000000ff363636363636363636363636363f00000000000018181818181f181f00000000000000000000001f181f181818181818000000000000003f36363636363636363636363636ff3636363636361818181818ff18ff18181818181818181818181818f8000000000000000000000000001f181818181818ffffffffffffffffffffffffffff00000000000000fffffffffffffff0f0f0f0f0f0f0f0f0f0f0f0f0f00f0f0f0f0f0f0f0f0f0f0f0f0f0fffffffffffffff00000000000000000000000076dcd8d8dc76000000000000007cc6fcc6c6fcc0c040000000fec6c6c0c0c0c0c0c000000000000000fe6c6c6c6c6c6c0000000000fec66030183060c6fe00000000000000007ed8d8d8d87000000000000000666666667c6060c000000000000076dc181818181800000000007e183c6666663c187e0000000000386cc6c6fec6c66c380000000000386cc6c6c66c6c6cee00000000001e30180c3e6666663c00000000000000007edbdb7e0000000000000003067edbdbf37e60c000000000001c3060607c6060301c0000000000007cc6c6c6c6c6c6c6000000000000fe0000fe0000fe0000000000000018187e18180000ff000000000030180c060c1830007e00000000000c18306030180c007e00000000000e1b1b1818181818181818181818181818181818d8d8700000000000001818007e001818000000000000000076dc0076dc000000000000386c6c3800000000000000000000000000000018180000000000000000000000000018000000000000000f0c0c0c0c0cec6c3c1c00000000d86c6c6c6c6c000000000000000070d83060c8f800000000000000000000007c7c7c7c7c7c000000000000000000000000000000000000"),Av=Zu("00000000002a002a00002a2a2a00002a002a2a15002a2a2a15151515153f153f15153f3f3f15153f153f3f3f153f3f3f");var nv=typeof qo=="object"&&qo&&qo.Object===Object&&qo,s3=typeof self=="object"&&self&&self.Object===Object&&self,ls=nv||s3||Function("return this")(),lr=ls.Symbol,rv=Object.prototype,i3=rv.hasOwnProperty,o3=rv.toString,ll=lr?lr.toStringTag:void 0;function a3(t){var e=i3.call(t,ll),A=t[ll];try{t[ll]=void 0;var n=!0}catch{}var r=o3.call(t);return n&&(e?t[ll]=A:delete t[ll]),r}var c3=Object.prototype,l3=c3.toString;function u3(t){return l3.call(t)}var h3="[object Null]",f3="[object Undefined]",sv=lr?lr.toStringTag:void 0;function pi(t){return t==null?t===void 0?f3:h3:sv&&sv in Object(t)?a3(t):u3(t)}function Or(t){return t!=null&&typeof t=="object"}var d3="[object Symbol]";function Yh(t){return typeof t=="symbol"||Or(t)&&pi(t)==d3}function Oh(t,e){for(var A=-1,n=t==null?0:t.length,r=Array(n);++A<n;)r[A]=e(t[A],A,t);return r}var gt=Array.isArray,iv=lr?lr.prototype:void 0,ov=iv?iv.toString:void 0;function av(t){if(typeof t=="string")return t;if(gt(t))return Oh(t,av)+"";if(Yh(t))return ov?ov.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var m3=/\s/;function p3(t){for(var e=t.length;e--&&m3.test(t.charAt(e)););return e}var g3=/^\s+/;function w3(t){return t&&t.slice(0,p3(t)+1).replace(g3,"")}function ur(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var cv=NaN,b3=/^[-+]0x[0-9a-f]+$/i,_3=/^0b[01]+$/i,x3=/^0o[0-7]+$/i,G3=parseInt;function M3(t){if(typeof t=="number")return t;if(Yh(t))return cv;if(ur(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=ur(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=w3(t);var A=_3.test(t);return A||x3.test(t)?G3(t.slice(2),A?2:8):b3.test(t)?cv:+t}var lv=1/0,y3=17976931348623157e292;function D3(t){if(!t)return t===0?t:0;if(t=M3(t),t===lv||t===-lv){var e=t<0?-1:1;return e*y3}return t===t?t:0}function Sh(t){var e=D3(t),A=e%1;return e===e?A?e-A:e:0}function Ga(t){return t}var v3="[object AsyncFunction]",B3="[object Function]",k3="[object GeneratorFunction]",E3="[object Proxy]";function Rs(t){if(!ur(t))return!1;var e=pi(t);return e==B3||e==k3||e==v3||e==E3}var Og=ls["__core-js_shared__"],uv=(function(){var t=/[^.]+$/.exec(Og&&Og.keys&&Og.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""})();function N3(t){return!!uv&&uv in t}var T3=Function.prototype,Y3=T3.toString;function oo(t){if(t!=null){try{return Y3.call(t)}catch{}try{return t+""}catch{}}return""}var O3=/[\\^$.*+?()[\]{}|]/g,S3=/^\[object .+?Constructor\]$/,Z3=Function.prototype,C3=Object.prototype,P3=Z3.toString,R3=C3.hasOwnProperty,I3=RegExp("^"+P3.call(R3).replace(O3,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function j3(t){if(!ur(t)||N3(t))return!1;var e=Rs(t)?I3:S3;return e.test(oo(t))}function z3(t,e){return t?.[e]}function ao(t,e){var A=z3(t,e);return j3(A)?A:void 0}var Sg=ao(ls,"WeakMap"),hv=Object.create,H3=(function(){function t(){}return function(e){if(!ur(e))return{};if(hv)return hv(e);t.prototype=e;var A=new t;return t.prototype=void 0,A}})();function L3(t,e,A){switch(A.length){case 0:return t.call(e);case 1:return t.call(e,A[0]);case 2:return t.call(e,A[0],A[1]);case 3:return t.call(e,A[0],A[1],A[2])}return t.apply(e,A)}function TA(){}function U3(t,e){var A=-1,n=t.length;for(e||(e=Array(n));++A<n;)e[A]=t[A];return e}var $3=800,F3=16,V3=Date.now;function W3(t){var e=0,A=0;return function(){var n=V3(),r=F3-(n-A);if(A=n,r>0){if(++e>=$3)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function Q3(t){return function(){return t}}var Zh=(function(){try{var t=ao(Object,"defineProperty");return t({},"",{}),t}catch{}})(),q3=Zh?function(t,e){return Zh(t,"toString",{configurable:!0,enumerable:!1,value:Q3(e),writable:!0})}:Ga,K3=W3(q3);function fv(t,e){for(var A=-1,n=t==null?0:t.length;++A<n&&e(t[A],A,t)!==!1;);return t}function dv(t,e,A,n){for(var r=t.length,s=A+-1;++s<r;)if(e(t[s],s,t))return s;return-1}function J3(t){return t!==t}function X3(t,e,A){for(var n=A-1,r=t.length;++n<r;)if(t[n]===e)return n;return-1}function Zg(t,e,A){return e===e?X3(t,e,A):dv(t,J3,A)}function mv(t,e){var A=t==null?0:t.length;return!!A&&Zg(t,e,0)>-1}var ez=9007199254740991,tz=/^(?:0|[1-9]\d*)$/;function Ch(t,e){var A=typeof t;return e=e??ez,!!e&&(A=="number"||A!="symbol"&&tz.test(t))&&t>-1&&t%1==0&&t<e}function Cg(t,e,A){e=="__proto__"&&Zh?Zh(t,e,{configurable:!0,enumerable:!0,value:A,writable:!0}):t[e]=A}function ul(t,e){return t===e||t!==t&&e!==e}var Az=Object.prototype,nz=Az.hasOwnProperty;function Ph(t,e,A){var n=t[e];(!(nz.call(t,e)&&ul(n,A))||A===void 0&&!(e in t))&&Cg(t,e,A)}function Pg(t,e,A,n){var r=!A;A||(A={});for(var s=-1,i=e.length;++s<i;){var o=e[s],a=void 0;a===void 0&&(a=t[o]),r?Cg(A,o,a):Ph(A,o,a)}return A}var pv=Math.max;function rz(t,e,A){return e=pv(e===void 0?t.length-1:e,0),function(){for(var n=arguments,r=-1,s=pv(n.length-e,0),i=Array(s);++r<s;)i[r]=n[e+r];r=-1;for(var o=Array(e+1);++r<e;)o[r]=n[r];return o[e]=A(i),L3(t,this,o)}}function Rg(t,e){return K3(rz(t,e,Ga),t+"")}var sz=9007199254740991;function Ig(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=sz}function us(t){return t!=null&&Ig(t.length)&&!Rs(t)}function gv(t,e,A){if(!ur(A))return!1;var n=typeof e;return(n=="number"?us(A)&&Ch(e,A.length):n=="string"&&e in A)?ul(A[e],t):!1}function iz(t){return Rg(function(e,A){var n=-1,r=A.length,s=r>1?A[r-1]:void 0,i=r>2?A[2]:void 0;for(s=t.length>3&&typeof s=="function"?(r--,s):void 0,i&&gv(A[0],A[1],i)&&(s=r<3?void 0:s,r=1),e=Object(e);++n<r;){var o=A[n];o&&t(e,o,n,s)}return e})}var oz=Object.prototype;function hl(t){var e=t&&t.constructor,A=typeof e=="function"&&e.prototype||oz;return t===A}function az(t,e){for(var A=-1,n=Array(t);++A<t;)n[A]=e(A);return n}var cz="[object Arguments]";function wv(t){return Or(t)&&pi(t)==cz}var bv=Object.prototype,lz=bv.hasOwnProperty,uz=bv.propertyIsEnumerable,Rh=wv((function(){return arguments})())?wv:function(t){return Or(t)&&lz.call(t,"callee")&&!uz.call(t,"callee")};function hz(){return!1}var _v=typeof exports=="object"&&exports&&!exports.nodeType&&exports,xv=_v&&typeof module=="object"&&module&&!module.nodeType&&module,fz=xv&&xv.exports===_v,Gv=fz?ls.Buffer:void 0,dz=Gv?Gv.isBuffer:void 0,fl=dz||hz,mz="[object Arguments]",pz="[object Array]",gz="[object Boolean]",wz="[object Date]",bz="[object Error]",_z="[object Function]",xz="[object Map]",Gz="[object Number]",Mz="[object Object]",yz="[object RegExp]",Dz="[object Set]",vz="[object String]",Bz="[object WeakMap]",kz="[object ArrayBuffer]",Ez="[object DataView]",Nz="[object Float32Array]",Tz="[object Float64Array]",Yz="[object Int8Array]",Oz="[object Int16Array]",Sz="[object Int32Array]",Zz="[object Uint8Array]",Cz="[object Uint8ClampedArray]",Pz="[object Uint16Array]",Rz="[object Uint32Array]",Ft={};Ft[Nz]=Ft[Tz]=Ft[Yz]=Ft[Oz]=Ft[Sz]=Ft[Zz]=Ft[Cz]=Ft[Pz]=Ft[Rz]=!0,Ft[mz]=Ft[pz]=Ft[kz]=Ft[gz]=Ft[Ez]=Ft[wz]=Ft[bz]=Ft[_z]=Ft[xz]=Ft[Gz]=Ft[Mz]=Ft[yz]=Ft[Dz]=Ft[vz]=Ft[Bz]=!1;function Iz(t){return Or(t)&&Ig(t.length)&&!!Ft[pi(t)]}function Ih(t){return function(e){return t(e)}}var Mv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,dl=Mv&&typeof module=="object"&&module&&!module.nodeType&&module,jz=dl&&dl.exports===Mv,jg=jz&&nv.process,gi=(function(){try{var t=dl&&dl.require&&dl.require("util").types;return t||jg&&jg.binding&&jg.binding("util")}catch{}})(),yv=gi&&gi.isTypedArray,zg=yv?Ih(yv):Iz,zz=Object.prototype,Hz=zz.hasOwnProperty;function Dv(t,e){var A=gt(t),n=!A&&Rh(t),r=!A&&!n&&fl(t),s=!A&&!n&&!r&&zg(t),i=A||n||r||s,o=i?az(t.length,String):[],a=o.length;for(var c in t)(e||Hz.call(t,c))&&!(i&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Ch(c,a)))&&o.push(c);return o}function vv(t,e){return function(A){return t(e(A))}}var Lz=vv(Object.keys,Object),Uz=Object.prototype,$z=Uz.hasOwnProperty;function Bv(t){if(!hl(t))return Lz(t);var e=[];for(var A in Object(t))$z.call(t,A)&&A!="constructor"&&e.push(A);return e}function hr(t){return us(t)?Dv(t):Bv(t)}var Fz=Object.prototype,Vz=Fz.hasOwnProperty,Bn=iz(function(t,e){if(hl(e)||us(e)){Pg(e,hr(e),t);return}for(var A in e)Vz.call(e,A)&&Ph(t,A,e[A])});function Wz(t){var e=[];if(t!=null)for(var A in Object(t))e.push(A);return e}var Qz=Object.prototype,qz=Qz.hasOwnProperty;function Kz(t){if(!ur(t))return Wz(t);var e=hl(t),A=[];for(var n in t)n=="constructor"&&(e||!qz.call(t,n))||A.push(n);return A}function kv(t){return us(t)?Dv(t,!0):Kz(t)}var Jz=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xz=/^\w*$/;function Hg(t,e){if(gt(t))return!1;var A=typeof t;return A=="number"||A=="symbol"||A=="boolean"||t==null||Yh(t)?!0:Xz.test(t)||!Jz.test(t)||e!=null&&t in Object(e)}var ml=ao(Object,"create");function eH(){this.__data__=ml?ml(null):{},this.size=0}function tH(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var AH="__lodash_hash_undefined__",nH=Object.prototype,rH=nH.hasOwnProperty;function sH(t){var e=this.__data__;if(ml){var A=e[t];return A===AH?void 0:A}return rH.call(e,t)?e[t]:void 0}var iH=Object.prototype,oH=iH.hasOwnProperty;function aH(t){var e=this.__data__;return ml?e[t]!==void 0:oH.call(e,t)}var cH="__lodash_hash_undefined__";function lH(t,e){var A=this.__data__;return this.size+=this.has(t)?0:1,A[t]=ml&&e===void 0?cH:e,this}function co(t){var e=-1,A=t==null?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}co.prototype.clear=eH,co.prototype.delete=tH,co.prototype.get=sH,co.prototype.has=aH,co.prototype.set=lH;function uH(){this.__data__=[],this.size=0}function jh(t,e){for(var A=t.length;A--;)if(ul(t[A][0],e))return A;return-1}var hH=Array.prototype,fH=hH.splice;function dH(t){var e=this.__data__,A=jh(e,t);if(A<0)return!1;var n=e.length-1;return A==n?e.pop():fH.call(e,A,1),--this.size,!0}function mH(t){var e=this.__data__,A=jh(e,t);return A<0?void 0:e[A][1]}function pH(t){return jh(this.__data__,t)>-1}function gH(t,e){var A=this.__data__,n=jh(A,t);return n<0?(++this.size,A.push([t,e])):A[n][1]=e,this}function Is(t){var e=-1,A=t==null?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}Is.prototype.clear=uH,Is.prototype.delete=dH,Is.prototype.get=mH,Is.prototype.has=pH,Is.prototype.set=gH;var pl=ao(ls,"Map");function wH(){this.size=0,this.__data__={hash:new co,map:new(pl||Is),string:new co}}function bH(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function zh(t,e){var A=t.__data__;return bH(e)?A[typeof e=="string"?"string":"hash"]:A.map}function _H(t){var e=zh(this,t).delete(t);return this.size-=e?1:0,e}function xH(t){return zh(this,t).get(t)}function GH(t){return zh(this,t).has(t)}function MH(t,e){var A=zh(this,t),n=A.size;return A.set(t,e),this.size+=A.size==n?0:1,this}function js(t){var e=-1,A=t==null?0:t.length;for(this.clear();++e<A;){var n=t[e];this.set(n[0],n[1])}}js.prototype.clear=wH,js.prototype.delete=_H,js.prototype.get=xH,js.prototype.has=GH,js.prototype.set=MH;var yH="Expected a function";function Lg(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(yH);var A=function(){var n=arguments,r=e?e.apply(this,n):n[0],s=A.cache;if(s.has(r))return s.get(r);var i=t.apply(this,n);return A.cache=s.set(r,i)||s,i};return A.cache=new(Lg.Cache||js),A}Lg.Cache=js;var DH=500;function vH(t){var e=Lg(t,function(n){return A.size===DH&&A.clear(),n}),A=e.cache;return e}var BH=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,kH=/\\(\\)?/g,EH=vH(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(BH,function(A,n,r,s){e.push(r?s.replace(kH,"$1"):n||A)}),e});function Ev(t){return t==null?"":av(t)}function Hh(t,e){return gt(t)?t:Hg(t,e)?[t]:EH(Ev(t))}function gl(t){if(typeof t=="string"||Yh(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}function Ug(t,e){e=Hh(e,t);for(var A=0,n=e.length;t!=null&&A<n;)t=t[gl(e[A++])];return A&&A==n?t:void 0}function NH(t,e,A){var n=t==null?void 0:Ug(t,e);return n===void 0?A:n}function $g(t,e){for(var A=-1,n=e.length,r=t.length;++A<n;)t[r+A]=e[A];return t}var Nv=lr?lr.isConcatSpreadable:void 0;function TH(t){return gt(t)||Rh(t)||!!(Nv&&t&&t[Nv])}function Fg(t,e,A,n,r){var s=-1,i=t.length;for(A||(A=TH),r||(r=[]);++s<i;){var o=t[s];A(o)?$g(r,o):n||(r[r.length]=o)}return r}function Vn(t){var e=t==null?0:t.length;return e?Fg(t):[]}var Tv=vv(Object.getPrototypeOf,Object);function Vg(t,e,A){var n=-1,r=t.length;e<0&&(e=-e>r?0:r+e),A=A>r?r:A,A<0&&(A+=r),r=e>A?0:A-e>>>0,e>>>=0;for(var s=Array(r);++n<r;)s[n]=t[n+e];return s}function YH(t,e,A){var n=t.length;return A=A===void 0?n:A,!e&&A>=n?t:Vg(t,e,A)}var OH="\\ud800-\\udfff",SH="\\u0300-\\u036f",ZH="\\ufe20-\\ufe2f",CH="\\u20d0-\\u20ff",PH=SH+ZH+CH,RH="\\ufe0e\\ufe0f",IH="\\u200d",jH=RegExp("["+IH+OH+PH+RH+"]");function Yv(t){return jH.test(t)}function zH(t){return t.split("")}var Ov="\\ud800-\\udfff",HH="\\u0300-\\u036f",LH="\\ufe20-\\ufe2f",UH="\\u20d0-\\u20ff",$H=HH+LH+UH,FH="\\ufe0e\\ufe0f",VH="["+Ov+"]",Wg="["+$H+"]",Qg="\\ud83c[\\udffb-\\udfff]",WH="(?:"+Wg+"|"+Qg+")",Sv="[^"+Ov+"]",Zv="(?:\\ud83c[\\udde6-\\uddff]){2}",Cv="[\\ud800-\\udbff][\\udc00-\\udfff]",QH="\\u200d",Pv=WH+"?",Rv="["+FH+"]?",qH="(?:"+QH+"(?:"+[Sv,Zv,Cv].join("|")+")"+Rv+Pv+")*",KH=Rv+Pv+qH,JH="(?:"+[Sv+Wg+"?",Wg,Zv,Cv,VH].join("|")+")",XH=RegExp(Qg+"(?="+Qg+")|"+JH+KH,"g");function eL(t){return t.match(XH)||[]}function tL(t){return Yv(t)?eL(t):zH(t)}function AL(t){return function(e){e=Ev(e);var A=Yv(e)?tL(e):void 0,n=A?A[0]:e.charAt(0),r=A?YH(A,1).join(""):e.slice(1);return n[t]()+r}}var Iv=AL("toUpperCase");function nL(t,e,A,n){var r=-1,s=t==null?0:t.length;for(n&&s&&(A=t[++r]);++r<s;)A=e(A,t[r],r,t);return A}function rL(){this.__data__=new Is,this.size=0}function sL(t){var e=this.__data__,A=e.delete(t);return this.size=e.size,A}function iL(t){return this.__data__.get(t)}function oL(t){return this.__data__.has(t)}var aL=200;function cL(t,e){var A=this.__data__;if(A instanceof Is){var n=A.__data__;if(!pl||n.length<aL-1)return n.push([t,e]),this.size=++A.size,this;A=this.__data__=new js(n)}return A.set(t,e),this.size=A.size,this}function hs(t){var e=this.__data__=new Is(t);this.size=e.size}hs.prototype.clear=rL,hs.prototype.delete=sL,hs.prototype.get=iL,hs.prototype.has=oL,hs.prototype.set=cL;function lL(t,e){return t&&Pg(e,hr(e),t)}var jv=typeof exports=="object"&&exports&&!exports.nodeType&&exports,zv=jv&&typeof module=="object"&&module&&!module.nodeType&&module,uL=zv&&zv.exports===jv,Hv=uL?ls.Buffer:void 0,Lv=Hv?Hv.allocUnsafe:void 0;function hL(t,e){var A=t.length,n=Lv?Lv(A):new t.constructor(A);return t.copy(n),n}function qg(t,e){for(var A=-1,n=t==null?0:t.length,r=0,s=[];++A<n;){var i=t[A];e(i,A,t)&&(s[r++]=i)}return s}function Uv(){return[]}var fL=Object.prototype,dL=fL.propertyIsEnumerable,$v=Object.getOwnPropertySymbols,Kg=$v?function(t){return t==null?[]:(t=Object(t),qg($v(t),function(e){return dL.call(t,e)}))}:Uv;function mL(t,e){return Pg(t,Kg(t),e)}var pL=Object.getOwnPropertySymbols,gL=pL?function(t){for(var e=[];t;)$g(e,Kg(t)),t=Tv(t);return e}:Uv;function Fv(t,e,A){var n=e(t);return gt(t)?n:$g(n,A(t))}function Jg(t){return Fv(t,hr,Kg)}function wL(t){return Fv(t,kv,gL)}var Xg=ao(ls,"DataView"),ew=ao(ls,"Promise"),Ma=ao(ls,"Set"),Vv="[object Map]",bL="[object Object]",Wv="[object Promise]",Qv="[object Set]",qv="[object WeakMap]",Kv="[object DataView]",_L=oo(Xg),xL=oo(pl),GL=oo(ew),ML=oo(Ma),yL=oo(Sg),fr=pi;(Xg&&fr(new Xg(new ArrayBuffer(1)))!=Kv||pl&&fr(new pl)!=Vv||ew&&fr(ew.resolve())!=Wv||Ma&&fr(new Ma)!=Qv||Sg&&fr(new Sg)!=qv)&&(fr=function(t){var e=pi(t),A=e==bL?t.constructor:void 0,n=A?oo(A):"";if(n)switch(n){case _L:return Kv;case xL:return Vv;case GL:return Wv;case ML:return Qv;case yL:return qv}return e});var DL=Object.prototype,vL=DL.hasOwnProperty;function BL(t){var e=t.length,A=new t.constructor(e);return e&&typeof t[0]=="string"&&vL.call(t,"index")&&(A.index=t.index,A.input=t.input),A}var Lh=ls.Uint8Array;function kL(t){var e=new t.constructor(t.byteLength);return new Lh(e).set(new Lh(t)),e}function EL(t,e){var A=t.buffer;return new t.constructor(A,t.byteOffset,t.byteLength)}var NL=/\w*$/;function TL(t){var e=new t.constructor(t.source,NL.exec(t));return e.lastIndex=t.lastIndex,e}var Jv=lr?lr.prototype:void 0,Xv=Jv?Jv.valueOf:void 0;function YL(t){return Xv?Object(Xv.call(t)):{}}function OL(t,e){var A=t.buffer;return new t.constructor(A,t.byteOffset,t.length)}var SL="[object Boolean]",ZL="[object Date]",CL="[object Map]",PL="[object Number]",RL="[object RegExp]",IL="[object Set]",jL="[object String]",zL="[object Symbol]",HL="[object ArrayBuffer]",LL="[object DataView]",UL="[object Float32Array]",$L="[object Float64Array]",FL="[object Int8Array]",VL="[object Int16Array]",WL="[object Int32Array]",QL="[object Uint8Array]",qL="[object Uint8ClampedArray]",KL="[object Uint16Array]",JL="[object Uint32Array]";function XL(t,e,A){var n=t.constructor;switch(e){case HL:return kL(t);case SL:case ZL:return new n(+t);case LL:return EL(t);case UL:case $L:case FL:case VL:case WL:case QL:case qL:case KL:case JL:return OL(t);case CL:return new n;case PL:case jL:return new n(t);case RL:return TL(t);case IL:return new n;case zL:return YL(t)}}function e6(t){return typeof t.constructor=="function"&&!hl(t)?H3(Tv(t)):{}}var t6="[object Map]";function A6(t){return Or(t)&&fr(t)==t6}var e1=gi&&gi.isMap,n6=e1?Ih(e1):A6,r6="[object Set]";function s6(t){return Or(t)&&fr(t)==r6}var t1=gi&&gi.isSet,i6=t1?Ih(t1):s6,A1="[object Arguments]",o6="[object Array]",a6="[object Boolean]",c6="[object Date]",l6="[object Error]",n1="[object Function]",u6="[object GeneratorFunction]",h6="[object Map]",f6="[object Number]",r1="[object Object]",d6="[object RegExp]",m6="[object Set]",p6="[object String]",g6="[object Symbol]",w6="[object WeakMap]",b6="[object ArrayBuffer]",_6="[object DataView]",x6="[object Float32Array]",G6="[object Float64Array]",M6="[object Int8Array]",y6="[object Int16Array]",D6="[object Int32Array]",v6="[object Uint8Array]",B6="[object Uint8ClampedArray]",k6="[object Uint16Array]",E6="[object Uint32Array]",Rt={};Rt[A1]=Rt[o6]=Rt[b6]=Rt[_6]=Rt[a6]=Rt[c6]=Rt[x6]=Rt[G6]=Rt[M6]=Rt[y6]=Rt[D6]=Rt[h6]=Rt[f6]=Rt[r1]=Rt[d6]=Rt[m6]=Rt[p6]=Rt[g6]=Rt[v6]=Rt[B6]=Rt[k6]=Rt[E6]=!0,Rt[l6]=Rt[n1]=Rt[w6]=!1;function Uh(t,e,A,n,r,s){var i;if(i!==void 0)return i;if(!ur(t))return t;var o=gt(t);if(o)return i=BL(t),U3(t,i);var a=fr(t),c=a==n1||a==u6;if(fl(t))return hL(t);if(a==r1||a==A1||c&&!r)return i=c?{}:e6(t),mL(t,lL(i,t));if(!Rt[a])return r?t:{};i=XL(t,a),s||(s=new hs);var l=s.get(t);if(l)return l;s.set(t,i),i6(t)?t.forEach(function(f){i.add(Uh(f,e,A,f,t,s))}):n6(t)&&t.forEach(function(f,d){i.set(d,Uh(f,e,A,d,t,s))});var u=Jg,h=o?void 0:u(t);return fv(h||t,function(f,d){h&&(d=f,f=t[d]),Ph(i,d,Uh(f,e,A,d,t,s))}),i}var N6=4;function VA(t){return Uh(t,N6)}function wl(t){for(var e=-1,A=t==null?0:t.length,n=0,r=[];++e<A;){var s=t[e];s&&(r[n++]=s)}return r}var T6="__lodash_hash_undefined__";function Y6(t){return this.__data__.set(t,T6),this}function O6(t){return this.__data__.has(t)}function ya(t){var e=-1,A=t==null?0:t.length;for(this.__data__=new js;++e<A;)this.add(t[e])}ya.prototype.add=ya.prototype.push=Y6,ya.prototype.has=O6;function s1(t,e){for(var A=-1,n=t==null?0:t.length;++A<n;)if(e(t[A],A,t))return!0;return!1}function tw(t,e){return t.has(e)}var S6=1,Z6=2;function i1(t,e,A,n,r,s){var i=A&S6,o=t.length,a=e.length;if(o!=a&&!(i&&a>o))return!1;var c=s.get(t),l=s.get(e);if(c&&l)return c==e&&l==t;var u=-1,h=!0,f=A&Z6?new ya:void 0;for(s.set(t,e),s.set(e,t);++u<o;){var d=t[u],m=e[u];if(n)var p=i?n(m,d,u,e,t,s):n(d,m,u,t,e,s);if(p!==void 0){if(p)continue;h=!1;break}if(f){if(!s1(e,function(g,w){if(!tw(f,w)&&(d===g||r(d,g,A,n,s)))return f.push(w)})){h=!1;break}}else if(!(d===m||r(d,m,A,n,s))){h=!1;break}}return s.delete(t),s.delete(e),h}function C6(t){var e=-1,A=Array(t.size);return t.forEach(function(n,r){A[++e]=[r,n]}),A}function Aw(t){var e=-1,A=Array(t.size);return t.forEach(function(n){A[++e]=n}),A}var P6=1,R6=2,I6="[object Boolean]",j6="[object Date]",z6="[object Error]",H6="[object Map]",L6="[object Number]",U6="[object RegExp]",$6="[object Set]",F6="[object String]",V6="[object Symbol]",W6="[object ArrayBuffer]",Q6="[object DataView]",o1=lr?lr.prototype:void 0,nw=o1?o1.valueOf:void 0;function q6(t,e,A,n,r,s,i){switch(A){case Q6:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case W6:return!(t.byteLength!=e.byteLength||!s(new Lh(t),new Lh(e)));case I6:case j6:case L6:return ul(+t,+e);case z6:return t.name==e.name&&t.message==e.message;case U6:case F6:return t==e+"";case H6:var o=C6;case $6:var a=n&P6;if(o||(o=Aw),t.size!=e.size&&!a)return!1;var c=i.get(t);if(c)return c==e;n|=R6,i.set(t,e);var l=i1(o(t),o(e),n,r,s,i);return i.delete(t),l;case V6:if(nw)return nw.call(t)==nw.call(e)}return!1}var K6=1,J6=Object.prototype,X6=J6.hasOwnProperty;function e5(t,e,A,n,r,s){var i=A&K6,o=Jg(t),a=o.length,c=Jg(e),l=c.length;if(a!=l&&!i)return!1;for(var u=a;u--;){var h=o[u];if(!(i?h in e:X6.call(e,h)))return!1}var f=s.get(t),d=s.get(e);if(f&&d)return f==e&&d==t;var m=!0;s.set(t,e),s.set(e,t);for(var p=i;++u<a;){h=o[u];var g=t[h],w=e[h];if(n)var x=i?n(w,g,h,e,t,s):n(g,w,h,t,e,s);if(!(x===void 0?g===w||r(g,w,A,n,s):x)){m=!1;break}p||(p=h=="constructor")}if(m&&!p){var v=t.constructor,b=e.constructor;v!=b&&"constructor"in t&&"constructor"in e&&!(typeof v=="function"&&v instanceof v&&typeof b=="function"&&b instanceof b)&&(m=!1)}return s.delete(t),s.delete(e),m}var t5=1,a1="[object Arguments]",c1="[object Array]",$h="[object Object]",A5=Object.prototype,l1=A5.hasOwnProperty;function n5(t,e,A,n,r,s){var i=gt(t),o=gt(e),a=i?c1:fr(t),c=o?c1:fr(e);a=a==a1?$h:a,c=c==a1?$h:c;var l=a==$h,u=c==$h,h=a==c;if(h&&fl(t)){if(!fl(e))return!1;i=!0,l=!1}if(h&&!l)return s||(s=new hs),i||zg(t)?i1(t,e,A,n,r,s):q6(t,e,a,A,n,r,s);if(!(A&t5)){var f=l&&l1.call(t,"__wrapped__"),d=u&&l1.call(e,"__wrapped__");if(f||d){var m=f?t.value():t,p=d?e.value():e;return s||(s=new hs),r(m,p,A,n,s)}}return h?(s||(s=new hs),e5(t,e,A,n,r,s)):!1}function rw(t,e,A,n,r){return t===e?!0:t==null||e==null||!Or(t)&&!Or(e)?t!==t&&e!==e:n5(t,e,A,n,rw,r)}var r5=1,s5=2;function i5(t,e,A,n){var r=A.length,s=r;if(t==null)return!s;for(t=Object(t);r--;){var i=A[r];if(i[2]?i[1]!==t[i[0]]:!(i[0]in t))return!1}for(;++r<s;){i=A[r];var o=i[0],a=t[o],c=i[1];if(i[2]){if(a===void 0&&!(o in t))return!1}else{var l=new hs,u;if(!(u===void 0?rw(c,a,r5|s5,n,l):u))return!1}}return!0}function u1(t){return t===t&&!ur(t)}function o5(t){for(var e=hr(t),A=e.length;A--;){var n=e[A],r=t[n];e[A]=[n,r,u1(r)]}return e}function h1(t,e){return function(A){return A==null?!1:A[t]===e&&(e!==void 0||t in Object(A))}}function a5(t){var e=o5(t);return e.length==1&&e[0][2]?h1(e[0][0],e[0][1]):function(A){return A===t||i5(A,t,e)}}function c5(t,e){return t!=null&&e in Object(t)}function f1(t,e,A){e=Hh(e,t);for(var n=-1,r=e.length,s=!1;++n<r;){var i=gl(e[n]);if(!(s=t!=null&&A(t,i)))break;t=t[i]}return s||++n!=r?s:(r=t==null?0:t.length,!!r&&Ig(r)&&Ch(i,r)&&(gt(t)||Rh(t)))}function l5(t,e){return t!=null&&f1(t,e,c5)}var u5=1,h5=2;function f5(t,e){return Hg(t)&&u1(e)?h1(gl(t),e):function(A){var n=NH(A,t);return n===void 0&&n===e?l5(A,t):rw(e,n,u5|h5)}}function d5(t){return function(e){return e?.[t]}}function m5(t){return function(e){return Ug(e,t)}}function p5(t){return Hg(t)?d5(gl(t)):m5(t)}function fs(t){return typeof t=="function"?t:t==null?Ga:typeof t=="object"?gt(t)?f5(t[0],t[1]):a5(t):p5(t)}function g5(t,e,A,n){for(var r=-1,s=t==null?0:t.length;++r<s;){var i=t[r];e(n,i,A(i),t)}return n}function w5(t){return function(e,A,n){for(var r=-1,s=Object(e),i=n(e),o=i.length;o--;){var a=i[++r];if(A(s[a],a,s)===!1)break}return e}}var b5=w5();function _5(t,e){return t&&b5(t,e,hr)}function x5(t,e){return function(A,n){if(A==null)return A;if(!us(A))return t(A,n);for(var r=A.length,s=-1,i=Object(A);++s<r&&n(i[s],s,i)!==!1;);return A}}var lo=x5(_5);function G5(t,e,A,n){return lo(t,function(r,s,i){e(n,r,A(r),i)}),n}function M5(t,e){return function(A,n){var r=gt(A)?g5:G5,s=e?e():{};return r(A,t,fs(n),s)}}var d1=Object.prototype,y5=d1.hasOwnProperty,sw=Rg(function(t,e){t=Object(t);var A=-1,n=e.length,r=n>2?e[2]:void 0;for(r&&gv(e[0],e[1],r)&&(n=1);++A<n;)for(var s=e[A],i=kv(s),o=-1,a=i.length;++o<a;){var c=i[o],l=t[c];(l===void 0||ul(l,d1[c])&&!y5.call(t,c))&&(t[c]=s[c])}return t});function m1(t){return Or(t)&&us(t)}var D5=200;function v5(t,e,A,n){var r=-1,s=mv,i=!0,o=t.length,a=[],c=e.length;if(!o)return a;e.length>=D5&&(s=tw,i=!1,e=new ya(e));e:for(;++r<o;){var l=t[r],u=l;if(l=l!==0?l:0,i&&u===u){for(var h=c;h--;)if(e[h]===u)continue e;a.push(l)}else s(e,u,n)||a.push(l)}return a}var Fh=Rg(function(t,e){return m1(t)?v5(t,Fg(e,1,m1,!0)):[]});function uo(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function WA(t,e,A){var n=t==null?0:t.length;return n?(e=e===void 0?1:Sh(e),Vg(t,e<0?0:e,n)):[]}function bl(t,e,A){var n=t==null?0:t.length;return n?(e=e===void 0?1:Sh(e),e=n-e,Vg(t,0,e<0?0:e)):[]}function B5(t){return typeof t=="function"?t:Ga}function Je(t,e){var A=gt(t)?fv:lo;return A(t,B5(e))}function k5(t,e){for(var A=-1,n=t==null?0:t.length;++A<n;)if(!e(t[A],A,t))return!1;return!0}function E5(t,e){var A=!0;return lo(t,function(n,r,s){return A=!!e(n,r,s),A}),A}function Sr(t,e,A){var n=gt(t)?k5:E5;return n(t,fs(e))}function p1(t,e){var A=[];return lo(t,function(n,r,s){e(n,r,s)&&A.push(n)}),A}function dr(t,e){var A=gt(t)?qg:p1;return A(t,fs(e))}function N5(t){return function(e,A,n){var r=Object(e);if(!us(e)){var s=fs(A);e=hr(e),A=function(o){return s(r[o],o,r)}}var i=t(e,A,n);return i>-1?r[s?e[i]:i]:void 0}}var T5=Math.max;function Y5(t,e,A){var n=t==null?0:t.length;if(!n)return-1;var r=A==null?0:Sh(A);return r<0&&(r=T5(n+r,0)),dv(t,fs(e),r)}var Da=N5(Y5);function Zr(t){return t&&t.length?t[0]:void 0}function O5(t,e){var A=-1,n=us(t)?Array(t.length):[];return lo(t,function(r,s,i){n[++A]=e(r,s,i)}),n}function ze(t,e){var A=gt(t)?Oh:O5;return A(t,fs(e))}function mr(t,e){return Fg(ze(t,e))}var S5=Object.prototype,Z5=S5.hasOwnProperty,g1=M5(function(t,e,A){Z5.call(t,A)?t[A].push(e):Cg(t,A,[e])}),C5=Object.prototype,P5=C5.hasOwnProperty;function R5(t,e){return t!=null&&P5.call(t,e)}function qe(t,e){return t!=null&&f1(t,e,R5)}var I5="[object String]";function kn(t){return typeof t=="string"||!gt(t)&&Or(t)&&pi(t)==I5}function j5(t,e){return Oh(e,function(A){return t[A]})}function GA(t){return t==null?[]:j5(t,hr(t))}var z5=Math.max;function un(t,e,A,n){t=us(t)?t:GA(t),A=A?Sh(A):0;var r=t.length;return A<0&&(A=z5(r+A,0)),kn(t)?A<=r&&t.indexOf(e,A)>-1:!!r&&Zg(t,e,A)>-1}function w1(t,e,A){var n=t==null?0:t.length;if(!n)return-1;var r=0;return Zg(t,e,r)}var H5="[object Map]",L5="[object Set]",U5=Object.prototype,$5=U5.hasOwnProperty;function It(t){if(t==null)return!0;if(us(t)&&(gt(t)||typeof t=="string"||typeof t.splice=="function"||fl(t)||zg(t)||Rh(t)))return!t.length;var e=fr(t);if(e==H5||e==L5)return!t.size;if(hl(t))return!Bv(t).length;for(var A in t)if($5.call(t,A))return!1;return!0}var F5="[object RegExp]";function V5(t){return Or(t)&&pi(t)==F5}var b1=gi&&gi.isRegExp,zs=b1?Ih(b1):V5;function Hs(t){return t===void 0}var W5="Expected a function";function Q5(t){if(typeof t!="function")throw new TypeError(W5);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function q5(t,e,A,n){if(!ur(t))return t;e=Hh(e,t);for(var r=-1,s=e.length,i=s-1,o=t;o!=null&&++r<s;){var a=gl(e[r]),c=A;if(a==="__proto__"||a==="constructor"||a==="prototype")return t;if(r!=i){var l=o[a];c=void 0,c===void 0&&(c=ur(l)?l:Ch(e[r+1])?[]:{})}Ph(o,a,c),o=o[a]}return t}function K5(t,e,A){for(var n=-1,r=e.length,s={};++n<r;){var i=e[n],o=Ug(t,i);A(o,i)&&q5(s,Hh(i,t),o)}return s}function Cr(t,e){if(t==null)return{};var A=Oh(wL(t),function(n){return[n]});return e=fs(e),K5(t,A,function(n,r){return e(n,r[0])})}function J5(t,e,A,n,r){return r(t,function(s,i,o){A=n?(n=!1,s):e(A,s,i,o)}),A}function En(t,e,A){var n=gt(t)?nL:J5,r=arguments.length<3;return n(t,fs(e),A,r,lo)}function Vh(t,e){var A=gt(t)?qg:p1;return A(t,Q5(fs(e)))}function X5(t,e){var A;return lo(t,function(n,r,s){return A=e(n,r,s),!A}),!!A}function iw(t,e,A){var n=gt(t)?s1:X5;return n(t,fs(e))}var eU=1/0,tU=Ma&&1/Aw(new Ma([,-0]))[1]==eU?function(t){return new Ma(t)}:TA,AU=200;function nU(t,e,A){var n=-1,r=mv,s=t.length,i=!0,o=[],a=o;if(s>=AU){var c=tU(t);if(c)return Aw(c);i=!1,r=tw,a=new ya}else a=o;e:for(;++n<s;){var l=t[n],u=l;if(l=l!==0?l:0,i&&u===u){for(var h=a.length;h--;)if(a[h]===u)continue e;o.push(l)}else r(a,u,A)||(a!==o&&a.push(u),o.push(l))}return o}function Wh(t){return t&&t.length?nU(t):[]}function ow(t){console&&console.error&&console.error(`Error: ${t}`)}function _1(t){console&&console.warn&&console.warn(`Warning: ${t}`)}function x1(t){const e=new Date().getTime(),A=t();return{time:new Date().getTime()-e,value:A}}function G1(t){function e(){}e.prototype=t;const A=new e;function n(){return typeof A.bar}return n(),n(),t}function rU(t){return sU(t)?t.LABEL:t.name}function sU(t){return kn(t.LABEL)&&t.LABEL!==""}class ds{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){this._definition=e}accept(e){e.visit(this),Je(this.definition,A=>{A.accept(e)})}}class Nn extends ds{constructor(e){super([]),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}set definition(e){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(e){e.visit(this)}}class va extends ds{constructor(e){super(e.definition),this.orgText="",Bn(this,Cr(e,A=>A!==void 0))}}class Tn extends ds{constructor(e){super(e.definition),this.ignoreAmbiguities=!1,Bn(this,Cr(e,A=>A!==void 0))}}class Yn extends ds{constructor(e){super(e.definition),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}}class ms extends ds{constructor(e){super(e.definition),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}}class ps extends ds{constructor(e){super(e.definition),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}}class YA extends ds{constructor(e){super(e.definition),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}}class Pr extends ds{constructor(e){super(e.definition),this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}}class Rr extends ds{get definition(){return this._definition}set definition(e){this._definition=e}constructor(e){super(e.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,Bn(this,Cr(e,A=>A!==void 0))}}class eA{constructor(e){this.idx=1,Bn(this,Cr(e,A=>A!==void 0))}accept(e){e.visit(this)}}function iU(t){return ze(t,Qh)}function Qh(t){function e(A){return ze(A,Qh)}if(t instanceof Nn){const A={type:"NonTerminal",name:t.nonTerminalName,idx:t.idx};return kn(t.label)&&(A.label=t.label),A}else{if(t instanceof Tn)return{type:"Alternative",definition:e(t.definition)};if(t instanceof Yn)return{type:"Option",idx:t.idx,definition:e(t.definition)};if(t instanceof ms)return{type:"RepetitionMandatory",idx:t.idx,definition:e(t.definition)};if(t instanceof ps)return{type:"RepetitionMandatoryWithSeparator",idx:t.idx,separator:Qh(new eA({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof Pr)return{type:"RepetitionWithSeparator",idx:t.idx,separator:Qh(new eA({terminalType:t.separator})),definition:e(t.definition)};if(t instanceof YA)return{type:"Repetition",idx:t.idx,definition:e(t.definition)};if(t instanceof Rr)return{type:"Alternation",idx:t.idx,definition:e(t.definition)};if(t instanceof eA){const A={type:"Terminal",name:t.terminalType.name,label:rU(t.terminalType),idx:t.idx};kn(t.label)&&(A.terminalLabel=t.label);const n=t.terminalType.PATTERN;return t.terminalType.PATTERN&&(A.pattern=zs(n)?n.source:n),A}else{if(t instanceof va)return{type:"Rule",name:t.name,orgText:t.orgText,definition:e(t.definition)};throw Error("non exhaustive match")}}}class ho{visit(e){const A=e;switch(A.constructor){case Nn:return this.visitNonTerminal(A);case Tn:return this.visitAlternative(A);case Yn:return this.visitOption(A);case ms:return this.visitRepetitionMandatory(A);case ps:return this.visitRepetitionMandatoryWithSeparator(A);case Pr:return this.visitRepetitionWithSeparator(A);case YA:return this.visitRepetition(A);case Rr:return this.visitAlternation(A);case eA:return this.visitTerminal(A);case va:return this.visitRule(A);default:throw Error("non exhaustive match")}}visitNonTerminal(e){}visitAlternative(e){}visitOption(e){}visitRepetition(e){}visitRepetitionMandatory(e){}visitRepetitionMandatoryWithSeparator(e){}visitRepetitionWithSeparator(e){}visitAlternation(e){}visitTerminal(e){}visitRule(e){}}function oU(t){return t instanceof Tn||t instanceof Yn||t instanceof YA||t instanceof ms||t instanceof ps||t instanceof Pr||t instanceof eA||t instanceof va}function qh(t,e=[]){return t instanceof Yn||t instanceof YA||t instanceof Pr?!0:t instanceof Rr?iw(t.definition,n=>qh(n,e)):t instanceof Nn&&un(e,t)?!1:t instanceof ds?(t instanceof Nn&&e.push(t),Sr(t.definition,n=>qh(n,e))):!1}function aU(t){return t instanceof Rr}function gs(t){if(t instanceof Nn)return"SUBRULE";if(t instanceof Yn)return"OPTION";if(t instanceof Rr)return"OR";if(t instanceof ms)return"AT_LEAST_ONE";if(t instanceof ps)return"AT_LEAST_ONE_SEP";if(t instanceof Pr)return"MANY_SEP";if(t instanceof YA)return"MANY";if(t instanceof eA)return"CONSUME";throw Error("non exhaustive match")}class Kh{walk(e,A=[]){Je(e.definition,(n,r)=>{const s=WA(e.definition,r+1);if(n instanceof Nn)this.walkProdRef(n,s,A);else if(n instanceof eA)this.walkTerminal(n,s,A);else if(n instanceof Tn)this.walkFlat(n,s,A);else if(n instanceof Yn)this.walkOption(n,s,A);else if(n instanceof ms)this.walkAtLeastOne(n,s,A);else if(n instanceof ps)this.walkAtLeastOneSep(n,s,A);else if(n instanceof Pr)this.walkManySep(n,s,A);else if(n instanceof YA)this.walkMany(n,s,A);else if(n instanceof Rr)this.walkOr(n,s,A);else throw Error("non exhaustive match")})}walkTerminal(e,A,n){}walkProdRef(e,A,n){}walkFlat(e,A,n){const r=A.concat(n);this.walk(e,r)}walkOption(e,A,n){const r=A.concat(n);this.walk(e,r)}walkAtLeastOne(e,A,n){const r=[new Yn({definition:e.definition})].concat(A,n);this.walk(e,r)}walkAtLeastOneSep(e,A,n){const r=M1(e,A,n);this.walk(e,r)}walkMany(e,A,n){const r=[new Yn({definition:e.definition})].concat(A,n);this.walk(e,r)}walkManySep(e,A,n){const r=M1(e,A,n);this.walk(e,r)}walkOr(e,A,n){const r=A.concat(n);Je(e.definition,s=>{const i=new Tn({definition:[s]});this.walk(i,r)})}}function M1(t,e,A){return[new Yn({definition:[new eA({terminalType:t.separator})].concat(t.definition)})].concat(e,A)}function _l(t){if(t instanceof Nn)return _l(t.referencedRule);if(t instanceof eA)return uU(t);if(oU(t))return cU(t);if(aU(t))return lU(t);throw Error("non exhaustive match")}function cU(t){let e=[];const A=t.definition;let n=0,r=A.length>n,s,i=!0;for(;r&&i;)s=A[n],i=qh(s),e=e.concat(_l(s)),n=n+1,r=A.length>n;return Wh(e)}function lU(t){const e=ze(t.definition,A=>_l(A));return Wh(Vn(e))}function uU(t){return[t.terminalType]}const y1="_~IN~_";class hU extends Kh{constructor(e){super(),this.topProd=e,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(e,A,n){}walkProdRef(e,A,n){const r=dU(e.referencedRule,e.idx)+this.topProd.name,s=A.concat(n),i=new Tn({definition:s}),o=_l(i);this.follows[r]=o}}function fU(t){const e={};return Je(t,A=>{const n=new hU(A).startWalking();Bn(e,n)}),e}function dU(t,e){return t.name+e+y1}function et(t){return t.charCodeAt(0)}function aw(t,e){Array.isArray(t)?t.forEach(function(A){e.push(A)}):e.push(t)}function xl(t,e){if(t[e]===!0)throw"duplicate flag "+e;t[e],t[e]=!0}function Ba(t){if(t===void 0)throw Error("Internal Error - Should never get here!");return!0}function mU(){throw Error("Internal Error - Should never get here!")}function D1(t){return t.type==="Character"}const Jh=[];for(let t=et("0");t<=et("9");t++)Jh.push(t);const Xh=[et("_")].concat(Jh);for(let t=et("a");t<=et("z");t++)Xh.push(t);for(let t=et("A");t<=et("Z");t++)Xh.push(t);const v1=[et(" "),et("\f"),et(`
`),et("\r"),et("	"),et("\v"),et("	"),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et(""),et("\u2028"),et("\u2029"),et(""),et(""),et(""),et("\uFEFF")],pU=/[0-9a-fA-F]/,ef=/[0-9]/,gU=/[1-9]/;class wU{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(e){this.idx=e.idx,this.input=e.input,this.groupIdx=e.groupIdx}pattern(e){this.idx=0,this.input=e,this.groupIdx=0,this.consumeChar("/");const A=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:e.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":xl(n,"global");break;case"i":xl(n,"ignoreCase");break;case"m":xl(n,"multiLine");break;case"u":xl(n,"unicode");break;case"y":xl(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:A,loc:this.loc(0)}}disjunction(){const e=[],A=this.idx;for(e.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),e.push(this.alternative());return{type:"Disjunction",value:e,loc:this.loc(A)}}alternative(){const e=[],A=this.idx;for(;this.isTerm();)e.push(this.term());return{type:"Alternative",value:e,loc:this.loc(A)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const e=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(e)};case"$":return{type:"EndAnchor",loc:this.loc(e)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(e)};case"B":return{type:"NonWordBoundary",loc:this.loc(e)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let A;switch(this.popChar()){case"=":A="Lookahead";break;case"!":A="NegativeLookahead";break;case"<":{switch(this.popChar()){case"=":A="Lookbehind";break;case"!":A="NegativeLookbehind"}break}}Ba(A);const n=this.disjunction();return this.consumeChar(")"),{type:A,value:n,loc:this.loc(e)}}return mU()}quantifier(e=!1){let A;const n=this.idx;switch(this.popChar()){case"*":A={atLeast:0,atMost:1/0};break;case"+":A={atLeast:1,atMost:1/0};break;case"?":A={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":A={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),A={atLeast:r,atMost:s}):A={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(e===!0&&A===void 0)return;Ba(A);break}if(!(e===!0&&A===void 0)&&Ba(A))return this.peekChar(0)==="?"?(this.consumeChar("?"),A.greedy=!1):A.greedy=!0,A.type="Quantifier",A.loc=this.loc(n),A}atom(){let e;const A=this.idx;switch(this.peekChar()){case".":e=this.dotAll();break;case"\\":e=this.atomEscape();break;case"[":e=this.characterClass();break;case"(":e=this.group();break}if(e===void 0&&this.isPatternCharacter()&&(e=this.patternCharacter()),Ba(e))return e.loc=this.loc(A),this.isQuantifier()&&(e.quantifier=this.quantifier()),e}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[et(`
`),et("\r"),et("\u2028"),et("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let e,A=!1;switch(this.popChar()){case"d":e=Jh;break;case"D":e=Jh,A=!0;break;case"s":e=v1;break;case"S":e=v1,A=!0;break;case"w":e=Xh;break;case"W":e=Xh,A=!0;break}if(Ba(e))return{type:"Set",value:e,complement:A}}controlEscapeAtom(){let e;switch(this.popChar()){case"f":e=et("\f");break;case"n":e=et(`
`);break;case"r":e=et("\r");break;case"t":e=et("	");break;case"v":e=et("\v");break}if(Ba(e))return{type:"Character",value:e}}controlLetterEscapeAtom(){this.consumeChar("c");const e=this.popChar();if(/[a-zA-Z]/.test(e)===!1)throw Error("Invalid ");return{type:"Character",value:e.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:et("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const e=this.popChar();return{type:"Character",value:et(e)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const e=this.popChar();return{type:"Character",value:et(e)}}}characterClass(){const e=[];let A=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),A=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,D1(n)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,D1(r)){if(r.value<n.value)throw Error("Range out of order in character class");e.push({from:n.value,to:r.value})}else aw(n.value,e),e.push(et("-")),aw(r.value,e)}else aw(n.value,e)}return this.consumeChar("]"),{type:"Set",complement:A,value:e}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:et("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let e=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),e=!1):this.groupIdx++;const A=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:e,value:A};return e&&(n.idx=this.groupIdx),n}positiveInteger(){let e=this.popChar();if(gU.test(e)===!1)throw Error("Expecting a positive integer");for(;ef.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}integerIncludingZero(){let e=this.popChar();if(ef.test(e)===!1)throw Error("Expecting an integer");for(;ef.test(this.peekChar(0));)e+=this.popChar();return parseInt(e,10)}patternCharacter(){const e=this.popChar();switch(e){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:et(e)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return ef.test(this.peekChar(0))}isClassAtom(e=0){switch(this.peekChar(e)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!"||this.peekChar(2)==="<"&&(this.peekChar(3)==="="||this.peekChar(3)==="!"));default:return!1}}isQuantifier(){const e=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(e)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(e){let A="";for(let r=0;r<e;r++){const s=this.popChar();if(pU.test(s)===!1)throw Error("Expecting a HexDecimal digits");A+=s}return{type:"Character",value:parseInt(A,16)}}peekChar(e=0){return this.input[this.idx+e]}popChar(){const e=this.peekChar(0);return this.consumeChar(void 0),e}consumeChar(e){if(e!==void 0&&this.input[this.idx]!==e)throw Error("Expected: '"+e+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(e){return{begin:e,end:this.idx}}}class cw{visitChildren(e){for(const A in e){const n=e[A];e.hasOwnProperty(A)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(r=>{this.visit(r)},this))}}visit(e){switch(e.type){case"Pattern":this.visitPattern(e);break;case"Flags":this.visitFlags(e);break;case"Disjunction":this.visitDisjunction(e);break;case"Alternative":this.visitAlternative(e);break;case"StartAnchor":this.visitStartAnchor(e);break;case"EndAnchor":this.visitEndAnchor(e);break;case"WordBoundary":this.visitWordBoundary(e);break;case"NonWordBoundary":this.visitNonWordBoundary(e);break;case"Lookahead":this.visitLookahead(e);break;case"NegativeLookahead":this.visitNegativeLookahead(e);break;case"Lookbehind":this.visitLookbehind(e);break;case"NegativeLookbehind":this.visitNegativeLookbehind(e);break;case"Character":this.visitCharacter(e);break;case"Set":this.visitSet(e);break;case"Group":this.visitGroup(e);break;case"GroupBackReference":this.visitGroupBackReference(e);break;case"Quantifier":this.visitQuantifier(e);break}this.visitChildren(e)}visitPattern(e){}visitFlags(e){}visitDisjunction(e){}visitAlternative(e){}visitStartAnchor(e){}visitEndAnchor(e){}visitWordBoundary(e){}visitNonWordBoundary(e){}visitLookahead(e){}visitNegativeLookahead(e){}visitLookbehind(e){}visitNegativeLookbehind(e){}visitCharacter(e){}visitSet(e){}visitGroup(e){}visitGroupBackReference(e){}visitQuantifier(e){}}let tf={};const bU=new wU;function Af(t){const e=t.toString();if(tf.hasOwnProperty(e))return tf[e];{const A=bU.pattern(e);return tf[e]=A,A}}function _U(){tf={}}const B1="Complement Sets are not supported for first char optimization",nf=`Unable to use "first char" lexer optimizations:
`;function xU(t,e=!1){try{const A=Af(t);return lw(A.value,{},A.flags.ignoreCase)}catch(A){if(A.message===B1)e&&_1(`${nf}	Unable to optimize: < ${t.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";e&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),ow(`${nf}
	Failed parsing: < ${t.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function lw(t,e,A){switch(t.type){case"Disjunction":for(let r=0;r<t.value.length;r++)lw(t.value[r],e,A);break;case"Alternative":const n=t.value;for(let r=0;r<n.length;r++){const s=n[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const i=s;switch(i.type){case"Character":rf(i.value,e,A);break;case"Set":if(i.complement===!0)throw Error(B1);Je(i.value,a=>{if(typeof a=="number")rf(a,e,A);else{const c=a;if(A===!0)for(let l=c.from;l<=c.to;l++)rf(l,e,A);else{for(let l=c.from;l<=c.to&&l<Ml;l++)rf(l,e,A);if(c.to>=Ml){const l=c.from>=Ml?c.from:Ml,u=c.to,h=wi(l),f=wi(u);for(let d=h;d<=f;d++)e[d]=d}}}});break;case"Group":lw(i.value,e,A);break;default:throw Error("Non Exhaustive Match")}const o=i.quantifier!==void 0&&i.quantifier.atLeast===0;if(i.type==="Group"&&uw(i)===!1||i.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return GA(e)}function rf(t,e,A){const n=wi(t);e[n]=n,A===!0&&GU(t,e)}function GU(t,e){const A=String.fromCharCode(t),n=A.toUpperCase();if(n!==A){const r=wi(n.charCodeAt(0));e[r]=r}else{const r=A.toLowerCase();if(r!==A){const s=wi(r.charCodeAt(0));e[s]=s}}}function k1(t,e){return Da(t.value,A=>{if(typeof A=="number")return un(e,A);{const n=A;return Da(e,r=>n.from<=r&&r<=n.to)!==void 0}})}function uw(t){const e=t.quantifier;return e&&e.atLeast===0?!0:t.value?gt(t.value)?Sr(t.value,uw):uw(t.value):!1}class MU extends cw{constructor(e){super(),this.targetCharCodes=e,this.found=!1}visitChildren(e){if(this.found!==!0){switch(e.type){case"Lookahead":this.visitLookahead(e);return;case"NegativeLookahead":this.visitNegativeLookahead(e);return;case"Lookbehind":this.visitLookbehind(e);return;case"NegativeLookbehind":this.visitNegativeLookbehind(e);return}super.visitChildren(e)}}visitCharacter(e){un(this.targetCharCodes,e.value)&&(this.found=!0)}visitSet(e){e.complement?k1(e,this.targetCharCodes)===void 0&&(this.found=!0):k1(e,this.targetCharCodes)!==void 0&&(this.found=!0)}}function hw(t,e){if(e instanceof RegExp){const A=Af(e),n=new MU(t);return n.visit(A),n.found}else return Da(e,A=>un(t,A.charCodeAt(0)))!==void 0}const fo="PATTERN",Gl="defaultMode",sf="modes";let E1=typeof new RegExp("(?:)").sticky=="boolean";function yU(t,e){e=sw(e,{useSticky:E1,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(w,x)=>x()});const A=e.tracer;A("initCharCodeToOptimizedIndexMap",()=>{WU()});let n;A("Reject Lexer.NA",()=>{n=Vh(t,w=>w[fo]===jA.NA)});let r=!1,s;A("Transform Patterns",()=>{r=!1,s=ze(n,w=>{const x=w[fo];if(zs(x)){const v=x.source;return v.length===1&&v!=="^"&&v!=="$"&&v!=="."&&!x.ignoreCase?v:v.length===2&&v[0]==="\\"&&!un(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],v[1])?v[1]:e.useSticky?T1(x):N1(x)}else{if(Rs(x))return r=!0,{exec:x};if(typeof x=="object")return r=!0,x;if(typeof x=="string"){if(x.length===1)return x;{const v=x.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),b=new RegExp(v);return e.useSticky?T1(b):N1(b)}}else throw Error("non exhaustive match")}})});let i,o,a,c,l;A("misc mapping",()=>{i=ze(n,w=>w.tokenTypeIdx),o=ze(n,w=>{const x=w.GROUP;if(x!==jA.SKIPPED){if(kn(x))return x;if(Hs(x))return!1;throw Error("non exhaustive match")}}),a=ze(n,w=>{const x=w.LONGER_ALT;if(x)return gt(x)?ze(x,b=>w1(n,b)):[w1(n,x)]}),c=ze(n,w=>w.PUSH_MODE),l=ze(n,w=>qe(w,"POP_MODE"))});let u;A("Line Terminator Handling",()=>{const w=S1(e.lineTerminatorCharacters);u=ze(n,x=>!1),e.positionTracking!=="onlyOffset"&&(u=ze(n,x=>qe(x,"LINE_BREAKS")?!!x.LINE_BREAKS:O1(x,w)===!1&&hw(w,x.PATTERN)))});let h,f,d,m;A("Misc Mapping #2",()=>{h=ze(n,Y1),f=ze(s,$U),d=En(n,(w,x)=>{const v=x.GROUP;return kn(v)&&v!==jA.SKIPPED&&(w[v]=[]),w},{}),m=ze(s,(w,x)=>({pattern:s[x],longerAlt:a[x],canLineTerminator:u[x],isCustom:h[x],short:f[x],group:o[x],push:c[x],pop:l[x],tokenTypeIdx:i[x],tokenType:n[x]}))});let p=!0,g=[];return e.safeMode||A("First Char Optimization",()=>{g=En(n,(w,x,v)=>{if(typeof x.PATTERN=="string"){const b=x.PATTERN.charCodeAt(0),T=wi(b);fw(w,T,m[v])}else if(gt(x.START_CHARS_HINT)){let b;Je(x.START_CHARS_HINT,T=>{const M=typeof T=="string"?T.charCodeAt(0):T,B=wi(M);b!==B&&(b=B,fw(w,B,m[v]))})}else if(zs(x.PATTERN))if(x.PATTERN.unicode)p=!1,e.ensureOptimizations&&ow(`${nf}	Unable to analyze < ${x.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const b=xU(x.PATTERN,e.ensureOptimizations);It(b)&&(p=!1),Je(b,T=>{fw(w,T,m[v])})}else e.ensureOptimizations&&ow(`${nf}	TokenType: <${x.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),p=!1;return w},[])}),{emptyGroups:d,patternIdxToConfig:m,charCodeToPatternIdxToConfig:g,hasCustom:r,canBeOptimized:p}}function DU(t,e){let A=[];const n=BU(t);A=A.concat(n.errors);const r=kU(n.valid),s=r.valid;return A=A.concat(r.errors),A=A.concat(vU(s)),A=A.concat(CU(s)),A=A.concat(PU(s,e)),A=A.concat(RU(s)),A}function vU(t){let e=[];const A=dr(t,n=>zs(n[fo]));return e=e.concat(NU(A)),e=e.concat(OU(A)),e=e.concat(SU(A)),e=e.concat(ZU(A)),e=e.concat(TU(A)),e}function BU(t){const e=dr(t,r=>!qe(r,fo)),A=ze(e,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:aA.MISSING_PATTERN,tokenTypes:[r]})),n=Fh(t,e);return{errors:A,valid:n}}function kU(t){const e=dr(t,r=>{const s=r[fo];return!zs(s)&&!Rs(s)&&!qe(s,"exec")&&!kn(s)}),A=ze(e,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:aA.INVALID_PATTERN,tokenTypes:[r]})),n=Fh(t,e);return{errors:A,valid:n}}const EU=/[^\\][$]/;function NU(t){class e extends cw{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const A=dr(t,r=>{const s=r.PATTERN;try{const i=Af(s),o=new e;return o.visit(i),o.found}catch{return EU.test(s.source)}});return ze(A,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:aA.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function TU(t){const e=dr(t,n=>n.PATTERN.test(""));return ze(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:aA.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const YU=/[^\\[][\^]|^\^/;function OU(t){class e extends cw{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const A=dr(t,r=>{const s=r.PATTERN;try{const i=Af(s),o=new e;return o.visit(i),o.found}catch{return YU.test(s.source)}});return ze(A,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:aA.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function SU(t){const e=dr(t,n=>{const r=n[fo];return r instanceof RegExp&&(r.multiline||r.global)});return ze(e,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:aA.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function ZU(t){const e=[];let A=ze(t,s=>En(t,(i,o)=>(s.PATTERN.source===o.PATTERN.source&&!un(e,o)&&o.PATTERN!==jA.NA&&(e.push(o),i.push(o)),i),[]));A=wl(A);const n=dr(A,s=>s.length>1);return ze(n,s=>{const i=ze(s,a=>a.name);return{message:`The same RegExp pattern ->${Zr(s).PATTERN}<-has been used in all of the following Token Types: ${i.join(", ")} <-`,type:aA.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function CU(t){const e=dr(t,n=>{if(!qe(n,"GROUP"))return!1;const r=n.GROUP;return r!==jA.SKIPPED&&r!==jA.NA&&!kn(r)});return ze(e,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:aA.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function PU(t,e){const A=dr(t,r=>r.PUSH_MODE!==void 0&&!un(e,r.PUSH_MODE));return ze(A,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:aA.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function RU(t){const e=[],A=En(t,(n,r,s)=>{const i=r.PATTERN;return i===jA.NA||(kn(i)?n.push({str:i,idx:s,tokenType:r}):zs(i)&&jU(i)&&n.push({str:i.source,idx:s,tokenType:r})),n},[]);return Je(t,(n,r)=>{Je(A,({str:s,idx:i,tokenType:o})=>{if(r<i&&IU(s,n.PATTERN)){const a=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;e.push({message:a,type:aA.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),e}function IU(t,e){if(zs(e)){if(zU(e))return!1;const A=e.exec(t);return A!==null&&A.index===0}else{if(Rs(e))return e(t,0,[],{});if(qe(e,"exec"))return e.exec(t,0,[],{});if(typeof e=="string")return e===t;throw Error("non exhaustive match")}}function jU(t){return Da([".","\\","[","]","|","^","$","(",")","?","*","+","{"],A=>t.source.indexOf(A)!==-1)===void 0}function zU(t){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(t.source)}function N1(t){const e=t.ignoreCase?"i":"";return new RegExp(`^(?:${t.source})`,e)}function T1(t){const e=t.ignoreCase?"iy":"y";return new RegExp(`${t.source}`,e)}function HU(t,e,A){const n=[];return qe(t,Gl)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Gl+`> property in its definition
`,type:aA.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),qe(t,sf)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+sf+`> property in its definition
`,type:aA.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),qe(t,sf)&&qe(t,Gl)&&!qe(t.modes,t.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Gl}: <${t.defaultMode}>which does not exist
`,type:aA.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),qe(t,sf)&&Je(t.modes,(r,s)=>{Je(r,(i,o)=>{if(Hs(i))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:aA.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(qe(i,"LONGER_ALT")){const a=gt(i.LONGER_ALT)?i.LONGER_ALT:[i.LONGER_ALT];Je(a,c=>{!Hs(c)&&!un(r,c)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${i.name}> outside of mode <${s}>
`,type:aA.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function LU(t,e,A){const n=[];let r=!1;const s=wl(Vn(GA(t.modes))),i=Vh(s,a=>a[fo]===jA.NA),o=S1(A);return e&&Je(i,a=>{const c=O1(a,o);if(c!==!1){const u={message:VU(a,c),type:c.issue,tokenType:a};n.push(u)}else qe(a,"LINE_BREAKS")?a.LINE_BREAKS===!0&&(r=!0):hw(o,a.PATTERN)&&(r=!0)}),e&&!r&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:aA.NO_LINE_BREAKS_FLAGS}),n}function UU(t){const e={},A=hr(t);return Je(A,n=>{const r=t[n];if(gt(r))e[n]=[];else throw Error("non exhaustive match")}),e}function Y1(t){const e=t.PATTERN;if(zs(e))return!1;if(Rs(e))return!0;if(qe(e,"exec"))return!0;if(kn(e))return!1;throw Error("non exhaustive match")}function $U(t){return kn(t)&&t.length===1?t.charCodeAt(0):!1}const FU={test:function(t){const e=t.length;for(let A=this.lastIndex;A<e;A++){const n=t.charCodeAt(A);if(n===10)return this.lastIndex=A+1,!0;if(n===13)return t.charCodeAt(A+1)===10?this.lastIndex=A+2:this.lastIndex=A+1,!0}return!1},lastIndex:0};function O1(t,e){if(qe(t,"LINE_BREAKS"))return!1;if(zs(t.PATTERN)){try{hw(e,t.PATTERN)}catch(A){return{issue:aA.IDENTIFY_TERMINATOR,errMsg:A.message}}return!1}else{if(kn(t.PATTERN))return!1;if(Y1(t))return{issue:aA.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function VU(t,e){if(e.issue===aA.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${t.name}> Token Type
	 Root cause: ${e.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(e.issue===aA.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${t.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function S1(t){return ze(t,A=>kn(A)?A.charCodeAt(0):A)}function fw(t,e,A){t[e]===void 0?t[e]=[A]:t[e].push(A)}const Ml=256;let of=[];function wi(t){return t<Ml?t:of[t]}function WU(){if(It(of)){of=new Array(65536);for(let t=0;t<65536;t++)of[t]=t>255?255+~~(t/255):t}}function yl(t,e){const A=t.tokenTypeIdx;return A===e.tokenTypeIdx?!0:e.isParent===!0&&e.categoryMatchesMap[A]===!0}function af(t,e){return t.tokenTypeIdx===e.tokenTypeIdx}let Z1=1;const C1={};function Dl(t){const e=QU(t);qU(e),JU(e),KU(e),Je(e,A=>{A.isParent=A.categoryMatches.length>0})}function QU(t){let e=VA(t),A=t,n=!0;for(;n;){A=wl(Vn(ze(A,s=>s.CATEGORIES)));const r=Fh(A,e);e=e.concat(r),It(r)?n=!1:A=r}return e}function qU(t){Je(t,e=>{R1(e)||(C1[Z1]=e,e.tokenTypeIdx=Z1++),I1(e)&&!gt(e.CATEGORIES)&&(e.CATEGORIES=[e.CATEGORIES]),I1(e)||(e.CATEGORIES=[]),XU(e)||(e.categoryMatches=[]),e$(e)||(e.categoryMatchesMap={})})}function KU(t){Je(t,e=>{e.categoryMatches=[],Je(e.categoryMatchesMap,(A,n)=>{e.categoryMatches.push(C1[n].tokenTypeIdx)})})}function JU(t){Je(t,e=>{P1([],e)})}function P1(t,e){Je(t,A=>{e.categoryMatchesMap[A.tokenTypeIdx]=!0}),Je(e.CATEGORIES,A=>{const n=t.concat(e);un(n,A)||P1(n,A)})}function R1(t){return qe(t,"tokenTypeIdx")}function I1(t){return qe(t,"CATEGORIES")}function XU(t){return qe(t,"categoryMatches")}function e$(t){return qe(t,"categoryMatchesMap")}function t$(t){return qe(t,"tokenTypeIdx")}const A$={buildUnableToPopLexerModeMessage(t){return`Unable to pop Lexer Mode after encountering Token ->${t.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(t,e,A,n,r,s){return`unexpected character: ->${t.charAt(e)}<- at offset: ${e}, skipped ${A} characters.`}};var aA;(function(t){t[t.MISSING_PATTERN=0]="MISSING_PATTERN",t[t.INVALID_PATTERN=1]="INVALID_PATTERN",t[t.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",t[t.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",t[t.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",t[t.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",t[t.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",t[t.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",t[t.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",t[t.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",t[t.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",t[t.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",t[t.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",t[t.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",t[t.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",t[t.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",t[t.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",t[t.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(aA||(aA={}));const vl={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:A$,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(vl);let jA=class{constructor(e,A=vl){if(this.lexerDefinition=e,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${r}>`);const{time:o,value:a}=x1(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${i}<-- <${r}> time: ${o}ms`),this.traceInitIndent--,a}else return s()},typeof A=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=Bn({},vl,A);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===vl.lineTerminatorsPattern)this.config.lineTerminatorsPattern=FU;else if(this.config.lineTerminatorCharacters===vl.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(A.safeMode&&A.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),gt(e)?r={modes:{defaultMode:VA(e)},defaultMode:Gl}:(s=!1,r=VA(e))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(HU(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(LU(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},Je(r.modes,(o,a)=>{r.modes[a]=Vh(o,c=>Hs(c))});const i=hr(r.modes);if(Je(r.modes,(o,a)=>{this.TRACE_INIT(`Mode: <${a}> processing`,()=>{if(this.modes.push(a),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(DU(o,i))}),It(this.lexerDefinitionErrors)){Dl(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=yU(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:A.positionTracking,ensureOptimizations:A.ensureOptimizations,safeMode:A.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[a]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[a]=c.charCodeToPatternIdxToConfig,this.emptyGroups=Bn({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[a]=c.canBeOptimized}})}),this.defaultMode=r.defaultMode,!It(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const a=ze(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+a)}Je(this.lexerDefinitionWarning,o=>{_1(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(E1?(this.chopInput=Ga,this.match=this.matchWithTest):(this.updateLastIndex=TA,this.match=this.matchWithExec),s&&(this.handleModes=TA),this.trackStartLines===!1&&(this.computeNewColumn=Ga),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=TA),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=En(this.canModeBeOptimized,(a,c,l)=>(c===!1&&a.push(l),a),[]);if(A.ensureOptimizations&&!It(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{_U()}),this.TRACE_INIT("toFastProperties",()=>{G1(this)})})}tokenize(e,A=this.defaultMode){if(!It(this.lexerDefinitionErrors)){const r=ze(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(e,A)}tokenizeInternal(e,A){let n,r,s,i,o,a,c,l,u,h,f,d,m,p,g;const w=e,x=w.length;let v=0,b=0;const T=this.hasCustom?0:Math.floor(e.length/10),M=new Array(T),B=[];let Z=this.trackStartLines?1:void 0,S=this.trackStartLines?1:void 0;const C=UU(this.emptyGroups),k=this.trackStartLines,N=this.config.lineTerminatorsPattern;let y=0,I=[],U=[];const j=[],F=[];Object.freeze(F);let V;function W(){return I}function O(de){const be=wi(de),me=U[be];return me===void 0?F:me}const R=de=>{if(j.length===1&&de.tokenType.PUSH_MODE===void 0){const be=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(de);B.push({offset:de.startOffset,line:de.startLine,column:de.startColumn,length:de.image.length,message:be})}else{j.pop();const be=uo(j);I=this.patternIdxToConfig[be],U=this.charCodeToPatternIdxToConfig[be],y=I.length;const me=this.canModeBeOptimized[be]&&this.config.safeMode===!1;U&&me?V=O:V=W}};function Ae(de){j.push(de),U=this.charCodeToPatternIdxToConfig[de],I=this.patternIdxToConfig[de],y=I.length,y=I.length;const be=this.canModeBeOptimized[de]&&this.config.safeMode===!1;U&&be?V=O:V=W}Ae.call(this,A);let K;const ee=this.config.recoveryEnabled;for(;v<x;){a=null;const de=w.charCodeAt(v),be=V(de),me=be.length;for(n=0;n<me;n++){K=be[n];const _e=K.pattern;c=null;const ke=K.short;if(ke!==!1?de===ke&&(a=_e):K.isCustom===!0?(g=_e.exec(w,v,M,C),g!==null?(a=g[0],g.payload!==void 0&&(c=g.payload)):a=null):(this.updateLastIndex(_e,v),a=this.match(_e,e,v)),a!==null){if(o=K.longerAlt,o!==void 0){const Ye=o.length;for(s=0;s<Ye;s++){const Pe=I[o[s]],$e=Pe.pattern;if(l=null,Pe.isCustom===!0?(g=$e.exec(w,v,M,C),g!==null?(i=g[0],g.payload!==void 0&&(l=g.payload)):i=null):(this.updateLastIndex($e,v),i=this.match($e,e,v)),i&&i.length>a.length){a=i,c=l,K=Pe;break}}}break}}if(a!==null){if(u=a.length,h=K.group,h!==void 0&&(f=K.tokenTypeIdx,d=this.createTokenInstance(a,v,f,K.tokenType,Z,S,u),this.handlePayload(d,c),h===!1?b=this.addToken(M,b,d):C[h].push(d)),e=this.chopInput(e,u),v=v+u,S=this.computeNewColumn(S,u),k===!0&&K.canLineTerminator===!0){let _e=0,ke,Ye;N.lastIndex=0;do ke=N.test(a),ke===!0&&(Ye=N.lastIndex-1,_e++);while(ke===!0);_e!==0&&(Z=Z+_e,S=u-Ye,this.updateTokenEndLineColumnLocation(d,h,Ye,_e,Z,S,u))}this.handleModes(K,R,Ae,d)}else{const _e=v,ke=Z,Ye=S;let Pe=ee===!1;for(;Pe===!1&&v<x;)for(e=this.chopInput(e,1),v++,r=0;r<y;r++){const $e=I[r],Y=$e.pattern,J=$e.short;if(J!==!1?w.charCodeAt(v)===J&&(Pe=!0):$e.isCustom===!0?Pe=Y.exec(w,v,M,C)!==null:(this.updateLastIndex(Y,v),Pe=Y.exec(e)!==null),Pe===!0)break}if(m=v-_e,S=this.computeNewColumn(S,m),p=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(w,_e,m,ke,Ye,uo(j)),B.push({offset:_e,line:ke,column:Ye,length:m,message:p}),ee===!1)break}}return this.hasCustom||(M.length=b),{tokens:M,groups:C,errors:B}}handleModes(e,A,n,r){if(e.pop===!0){const s=e.push;A(r),s!==void 0&&n.call(this,s)}else e.push!==void 0&&n.call(this,e.push)}chopInput(e,A){return e.substring(A)}updateLastIndex(e,A){e.lastIndex=A}updateTokenEndLineColumnLocation(e,A,n,r,s,i,o){let a,c;A!==void 0&&(a=n===o-1,c=a?-1:0,r===1&&a===!0||(e.endLine=s+c,e.endColumn=i-1+-c))}computeNewColumn(e,A){return e+A}createOffsetOnlyToken(e,A,n,r){return{image:e,startOffset:A,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(e,A,n,r,s,i){return{image:e,startOffset:A,startLine:s,startColumn:i,tokenTypeIdx:n,tokenType:r}}createFullToken(e,A,n,r,s,i,o){return{image:e,startOffset:A,endOffset:A+o-1,startLine:s,endLine:s,startColumn:i,endColumn:i+o-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(e,A,n){return e.push(n),A}addTokenUsingMemberAccess(e,A,n){return e[A]=n,A++,A}handlePayloadNoCustom(e,A){}handlePayloadWithCustom(e,A){A!==null&&(e.payload=A)}matchWithTest(e,A,n){return e.test(A)===!0?A.substring(n,e.lastIndex):null}matchWithExec(e,A){const n=e.exec(A);return n!==null?n[0]:null}};jA.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",jA.NA=/NOT_APPLICABLE/;function Bl(t){return j1(t)?t.LABEL:t.name}function j1(t){return kn(t.LABEL)&&t.LABEL!==""}const n$="parent",z1="categories",H1="label",L1="group",U1="push_mode",$1="pop_mode",F1="longer_alt",V1="line_breaks",W1="start_chars_hint";function hn(t){return r$(t)}function r$(t){const e=t.pattern,A={};if(A.name=t.name,Hs(e)||(A.PATTERN=e),qe(t,n$))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return qe(t,z1)&&(A.CATEGORIES=t[z1]),Dl([A]),qe(t,H1)&&(A.LABEL=t[H1]),qe(t,L1)&&(A.GROUP=t[L1]),qe(t,$1)&&(A.POP_MODE=t[$1]),qe(t,U1)&&(A.PUSH_MODE=t[U1]),qe(t,F1)&&(A.LONGER_ALT=t[F1]),qe(t,V1)&&(A.LINE_BREAKS=t[V1]),qe(t,W1)&&(A.START_CHARS_HINT=t[W1]),A}const mo=hn({name:"EOF",pattern:jA.NA});Dl([mo]);function cf(t,e,A,n,r,s,i,o){return{image:e,startOffset:A,endOffset:n,startLine:r,endLine:s,startColumn:i,endColumn:o,tokenTypeIdx:t.tokenTypeIdx,tokenType:t}}function s$(t,e){return yl(t,e)}const Q1={buildMismatchTokenMessage({expected:t,actual:e,previous:A,ruleName:n}){return`Expecting ${j1(t)?`--> ${Bl(t)} <--`:`token of type --> ${t.name} <--`} but found --> '${e.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:t,ruleName:e}){return"Redundant input, expecting EOF but found: "+t.image},buildNoViableAltMessage({expectedPathsPerAlt:t,actual:e,previous:A,customUserDescription:n,ruleName:r}){const s="Expecting: ",o=`
but found: '`+Zr(e).image+"'";if(n)return s+n+o;{const a=En(t,(h,f)=>h.concat(f),[]),c=ze(a,h=>`[${ze(h,f=>Bl(f)).join(", ")}]`),u=`one of these possible Token sequences:
${ze(c,(h,f)=>`  ${f+1}. ${h}`).join(`
`)}`;return s+u+o}},buildEarlyExitMessage({expectedIterationPaths:t,actual:e,customUserDescription:A,ruleName:n}){const r="Expecting: ",i=`
but found: '`+Zr(e).image+"'";if(A)return r+A+i;{const a=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${ze(t,c=>`[${ze(c,l=>Bl(l)).join(",")}]`).join(" ,")}>`;return r+a+i}}};Object.freeze(Q1);const i$={buildRuleNotFoundError(t,e){return"Invalid grammar, reference to a rule which is not defined: ->"+e.nonTerminalName+`<-
inside top level rule: ->`+t.name+"<-"}},po={buildDuplicateFoundError(t,e){function A(l){return l instanceof eA?l.terminalType.name:l instanceof Nn?l.nonTerminalName:""}const n=t.name,r=Zr(e),s=r.idx,i=gs(r),o=A(r),a=s>0;let c=`->${i}${a?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${e.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(t){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${t.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(t){const e=ze(t.prefixPath,r=>Bl(r)).join(", "),A=t.alternation.idx===0?"":t.alternation.idx;return`Ambiguous alternatives: <${t.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${A}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(t){const e=ze(t.prefixPath,r=>Bl(r)).join(", "),A=t.alternation.idx===0?"":t.alternation.idx;let n=`Ambiguous Alternatives Detected: <${t.ambiguityIndices.join(" ,")}> in <OR${A}> inside <${t.topLevelRule.name}> Rule,
<${e}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(t){let e=gs(t.repetition);return t.repetition.idx!==0&&(e+=t.repetition.idx),`The repetition <${e}> within Rule <${t.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(t){return"deprecated"},buildEmptyAlternationError(t){return`Ambiguous empty alternative: <${t.emptyChoiceIdx+1}> in <OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(t){return`An Alternation cannot have more than 256 alternatives:
<OR${t.alternation.idx}> inside <${t.topLevelRule.name}> Rule.
 has ${t.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(t){const e=t.topLevelRule.name,A=ze(t.leftRecursionPath,s=>s.name),n=`${e} --> ${A.concat([e]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${e}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(t){return"deprecated"},buildDuplicateRuleNameError(t){let e;return t.topLevelRule instanceof va?e=t.topLevelRule.name:e=t.topLevelRule,`Duplicate definition, rule: ->${e}<- is already defined in the grammar: ->${t.grammarName}<-`}};function o$(t,e){const A=new a$(t,e);return A.resolveRefs(),A.errors}class a$ extends ho{constructor(e,A){super(),this.nameToTopRule=e,this.errMsgProvider=A,this.errors=[]}resolveRefs(){Je(GA(this.nameToTopRule),e=>{this.currTopLevel=e,e.accept(this)})}visitNonTerminal(e){const A=this.nameToTopRule[e.nonTerminalName];if(A)e.referencedRule=A;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,e);this.errors.push({message:n,type:fn.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:e.nonTerminalName})}}}class c$ extends Kh{constructor(e,A){super(),this.topProd=e,this.path=A,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=VA(this.path.ruleStack).reverse(),this.occurrenceStack=VA(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(e,A=[]){this.found||super.walk(e,A)}walkProdRef(e,A,n){if(e.referencedRule.name===this.nextProductionName&&e.idx===this.nextProductionOccurrence){const r=A.concat(n);this.updateExpectedNext(),this.walk(e.referencedRule,r)}}updateExpectedNext(){It(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class l$ extends c${constructor(e,A){super(e,A),this.path=A,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(e,A,n){if(this.isAtEndOfPath&&e.terminalType.name===this.nextTerminalName&&e.idx===this.nextTerminalOccurrence&&!this.found){const r=A.concat(n),s=new Tn({definition:r});this.possibleTokTypes=_l(s),this.found=!0}}}class lf extends Kh{constructor(e,A){super(),this.topRule=e,this.occurrence=A,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class u$ extends lf{walkMany(e,A,n){if(e.idx===this.occurrence){const r=Zr(A.concat(n));this.result.isEndOfRule=r===void 0,r instanceof eA&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(e,A,n)}}class q1 extends lf{walkManySep(e,A,n){if(e.idx===this.occurrence){const r=Zr(A.concat(n));this.result.isEndOfRule=r===void 0,r instanceof eA&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(e,A,n)}}class h$ extends lf{walkAtLeastOne(e,A,n){if(e.idx===this.occurrence){const r=Zr(A.concat(n));this.result.isEndOfRule=r===void 0,r instanceof eA&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(e,A,n)}}class K1 extends lf{walkAtLeastOneSep(e,A,n){if(e.idx===this.occurrence){const r=Zr(A.concat(n));this.result.isEndOfRule=r===void 0,r instanceof eA&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(e,A,n)}}function dw(t,e,A=[]){A=VA(A);let n=[],r=0;function s(o){return o.concat(WA(t,r+1))}function i(o){const a=dw(s(o),e,A);return n.concat(a)}for(;A.length<e&&r<t.length;){const o=t[r];if(o instanceof Tn)return i(o.definition);if(o instanceof Nn)return i(o.definition);if(o instanceof Yn)n=i(o.definition);else if(o instanceof ms){const a=o.definition.concat([new YA({definition:o.definition})]);return i(a)}else if(o instanceof ps){const a=[new Tn({definition:o.definition}),new YA({definition:[new eA({terminalType:o.separator})].concat(o.definition)})];return i(a)}else if(o instanceof Pr){const a=o.definition.concat([new YA({definition:[new eA({terminalType:o.separator})].concat(o.definition)})]);n=i(a)}else if(o instanceof YA){const a=o.definition.concat([new YA({definition:o.definition})]);n=i(a)}else{if(o instanceof Rr)return Je(o.definition,a=>{It(a.definition)===!1&&(n=i(a.definition))}),n;if(o instanceof eA)A.push(o.terminalType);else throw Error("non exhaustive match")}r++}return n.push({partialPath:A,suffixDef:WA(t,r)}),n}function J1(t,e,A,n){const r="EXIT_NONE_TERMINAL",s=[r],i="EXIT_ALTERNATIVE";let o=!1;const a=e.length,c=a-n-1,l=[],u=[];for(u.push({idx:-1,def:t,ruleStack:[],occurrenceStack:[]});!It(u);){const h=u.pop();if(h===i){o&&uo(u).idx<=c&&u.pop();continue}const f=h.def,d=h.idx,m=h.ruleStack,p=h.occurrenceStack;if(It(f))continue;const g=f[0];if(g===r){const w={idx:d,def:WA(f),ruleStack:bl(m),occurrenceStack:bl(p)};u.push(w)}else if(g instanceof eA)if(d<a-1){const w=d+1,x=e[w];if(A(x,g.terminalType)){const v={idx:w,def:WA(f),ruleStack:m,occurrenceStack:p};u.push(v)}}else if(d===a-1)l.push({nextTokenType:g.terminalType,nextTokenOccurrence:g.idx,ruleStack:m,occurrenceStack:p}),o=!0;else throw Error("non exhaustive match");else if(g instanceof Nn){const w=VA(m);w.push(g.nonTerminalName);const x=VA(p);x.push(g.idx);const v={idx:d,def:g.definition.concat(s,WA(f)),ruleStack:w,occurrenceStack:x};u.push(v)}else if(g instanceof Yn){const w={idx:d,def:WA(f),ruleStack:m,occurrenceStack:p};u.push(w),u.push(i);const x={idx:d,def:g.definition.concat(WA(f)),ruleStack:m,occurrenceStack:p};u.push(x)}else if(g instanceof ms){const w=new YA({definition:g.definition,idx:g.idx}),x=g.definition.concat([w],WA(f)),v={idx:d,def:x,ruleStack:m,occurrenceStack:p};u.push(v)}else if(g instanceof ps){const w=new eA({terminalType:g.separator}),x=new YA({definition:[w].concat(g.definition),idx:g.idx}),v=g.definition.concat([x],WA(f)),b={idx:d,def:v,ruleStack:m,occurrenceStack:p};u.push(b)}else if(g instanceof Pr){const w={idx:d,def:WA(f),ruleStack:m,occurrenceStack:p};u.push(w),u.push(i);const x=new eA({terminalType:g.separator}),v=new YA({definition:[x].concat(g.definition),idx:g.idx}),b=g.definition.concat([v],WA(f)),T={idx:d,def:b,ruleStack:m,occurrenceStack:p};u.push(T)}else if(g instanceof YA){const w={idx:d,def:WA(f),ruleStack:m,occurrenceStack:p};u.push(w),u.push(i);const x=new YA({definition:g.definition,idx:g.idx}),v=g.definition.concat([x],WA(f)),b={idx:d,def:v,ruleStack:m,occurrenceStack:p};u.push(b)}else if(g instanceof Rr)for(let w=g.definition.length-1;w>=0;w--){const x=g.definition[w],v={idx:d,def:x.definition.concat(WA(f)),ruleStack:m,occurrenceStack:p};u.push(v),u.push(i)}else if(g instanceof Tn)u.push({idx:d,def:g.definition.concat(WA(f)),ruleStack:m,occurrenceStack:p});else if(g instanceof va)u.push(f$(g,d,m,p));else throw Error("non exhaustive match")}return l}function f$(t,e,A,n){const r=VA(A);r.push(t.name);const s=VA(n);return s.push(1),{idx:e,def:t.definition,ruleStack:r,occurrenceStack:s}}var cA;(function(t){t[t.OPTION=0]="OPTION",t[t.REPETITION=1]="REPETITION",t[t.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",t[t.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",t[t.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",t[t.ALTERNATION=5]="ALTERNATION"})(cA||(cA={}));function X1(t){if(t instanceof Yn||t==="Option")return cA.OPTION;if(t instanceof YA||t==="Repetition")return cA.REPETITION;if(t instanceof ms||t==="RepetitionMandatory")return cA.REPETITION_MANDATORY;if(t instanceof ps||t==="RepetitionMandatoryWithSeparator")return cA.REPETITION_MANDATORY_WITH_SEPARATOR;if(t instanceof Pr||t==="RepetitionWithSeparator")return cA.REPETITION_WITH_SEPARATOR;if(t instanceof Rr||t==="Alternation")return cA.ALTERNATION;throw Error("non exhaustive match")}function d$(t,e,A,n,r,s){const i=pw(t,e,A),o=nB(i)?af:yl;return s(i,n,o,r)}function m$(t,e,A,n,r,s){const i=gw(t,e,r,A),o=nB(i)?af:yl;return s(i[0],o,n)}function p$(t,e,A,n){const r=t.length,s=Sr(t,i=>Sr(i,o=>o.length===1));if(e)return function(i){const o=ze(i,a=>a.GATE);for(let a=0;a<r;a++){const c=t[a],l=c.length,u=o[a];if(!(u!==void 0&&u.call(this)===!1))e:for(let h=0;h<l;h++){const f=c[h],d=f.length;for(let m=0;m<d;m++){const p=this.LA(m+1);if(A(p,f[m])===!1)continue e}return a}}};if(s&&!n){const i=ze(t,a=>Vn(a)),o=En(i,(a,c,l)=>(Je(c,u=>{qe(a,u.tokenTypeIdx)||(a[u.tokenTypeIdx]=l),Je(u.categoryMatches,h=>{qe(a,h)||(a[h]=l)})}),a),{});return function(){const a=this.LA(1);return o[a.tokenTypeIdx]}}else return function(){for(let i=0;i<r;i++){const o=t[i],a=o.length;e:for(let c=0;c<a;c++){const l=o[c],u=l.length;for(let h=0;h<u;h++){const f=this.LA(h+1);if(A(f,l[h])===!1)continue e}return i}}}}function g$(t,e,A){const n=Sr(t,s=>s.length===1),r=t.length;if(n&&!A){const s=Vn(t);if(s.length===1&&It(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const i=En(s,(o,a,c)=>(o[a.tokenTypeIdx]=!0,Je(a.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){const o=this.LA(1);return i[o.tokenTypeIdx]===!0}}}else return function(){e:for(let s=0;s<r;s++){const i=t[s],o=i.length;for(let a=0;a<o;a++){const c=this.LA(a+1);if(e(c,i[a])===!1)continue e}return!0}return!1}}class w$ extends Kh{constructor(e,A,n){super(),this.topProd=e,this.targetOccurrence=A,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(e,A,n,r){return e.idx===this.targetOccurrence&&this.targetProdType===A?(this.restDef=n.concat(r),!0):!1}walkOption(e,A,n){this.checkIsTarget(e,cA.OPTION,A,n)||super.walkOption(e,A,n)}walkAtLeastOne(e,A,n){this.checkIsTarget(e,cA.REPETITION_MANDATORY,A,n)||super.walkOption(e,A,n)}walkAtLeastOneSep(e,A,n){this.checkIsTarget(e,cA.REPETITION_MANDATORY_WITH_SEPARATOR,A,n)||super.walkOption(e,A,n)}walkMany(e,A,n){this.checkIsTarget(e,cA.REPETITION,A,n)||super.walkOption(e,A,n)}walkManySep(e,A,n){this.checkIsTarget(e,cA.REPETITION_WITH_SEPARATOR,A,n)||super.walkOption(e,A,n)}}class eB extends ho{constructor(e,A,n){super(),this.targetOccurrence=e,this.targetProdType=A,this.targetRef=n,this.result=[]}checkIsTarget(e,A){e.idx===this.targetOccurrence&&this.targetProdType===A&&(this.targetRef===void 0||e===this.targetRef)&&(this.result=e.definition)}visitOption(e){this.checkIsTarget(e,cA.OPTION)}visitRepetition(e){this.checkIsTarget(e,cA.REPETITION)}visitRepetitionMandatory(e){this.checkIsTarget(e,cA.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(e){this.checkIsTarget(e,cA.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(e){this.checkIsTarget(e,cA.REPETITION_WITH_SEPARATOR)}visitAlternation(e){this.checkIsTarget(e,cA.ALTERNATION)}}function tB(t){const e=new Array(t);for(let A=0;A<t;A++)e[A]=[];return e}function mw(t){let e=[""];for(let A=0;A<t.length;A++){const n=t[A],r=[];for(let s=0;s<e.length;s++){const i=e[s];r.push(i+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const a="_"+n.categoryMatches[o];r.push(i+a)}}e=r}return e}function b$(t,e,A){for(let n=0;n<t.length;n++){if(n===A)continue;const r=t[n];for(let s=0;s<e.length;s++){const i=e[s];if(r[i]===!0)return!1}}return!0}function AB(t,e){const A=ze(t,i=>dw([i],1)),n=tB(A.length),r=ze(A,i=>{const o={};return Je(i,a=>{const c=mw(a.partialPath);Je(c,l=>{o[l]=!0})}),o});let s=A;for(let i=1;i<=e;i++){const o=s;s=tB(o.length);for(let a=0;a<o.length;a++){const c=o[a];for(let l=0;l<c.length;l++){const u=c[l].partialPath,h=c[l].suffixDef,f=mw(u);if(b$(r,f,a)||It(h)||u.length===e){const m=n[a];if(ww(m,u)===!1){m.push(u);for(let p=0;p<f.length;p++){const g=f[p];r[a][g]=!0}}}else{const m=dw(h,i+1,u);s[a]=s[a].concat(m),Je(m,p=>{const g=mw(p.partialPath);Je(g,w=>{r[a][w]=!0})})}}}}return n}function pw(t,e,A,n){const r=new eB(t,cA.ALTERNATION,n);return e.accept(r),AB(r.result,A)}function gw(t,e,A,n){const r=new eB(t,A);e.accept(r);const s=r.result,o=new w$(e,t,A).startWalking(),a=new Tn({definition:s}),c=new Tn({definition:o});return AB([a,c],n)}function ww(t,e){e:for(let A=0;A<t.length;A++){const n=t[A];if(n.length===e.length){for(let r=0;r<n.length;r++){const s=e[r],i=n[r];if((s===i||i.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue e}return!0}}return!1}function _$(t,e){return t.length<e.length&&Sr(t,(A,n)=>{const r=e[n];return A===r||r.categoryMatchesMap[A.tokenTypeIdx]})}function nB(t){return Sr(t,e=>Sr(e,A=>Sr(A,n=>It(n.categoryMatches))))}function x$(t){const e=t.lookaheadStrategy.validate({rules:t.rules,tokenTypes:t.tokenTypes,grammarName:t.grammarName});return ze(e,A=>Object.assign({type:fn.CUSTOM_LOOKAHEAD_VALIDATION},A))}function G$(t,e,A,n){const r=mr(t,a=>M$(a,A)),s=Z$(t,e,A),i=mr(t,a=>T$(a,A)),o=mr(t,a=>v$(a,t,n,A));return r.concat(s,i,o)}function M$(t,e){const A=new D$;t.accept(A);const n=A.allProductions,r=g1(n,y$),s=Cr(r,o=>o.length>1);return ze(GA(s),o=>{const a=Zr(o),c=e.buildDuplicateFoundError(t,o),l=gs(a),u={message:c,type:fn.DUPLICATE_PRODUCTIONS,ruleName:t.name,dslName:l,occurrence:a.idx},h=rB(a);return h&&(u.parameter=h),u})}function y$(t){return`${gs(t)}_#_${t.idx}_#_${rB(t)}`}function rB(t){return t instanceof eA?t.terminalType.name:t instanceof Nn?t.nonTerminalName:""}class D$ extends ho{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(e){this.allProductions.push(e)}visitOption(e){this.allProductions.push(e)}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}visitAlternation(e){this.allProductions.push(e)}visitTerminal(e){this.allProductions.push(e)}}function v$(t,e,A,n){const r=[];if(En(e,(i,o)=>o.name===t.name?i+1:i,0)>1){const i=n.buildDuplicateRuleNameError({topLevelRule:t,grammarName:A});r.push({message:i,type:fn.DUPLICATE_RULE_NAME,ruleName:t.name})}return r}function B$(t,e,A){const n=[];let r;return un(e,t)||(r=`Invalid rule override, rule: ->${t}<- cannot be overridden in the grammar: ->${A}<-as it is not defined in any of the super grammars `,n.push({message:r,type:fn.INVALID_RULE_OVERRIDE,ruleName:t})),n}function sB(t,e,A,n=[]){const r=[],s=uf(e.definition);if(It(s))return[];{const i=t.name;un(s,t)&&r.push({message:A.buildLeftRecursionError({topLevelRule:t,leftRecursionPath:n}),type:fn.LEFT_RECURSION,ruleName:i});const a=Fh(s,n.concat([t])),c=mr(a,l=>{const u=VA(n);return u.push(l),sB(t,l,A,u)});return r.concat(c)}}function uf(t){let e=[];if(It(t))return e;const A=Zr(t);if(A instanceof Nn)e.push(A.referencedRule);else if(A instanceof Tn||A instanceof Yn||A instanceof ms||A instanceof ps||A instanceof Pr||A instanceof YA)e=e.concat(uf(A.definition));else if(A instanceof Rr)e=Vn(ze(A.definition,s=>uf(s.definition)));else if(!(A instanceof eA))throw Error("non exhaustive match");const n=qh(A),r=t.length>1;if(n&&r){const s=WA(t);return e.concat(uf(s))}else return e}class bw extends ho{constructor(){super(...arguments),this.alternations=[]}visitAlternation(e){this.alternations.push(e)}}function k$(t,e){const A=new bw;t.accept(A);const n=A.alternations;return mr(n,s=>{const i=bl(s.definition);return mr(i,(o,a)=>{const c=J1([o],[],yl,1);return It(c)?[{message:e.buildEmptyAlternationError({topLevelRule:t,alternation:s,emptyChoiceIdx:a}),type:fn.NONE_LAST_EMPTY_ALT,ruleName:t.name,occurrence:s.idx,alternative:a+1}]:[]})})}function E$(t,e,A){const n=new bw;t.accept(n);let r=n.alternations;return r=Vh(r,i=>i.ignoreAmbiguities===!0),mr(r,i=>{const o=i.idx,a=i.maxLookahead||e,c=pw(o,t,a,i),l=O$(c,i,t,A),u=S$(c,i,t,A);return l.concat(u)})}class N$ extends ho{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(e){this.allProductions.push(e)}visitRepetitionMandatory(e){this.allProductions.push(e)}visitRepetitionMandatoryWithSeparator(e){this.allProductions.push(e)}visitRepetition(e){this.allProductions.push(e)}}function T$(t,e){const A=new bw;t.accept(A);const n=A.alternations;return mr(n,s=>s.definition.length>255?[{message:e.buildTooManyAlternativesError({topLevelRule:t,alternation:s}),type:fn.TOO_MANY_ALTS,ruleName:t.name,occurrence:s.idx}]:[])}function Y$(t,e,A){const n=[];return Je(t,r=>{const s=new N$;r.accept(s);const i=s.allProductions;Je(i,o=>{const a=X1(o),c=o.maxLookahead||e,l=o.idx,h=gw(l,r,a,c)[0];if(It(Vn(h))){const f=A.buildEmptyRepetitionError({topLevelRule:r,repetition:o});n.push({message:f,type:fn.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),n}function O$(t,e,A,n){const r=[],s=En(t,(o,a,c)=>(e.definition[c].ignoreAmbiguities===!0||Je(a,l=>{const u=[c];Je(t,(h,f)=>{c!==f&&ww(h,l)&&e.definition[f].ignoreAmbiguities!==!0&&u.push(f)}),u.length>1&&!ww(r,l)&&(r.push(l),o.push({alts:u,path:l}))}),o),[]);return ze(s,o=>{const a=ze(o.alts,l=>l+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:A,alternation:e,ambiguityIndices:a,prefixPath:o.path}),type:fn.AMBIGUOUS_ALTS,ruleName:A.name,occurrence:e.idx,alternatives:o.alts}})}function S$(t,e,A,n){const r=En(t,(i,o,a)=>{const c=ze(o,l=>({idx:a,path:l}));return i.concat(c)},[]);return wl(mr(r,i=>{if(e.definition[i.idx].ignoreAmbiguities===!0)return[];const a=i.idx,c=i.path,l=dr(r,h=>e.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<a&&_$(h.path,c));return ze(l,h=>{const f=[h.idx+1,a+1],d=e.idx===0?"":e.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:A,alternation:e,ambiguityIndices:f,prefixPath:h.path}),type:fn.AMBIGUOUS_PREFIX_ALTS,ruleName:A.name,occurrence:d,alternatives:f}})}))}function Z$(t,e,A){const n=[],r=ze(e,s=>s.name);return Je(t,s=>{const i=s.name;if(un(r,i)){const o=A.buildNamespaceConflictError(s);n.push({message:o,type:fn.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:i})}}),n}function C$(t){const e=sw(t,{errMsgProvider:i$}),A={};return Je(t.rules,n=>{A[n.name]=n}),o$(A,e.errMsgProvider)}function P$(t){return t=sw(t,{errMsgProvider:po}),G$(t.rules,t.tokenTypes,t.errMsgProvider,t.grammarName)}const iB="MismatchedTokenException",oB="NoViableAltException",aB="EarlyExitException",cB="NotAllInputParsedException",lB=[iB,oB,aB,cB];Object.freeze(lB);function hf(t){return un(lB,t.name)}class ff extends Error{constructor(e,A){super(e),this.token=A,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class uB extends ff{constructor(e,A,n){super(e,A),this.previousToken=n,this.name=iB}}class R$ extends ff{constructor(e,A,n){super(e,A),this.previousToken=n,this.name=oB}}class I$ extends ff{constructor(e,A){super(e,A),this.name=cB}}class j$ extends ff{constructor(e,A,n){super(e,A),this.previousToken=n,this.name=aB}}const _w={},hB="InRuleRecoveryException";class z$ extends Error{constructor(e){super(e),this.name=hB}}class H${initRecoverable(e){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=qe(e,"recoveryEnabled")?e.recoveryEnabled:Ls.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=L$)}getTokenToInsert(e){const A=cf(e,"",NaN,NaN,NaN,NaN,NaN,NaN);return A.isInsertedInRecovery=!0,A}canTokenTypeBeInsertedInRecovery(e){return!0}canTokenTypeBeDeletedInRecovery(e){return!0}tryInRepetitionRecovery(e,A,n,r){const s=this.findReSyncTokenType(),i=this.exportLexerState(),o=[];let a=!1;const c=this.LA(1);let l=this.LA(1);const u=()=>{const h=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:h,ruleName:this.getCurrRuleFullName()}),d=new uB(f,c,this.LA(0));d.resyncedTokens=bl(o),this.SAVE_ERROR(d)};for(;!a;)if(this.tokenMatcher(l,r)){u();return}else if(n.call(this)){u(),e.apply(this,A);return}else this.tokenMatcher(l,s)?a=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o));this.importLexerState(i)}shouldInRepetitionRecoveryBeTried(e,A,n){return!(n===!1||this.tokenMatcher(this.LA(1),e)||this.isBackTracking()||this.canPerformInRuleRecovery(e,this.getFollowsForInRuleRecovery(e,A)))}getFollowsForInRuleRecovery(e,A){const n=this.getCurrentGrammarPath(e,A);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(e,A){if(this.canRecoverWithSingleTokenInsertion(e,A))return this.getTokenToInsert(e);if(this.canRecoverWithSingleTokenDeletion(e)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new z$("sad sad panda")}canPerformInRuleRecovery(e,A){return this.canRecoverWithSingleTokenInsertion(e,A)||this.canRecoverWithSingleTokenDeletion(e)}canRecoverWithSingleTokenInsertion(e,A){if(!this.canTokenTypeBeInsertedInRecovery(e)||It(A))return!1;const n=this.LA(1);return Da(A,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(e){return this.canTokenTypeBeDeletedInRecovery(e)?this.tokenMatcher(this.LA(2),e):!1}isInCurrentRuleReSyncSet(e){const A=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(A);return un(n,e)}findReSyncTokenType(){const e=this.flattenFollowSet();let A=this.LA(1),n=2;for(;;){const r=Da(e,s=>s$(A,s));if(r!==void 0)return r;A=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return _w;const e=this.getLastExplicitRuleShortName(),A=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(e),idxInCallingRule:A,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const e=this.RULE_STACK,A=this.RULE_OCCURRENCE_STACK;return ze(e,(n,r)=>r===0?_w:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:A[r],inRule:this.shortRuleNameToFullName(e[r-1])})}flattenFollowSet(){const e=ze(this.buildFullFollowKeyStack(),A=>this.getFollowSetFromFollowKey(A));return Vn(e)}getFollowSetFromFollowKey(e){if(e===_w)return[mo];const A=e.ruleName+e.idxInCallingRule+y1+e.inRule;return this.resyncFollows[A]}addToResyncTokens(e,A){return this.tokenMatcher(e,mo)||A.push(e),A}reSyncTo(e){const A=[];let n=this.LA(1);for(;this.tokenMatcher(n,e)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,A);return bl(A)}attemptInRepetitionRecovery(e,A,n,r,s,i,o){}getCurrentGrammarPath(e,A){const n=this.getHumanReadableRuleStack(),r=VA(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:r,lastTok:e,lastTokOccurrence:A}}getHumanReadableRuleStack(){return ze(this.RULE_STACK,e=>this.shortRuleNameToFullName(e))}}function L$(t,e,A,n,r,s,i){const o=this.getKeyForAutomaticLookahead(n,r);let a=this.firstAfterRepMap[o];if(a===void 0){const h=this.getCurrRuleFullName(),f=this.getGAstProductions()[h];a=new s(f,r).startWalking(),this.firstAfterRepMap[o]=a}let c=a.token,l=a.occurrence;const u=a.isEndOfRule;this.RULE_STACK.length===1&&u&&c===void 0&&(c=mo,l=1),!(c===void 0||l===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,l,i)&&this.tryInRepetitionRecovery(t,e,A,c)}const U$=4,bi=8,fB=1<<bi,dB=2<<bi,xw=3<<bi,Gw=4<<bi,Mw=5<<bi,df=6<<bi;function yw(t,e,A){return A|e|t}class $${constructor(e){var A;this.maxLookahead=(A=e?.maxLookahead)!==null&&A!==void 0?A:Ls.maxLookahead}validate(e){const A=this.validateNoLeftRecursion(e.rules);if(It(A)){const n=this.validateEmptyOrAlternatives(e.rules),r=this.validateAmbiguousAlternationAlternatives(e.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(e.rules,this.maxLookahead);return[...A,...n,...r,...s]}return A}validateNoLeftRecursion(e){return mr(e,A=>sB(A,A,po))}validateEmptyOrAlternatives(e){return mr(e,A=>k$(A,po))}validateAmbiguousAlternationAlternatives(e,A){return mr(e,n=>E$(n,A,po))}validateSomeNonEmptyLookaheadPath(e,A){return Y$(e,A,po)}buildLookaheadForAlternation(e){return d$(e.prodOccurrence,e.rule,e.maxLookahead,e.hasPredicates,e.dynamicTokensEnabled,p$)}buildLookaheadForOptional(e){return m$(e.prodOccurrence,e.rule,e.maxLookahead,e.dynamicTokensEnabled,X1(e.prodType),g$)}}class F${initLooksAhead(e){this.dynamicTokensEnabled=qe(e,"dynamicTokensEnabled")?e.dynamicTokensEnabled:Ls.dynamicTokensEnabled,this.maxLookahead=qe(e,"maxLookahead")?e.maxLookahead:Ls.maxLookahead,this.lookaheadStrategy=qe(e,"lookaheadStrategy")?e.lookaheadStrategy:new $$({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(e){Je(e,A=>{this.TRACE_INIT(`${A.name} Rule Lookahead`,()=>{const{alternation:n,repetition:r,option:s,repetitionMandatory:i,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:a}=W$(A);Je(n,c=>{const l=c.idx===0?"":c.idx;this.TRACE_INIT(`${gs(c)}${l}`,()=>{const u=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:A,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),h=yw(this.fullRuleNameToShort[A.name],fB,c.idx);this.setLaFuncCache(h,u)})}),Je(r,c=>{this.computeLookaheadFunc(A,c.idx,xw,"Repetition",c.maxLookahead,gs(c))}),Je(s,c=>{this.computeLookaheadFunc(A,c.idx,dB,"Option",c.maxLookahead,gs(c))}),Je(i,c=>{this.computeLookaheadFunc(A,c.idx,Gw,"RepetitionMandatory",c.maxLookahead,gs(c))}),Je(o,c=>{this.computeLookaheadFunc(A,c.idx,df,"RepetitionMandatoryWithSeparator",c.maxLookahead,gs(c))}),Je(a,c=>{this.computeLookaheadFunc(A,c.idx,Mw,"RepetitionWithSeparator",c.maxLookahead,gs(c))})})})}computeLookaheadFunc(e,A,n,r,s,i){this.TRACE_INIT(`${i}${A===0?"":A}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:A,rule:e,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),a=yw(this.fullRuleNameToShort[e.name],n,A);this.setLaFuncCache(a,o)})}getKeyForAutomaticLookahead(e,A){const n=this.getLastExplicitRuleShortName();return yw(n,e,A)}getLaFuncFromCache(e){return this.lookAheadFuncsCache.get(e)}setLaFuncCache(e,A){this.lookAheadFuncsCache.set(e,A)}}class V$ extends ho{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(e){this.dslMethods.option.push(e)}visitRepetitionWithSeparator(e){this.dslMethods.repetitionWithSeparator.push(e)}visitRepetitionMandatory(e){this.dslMethods.repetitionMandatory.push(e)}visitRepetitionMandatoryWithSeparator(e){this.dslMethods.repetitionMandatoryWithSeparator.push(e)}visitRepetition(e){this.dslMethods.repetition.push(e)}visitAlternation(e){this.dslMethods.alternation.push(e)}}const mf=new V$;function W$(t){mf.reset(),t.accept(mf);const e=mf.dslMethods;return mf.reset(),e}function mB(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.endOffset=e.endOffset):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset)}function pB(t,e){isNaN(t.startOffset)===!0?(t.startOffset=e.startOffset,t.startColumn=e.startColumn,t.startLine=e.startLine,t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine):t.endOffset<e.endOffset&&(t.endOffset=e.endOffset,t.endColumn=e.endColumn,t.endLine=e.endLine)}function Q$(t,e,A){t.children[A]===void 0?t.children[A]=[e]:t.children[A].push(e)}function q$(t,e,A){t.children[e]===void 0?t.children[e]=[A]:t.children[e].push(A)}const K$="name";function gB(t,e){Object.defineProperty(t,K$,{enumerable:!1,configurable:!0,writable:!1,value:e})}function J$(t,e){const A=hr(t),n=A.length;for(let r=0;r<n;r++){const s=A[r],i=t[s],o=i.length;for(let a=0;a<o;a++){const c=i[a];c.tokenTypeIdx===void 0&&this[c.name](c.children,e)}}}function X$(t,e){const A=function(){};gB(A,t+"BaseSemantics");const n={visit:function(r,s){if(gt(r)&&(r=r[0]),!Hs(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=tF(this,e);if(!It(r)){const s=ze(r,i=>i.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return A.prototype=n,A.prototype.constructor=A,A._RULE_NAMES=e,A}function eF(t,e,A){const n=function(){};gB(n,t+"BaseSemanticsWithDefaults");const r=Object.create(A.prototype);return Je(e,s=>{r[s]=J$}),n.prototype=r,n.prototype.constructor=n,n}var Dw;(function(t){t[t.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",t[t.MISSING_METHOD=1]="MISSING_METHOD"})(Dw||(Dw={}));function tF(t,e){return AF(t,e)}function AF(t,e){const A=dr(e,r=>Rs(t[r])===!1),n=ze(A,r=>({msg:`Missing visitor method: <${r}> on ${t.constructor.name} CST Visitor.`,type:Dw.MISSING_METHOD,methodName:r}));return wl(n)}class nF{initTreeBuilder(e){if(this.CST_STACK=[],this.outputCst=e.outputCst,this.nodeLocationTracking=qe(e,"nodeLocationTracking")?e.nodeLocationTracking:Ls.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=TA,this.cstFinallyStateUpdate=TA,this.cstPostTerminal=TA,this.cstPostNonTerminal=TA,this.cstPostRule=TA;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=pB,this.setNodeLocationFromNode=pB,this.cstPostRule=TA,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=TA,this.setNodeLocationFromNode=TA,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=mB,this.setNodeLocationFromNode=mB,this.cstPostRule=TA,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=TA,this.setNodeLocationFromNode=TA,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=TA,this.setNodeLocationFromNode=TA,this.cstPostRule=TA,this.setInitialNodeLocation=TA;else throw Error(`Invalid <nodeLocationTracking> config option: "${e.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(e){e.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(e){e.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(e){e.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(e){const A=this.LA(1);e.location={startOffset:A.startOffset,startLine:A.startLine,startColumn:A.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(e){const A={name:e,children:Object.create(null)};this.setInitialNodeLocation(A),this.CST_STACK.push(A)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(e){const A=this.LA(0),n=e.location;n.startOffset<=A.startOffset?(n.endOffset=A.endOffset,n.endLine=A.endLine,n.endColumn=A.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(e){const A=this.LA(0),n=e.location;n.startOffset<=A.startOffset?n.endOffset=A.endOffset:n.startOffset=NaN}cstPostTerminal(e,A){const n=this.CST_STACK[this.CST_STACK.length-1];Q$(n,A,e),this.setNodeLocationFromToken(n.location,A)}cstPostNonTerminal(e,A){const n=this.CST_STACK[this.CST_STACK.length-1];q$(n,A,e),this.setNodeLocationFromNode(n.location,e.location)}getBaseCstVisitorConstructor(){if(Hs(this.baseCstVisitorConstructor)){const e=X$(this.className,hr(this.gastProductionsCache));return this.baseCstVisitorConstructor=e,e}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Hs(this.baseCstVisitorWithDefaultsConstructor)){const e=eF(this.className,hr(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=e,e}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-1]}getPreviousExplicitRuleShortName(){const e=this.RULE_STACK;return e[e.length-2]}getLastExplicitRuleOccurrenceIndex(){const e=this.RULE_OCCURRENCE_STACK;return e[e.length-1]}}class rF{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(e){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=e,this.tokVectorLength=e.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):wf}LA(e){const A=this.currIdx+e;return A<0||this.tokVectorLength<=A?wf:this.tokVector[A]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(e){this.currIdx=e}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class sF{ACTION(e){return e.call(this)}consume(e,A,n){return this.consumeInternal(A,e,n)}subrule(e,A,n){return this.subruleInternal(A,e,n)}option(e,A){return this.optionInternal(A,e)}or(e,A){return this.orInternal(A,e)}many(e,A){return this.manyInternal(e,A)}atLeastOne(e,A){return this.atLeastOneInternal(e,A)}CONSUME(e,A){return this.consumeInternal(e,0,A)}CONSUME1(e,A){return this.consumeInternal(e,1,A)}CONSUME2(e,A){return this.consumeInternal(e,2,A)}CONSUME3(e,A){return this.consumeInternal(e,3,A)}CONSUME4(e,A){return this.consumeInternal(e,4,A)}CONSUME5(e,A){return this.consumeInternal(e,5,A)}CONSUME6(e,A){return this.consumeInternal(e,6,A)}CONSUME7(e,A){return this.consumeInternal(e,7,A)}CONSUME8(e,A){return this.consumeInternal(e,8,A)}CONSUME9(e,A){return this.consumeInternal(e,9,A)}SUBRULE(e,A){return this.subruleInternal(e,0,A)}SUBRULE1(e,A){return this.subruleInternal(e,1,A)}SUBRULE2(e,A){return this.subruleInternal(e,2,A)}SUBRULE3(e,A){return this.subruleInternal(e,3,A)}SUBRULE4(e,A){return this.subruleInternal(e,4,A)}SUBRULE5(e,A){return this.subruleInternal(e,5,A)}SUBRULE6(e,A){return this.subruleInternal(e,6,A)}SUBRULE7(e,A){return this.subruleInternal(e,7,A)}SUBRULE8(e,A){return this.subruleInternal(e,8,A)}SUBRULE9(e,A){return this.subruleInternal(e,9,A)}OPTION(e){return this.optionInternal(e,0)}OPTION1(e){return this.optionInternal(e,1)}OPTION2(e){return this.optionInternal(e,2)}OPTION3(e){return this.optionInternal(e,3)}OPTION4(e){return this.optionInternal(e,4)}OPTION5(e){return this.optionInternal(e,5)}OPTION6(e){return this.optionInternal(e,6)}OPTION7(e){return this.optionInternal(e,7)}OPTION8(e){return this.optionInternal(e,8)}OPTION9(e){return this.optionInternal(e,9)}OR(e){return this.orInternal(e,0)}OR1(e){return this.orInternal(e,1)}OR2(e){return this.orInternal(e,2)}OR3(e){return this.orInternal(e,3)}OR4(e){return this.orInternal(e,4)}OR5(e){return this.orInternal(e,5)}OR6(e){return this.orInternal(e,6)}OR7(e){return this.orInternal(e,7)}OR8(e){return this.orInternal(e,8)}OR9(e){return this.orInternal(e,9)}MANY(e){this.manyInternal(0,e)}MANY1(e){this.manyInternal(1,e)}MANY2(e){this.manyInternal(2,e)}MANY3(e){this.manyInternal(3,e)}MANY4(e){this.manyInternal(4,e)}MANY5(e){this.manyInternal(5,e)}MANY6(e){this.manyInternal(6,e)}MANY7(e){this.manyInternal(7,e)}MANY8(e){this.manyInternal(8,e)}MANY9(e){this.manyInternal(9,e)}MANY_SEP(e){this.manySepFirstInternal(0,e)}MANY_SEP1(e){this.manySepFirstInternal(1,e)}MANY_SEP2(e){this.manySepFirstInternal(2,e)}MANY_SEP3(e){this.manySepFirstInternal(3,e)}MANY_SEP4(e){this.manySepFirstInternal(4,e)}MANY_SEP5(e){this.manySepFirstInternal(5,e)}MANY_SEP6(e){this.manySepFirstInternal(6,e)}MANY_SEP7(e){this.manySepFirstInternal(7,e)}MANY_SEP8(e){this.manySepFirstInternal(8,e)}MANY_SEP9(e){this.manySepFirstInternal(9,e)}AT_LEAST_ONE(e){this.atLeastOneInternal(0,e)}AT_LEAST_ONE1(e){return this.atLeastOneInternal(1,e)}AT_LEAST_ONE2(e){this.atLeastOneInternal(2,e)}AT_LEAST_ONE3(e){this.atLeastOneInternal(3,e)}AT_LEAST_ONE4(e){this.atLeastOneInternal(4,e)}AT_LEAST_ONE5(e){this.atLeastOneInternal(5,e)}AT_LEAST_ONE6(e){this.atLeastOneInternal(6,e)}AT_LEAST_ONE7(e){this.atLeastOneInternal(7,e)}AT_LEAST_ONE8(e){this.atLeastOneInternal(8,e)}AT_LEAST_ONE9(e){this.atLeastOneInternal(9,e)}AT_LEAST_ONE_SEP(e){this.atLeastOneSepFirstInternal(0,e)}AT_LEAST_ONE_SEP1(e){this.atLeastOneSepFirstInternal(1,e)}AT_LEAST_ONE_SEP2(e){this.atLeastOneSepFirstInternal(2,e)}AT_LEAST_ONE_SEP3(e){this.atLeastOneSepFirstInternal(3,e)}AT_LEAST_ONE_SEP4(e){this.atLeastOneSepFirstInternal(4,e)}AT_LEAST_ONE_SEP5(e){this.atLeastOneSepFirstInternal(5,e)}AT_LEAST_ONE_SEP6(e){this.atLeastOneSepFirstInternal(6,e)}AT_LEAST_ONE_SEP7(e){this.atLeastOneSepFirstInternal(7,e)}AT_LEAST_ONE_SEP8(e){this.atLeastOneSepFirstInternal(8,e)}AT_LEAST_ONE_SEP9(e){this.atLeastOneSepFirstInternal(9,e)}RULE(e,A,n=bf){if(un(this.definedRulesNames,e)){const i={message:po.buildDuplicateRuleNameError({topLevelRule:e,grammarName:this.className}),type:fn.DUPLICATE_RULE_NAME,ruleName:e};this.definitionErrors.push(i)}this.definedRulesNames.push(e);const r=this.defineRule(e,A,n);return this[e]=r,r}OVERRIDE_RULE(e,A,n=bf){const r=B$(e,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(e,A,n);return this[e]=s,s}BACKTRACK(e,A){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return e.apply(this,A),!0}catch(r){if(hf(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return iU(GA(this.gastProductionsCache))}}class iF{initRecognizerEngine(e,A){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=af,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},qe(A,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(gt(e)){if(It(e))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof e[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(gt(e))this.tokensMap=En(e,(s,i)=>(s[i.name]=i,s),{});else if(qe(e,"modes")&&Sr(Vn(GA(e.modes)),t$)){const s=Vn(GA(e.modes)),i=Wh(s);this.tokensMap=En(i,(o,a)=>(o[a.name]=a,o),{})}else if(ur(e))this.tokensMap=VA(e);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=mo;const n=qe(e,"modes")?Vn(GA(e.modes)):GA(e),r=Sr(n,s=>It(s.categoryMatches));this.tokenMatcher=r?af:yl,Dl(GA(this.tokensMap))}defineRule(e,A,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${e}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=qe(n,"resyncEnabled")?n.resyncEnabled:bf.resyncEnabled,s=qe(n,"recoveryValueFunc")?n.recoveryValueFunc:bf.recoveryValueFunc,i=this.ruleShortNameIdx<<U$+bi;this.ruleShortNameIdx++,this.shortRuleNameToFull[i]=e,this.fullRuleNameToShort[e]=i;let o;return this.outputCst===!0?o=function(...l){try{this.ruleInvocationStateUpdate(i,e,this.subruleIdx),A.apply(this,l);const u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,r,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...l){try{return this.ruleInvocationStateUpdate(i,e,this.subruleIdx),A.apply(this,l)}catch(u){return this.invokeRuleCatch(u,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:e,originalGrammarAction:A})}invokeRuleCatch(e,A,n){const r=this.RULE_STACK.length===1,s=A&&!this.isBackTracking()&&this.recoveryEnabled;if(hf(e)){const i=e;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(i.resyncedTokens=this.reSyncTo(o),this.outputCst){const a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}else return n(e);else{if(this.outputCst){const a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,i.partialCstResult=a}throw i}}else{if(r)return this.moveToTerminatedState(),n(e);throw i}}else throw e}optionInternal(e,A){const n=this.getKeyForAutomaticLookahead(dB,A);return this.optionInternalLogic(e,A,n)}optionInternalLogic(e,A,n){let r=this.getLaFuncFromCache(n),s;if(typeof e!="function"){s=e.DEF;const i=e.GATE;if(i!==void 0){const o=r;r=()=>i.call(this)&&o.call(this)}}else s=e;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(e,A){const n=this.getKeyForAutomaticLookahead(Gw,e);return this.atLeastOneInternalLogic(e,A,n)}atLeastOneInternalLogic(e,A,n){let r=this.getLaFuncFromCache(n),s;if(typeof A!="function"){s=A.DEF;const i=A.GATE;if(i!==void 0){const o=r;r=()=>i.call(this)&&o.call(this)}}else s=A;if(r.call(this)===!0){let i=this.doSingleRepetition(s);for(;r.call(this)===!0&&i===!0;)i=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(e,cA.REPETITION_MANDATORY,A.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[e,A],r,Gw,e,h$)}atLeastOneSepFirstInternal(e,A){const n=this.getKeyForAutomaticLookahead(df,e);this.atLeastOneSepFirstInternalLogic(e,A,n)}atLeastOneSepFirstInternalLogic(e,A,n){const r=A.DEF,s=A.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){r.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,r,K1],o,df,e,K1)}else throw this.raiseEarlyExitException(e,cA.REPETITION_MANDATORY_WITH_SEPARATOR,A.ERR_MSG)}manyInternal(e,A){const n=this.getKeyForAutomaticLookahead(xw,e);return this.manyInternalLogic(e,A,n)}manyInternalLogic(e,A,n){let r=this.getLaFuncFromCache(n),s;if(typeof A!="function"){s=A.DEF;const o=A.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=A;let i=!0;for(;r.call(this)===!0&&i===!0;)i=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[e,A],r,xw,e,u$,i)}manySepFirstInternal(e,A){const n=this.getKeyForAutomaticLookahead(Mw,e);this.manySepFirstInternalLogic(e,A,n)}manySepFirstInternalLogic(e,A,n){const r=A.DEF,s=A.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){r.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,s,o,r,q1],o,Mw,e,q1)}}repetitionSepSecondInternal(e,A,n,r,s){for(;n();)this.CONSUME(A),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[e,A,n,r,s],n,df,e,s)}doSingleRepetition(e){const A=this.getLexerPosition();return e.call(this),this.getLexerPosition()>A}orInternal(e,A){const n=this.getKeyForAutomaticLookahead(fB,A),r=gt(e)?e:e.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(i!==void 0)return r[i].ALT.call(this);this.raiseNoAltException(A,e.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const e=this.LA(1),A=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:e,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new I$(A,e))}}subruleInternal(e,A,n){let r;try{const s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=A,r=e.apply(this,s),this.cstPostNonTerminal(r,n!==void 0&&n.LABEL!==void 0?n.LABEL:e.ruleName),r}catch(s){throw this.subruleInternalError(s,n,e.ruleName)}}subruleInternalError(e,A,n){throw hf(e)&&e.partialCstResult!==void 0&&(this.cstPostNonTerminal(e.partialCstResult,A!==void 0&&A.LABEL!==void 0?A.LABEL:n),delete e.partialCstResult),e}consumeInternal(e,A,n){let r;try{const s=this.LA(1);this.tokenMatcher(s,e)===!0?(this.consumeToken(),r=s):this.consumeInternalError(e,s,n)}catch(s){r=this.consumeInternalRecovery(e,A,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:e.name,r),r}consumeInternalError(e,A,n){let r;const s=this.LA(0);throw n!==void 0&&n.ERR_MSG?r=n.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:e,actual:A,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new uB(r,A,s))}consumeInternalRecovery(e,A,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(e,A);try{return this.tryInRuleRecovery(e,r)}catch(s){throw s.name===hB?n:s}}else throw n}saveRecogState(){const e=this.errors,A=VA(this.RULE_STACK);return{errors:e,lexerState:this.exportLexerState(),RULE_STACK:A,CST_STACK:this.CST_STACK}}reloadRecogState(e){this.errors=e.errors,this.importLexerState(e.lexerState),this.RULE_STACK=e.RULE_STACK}ruleInvocationStateUpdate(e,A,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(e),this.cstInvocationStateUpdate(A)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const e=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[e]}shortRuleNameToFullName(e){return this.shortRuleNameToFull[e]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),mo)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class oF{initErrorHandler(e){this._errors=[],this.errorMessageProvider=qe(e,"errorMessageProvider")?e.errorMessageProvider:Ls.errorMessageProvider}SAVE_ERROR(e){if(hf(e))return e.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:VA(this.RULE_OCCURRENCE_STACK)},this._errors.push(e),e;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return VA(this._errors)}set errors(e){this._errors=e}raiseEarlyExitException(e,A,n){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],o=gw(e,s,A,this.maxLookahead)[0],a=[];for(let l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new j$(c,this.LA(1),this.LA(0)))}raiseNoAltException(e,A){const n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],s=pw(e,r,this.maxLookahead),i=[];for(let c=1;c<=this.maxLookahead;c++)i.push(this.LA(c));const o=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:i,previous:o,customUserDescription:A,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new R$(a,this.LA(1),o))}}class aF{initContentAssist(){}computeContentAssist(e,A){const n=this.gastProductionsCache[e];if(Hs(n))throw Error(`Rule ->${e}<- does not exist in this grammar.`);return J1([n],A,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(e){const A=Zr(e.ruleStack),r=this.getGAstProductions()[A];return new l$(r,e).startWalking()}}const pf={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(pf);const wB=!0,bB=Math.pow(2,bi)-1,_B=hn({name:"RECORDING_PHASE_TOKEN",pattern:jA.NA});Dl([_B]);const xB=cf(_B,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(xB);const cF={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class lF{initGastRecorder(e){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let e=0;e<10;e++){const A=e>0?e:"";this[`CONSUME${A}`]=function(n,r){return this.consumeInternalRecord(n,e,r)},this[`SUBRULE${A}`]=function(n,r){return this.subruleInternalRecord(n,e,r)},this[`OPTION${A}`]=function(n){return this.optionInternalRecord(n,e)},this[`OR${A}`]=function(n){return this.orInternalRecord(n,e)},this[`MANY${A}`]=function(n){this.manyInternalRecord(e,n)},this[`MANY_SEP${A}`]=function(n){this.manySepFirstInternalRecord(e,n)},this[`AT_LEAST_ONE${A}`]=function(n){this.atLeastOneInternalRecord(e,n)},this[`AT_LEAST_ONE_SEP${A}`]=function(n){this.atLeastOneSepFirstInternalRecord(e,n)}}this.consume=function(e,A,n){return this.consumeInternalRecord(A,e,n)},this.subrule=function(e,A,n){return this.subruleInternalRecord(A,e,n)},this.option=function(e,A){return this.optionInternalRecord(A,e)},this.or=function(e,A){return this.orInternalRecord(A,e)},this.many=function(e,A){this.manyInternalRecord(e,A)},this.atLeastOne=function(e,A){this.atLeastOneInternalRecord(e,A)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const e=this;for(let A=0;A<10;A++){const n=A>0?A:"";delete e[`CONSUME${n}`],delete e[`SUBRULE${n}`],delete e[`OPTION${n}`],delete e[`OR${n}`],delete e[`MANY${n}`],delete e[`MANY_SEP${n}`],delete e[`AT_LEAST_ONE${n}`],delete e[`AT_LEAST_ONE_SEP${n}`]}delete e.consume,delete e.subrule,delete e.option,delete e.or,delete e.many,delete e.atLeastOne,delete e.ACTION,delete e.BACKTRACK,delete e.LA})}ACTION_RECORD(e){}BACKTRACK_RECORD(e,A){return()=>!0}LA_RECORD(e){return wf}topLevelRuleRecord(e,A){try{const n=new va({definition:[],name:e});return n.name=e,this.recordingProdStack.push(n),A.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(e,A){return kl.call(this,Yn,e,A)}atLeastOneInternalRecord(e,A){kl.call(this,ms,A,e)}atLeastOneSepFirstInternalRecord(e,A){kl.call(this,ps,A,e,wB)}manyInternalRecord(e,A){kl.call(this,YA,A,e)}manySepFirstInternalRecord(e,A){kl.call(this,Pr,A,e,wB)}orInternalRecord(e,A){return uF.call(this,e,A)}subruleInternalRecord(e,A,n){if(gf(A),!e||qe(e,"ruleName")===!1){const o=new Error(`<SUBRULE${GB(A)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=uo(this.recordingProdStack),s=e.ruleName,i=new Nn({idx:A,nonTerminalName:s,label:n?.LABEL,referencedRule:void 0});return r.definition.push(i),this.outputCst?cF:pf}consumeInternalRecord(e,A,n){if(gf(A),!R1(e)){const i=new Error(`<CONSUME${GB(A)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(e)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw i.KNOWN_RECORDER_ERROR=!0,i}const r=uo(this.recordingProdStack),s=new eA({idx:A,terminalType:e,label:n?.LABEL});return r.definition.push(s),xB}}function kl(t,e,A,n=!1){gf(A);const r=uo(this.recordingProdStack),s=Rs(e)?e:e.DEF,i=new t({definition:[],idx:A});return n&&(i.separator=e.SEP),qe(e,"MAX_LOOKAHEAD")&&(i.maxLookahead=e.MAX_LOOKAHEAD),this.recordingProdStack.push(i),s.call(this),r.definition.push(i),this.recordingProdStack.pop(),pf}function uF(t,e){gf(e);const A=uo(this.recordingProdStack),n=gt(t)===!1,r=n===!1?t:t.DEF,s=new Rr({definition:[],idx:e,ignoreAmbiguities:n&&t.IGNORE_AMBIGUITIES===!0});qe(t,"MAX_LOOKAHEAD")&&(s.maxLookahead=t.MAX_LOOKAHEAD);const i=iw(r,o=>Rs(o.GATE));return s.hasPredicates=i,A.definition.push(s),Je(r,o=>{const a=new Tn({definition:[]});s.definition.push(a),qe(o,"IGNORE_AMBIGUITIES")?a.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:qe(o,"GATE")&&(a.ignoreAmbiguities=!0),this.recordingProdStack.push(a),o.ALT.call(this),this.recordingProdStack.pop()}),pf}function GB(t){return t===0?"":`${t}`}function gf(t){if(t<0||t>bB){const e=new Error(`Invalid DSL Method idx value: <${t}>
	Idx value must be a none negative value smaller than ${bB+1}`);throw e.KNOWN_RECORDER_ERROR=!0,e}}class hF{initPerformanceTracer(e){if(qe(e,"traceInitPerf")){const A=e.traceInitPerf,n=typeof A=="number";this.traceInitMaxIdent=n?A:1/0,this.traceInitPerf=n?A>0:A}else this.traceInitMaxIdent=0,this.traceInitPerf=Ls.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(e,A){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${e}>`);const{time:r,value:s}=x1(A),i=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${e}> time: ${r}ms`),this.traceInitIndent--,s}else return A()}}function fF(t,e){e.forEach(A=>{const n=A.prototype;Object.getOwnPropertyNames(n).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(n,r);s&&(s.get||s.set)?Object.defineProperty(t.prototype,r,s):t.prototype[r]=A.prototype[r]})})}const wf=cf(mo,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(wf);const Ls=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:Q1,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),bf=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var fn;(function(t){t[t.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",t[t.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",t[t.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",t[t.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",t[t.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",t[t.LEFT_RECURSION=5]="LEFT_RECURSION",t[t.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",t[t.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",t[t.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",t[t.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",t[t.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",t[t.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",t[t.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",t[t.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(fn||(fn={}));let vw=class OS{static performSelfAnalysis(e){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let e;this.selfAnalysisDone=!0;const A=this.className;this.TRACE_INIT("toFastProps",()=>{G1(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),Je(this.definedRulesNames,r=>{const i=this[r].originalGrammarAction;let o;this.TRACE_INIT(`${r} Rule`,()=>{o=this.topLevelRuleRecord(r,i)}),this.gastProductionsCache[r]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=C$({rules:GA(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(It(n)&&this.skipValidations===!1){const r=P$({rules:GA(this.gastProductionsCache),tokenTypes:GA(this.tokensMap),errMsgProvider:po,grammarName:A}),s=x$({lookaheadStrategy:this.lookaheadStrategy,rules:GA(this.gastProductionsCache),tokenTypes:GA(this.tokensMap),grammarName:A});this.definitionErrors=this.definitionErrors.concat(r,s)}}),It(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=fU(GA(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:GA(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(GA(this.gastProductionsCache))})),!OS.DEFER_DEFINITION_ERRORS_HANDLING&&!It(this.definitionErrors))throw e=ze(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${e.join(`
-------------------------------
`)}`)})}constructor(e,A){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(A),n.initLexerAdapter(),n.initLooksAhead(A),n.initRecognizerEngine(e,A),n.initRecoverable(A),n.initTreeBuilder(A),n.initContentAssist(),n.initGastRecorder(A),n.initPerformanceTracer(A),qe(A,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=qe(A,"skipValidations")?A.skipValidations:Ls.skipValidations}};vw.DEFER_DEFINITION_ERRORS_HANDLING=!1,fF(vw,[H$,F$,nF,rF,iF,sF,oF,aF,lF,hF]);class dF extends vw{constructor(e,A=Ls){const n=VA(A);n.outputCst=!0,super(e,n)}}function mF(t){const e=new pF,A=GA(t);return ze(A,n=>e.visitRule(n))}class pF extends ho{visitRule(e){const A=this.visitEach(e.definition),n=g1(A,s=>s.propertyName),r=ze(n,(s,i)=>{const o=!iw(s,c=>!c.canBeNull);let a=s[0].type;return s.length>1&&(a=ze(s,c=>c.type)),{name:i,type:a,optional:o}});return{name:e.name,properties:r}}visitAlternative(e){return this.visitEachAndOverrideWith(e.definition,{canBeNull:!0})}visitOption(e){return this.visitEachAndOverrideWith(e.definition,{canBeNull:!0})}visitRepetition(e){return this.visitEachAndOverrideWith(e.definition,{canBeNull:!0})}visitRepetitionMandatory(e){return this.visitEach(e.definition)}visitRepetitionMandatoryWithSeparator(e){return this.visitEach(e.definition).concat({propertyName:e.separator.name,canBeNull:!0,type:_f(e.separator)})}visitRepetitionWithSeparator(e){return this.visitEachAndOverrideWith(e.definition,{canBeNull:!0}).concat({propertyName:e.separator.name,canBeNull:!0,type:_f(e.separator)})}visitAlternation(e){return this.visitEachAndOverrideWith(e.definition,{canBeNull:!0})}visitTerminal(e){return[{propertyName:e.label||e.terminalType.name,canBeNull:!1,type:_f(e)}]}visitNonTerminal(e){return[{propertyName:e.label||e.nonTerminalName,canBeNull:!1,type:_f(e)}]}visitEachAndOverrideWith(e,A){return ze(this.visitEach(e),n=>Bn({},n,A))}visitEach(e){return Vn(ze(e,A=>this.visit(A)))}}function _f(t){return t instanceof Nn?{kind:"rule",name:t.referencedRule.name}:{kind:"token"}}function gF(t,e){let A=[];return A=A.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),A=A.concat(Vn(ze(t,n=>wF(n)))),e.includeVisitorInterface&&(A=A.concat(GF(e.visitorInterfaceName,t))),A.join(`

`)+`
`}function wF(t){const e=bF(t),A=_F(t);return[e,A]}function bF(t){const e=yB(t.name),A=Bw(t.name);return`export interface ${e} extends CstNode {
  name: "${t.name}";
  children: ${A};
}`}function _F(t){return`export type ${Bw(t.name)} = {
  ${ze(t.properties,A=>xF(A)).join(`
  `)}
};`}function xF(t){const e=yF(t.type);return`${t.name}${t.optional?"?":""}: ${e}[];`}function GF(t,e){return`export interface ${t}<IN, OUT> extends ICstVisitor<IN, OUT> {
  ${ze(e,A=>MF(A)).join(`
  `)}
}`}function MF(t){const e=Bw(t.name);return`${t.name}(children: ${e}, param?: IN): OUT;`}function yF(t){if(gt(t)){const e=Wh(ze(t,n=>MB(n)));return"("+En(e,(n,r)=>n+" | "+r)+")"}else return MB(t)}function MB(t){return t.kind==="token"?"IToken":yB(t.name)}function yB(t){return Iv(t)+"CstNode"}function Bw(t){return Iv(t)+"CstChildren"}const DF={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function vF(t,e){const A=Object.assign(Object.assign({},DF),e),n=mF(t);return gF(n,A)}const ws=!!JSON.parse("false"),BF=!!JSON.parse("false");JSON.parse("false");const DB=!!JSON.parse("false");JSON.parse("false"),JSON.parse("false"),JSON.parse("false"),JSON.parse("false");const kF={YIELD_AT_COUNT:512},El=sl(32,126).map(t=>String.fromCharCode(t));function it(t){return hn({...t,name:`token_${t.name}`})}function he(t){return it({name:t,pattern:new RegExp(t.toLowerCase(),"i"),longer_alt:mA})}const xf=it({name:"newline",line_breaks:!0,start_chars_hint:[`
`,"\r"],pattern:/\n|\r\n?/}),EF=it({name:"whitespace",pattern:/ +/,group:jA.SKIPPED}),NF=it({name:"whitespace",pattern:/\s+/,line_breaks:!0,group:jA.SKIPPED}),kw=it({name:"stat",pattern:/@.*/,start_chars_hint:["@"]}),ka=it({name:"command",pattern:/#/,start_chars_hint:["#"]});let vB=!1;const TF="@#/?':!",YF=/^(by|at|away|toward|find|flee|to|cw|ccw|opp|rndp)/i;function OF(t,e){if(!vB)return null;let A=e;const n=t[A-1]??"";if(A>0&&n!==" "&&n!==`
`)return null;if(t[A]===" "){for(;t[A]===" ";)A++;if(TF.includes(t[A]))return null}for(;A>0&&`$"@#':!/?
`.includes(t[A])===!1;)A--;switch(t[A]){case"?":case"/":{const i=t.substring(A+1,e+1).toLowerCase();if(i.indexOf(" ")<1||YF.test(i))return null;break}case"#":return null;case'"':{for(A--;A>0&&t[A]===" ";)A--;if(!(A<1||t[A]===`
`))return null;break}case"@":case"'":case":":case"!":return null}let r=e;for(t[r]==='"'&&++r;r<t.length&&t[r]!==`
`;)r++;const s=t.substring(e,r);return s.trim().length===0||s.toLowerCase()==="do"?null:[s]}const BB=it({name:"text",pattern:OF,line_breaks:!1,start_chars_hint:El}),kB=it({name:"comment",pattern:/'.*/,start_chars_hint:["'"]}),Ew=it({name:"label",pattern:/:[^;:\n]*/,start_chars_hint:[":"]}),EB=it({name:"hyperlink",pattern:/![^;\n]*/,start_chars_hint:["!"]}),NB=it({name:"hyperlinktext",pattern:/;[^;\n]*/,start_chars_hint:[";"]}),mA=it({name:"stringliteral",pattern:/[^-0-9"!:;@#/?()\s]+[^-"!:;@#/?()\s]*/,start_chars_hint:El}),Gf=it({name:"stringliteraldouble",pattern:/"(?:[^\\"]|\\(?:[^\n\r]|u[0-9a-fA-F]{4}))*"/}),Nl=it({name:"numberliteral",pattern:/-?(\d*\.)?\d+([eE][+-]?\d+)?[jJ]?[lL]?/}),TB=he("isterrain"),YB=he("isobject"),OB=he("issolid"),SB=he("iswalk"),ZB=he("isswim"),CB=he("isbullet"),PB=he("isghost"),RB=he("iswalking"),IB=he("iswalkable"),jB=he("isswimming"),zB=he("isswimmable"),HB=he("black"),LB=he("dkblue"),UB=he("dkgreen"),$B=he("dkcyan"),FB=he("dkred"),VB=he("dkpurple"),WB=he("dkyellow"),QB=he("ltgray"),qB=he("dkgray"),KB=he("blue"),JB=he("green"),XB=he("cyan"),ek=he("red"),tk=he("purple"),Ak=he("yellow"),nk=he("white"),rk=he("brown"),sk=he("dkwhite"),ik=he("ltgrey"),ok=he("gray"),ak=he("grey"),ck=he("dkgrey"),lk=he("ltblack"),uk=he("onblack"),hk=he("ondkblue"),fk=he("ondkgreen"),dk=he("ondkcyan"),mk=he("ondkred"),pk=he("ondkpurple"),gk=he("ondkyellow"),wk=he("onltgray"),bk=he("ondkgray"),_k=he("onblue"),xk=he("ongreen"),Gk=he("oncyan"),Mk=he("onred"),yk=he("onpurple"),Dk=he("onyellow"),vk=he("onwhite"),Bk=he("onbrown"),kk=he("ondkwhite"),Ek=he("onltgrey"),Nk=he("ongray"),Tk=he("ongrey"),Yk=he("ondkgrey"),Ok=he("onltblack"),Sk=he("onclear"),Zk=he("blblack"),Ck=he("bldkblue"),Pk=he("bldkgreen"),Rk=he("bldkcyan"),Ik=he("bldkred"),jk=he("bldkpurple"),zk=he("bldkyellow"),Hk=he("blltgray"),Lk=he("bldkgray"),Uk=he("blblue"),$k=he("blgreen"),Fk=he("blcyan"),Vk=he("blred"),Wk=he("blpurple"),Qk=he("blyellow"),qk=he("blwhite"),Kk=he("blbrown"),Jk=he("bldkwhite"),Xk=he("blltgrey"),eE=he("blgray"),tE=he("blgrey"),AE=he("bldkgrey"),nE=he("blltblack"),rE=he("idle"),sE=he("up"),iE=he("down"),oE=he("left"),aE=he("right"),cE=he("by"),lE=he("at"),uE=he("flow"),hE=he("seek"),fE=he("rndns"),dE=he("rndne"),mE=he("rnd"),pE=he("cw"),gE=he("ccw"),wE=he("opp"),bE=he("rndp"),_E=he("away"),xE=he("toward"),GE=he("find"),ME=he("flee"),yE=he("to"),DE=he("i"),vE=he("u"),BE=he("north"),kE=he("n"),EE=he("d"),NE=he("south"),TE=he("s"),YE=he("l"),OE=he("west"),SE=he("w"),ZE=he("r"),CE=he("east"),PE=he("e"),RE=he("over"),IE=he("under"),jE=he("ground"),zE=he("within"),HE=he("awayby"),LE=he("elements"),UE=it({name:"expr_aligned",pattern:/aligned|alligned/i,longer_alt:mA}),$E=he("contact"),FE=he("blocked"),VE=he("any"),WE=he("countof"),QE=he("abs"),qE=he("intceil"),KE=he("intfloor"),JE=he("intround"),XE=he("clamp"),e8=he("min"),t8=he("max"),A8=he("pick"),n8=he("pickwith"),r8=he("random"),s8=he("randomwith"),i8=he("run"),o8=he("runwith"),a8=it({name:"stop",pattern:/\|/,start_chars_hint:["|"]}),c8=it({name:"iseq",pattern:/=|is|eq|equal/i,longer_alt:mA}),l8=it({name:"isnoteq",pattern:/!=|not ?eq|not ?equal/i,longer_alt:mA}),u8=it({name:"islessthan",pattern:/<|below/i,longer_alt:mA}),h8=it({name:"isgreaterthan",pattern:/>|above/i,longer_alt:mA}),f8=it({name:"islessthanorequal",pattern:/<=|below ?or ?eq|below ?or ?equal/i,longer_alt:mA}),d8=it({name:"isgreaterthanorequal",pattern:/>=|above ?or ?eq|above ?or ?equal/i,longer_alt:mA}),Nw=it({name:"or",pattern:/or/i,longer_alt:mA}),Tw=it({name:"not",pattern:/not/i,longer_alt:mA}),Yw=it({name:"and",pattern:/and/i,longer_alt:mA}),Ow=it({name:"plus",pattern:/\+/}),Sw=it({name:"minus",pattern:/-/}),m8=it({name:"power",pattern:/\*\*/}),p8=it({name:"multiply",pattern:/\*/}),Zw=it({name:"divide",pattern:/\//}),g8=it({name:"moddivide",pattern:/%/}),w8=it({name:"floordivide",pattern:/%%/}),b8=it({name:"query",pattern:/\?/}),_8=it({name:"lparen",pattern:/\(/,push_mode:"ignore_newlines"}),x8=it({name:"rparen",pattern:/\)/,pop_mode:!0}),G8=it({name:"command_play",pattern:/(play|bgplay|bgplayon64n|bgplayon32n|bgplayon16n|bgplayon8n|bgplayon4n|bgplayon2n|bgplayon1n) .*/i,start_chars_hint:El,longer_alt:mA}),M8=it({name:"command_toast",pattern:/toast .*/i,start_chars_hint:El,longer_alt:mA}),y8=it({name:"command_ticker",pattern:/ticker .*/i,start_chars_hint:El,longer_alt:mA}),Cw=it({name:"if",pattern:/if|try|take|give|duplicate/i,longer_alt:mA}),Mf=it({name:"do",pattern:new RegExp("(?<!(zap |send |restore ))(?<=\\s)do","i"),start_chars_hint:["d"],longer_alt:mA}),Pw=he("done"),Rw=he("else"),D8=he("while"),v8=he("repeat"),B8=he("waitfor"),k8=it({name:"foreach",pattern:/foreach|for/i,longer_alt:mA}),E8=he("break"),N8=he("continue");function T8(t,e){return[...t,iE,...e,Nl,TB,YB,OB,IB,RB,SB,zB,jB,ZB,CB,PB,HB,LB,UB,$B,FB,VB,WB,QB,qB,KB,JB,XB,ek,tk,Ak,nk,rk,sk,ik,ok,ak,ck,lk,uk,hk,fk,dk,mk,pk,gk,wk,bk,_k,xk,Gk,Mk,yk,Dk,vk,Bk,kk,Ek,Nk,Tk,Yk,Ok,Sk,Zk,Ck,Pk,Rk,Ik,jk,zk,Hk,Lk,Uk,$k,Fk,Vk,Wk,Qk,qk,Kk,Jk,Xk,eE,tE,AE,nE,rE,sE,oE,aE,cE,lE,uE,hE,bE,fE,dE,mE,pE,gE,wE,zE,HE,LE,_E,xE,GE,ME,yE,BE,NE,OE,CE,RE,IE,jE,UE,$E,FE,VE,WE,QE,qE,KE,JE,XE,e8,t8,n8,A8,s8,r8,o8,i8,a8,c8,l8,f8,u8,d8,h8,Nw,Tw,Yw,Ow,Sw,m8,p8,Zw,w8,g8,b8,_8,x8,DE,vE,kE,EE,TE,YE,SE,ZE,PE,Gf,mA]}const Y8=T8([BB,kw,G8,M8,y8,ka,kB,Ew,EB,NB,xf,EF],[E8,N8,Pw,Mf,Rw,k8,Cw,v8,B8,D8]),SF=new jA({defaultMode:"use_newlines",modes:{use_newlines:Y8,ignore_newlines:T8([NF],[])}},{skipValidations:!ws,ensureOptimizations:ws,positionTracking:"full"});function O8(t){vB=!0;const e=SF.tokenize(t||` 
`),[A]=(st(e.tokens)?e.tokens:[]).slice(-1);return A&&A.tokenType.name!=="Newline"&&e.tokens.push(cf(xf,`
`,A.startOffset,A.endOffset??NaN,A.startLine??NaN,A.endLine??NaN,A.startColumn??NaN,A.endColumn??NaN)),e}function Iw(t,e,A=!0){if(A){const[n,...r]=e;switch(je(n??"")){default:return{type:Ge.OBJECT,values:e};case"loader":return{type:Ge.LOADER,values:r};case"board":return{type:Ge.BOARD,values:r};case"object":return{type:Ge.OBJECT,values:r};case"terrain":return{type:Ge.TERRAIN,values:r};case"charset":return{type:Ge.CHARSET,values:r};case"palette":return{type:Ge.PALETTE,values:r}}}else{const[n,r,...s]=e,i=je(r??""),o=[n,t,...s];switch(i){default:return{type:Ge.CONST,values:e};case"rn":case"range":return{type:Ge.RANGE,values:o};case"sl":case"select":return{type:Ge.SELECT,values:o};case"nm":case"number":return{type:Ge.NUMBER,values:o};case"tx":case"text":return{type:Ge.TEXT,values:o};case"hk":case"hotkey":return{type:Ge.HOTKEY,values:o};case"copyit":return{type:Ge.COPYIT,values:o};case"openit":return{type:Ge.OPENIT,values:o};case"viewit":return{type:Ge.VIEWIT,values:o};case"runit":return{type:Ge.RUNIT,values:o};case"zssedit":return{type:Ge.ZSSEDIT,values:o};case"charedit":return{type:Ge.CHAREDIT,values:o};case"coloredit":return{type:Ge.COLOREDIT,values:o}}}}function On(t){switch(t){case Ge.LOADER:return"loader";case Ge.BOARD:return"board";case Ge.OBJECT:return"object";case Ge.TERRAIN:return"terrain";case Ge.CHARSET:return"charset";case Ge.PALETTE:return"palette";case Ge.CONST:return"const";case Ge.RANGE:return"range";case Ge.SELECT:return"select";case Ge.NUMBER:return"number";case Ge.TEXT:return"text";case Ge.HOTKEY:return"hotkey";case Ge.COPYIT:return"copyit";case Ge.OPENIT:return"openit";case Ge.VIEWIT:return"viewit";case Ge.RUNIT:return"runit";case Ge.ZSSEDIT:return"zssedit";case Ge.CHAREDIT:return"charedit";case Ge.COLOREDIT:return"coloredit"}}function yf(t,e){const A=Object.keys(t);for(let n=0;n<A.length;++n){const r=A[n],s=t[r];if(st(s)){const[i,...o]=s;switch(i){case"text":G(e[r])||(e[r]="");break;case"range":G(e[r])||(e[r]=4);break;case"number":G(e[r])||(e[r]=0);break;case"select":if(!G(e[r])){const[,a]=o;e[r]=a}break}continue}switch(r){case"name":case"char":case"light":case"group":case"p1":case"p2":case"p3":case"p4":case"p5":case"p6":case"p7":case"p8":case"p9":case"p10":case"cycle":case"stepx":case"stepy":case"shootx":case"shooty":case"displaychar":e[r]=s;break;case"color":case"bg":case"lightdir":case"displaycolor":case"displaybg":e[r]=C8(s)??s;break;case"isitem":e.item=1;break;case"notitem":e.item=0;break;case"ispushable":e.pushable=s===""?1:s;break;case"notpushable":e.pushable=0;break;case"iswalk":case"iswalking":case"iswalkable":e.collision=Fe.ISWALK;break;case"isswim":case"isswimming":case"isswimable":e.collision=Fe.ISSWIM;break;case"issolid":e.collision=Fe.ISSOLID;break;case"isbullet":e.collision=Fe.ISBULLET;break;case"isghost":e.collision=Fe.ISGHOST;break;case"isbreakable":e.breakable=1;break;case"notbreakable":e.breakable=0;break}}}function S8(t){return Cs(t,Eg,{bits:e=>Array.from(e)})}function Z8(t){return tl(t,Eg,{bits:e=>new Uint8Array(e)})}function ZF(t){return Cs(t,Yg,{board:Tce,object:kh,terrain:kh,charset:S8,palette:S8,stats:Ot})}function CF(t){return tl(t,Yg,{board:Oce,object:Eh,terrain:Eh,charset:Z8,palette:Z8})}function pr(t){if(G(t))switch(dn(t)){default:return;case Oe.ERROR:return t.code??"";case Oe.LOADER:return t.code??"";case Oe.BOARD:{G(t.board)||(t.board=L_()),t.board.id=t.id,t.board.name=wt(t);const e=Ea(t),A=Object.keys(e);for(let n=0;n<A.length;++n){const r=A[n],s=e[r];switch(r){case"isdark":t.board.isdark=1;break;case"notdark":t.board.isdark=0;break;case"restartonzap":t.board.restartonzap=1;break;case"norestartonzap":t.board.restartonzap=0;break;case"startx":case"starty":case"facing":case"timelimit":case"maxplayershots":Ne(s)&&(t.board[r]=s);break;case"over":case"under":case"camera":case"graphics":case"charset":case"palette":case"exitnorth":case"exitsouth":case"exitwest":case"exiteast":xe(s)&&(je(s)==="empty"?t.board[r]=void 0:t.board[r]=s);break;case"b1":case"b2":case"b3":case"b4":case"b5":case"b6":case"b7":case"b8":case"b9":case"b10":G(s)&&(t.board[r]=C8(s)??s);break}}return t.board}case Oe.OBJECT:return G(t.object)||(t.object=qD()),t.object.id=t.id,t.object.code=t.code,t.object.name=wt(t),t.object.category=yn.ISOBJECT,yf(Ea(t),t.object),t.object;case Oe.TERRAIN:return G(t.terrain)||(t.terrain=qD()),t.terrain.id=t.id,t.terrain.name=wt(t),t.terrain.category=yn.ISTERRAIN,yf(Ea(t),t.terrain),t.terrain;case Oe.PALETTE:{if(G(t.palette)||(t.palette=ev(Av)),G(t.palette?.bits)){const e=Ea(t),A=Mn(e);for(let n=0;n<A.length;++n){const r=A[n].toLowerCase(),s=e[r];if(r.startsWith("color")&&xe(s)){const i=parseFloat(r.replace("color",""));if(i>=0&&i<=15){Df.set(s);const o=i*Nh,a=Df.r*63,c=Df.g*63,l=Df.b*63;t.palette.bits[o+0]=Yr(a,0,63),t.palette.bits[o+1]=Yr(c,0,63),t.palette.bits[o+2]=Yr(l,0,63)}}}}return t.palette}case Oe.CHARSET:{if(G(t.charset)||(t.charset=tv(r3)),G(t.charset?.bits)){const e=Ea(t),A=Mn(e);for(let n=0;n<A.length;++n){const r=A[n].toLowerCase(),s=e[r];if(r.startsWith("char")&&xe(s)){const i=parseFloat(r.replace("char",""));if(i>=0&&i<=255){const a=[];for(let c=0;c<112;++c)switch(s[c]){case"-":case void 0:a.push(0);break;default:a.push(128);break}n3(Uint8Array.from(a),t.charset,i)}}}}return t.charset}}}function wt(t){return _i(t).name??""}function PF(t,e){return _i(t)[e]}const Df=new Mh;function C8(t){if(!xe(t))return;const e=ba(t);if(G(e)&&G(Xe[e]))return Xe[e];const A=je(t),n=ve[A];if(G(n))return n}function Ea(t){const e={..._i(t)};return Object.keys(e).forEach(A=>{switch(A){case"type":case"name":delete e[A];break}}),e}function _i(t){return G(t)?(G(t.stats?.type)||(t.stats=vf(t.code),G(t.stats.type)||(t.stats.type=Oe.OBJECT)),t.stats):{}}function vf(t){const e=O8(t),A={};let n=!0;for(let r=0;r<e.tokens.length;++r){const s=e.tokens[r];if(s.tokenType===kw){const i=s.image.slice(1),[o,a]=i.split(";").map(h=>h.trim()),c=o.split(" "),l=Iw(xe(a)?a:"",c,n),u=l.values.join(" ");switch(n=!1,l.type){case Ge.LOADER:A.type=Oe.LOADER,A.name=u;break;case Ge.BOARD:A.type=Oe.BOARD,A.name=u;break;case Ge.OBJECT:A.type=Oe.OBJECT,A.name=u||"object";break;case Ge.TERRAIN:A.type=Oe.TERRAIN,A.name=u;break;case Ge.CHARSET:A.type=Oe.CHARSET,A.name=u;break;case Ge.PALETTE:A.type=Oe.PALETTE,A.name=u;break;case Ge.CONST:{const[h,...f]=l.values;if(xe(h)){const d=je(h),m=f.join(" ");if(xe(m)){const p=parseFloat(m);Ne(p)?A[d]=p:A[d]=`${Ct(A[d])}${m}`}else A[d]=1}break}case Ge.RANGE:case Ge.SELECT:case Ge.NUMBER:case Ge.TEXT:case Ge.HOTKEY:case Ge.ZSSEDIT:case Ge.CHAREDIT:case Ge.COLOREDIT:{const[h,...f]=l.values;if(xe(h)){const d=je(h);A[d]=[On(l.type),...f]}break}}}}return A}function dn(t){return _i(t).type??Oe.ERROR}function bs(t){return P8(dn(t))}function RF(t){return G(t)?(t.stats=void 0,_i(t)):{}}function P8(t){switch(t){default:case Oe.ERROR:return"error";case Oe.LOADER:return On(Ge.LOADER);case Oe.BOARD:return On(Ge.BOARD);case Oe.OBJECT:return On(Ge.OBJECT);case Oe.TERRAIN:return On(Ge.TERRAIN);case Oe.CHARSET:return On(Ge.CHARSET);case Oe.PALETTE:return On(Ge.PALETTE)}}function Na(t,e){return{id:sA(),code:t,...e}}function R8(t,e){if(G(e)){const A=Hw(t,Oe.TERRAIN,e.kind??"");if(G(A))return A;const n=Hw(t,Oe.OBJECT,e.kind??"");if(G(n))return n}}function I8(t,e){const A=xi(t,e);if(G(t)&&G(A)){const n=je(e);return t.pages=t.pages.filter(r=>r.id!==e&&n!==wt(r)),z8(t),A}}function j8(t,e){t&&delete t.flags[e]}function pA(t,e=1,A=Xe.WHITE,n=Xe.BLACK){const r=t?.kinddata;return{name:je(t?.name??r?.name),char:t?.displaychar??r?.displaychar??t?.char??r?.char??e,color:t?.displaycolor??r?.displaycolor??t?.color??r?.color??A,bg:t?.displaybg??r?.displaybg??t?.bg??r?.bg??n,light:t?.light??r?.light??0}}function IF(t,e,A){let n=Hw(t,e,A);if(!G(n)){const r=P8(e);return n=Na(r==="object"?`@${A||"object"}
`:`@${r} ${A}
`,{}),_o(t,n),[n,!0]}return[n,!1]}function jF(t){return Cs(t,Tg,{pages:e=>e.map(ZF),flags:e=>{const A=Object.keys(e);for(let n=0;n<A.length;++n){const r=A[n];Object.keys(e[r]).length===0&&delete e[r]}return e}})}function zF(t,e){return!!t?.flags[e]}function jw(t){const e=tl(t,Tg,{pages:A=>A.map(CF)});return G(e)&&delete e.flags.gadgetsync,e}function xi(t,e){if(!G(t))return;const A=je(e);return t.pages.find(r=>r.id===e||A===wt(r))}function HF(t,e){if(!G(t))return[];const A=je(e);return t.pages.filter(r=>{const s=_i(r),i=je(wt(r));return r.id===e||A===i||G(s[e])})}function go(t,e){return G(t)?t.pages.filter(A=>dn(A)===e):[]}function zw(t,e,A){if(!G(t))return[];const n=je(A);return t.pages.filter(s=>dn(s)===e).filter(s=>{const i=_i(s),o=je(wt(s));return s.id===A||n===o||G(i[A])})}function Hw(t,e,A){if(!G(t))return;const n=je(A);return t.pages.find(s=>dn(s)===e&&(s.id===A||n===wt(s)))}function Ta(t,e,A){return wo(t,e)?.[A]}function wo(t,e){return t?(t.flags[e]=t.flags[e]??{},t.flags[e]):{}}function bo(t){return G(t)?JA(t.pages).sort((A,n)=>{const r=dn(A),s=dn(n);return r===s?wt(A).localeCompare(wt(n)):s-r}):[]}function LF(t){G(t)&&(t.name=Bm())}function z8(t){G(t)&&(t.token=`${JS()}${ln(1111,9999)}`)}function _o(t,e){if(!G(t)||!G(e))return!1;const A=xi(t,e.id);return G(A)?!1:(t.pages.push(e),z8(t),!0)}function Tl(t,e,A,n){const r=wo(t,e);return r&&(r[A]=n),n}function Lw(t){return{id:sA(),name:Bm(),timestamp:0,activelist:[],pages:t,flags:{}}}const jt={halt:!1,session:sA(),operator:"",software:{main:"",temp:""},books:new Map,loaders:new Map,topic:""};function UF(){return jt.loaders}function $F(t,e){jt.loaders.set(t,e)}function FF(){return jt.session}function gA(){return jt.operator}function VF(t){return jt.operator===t}function WF(t){jt.operator=t}function QF(){return jt.topic}function qF(t){jt.topic=t}function KF(t){jt.halt=t}function Uw(){return jt.halt}function QA(){return[...jt.books.values()]}function JF(){const[t]=jt.books.values();return t}function Yl(){const t=QA(),e=bt(He.MAIN),[A]=t.filter(n=>n.id!==e?.id);return A??e}function Us(t){const e=je(t);return jt.books.get(t)??QA().find(A=>A.name===e)}function H8(t,e){G(Us(e))&&(jt.software[t]=e)}function bt(t){return Us(jt.software[t])}function XF(t){const e=Lw([]);return xe(t)&&(e.name=t),Bf(e),_A(te,jt.operator,`created [book] ${e.name}`),e}function e7(t){let e=Us(t);return G(e)||(e=Lw([]),e.name=t),Bf(e),_A(te,jt.operator,`created [book] ${e.name}`),e}function zA(t,e){let A=G(e)?e7(e):bt(t);return G(A)||(G(A)||(A=JF()),G(A)||(A=XF(e)),G(A)&&_A(te,jt.operator,`opened [book] ${A.name} for ${t}`)),H8(t,A.id),A}function xo(t,e,A){return IF(zA(t),A,e)}function MA(t,e){const A=bt(He.MAIN),n=ar(zw(A,t,e));if(G(n))return n;const r=QA();for(let s=0;s<r.length;++s){const i=r[s];if(i.id!==A?.id){const o=ar(zw(i,t,e));if(G(o))return o}}}function L8(t){const e=bt(He.MAIN),A=bo(e).filter(r=>dn(r)===t),n=QA();for(let r=0;r<n.length;++r){const s=n[r];s.id!==e?.id&&A.push(...bo(s).filter(i=>dn(i)===t))}return A}function Wn(t){if(G(t?.kinddata))return t.kinddata;if(!xe(t?.kind)||!t.kind)return;const e=MA(Oe.OBJECT,t.kind);if(G(e))return t.kinddata=pr(e),t.kinddata;const A=MA(Oe.TERRAIN,t.kind);if(G(A))return t.kinddata=pr(A),t.kinddata}function We(t,e){const A=t?.kinddata,n=A?.id??"",r=t?.[e];if(G(r))return r;const s=A?.[e];if(G(s))return s;const i=MA(Oe.OBJECT,n)??MA(Oe.TERRAIN,n),o=PF(i,e);if(G(o))return o;switch(e){case"group":return"";case"cycle":return AG;case"p1":case"p2":case"p3":case"p4":case"p5":case"p6":case"p7":case"p8":case"p9":case"p10":case"item":case"pushable":case"breakable":return 0;case"collision":return Fe.ISWALK;default:return}}function $w(t,e){const A={x:t?.x??-1,y:t?.y??-1},n={x:e?.x??-1,y:e?.y??-1},r=cr(A,n),s=We(e,"pushable");return Ne(s)?s!==0:xe(s)?s.trim().split(" ").map(i=>$D(il(i))).some(i=>i===r):!1}function Qn(t,e,A,n){if(!G(t)||!G(e))return;const[r,s]=e,i=MA(Oe.OBJECT,r);if(G(i)){const a=H_(t,A,r,n);if(G(a))return io(a,s),Wn(a),$8(t,a),Fw(t,a),a}const o=MA(Oe.TERRAIN,r);if(G(o)){const a=Zce(t,A,r);if(G(a)){io(a,s),Wn(a);const c=vn(A,Re);return Fw(t,a,c),a}}}function t7(t,e,A){if(!G(t)||!G(e))return;const[n,r]=e,s=MA(Oe.OBJECT,n);if(G(s)){const i=H_(t,A,n);return io(i,r),i}}function lt(t){const e=MA(Oe.BOARD,t);return pr(e)}function A7(t){if(!G(t))return;if(!xe(t.over)){delete t.overboard;return}if(xe(t.overboard)){const A=lt(t.overboard);if(G(A))return A;delete t.overboard;return}const e=lt(t.over);if(G(e))return t.overboard=e.id,e}function n7(t){if(!G(t))return;if(!xe(t.under)){delete t.underboard;return}if(xe(t.underboard)){const A=lt(t.underboard);if(G(A))return A;delete t.underboard;return}const e=lt(t.under);if(G(e))return t.underboard=e.id,e}function mn(t){const e=zA(He.MAIN);return wo(e,t)}function U8(t){const e=zA(He.MAIN);return zF(e,t)}function r7(t){const e=zA(He.MAIN);return j8(e,t)}function s7(t){if(jt.books.clear(),t.forEach(e=>{jt.books.set(e.id,e),e.name==="main"&&(jt.software.main=e.id)}),!jt.software.main){const e=jt.books.values().next();e.value&&(jt.software.main=e.value.id)}}function Bf(t){return jt.books.set(t.id,t),t.id}function i7(t){const e=Us(t);e&&jt.books.delete(e.id)}function tA(t){if(!G(t))return;for(let A=0;A<t.terrain.length;++A)Wn(t.terrain[A]);const e=Object.keys(t.objects);for(let A=0;A<e.length;++A){const n=e[A];Wn(t.objects[n])}o7(t)}function Fw(t,e,A){if(!G(t)||!G(t.named)||!G(e))return;const n=je(e.name??e.kinddata?.name??"");t.named[n]||(t.named[n]=new Set),t.named[n].add(e?.id??A??"")}function $8(t,e){if(!(!G(t)||!G(t.lookup)||!G(e?.id))&&!G(e.removed)&&We(e,"collision")!==Fe.ISGHOST){const A=e.x??0,n=e.y??0;t.lookup[A+n*Re]=e.id}}function kf(t,e){if(G(t)&&G(e?.id)){if(G(t.lookup)&&G(e.x)&&G(e.y)){const n=e.x+e.y*Re;t.lookup[n]===e.id&&(t.lookup[n]=void 0)}const A=pA(e);G(t.named?.[A.name])&&G(e.id)&&t.named[A.name].delete(e.id)}}function o7(t){G(t)&&(delete t.named,delete t.lookup,a7(t))}function a7(t){if(!G(t)||G(t.lookup)&&G(t.named))return;const e=new Array(Re*rt).fill(void 0),A={},n=Object.values(t.objects);for(let i=0;i<n.length;++i){const o=n[i];if(G(o.x)&&G(o.y)&&G(o.id)&&!G(o.removed)){o.category=yn.ISOBJECT,We(o,"collision")!==Fe.ISGHOST&&(e[o.x+o.y*Re]=o.id),xe(o.code)&&!G(o.name)&&yf(vf(o.code),o);const a=pA(o);A[a.name]||(A[a.name]=new Set),A[a.name].add(o.id)}}let r=0,s=0;for(let i=0;i<t.terrain.length;++i){const o=t.terrain[i];if(G(o)){o.x=r,o.y=s,o.category=yn.ISTERRAIN;const a=pA(Wn(o));A[a.name]||(A[a.name]=new Set),A[a.name].add(i)}++r,r>=Re&&(r=0,++s)}t.lookup=e,t.named=A}function c7(t,e){if(G(t)&&G(e?.x)&&G(e.y)){const A=pA(e),n=ni(t,e);G(t.named?.[A.name])&&t.named[A.name].delete(n)}}var Ef={exports:{}},Nf={exports:{}},l7=Nf.exports,F8;function u7(){return F8||(F8=1,(function(t,e){(function(A,n){t.exports=n()})(l7,function(){function A(m){return!isNaN(parseFloat(m))&&isFinite(m)}function n(m){return m.charAt(0).toUpperCase()+m.substring(1)}function r(m){return function(){return this[m]}}var s=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=["args"],c=["evalOrigin"],l=s.concat(i,o,a,c);function u(m){if(m)for(var p=0;p<l.length;p++)m[l[p]]!==void 0&&this["set"+n(l[p])](m[l[p]])}u.prototype={getArgs:function(){return this.args},setArgs:function(m){if(Object.prototype.toString.call(m)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=m},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(m){if(m instanceof u)this.evalOrigin=m;else if(m instanceof Object)this.evalOrigin=new u(m);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var m=this.getFileName()||"",p=this.getLineNumber()||"",g=this.getColumnNumber()||"",w=this.getFunctionName()||"";return this.getIsEval()?m?"[eval] ("+m+":"+p+":"+g+")":"[eval]:"+p+":"+g:w?w+" ("+m+":"+p+":"+g+")":m+":"+p+":"+g}},u.fromString=function(p){var g=p.indexOf("("),w=p.lastIndexOf(")"),x=p.substring(0,g),v=p.substring(g+1,w).split(","),b=p.substring(w+1);if(b.indexOf("@")===0)var T=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(b,""),M=T[1],B=T[2],Z=T[3];return new u({functionName:x,args:v||void 0,fileName:M,lineNumber:B||void 0,columnNumber:Z||void 0})};for(var h=0;h<s.length;h++)u.prototype["get"+n(s[h])]=r(s[h]),u.prototype["set"+n(s[h])]=(function(m){return function(p){this[m]=!!p}})(s[h]);for(var f=0;f<i.length;f++)u.prototype["get"+n(i[f])]=r(i[f]),u.prototype["set"+n(i[f])]=(function(m){return function(p){if(!A(p))throw new TypeError(m+" must be a Number");this[m]=Number(p)}})(i[f]);for(var d=0;d<o.length;d++)u.prototype["get"+n(o[d])]=r(o[d]),u.prototype["set"+n(o[d])]=(function(m){return function(p){this[m]=String(p)}})(o[d]);return u})})(Nf)),Nf.exports}var h7=Ef.exports,V8;function f7(){return V8||(V8=1,(function(t,e){(function(A,n){t.exports=n(u7())})(h7,function(n){var r=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(a){if(typeof a.stacktrace<"u"||typeof a["opera#sourceloc"]<"u")return this.parseOpera(a);if(a.stack&&a.stack.match(s))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,l=c.exec(a.replace(/[()]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(a){var c=a.stack.split(`
`).filter(function(l){return!!l.match(s)},this);return c.map(function(l){l.indexOf("(eval ")>-1&&(l=l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var u=l.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),h=u.match(/ (\(.+\)$)/);u=h?u.replace(h[0],""):u;var f=this.extractLocation(h?h[1]:u),d=h&&u||void 0,m=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new n({functionName:d,fileName:m,lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseFFOrSafari:function(a){var c=a.stack.split(`
`).filter(function(l){return!l.match(i)},this);return c.map(function(l){if(l.indexOf(" > eval")>-1&&(l=l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),l.indexOf("@")===-1&&l.indexOf(":")===-1)return new n({functionName:l});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,h=l.match(u),f=h&&h[1]?h[1]:void 0,d=this.extractLocation(l.replace(u,""));return new n({functionName:f,fileName:d[0],lineNumber:d[1],columnNumber:d[2],source:l})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf(`
`)>-1&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,l=a.message.split(`
`),u=[],h=2,f=l.length;h<f;h+=2){var d=c.exec(l[h]);d&&u.push(new n({fileName:d[2],lineNumber:d[1],source:l[h]}))}return u},parseOpera10:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=a.stacktrace.split(`
`),u=[],h=0,f=l.length;h<f;h+=2){var d=c.exec(l[h]);d&&u.push(new n({functionName:d[3]||void 0,fileName:d[2],lineNumber:d[1],source:l[h]}))}return u},parseOpera11:function(a){var c=a.stack.split(`
`).filter(function(l){return!!l.match(r)&&!l.match(/^Error created at/)},this);return c.map(function(l){var u=l.split("@"),h=this.extractLocation(u.pop()),f=u.shift()||"",d=f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,m;f.match(/\(([^)]*)\)/)&&(m=f.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var p=m===void 0||m==="[arguments not available]"?void 0:m.split(",");return new n({functionName:d,args:p,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:l})},this)}}})})(Ef)),Ef.exports}var d7=f7(),m7=Hi(d7);function Gi(t){const e={},A={everytick(){},aftertick(){},listcommands(){return Mn(e)},...t,getcommand(n){return e[n]},command(n,r){return e[n]=r,A}};return A}const W8="15.1.22",Q8=(t,e,A)=>({endTime:e,insertTime:A,type:"exponentialRampToValue",value:t}),q8=(t,e,A)=>({endTime:e,insertTime:A,type:"linearRampToValue",value:t}),Vw=(t,e)=>({startTime:e,type:"setValue",value:t}),K8=(t,e,A)=>({duration:A,startTime:e,type:"setValueCurve",values:t}),J8=(t,e,{startTime:A,target:n,timeConstant:r})=>n+(e-n)*Math.exp((A-t)/r),Ya=t=>t.type==="exponentialRampToValue",Tf=t=>t.type==="linearRampToValue",Mi=t=>Ya(t)||Tf(t),Ww=t=>t.type==="setValue",$s=t=>t.type==="setValueCurve",Yf=(t,e,A,n)=>{const r=t[e];return r===void 0?n:Mi(r)||Ww(r)?r.value:$s(r)?r.values[r.values.length-1]:J8(A,Yf(t,e-1,r.startTime,n),r)},X8=(t,e,A,n,r)=>A===void 0?[n.insertTime,r]:Mi(A)?[A.endTime,A.value]:Ww(A)?[A.startTime,A.value]:$s(A)?[A.startTime+A.duration,A.values[A.values.length-1]]:[A.startTime,Yf(t,e-1,A.startTime,r)],Qw=t=>t.type==="cancelAndHold",qw=t=>t.type==="cancelScheduledValues",yi=t=>Qw(t)||qw(t)?t.cancelTime:Ya(t)||Tf(t)?t.endTime:t.startTime,eN=(t,e,A,{endTime:n,value:r})=>A===r?r:0<A&&0<r||A<0&&r<0?A*(r/A)**((t-e)/(n-e)):0,tN=(t,e,A,{endTime:n,value:r})=>A+(t-e)/(n-e)*(r-A),p7=(t,e)=>{const A=Math.floor(e),n=Math.ceil(e);return A===n?t[A]:(1-(e-A))*t[A]+(1-(n-e))*t[n]},g7=(t,{duration:e,startTime:A,values:n})=>{const r=(t-A)/e*(n.length-1);return p7(n,r)},Of=t=>t.type==="setTarget";class w7{constructor(e){this._automationEvents=[],this._currenTime=0,this._defaultValue=e}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(e){const A=yi(e);if(Qw(e)||qw(e)){const n=this._automationEvents.findIndex(s=>qw(e)&&$s(s)?s.startTime+s.duration>=A:yi(s)>=A),r=this._automationEvents[n];if(n!==-1&&(this._automationEvents=this._automationEvents.slice(0,n)),Qw(e)){const s=this._automationEvents[this._automationEvents.length-1];if(r!==void 0&&Mi(r)){if(s!==void 0&&Of(s))throw new Error("The internal list is malformed.");const i=s===void 0?r.insertTime:$s(s)?s.startTime+s.duration:yi(s),o=s===void 0?this._defaultValue:$s(s)?s.values[s.values.length-1]:s.value,a=Ya(r)?eN(A,i,o,r):tN(A,i,o,r),c=Ya(r)?Q8(a,A,this._currenTime):q8(a,A,this._currenTime);this._automationEvents.push(c)}if(s!==void 0&&Of(s)&&this._automationEvents.push(Vw(this.getValue(A),A)),s!==void 0&&$s(s)&&s.startTime+s.duration>A){const i=A-s.startTime,o=(s.values.length-1)/s.duration,a=Math.max(2,1+Math.ceil(i*o)),c=i/(a-1)*o,l=s.values.slice(0,a);if(c<1)for(let u=1;u<a;u+=1){const h=c*u%1;l[u]=s.values[u-1]*(1-h)+s.values[u]*h}this._automationEvents[this._automationEvents.length-1]=K8(l,s.startTime,i)}}}else{const n=this._automationEvents.findIndex(i=>yi(i)>A),r=n===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[n-1];if(r!==void 0&&$s(r)&&yi(r)+r.duration>A)return!1;const s=Ya(e)?Q8(e.value,e.endTime,this._currenTime):Tf(e)?q8(e.value,A,this._currenTime):e;if(n===-1)this._automationEvents.push(s);else{if($s(e)&&A+e.duration>yi(this._automationEvents[n]))return!1;this._automationEvents.splice(n,0,s)}}return!0}flush(e){const A=this._automationEvents.findIndex(n=>yi(n)>e);if(A>1){const n=this._automationEvents.slice(A-1),r=n[0];Of(r)&&n.unshift(Vw(Yf(this._automationEvents,A-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}getValue(e){if(this._automationEvents.length===0)return this._defaultValue;const A=this._automationEvents.findIndex(i=>yi(i)>e),n=this._automationEvents[A],r=(A===-1?this._automationEvents.length:A)-1,s=this._automationEvents[r];if(s!==void 0&&Of(s)&&(n===void 0||!Mi(n)||n.insertTime>e))return J8(e,Yf(this._automationEvents,r-1,s.startTime,this._defaultValue),s);if(s!==void 0&&Ww(s)&&(n===void 0||!Mi(n)))return s.value;if(s!==void 0&&$s(s)&&(n===void 0||!Mi(n)||s.startTime+s.duration>e))return e<s.startTime+s.duration?g7(e,s):s.values[s.values.length-1];if(s!==void 0&&Mi(s)&&(n===void 0||!Mi(n)))return s.value;if(n!==void 0&&Ya(n)){const[i,o]=X8(this._automationEvents,r,s,n,this._defaultValue);return eN(e,i,o,n)}if(n!==void 0&&Tf(n)){const[i,o]=X8(this._automationEvents,r,s,n,this._defaultValue);return tN(e,i,o,n)}return this._defaultValue}}const b7=t=>({cancelTime:t,type:"cancelAndHold"}),_7=t=>({cancelTime:t,type:"cancelScheduledValues"}),x7=(t,e)=>({endTime:e,type:"exponentialRampToValue",value:t}),G7=(t,e)=>({endTime:e,type:"linearRampToValue",value:t}),M7=(t,e,A)=>({startTime:e,target:t,timeConstant:A,type:"setTarget"}),y7=()=>new DOMException("","AbortError"),D7=t=>(e,A,[n,r,s],i)=>{t(e[r],[A,n,s],o=>o[0]===A&&o[1]===n,i)},v7=t=>(e,A,n)=>{const r=[];for(let s=0;s<n.numberOfInputs;s+=1)r.push(new Set);t.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:A})},B7=t=>(e,A)=>{t.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:A})},Oa=new WeakSet,AN=new WeakMap,Kw=new WeakMap,nN=new WeakMap,Jw=new WeakMap,Sf=new WeakMap,rN=new WeakMap,Xw=new WeakMap,e0=new WeakMap,t0=new WeakMap,sN={construct(){return sN}},k7=t=>{try{const e=new Proxy(t,sN);new e}catch{return!1}return!0},iN=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,oN=(t,e)=>{const A=[];let n=t.replace(/^[\s]+/,""),r=n.match(iN);for(;r!==null;){const s=r[1].slice(1,-1),i=r[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,e).toString());A.push(i),n=n.slice(r[0].length).replace(/^[\s]+/,""),r=n.match(iN)}return[A.join(";"),n]},aN=t=>{if(t!==void 0&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},cN=t=>{if(!k7(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(t.prototype===null||typeof t.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},E7=(t,e,A,n,r,s,i,o,a,c,l,u,h)=>{let f=0;return(d,m,p={credentials:"omit"})=>{const g=l.get(d);if(g!==void 0&&g.has(m))return Promise.resolve();const w=c.get(d);if(w!==void 0){const b=w.get(m);if(b!==void 0)return b}const x=s(d),v=x.audioWorklet===void 0?r(m).then(([b,T])=>{const[M,B]=oN(b,T),Z=`${M};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${B}
})})(window,'_AWGS')`;return A(Z)}).then(()=>{const b=h._AWGS.pop();if(b===void 0)throw new SyntaxError;n(x.currentTime,x.sampleRate,()=>b(class{},void 0,(T,M)=>{if(T.trim()==="")throw e();const B=e0.get(x);if(B!==void 0){if(B.has(T))throw e();cN(M),aN(M.parameterDescriptors),B.set(T,M)}else cN(M),aN(M.parameterDescriptors),e0.set(x,new Map([[T,M]]))},x.sampleRate,void 0,void 0))}):Promise.all([r(m),Promise.resolve(t(u,u))]).then(([[b,T],M])=>{const B=f+1;f=B;const[Z,S]=oN(b,T),y=`${Z};((AudioWorkletProcessor,registerProcessor)=>{${S}
})(${M?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${M?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${M?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${B}',class extends AudioWorkletProcessor{process(){return !1}})`,I=new Blob([y],{type:"application/javascript; charset=utf-8"}),U=URL.createObjectURL(I);return x.audioWorklet.addModule(U,p).then(()=>{if(o(x))return x;const j=i(x);return j.audioWorklet.addModule(U,p).then(()=>j)}).then(j=>{if(a===null)throw new SyntaxError;try{new a(j,`__sac${B}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(U))});return w===void 0?c.set(d,new Map([[m,v]])):w.set(m,v),v.then(()=>{const b=l.get(d);b===void 0?l.set(d,new Set([m])):b.add(m)}).finally(()=>{const b=c.get(d);b!==void 0&&b.delete(m)}),v}},Ir=(t,e)=>{const A=t.get(e);if(A===void 0)throw new Error("A value with the given key could not be found.");return A},Zf=(t,e)=>{const A=Array.from(t).filter(e);if(A.length>1)throw Error("More than one element was found.");if(A.length===0)throw Error("No element was found.");const[n]=A;return t.delete(n),n},lN=(t,e,A,n)=>{const r=Ir(t,e),s=Zf(r,i=>i[0]===A&&i[1]===n);return r.size===0&&t.delete(e),s},Ol=t=>Ir(rN,t),Sa=t=>{if(Oa.has(t))throw new Error("The AudioNode is already stored.");Oa.add(t),Ol(t).forEach(e=>e(!0))},uN=t=>"port"in t,Sl=t=>{if(!Oa.has(t))throw new Error("The AudioNode is not stored.");Oa.delete(t),Ol(t).forEach(e=>e(!1))},A0=(t,e)=>{!uN(t)&&e.every(A=>A.size===0)&&Sl(t)},N7=(t,e,A,n,r,s,i,o,a,c,l,u,h)=>{const f=new WeakMap;return(d,m,p,g,w)=>{const{activeInputs:x,passiveInputs:v}=s(m),{outputs:b}=s(d),T=o(d),M=B=>{const Z=a(m),S=a(d);if(B){const C=lN(v,d,p,g);t(x,d,C,!1),!w&&!u(d)&&A(S,Z,p,g),h(m)&&Sa(m)}else{const C=n(x,d,p,g);e(v,g,C,!1),!w&&!u(d)&&r(S,Z,p,g);const k=i(m);if(k===0)l(m)&&A0(m,x);else{const N=f.get(m);N!==void 0&&clearTimeout(N),f.set(m,setTimeout(()=>{l(m)&&A0(m,x)},k*1e3))}}};return c(b,[m,p,g],B=>B[0]===m&&B[1]===p&&B[2]===g,!0)?(T.add(M),l(d)?t(x,d,[p,g,M],!0):e(v,g,[d,p,M],!0),!0):!1}},T7=t=>(e,A,[n,r,s],i)=>{const o=e.get(n);o===void 0?e.set(n,new Set([[r,A,s]])):t(o,[r,A,s],a=>a[0]===r&&a[1]===A,i)},Y7=t=>(e,A)=>{const n=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});A.connect(n).connect(e.destination);const r=()=>{A.removeEventListener("ended",r),A.disconnect(n),n.disconnect()};A.addEventListener("ended",r)},O7=t=>(e,A)=>{t(e).add(A)},S7={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},Z7=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=r(o),l={...S7,...a},u=n(c,l),h=s(c)?e():null;super(o,!1,u,h),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(o){this._nativeAnalyserNode.fftSize=o}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(o){const a=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=o,!(o>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=a,A()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(o){const a=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=o,!(this._nativeAnalyserNode.maxDecibels>o))throw this._nativeAnalyserNode.minDecibels=a,A()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(o){this._nativeAnalyserNode.smoothingTimeConstant=o}getByteFrequencyData(o){this._nativeAnalyserNode.getByteFrequencyData(o)}getByteTimeDomainData(o){this._nativeAnalyserNode.getByteTimeDomainData(o)}getFloatFrequencyData(o){this._nativeAnalyserNode.getFloatFrequencyData(o)}getFloatTimeDomainData(o){this._nativeAnalyserNode.getFloatTimeDomainData(o)}},nn=(t,e)=>t.context===e,C7=(t,e,A)=>()=>{const n=new WeakMap,r=async(s,i)=>{let o=e(s);if(!nn(o,i)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=t(i,c)}return n.set(i,o),await A(s,i,o),o};return{render(s,i){const o=n.get(i);return o!==void 0?Promise.resolve(o):r(s,i)}}},Cf=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},_s=()=>new DOMException("","IndexSizeError"),n0=t=>{t.getChannelData=(e=>A=>{try{return e.call(t,A)}catch(n){throw n.code===12?_s():n}})(t.getChannelData)},P7={numberOfChannels:1},R7=(t,e,A,n,r,s,i,o)=>{let a=null;return class SS{constructor(l){if(r===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:u,numberOfChannels:h,sampleRate:f}={...P7,...l};a===null&&(a=new r(1,1,44100));const d=n!==null&&e(s,s)?new n({length:u,numberOfChannels:h,sampleRate:f}):a.createBuffer(h,u,f);if(d.numberOfChannels===0)throw A();return typeof d.copyFromChannel!="function"?(i(d),n0(d)):e(Cf,()=>Cf(d))||o(d),t.add(d),d}static[Symbol.hasInstance](l){return l!==null&&typeof l=="object"&&Object.getPrototypeOf(l)===SS.prototype||t.has(l)}}},Sn=-34028234663852886e22,pn=-Sn,Fs=t=>Oa.has(t),I7={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},j7=(t,e,A,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),h={...I7,...l},f=r(u,h),d=i(u),m=d?e():null;super(c,!1,f,m),this._audioBufferSourceNodeRenderer=m,this._isBufferNullified=!1,this._isBufferSet=h.buffer!==null,this._nativeAudioBufferSourceNode=f,this._onended=null,this._playbackRate=A(this,d,f.playbackRate,pn,Sn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(c){if(this._nativeAudioBufferSourceNode.buffer=c,c!==null){if(this._isBufferSet)throw n();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(c){this._nativeAudioBufferSourceNode.loop=c}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(c){this._nativeAudioBufferSourceNode.loopEnd=c}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(c){this._nativeAudioBufferSourceNode.loopStart=c}get onended(){return this._onended}set onended(c){const l=typeof c=="function"?o(this,c):null;this._nativeAudioBufferSourceNode.onended=l;const u=this._nativeAudioBufferSourceNode.onended;this._onended=u!==null&&u===l?c:u}get playbackRate(){return this._playbackRate}start(c=0,l=0,u){if(this._nativeAudioBufferSourceNode.start(c,l,u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=u===void 0?[c,l]:[c,l,u]),this.context.state!=="closed"){Sa(this);const h=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",h),Fs(this)&&Sl(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",h)}}stop(c=0){this._nativeAudioBufferSourceNode.stop(c),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=c)}},z7=(t,e,A,n,r)=>()=>{const s=new WeakMap;let i=null,o=null;const a=async(c,l)=>{let u=A(c);const h=nn(u,l);if(!h){const f={buffer:u.buffer,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,loop:u.loop,loopEnd:u.loopEnd,loopStart:u.loopStart,playbackRate:u.playbackRate.value};u=e(l,f),i!==null&&u.start(...i),o!==null&&u.stop(o)}return s.set(l,u),h?await t(l,c.playbackRate,u.playbackRate):await n(l,c.playbackRate,u.playbackRate),await r(c,l,u),u};return{set start(c){i=c},set stop(c){o=c},render(c,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}},H7=t=>"playbackRate"in t,L7=t=>"frequency"in t&&"gain"in t,U7=t=>"offset"in t,$7=t=>!("frequency"in t)&&"gain"in t,F7=t=>"detune"in t&&"frequency"in t&&!("gain"in t),V7=t=>"pan"in t,gn=t=>Ir(AN,t),Zl=t=>Ir(nN,t),r0=(t,e)=>{const{activeInputs:A}=gn(t);A.forEach(r=>r.forEach(([s])=>{e.includes(t)||r0(s,[...e,t])}));const n=H7(t)?[t.playbackRate]:uN(t)?Array.from(t.parameters.values()):L7(t)?[t.Q,t.detune,t.frequency,t.gain]:U7(t)?[t.offset]:$7(t)?[t.gain]:F7(t)?[t.detune,t.frequency]:V7(t)?[t.pan]:[];for(const r of n){const s=Zl(r);s!==void 0&&s.activeInputs.forEach(([i])=>r0(i,e))}Fs(t)&&Sl(t)},hN=t=>{r0(t.destination,[])},W7=t=>t===void 0||typeof t=="number"||typeof t=="string"&&(t==="balanced"||t==="interactive"||t==="playback"),Q7=(t,e,A,n,r,s,i,o,a)=>class extends t{constructor(l={}){if(a===null)throw new Error("Missing the native AudioContext constructor.");let u;try{u=new a(l)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?A():d}if(u===null)throw n();if(!W7(l.latencyHint))throw new TypeError(`The provided value '${l.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(l.sampleRate!==void 0&&u.sampleRate!==l.sampleRate)throw A();super(u,2);const{latencyHint:h}=l,{sampleRate:f}=u;if(this._baseLatency=typeof u.baseLatency=="number"?u.baseLatency:h==="balanced"?512/f:h==="interactive"||h===void 0?256/f:h==="playback"?1024/f:Math.max(2,Math.min(128,Math.round(h*f/128)))*128/f,this._nativeAudioContext=u,a.name==="webkitAudioContext"?(this._nativeGainNode=u.createGain(),this._nativeOscillatorNode=u.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(u.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,u.state==="running"){this._state="suspended";const d=()=>{this._state==="suspended"&&(this._state=null),u.removeEventListener("statechange",d)};u.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),hN(this)}))}createMediaElementSource(l){return new r(this,{mediaElement:l})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(l){return new i(this,{mediaStream:l})}createMediaStreamTrackSource(l){return new o(this,{mediaStreamTrack:l})}resume(){return this._state==="suspended"?new Promise((l,u)=>{const h=()=>{this._nativeAudioContext.removeEventListener("statechange",h),this._nativeAudioContext.state==="running"?l():this.resume().then(l,u)};this._nativeAudioContext.addEventListener("statechange",h)}):this._nativeAudioContext.resume().catch(l=>{throw l===void 0||l.code===15?e():l})}suspend(){return this._nativeAudioContext.suspend().catch(l=>{throw l===void 0?e():l})}},q7=(t,e,A,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),h=i(u),f=r(u,l,h),d=h?e(o):null;super(c,!1,f,d),this._isNodeOfNativeOfflineAudioContext=h,this._nativeAudioDestinationNode=f}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(c){if(this._isNodeOfNativeOfflineAudioContext)throw n();if(c>this._nativeAudioDestinationNode.maxChannelCount)throw A();this._nativeAudioDestinationNode.channelCount=c}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(c){if(this._isNodeOfNativeOfflineAudioContext)throw n();this._nativeAudioDestinationNode.channelCountMode=c}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},K7=t=>{const e=new WeakMap,A=async(n,r)=>{const s=r.destination;return e.set(r,s),await t(n,r,s),s};return{render(n,r){const s=e.get(r);return s!==void 0?Promise.resolve(s):A(n,r)}}},J7=(t,e,A,n,r,s,i,o)=>(a,c)=>{const l=c.listener,u=()=>{const b=new Float32Array(1),T=e(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),M=i(c);let B=!1,Z=[0,0,-1,0,1,0],S=[0,0,0];const C=()=>{if(B)return;B=!0;const I=n(c,256,9,0);I.onaudioprocess=({inputBuffer:U})=>{const j=[s(U,b,0),s(U,b,1),s(U,b,2),s(U,b,3),s(U,b,4),s(U,b,5)];j.some((V,W)=>V!==Z[W])&&(l.setOrientation(...j),Z=j);const F=[s(U,b,6),s(U,b,7),s(U,b,8)];F.some((V,W)=>V!==S[W])&&(l.setPosition(...F),S=F)},T.connect(I)},k=I=>U=>{U!==Z[I]&&(Z[I]=U,l.setOrientation(...Z))},N=I=>U=>{U!==S[I]&&(S[I]=U,l.setPosition(...S))},y=(I,U,j)=>{const F=A(c,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:U});F.connect(T,0,I),F.start(),Object.defineProperty(F.offset,"defaultValue",{get(){return U}});const V=t({context:a},M,F.offset,pn,Sn);return o(V,"value",W=>()=>W.call(V),W=>O=>{try{W.call(V,O)}catch(R){if(R.code!==9)throw R}C(),M&&j(O)}),V.cancelAndHoldAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.cancelAndHoldAtTime),V.cancelScheduledValues=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.cancelScheduledValues),V.exponentialRampToValueAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.exponentialRampToValueAtTime),V.linearRampToValueAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.linearRampToValueAtTime),V.setTargetAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.setTargetAtTime),V.setValueAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.setValueAtTime),V.setValueCurveAtTime=(W=>M?()=>{throw r()}:(...O)=>{const R=W.apply(V,O);return C(),R})(V.setValueCurveAtTime),V};return{forwardX:y(0,0,k(0)),forwardY:y(1,0,k(1)),forwardZ:y(2,-1,k(2)),positionX:y(6,0,N(0)),positionY:y(7,0,N(1)),positionZ:y(8,0,N(2)),upX:y(3,0,k(3)),upY:y(4,1,k(4)),upZ:y(5,0,k(5))}},{forwardX:h,forwardY:f,forwardZ:d,positionX:m,positionY:p,positionZ:g,upX:w,upY:x,upZ:v}=l.forwardX===void 0?u():l;return{get forwardX(){return h},get forwardY(){return f},get forwardZ(){return d},get positionX(){return m},get positionY(){return p},get positionZ(){return g},get upX(){return w},get upY(){return x},get upZ(){return v}}},Pf=t=>"context"in t,Cl=t=>Pf(t[0]),Go=(t,e,A,n)=>{for(const r of t)if(A(r)){if(n)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},fN=(t,e,[A,n],r)=>{Go(t,[e,A,n],s=>s[0]===e&&s[1]===A,r)},dN=(t,[e,A,n],r)=>{const s=t.get(e);s===void 0?t.set(e,new Set([[A,n]])):Go(s,[A,n],i=>i[0]===A,r)},Za=t=>"inputs"in t,Rf=(t,e,A,n)=>{if(Za(e)){const r=e.inputs[n];return t.connect(r,A,0),[r,A,0]}return t.connect(e,A,n),[e,A,n]},mN=(t,e,A)=>{for(const n of t)if(n[0]===e&&n[1]===A)return t.delete(n),n;return null},X7=(t,e,A)=>Zf(t,n=>n[0]===e&&n[1]===A),pN=(t,e)=>{if(!Ol(t).delete(e))throw new Error("Missing the expected event listener.")},gN=(t,e,A)=>{const n=Ir(t,e),r=Zf(n,s=>s[0]===A);return n.size===0&&t.delete(e),r},If=(t,e,A,n)=>{Za(e)?t.disconnect(e.inputs[n],A,0):t.disconnect(e,A,n)},Vt=t=>Ir(Kw,t),Pl=t=>Ir(Jw,t),Mo=t=>Xw.has(t),jf=t=>!Oa.has(t),wN=(t,e)=>new Promise(A=>{if(e!==null)A(!0);else{const n=t.createScriptProcessor(256,1,1),r=t.createGain(),s=t.createBuffer(1,2,44100),i=s.getChannelData(0);i[0]=1,i[1]=1;const o=t.createBufferSource();o.buffer=s,o.loop=!0,o.connect(n).connect(t.destination),o.connect(r),o.disconnect(r),n.onaudioprocess=a=>{const c=a.inputBuffer.getChannelData(0);Array.prototype.some.call(c,l=>l===1)?A(!0):A(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()}}),s0=(t,e)=>{const A=new Map;for(const n of t)for(const r of n){const s=A.get(r);A.set(r,s===void 0?1:s+1)}A.forEach((n,r)=>e(r,n))},zf=t=>"context"in t,eV=t=>{const e=new Map;t.connect=(A=>(n,r=0,s=0)=>{const i=zf(n)?A(n,r,s):A(n,r),o=e.get(n);return o===void 0?e.set(n,[{input:s,output:r}]):o.every(a=>a.input!==s||a.output!==r)&&o.push({input:s,output:r}),i})(t.connect.bind(t)),t.disconnect=(A=>(n,r,s)=>{if(A.apply(t),n===void 0)e.clear();else if(typeof n=="number")for(const[i,o]of e){const a=o.filter(c=>c.output!==n);a.length===0?e.delete(i):e.set(i,a)}else if(e.has(n))if(r===void 0)e.delete(n);else{const i=e.get(n);if(i!==void 0){const o=i.filter(a=>a.output!==r&&(a.input!==s||s===void 0));o.length===0?e.delete(n):e.set(n,o)}}for(const[i,o]of e)o.forEach(a=>{zf(i)?t.connect(i,a.output,a.input):t.connect(i,a.output)})})(t.disconnect)},tV=(t,e,A,n)=>{const{activeInputs:r,passiveInputs:s}=Zl(e),{outputs:i}=gn(t),o=Ol(t),a=c=>{const l=Vt(t),u=Pl(e);if(c){const h=gN(s,t,A);fN(r,t,h,!1),!n&&!Mo(t)&&l.connect(u,A)}else{const h=X7(r,t,A);dN(s,h,!1),!n&&!Mo(t)&&l.disconnect(u,A)}};return Go(i,[e,A],c=>c[0]===e&&c[1]===A,!0)?(o.add(a),Fs(t)?fN(r,t,[A,a],!0):dN(s,[t,A,a],!0),!0):!1},AV=(t,e,A,n)=>{const{activeInputs:r,passiveInputs:s}=gn(e),i=mN(r[n],t,A);return i===null?[lN(s,t,A,n)[2],!1]:[i[2],!0]},nV=(t,e,A)=>{const{activeInputs:n,passiveInputs:r}=Zl(e),s=mN(n,t,A);return s===null?[gN(r,t,A)[1],!1]:[s[2],!0]},i0=(t,e,A,n,r)=>{const[s,i]=AV(t,A,n,r);if(s!==null&&(pN(t,s),i&&!e&&!Mo(t)&&If(Vt(t),Vt(A),n,r)),Fs(A)){const{activeInputs:o}=gn(A);A0(A,o)}},o0=(t,e,A,n)=>{const[r,s]=nV(t,A,n);r!==null&&(pN(t,r),s&&!e&&!Mo(t)&&Vt(t).disconnect(Pl(A),n))},rV=(t,e)=>{const A=gn(t),n=[];for(const r of A.outputs)Cl(r)?i0(t,e,...r):o0(t,e,...r),n.push(r[0]);return A.outputs.clear(),n},sV=(t,e,A)=>{const n=gn(t),r=[];for(const s of n.outputs)s[1]===A&&(Cl(s)?i0(t,e,...s):o0(t,e,...s),r.push(s[0]),n.outputs.delete(s));return r},iV=(t,e,A,n,r)=>{const s=gn(t);return Array.from(s.outputs).filter(i=>i[0]===A&&(n===void 0||i[1]===n)&&(r===void 0||i[2]===r)).map(i=>(Cl(i)?i0(t,e,...i):o0(t,e,...i),s.outputs.delete(i),i[0]))},oV=(t,e,A,n,r,s,i,o,a,c,l,u,h,f,d,m)=>class extends c{constructor(g,w,x,v){super(x),this._context=g,this._nativeAudioNode=x;const b=l(g);u(b)&&A(wN,()=>wN(b,m))!==!0&&eV(x),Kw.set(this,x),rN.set(this,new Set),g.state!=="closed"&&w&&Sa(this),t(this,v,x)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(g){this._nativeAudioNode.channelCount=g}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(g){this._nativeAudioNode.channelCountMode=g}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(g){this._nativeAudioNode.channelInterpretation=g}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(g,w=0,x=0){if(w<0||w>=this._nativeAudioNode.numberOfOutputs)throw r();const v=l(this._context),b=d(v);if(h(g)||f(g))throw s();if(Pf(g)){const B=Vt(g);try{const S=Rf(this._nativeAudioNode,B,w,x),C=jf(this);(b||C)&&this._nativeAudioNode.disconnect(...S),this.context.state!=="closed"&&!C&&jf(g)&&Sa(g)}catch(S){throw S.code===12?s():S}if(e(this,g,w,x,b)){const S=a([this],g);s0(S,n(b))}return g}const T=Pl(g);if(T.name==="playbackRate"&&T.maxValue===1024)throw i();try{this._nativeAudioNode.connect(T,w),(b||jf(this))&&this._nativeAudioNode.disconnect(T,w)}catch(B){throw B.code===12?s():B}if(tV(this,g,w,b)){const B=a([this],g);s0(B,n(b))}}disconnect(g,w,x){let v;const b=l(this._context),T=d(b);if(g===void 0)v=rV(this,T);else if(typeof g=="number"){if(g<0||g>=this.numberOfOutputs)throw r();v=sV(this,T,g)}else{if(w!==void 0&&(w<0||w>=this.numberOfOutputs)||Pf(g)&&x!==void 0&&(x<0||x>=g.numberOfInputs))throw r();if(v=iV(this,T,g,w,x),v.length===0)throw s()}for(const M of v){const B=a([this],M);s0(B,o)}}},aV=(t,e,A,n,r,s,i,o,a,c,l,u,h)=>(f,d,m,p=null,g=null)=>{const w=m.value,x=new w7(w),v=d?n(x):null,b={get defaultValue(){return w},get maxValue(){return p===null?m.maxValue:p},get minValue(){return g===null?m.minValue:g},get value(){return m.value},set value(T){m.value=T,b.setValueAtTime(T,f.context.currentTime)},cancelAndHoldAtTime(T){if(typeof m.cancelAndHoldAtTime=="function")v===null&&x.flush(f.context.currentTime),x.add(r(T)),m.cancelAndHoldAtTime(T);else{const M=Array.from(x).pop();v===null&&x.flush(f.context.currentTime),x.add(r(T));const B=Array.from(x).pop();m.cancelScheduledValues(T),M!==B&&B!==void 0&&(B.type==="exponentialRampToValue"?m.exponentialRampToValueAtTime(B.value,B.endTime):B.type==="linearRampToValue"?m.linearRampToValueAtTime(B.value,B.endTime):B.type==="setValue"?m.setValueAtTime(B.value,B.startTime):B.type==="setValueCurve"&&m.setValueCurveAtTime(B.values,B.startTime,B.duration))}return b},cancelScheduledValues(T){return v===null&&x.flush(f.context.currentTime),x.add(s(T)),m.cancelScheduledValues(T),b},exponentialRampToValueAtTime(T,M){if(T===0)throw new RangeError;if(!Number.isFinite(M)||M<0)throw new RangeError;const B=f.context.currentTime;return v===null&&x.flush(B),Array.from(x).length===0&&(x.add(c(w,B)),m.setValueAtTime(w,B)),x.add(i(T,M)),m.exponentialRampToValueAtTime(T,M),b},linearRampToValueAtTime(T,M){const B=f.context.currentTime;return v===null&&x.flush(B),Array.from(x).length===0&&(x.add(c(w,B)),m.setValueAtTime(w,B)),x.add(o(T,M)),m.linearRampToValueAtTime(T,M),b},setTargetAtTime(T,M,B){return v===null&&x.flush(f.context.currentTime),x.add(a(T,M,B)),m.setTargetAtTime(T,M,B),b},setValueAtTime(T,M){return v===null&&x.flush(f.context.currentTime),x.add(c(T,M)),m.setValueAtTime(T,M),b},setValueCurveAtTime(T,M,B){const Z=T instanceof Float32Array?T:new Float32Array(T);if(u!==null&&u.name==="webkitAudioContext"){const S=M+B,C=f.context.sampleRate,k=Math.ceil(M*C),N=Math.floor(S*C),y=N-k,I=new Float32Array(y);for(let j=0;j<y;j+=1){const F=(Z.length-1)/B*((k+j)/C-M),V=Math.floor(F),W=Math.ceil(F);I[j]=V===W?Z[V]:(1-(F-V))*Z[V]+(1-(W-F))*Z[W]}v===null&&x.flush(f.context.currentTime),x.add(l(I,M,B)),m.setValueCurveAtTime(I,M,B);const U=N/C;U<S&&h(b,I[I.length-1],U),h(b,Z[Z.length-1],S)}else v===null&&x.flush(f.context.currentTime),x.add(l(Z,M,B)),m.setValueCurveAtTime(Z,M,B);return b}};return A.set(b,m),e.set(b,f),t(b,v),b},cV=t=>({replay(e){for(const A of t)if(A.type==="exponentialRampToValue"){const{endTime:n,value:r}=A;e.exponentialRampToValueAtTime(r,n)}else if(A.type==="linearRampToValue"){const{endTime:n,value:r}=A;e.linearRampToValueAtTime(r,n)}else if(A.type==="setTarget"){const{startTime:n,target:r,timeConstant:s}=A;e.setTargetAtTime(r,n,s)}else if(A.type==="setValue"){const{startTime:n,value:r}=A;e.setValueAtTime(r,n)}else if(A.type==="setValueCurve"){const{duration:n,startTime:r,values:s}=A;e.setValueCurveAtTime(s,r,n)}else throw new Error("Can't apply an unknown automation.")}});class bN{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,A=null){return this._map.forEach((n,r)=>e.call(A,n,r,this))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const lV={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},uV=(t,e,A,n,r,s,i,o,a,c,l,u,h,f)=>class extends e{constructor(m,p,g){var w;const x=o(m),v=a(x),b=l({...lV,...g});h(b);const T=e0.get(x),M=T?.get(p),B=v||x.state!=="closed"?x:(w=i(x))!==null&&w!==void 0?w:x,Z=r(B,v?null:m.baseLatency,c,p,M,b),S=v?n(p,b,M):null;super(m,!0,Z,S);const C=[];Z.parameters.forEach((N,y)=>{const I=A(this,v,N);C.push([y,I])}),this._nativeAudioWorkletNode=Z,this._onprocessorerror=null,this._parameters=new bN(C),v&&t(x,this);const{activeInputs:k}=s(this);u(Z,k)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(m){const p=typeof m=="function"?f(this,m):null;this._nativeAudioWorkletNode.onprocessorerror=p;const g=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=g!==null&&g===p?m:g}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function Hf(t,e,A,n,r){if(typeof t.copyFromChannel=="function")e[A].byteLength===0&&(e[A]=new Float32Array(128)),t.copyFromChannel(e[A],n,r);else{const s=t.getChannelData(n);if(e[A].byteLength===0)e[A]=s.slice(r,r+128);else{const i=new Float32Array(s.buffer,r*Float32Array.BYTES_PER_ELEMENT,128);e[A].set(i)}}}const _N=(t,e,A,n,r)=>{typeof t.copyToChannel=="function"?e[A].byteLength!==0&&t.copyToChannel(e[A],n,r):e[A].byteLength!==0&&t.getChannelData(n).set(e[A],r)},Lf=(t,e)=>{const A=[];for(let n=0;n<t;n+=1){const r=[],s=typeof e=="number"?e:e[n];for(let i=0;i<s;i+=1)r.push(new Float32Array(128));A.push(r)}return A},hV=(t,e)=>{const A=Ir(t0,t),n=Vt(e);return Ir(A,n)},fV=async(t,e,A,n,r,s,i)=>{const o=e===null?Math.ceil(t.context.length/128)*128:e.length,a=n.channelCount*n.numberOfInputs,c=r.reduce((p,g)=>p+g,0),l=c===0?null:A.createBuffer(c,o,A.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const u=gn(t),h=await hV(A,t),f=Lf(n.numberOfInputs,n.channelCount),d=Lf(n.numberOfOutputs,r),m=Array.from(t.parameters.keys()).reduce((p,g)=>({...p,[g]:new Float32Array(128)}),{});for(let p=0;p<o;p+=128){if(n.numberOfInputs>0&&e!==null)for(let g=0;g<n.numberOfInputs;g+=1)for(let w=0;w<n.channelCount;w+=1)Hf(e,f[g],w,w,p);s.parameterDescriptors!==void 0&&e!==null&&s.parameterDescriptors.forEach(({name:g},w)=>{Hf(e,m,g,a+w,p)});for(let g=0;g<n.numberOfInputs;g+=1)for(let w=0;w<r[g];w+=1)d[g][w].byteLength===0&&(d[g][w]=new Float32Array(128));try{const g=f.map((x,v)=>u.activeInputs[v].size===0?[]:x),w=i(p/A.sampleRate,A.sampleRate,()=>h.process(g,d,m));if(l!==null)for(let x=0,v=0;x<n.numberOfOutputs;x+=1){for(let b=0;b<r[x];b+=1)_N(l,d[x],b,v+b,p);v+=r[x]}if(!w)break}catch(g){t.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return l},dV=(t,e,A,n,r,s,i,o,a,c,l,u,h,f,d,m)=>(p,g,w)=>{const x=new WeakMap;let v=null;const b=async(T,M)=>{let B=l(T),Z=null;const S=nn(B,M),C=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(u===null){const k=C.reduce((U,j)=>U+j,0),N=r(M,{channelCount:Math.max(1,k),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,k)}),y=[];for(let U=0;U<T.numberOfOutputs;U+=1)y.push(n(M,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[U]}));const I=i(M,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1});I.connect=e.bind(null,y),I.disconnect=a.bind(null,y),Z=[N,y,I]}else S||(B=new u(M,p));if(x.set(M,Z===null?B:Z[2]),Z!==null){if(v===null){if(w===void 0)throw new Error("Missing the processor constructor.");if(h===null)throw new Error("Missing the native OfflineAudioContext constructor.");const j=T.channelCount*T.numberOfInputs,F=w.parameterDescriptors===void 0?0:w.parameterDescriptors.length,V=j+F;v=fV(T,V===0?null:await(async()=>{const O=new h(V,Math.ceil(T.context.length/128)*128,M.sampleRate),R=[],Ae=[];for(let de=0;de<g.numberOfInputs;de+=1)R.push(i(O,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),Ae.push(r(O,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const K=await Promise.all(Array.from(T.parameters.values()).map(async de=>{const be=s(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:de.value});return await f(O,de,be.offset),be})),ee=n(O,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,j+F)});for(let de=0;de<g.numberOfInputs;de+=1){R[de].connect(Ae[de]);for(let be=0;be<g.channelCount;be+=1)Ae[de].connect(ee,be,de*g.channelCount+be)}for(const[de,be]of K.entries())be.connect(ee,0,j+de),be.start(0);return ee.connect(O.destination),await Promise.all(R.map(de=>d(T,O,de))),m(O)})(),M,g,C,w,c)}const k=await v,N=A(M,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[y,I,U]=Z;k!==null&&(N.buffer=k,N.start(0)),N.connect(y);for(let j=0,F=0;j<T.numberOfOutputs;j+=1){const V=I[j];for(let W=0;W<C[j];W+=1)y.connect(V,F+W,W);F+=C[j]}return U}if(S)for(const[k,N]of T.parameters.entries())await t(M,N,B.parameters.get(k));else for(const[k,N]of T.parameters.entries())await f(M,N,B.parameters.get(k));return await d(T,M,B),B};return{render(T,M){o(M,T);const B=x.get(M);return B!==void 0?Promise.resolve(B):b(T,M)}}},mV=(t,e,A,n,r,s,i,o,a,c,l,u,h,f,d,m,p,g,w,x)=>class extends d{constructor(b,T){super(b,T),this._nativeContext=b,this._audioWorklet=t===void 0?void 0:{addModule:(M,B)=>t(this,M,B)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new r(this)}createBuffer(b,T,M){return new A({length:T,numberOfChannels:b,sampleRate:M})}createBufferSource(){return new n(this)}createChannelMerger(b=6){return new s(this,{numberOfInputs:b})}createChannelSplitter(b=6){return new i(this,{numberOfOutputs:b})}createConstantSource(){return new o(this)}createConvolver(){return new a(this)}createDelay(b=1){return new l(this,{maxDelayTime:b})}createDynamicsCompressor(){return new u(this)}createGain(){return new h(this)}createIIRFilter(b,T){return new f(this,{feedback:T,feedforward:b})}createOscillator(){return new m(this)}createPanner(){return new p(this)}createPeriodicWave(b,T,M={disableNormalization:!1}){return new g(this,{...M,imag:T,real:b})}createStereoPanner(){return new w(this)}createWaveShaper(){return new x(this)}decodeAudioData(b,T,M){return c(this._nativeContext,b).then(B=>(typeof T=="function"&&T(B),B),B=>{throw typeof M=="function"&&M(B),B})}},pV={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},gV=(t,e,A,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),h={...pV,...l},f=r(u,h),d=i(u),m=d?A():null;super(c,!1,f,m),this._Q=e(this,d,f.Q,pn,Sn),this._detune=e(this,d,f.detune,1200*Math.log2(pn),-1200*Math.log2(pn)),this._frequency=e(this,d,f.frequency,c.sampleRate/2,0),this._gain=e(this,d,f.gain,40*Math.log10(pn),Sn),this._nativeBiquadFilterNode=f,o(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(c){this._nativeBiquadFilterNode.type=c}getFrequencyResponse(c,l,u){try{this._nativeBiquadFilterNode.getFrequencyResponse(c,l,u)}catch(h){throw h.code===11?n():h}if(c.length!==l.length||l.length!==u.length)throw n()}},wV=(t,e,A,n,r)=>()=>{const s=new WeakMap,i=async(o,a)=>{let c=A(o);const l=nn(c,a);if(!l){const u={Q:c.Q.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,detune:c.detune.value,frequency:c.frequency.value,gain:c.gain.value,type:c.type};c=e(a,u)}return s.set(a,c),l?(await t(a,o.Q,c.Q),await t(a,o.detune,c.detune),await t(a,o.frequency,c.frequency),await t(a,o.gain,c.gain)):(await n(a,o.Q,c.Q),await n(a,o.detune,c.detune),await n(a,o.frequency,c.frequency),await n(a,o.gain,c.gain)),await r(o,a,c),c};return{render(o,a){const c=s.get(a);return c!==void 0?Promise.resolve(c):i(o,a)}}},bV=(t,e)=>(A,n)=>{const r=e.get(A);if(r!==void 0)return r;const s=t.get(A);if(s!==void 0)return s;try{const i=n();return i instanceof Promise?(t.set(A,i),i.catch(()=>!1).then(o=>(t.delete(A),e.set(A,o),o))):(e.set(A,i),i)}catch{return e.set(A,!1),!1}},_V={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},xV=(t,e,A,n,r)=>class extends t{constructor(i,o){const a=n(i),c={..._V,...o},l=A(a,c),u=r(a)?e():null;super(i,!1,l,u)}},GV=(t,e,A)=>()=>{const n=new WeakMap,r=async(s,i)=>{let o=e(s);if(!nn(o,i)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=t(i,c)}return n.set(i,o),await A(s,i,o),o};return{render(s,i){const o=n.get(i);return o!==void 0?Promise.resolve(o):r(s,i)}}},MV={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},yV=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=n(o),l=s({...MV,...a}),u=A(c,l),h=r(c)?e():null;super(o,!1,u,h)}},DV=(t,e,A)=>()=>{const n=new WeakMap,r=async(s,i)=>{let o=e(s);if(!nn(o,i)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=t(i,c)}return n.set(i,o),await A(s,i,o),o};return{render(s,i){const o=n.get(i);return o!==void 0?Promise.resolve(o):r(s,i)}}},vV=t=>(e,A,n)=>t(A,e,n),BV=t=>(e,A,n=0,r=0)=>{const s=e[n];if(s===void 0)throw t();return zf(A)?s.connect(A,0,r):s.connect(A,0)},kV=t=>(e,A)=>{const n=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),r=e.createBuffer(1,2,44100);return n.buffer=r,n.loop=!0,n.connect(A),n.start(),()=>{n.stop(),n.disconnect(A)}},EV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},NV=(t,e,A,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...EV,...c},h=n(l,u),f=s(l),d=f?A():null;super(a,!1,h,d),this._constantSourceNodeRenderer=d,this._nativeConstantSourceNode=h,this._offset=e(this,f,h.offset,pn,Sn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(a){const c=typeof a=="function"?i(this,a):null;this._nativeConstantSourceNode.onended=c;const l=this._nativeConstantSourceNode.onended;this._onended=l!==null&&l===c?a:l}start(a=0){if(this._nativeConstantSourceNode.start(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.start=a),this.context.state!=="closed"){Sa(this);const c=()=>{this._nativeConstantSourceNode.removeEventListener("ended",c),Fs(this)&&Sl(this)};this._nativeConstantSourceNode.addEventListener("ended",c)}}stop(a=0){this._nativeConstantSourceNode.stop(a),this._constantSourceNodeRenderer!==null&&(this._constantSourceNodeRenderer.stop=a)}},TV=(t,e,A,n,r)=>()=>{const s=new WeakMap;let i=null,o=null;const a=async(c,l)=>{let u=A(c);const h=nn(u,l);if(!h){const f={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,offset:u.offset.value};u=e(l,f),i!==null&&u.start(i),o!==null&&u.stop(o)}return s.set(l,u),h?await t(l,c.offset,u.offset):await n(l,c.offset,u.offset),await r(c,l,u),u};return{set start(c){i=c},set stop(c){o=c},render(c,l){const u=s.get(l);return u!==void 0?Promise.resolve(u):a(c,l)}}},YV=t=>e=>(t[0]=e,t[0]),OV={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},SV=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=n(o),l={...OV,...a},u=A(c,l),f=r(c)?e():null;super(o,!1,u,f),this._isBufferNullified=!1,this._nativeConvolverNode=u,l.buffer!==null&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(o){if(this._nativeConvolverNode.buffer=o,o===null&&this._nativeConvolverNode.buffer!==null){const a=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=a.createBuffer(1,1,a.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,this._nativeConvolverNode.buffer===null?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(o){this._nativeConvolverNode.normalize=o}},ZV=(t,e,A)=>()=>{const n=new WeakMap,r=async(s,i)=>{let o=e(s);if(!nn(o,i)){const c={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=t(i,c)}return n.set(i,o),Za(o)?await A(s,i,o.inputs[0]):await A(s,i,o),o};return{render(s,i){const o=n.get(i);return o!==void 0?Promise.resolve(o):r(s,i)}}},CV=(t,e)=>(A,n,r)=>{if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(A,n,r)}catch(s){throw s.name==="SyntaxError"?t():s}},PV=()=>new DOMException("","DataCloneError"),xN=t=>{const{port1:e,port2:A}=new MessageChannel;return new Promise(n=>{const r=()=>{A.onmessage=null,e.close(),A.close(),n()};A.onmessage=()=>r();try{e.postMessage(t,[t])}catch{}finally{r()}})},RV=(t,e,A,n,r,s,i,o,a,c,l)=>(u,h)=>{const f=i(u)?u:s(u);if(r.has(h)){const d=A();return Promise.reject(d)}try{r.add(h)}catch{}return e(a,()=>a(f))?f.decodeAudioData(h).then(d=>(xN(h).catch(()=>{}),e(o,()=>o(d))||l(d),t.add(d),d)):new Promise((d,m)=>{const p=async()=>{try{await xN(h)}catch{}},g=w=>{m(w),p()};try{f.decodeAudioData(h,w=>{typeof w.copyFromChannel!="function"&&(c(w),n0(w)),t.add(w),p().then(()=>d(w))},w=>{g(w===null?n():w)})}catch(w){g(w)}})},IV=(t,e,A,n,r,s,i,o)=>(a,c)=>{const l=e.get(a);if(l===void 0)throw new Error("Missing the expected cycle count.");const u=s(a.context),h=o(u);if(l===c){if(e.delete(a),!h&&i(a)){const f=n(a),{outputs:d}=A(a);for(const m of d)if(Cl(m)){const p=n(m[0]);t(f,p,m[1],m[2])}else{const p=r(m[0]);f.connect(p,m[1])}}}else e.set(a,l-c)},jV={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},zV=(t,e,A,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...jV,...c},h=n(l,u),f=s(l),d=f?A(u.maxDelayTime):null;super(a,!1,h,d),this._delayTime=e(this,f,h.delayTime),i(this,u.maxDelayTime)}get delayTime(){return this._delayTime}},HV=(t,e,A,n,r)=>s=>{const i=new WeakMap,o=async(a,c)=>{let l=A(a);const u=nn(l,c);if(!u){const h={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,delayTime:l.delayTime.value,maxDelayTime:s};l=e(c,h)}return i.set(c,l),u?await t(c,a.delayTime,l.delayTime):await n(c,a.delayTime,l.delayTime),await r(a,c,l),l};return{render(a,c){const l=i.get(c);return l!==void 0?Promise.resolve(l):o(a,c)}}},LV=t=>(e,A,n,r)=>t(e[r],s=>s[0]===A&&s[1]===n),UV=t=>(e,A)=>{t(e).delete(A)},$V=t=>"delayTime"in t,FV=(t,e,A)=>function n(r,s){const i=Pf(s)?s:A(t,s);if($V(i))return[];if(r[0]===i)return[r];if(r.includes(i))return[];const{outputs:o}=e(i);return Array.from(o).map(a=>n([...r,i],a[0])).reduce((a,c)=>a.concat(c),[])},Uf=(t,e,A)=>{const n=e[A];if(n===void 0)throw t();return n},VV=t=>(e,A=void 0,n=void 0,r=0)=>A===void 0?e.forEach(s=>s.disconnect()):typeof A=="number"?Uf(t,e,A).disconnect():zf(A)?n===void 0?e.forEach(s=>s.disconnect(A)):r===void 0?Uf(t,e,n).disconnect(A,0):Uf(t,e,n).disconnect(A,0,r):n===void 0?e.forEach(s=>s.disconnect(A)):Uf(t,e,n).disconnect(A,0),WV={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},QV=(t,e,A,n,r,s,i,o)=>class extends t{constructor(c,l){const u=s(c),h={...WV,...l},f=n(u,h),d=i(u),m=d?A():null;super(c,!1,f,m),this._attack=e(this,d,f.attack),this._knee=e(this,d,f.knee),this._nativeDynamicsCompressorNode=f,this._ratio=e(this,d,f.ratio),this._release=e(this,d,f.release),this._threshold=e(this,d,f.threshold),o(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(c){const l=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=c,c>2)throw this._nativeDynamicsCompressorNode.channelCount=l,r()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(c){const l=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=c,c==="max")throw this._nativeDynamicsCompressorNode.channelCountMode=l,r()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return typeof this._nativeDynamicsCompressorNode.reduction.value=="number"?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}},qV=(t,e,A,n,r)=>()=>{const s=new WeakMap,i=async(o,a)=>{let c=A(o);const l=nn(c,a);if(!l){const u={attack:c.attack.value,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,knee:c.knee.value,ratio:c.ratio.value,release:c.release.value,threshold:c.threshold.value};c=e(a,u)}return s.set(a,c),l?(await t(a,o.attack,c.attack),await t(a,o.knee,c.knee),await t(a,o.ratio,c.ratio),await t(a,o.release,c.release),await t(a,o.threshold,c.threshold)):(await n(a,o.attack,c.attack),await n(a,o.knee,c.knee),await n(a,o.ratio,c.ratio),await n(a,o.release,c.release),await n(a,o.threshold,c.threshold)),await r(o,a,c),c};return{render(o,a){const c=s.get(a);return c!==void 0?Promise.resolve(c):i(o,a)}}},KV=()=>new DOMException("","EncodingError"),JV=t=>e=>new Promise((A,n)=>{if(t===null){n(new SyntaxError);return}const r=t.document.head;if(r===null)n(new SyntaxError);else{const s=t.document.createElement("script"),i=new Blob([e],{type:"application/javascript"}),o=URL.createObjectURL(i),a=t.onerror,c=()=>{t.onerror=a,URL.revokeObjectURL(o)};t.onerror=(l,u,h,f,d)=>{if(u===o||u===t.location.href&&h===1&&f===1)return c(),n(d),!1;if(a!==null)return a(l,u,h,f,d)},s.onerror=()=>{c(),n(new SyntaxError)},s.onload=()=>{c(),A()},s.src=o,s.type="module",r.appendChild(s)}}),XV=t=>class{constructor(A){this._nativeEventTarget=A,this._listeners=new WeakMap}addEventListener(A,n,r){if(n!==null){let s=this._listeners.get(n);s===void 0&&(s=t(this,n),typeof n=="function"&&this._listeners.set(n,s)),this._nativeEventTarget.addEventListener(A,s,r)}}dispatchEvent(A){return this._nativeEventTarget.dispatchEvent(A)}removeEventListener(A,n,r){const s=n===null?void 0:this._listeners.get(n);this._nativeEventTarget.removeEventListener(A,s===void 0?null:s,r)}},eW=t=>(e,A,n)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get(){return Math.round(e*A)}},currentTime:{configurable:!0,get(){return e}}});try{return n()}finally{t!==null&&(delete t.currentFrame,delete t.currentTime)}},tW=t=>async e=>{try{const A=await fetch(e);if(A.ok)return[await A.text(),A.url]}catch{}throw t()},AW={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},nW=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=r(o),l={...AW,...a},u=n(c,l),h=s(c),f=h?A():null;super(o,!1,u,f),this._gain=e(this,h,u.gain,pn,Sn)}get gain(){return this._gain}},rW=(t,e,A,n,r)=>()=>{const s=new WeakMap,i=async(o,a)=>{let c=A(o);const l=nn(c,a);if(!l){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,gain:c.gain.value};c=e(a,u)}return s.set(a,c),l?await t(a,o.gain,c.gain):await n(a,o.gain,c.gain),await r(o,a,c),c};return{render(o,a){const c=s.get(a);return c!==void 0?Promise.resolve(c):i(o,a)}}},sW=(t,e)=>A=>e(t,A),iW=t=>e=>{const A=t(e);if(A.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return A.renderer},oW=t=>e=>{var A;return(A=t.get(e))!==null&&A!==void 0?A:0},aW=t=>e=>{const A=t(e);if(A.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return A.renderer},cW=t=>e=>t.get(e),HA=()=>new DOMException("","InvalidStateError"),lW=t=>e=>{const A=t.get(e);if(A===void 0)throw HA();return A},uW=(t,e)=>A=>{let n=t.get(A);if(n!==void 0)return n;if(e===null)throw new Error("Missing the native OfflineAudioContext constructor.");return n=new e(1,1,44100),t.set(A,n),n},hW=t=>e=>{const A=t.get(e);if(A===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return A},$f=()=>new DOMException("","InvalidAccessError"),fW=t=>{t.getFrequencyResponse=(e=>(A,n,r)=>{if(A.length!==n.length||n.length!==r.length)throw $f();return e.call(t,A,n,r)})(t.getFrequencyResponse)},dW={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},mW=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=n(o),l=r(c),u={...dW,...a},h=e(c,l?null:o.baseLatency,u),f=l?A(u.feedback,u.feedforward):null;super(o,!1,h,f),fW(h),this._nativeIIRFilterNode=h,s(this,1)}getFrequencyResponse(o,a,c){return this._nativeIIRFilterNode.getFrequencyResponse(o,a,c)}},GN=(t,e,A,n,r,s,i,o,a,c,l)=>{const u=c.length;let h=o;for(let f=0;f<u;f+=1){let d=A[0]*c[f];for(let m=1;m<r;m+=1){const p=h-m&a-1;d+=A[m]*s[p],d-=t[m]*i[p]}for(let m=r;m<n;m+=1)d+=A[m]*s[h-m&a-1];for(let m=r;m<e;m+=1)d-=t[m]*i[h-m&a-1];s[h]=c[f],i[h]=d,h=h+1&a-1,l[f]=d}return h},pW=(t,e,A,n)=>{const r=A instanceof Float64Array?A:new Float64Array(A),s=n instanceof Float64Array?n:new Float64Array(n),i=r.length,o=s.length,a=Math.min(i,o);if(r[0]!==1){for(let d=0;d<i;d+=1)s[d]/=r[0];for(let d=1;d<o;d+=1)r[d]/=r[0]}const c=32,l=new Float32Array(c),u=new Float32Array(c),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let d=0;d<f;d+=1){const m=t.getChannelData(d),p=h.getChannelData(d);l.fill(0),u.fill(0),GN(r,i,s,o,a,l,u,0,c,m,p)}return h},gW=(t,e,A,n,r)=>(s,i)=>{const o=new WeakMap;let a=null;const c=async(l,u)=>{let h=null,f=e(l);const d=nn(f,u);if(u.createIIRFilter===void 0?h=t(u,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):d||(f=u.createIIRFilter(i,s)),o.set(u,h===null?f:h),h!==null){if(a===null){if(A===null)throw new Error("Missing the native OfflineAudioContext constructor.");const p=new A(l.context.destination.channelCount,l.context.length,u.sampleRate);a=(async()=>{await n(l,p,p.destination);const g=await r(p);return pW(g,u,s,i)})()}const m=await a;return h.buffer=m,h.start(0),h}return await n(l,u,f),f};return{render(l,u){const h=o.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},wW=(t,e,A,n,r,s)=>i=>(o,a)=>{const c=t.get(o);if(c===void 0){if(!i&&s(o)){const l=n(o),{outputs:u}=A(o);for(const h of u)if(Cl(h)){const f=n(h[0]);e(l,f,h[1],h[2])}else{const f=r(h[0]);l.disconnect(f,h[1])}}t.set(o,a)}else t.set(o,c+a)},bW=(t,e)=>A=>{const n=t.get(A);return e(n)||e(A)},_W=(t,e)=>A=>t.has(A)||e(A),xW=(t,e)=>A=>t.has(A)||e(A),GW=(t,e)=>A=>{const n=t.get(A);return e(n)||e(A)},MW=t=>e=>t!==null&&e instanceof t,yW=t=>e=>t!==null&&typeof t.AudioNode=="function"&&e instanceof t.AudioNode,DW=t=>e=>t!==null&&typeof t.AudioParam=="function"&&e instanceof t.AudioParam,vW=(t,e)=>A=>t(A)||e(A),BW=t=>e=>t!==null&&e instanceof t,kW=t=>t!==null&&t.isSecureContext,EW=(t,e,A,n)=>class extends t{constructor(s,i){const o=A(s),a=e(o,i);if(n(o))throw TypeError();super(s,!0,a,null),this._nativeMediaElementAudioSourceNode=a}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}},NW={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},TW=(t,e,A,n)=>class extends t{constructor(s,i){const o=A(s);if(n(o))throw new TypeError;const a={...NW,...i},c=e(o,a);super(s,!1,c,null),this._nativeMediaStreamAudioDestinationNode=c}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}},YW=(t,e,A,n)=>class extends t{constructor(s,i){const o=A(s),a=e(o,i);if(n(o))throw new TypeError;super(s,!0,a,null),this._nativeMediaStreamAudioSourceNode=a}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},OW=(t,e,A)=>class extends t{constructor(r,s){const i=A(r),o=e(i,s);super(r,!0,o,null)}},SW=(t,e,A,n,r,s)=>class extends A{constructor(o,a){super(o),this._nativeContext=o,Sf.set(this,o),n(o)&&r.set(o,new Set),this._destination=new t(this,a),this._listener=e(this,o),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(o){const a=typeof o=="function"?s(this,o):null;this._nativeContext.onstatechange=a;const c=this._nativeContext.onstatechange;this._onstatechange=c!==null&&c===a?o:c}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Rl=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const A=t.decodeAudioData(e.buffer,()=>{});return A===void 0?!1:(A.catch(()=>{}),!0)}catch{}return!1},ZW=(t,e)=>(A,n,r)=>{const s=new Set;return A.connect=(i=>(o,a=0,c=0)=>{const l=s.size===0;if(e(o))return i.call(A,o,a,c),t(s,[o,a,c],u=>u[0]===o&&u[1]===a&&u[2]===c,!0),l&&n(),o;i.call(A,o,a),t(s,[o,a],u=>u[0]===o&&u[1]===a,!0),l&&n()})(A.connect),A.disconnect=(i=>(o,a,c)=>{const l=s.size>0;if(o===void 0)i.apply(A),s.clear();else if(typeof o=="number"){i.call(A,o);for(const h of s)h[1]===o&&s.delete(h)}else{e(o)?i.call(A,o,a,c):i.call(A,o,a);for(const h of s)h[0]===o&&(a===void 0||h[1]===a)&&(c===void 0||h[2]===c)&&s.delete(h)}const u=s.size===0;l&&u&&r()})(A.disconnect),A},Qt=(t,e,A)=>{const n=e[A];n!==void 0&&n!==t[A]&&(t[A]=n)},OA=(t,e)=>{Qt(t,e,"channelCount"),Qt(t,e,"channelCountMode"),Qt(t,e,"channelInterpretation")},MN=t=>typeof t.getFloatTimeDomainData=="function",CW=t=>{t.getFloatTimeDomainData=e=>{const A=new Uint8Array(e.length);t.getByteTimeDomainData(A);const n=Math.max(A.length,t.fftSize);for(let r=0;r<n;r+=1)e[r]=(A[r]-128)*.0078125;return e}},PW=(t,e)=>(A,n)=>{const r=A.createAnalyser();if(OA(r,n),!(n.maxDecibels>n.minDecibels))throw e();return Qt(r,n,"fftSize"),Qt(r,n,"maxDecibels"),Qt(r,n,"minDecibels"),Qt(r,n,"smoothingTimeConstant"),t(MN,()=>MN(r))||CW(r),r},RW=t=>t===null?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null,lA=(t,e,A)=>{const n=e[A];n!==void 0&&n!==t[A].value&&(t[A].value=n)},IW=t=>{t.start=(e=>{let A=!1;return(n=0,r=0,s)=>{if(A)throw HA();e.call(t,n,r,s),A=!0}})(t.start)},a0=t=>{t.start=(e=>(A=0,n=0,r)=>{if(typeof r=="number"&&r<0||n<0||A<0)throw new RangeError("The parameters can't be negative.");e.call(t,A,n,r)})(t.start)},c0=t=>{t.stop=(e=>(A=0)=>{if(A<0)throw new RangeError("The parameter can't be negative.");e.call(t,A)})(t.stop)},jW=(t,e,A,n,r,s,i,o,a,c,l)=>(u,h)=>{const f=u.createBufferSource();return OA(f,h),lA(f,h,"playbackRate"),Qt(f,h,"buffer"),Qt(f,h,"loop"),Qt(f,h,"loopEnd"),Qt(f,h,"loopStart"),e(A,()=>A(u))||IW(f),e(n,()=>n(u))||a(f),e(r,()=>r(u))||c(f,u),e(s,()=>s(u))||a0(f),e(i,()=>i(u))||l(f,u),e(o,()=>o(u))||c0(f),t(u,f),f},zW=t=>t===null?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null,HW=(t,e)=>(A,n,r)=>{const s=A.destination;if(s.channelCount!==n)try{s.channelCount=n}catch{}r&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:n});const i=t(A,{channelCount:n,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(i,"channelCount",o=>()=>o.call(i),o=>a=>{o.call(i,a);try{s.channelCount=a}catch(c){if(a>s.maxChannelCount)throw c}}),e(i,"channelCountMode",o=>()=>o.call(i),o=>a=>{o.call(i,a),s.channelCountMode=a}),e(i,"channelInterpretation",o=>()=>o.call(i),o=>a=>{o.call(i,a),s.channelInterpretation=a}),Object.defineProperty(i,"maxChannelCount",{get:()=>s.maxChannelCount}),i.connect(s),i},LW=t=>t===null?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null,UW=t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}},$W=(t,e,A,n,r)=>(s,i,o,a,c,l)=>{if(o!==null)try{const u=new o(s,a,l),h=new Map;let f=null;if(Object.defineProperties(u,{channelCount:{get:()=>l.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>f,set:d=>{typeof f=="function"&&u.removeEventListener("processorerror",f),f=typeof d=="function"?d:null,typeof f=="function"&&u.addEventListener("processorerror",f)}}}),u.addEventListener=(d=>(...m)=>{if(m[0]==="processorerror"){const p=typeof m[1]=="function"?m[1]:typeof m[1]=="object"&&m[1]!==null&&typeof m[1].handleEvent=="function"?m[1].handleEvent:null;if(p!==null){const g=h.get(m[1]);g!==void 0?m[1]=g:(m[1]=w=>{w.type==="error"?(Object.defineProperties(w,{type:{value:"processorerror"}}),p(w)):p(new ErrorEvent(m[0],{...w}))},h.set(p,m[1]))}}return d.call(u,"error",m[1],m[2]),d.call(u,...m)})(u.addEventListener),u.removeEventListener=(d=>(...m)=>{if(m[0]==="processorerror"){const p=h.get(m[1]);p!==void 0&&(h.delete(m[1]),m[1]=p)}return d.call(u,"error",m[1],m[2]),d.call(u,m[0],m[1],m[2])})(u.removeEventListener),l.numberOfOutputs!==0){const d=A(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return u.connect(d).connect(s.destination),r(u,()=>d.disconnect(),()=>d.connect(s.destination))}return u}catch(u){throw u.code===11?n():u}if(c===void 0)throw n();return UW(l),e(s,i,c,l)},yN=(t,e)=>t===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),FW=t=>new Promise((e,A)=>{const{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:s})=>{n.close(),r.close(),e(s)},n.onmessageerror=({data:s})=>{n.close(),r.close(),A(s)},r.postMessage(t)}),VW=async(t,e)=>{const A=await FW(e);return new t(A)},WW=(t,e,A,n)=>{let r=t0.get(t);r===void 0&&(r=new WeakMap,t0.set(t,r));const s=VW(A,n);return r.set(e,s),s},QW=(t,e,A,n,r,s,i,o,a,c,l,u,h)=>(f,d,m,p)=>{if(p.numberOfInputs===0&&p.numberOfOutputs===0)throw a();const g=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(g.some(J=>J<1))throw a();if(g.length!==p.numberOfOutputs)throw e();if(p.channelCountMode!=="explicit")throw a();const w=p.channelCount*p.numberOfInputs,x=g.reduce((J,X)=>J+X,0),v=m.parameterDescriptors===void 0?0:m.parameterDescriptors.length;if(w+v>6||x>6)throw a();const b=new MessageChannel,T=[],M=[];for(let J=0;J<p.numberOfInputs;J+=1)T.push(i(f,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),M.push(r(f,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const B=[];if(m.parameterDescriptors!==void 0)for(const{defaultValue:J,maxValue:X,minValue:L,name:z}of m.parameterDescriptors){const Q=s(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:p.parameterData[z]!==void 0?p.parameterData[z]:J===void 0?0:J});Object.defineProperties(Q.offset,{defaultValue:{get:()=>J===void 0?0:J},maxValue:{get:()=>X===void 0?pn:X},minValue:{get:()=>L===void 0?Sn:L}}),B.push(Q)}const Z=n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,w+v)}),S=yN(d,f.sampleRate),C=o(f,S,w+v,Math.max(1,x)),k=r(f,{channelCount:Math.max(1,x),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,x)}),N=[];for(let J=0;J<p.numberOfOutputs;J+=1)N.push(n(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:g[J]}));for(let J=0;J<p.numberOfInputs;J+=1){T[J].connect(M[J]);for(let X=0;X<p.channelCount;X+=1)M[J].connect(Z,X,J*p.channelCount+X)}const y=new bN(m.parameterDescriptors===void 0?[]:m.parameterDescriptors.map(({name:J},X)=>{const L=B[X];return L.connect(Z,0,w+X),L.start(0),[J,L.offset]}));Z.connect(C);let I=p.channelInterpretation,U=null;const j=p.numberOfOutputs===0?[C]:N,F={get bufferSize(){return S},get channelCount(){return p.channelCount},set channelCount(J){throw A()},get channelCountMode(){return p.channelCountMode},set channelCountMode(J){throw A()},get channelInterpretation(){return I},set channelInterpretation(J){for(const X of T)X.channelInterpretation=J;I=J},get context(){return C.context},get inputs(){return T},get numberOfInputs(){return p.numberOfInputs},get numberOfOutputs(){return p.numberOfOutputs},get onprocessorerror(){return U},set onprocessorerror(J){typeof U=="function"&&F.removeEventListener("processorerror",U),U=typeof J=="function"?J:null,typeof U=="function"&&F.addEventListener("processorerror",U)},get parameters(){return y},get port(){return b.port2},addEventListener(...J){return C.addEventListener(J[0],J[1],J[2])},connect:t.bind(null,j),disconnect:c.bind(null,j),dispatchEvent(...J){return C.dispatchEvent(J[0])},removeEventListener(...J){return C.removeEventListener(J[0],J[1],J[2])}},V=new Map;b.port1.addEventListener=(J=>(...X)=>{if(X[0]==="message"){const L=typeof X[1]=="function"?X[1]:typeof X[1]=="object"&&X[1]!==null&&typeof X[1].handleEvent=="function"?X[1].handleEvent:null;if(L!==null){const z=V.get(X[1]);z!==void 0?X[1]=z:(X[1]=Q=>{l(f.currentTime,f.sampleRate,()=>L(Q))},V.set(L,X[1]))}}return J.call(b.port1,X[0],X[1],X[2])})(b.port1.addEventListener),b.port1.removeEventListener=(J=>(...X)=>{if(X[0]==="message"){const L=V.get(X[1]);L!==void 0&&(V.delete(X[1]),X[1]=L)}return J.call(b.port1,X[0],X[1],X[2])})(b.port1.removeEventListener);let W=null;Object.defineProperty(b.port1,"onmessage",{get:()=>W,set:J=>{typeof W=="function"&&b.port1.removeEventListener("message",W),W=typeof J=="function"?J:null,typeof W=="function"&&(b.port1.addEventListener("message",W),b.port1.start())}}),m.prototype.port=b.port1;let O=null;WW(f,F,m,p).then(J=>O=J);const Ae=Lf(p.numberOfInputs,p.channelCount),K=Lf(p.numberOfOutputs,g),ee=m.parameterDescriptors===void 0?[]:m.parameterDescriptors.reduce((J,{name:X})=>({...J,[X]:new Float32Array(128)}),{});let de=!0;const be=()=>{p.numberOfOutputs>0&&C.disconnect(k);for(let J=0,X=0;J<p.numberOfOutputs;J+=1){const L=N[J];for(let z=0;z<g[J];z+=1)k.disconnect(L,X+z,z);X+=g[J]}},me=new Map;C.onaudioprocess=({inputBuffer:J,outputBuffer:X})=>{if(O!==null){const L=u(F);for(let z=0;z<S;z+=128){for(let Q=0;Q<p.numberOfInputs;Q+=1)for(let fe=0;fe<p.channelCount;fe+=1)Hf(J,Ae[Q],fe,fe,z);m.parameterDescriptors!==void 0&&m.parameterDescriptors.forEach(({name:Q},fe)=>{Hf(J,ee,Q,w+fe,z)});for(let Q=0;Q<p.numberOfInputs;Q+=1)for(let fe=0;fe<g[Q];fe+=1)K[Q][fe].byteLength===0&&(K[Q][fe]=new Float32Array(128));try{const Q=Ae.map((pe,oe)=>{if(L[oe].size>0)return me.set(oe,S/128),pe;const Se=me.get(oe);return Se===void 0?[]:(pe.every(Be=>Be.every(Ue=>Ue===0))&&(Se===1?me.delete(oe):me.set(oe,Se-1)),pe)});de=l(f.currentTime+z/f.sampleRate,f.sampleRate,()=>O.process(Q,K,ee));for(let pe=0,oe=0;pe<p.numberOfOutputs;pe+=1){for(let ye=0;ye<g[pe];ye+=1)_N(X,K[pe],ye,oe+ye,z);oe+=g[pe]}}catch(Q){de=!1,F.dispatchEvent(new ErrorEvent("processorerror",{colno:Q.colno,filename:Q.filename,lineno:Q.lineno,message:Q.message}))}if(!de){for(let Q=0;Q<p.numberOfInputs;Q+=1){T[Q].disconnect(M[Q]);for(let fe=0;fe<p.channelCount;fe+=1)M[z].disconnect(Z,fe,Q*p.channelCount+fe)}if(m.parameterDescriptors!==void 0){const Q=m.parameterDescriptors.length;for(let fe=0;fe<Q;fe+=1){const pe=B[fe];pe.disconnect(Z,0,w+fe),pe.stop()}}Z.disconnect(C),C.onaudioprocess=null,_e?be():Pe();break}}}};let _e=!1;const ke=i(f,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ye=()=>C.connect(ke).connect(f.destination),Pe=()=>{C.disconnect(ke),ke.disconnect()},$e=()=>{if(de){Pe(),p.numberOfOutputs>0&&C.connect(k);for(let J=0,X=0;J<p.numberOfOutputs;J+=1){const L=N[J];for(let z=0;z<g[J];z+=1)k.connect(L,X+z,z);X+=g[J]}}_e=!0},Y=()=>{de&&(Ye(),be()),_e=!1};return Ye(),h(F,$e,Y)},DN=(t,e)=>{const A=t.createBiquadFilter();return OA(A,e),lA(A,e,"Q"),lA(A,e,"detune"),lA(A,e,"frequency"),lA(A,e,"gain"),Qt(A,e,"type"),A},qW=(t,e)=>(A,n)=>{const r=A.createChannelMerger(n.numberOfInputs);return t!==null&&t.name==="webkitAudioContext"&&e(A,r),OA(r,n),r},KW=t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:A=>{if(A!==e)throw HA()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:A=>{if(A!=="explicit")throw HA()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:A=>{if(A!=="discrete")throw HA()}})},Il=(t,e)=>{const A=t.createChannelSplitter(e.numberOfOutputs);return OA(A,e),KW(A),A},JW=(t,e,A,n,r)=>(s,i)=>{if(s.createConstantSource===void 0)return A(s,i);const o=s.createConstantSource();return OA(o,i),lA(o,i,"offset"),e(n,()=>n(s))||a0(o),e(r,()=>r(s))||c0(o),t(s,o),o},Ca=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),XW=(t,e,A,n)=>(r,{offset:s,...i})=>{const o=r.createBuffer(1,2,44100),a=e(r,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=A(r,{...i,gain:s}),l=o.getChannelData(0);l[0]=1,l[1]=1,a.buffer=o,a.loop=!0;const u={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(d){c.channelCount=d},get channelCountMode(){return c.channelCountMode},set channelCountMode(d){c.channelCountMode=d},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(d){c.channelInterpretation=d},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return a.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return a.onended},set onended(d){a.onended=d},addEventListener(...d){return a.addEventListener(d[0],d[1],d[2])},dispatchEvent(...d){return a.dispatchEvent(d[0])},removeEventListener(...d){return a.removeEventListener(d[0],d[1],d[2])},start(d=0){a.start.call(a,d)},stop(d=0){a.stop.call(a,d)}},h=()=>a.connect(c),f=()=>a.disconnect(c);return t(r,a),n(Ca(u,c),h,f)},eQ=(t,e)=>(A,n)=>{const r=A.createConvolver();if(OA(r,n),n.disableNormalization===r.normalize&&(r.normalize=!n.disableNormalization),Qt(r,n,"buffer"),n.channelCount>2||(e(r,"channelCount",s=>()=>s.call(r),s=>i=>{if(i>2)throw t();return s.call(r,i)}),n.channelCountMode==="max"))throw t();return e(r,"channelCountMode",s=>()=>s.call(r),s=>i=>{if(i==="max")throw t();return s.call(r,i)}),r},vN=(t,e)=>{const A=t.createDelay(e.maxDelayTime);return OA(A,e),lA(A,e,"delayTime"),A},tQ=t=>(e,A)=>{const n=e.createDynamicsCompressor();if(OA(n,A),A.channelCount>2||A.channelCountMode==="max")throw t();return lA(n,A,"attack"),lA(n,A,"knee"),lA(n,A,"ratio"),lA(n,A,"release"),lA(n,A,"threshold"),n},Zn=(t,e)=>{const A=t.createGain();return OA(A,e),lA(A,e,"gain"),A},AQ=t=>(e,A,n)=>{if(e.createIIRFilter===void 0)return t(e,A,n);const r=e.createIIRFilter(n.feedforward,n.feedback);return OA(r,n),r};function nQ(t,e){const A=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/A,(t[1]*e[0]-t[0]*e[1])/A]}function rQ(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function BN(t,e){let A=[0,0];for(let n=t.length-1;n>=0;n-=1)A=rQ(A,e),A[0]+=t[n];return A}const sQ=(t,e,A,n)=>(r,s,{channelCount:i,channelCountMode:o,channelInterpretation:a,feedback:c,feedforward:l})=>{const u=yN(s,r.sampleRate),h=c instanceof Float64Array?c:new Float64Array(c),f=l instanceof Float64Array?l:new Float64Array(l),d=h.length,m=f.length,p=Math.min(d,m);if(d===0||d>20)throw n();if(h[0]===0)throw e();if(m===0||m>20)throw n();if(f[0]===0)throw e();if(h[0]!==1){for(let B=0;B<m;B+=1)f[B]/=h[0];for(let B=1;B<d;B+=1)h[B]/=h[0]}const g=A(r,u,i,i);g.channelCount=i,g.channelCountMode=o,g.channelInterpretation=a;const w=32,x=[],v=[],b=[];for(let B=0;B<i;B+=1){x.push(0);const Z=new Float32Array(w),S=new Float32Array(w);Z.fill(0),S.fill(0),v.push(Z),b.push(S)}g.onaudioprocess=B=>{const Z=B.inputBuffer,S=B.outputBuffer,C=Z.numberOfChannels;for(let k=0;k<C;k+=1){const N=Z.getChannelData(k),y=S.getChannelData(k);x[k]=GN(h,d,f,m,p,v[k],b[k],x[k],w,N,y)}};const T=r.sampleRate/2;return Ca({get bufferSize(){return u},get channelCount(){return g.channelCount},set channelCount(B){g.channelCount=B},get channelCountMode(){return g.channelCountMode},set channelCountMode(B){g.channelCountMode=B},get channelInterpretation(){return g.channelInterpretation},set channelInterpretation(B){g.channelInterpretation=B},get context(){return g.context},get inputs(){return[g]},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},addEventListener(...B){return g.addEventListener(B[0],B[1],B[2])},dispatchEvent(...B){return g.dispatchEvent(B[0])},getFrequencyResponse(B,Z,S){if(B.length!==Z.length||Z.length!==S.length)throw t();const C=B.length;for(let k=0;k<C;k+=1){const N=-Math.PI*(B[k]/T),y=[Math.cos(N),Math.sin(N)],I=BN(f,y),U=BN(h,y),j=nQ(I,U);Z[k]=Math.sqrt(j[0]*j[0]+j[1]*j[1]),S[k]=Math.atan2(j[1],j[0])}},removeEventListener(...B){return g.removeEventListener(B[0],B[1],B[2])}},g)},iQ=(t,e)=>t.createMediaElementSource(e.mediaElement),oQ=(t,e)=>{const A=t.createMediaStreamDestination();return OA(A,e),A.numberOfOutputs===1&&Object.defineProperty(A,"numberOfOutputs",{get:()=>0}),A},aQ=(t,{mediaStream:e})=>{const A=e.getAudioTracks();A.sort((s,i)=>s.id<i.id?-1:s.id>i.id?1:0);const n=A.slice(0,1),r=t.createMediaStreamSource(new MediaStream(n));return Object.defineProperty(r,"mediaStream",{value:e}),r},cQ=(t,e)=>(A,{mediaStreamTrack:n})=>{if(typeof A.createMediaStreamTrackSource=="function")return A.createMediaStreamTrackSource(n);const r=new MediaStream([n]),s=A.createMediaStreamSource(r);if(n.kind!=="audio")throw t();if(e(A))throw new TypeError;return s},lQ=t=>t===null?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null,uQ=(t,e,A,n,r,s)=>(i,o)=>{const a=i.createOscillator();return OA(a,o),lA(a,o,"detune"),lA(a,o,"frequency"),o.periodicWave!==void 0?a.setPeriodicWave(o.periodicWave):Qt(a,o,"type"),e(A,()=>A(i))||a0(a),e(n,()=>n(i))||s(a,i),e(r,()=>r(i))||c0(a),t(i,a),a},hQ=t=>(e,A)=>{const n=e.createPanner();return n.orientationX===void 0?t(e,A):(OA(n,A),lA(n,A,"orientationX"),lA(n,A,"orientationY"),lA(n,A,"orientationZ"),lA(n,A,"positionX"),lA(n,A,"positionY"),lA(n,A,"positionZ"),Qt(n,A,"coneInnerAngle"),Qt(n,A,"coneOuterAngle"),Qt(n,A,"coneOuterGain"),Qt(n,A,"distanceModel"),Qt(n,A,"maxDistance"),Qt(n,A,"panningModel"),Qt(n,A,"refDistance"),Qt(n,A,"rolloffFactor"),n)},fQ=(t,e,A,n,r,s,i,o,a,c)=>(l,{coneInnerAngle:u,coneOuterAngle:h,coneOuterGain:f,distanceModel:d,maxDistance:m,orientationX:p,orientationY:g,orientationZ:w,panningModel:x,positionX:v,positionY:b,positionZ:T,refDistance:M,rolloffFactor:B,...Z})=>{const S=l.createPanner();if(Z.channelCount>2||Z.channelCountMode==="max")throw i();OA(S,Z);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},k=A(l,{...C,channelInterpretation:"speakers",numberOfInputs:6}),N=n(l,{...Z,gain:1}),y=n(l,{...C,gain:1}),I=n(l,{...C,gain:0}),U=n(l,{...C,gain:0}),j=n(l,{...C,gain:0}),F=n(l,{...C,gain:0}),V=n(l,{...C,gain:0}),W=r(l,256,6,1),O=s(l,{...C,curve:new Float32Array([1,1]),oversample:"none"});let R=[p,g,w],Ae=[v,b,T];const K=new Float32Array(1);W.onaudioprocess=({inputBuffer:me})=>{const _e=[a(me,K,0),a(me,K,1),a(me,K,2)];_e.some((Ye,Pe)=>Ye!==R[Pe])&&(S.setOrientation(..._e),R=_e);const ke=[a(me,K,3),a(me,K,4),a(me,K,5)];ke.some((Ye,Pe)=>Ye!==Ae[Pe])&&(S.setPosition(...ke),Ae=ke)},Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(U.gain,"defaultValue",{get:()=>0}),Object.defineProperty(j.gain,"defaultValue",{get:()=>0}),Object.defineProperty(F.gain,"defaultValue",{get:()=>0}),Object.defineProperty(V.gain,"defaultValue",{get:()=>0});const ee={get bufferSize(){},get channelCount(){return S.channelCount},set channelCount(me){if(me>2)throw i();N.channelCount=me,S.channelCount=me},get channelCountMode(){return S.channelCountMode},set channelCountMode(me){if(me==="max")throw i();N.channelCountMode=me,S.channelCountMode=me},get channelInterpretation(){return S.channelInterpretation},set channelInterpretation(me){N.channelInterpretation=me,S.channelInterpretation=me},get coneInnerAngle(){return S.coneInnerAngle},set coneInnerAngle(me){S.coneInnerAngle=me},get coneOuterAngle(){return S.coneOuterAngle},set coneOuterAngle(me){S.coneOuterAngle=me},get coneOuterGain(){return S.coneOuterGain},set coneOuterGain(me){if(me<0||me>1)throw e();S.coneOuterGain=me},get context(){return S.context},get distanceModel(){return S.distanceModel},set distanceModel(me){S.distanceModel=me},get inputs(){return[N]},get maxDistance(){return S.maxDistance},set maxDistance(me){if(me<0)throw new RangeError;S.maxDistance=me},get numberOfInputs(){return S.numberOfInputs},get numberOfOutputs(){return S.numberOfOutputs},get orientationX(){return y.gain},get orientationY(){return I.gain},get orientationZ(){return U.gain},get panningModel(){return S.panningModel},set panningModel(me){S.panningModel=me},get positionX(){return j.gain},get positionY(){return F.gain},get positionZ(){return V.gain},get refDistance(){return S.refDistance},set refDistance(me){if(me<0)throw new RangeError;S.refDistance=me},get rolloffFactor(){return S.rolloffFactor},set rolloffFactor(me){if(me<0)throw new RangeError;S.rolloffFactor=me},addEventListener(...me){return N.addEventListener(me[0],me[1],me[2])},dispatchEvent(...me){return N.dispatchEvent(me[0])},removeEventListener(...me){return N.removeEventListener(me[0],me[1],me[2])}};u!==ee.coneInnerAngle&&(ee.coneInnerAngle=u),h!==ee.coneOuterAngle&&(ee.coneOuterAngle=h),f!==ee.coneOuterGain&&(ee.coneOuterGain=f),d!==ee.distanceModel&&(ee.distanceModel=d),m!==ee.maxDistance&&(ee.maxDistance=m),p!==ee.orientationX.value&&(ee.orientationX.value=p),g!==ee.orientationY.value&&(ee.orientationY.value=g),w!==ee.orientationZ.value&&(ee.orientationZ.value=w),x!==ee.panningModel&&(ee.panningModel=x),v!==ee.positionX.value&&(ee.positionX.value=v),b!==ee.positionY.value&&(ee.positionY.value=b),T!==ee.positionZ.value&&(ee.positionZ.value=T),M!==ee.refDistance&&(ee.refDistance=M),B!==ee.rolloffFactor&&(ee.rolloffFactor=B),(R[0]!==1||R[1]!==0||R[2]!==0)&&S.setOrientation(...R),(Ae[0]!==0||Ae[1]!==0||Ae[2]!==0)&&S.setPosition(...Ae);const de=()=>{N.connect(S),t(N,O,0,0),O.connect(y).connect(k,0,0),O.connect(I).connect(k,0,1),O.connect(U).connect(k,0,2),O.connect(j).connect(k,0,3),O.connect(F).connect(k,0,4),O.connect(V).connect(k,0,5),k.connect(W).connect(l.destination)},be=()=>{N.disconnect(S),o(N,O,0,0),O.disconnect(y),y.disconnect(k),O.disconnect(I),I.disconnect(k),O.disconnect(U),U.disconnect(k),O.disconnect(j),j.disconnect(k),O.disconnect(F),F.disconnect(k),O.disconnect(V),V.disconnect(k),k.disconnect(W),W.disconnect(l.destination)};return c(Ca(ee,S),de,be)},dQ=t=>(e,{disableNormalization:A,imag:n,real:r})=>{const s=n instanceof Float32Array?n:new Float32Array(n),i=r instanceof Float32Array?r:new Float32Array(r),o=e.createPeriodicWave(i,s,{disableNormalization:A});if(Array.from(n).length<2)throw t();return o},jl=(t,e,A,n)=>t.createScriptProcessor(e,A,n),mQ=(t,e)=>(A,n)=>{const r=n.channelCountMode;if(r==="clamped-max")throw e();if(A.createStereoPanner===void 0)return t(A,n);const s=A.createStereoPanner();return OA(s,n),lA(s,n,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>r,set:i=>{if(i!==r)throw e()}}),s},pQ=(t,e,A,n,r,s)=>{const o=new Float32Array([1,1]),a=Math.PI/2,c={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},l={...c,oversample:"none"},u=(d,m,p,g)=>{const w=new Float32Array(16385),x=new Float32Array(16385);for(let Z=0;Z<16385;Z+=1){const S=Z/16384*a;w[Z]=Math.cos(S),x[Z]=Math.sin(S)}const v=A(d,{...c,gain:0}),b=n(d,{...l,curve:w}),T=n(d,{...l,curve:o}),M=A(d,{...c,gain:0}),B=n(d,{...l,curve:x});return{connectGraph(){m.connect(v),m.connect(T.inputs===void 0?T:T.inputs[0]),m.connect(M),T.connect(p),p.connect(b.inputs===void 0?b:b.inputs[0]),p.connect(B.inputs===void 0?B:B.inputs[0]),b.connect(v.gain),B.connect(M.gain),v.connect(g,0,0),M.connect(g,0,1)},disconnectGraph(){m.disconnect(v),m.disconnect(T.inputs===void 0?T:T.inputs[0]),m.disconnect(M),T.disconnect(p),p.disconnect(b.inputs===void 0?b:b.inputs[0]),p.disconnect(B.inputs===void 0?B:B.inputs[0]),b.disconnect(v.gain),B.disconnect(M.gain),v.disconnect(g,0,0),M.disconnect(g,0,1)}}},h=(d,m,p,g)=>{const w=new Float32Array(16385),x=new Float32Array(16385),v=new Float32Array(16385),b=new Float32Array(16385),T=Math.floor(16385/2);for(let j=0;j<16385;j+=1)if(j>T){const F=(j-T)/(16384-T)*a;w[j]=Math.cos(F),x[j]=Math.sin(F),v[j]=0,b[j]=1}else{const F=j/(16384-T)*a;w[j]=1,x[j]=0,v[j]=Math.cos(F),b[j]=Math.sin(F)}const M=e(d,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),B=A(d,{...c,gain:0}),Z=n(d,{...l,curve:w}),S=A(d,{...c,gain:0}),C=n(d,{...l,curve:x}),k=n(d,{...l,curve:o}),N=A(d,{...c,gain:0}),y=n(d,{...l,curve:v}),I=A(d,{...c,gain:0}),U=n(d,{...l,curve:b});return{connectGraph(){m.connect(M),m.connect(k.inputs===void 0?k:k.inputs[0]),M.connect(B,0),M.connect(S,0),M.connect(N,1),M.connect(I,1),k.connect(p),p.connect(Z.inputs===void 0?Z:Z.inputs[0]),p.connect(C.inputs===void 0?C:C.inputs[0]),p.connect(y.inputs===void 0?y:y.inputs[0]),p.connect(U.inputs===void 0?U:U.inputs[0]),Z.connect(B.gain),C.connect(S.gain),y.connect(N.gain),U.connect(I.gain),B.connect(g,0,0),N.connect(g,0,0),S.connect(g,0,1),I.connect(g,0,1)},disconnectGraph(){m.disconnect(M),m.disconnect(k.inputs===void 0?k:k.inputs[0]),M.disconnect(B,0),M.disconnect(S,0),M.disconnect(N,1),M.disconnect(I,1),k.disconnect(p),p.disconnect(Z.inputs===void 0?Z:Z.inputs[0]),p.disconnect(C.inputs===void 0?C:C.inputs[0]),p.disconnect(y.inputs===void 0?y:y.inputs[0]),p.disconnect(U.inputs===void 0?U:U.inputs[0]),Z.disconnect(B.gain),C.disconnect(S.gain),y.disconnect(N.gain),U.disconnect(I.gain),B.disconnect(g,0,0),N.disconnect(g,0,0),S.disconnect(g,0,1),I.disconnect(g,0,1)}}},f=(d,m,p,g,w)=>{if(m===1)return u(d,p,g,w);if(m===2)return h(d,p,g,w);throw r()};return(d,{channelCount:m,channelCountMode:p,pan:g,...w})=>{if(p==="max")throw r();const x=t(d,{...w,channelCount:1,channelCountMode:p,numberOfInputs:2}),v=A(d,{...w,channelCount:m,channelCountMode:p,gain:1}),b=A(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:g});let{connectGraph:T,disconnectGraph:M}=f(d,m,v,b,x);Object.defineProperty(b.gain,"defaultValue",{get:()=>0}),Object.defineProperty(b.gain,"maxValue",{get:()=>1}),Object.defineProperty(b.gain,"minValue",{get:()=>-1});const B={get bufferSize(){},get channelCount(){return v.channelCount},set channelCount(k){v.channelCount!==k&&(Z&&M(),{connectGraph:T,disconnectGraph:M}=f(d,k,v,b,x),Z&&T()),v.channelCount=k},get channelCountMode(){return v.channelCountMode},set channelCountMode(k){if(k==="clamped-max"||k==="max")throw r();v.channelCountMode=k},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(k){v.channelInterpretation=k},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},get pan(){return b.gain},addEventListener(...k){return v.addEventListener(k[0],k[1],k[2])},dispatchEvent(...k){return v.dispatchEvent(k[0])},removeEventListener(...k){return v.removeEventListener(k[0],k[1],k[2])}};let Z=!1;const S=()=>{T(),Z=!0},C=()=>{M(),Z=!1};return s(Ca(B,x),S,C)}},gQ=(t,e,A,n,r,s,i)=>(o,a)=>{const c=o.createWaveShaper();if(s!==null&&s.name==="webkitAudioContext"&&o.createGain().gain.automationRate===void 0)return A(o,a);OA(c,a);const l=a.curve===null||a.curve instanceof Float32Array?a.curve:new Float32Array(a.curve);if(l!==null&&l.length<2)throw e();Qt(c,{curve:l},"curve"),Qt(c,a,"oversample");let u=null,h=!1;return i(c,"curve",m=>()=>m.call(c),m=>p=>(m.call(c,p),h&&(n(p)&&u===null?u=t(o,c):!n(p)&&u!==null&&(u(),u=null)),p)),r(c,()=>{h=!0,n(c.curve)&&(u=t(o,c))},()=>{h=!1,u!==null&&(u(),u=null)})},wQ=(t,e,A,n,r)=>(s,{curve:i,oversample:o,...a})=>{const c=s.createWaveShaper(),l=s.createWaveShaper();OA(c,a),OA(l,a);const u=A(s,{...a,gain:1}),h=A(s,{...a,gain:-1}),f=A(s,{...a,gain:1}),d=A(s,{...a,gain:-1});let m=null,p=!1,g=null;const w={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(b){u.channelCount=b,h.channelCount=b,c.channelCount=b,f.channelCount=b,l.channelCount=b,d.channelCount=b},get channelCountMode(){return c.channelCountMode},set channelCountMode(b){u.channelCountMode=b,h.channelCountMode=b,c.channelCountMode=b,f.channelCountMode=b,l.channelCountMode=b,d.channelCountMode=b},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(b){u.channelInterpretation=b,h.channelInterpretation=b,c.channelInterpretation=b,f.channelInterpretation=b,l.channelInterpretation=b,d.channelInterpretation=b},get context(){return c.context},get curve(){return g},set curve(b){if(b!==null&&b.length<2)throw e();if(b===null)c.curve=b,l.curve=b;else{const T=b.length,M=new Float32Array(T+2-T%2),B=new Float32Array(T+2-T%2);M[0]=b[0],B[0]=-b[T-1];const Z=Math.ceil((T+1)/2),S=(T+1)/2-1;for(let C=1;C<Z;C+=1){const k=C/Z*S,N=Math.floor(k),y=Math.ceil(k);M[C]=N===y?b[N]:(1-(k-N))*b[N]+(1-(y-k))*b[y],B[C]=N===y?-b[T-1-N]:-((1-(k-N))*b[T-1-N])-(1-(y-k))*b[T-1-y]}M[Z]=T%2===1?b[Z-1]:(b[Z-2]+b[Z-1])/2,c.curve=M,l.curve=B}g=b,p&&(n(g)&&m===null?m=t(s,u):m!==null&&(m(),m=null))},get inputs(){return[u]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(b){c.oversample=b,l.oversample=b},addEventListener(...b){return u.addEventListener(b[0],b[1],b[2])},dispatchEvent(...b){return u.dispatchEvent(b[0])},removeEventListener(...b){return u.removeEventListener(b[0],b[1],b[2])}};i!==null&&(w.curve=i instanceof Float32Array?i:new Float32Array(i)),o!==w.oversample&&(w.oversample=o);const x=()=>{u.connect(c).connect(f),u.connect(h).connect(l).connect(d).connect(f),p=!0,n(g)&&(m=t(s,u))},v=()=>{u.disconnect(c),c.disconnect(f),u.disconnect(h),h.disconnect(l),l.disconnect(d),d.disconnect(f),p=!1,m!==null&&(m(),m=null)};return r(Ca(w,f),x,v)},wn=()=>new DOMException("","NotSupportedError"),bQ={numberOfChannels:1},_Q=(t,e,A,n,r)=>class extends t{constructor(i,o,a){let c;if(typeof i=="number"&&o!==void 0&&a!==void 0)c={length:o,numberOfChannels:i,sampleRate:a};else if(typeof i=="object")c=i;else throw new Error("The given parameters are not valid.");const{length:l,numberOfChannels:u,sampleRate:h}={...bQ,...c},f=n(u,l,h);e(Rl,()=>Rl(f))||f.addEventListener("statechange",(()=>{let d=0;const m=p=>{this._state==="running"&&(d>0?(f.removeEventListener("statechange",m),p.stopImmediatePropagation(),this._waitForThePromiseToSettle(p)):d+=1)};return m})()),super(f,u),this._length=l,this._nativeOfflineAudioContext=f,this._state=null}get length(){return this._nativeOfflineAudioContext.length===void 0?this._length:this._nativeOfflineAudioContext.length}get state(){return this._state===null?this._nativeOfflineAudioContext.state:this._state}startRendering(){return this._state==="running"?Promise.reject(A()):(this._state="running",r(this.destination,this._nativeOfflineAudioContext).finally(()=>{this._state=null,hN(this)}))}_waitForThePromiseToSettle(i){this._state===null?this._nativeOfflineAudioContext.dispatchEvent(i):setTimeout(()=>this._waitForThePromiseToSettle(i))}},xQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},GQ=(t,e,A,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...xQ,...c},h=A(l,u),f=s(l),d=f?n():null,m=a.sampleRate/2;super(a,!1,h,d),this._detune=e(this,f,h.detune,153600,-153600),this._frequency=e(this,f,h.frequency,m,-m),this._nativeOscillatorNode=h,this._onended=null,this._oscillatorNodeRenderer=d,this._oscillatorNodeRenderer!==null&&u.periodicWave!==void 0&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(a){const c=typeof a=="function"?i(this,a):null;this._nativeOscillatorNode.onended=c;const l=this._nativeOscillatorNode.onended;this._onended=l!==null&&l===c?a:l}get type(){return this._nativeOscillatorNode.type}set type(a){this._nativeOscillatorNode.type=a,this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(a){this._nativeOscillatorNode.setPeriodicWave(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.periodicWave=a)}start(a=0){if(this._nativeOscillatorNode.start(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.start=a),this.context.state!=="closed"){Sa(this);const c=()=>{this._nativeOscillatorNode.removeEventListener("ended",c),Fs(this)&&Sl(this)};this._nativeOscillatorNode.addEventListener("ended",c)}}stop(a=0){this._nativeOscillatorNode.stop(a),this._oscillatorNodeRenderer!==null&&(this._oscillatorNodeRenderer.stop=a)}},MQ=(t,e,A,n,r)=>()=>{const s=new WeakMap;let i=null,o=null,a=null;const c=async(l,u)=>{let h=A(l);const f=nn(h,u);if(!f){const d={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:i===null?void 0:i,type:h.type};h=e(u,d),o!==null&&h.start(o),a!==null&&h.stop(a)}return s.set(u,h),f?(await t(u,l.detune,h.detune),await t(u,l.frequency,h.frequency)):(await n(u,l.detune,h.detune),await n(u,l.frequency,h.frequency)),await r(l,u,h),h};return{set periodicWave(l){i=l},set start(l){o=l},set stop(l){a=l},render(l,u){const h=s.get(u);return h!==void 0?Promise.resolve(h):c(l,u)}}},yQ={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},DQ=(t,e,A,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...yQ,...c},h=A(l,u),f=s(l),d=f?n():null;super(a,!1,h,d),this._nativePannerNode=h,this._orientationX=e(this,f,h.orientationX,pn,Sn),this._orientationY=e(this,f,h.orientationY,pn,Sn),this._orientationZ=e(this,f,h.orientationZ,pn,Sn),this._positionX=e(this,f,h.positionX,pn,Sn),this._positionY=e(this,f,h.positionY,pn,Sn),this._positionZ=e(this,f,h.positionZ,pn,Sn),i(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(a){this._nativePannerNode.coneInnerAngle=a}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(a){this._nativePannerNode.coneOuterAngle=a}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(a){this._nativePannerNode.coneOuterGain=a}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(a){this._nativePannerNode.distanceModel=a}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(a){this._nativePannerNode.maxDistance=a}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(a){this._nativePannerNode.panningModel=a}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(a){this._nativePannerNode.refDistance=a}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(a){this._nativePannerNode.rolloffFactor=a}},vQ=(t,e,A,n,r,s,i,o,a,c)=>()=>{const l=new WeakMap;let u=null;const h=async(f,d)=>{let m=null,p=s(f);const g={channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation},w={...g,coneInnerAngle:p.coneInnerAngle,coneOuterAngle:p.coneOuterAngle,coneOuterGain:p.coneOuterGain,distanceModel:p.distanceModel,maxDistance:p.maxDistance,panningModel:p.panningModel,refDistance:p.refDistance,rolloffFactor:p.rolloffFactor},x=nn(p,d);if("bufferSize"in p)m=n(d,{...g,gain:1});else if(!x){const v={...w,orientationX:p.orientationX.value,orientationY:p.orientationY.value,orientationZ:p.orientationZ.value,positionX:p.positionX.value,positionY:p.positionY.value,positionZ:p.positionZ.value};p=r(d,v)}if(l.set(d,m===null?p:m),m!==null){if(u===null){if(i===null)throw new Error("Missing the native OfflineAudioContext constructor.");const C=new i(6,f.context.length,d.sampleRate),k=e(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});k.connect(C.destination),u=(async()=>{const N=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map(async(y,I)=>{const U=A(C,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:I===0?1:0});return await o(C,y,U.offset),U}));for(let y=0;y<6;y+=1)N[y].connect(k,0,y),N[y].start(0);return c(C)})()}const v=await u,b=n(d,{...g,gain:1});await a(f,d,b);const T=[];for(let C=0;C<v.numberOfChannels;C+=1)T.push(v.getChannelData(C));let M=[T[0][0],T[1][0],T[2][0]],B=[T[3][0],T[4][0],T[5][0]],Z=n(d,{...g,gain:1}),S=r(d,{...w,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:B[0],positionY:B[1],positionZ:B[2]});b.connect(Z).connect(S.inputs[0]),S.connect(m);for(let C=128;C<v.length;C+=128){const k=[T[0][C],T[1][C],T[2][C]],N=[T[3][C],T[4][C],T[5][C]];if(k.some((y,I)=>y!==M[I])||N.some((y,I)=>y!==B[I])){M=k,B=N;const y=C/d.sampleRate;Z.gain.setValueAtTime(0,y),Z=n(d,{...g,gain:0}),S=r(d,{...w,orientationX:M[0],orientationY:M[1],orientationZ:M[2],positionX:B[0],positionY:B[1],positionZ:B[2]}),Z.gain.setValueAtTime(1,y),b.connect(Z).connect(S.inputs[0]),S.connect(m)}}return m}return x?(await t(d,f.orientationX,p.orientationX),await t(d,f.orientationY,p.orientationY),await t(d,f.orientationZ,p.orientationZ),await t(d,f.positionX,p.positionX),await t(d,f.positionY,p.positionY),await t(d,f.positionZ,p.positionZ)):(await o(d,f.orientationX,p.orientationX),await o(d,f.orientationY,p.orientationY),await o(d,f.orientationZ,p.orientationZ),await o(d,f.positionX,p.positionX),await o(d,f.positionY,p.positionY),await o(d,f.positionZ,p.positionZ)),Za(p)?await a(f,d,p.inputs[0]):await a(f,d,p),p};return{render(f,d){const m=l.get(d);return m!==void 0?Promise.resolve(m):h(f,d)}}},BQ={disableNormalization:!1},kQ=(t,e,A,n)=>class ZS{constructor(s,i){const o=e(s),a=n({...BQ,...i}),c=t(o,a);return A.add(c),c}static[Symbol.hasInstance](s){return s!==null&&typeof s=="object"&&Object.getPrototypeOf(s)===ZS.prototype||A.has(s)}},EQ=(t,e)=>(A,n,r)=>(t(n).replay(r),e(n,A,r)),NQ=(t,e,A)=>async(n,r,s)=>{const i=t(n);await Promise.all(i.activeInputs.map((o,a)=>Array.from(o).map(async([c,l])=>{const h=await e(c).render(c,r),f=n.context.destination;!A(c)&&(n!==f||!A(n))&&h.connect(s,l,a)})).reduce((o,a)=>[...o,...a],[]))},TQ=(t,e,A)=>async(n,r,s)=>{const i=e(n);await Promise.all(Array.from(i.activeInputs).map(async([o,a])=>{const l=await t(o).render(o,r);A(o)||l.connect(s,a)}))},YQ=(t,e,A,n)=>r=>t(Rl,()=>Rl(r))?Promise.resolve(t(n,n)).then(s=>{if(!s){const i=A(r,512,0,1);r.oncomplete=()=>{i.onaudioprocess=null,i.disconnect()},i.onaudioprocess=()=>r.currentTime,i.connect(r.destination)}return r.startRendering()}):new Promise(s=>{const i=e(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});r.oncomplete=o=>{i.disconnect(),s(o.renderedBuffer)},i.connect(r.destination),r.startRendering()}),OQ=t=>(e,A)=>{t.set(e,A)},SQ=t=>(e,A)=>t.set(e,A),ZQ=(t,e,A,n,r,s,i,o)=>(a,c)=>A(a).render(a,c).then(()=>Promise.all(Array.from(n(c)).map(l=>A(l).render(l,c)))).then(()=>r(c)).then(l=>(typeof l.copyFromChannel!="function"?(i(l),n0(l)):e(s,()=>s(l))||o(l),t.add(l),l)),CQ={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},PQ=(t,e,A,n,r,s)=>class extends t{constructor(o,a){const c=r(o),l={...CQ,...a},u=A(c,l),h=s(c),f=h?n():null;super(o,!1,u,f),this._pan=e(this,h,u.pan)}get pan(){return this._pan}},RQ=(t,e,A,n,r)=>()=>{const s=new WeakMap,i=async(o,a)=>{let c=A(o);const l=nn(c,a);if(!l){const u={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,pan:c.pan.value};c=e(a,u)}return s.set(a,c),l?await t(a,o.pan,c.pan):await n(a,o.pan,c.pan),Za(c)?await r(o,a,c.inputs[0]):await r(o,a,c),c};return{render(o,a){const c=s.get(a);return c!==void 0?Promise.resolve(c):i(o,a)}}},IQ=t=>()=>{if(t===null)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0},jQ=(t,e)=>async()=>{if(t===null)return!0;if(e===null)return!1;const A=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),n=new e(1,128,44100),r=URL.createObjectURL(A);let s=!1,i=!1;try{await n.audioWorklet.addModule(r);const o=new t(n,"a",{numberOfOutputs:0}),a=n.createOscillator();o.port.onmessage=()=>s=!0,o.onprocessorerror=()=>i=!0,a.connect(o),a.start(0),await n.startRendering(),await new Promise(c=>setTimeout(c))}catch{}finally{URL.revokeObjectURL(r)}return s&&!i},zQ=(t,e)=>()=>{if(e===null)return Promise.resolve(!1);const A=new e(1,1,44100),n=t(A,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(r=>{A.oncomplete=()=>{n.disconnect(),r(A.currentTime!==0)},A.startRendering()})},HQ=()=>new DOMException("","UnknownError"),LQ={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},UQ=(t,e,A,n,r,s,i)=>class extends t{constructor(a,c){const l=r(a),u={...LQ,...c},h=A(l,u),d=s(l)?n():null;super(a,!0,h,d),this._isCurveNullified=!1,this._nativeWaveShaperNode=h,i(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(a){if(a===null)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(a.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=a}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(a){this._nativeWaveShaperNode.oversample=a}},$Q=(t,e,A)=>()=>{const n=new WeakMap,r=async(s,i)=>{let o=e(s);if(!nn(o,i)){const c={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=t(i,c)}return n.set(i,o),Za(o)?await A(s,i,o.inputs[0]):await A(s,i,o),o};return{render(s,i){const o=n.get(i);return o!==void 0?Promise.resolve(o):r(s,i)}}},FQ=()=>typeof window>"u"?null:window,VQ=(t,e)=>A=>{A.copyFromChannel=(n,r,s=0)=>{const i=t(s),o=t(r);if(o>=A.numberOfChannels)throw e();const a=A.length,c=A.getChannelData(o),l=n.length;for(let u=i<0?-i:0;u+i<a&&u<l;u+=1)n[u]=c[u+i]},A.copyToChannel=(n,r,s=0)=>{const i=t(s),o=t(r);if(o>=A.numberOfChannels)throw e();const a=A.length,c=A.getChannelData(o),l=n.length;for(let u=i<0?-i:0;u+i<a&&u<l;u+=1)c[u+i]=n[u]}},WQ=t=>e=>{e.copyFromChannel=(A=>(n,r,s=0)=>{const i=t(s),o=t(r);if(i<e.length)return A.call(e,n,o,i)})(e.copyFromChannel),e.copyToChannel=(A=>(n,r,s=0)=>{const i=t(s),o=t(r);if(i<e.length)return A.call(e,n,o,i)})(e.copyToChannel)},QQ=t=>(e,A)=>{const n=A.createBuffer(1,1,44100);e.buffer===null&&(e.buffer=n),t(e,"buffer",r=>()=>{const s=r.call(e);return s===n?null:s},r=>s=>r.call(e,s===null?n:s))},qQ=(t,e)=>(A,n)=>{n.channelCount=1,n.channelCountMode="explicit",Object.defineProperty(n,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(n,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const r=A.createBufferSource();e(n,()=>{const o=n.numberOfInputs;for(let a=0;a<o;a+=1)r.connect(n,0,a)},()=>r.disconnect(n))},kN=(t,e,A)=>t.copyFromChannel===void 0?t.getChannelData(A)[0]:(t.copyFromChannel(e,A),e[0]),EN=t=>{if(t===null)return!1;const e=t.length;return e%2!==0?t[Math.floor(e/2)]!==0:t[e/2-1]+t[e/2]!==0},zl=(t,e,A,n)=>{let r=t;for(;!r.hasOwnProperty(e);)r=Object.getPrototypeOf(r);const{get:s,set:i}=Object.getOwnPropertyDescriptor(r,e);Object.defineProperty(t,e,{get:A(s),set:n(i)})},KQ=t=>({...t,outputChannelCount:t.outputChannelCount!==void 0?t.outputChannelCount:t.numberOfInputs===1&&t.numberOfOutputs===1?[t.channelCount]:Array.from({length:t.numberOfOutputs},()=>1)}),JQ=t=>({...t,channelCount:t.numberOfOutputs}),XQ=t=>{const{imag:e,real:A}=t;return e===void 0?A===void 0?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(A,()=>0),real:A}:A===void 0?{...t,imag:e,real:Array.from(e,()=>0)}:{...t,imag:e,real:A}},NN=(t,e,A)=>{try{t.setValueAtTime(e,A)}catch(n){if(n.code!==9)throw n;NN(t,e,A+1e-7)}},eq=t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1},tq=t=>{const e=t.createBufferSource(),A=t.createBuffer(1,1,44100);e.buffer=A;try{e.start(0,1)}catch{return!1}return!0},Aq=t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0},l0=t=>{const e=t.createOscillator();try{e.start(-1)}catch(A){return A instanceof RangeError}return!1},TN=t=>{const e=t.createBuffer(1,1,44100),A=t.createBufferSource();A.buffer=e,A.start(),A.stop();try{return A.stop(),!0}catch{return!1}},u0=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(A){return A instanceof RangeError}return!1},nq=t=>{const{port1:e,port2:A}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),A.close()}},rq=t=>{t.start=(e=>(A=0,n=0,r)=>{const s=t.buffer,i=s===null?n:Math.min(s.duration,n);s!==null&&i>s.duration-.5/t.context.sampleRate?e.call(t,A,0,0):e.call(t,A,i,r)})(t.start)},YN=(t,e)=>{const A=e.createGain();t.connect(A);const n=(r=>()=>{r.call(t,A),t.removeEventListener("ended",n)})(t.disconnect);t.addEventListener("ended",n),Ca(t,A),t.stop=(r=>{let s=!1;return(i=0)=>{if(s)try{r.call(t,i)}catch{A.gain.setValueAtTime(0,i)}else r.call(t,i),s=!0}})(t.stop)},Pa=(t,e)=>A=>{const n={value:t};return Object.defineProperties(A,{currentTarget:n,target:n}),typeof e=="function"?e.call(t,A):e.handleEvent.call(t,A)},sq=D7(Go),iq=T7(Go),oq=LV(Zf),ON=new WeakMap,aq=oW(ON),jr=bV(new Map,new WeakMap),xs=FQ(),SN=PW(jr,_s),h0=iW(gn),qA=NQ(gn,h0,Mo),cq=C7(SN,Vt,qA),zt=lW(Sf),Vs=lQ(xs),Nt=BW(Vs),ZN=new WeakMap,CN=XV(Pa),Hl=zW(xs),f0=MW(Hl),d0=yW(xs),PN=DW(xs),Ll=LW(xs),wA=oV(v7(AN),N7(sq,iq,Rf,oq,If,gn,aq,Ol,Vt,Go,Fs,Mo,jf),jr,wW(Xw,If,gn,Vt,Pl,Fs),_s,$f,wn,IV(Rf,Xw,gn,Vt,Pl,zt,Fs,Nt),FV(ZN,gn,Ir),CN,zt,f0,d0,PN,Nt,Ll),lq=Z7(wA,cq,_s,SN,zt,Nt),m0=new WeakSet,RN=RW(xs),IN=YV(new Uint32Array(1)),p0=VQ(IN,_s),g0=WQ(IN),jN=R7(m0,jr,wn,RN,Vs,IQ(RN),p0,g0),Ff=Y7(Zn),zN=TQ(h0,Zl,Mo),Gs=vV(zN),Ra=jW(Ff,jr,eq,tq,Aq,l0,TN,u0,rq,QQ(zl),YN),Ms=EQ(aW(Zl),zN),uq=z7(Gs,Ra,Vt,Ms,qA),zr=aV(B7(nN),ZN,Jw,cV,b7,_7,x7,G7,M7,Vw,K8,Hl,NN),hq=j7(wA,uq,zr,HA,Ra,zt,Nt,Pa),fq=q7(wA,K7,_s,HA,HW(Zn,zl),zt,Nt,qA),dq=wV(Gs,DN,Vt,Ms,qA),yo=SQ(ON),mq=gV(wA,zr,dq,$f,DN,zt,Nt,yo),Di=ZW(Go,d0),pq=qQ(HA,Di),vi=qW(Hl,pq),gq=GV(vi,Vt,qA),wq=xV(wA,gq,vi,zt,Nt),bq=DV(Il,Vt,qA),_q=yV(wA,bq,Il,zt,Nt,JQ),xq=XW(Ff,Ra,Zn,Di),Ia=JW(Ff,jr,xq,l0,u0),Gq=TV(Gs,Ia,Vt,Ms,qA),Mq=NV(wA,zr,Gq,Ia,zt,Nt,Pa),HN=eQ(wn,zl),yq=ZV(HN,Vt,qA),Dq=SV(wA,yq,HN,zt,Nt,yo),vq=HV(Gs,vN,Vt,Ms,qA),Bq=zV(wA,zr,vq,vN,zt,Nt,yo),LN=tQ(wn),kq=qV(Gs,LN,Vt,Ms,qA),Eq=QV(wA,zr,kq,LN,wn,zt,Nt,yo),Nq=rW(Gs,Zn,Vt,Ms,qA),Tq=nW(wA,zr,Nq,Zn,zt,Nt),Yq=sQ($f,HA,jl,wn),Vf=YQ(jr,Zn,jl,zQ(Zn,Vs)),Oq=gW(Ra,Vt,Vs,qA,Vf),Sq=AQ(Yq),Zq=mW(wA,Sq,Oq,zt,Nt,yo),Cq=J7(zr,vi,Ia,jl,wn,kN,Nt,zl),UN=new WeakMap,Pq=SW(fq,Cq,CN,Nt,UN,Pa),$N=uQ(Ff,jr,l0,TN,u0,YN),Rq=MQ(Gs,$N,Vt,Ms,qA),Iq=GQ(wA,zr,$N,Rq,zt,Nt,Pa),FN=kV(Ra),jq=wQ(FN,HA,Zn,EN,Di),Wf=gQ(FN,HA,jq,EN,Di,Hl,zl),zq=fQ(Rf,HA,vi,Zn,jl,Wf,wn,If,kN,Di),VN=hQ(zq),Hq=vQ(Gs,vi,Ia,Zn,VN,Vt,Vs,Ms,qA,Vf),Lq=DQ(wA,zr,VN,Hq,zt,Nt,yo),Uq=dQ(_s),$q=kQ(Uq,zt,new WeakSet,XQ),Fq=pQ(vi,Il,Zn,Wf,wn,Di),WN=mQ(Fq,wn),Vq=RQ(Gs,WN,Vt,Ms,qA),Wq=PQ(wA,zr,WN,Vq,zt,Nt),Qq=$Q(Wf,Vt,qA),qq=UQ(wA,HA,Wf,Qq,zt,Nt,yo),QN=kW(xs),w0=eW(xs),qN=new WeakMap,Kq=uW(qN,Vs),Jq=QN?E7(jr,wn,JV(xs),w0,tW(y7),zt,Kq,Nt,Ll,new WeakMap,new WeakMap,jQ(Ll,Vs),xs):void 0,Xq=vW(f0,Nt),e9=RV(m0,jr,PV,KV,new WeakSet,zt,Xq,Cf,Rl,p0,g0),KN=mV(Jq,lq,jN,hq,mq,wq,_q,Mq,Dq,e9,Bq,Eq,Tq,Zq,Pq,Iq,Lq,$q,Wq,qq),t9=EW(wA,iQ,zt,Nt),A9=TW(wA,oQ,zt,Nt),n9=YW(wA,aQ,zt,Nt),r9=cQ(HA,Nt),s9=OW(wA,r9,zt),i9=Q7(KN,HA,wn,HQ,t9,A9,n9,s9,Hl),b0=hW(UN),o9=O7(b0),JN=BV(_s),a9=UV(b0),XN=VV(_s),eT=new WeakMap,c9=sW(eT,Ir),l9=QW(JN,_s,HA,vi,Il,Ia,Zn,jl,wn,XN,w0,c9,Di),u9=$W(HA,l9,Zn,wn,Di),h9=dV(Gs,JN,Ra,vi,Il,Ia,Zn,a9,XN,w0,Vt,Ll,Vs,Ms,qA,Vf),f9=cW(qN),d9=OQ(eT),tT=QN?uV(o9,wA,zr,h9,u9,gn,f9,zt,Nt,Ll,KQ,d9,nq,Pa):void 0,m9=CV(wn,Vs),p9=ZQ(m0,jr,h0,b0,Vf,Cf,p0,g0),g9=_Q(KN,jr,HA,m9,p9),w9=bW(Sf,f0),b9=_W(Kw,d0),_9=xW(Jw,PN),x9=GW(Sf,Nt);function gr(t){return t===void 0}function ft(t){return t!==void 0}function G9(t){return typeof t=="function"}function Do(t){return typeof t=="number"}function vo(t){return Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object}function M9(t){return typeof t=="boolean"}function Hr(t){return Array.isArray(t)}function Ws(t){return typeof t=="string"}function Qf(t){return Ws(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}function at(t,e){if(!t)throw new Error(e)}function Bi(t,e,A=1/0){if(!(e<=t&&t<=A))throw new RangeError(`Value must be within [${e}, ${A}], got: ${t}`)}function AT(t){!t.isOffline&&t.state!=="running"&&_0('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let nT=!1,rT=!1;function sT(t){nT=t}function y9(t){gr(t)&&nT&&!rT&&(rT=!0,_0("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}let iT=console;function D9(...t){iT.log(...t)}function _0(...t){iT.warn(...t)}function v9(t){return new i9(t)}function B9(t,e,A){return new g9(t,e,A)}const qn=typeof self=="object"?self:null,k9=qn&&(qn.hasOwnProperty("AudioContext")||qn.hasOwnProperty("webkitAudioContext"));function E9(t,e,A){return at(ft(tT),"AudioWorkletNode only works in a secure context (https or localhost)"),new(t instanceof qn?.BaseAudioContext?qn?.AudioWorkletNode:tT)(t,e,A)}class N9{constructor(e,A,n,r){this._callback=e,this._type=A,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`
			// the initial timeout time
			let timeoutTime =  ${(this._updateInterval*1e3).toFixed(1)};
			// onmessage callback
			self.onmessage = function(msg){
				timeoutTime = parseInt(msg.data);
			};
			// the tick function which posts a message
			// and schedules a new tick
			function tick(){
				setTimeout(tick, timeoutTime);
				self.postMessage('tick');
			}
			// call tick initially
			tick();
			`],{type:"text/javascript"}),A=URL.createObjectURL(e),n=new Worker(A);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout(()=>{this._createTimeout(),this._callback()},this._updateInterval*1e3)}_createClock(){if(this._type==="worker")try{this._createWorker()}catch{this._type="timeout",this._createClock()}else this._type==="timeout"&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var A;this._updateInterval=Math.max(e,this._minimumUpdateInterval),this._type==="worker"&&((A=this._worker)===null||A===void 0||A.postMessage(this._updateInterval*1e3))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Bo(t){return _9(t)}function ki(t){return b9(t)}function qf(t){return x9(t)}function ja(t){return w9(t)}function T9(t){return t instanceof jN}function Y9(t,e){return t==="value"||Bo(e)||ki(e)||T9(e)}function za(t,...e){if(!e.length)return t;const A=e.shift();if(vo(t)&&vo(A))for(const n in A)Y9(n,A[n])?t[n]=A[n]:vo(A[n])?(t[n]||Object.assign(t,{[n]:{}}),za(t[n],A[n])):Object.assign(t,{[n]:A[n]});return za(t,...e)}function O9(t,e){return t.length===e.length&&t.every((A,n)=>e[n]===A)}function ot(t,e,A=[],n){const r={},s=Array.from(e);if(vo(s[0])&&n&&!Reflect.has(s[0],n)&&(Object.keys(s[0]).some(o=>Reflect.has(t,o))||(za(r,{[n]:s[0]}),A.splice(A.indexOf(n),1),s.shift())),s.length===1&&vo(s[0]))za(r,s[0]);else for(let i=0;i<A.length;i++)ft(s[i])&&(r[A[i]]=s[i]);return za(t,r)}function S9(t){return t.constructor.getDefaults()}function Ha(t,e){return gr(t)?e:t}function oT(t,e){return e.forEach(A=>{Reflect.has(t,A)&&delete t[A]}),t}class Qs{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||qn&&this.toString()===qn.TONE_DEBUG_CLASS)&&D9(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Qs.version=W8;const x0=1e-6;function La(t,e){return t>e+x0}function G0(t,e){return La(t,e)||Lr(t,e)}function Kf(t,e){return t+x0<e}function Lr(t,e){return Math.abs(t-e)<x0}function Z9(t,e,A){return Math.max(Math.min(t,A),e)}class wr extends Qs{constructor(){super(),this.name="Timeline",this._timeline=[];const e=ot(wr.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(at(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const A=this._timeline[this.length-1];at(G0(e.time,A.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const A=this._search(e.time);this._timeline.splice(A+1,0,e)}if(this.length>this.memory){const A=this.length-this.memory;this._timeline.splice(0,A)}return this}remove(e){const A=this._timeline.indexOf(e);return A!==-1&&this._timeline.splice(A,1),this}get(e,A="time"){const n=this._search(e,A);return n!==-1?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,A="time"){const n=this._search(e,A);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const A=this._timeline.length;if(A>0&&this._timeline[A-1].time<e)return this._timeline[A-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let A=this._search(e);if(A>=0)if(Lr(this._timeline[A].time,e)){for(let n=A;n>=0&&Lr(this._timeline[n].time,e);n--)A=n;this._timeline=this._timeline.slice(0,A)}else this._timeline=this._timeline.slice(0,A+1);else this._timeline=[]}else this._timeline.length===1&&G0(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const A=this._search(e);return A>=0&&(this._timeline=this._timeline.slice(A+1)),this}previousEvent(e){const A=this._timeline.indexOf(e);return A>0?this._timeline[A-1]:null}_search(e,A="time"){if(this._timeline.length===0)return-1;let n=0;const r=this._timeline.length;let s=r;if(r>0&&this._timeline[r-1][A]<=e)return r-1;for(;n<s;){let i=Math.floor(n+(s-n)/2);const o=this._timeline[i],a=this._timeline[i+1];if(Lr(o[A],e)){for(let c=i;c<this._timeline.length;c++){const l=this._timeline[c];if(Lr(l[A],e))i=c;else break}return i}else{if(Kf(o[A],e)&&La(a[A],e))return i;La(o[A],e)?s=i:n=i+1}}return-1}_iterate(e,A=0,n=this._timeline.length-1){this._timeline.slice(A,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,A){const n=this._search(e);return n!==-1&&this._iterate(A,0,n),this}forEachAfter(e,A){const n=this._search(e);return this._iterate(A,n+1),this}forEachBetween(e,A,n){let r=this._search(e),s=this._search(A);return r!==-1&&s!==-1?(this._timeline[r].time!==e&&(r+=1),this._timeline[s].time===A&&(s-=1),this._iterate(n,r,s)):r===-1&&this._iterate(n,0,s),this}forEachFrom(e,A){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(A,n+1),this}forEachAtTime(e,A){const n=this._search(e);if(n!==-1&&Lr(this._timeline[n].time,e)){let r=n;for(let s=n;s>=0&&Lr(this._timeline[s].time,e);s--)r=s;this._iterate(s=>{A(s)},r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const aT=[];function Jf(t){aT.push(t)}function C9(t){aT.forEach(e=>e(t))}const cT=[];function Xf(t){cT.push(t)}function P9(t){cT.forEach(e=>e(t))}class Ul extends Qs{constructor(){super(...arguments),this.name="Emitter"}on(e,A){return e.split(/\W+/).forEach(r=>{gr(this._events)&&(this._events={}),this._events.hasOwnProperty(r)||(this._events[r]=[]),this._events[r].push(A)}),this}once(e,A){const n=(...r)=>{A(...r),this.off(e,n)};return this.on(e,n),this}off(e,A){return e.split(/\W+/).forEach(r=>{if(gr(this._events)&&(this._events={}),this._events.hasOwnProperty(r))if(gr(A))this._events[r]=[];else{const s=this._events[r];for(let i=s.length-1;i>=0;i--)s[i]===A&&s.splice(i,1)}}),this}emit(e,...A){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let r=0,s=n.length;r<s;r++)n[r].apply(this,A)}return this}static mixin(e){["on","once","off","emit"].forEach(A=>{const n=Object.getOwnPropertyDescriptor(Ul.prototype,A);Object.defineProperty(e.prototype,A,n)})}dispose(){return super.dispose(),this._events=void 0,this}}class lT extends Ul{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class $l extends lT{constructor(){var e,A;super(),this.name="Context",this._constants=new Map,this._timeouts=new wr,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=ot($l.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=((e=arguments[0])===null||e===void 0?void 0:e.latencyHint)||""):(this._context=v9({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new N9(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[!((A=arguments[0])===null||A===void 0)&&A.hasOwnProperty("updateInterval")?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){return this._initialized||(C9(this),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,A,n){return this._context.createBuffer(e,A,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,A){return this._context.createIIRFilter(e,A)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,A,n){return this._context.createPeriodicWave(e,A,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return at(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return at(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return at(ja(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){at(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){at(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){at(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){at(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,A){return E9(this.rawContext,e,A)}addAudioWorkletModule(e){return oA(this,void 0,void 0,function*(){at(ft(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise})}workletsAreReady(){return oA(this,void 0,void 0,function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()})}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ja(this._context)?this._context.resume():Promise.resolve()}close(){return oA(this,void 0,void 0,function*(){ja(this._context)&&this.state!=="closed"&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&P9(this)})}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const A=this._context.createBuffer(1,128,this._context.sampleRate),n=A.getChannelData(0);for(let s=0;s<n.length;s++)n[s]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=A,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map(e=>this._constants[e].disconnect()),this.close(),this}_timeoutLoop(){const e=this.now();this._timeouts.forEachBefore(e,A=>{A.callback(),this._timeouts.remove(A)})}setTimeout(e,A){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+A}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach(A=>{A.id===e&&this._timeouts.remove(A)}),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,A){const n=++this._timeoutIds,r=()=>{const s=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:s+A})};return r(),n}}class R9 extends lT{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,A,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,A){return{}}createPanner(){return{}}createPeriodicWave(e,A,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,A){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return oA(this,void 0,void 0,function*(){return Promise.resolve()})}resume(){return Promise.resolve()}setTimeout(e,A){return 0}clearTimeout(e){return this}setInterval(e,A){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}}function uA(t,e){Hr(e)?e.forEach(A=>uA(t,A)):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function uT(t,e){Hr(e)?e.forEach(A=>uT(t,A)):Object.defineProperty(t,e,{writable:!0})}const Tt=()=>{};class qt extends Qs{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Tt;const e=ot(qt.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,Ws(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:Tt,onload:Tt,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:br().sampleRate}set(e){return e instanceof qt?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return oA(this,void 0,void 0,function*(){const A=qt.load(e).then(n=>{this.set(n),this.onload(this)});qt.downloads.push(A);try{yield A}finally{const n=qt.downloads.indexOf(A);qt.downloads.splice(n,1)}return this})}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const A=Hr(e)&&e[0].length>0,n=A?e.length:1,r=A?e[0].length:e.length,s=br(),i=s.createBuffer(n,r,s.sampleRate),o=!A&&n===1?[e]:e;for(let a=0;a<n;a++)i.copyToChannel(o[a],a);return this._buffer=i,this}toMono(e){if(Do(e))this.fromArray(this.toArray(e));else{let A=new Float32Array(this.length);const n=this.numberOfChannels;for(let r=0;r<n;r++){const s=this.toArray(r);for(let i=0;i<s.length;i++)A[i]+=s[i]}A=A.map(r=>r/n),this.fromArray(A)}return this}toArray(e){if(Do(e))return this.getChannelData(e);if(this.numberOfChannels===1)return this.toArray(0);{const A=[];for(let n=0;n<this.numberOfChannels;n++)A[n]=this.getChannelData(n);return A}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,A=this.duration){at(this.loaded,"Buffer is not loaded");const n=Math.floor(e*this.sampleRate),r=Math.floor(A*this.sampleRate);at(n<r,"The start time must be less than the end time");const s=r-n,i=br().createBuffer(this.numberOfChannels,s,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)i.copyToChannel(this.getChannelData(o).subarray(n,r),o);return new qt(i)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return new qt().fromArray(e)}static fromUrl(e){return oA(this,void 0,void 0,function*(){return yield new qt().load(e)})}static load(e){return oA(this,void 0,void 0,function*(){const A=qt.baseUrl===""||qt.baseUrl.endsWith("/")?qt.baseUrl:qt.baseUrl+"/",n=yield fetch(A+e);if(!n.ok)throw new Error(`could not load url: ${e}`);const r=yield n.arrayBuffer();return yield br().decodeAudioData(r)})}static supportsType(e){const A=e.split("."),n=A[A.length-1];return document.createElement("audio").canPlayType("audio/"+n)!==""}static loaded(){return oA(this,void 0,void 0,function*(){for(yield Promise.resolve();qt.downloads.length;)yield qt.downloads[0]})}}qt.baseUrl="",qt.downloads=[];class M0 extends $l{constructor(){super({clockSource:"offline",context:qf(arguments[0])?arguments[0]:B9(arguments[0],arguments[1]*arguments[2],arguments[2]),lookAhead:0,updateInterval:qf(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=qf(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return oA(this,void 0,void 0,function*(){let A=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,A++;const n=Math.floor(this.sampleRate/128);e&&A%n===0&&(yield new Promise(r=>setTimeout(r,1)))}})}render(){return oA(this,arguments,void 0,function*(e=!0){yield this.workletsAreReady(),yield this._renderClock(e);const A=yield this._context.startRendering();return new qt(A)})}close(){return Promise.resolve()}}const hT=new R9;let Ua=hT;function br(){return Ua===hT&&k9&&I9(new $l),Ua}function I9(t,e=!1){e&&Ua.dispose(),ja(t)?Ua=new $l(t):qf(t)?Ua=new M0(t):Ua=t}if(qn&&!qn.TONE_SILENCE_LOGGING){const e=` * Tone.js v${W8} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function j9(t){return Math.pow(10,t/20)}function z9(t){return 20*(Math.log(t)/Math.LN10)}function fT(t){return Math.pow(2,t/12)}let ed=440;function H9(){return ed}function L9(t){ed=t}function y0(t){return Math.round(dT(t))}function dT(t){return 69+12*Math.log2(t/ed)}function U9(t){return ed*Math.pow(2,(t-69)/12)}class D0 extends Qs{constructor(e,A,n){super(),this.defaultUnits="s",this._val=A,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,A)=>{const n=parseInt(e,10),r=A==="."?1.5:1;return n===1?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const A=parseInt(e,10);return this._beatsToUnits(8/(Math.floor(A)*3))},regexp:/^(\d+)t$/i},tr:{method:(e,A,n)=>{let r=0;return e&&e!=="0"&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),A&&A!=="0"&&(r+=this._beatsToUnits(parseFloat(A))),n&&n!=="0"&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof D0&&this.fromType(this._val),gr(this._val))return this._noArg();if(Ws(this._val)&&gr(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(vo(this._val)){let e=0;for(const A in this._val)if(ft(this._val[A])){const n=this._val[A],r=new this.constructor(this.context,A).valueOf()*n;e+=r}return e}if(ft(this._units)){const e=this._expressions[this._units],A=this._val.toString().trim().match(e.regexp);return A?e.method.apply(this,A.slice(1)):e.method.call(this,this._val)}else return Ws(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi();break}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return this.toSeconds()*1e3}}class _r extends D0{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const A=new _r(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(A))},regexp:/^@(.+)/}})}quantize(e,A=1){const n=new this.constructor(this.context,e).valueOf(),r=this.valueOf(),o=Math.round(r/n)*n-r;return r+o*A}toNotation(){const e=this.toSeconds(),A=["1m"];for(let s=1;s<9;s++){const i=Math.pow(2,s);A.push(i+"n."),A.push(i+"n"),A.push(i+"t")}A.push("0");let n=A[0],r=new _r(this.context,A[0]).toSeconds();return A.forEach(s=>{const i=new _r(this.context,s).toSeconds();Math.abs(i-e)<Math.abs(r-e)&&(n=s,r=i)}),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let A=this.valueOf()/e;A=parseFloat(A.toFixed(4));const n=Math.floor(A/this._getTimeSignature());let r=A%1*4;A=Math.floor(A)%this._getTimeSignature();const s=r.toString();return s.length>3&&(r=parseFloat(parseFloat(s).toFixed(3))),[n,A,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return y0(this.toFrequency())}_now(){return this.context.now()}}function mT(t,e){return new _r(br(),t,e)}class xr extends _r{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return H9()}static set A4(e){L9(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return this.defaultUnits==="midi"?e:xr.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,A){const r=$9[e.toLowerCase()]+(parseInt(A,10)+1)*12;return this.defaultUnits==="midi"?r:xr.mtof(r)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,A,n){let r=1;return e&&e!=="0"&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),A&&A!=="0"&&(r*=this._beatsToUnits(parseFloat(A))),n&&n!=="0"&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(e){return new xr(this.context,this.valueOf()*fT(e))}harmonize(e){return e.map(A=>this.transpose(A))}toMidi(){return y0(this.valueOf())}toNote(){const e=this.toFrequency(),A=Math.log2(e/xr.A4);let n=Math.round(12*A)+57;const r=Math.floor(n/12);return r<0&&(n+=-12*r),F9[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),A=this.valueOf()/e;return Math.floor(A*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(e*60/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return U9(e)}static ftom(e){return y0(e)}}const $9={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},F9=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class Fl extends _r{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class Cn extends Qs{constructor(){super();const e=ot(Cn.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:br()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return y9(e),new _r(this.context,e).toSeconds()}toFrequency(e){return new xr(this.context,e).toFrequency()}toTicks(e){return new Fl(this.context,e).toTicks()}_getPartialProperties(e){const A=this.get();return Object.keys(A).forEach(n=>{gr(e[n])&&delete A[n]}),A}get(){const e=S9(this);return Object.keys(e).forEach(A=>{if(Reflect.has(this,A)){const n=this[A];ft(n)&&ft(n.value)&&ft(n.setValueAtTime)?e[A]=n.value:n instanceof Cn?e[A]=n._getPartialProperties(e[A]):Hr(n)||Do(n)||Ws(n)||M9(n)?e[A]=n:delete e[A]}}),e}set(e){return Object.keys(e).forEach(A=>{Reflect.has(this,A)&&ft(this[A])&&(this[A]&&ft(this[A].value)&&ft(this[A].setValueAtTime)?this[A].value!==e[A]&&(this[A].value=e[A]):this[A]instanceof Cn?this[A].set(e[A]):this[A]=e[A])}),this}}class v0 extends wr{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const A=this.get(e);return A!==null?A.state:this._initial}setStateAtTime(e,A,n){return Bi(A,0),this.add(Object.assign({},n,{state:e,time:A})),this}getLastState(e,A){const n=this._search(A);for(let r=n;r>=0;r--){const s=this._timeline[r];if(s.state===e)return s}}getNextState(e,A){const n=this._search(A);if(n!==-1)for(let r=n;r<this._timeline.length;r++){const s=this._timeline[r];if(s.state===e)return s}}}class AA extends Cn{constructor(){const e=ot(AA.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,at(ft(e.param)&&(Bo(e.param)||e.param instanceof AA),"param must be an AudioParam");!Bo(e.param);)e.param=e.param._param;this._swappable=ft(e.swappable)?e.swappable:!1,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new wr(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,ft(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Cn.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return ft(this._minValue)?this._minValue:this.units==="time"||this.units==="frequency"||this.units==="normalRange"||this.units==="positive"||this.units==="transportTime"||this.units==="ticks"||this.units==="bpm"||this.units==="hertz"||this.units==="samples"?0:this.units==="audioRange"?-1:this.units==="decibels"?-1/0:this._param.minValue}get maxValue(){return ft(this._maxValue)?this._maxValue:this.units==="normalRange"||this.units==="audioRange"?1:this._param.maxValue}_is(e,A){return this.units===A}_assertRange(e){return ft(this.maxValue)&&ft(this.minValue)&&Bi(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?j9(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&this.units==="decibels"?z9(e):e}setValueAtTime(e,A){const n=this.toSeconds(A),r=this._fromType(e);return at(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(A)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(e){const A=Math.max(this.toSeconds(e),0),n=this._events.getAfter(A),r=this._events.get(A);let s=this._initialValue;if(r===null)s=this._initialValue;else if(r.type==="setTargetAtTime"&&(n===null||n.type==="setValueAtTime")){const i=this._events.getBefore(r.time);let o;i===null?o=this._initialValue:o=i.value,r.type==="setTargetAtTime"&&(s=this._exponentialApproach(r.time,o,r.value,r.constant,A))}else if(n===null)s=r.value;else if(n.type==="linearRampToValueAtTime"||n.type==="exponentialRampToValueAtTime"){let i=r.value;if(r.type==="setTargetAtTime"){const o=this._events.getBefore(r.time);o===null?i=this._initialValue:i=o.value}n.type==="linearRampToValueAtTime"?s=this._linearInterpolate(r.time,i,n.time,n.value,A):s=this._exponentialInterpolate(r.time,i,n.time,n.value,A)}else s=r.value;return this._toType(s)}setRampPoint(e){e=this.toSeconds(e);let A=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),this._fromType(A)===0&&(A=this._toType(this._minOutput)),this.setValueAtTime(A,e),this}linearRampToValueAtTime(e,A){const n=this._fromType(e),r=this.toSeconds(A);return at(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(A)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(e,A){let n=this._fromType(e);n=Lr(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(A);return at(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(A)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(e,A,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(A)),this}linearRampTo(e,A,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(A)),this}targetRampTo(e,A,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,A),this}exponentialApproachValueAtTime(e,A,n){A=this.toSeconds(A),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,A,r),this.cancelAndHoldAtTime(A+n*.9),this.linearRampToValueAtTime(e,A+n),this}setTargetAtTime(e,A,n){const r=this._fromType(e);at(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const s=this.toSeconds(A);return this._assertRange(r),at(isFinite(r)&&isFinite(s),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(A)}`),this._events.add({constant:n,time:s,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,s,n),this._param.setTargetAtTime(r,s,n),this}setValueCurveAtTime(e,A,n,r=1){n=this.toSeconds(n),A=this.toSeconds(A);const s=this._fromType(e[0])*r;this.setValueAtTime(this._toType(s),A);const i=n/(e.length-1);for(let o=1;o<e.length;o++){const a=this._fromType(e[o])*r;this.linearRampToValueAtTime(this._toType(a),A+o*i)}return this}cancelScheduledValues(e){const A=this.toSeconds(e);return at(isFinite(A),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(A),this._param.cancelScheduledValues(A),this.log(this.units,"cancelScheduledValues",A),this}cancelAndHoldAtTime(e){const A=this.toSeconds(e),n=this._fromType(this.getValueAtTime(A));at(isFinite(A),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",A,"value="+n);const r=this._events.get(A),s=this._events.getAfter(A);return r&&Lr(r.time,A)?s?(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time)):(this._param.cancelAndHoldAtTime(A),this._events.cancel(A+this.sampleTime)):s&&(this._param.cancelScheduledValues(s.time),this._events.cancel(s.time),s.type==="linearRampToValueAtTime"?this.linearRampToValueAtTime(this._toType(n),A):s.type==="exponentialRampToValueAtTime"&&this.exponentialRampToValueAtTime(this._toType(n),A)),this._events.add({time:A,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,A),this}rampTo(e,A=.1,n){return this.units==="frequency"||this.units==="bpm"||this.units==="decibels"?this.exponentialRampTo(e,A,n):this.linearRampTo(e,A,n),this}apply(e){const A=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(A),A);const n=this._events.get(A);if(n&&n.type==="setTargetAtTime"){const r=this._events.getAfter(n.time),s=r?r.time:A+2,i=(s-A)/10;for(let o=A;o<s;o+=i)e.linearRampToValueAtTime(this.getValueAtTime(o),o)}return this._events.forEachAfter(this.context.currentTime,r=>{r.type==="cancelScheduledValues"?e.cancelScheduledValues(r.time):r.type==="setTargetAtTime"?e.setTargetAtTime(r.value,r.time,r.constant):e[r.type](r.value,r.time)}),this}setParam(e){at(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const A=this.input;return A.disconnect(this._param),this.apply(e),this._param=e,A.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,A,n,r,s){return n+(A-n)*Math.exp(-(s-e)/r)}_linearInterpolate(e,A,n,r,s){return A+(r-A)*((s-e)/(n-e))}_exponentialInterpolate(e,A,n,r,s){return A*Math.pow(r/A,(s-e)/(n-e))}}class ut extends Cn{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return ft(this.input)?Bo(this.input)||this.input instanceof AA?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ft(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return ft(e)&&(e instanceof ut||ki(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach(n=>{n.channelCount=e.channelCount,n.channelCountMode=e.channelCountMode,n.channelInterpretation=e.channelInterpretation})}_getChannelProperties(){const e=this._getInternalNodes();at(e.length>0,"ToneAudioNode does not have any internal nodes");const A=e[0];return{channelCount:A.channelCount,channelCountMode:A.channelCountMode,channelInterpretation:A.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const A=this._getChannelProperties();this._setChannelProperties(Object.assign(A,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const A=this._getChannelProperties();this._setChannelProperties(Object.assign(A,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const A=this._getChannelProperties();this._setChannelProperties(Object.assign(A,{channelInterpretation:e}))}connect(e,A=0,n=0){return $a(this,e,A,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return _0("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,A=0,n=0){return V9(this,e,A,n),this}chain(...e){return B0(this,...e),this}fan(...e){return e.forEach(A=>this.connect(A)),this}dispose(){return super.dispose(),ft(this.input)&&(this.input instanceof ut?this.input.dispose():ki(this.input)&&this.input.disconnect()),ft(this.output)&&(this.output instanceof ut?this.output.dispose():ki(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function B0(...t){const e=t.shift();t.reduce((A,n)=>(A instanceof ut?A.connect(n):ki(A)&&$a(A,n),n),e)}function $a(t,e,A=0,n=0){for(at(ft(t),"Cannot connect from undefined node"),at(ft(e),"Cannot connect to undefined node"),(e instanceof ut||ki(e))&&at(e.numberOfInputs>0,"Cannot connect to node with no inputs"),at(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof ut||e instanceof AA;)ft(e.input)&&(e=e.input);for(;t instanceof ut;)ft(t.output)&&(t=t.output);Bo(e)?t.connect(e,A):t.connect(e,A,n)}function V9(t,e,A=0,n=0){if(ft(e))for(;e instanceof ut;)e=e.input;for(;!ki(t);)ft(t.output)&&(t=t.output);Bo(e)?t.disconnect(e,A):ki(e)?t.disconnect(e,A,n):t.disconnect()}class rn extends ut{constructor(){const e=ot(rn.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new AA({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),uA(this,"gain")}static getDefaults(){return Object.assign(ut.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Fa extends ut{constructor(e){super(e),this.onended=Tt,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new rn({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(A){const n=this.toSeconds(A);return this._startTime!==-1&&n>=this._startTime&&(this._stopTime===-1||n<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(ut.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Tt})}_startGain(e,A=1){at(this._startTime===-1,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),this._curve==="linear"?this._gainNode.gain.linearRampToValueAtTime(A,e+n):this._gainNode.gain.exponentialApproachValueAtTime(A,e,n)):this._gainNode.gain.setValueAtTime(A,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){at(this._startTime!==-1,"'start' must be called before 'stop'"),this.cancelStop();const A=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+A,this._stopTime=Math.max(this._stopTime,this.now()),A>0?this._curve==="linear"?this._gainNode.gain.linearRampTo(0,A,e):this._gainNode.gain.targetRampTo(0,A,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout(()=>{const n=this._curve==="exponential"?A*2:0;this._stopSource(this.now()+n),this._onended()},this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Tt&&(this.onended(this),this.onended=Tt,!this.context.isOffline)){const e=()=>this.dispose();typeof requestIdleCallback<"u"?requestIdleCallback(e):setTimeout(e,10)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),at(this._startTime!==-1,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=Tt,this}}class k0 extends Fa{constructor(){const e=ot(k0.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),$a(this._source,this._gainNode),this.offset=new AA({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Fa.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const A=this.toSeconds(e);return this.log("start",A),this._startGain(A),this._source.start(A),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class LA extends ut{constructor(){const e=ot(LA.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new k0({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(ut.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,A=0,n=0){return E0(this,e,A,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,A){return this._param.setValueAtTime(e,A),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,A){return this._param.linearRampToValueAtTime(e,A),this}exponentialRampToValueAtTime(e,A){return this._param.exponentialRampToValueAtTime(e,A),this}exponentialRampTo(e,A,n){return this._param.exponentialRampTo(e,A,n),this}linearRampTo(e,A,n){return this._param.linearRampTo(e,A,n),this}targetRampTo(e,A,n){return this._param.targetRampTo(e,A,n),this}exponentialApproachValueAtTime(e,A,n){return this._param.exponentialApproachValueAtTime(e,A,n),this}setTargetAtTime(e,A,n){return this._param.setTargetAtTime(e,A,n),this}setValueCurveAtTime(e,A,n,r){return this._param.setValueCurveAtTime(e,A,n,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,A,n){return this._param.rampTo(e,A,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function E0(t,e,A,n){(e instanceof AA||Bo(e)||e instanceof LA&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof LA&&(e.overridden=!0)),$a(t,e,A,n)}class N0 extends AA{constructor(){const e=ot(N0.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new wr(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(AA.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,A,n){A=this.toSeconds(A),this.setRampPoint(A);const r=this._fromType(e),s=this._events.get(A),i=Math.round(Math.max(1/n,1));for(let o=0;o<=i;o++){const a=n*o+A,c=this._exponentialApproach(s.time,s.value,r,n,a);this.linearRampToValueAtTime(this._toType(c),a)}return this}setValueAtTime(e,A){const n=this.toSeconds(A);super.setValueAtTime(e,A);const r=this._events.get(n),s=this._events.previousEvent(r),i=this._getTicksUntilEvent(s,n);return r.ticks=Math.max(i,0),this}linearRampToValueAtTime(e,A){const n=this.toSeconds(A);super.linearRampToValueAtTime(e,A);const r=this._events.get(n),s=this._events.previousEvent(r),i=this._getTicksUntilEvent(s,n);return r.ticks=Math.max(i,0),this}exponentialRampToValueAtTime(e,A){A=this.toSeconds(A);const n=this._fromType(e),r=this._events.get(A),s=Math.round(Math.max((A-r.time)*10,1)),i=(A-r.time)/s;for(let o=0;o<=s;o++){const a=i*o+r.time,c=this._exponentialInterpolate(r.time,r.value,A,n,a);this.linearRampToValueAtTime(this._toType(c),a)}return this}_getTicksUntilEvent(e,A){if(e===null)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(gr(e.ticks)){const i=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(i,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(A));const s=this._events.get(A);return s&&s.time===A&&s.type==="setValueAtTime"&&(r=this._fromType(this.getValueAtTime(A-this.sampleTime))),.5*(A-e.time)*(n+r)+e.ticks}getTicksAtTime(e){const A=this.toSeconds(e),n=this._events.get(A);return Math.max(this._getTicksUntilEvent(n,A),0)}getDurationOfTicks(e,A){const n=this.toSeconds(A),r=this.getTicksAtTime(A);return this.getTimeOfTick(r+e)-n}getTimeOfTick(e){const A=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(A&&A.ticks===e)return A.time;if(A&&n&&n.type==="linearRampToValueAtTime"&&A.value!==n.value){const r=this._fromType(this.getValueAtTime(A.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-A.time),o=Math.sqrt(Math.pow(r,2)-2*i*(A.ticks-e)),a=(-r+o)/i,c=(-r-o)/i;return(a>0?a:c)+A.time}else return A?A.value===0?1/0:A.time+(e-A.ticks)/A.value:e/this._initialValue}ticksToTime(e,A){return this.getDurationOfTicks(e,A)}timeToTicks(e,A){const n=this.toSeconds(A),r=this.toSeconds(e),s=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-s}_fromType(e){return this.units==="bpm"&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return this.units==="bpm"&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const A=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(A,0)}}class T0 extends LA{constructor(){const e=ot(T0.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new N0({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(LA.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,A){return this._param.ticksToTime(e,A)}timeToTicks(e,A){return this._param.timeToTicks(e,A)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,A){return this._param.getDurationOfTicks(e,A)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class Y0 extends Cn{constructor(){const e=ot(Y0.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new v0,this._tickOffset=new wr,this._ticksAtTime=new wr,this._secondsAtTime=new wr,this.frequency=new T0({context:this.context,units:e.units,value:e.frequency}),uA(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Cn.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,A){const n=this.toSeconds(e);return this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),ft(A)&&this.setTicksAtTime(A,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(e){const A=this.toSeconds(e);if(this._state.getValueAtTime(A)==="stopped"){const n=this._state.get(A);n&&n.time>0&&(this._tickOffset.cancel(n.time),this._state.cancel(n.time))}return this._state.cancel(A),this._state.setStateAtTime("stopped",A),this.setTicksAtTime(0,A),this._ticksAtTime.cancel(A),this._secondsAtTime.cancel(A),this}pause(e){const A=this.toSeconds(e);return this._state.getValueAtTime(A)==="started"&&(this._state.setStateAtTime("paused",A),this._ticksAtTime.cancel(A),this._secondsAtTime.cancel(A)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const A=this.toSeconds(e),n=this._state.getLastState("stopped",A),r=this._ticksAtTime.get(A),s={state:"paused",time:A};this._state.add(s);let i=r||n,o=r?r.ticks:0,a=null;return this._state.forEachBetween(i.time,A+this.sampleTime,c=>{let l=i.time;const u=this._tickOffset.get(c.time);u&&u.time>=i.time&&(o=u.ticks,l=u.time),i.state==="started"&&c.state!=="started"&&(o+=this.frequency.getTicksAtTime(c.time)-this.frequency.getTicksAtTime(l),c.time!==s.time&&(a={state:c.state,time:c.time,ticks:o})),i=c}),this._state.remove(s),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const A=this.now(),n=this.frequency.timeToTicks(e,A);this.setTicksAtTime(n,A)}getSecondsAtTime(e){e=this.toSeconds(e);const A=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);const r=this._secondsAtTime.get(e);let s=r||A,i=r?r.seconds:0,o=null;return this._state.forEachBetween(s.time,e+this.sampleTime,a=>{let c=s.time;const l=this._tickOffset.get(a.time);l&&l.time>=s.time&&(i=l.seconds,c=l.time),s.state==="started"&&a.state!=="started"&&(i+=a.time-c,a.time!==n.time&&(o={state:a.state,time:a.time,seconds:i})),s=a}),this._state.remove(n),o&&this._secondsAtTime.add(o),i}setTicksAtTime(e,A){return A=this.toSeconds(A),this._tickOffset.cancel(A),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,A),ticks:e,time:A}),this._ticksAtTime.cancel(A),this._secondsAtTime.cancel(A),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,A=this.now()){const n=this._tickOffset.get(A),r=this._state.get(A),s=Math.max(n.time,r.time),i=this.frequency.getTicksAtTime(s)+e-n.ticks;return this.frequency.getTimeOfTick(i)}forEachTickBetween(e,A,n){let r=this._state.get(e);this._state.forEachBetween(e,A,i=>{r&&r.state==="started"&&i.state!=="started"&&this.forEachTickBetween(Math.max(r.time,e),i.time-this.sampleTime,n),r=i});let s=null;if(r&&r.state==="started"){const i=Math.max(r.time,e),o=this.frequency.getTicksAtTime(i),a=this.frequency.getTicksAtTime(r.time),c=o-a;let l=Math.ceil(c)-c;l=Lr(l,1)?0:l;let u=this.frequency.getTimeOfTick(o+l);for(;u<A;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(h){s=h;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(s)throw s;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class td extends Cn{constructor(){const e=ot(td.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=Tt,this._lastUpdate=0,this._state=new v0("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new Y0({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,uA(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Cn.getDefaults(),{callback:Tt,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,A){AT(this.context);const n=this.toSeconds(e);return this.log("start",n),this._state.getValueAtTime(n)!=="started"&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,A),n<this._lastUpdate&&this.emit("start",n,A)),this}stop(e){const A=this.toSeconds(e);return this.log("stop",A),this._state.cancel(A),this._state.setStateAtTime("stopped",A),this._tickSource.stop(A),A<this._lastUpdate&&this.emit("stop",A),this}pause(e){const A=this.toSeconds(e);return this._state.getValueAtTime(A)==="started"&&(this._state.setStateAtTime("paused",A),this._tickSource.pause(A),A<this._lastUpdate&&this.emit("pause",A)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,A){return this._tickSource.setTicksAtTime(e,A),this}getTimeOfTick(e,A=this.now()){return this._tickSource.getTimeOfTick(e,A)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,A){const n=this.toSeconds(A),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+e,n)}_loop(){const e=this._lastUpdate,A=this.now();this._lastUpdate=A,this.log("loop",e,A),e!==A&&(this._state.forEachBetween(e,A,n=>{switch(n.state){case"started":const r=this._tickSource.getTicksAtTime(n.time);this.emit("start",n.time,r);break;case"stopped":n.time!==0&&this.emit("stop",n.time);break;case"paused":this.emit("pause",n.time);break}}),this._tickSource.forEachTickBetween(e,A,(n,r)=>{this.callback(n,r)}))}getStateAtTime(e){const A=this.toSeconds(e);return this._state.getValueAtTime(A)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ul.mixin(td);class Va extends ut{constructor(){const e=ot(Va.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new rn({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,uA(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class O0 extends ut{constructor(){const e=ot(O0.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Va({context:this.context}),this.output=new rn({context:this.context}),this.volume=this.input.volume,B0(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),B0(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Jf(t=>{t.destination=new O0({context:t})}),Xf(t=>{t.destination.dispose()});class W9 extends ut{constructor(){super(...arguments),this.name="Listener",this.positionX=new AA({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new AA({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new AA({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new AA({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new AA({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new AA({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new AA({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new AA({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new AA({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(ut.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Jf(t=>{t.listener=new W9({context:t})}),Xf(t=>{t.listener.dispose()});class S0 extends Qs{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=ot(S0.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach(A=>{this._loadingCount++;const n=e.urls[A];this.add(A,n,this._bufferLoaded.bind(this,e.onload),e.onerror)})}static getDefaults(){return{baseUrl:"",onerror:Tt,onload:Tt,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return at(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,this._loadingCount===0&&e&&e()}get loaded(){return Array.from(this._buffers).every(([e,A])=>A.loaded)}add(e,A,n=Tt,r=Tt){return Ws(A)?(this.baseUrl&&A.trim().substring(0,11).toLowerCase()==="data:audio/"&&(this.baseUrl=""),this._buffers.set(e.toString(),new qt(this.baseUrl+A,n,r))):this._buffers.set(e.toString(),new qt(A,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach(e=>e.dispose()),this._buffers.clear(),this}}class Wa extends Fl{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Q9 extends Cn{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new wr,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,A){return this._events.add({callback:e,time:this.toSeconds(A)}),this._events.length===1&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;this._events.forEachBefore(e+this.anticipation,A=>{e-A.time<=this.expiration&&A.callback(),this._events.remove(A)}),this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Jf(t=>{t.draw=new Q9({context:t})}),Xf(t=>{t.draw.dispose()});class q9 extends Qs{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){at(ft(e.time),"Events must have a time property"),at(ft(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let A=new K9(e.time,e.time+e.duration,e);for(this._root===null?this._root=A:this._root.insert(A),this._length++;A!==null;)A.updateHeight(),A.updateMax(),this._rebalance(A),A=A.parent;return this}remove(e){if(this._root!==null){const A=[];this._root.search(e.time,A);for(const n of A)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,A=>this.remove(A)),this}_setRoot(e){this._root=e,this._root!==null&&(this._root.parent=null)}_replaceNodeInParent(e,A){e.parent!==null?(e.isLeftChild()?e.parent.left=A:e.parent.right=A,this._rebalance(e.parent)):this._setRoot(A)}_removeNode(e){if(e.left===null&&e.right===null)this._replaceNodeInParent(e,null);else if(e.right===null)this._replaceNodeInParent(e,e.left);else if(e.left===null)this._replaceNodeInParent(e,e.right);else{const A=e.getBalance();let n,r=null;if(A>0)if(e.left.right===null)n=e.left,n.right=e.right,r=n;else{for(n=e.left.right;n.right!==null;)n=n.right;n.parent&&(n.parent.right=n.left,r=n.parent,n.left=e.left,n.right=e.right)}else if(e.right.left===null)n=e.right,n.left=e.left,r=n;else{for(n=e.right.left;n.left!==null;)n=n.left;n.parent&&(n.parent.left=n.right,r=n.parent,n.left=e.left,n.right=e.right)}e.parent!==null?e.isLeftChild()?e.parent.left=n:e.parent.right=n:this._setRoot(n),r&&this._rebalance(r)}e.dispose()}_rotateLeft(e){const A=e.parent,n=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),A!==null?n?A.left=r:A.right=r:this._setRoot(r)}_rotateRight(e){const A=e.parent,n=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),A!==null?n?A.left=r:A.right=r:this._setRoot(r)}_rebalance(e){const A=e.getBalance();A>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):A<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(this._root!==null){const A=[];if(this._root.search(e,A),A.length>0){let n=A[0];for(let r=1;r<A.length;r++)A[r].low>n.low&&(n=A[r]);return n.event}}return null}forEach(e){if(this._root!==null){const A=[];this._root.traverse(n=>A.push(n)),A.forEach(n=>{n.event&&e(n.event)})}return this}forEachAtTime(e,A){if(this._root!==null){const n=[];this._root.search(e,n),n.forEach(r=>{r.event&&A(r.event)})}return this}forEachFrom(e,A){if(this._root!==null){const n=[];this._root.searchAfter(e,n),n.forEach(r=>{r.event&&A(r.event)})}return this}dispose(){return super.dispose(),this._root!==null&&this._root.traverse(e=>e.dispose()),this._root=null,this}}class K9{constructor(e,A,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=A,this.max=this.high}insert(e){e.low<=this.low?this.left===null?this.left=e:this.left.insert(e):this.right===null?this.right=e:this.right.insert(e)}search(e,A){e>this.max||(this.left!==null&&this.left.search(e,A),this.low<=e&&this.high>e&&A.push(this),!(this.low>e)&&this.right!==null&&this.right.search(e,A))}searchAfter(e,A){this.low>=e&&(A.push(this),this.left!==null&&this.left.searchAfter(e,A)),this.right!==null&&this.right.searchAfter(e,A)}traverse(e){e(this),this.left!==null&&this.left.traverse(e),this.right!==null&&this.right.traverse(e)}updateHeight(){this.left!==null&&this.right!==null?this.height=Math.max(this.left.height,this.right.height)+1:this.right!==null?this.height=this.right.height+1:this.left!==null?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,this.left!==null&&(this.max=Math.max(this.max,this.left.max)),this.right!==null&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return this.left!==null&&this.right!==null?e=this.left.height-this.right.height:this.left!==null?e=this.left.height+1:this.right!==null&&(e=-(this.right.height+1)),e}isLeftChild(){return this.parent!==null&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,e!==null&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class J9 extends Qs{constructor(e){super(),this.name="TimelineValue",this._timeline=new wr({memory:10}),this._initialValue=e}set(e,A){return this._timeline.add({value:e,time:A}),this}get(e){const A=this._timeline.get(e);return A?A.value:this._initialValue}}class Qa extends ut{constructor(){super(ot(Qa.getDefaults(),arguments,["context"]))}connect(e,A=0,n=0){return E0(this,e,A,n),this}}class Vl extends Qa{constructor(){const e=ot(Vl.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,Hr(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):G9(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(LA.getDefaults(),{length:1024})}setMap(e,A=1024){const n=new Float32Array(A);for(let r=0,s=A;r<s;r++){const i=r/(s-1)*2-1;n[r]=e(i,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){const A=["none","2x","4x"].some(n=>n.includes(e));at(A,"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Z0 extends Qa{constructor(){const e=ot(Z0.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Vl({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Qa.getDefaults(),{value:1})}_expFunc(e){return A=>Math.pow(Math.abs(A),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Ei{constructor(e,A){this.id=Ei._eventId++,this._remainderTime=0;const n=Object.assign(Ei.getDefaults(),A);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:Tt,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const A=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*A),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Ei._eventId=0;class C0 extends Ei{constructor(e,A){super(e,A),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(C0.getDefaults(),A);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Ei.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Kf(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Wa(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Kf(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Wa(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const A=this.transport.getTicksAtTime(e);La(A,this.time)&&(this._nextTick=this.floatTime+Math.ceil((A-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Ad extends Cn{constructor(){const e=ot(Ad.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new J9(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new wr,this._repeatedEvents=new q9,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new td({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),uA(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Cn.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,A){if(this._loop.get(e)&&A>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),A=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&A%this._ppq!==0&&A%(this._swingTicks*2)!==0){const n=A%(this._swingTicks*2)/(this._swingTicks*2),r=Math.sin(n*Math.PI)*this._swingAmount;e+=new Wa(this.context,this._swingTicks*2/3).toSeconds()*r}sT(!0),this._timeline.forEachAtTime(A,n=>n.invoke(e)),sT(!1)}schedule(e,A){const n=new Ei(this,{callback:e,time:new Fl(this.context,A).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,A,n,r=1/0){const s=new C0(this,{callback:e,duration:new _r(this.context,r).toTicks(),interval:new _r(this.context,A).toTicks(),time:new Fl(this.context,n).toTicks()});return this._addEvent(s,this._repeatedEvents)}scheduleOnce(e,A){const n=new Ei(this,{callback:e,once:!0,time:new Fl(this.context,A).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const A=this._scheduledEvents[e.toString()];A.timeline.remove(A.event),A.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,A){return this._scheduledEvents[e.id.toString()]={event:e,timeline:A},A.add(e),e.id}cancel(e=0){const A=this.toTicks(e);return this._timeline.forEachFrom(A,n=>this.clear(n.id)),this._repeatedEvents.forEachFrom(A,n=>this.clear(n.id)),this}_bindClockEvents(){this._clock.on("start",(e,A)=>{A=new Wa(this.context,A).toSeconds(),this.emit("start",e,A)}),this._clock.on("stop",e=>{this.emit("stop",e)}),this._clock.on("pause",e=>{this.emit("pause",e)})}get state(){return this._clock.getStateAtTime(this.now())}start(e,A){this.context.resume();let n;return ft(A)&&(n=this.toTicks(A)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),this._clock.getStateAtTime(e)!=="started"?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Hr(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new _r(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new _r(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,A){return this.loopStart=e,this.loopEnd=A,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Wa(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),A=this._clock.getTicksAtTime(e);return new Wa(this.context,A).toBarsBeatsSixteenths()}set position(e){const A=this.toTicks(e);this.ticks=A}get seconds(){return this._clock.seconds}set seconds(e){const A=this.now(),n=this._clock.frequency.timeToTicks(e,A);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}else return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const A=this.now();if(this.state==="started"){const n=this._clock.getTicksAtTime(A),r=this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,A),s=A+r;this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this.emit("ticks",A),this._clock.setTicksAtTime(e,A)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),this.state!=="started")return 0;{const A=this.now(),n=this.getTicksAtTime(A),r=e-n%e;return this._clock.nextTickTime(r,A)}}syncSignal(e,A){const n=this.now();let r=this.bpm,s=1/(60/r.getValueAtTime(n)/this.PPQ),i=[];if(e.units==="time"){const a=.015625/s,c=new rn(a),l=new Z0(-1),u=new rn(a);r.chain(c,l,u),r=u,s=1/s,i=[c,l,u]}A||(e.getValueAtTime(n)!==0?A=e.getValueAtTime(n)/s:A=0);const o=new rn(A);return r.connect(o),o.connect(e._param),i.push(o),this._syncedSignals.push({initial:e.value,nodes:i,signal:e}),e.value=0,this}unsyncSignal(e){for(let A=this._syncedSignals.length-1;A>=0;A--){const n=this._syncedSignals[A];n.signal===e&&(n.nodes.forEach(r=>r.dispose()),n.signal.value=n.initial,this._syncedSignals.splice(A,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),uT(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ul.mixin(Ad),Jf(t=>{t.transport=new Ad({context:t})}),Xf(t=>{t.transport.dispose()});class Kn extends ut{constructor(e){super(e),this.input=void 0,this._state=new v0("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Tt,this._syncedStop=Tt,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Va({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,uA(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,onstop:Tt,volume:0})}get state(){return this._synced?this.context.transport.state==="started"?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,A,n){let r=gr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),!this._synced&&this._state.getValueAtTime(r)==="started")at(La(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,A,n);else if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const s=this._state.get(r);s&&(s.offset=this.toSeconds(Ha(A,0)),s.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule(o=>{this._start(o,A,n)},r);this._scheduled.push(i),this.context.transport.state==="started"&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else AT(this.context),this._start(r,A,n);return this}stop(e){let A=gr(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(A=this._clampToCurrentTime(A),this._state.getValueAtTime(A)==="started"||ft(this._state.getNextState("started",A))){if(this.log("stop",A),!this._synced)this._stop(A);else{const n=this.context.transport.schedule(this._stop.bind(this),A);this._scheduled.push(n)}this._state.cancel(A),this._state.setStateAtTime("stopped",A)}return this}restart(e,A,n){return e=this.toSeconds(e),this._state.getValueAtTime(e)==="started"&&(this._state.cancel(e),this._restart(e,A,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,A)=>{if(La(A,0)){const n=this._state.get(A);if(n&&n.state==="started"&&n.time!==A){const r=A-this.toSeconds(n.time);let s;n.duration&&(s=this.toSeconds(n.duration)-r),this._start(e,this.toSeconds(n.offset)+r,s)}}},this._syncedStop=e=>{const A=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));this._state.getValueAtTime(A)==="started"&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach(e=>this.context.transport.clear(e)),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Tt,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class nd extends Fa{constructor(){const e=ot(nd.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,$a(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new AA({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new qt(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Fa.getDefaults(),{url:new qt,loop:!1,loopEnd:0,loopStart:0,onload:Tt,onerror:Tt,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,A,n,r=1){at(this.buffer.loaded,"buffer is either not set or not loaded");const s=this.toSeconds(e);this._startGain(s,r),this.loop?A=Ha(A,this.loopStart):A=Ha(A,0);let i=Math.max(this.toSeconds(A),0);if(this.loop){const o=this.toSeconds(this.loopEnd)||this.buffer.duration,a=this.toSeconds(this.loopStart),c=o-a;G0(i,o)&&(i=(i-a)%c+a),Lr(i,this.buffer.duration)&&(i=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Kf(i,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(s,i)),ft(n)){let o=this.toSeconds(n);o=Math.max(o,0),this.stop(s+o)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function ko(t,e){return oA(this,void 0,void 0,function*(){const A=e/t.context.sampleRate,n=new M0(1,A,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/A,detune:0,context:n})).toDestination().start(0),(yield n.render()).getChannelData(0)})}class P0 extends Fa{constructor(){const e=ot(P0.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],$a(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new AA({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new AA({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),uA(this,["frequency","detune"])}static getDefaults(){return Object.assign(Fa.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const A=this.toSeconds(e);return this.log("start",A),this._startGain(A),this._oscillator.start(A),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),this.state==="started"&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class yA extends Kn{constructor(){const e=ot(yA.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new LA({context:this.context,units:"frequency",value:e.frequency}),uA(this,"frequency"),this.detune=new LA({context:this.context,units:"cents",value:e.detune}),uA(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&e.type!=="custom"&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(Kn.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const A=this.toSeconds(e),n=new P0({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(A)}_stop(e){const A=this.toSeconds(e);this._oscillator&&this._oscillator.stop(A)}_restart(e){const A=this.toSeconds(e);return this.log("restart",A),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(A),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if(this._type==="custom")return yA._periodicWaveCache.find(A=>A.phase===this._phase&&O9(A.partials,this._partials));{const e=yA._periodicWaveCache.find(A=>A.type===this._type&&A.phase===this._phase);return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const A=["sine","square","sawtooth","triangle"].indexOf(e)!==-1;if(this._phase===0&&A)this._wave=void 0,this._partialCount=0,this._oscillator!==null&&(this._oscillator.type=e);else{const n=this._getCachedPeriodicWave();if(ft(n)){const{partials:r,wave:s}=n;this._wave=s,this._partials=r,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave)}else{const[r,s]=this._getRealImaginary(e,this._phase),i=this.context.createPeriodicWave(r,s);this._wave=i,this._oscillator!==null&&this._oscillator.setPeriodicWave(this._wave),yA._periodicWaveCache.push({imag:s,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:r,type:this._type,wave:this._wave}),yA._periodicWaveCache.length>100&&yA._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&this._type!=="custom"&&e!=="custom"?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Bi(e,0);let A=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(A=n[1]),this._type!=="custom")e===0?this.type=A:this.type=A+e.toString();else{const r=new Float32Array(e);this._partials.forEach((s,i)=>r[i]=s),this._partials=Array.from(r),this.type=this._type}}_getRealImaginary(e,A){let r=2048;const s=new Float32Array(r),i=new Float32Array(r);let o=1;if(e==="custom"){if(o=this._partials.length+1,this._partialCount=this._partials.length,r=o,this._partials.length===0)return[s,i]}else{const a=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);a?(o=parseInt(a[2],10)+1,this._partialCount=parseInt(a[2],10),e=a[1],o=Math.max(o,2),r=o):this._partialCount=0,this._partials=[]}for(let a=1;a<r;++a){const c=2/(a*Math.PI);let l;switch(e){case"sine":l=a<=o?1:0,this._partials[a-1]=l;break;case"square":l=a&1?2*c:0,this._partials[a-1]=l;break;case"sawtooth":l=c*(a&1?1:-1),this._partials[a-1]=l;break;case"triangle":a&1?l=2*(c*c)*(a-1>>1&1?-1:1):l=0,this._partials[a-1]=l;break;case"custom":l=this._partials[a-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}l!==0?(s[a]=-l*Math.sin(A*a),i[a]=l*Math.cos(A*a)):(s[a]=0,i[a]=0)}return[s,i]}_inverseFFT(e,A,n){let r=0;const s=e.length;for(let i=0;i<s;i++)r+=e[i]*Math.cos(i*n)+A[i]*Math.sin(i*n);return r}getInitialValue(){const[e,A]=this._getRealImaginary(this._type,0);let n=0;const r=Math.PI*2,s=32;for(let i=0;i<s;i++)n=Math.max(this._inverseFFT(e,A,i/s*r),n);return Z9(-this._inverseFFT(e,A,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this._oscillator!==null&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}yA._periodicWaveCache=[];class X9 extends Qa{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Vl({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class qa extends LA{constructor(){const e=ot(qa.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new rn({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(LA.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class rd extends Kn{constructor(){const e=ot(rd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new X9({context:this.context}),this._modulationNode=new rn({context:this.context}),this._carrier=new yA({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new yA({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new qa({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),uA(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yA.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class sd extends Kn{constructor(){const e=ot(sd.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new rn({context:this.context,gain:0}),this._carrier=new yA({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new LA({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new yA({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new qa({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new qa({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),uA(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(yA.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Wl extends Kn{constructor(){const e=ot(Wl.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new rn({context:this.context,gain:0}),this._thresh=new Vl({context:this.context,mapping:A=>A<=0?-1:1}),this.width=new LA({context:this.context,units:"audioRange",value:e.width}),this._triangle=new yA({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),uA(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Kn.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class id extends Kn{constructor(){const e=ot(id.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new LA({context:this.context,units:"frequency",value:e.frequency}),this.detune=new LA({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,uA(this,["frequency","detune"])}static getDefaults(){return Object.assign(yA.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach(A=>A.start(e))}_stop(e){e=this.toSeconds(e),this._forEach(A=>A.stop(e))}_restart(e){this._forEach(A=>A.restart(e))}_forEach(e){for(let A=0;A<this._oscillators.length;A++)e(this._oscillators[A],A)}get type(){return this._type}set type(e){this._type=e,this._forEach(A=>A.type=e)}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const A=-e/2,n=e/(this._oscillators.length-1);this._forEach((r,s)=>r.detune.value=A+n*s)}}get count(){return this._oscillators.length}set count(e){if(Bi(e,1),this._oscillators.length!==e){this._forEach(A=>A.dispose()),this._oscillators=[];for(let A=0;A<e;A++){const n=new yA({context:this.context,volume:-6-e*1.1,type:this._type,phase:this._phase+A/e*360,partialCount:this._partialCount,onstop:A===0?()=>this.onstop(this):Tt});this.type==="custom"&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[A]=n}this.spread=this._spread,this.state==="started"&&this._forEach(A=>A.start())}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach((A,n)=>A.phase=this._phase+n/this.count*360)}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach(A=>A.baseType=e),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach(A=>A.partials=e))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach(A=>A.partialCount=e),this._type=this._oscillators[0].type}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach(e=>e.dispose()),this}}class od extends Kn{constructor(){const e=ot(od.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new qa({context:this.context,value:2}),this._pulse=new Wl({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new yA({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),uA(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Kn.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const pT={am:rd,fat:id,fm:sd,oscillator:yA,pulse:Wl,pwm:od};class ad extends Kn{constructor(){const e=ot(ad.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new LA({context:this.context,units:"frequency",value:e.frequency}),this.detune=new LA({context:this.context,units:"cents",value:e.detune}),uA(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(yA.getDefaults(),sd.getDefaults(),rd.getDefaults(),id.getDefaults(),Wl.getDefaults(),od.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some(A=>this._sourceType===A)&&(e=this._sourceType),e+this._oscillator.type}set type(e){e.substr(0,2)==="fm"?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,2)==="am"?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):e.substr(0,3)==="fat"?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):e==="pwm"?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):e==="pulse"?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const A=pT[e],n=this.now();if(this._oscillator){const r=this._oscillator;r.stop(n),this.context.setTimeout(()=>r.dispose(),this.blockTime)}this._oscillator=new A({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),this.state==="started"&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let A="sine";this._oscillator.type!=="pwm"&&this._oscillator.type!=="pulse"&&(A=this._oscillator.type),e==="fm"?this.type="fm"+A:e==="am"?this.type="am"+A:e==="fat"?this.type="fat"+A:e==="oscillator"?this.type=A:e==="pulse"?this.type="pulse":e==="pwm"&&(this.type="pwm")}_getOscType(e,A){return e instanceof pT[A]}get baseType(){return this._oscillator.baseType}set baseType(e){!this._getOscType(this._oscillator,"pulse")&&!this._getOscType(this._oscillator,"pwm")&&e!=="pulse"&&e!=="pwm"&&(this._oscillator.baseType=e)}get width(){if(this._getOscType(this._oscillator,"pulse"))return this._oscillator.width}get count(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.count}set count(e){this._getOscType(this._oscillator,"fat")&&Do(e)&&(this._oscillator.count=e)}get spread(){if(this._getOscType(this._oscillator,"fat"))return this._oscillator.spread}set spread(e){this._getOscType(this._oscillator,"fat")&&Do(e)&&(this._oscillator.spread=e)}get modulationType(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.modulationType}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Ws(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){if(this._getOscType(this._oscillator,"fm"))return this._oscillator.modulationIndex}get harmonicity(){if(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))return this._oscillator.harmonicity}get modulationFrequency(){if(this._getOscType(this._oscillator,"pwm"))return this._oscillator.modulationFrequency}asArray(){return oA(this,arguments,void 0,function*(e=1024){return ko(this,e)})}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function gT(t,e=1/0){const A=new WeakMap;return function(n,r){Reflect.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){return A.get(this)},set:function(s){Bi(s,t,e),A.set(this,s)}})}}function qs(t,e=1/0){const A=new WeakMap;return function(n,r){Reflect.defineProperty(n,r,{configurable:!0,enumerable:!0,get:function(){return A.get(this)},set:function(s){Bi(this.toSeconds(s),t,e),A.set(this,s)}})}}class cd extends Kn{constructor(){const e=ot(cd.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new qt({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(Kn.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Tt,onerror:Tt,playbackRate:1,reverse:!1})}load(e){return oA(this,void 0,void 0,function*(){return yield this._buffer.load(e),this._onload(),this})}_onload(e=Tt){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),this._activeSources.size===0&&!this._synced&&this._state.getValueAtTime(this.now())==="started"&&(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,A,n){return super.start(e,A,n),this}_start(e,A,n){this._loop?A=Ha(A,this._loopStart):A=Ha(A,0);const r=this.toSeconds(A),s=n;n=Ha(n,Math.max(this._buffer.duration-r,0));let i=this.toSeconds(n);i=i/this._playbackRate,e=this.toSeconds(e);const o=new nd({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);!this._loop&&!this._synced&&(this._state.cancel(e+i),this._state.setStateAtTime("stopped",e+i,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&gr(s)?o.start(e,r):o.start(e,r,i-this.toSeconds(this.fadeOut))}_stop(e){const A=this.toSeconds(e);this._activeSources.forEach(n=>n.stop(A))}restart(e,A,n){return super.restart(e,A,n),this}_restart(e,A,n){var r;(r=[...this._activeSources].pop())===null||r===void 0||r.stop(e),this._start(e,A,n)}seek(e,A){const n=this.toSeconds(A);if(this._state.getValueAtTime(n)==="started"){const r=this.toSeconds(e);this._stop(n),this._start(n,r)}return this}setLoopPoints(e,A){return this.loopStart=e,this.loopEnd=A,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Bi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(A=>{A.loopStart=e})}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Bi(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach(A=>{A.loopEnd=e})}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach(A=>{A.loop=e}),e)){const A=this._state.getNextState("stopped",this.now());A&&this._state.cancel(A.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const A=this.now(),n=this._state.getNextState("stopped",A);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach(r=>r.cancelStop())),this._activeSources.forEach(r=>{r.playbackRate.setValueAtTime(e,A)})}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach(e=>e.dispose()),this._activeSources.clear(),this._buffer.dispose(),this}}zn([qs(0)],cd.prototype,"fadeIn",void 0),zn([qs(0)],cd.prototype,"fadeOut",void 0);class Ni extends ut{constructor(){const e=ot(Ni.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new LA({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(ut.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,A){if(Ws(e))return e;{let n;for(n in ld)if(ld[n][A]===e)return n;return e}}_setCurve(e,A,n){if(Ws(n)&&Reflect.has(ld,n)){const r=ld[n];vo(r)?e!=="_decayCurve"&&(this[e]=r[A]):this[e]=r}else if(Hr(n)&&e!=="_decayCurve")this[e]=n;else throw new Error("Envelope: invalid curve: "+n)}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e,A=1){this.log("triggerAttack",e,A),e=this.toSeconds(e);let r=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0){const o=1/r;r=(1-i)/o}if(r<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(A,e);else if(this._attackCurve==="linear")this._sig.linearRampTo(A,r,e);else if(this._attackCurve==="exponential")this._sig.targetRampTo(A,r,e);else{this._sig.cancelAndHoldAtTime(e);let o=this._attackCurve;for(let a=1;a<o.length;a++)if(o[a-1]<=i&&i<=o[a]){o=this._attackCurve.slice(a),o[0]=i;break}this._sig.setValueCurveAtTime(o,e,r,A)}if(s&&this.sustain<1){const o=A*this.sustain,a=e+r;this.log("decay",a),this._decayCurve==="linear"?this._sig.linearRampToValueAtTime(o,s+a):this._sig.exponentialApproachValueAtTime(o,a,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const A=this.getValueAtTime(e);if(A>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):this._releaseCurve==="linear"?this._sig.linearRampTo(0,n,e):this._releaseCurve==="exponential"?this._sig.targetRampTo(0,n,e):(at(Hr(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,A))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,A,n=1){return A=this.toSeconds(A),this.triggerAttack(A,n),this.triggerRelease(A+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,A=0,n=0){return E0(this,e,A,n),this}asArray(){return oA(this,arguments,void 0,function*(e=1024){const A=e/this.context.sampleRate,n=new M0(1,A,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),s=r+this.toSeconds(this.release),i=s*.1,o=s+i,a=new this.constructor(Object.assign(this.get(),{attack:A*this.toSeconds(this.attack)/o,decay:A*this.toSeconds(this.decay)/o,release:A*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(A*(r+i)/o,0),(yield n.render()).getChannelData(0)})}dispose(){return super.dispose(),this._sig.dispose(),this}}zn([qs(0)],Ni.prototype,"attack",void 0),zn([qs(0)],Ni.prototype,"decay",void 0),zn([gT(0,1)],Ni.prototype,"sustain",void 0),zn([qs(0)],Ni.prototype,"release",void 0);const ld=(()=>{let e,A;const n=[];for(e=0;e<128;e++)n[e]=Math.sin(e/127*(Math.PI/2));const r=[],s=6.4;for(e=0;e<127;e++){A=e/127;const h=Math.sin(A*(Math.PI*2)*s-Math.PI/2)+1;r[e]=h/10+A*.83}r[127]=1;const i=[],o=5;for(e=0;e<128;e++)i[e]=Math.ceil(e/127*o)/o;const a=[];for(e=0;e<128;e++)A=e/127,a[e]=.5*(1-Math.cos(Math.PI*A));const c=[];for(e=0;e<128;e++){A=e/127;const h=Math.pow(A,3)*4+.2,f=Math.cos(h*Math.PI*2*A);c[e]=Math.abs(f*(1-A))}function l(h){const f=new Array(h.length);for(let d=0;d<h.length;d++)f[d]=1-h[d];return f}function u(h){return h.slice(0).reverse()}return{bounce:{In:l(c),Out:c},cosine:{In:n,Out:u(n)},exponential:"exponential",linear:"linear",ripple:{In:r,Out:l(r)},sine:{In:a,Out:l(a)},step:{In:i,Out:l(i)}}})();class Ka extends ut{constructor(){const e=ot(Ka.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=A=>this._original_triggerRelease(A),this._volume=this.output=new Va({context:this.context,volume:e.volume}),this.volume=this._volume.volume,uA(this,"volume")}static getDefaults(){return Object.assign(ut.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,A){const n=this["_original_"+e]=this[e];this[e]=(...r)=>{const s=r[A],i=this.context.transport.schedule(o=>{r[A]=o,n.apply(this,r)},s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach(e=>this.context.transport.clear(e)),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,A,n,r){const s=this.toSeconds(n),i=this.toSeconds(A);return this.triggerAttack(e,s,r),this.triggerRelease(s+i),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Ja extends Ka{constructor(){const e=ot(Ja.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(Ka.getDefaults(),{detune:0,onsilence:Tt,portamento:0})}triggerAttack(e,A,n=1){this.log("triggerAttack",e,A,n);const r=this.toSeconds(A);return this._triggerEnvelopeAttack(r,n),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const A=this.toSeconds(e);return this._triggerEnvelopeRelease(A),this}setNote(e,A){const n=this.toSeconds(A),r=e instanceof xr?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const s=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,s,n)}else this.frequency.setValueAtTime(r,n);return this}}zn([qs(0)],Ja.prototype,"portamento",void 0);class R0 extends Ni{constructor(){super(ot(R0.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new rn({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ud extends Ja{constructor(){const e=ot(ud.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new ad(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new R0(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),uA(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Ja.getDefaults(),{envelope:Object.assign(oT(Ni.getDefaults(),Object.keys(ut.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(oT(ad.getDefaults(),[...Object.keys(Kn.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,A){if(this.envelope.triggerAttack(e,A),this.oscillator.start(e),this.envelope.sustain===0){const n=this.toSeconds(this.envelope.attack),r=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+n+r)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class hd extends ud{constructor(){const e=ot(hd.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,uA(this,["oscillator","envelope"])}static getDefaults(){return za(Ja.getDefaults(),ud.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,A){const n=this.toSeconds(A),r=this.toFrequency(e instanceof xr?e.toFrequency():e),s=r*this.octaves;return this.oscillator.frequency.setValueAtTime(s,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}zn([gT(0)],hd.prototype,"octaves",void 0),zn([qs(0)],hd.prototype,"pitchDecay",void 0);const wT=new Set;function I0(t){wT.add(t)}function bT(t,e){const A=`registerProcessor("${t}", ${e})`;wT.add(A)}I0(`
	/**
	 * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. 
	 */
	class ToneAudioWorkletProcessor extends AudioWorkletProcessor {

		constructor(options) {
			
			super(options);
			/**
			 * If the processor was disposed or not. Keep alive until it's disposed.
			 */
			this.disposed = false;
		   	/** 
			 * The number of samples in the processing block
			 */
			this.blockSize = 128;
			/**
			 * the sample rate
			 */
			this.sampleRate = sampleRate;

			this.port.onmessage = (event) => {
				// when it receives a dispose 
				if (event.data === "dispose") {
					this.disposed = true;
				}
			};
		}
	}
`),I0(`
	/**
	 * Abstract class for a single input/output processor. 
	 * has a 'generate' function which processes one sample at a time
	 */
	class SingleIOProcessor extends ToneAudioWorkletProcessor {

		constructor(options) {
			super(Object.assign(options, {
				numberOfInputs: 1,
				numberOfOutputs: 1
			}));
			/**
			 * Holds the name of the parameter and a single value of that
			 * parameter at the current sample
			 * @type { [name: string]: number }
			 */
			this.params = {}
		}

		/**
		 * Generate an output sample from the input sample and parameters
		 * @abstract
		 * @param input number
		 * @param channel number
		 * @param parameters { [name: string]: number }
		 * @returns number
		 */
		generate(){}

		/**
		 * Update the private params object with the 
		 * values of the parameters at the given index
		 * @param parameters { [name: string]: Float32Array },
		 * @param index number
		 */
		updateParams(parameters, index) {
			for (const paramName in parameters) {
				const param = parameters[paramName];
				if (param.length > 1) {
					this.params[paramName] = parameters[paramName][index];
				} else {
					this.params[paramName] = parameters[paramName][0];
				}
			}
		}

		/**
		 * Process a single frame of the audio
		 * @param inputs Float32Array[][]
		 * @param outputs Float32Array[][]
		 */
		process(inputs, outputs, parameters) {
			const input = inputs[0];
			const output = outputs[0];
			// get the parameter values
			const channelCount = Math.max(input && input.length || 0, output.length);
			for (let sample = 0; sample < this.blockSize; sample++) {
				this.updateParams(parameters, sample);
				for (let channel = 0; channel < channelCount; channel++) {
					const inputSample = input && input.length ? input[channel][sample] : 0;
					output[channel][sample] = this.generate(inputSample, channel, this.params);
				}
			}
			return !this.disposed;
		}
	};
`),I0(`
	/**
	 * A multichannel buffer for use within an AudioWorkletProcessor as a delay line
	 */
	class DelayLine {
		
		constructor(size, channels) {
			this.buffer = [];
			this.writeHead = []
			this.size = size;

			// create the empty channels
			for (let i = 0; i < channels; i++) {
				this.buffer[i] = new Float32Array(this.size);
				this.writeHead[i] = 0;
			}
		}

		/**
		 * Push a value onto the end
		 * @param channel number
		 * @param value number
		 */
		push(channel, value) {
			this.writeHead[channel] += 1;
			if (this.writeHead[channel] > this.size) {
				this.writeHead[channel] = 0;
			}
			this.buffer[channel][this.writeHead[channel]] = value;
		}

		/**
		 * Get the recorded value of the channel given the delay
		 * @param channel number
		 * @param delay number delay samples
		 */
		get(channel, delay) {
			let readHead = this.writeHead[channel] - Math.floor(delay);
			if (readHead < 0) {
				readHead += this.size;
			}
			return this.buffer[channel][readHead];
		}
	}
`),bT("feedback-comb-filter",`
	class FeedbackCombFilterWorklet extends SingleIOProcessor {

		constructor(options) {
			super(options);
			this.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);
		}

		static get parameterDescriptors() {
			return [{
				name: "delayTime",
				defaultValue: 0.1,
				minValue: 0,
				maxValue: 1,
				automationRate: "k-rate"
			}, {
				name: "feedback",
				defaultValue: 0.5,
				minValue: 0,
				maxValue: 0.9999,
				automationRate: "k-rate"
			}];
		}

		generate(input, channel, parameters) {
			const delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);
			this.delayLine.push(channel, input + delayedSample * parameters.feedback);
			return delayedSample;
		}
	}
`);class fd extends Ka{constructor(){const e=ot(fd.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const A={};Object.keys(e.urls).forEach(n=>{const r=parseInt(n,10);if(at(Qf(n)||Do(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),Qf(n)){const s=new xr(this.context,n).toMidi();A[s]=e.urls[n]}else Do(r)&&isFinite(r)&&(A[r]=e.urls[r])}),this._buffers=new S0({urls:A,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(Ka.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Tt,onerror:Tt,release:.1,urls:{}})}_findClosest(e){let n=0;for(;n<96;){if(this._buffers.has(e+n))return-n;if(this._buffers.has(e-n))return n;n++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,A,n=1){return this.log("triggerAttack",e,A,n),Array.isArray(e)||(e=[e]),e.forEach(r=>{const s=dT(new xr(this.context,r).toFrequency()),i=Math.round(s),o=s-i,a=this._findClosest(i),c=i-a,l=this._buffers.get(c),u=fT(a+o),h=new nd({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);h.start(A,0,l.duration/u,n),Hr(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(h),h.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const f=this._activeSources.get(i),d=f.indexOf(h);d!==-1&&f.splice(d,1)}}}),this}triggerRelease(e,A){return this.log("triggerRelease",e,A),Array.isArray(e)||(e=[e]),e.forEach(n=>{const r=new xr(this.context,n).toMidi();if(this._activeSources.has(r)&&this._activeSources.get(r).length){const s=this._activeSources.get(r);A=this.toSeconds(A),s.forEach(i=>{i.stop(A)}),this._activeSources.set(r,[])}}),this}releaseAll(e){const A=this.toSeconds(e);return this._activeSources.forEach(n=>{for(;n.length;)n.shift().stop(A)}),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,A,n,r=1){const s=this.toSeconds(n);return this.triggerAttack(e,s,r),Hr(A)?(at(Hr(e),"notes must be an array when duration is array"),e.forEach((i,o)=>{const a=A[Math.min(o,A.length-1)];this.triggerRelease(i,s+this.toSeconds(a))})):this.triggerRelease(e,s+this.toSeconds(A)),this}add(e,A,n){if(at(Qf(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Qf(e)){const r=new xr(this.context,e).toMidi();this._buffers.add(r,A,n)}else this._buffers.add(e,A,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach(e=>{e.forEach(A=>A.dispose())}),this._activeSources.clear(),this}}zn([qs(0)],fd.prototype,"attack",void 0),zn([qs(0)],fd.prototype,"release",void 0);class j0 extends ut{constructor(){const e=ot(j0.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new AA({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",uA(this,"pan")}static getDefaults(){return Object.assign(ut.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}bT("bit-crusher",`
	class BitCrusherWorklet extends SingleIOProcessor {

		static get parameterDescriptors() {
			return [{
				name: "bits",
				defaultValue: 12,
				minValue: 1,
				maxValue: 16,
				automationRate: 'k-rate'
			}];
		}

		generate(input, _channel, parameters) {
			const step = Math.pow(0.5, parameters.bits - 1);
			const val = step * Math.floor(input / step + 0.5);
			return val;
		}
	}
`);class DA extends ut{constructor(){const e=ot(DA.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new rn({context:this.context}),DA._allSolos.has(this.context)||DA._allSolos.set(this.context,new Set),DA._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(ut.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),DA._allSolos.get(this.context).forEach(A=>A._updateSolo())}get muted(){return this.input.gain.value===0}_addSolo(){DA._soloed.has(this.context)||DA._soloed.set(this.context,new Set),DA._soloed.get(this.context).add(this)}_removeSolo(){DA._soloed.has(this.context)&&DA._soloed.get(this.context).delete(this)}_isSoloed(){return DA._soloed.has(this.context)&&DA._soloed.get(this.context).has(this)}_noSolos(){return!DA._soloed.has(this.context)||DA._soloed.has(this.context)&&DA._soloed.get(this.context).size===0}_updateSolo(){this._isSoloed()?this.input.gain.value=1:this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),DA._allSolos.get(this.context).delete(this),this._removeSolo(),this}}DA._allSolos=new Map,DA._soloed=new Map;class z0 extends ut{constructor(){const e=ot(z0.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new j0({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Va({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,uA(this,["pan","volume"])}static getDefaults(){return Object.assign(ut.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Xa extends ut{constructor(){const e=ot(Xa.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new DA({solo:e.solo,context:this.context}),this._panVol=this.output=new z0({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),uA(this,["pan","volume"])}static getDefaults(){return Object.assign(ut.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return Xa.buses.has(e)||Xa.buses.set(e,new rn({context:this.context})),Xa.buses.get(e)}send(e,A=0){const n=this._getBus(e),r=new rn({context:this.context,units:"decibels",gain:A});return this.connect(r),r.connect(n),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Xa.buses=new Map,br().transport,br().destination,br().destination,br().listener,br().draw,br();const eK={a:1,b:2,c:3,d:4,e:5,f:6,g:7,x:8,A:1,B:2,C:3,D:4,E:5,F:6,G:7,X:8,"#":9,"!":10,y:13,t:14,s:15,i:16,q:17,h:18,w:19,Y:13,T:14,S:15,I:16,Q:17,H:18,W:19,3:20,".":21,"+":11,"-":12,0:22,1:23,2:24,p:25,4:26,5:27,6:29,7:28,8:30,9:31},_T="64n";function tK(t){return mT({[_T]:t}).toNotation()}function AK(t){return mT({[_T]:t}).toSeconds()}function nK(t,e,A,n=!0,r=tK,s=AK){let i=e,o=4,a=2,c="",l="";const u=[];function h(){l="",c="",i+=s(a)}function f(){const d=r(a);l===null?(u.push([i,[t,d,l]]),h()):Ne(l)?(u.push([i,[t,d,l]]),h()):l.startsWith("#")?(u.push([i,[t,d,l]]),h()):l!==""&&(u.push([i,[t,d,`${l}${c}${o}`]]),h())}if(xe(A))l=A;else for(let d=0;d<A.length;++d){switch(A[d]){case 9:case 10:break;default:f();break}switch(A[d]){case 1:l="A";break;case 2:l="B";break;case 3:l="C";break;case 4:l="D";break;case 5:l="E";break;case 6:l="F";break;case 7:l="G";break;case 8:l=null;break;case 9:c+="#";break;case 10:c+="b";break;case 11:o<8&&++o;break;case 12:o>0&&--o;break;case 13:a=1;break;case 14:a=2;break;case 15:a=4;break;case 16:a=8;break;case 17:a=16;break;case 18:a=32;break;case 19:a=64;break;case 20:a=Math.round(a/3);break;case 21:a=Math.round(a*3/2);break;case 22:l=0;break;case 23:l=1;break;case 24:l=2;break;case 25:l=3;break;case 26:l=4;break;case 27:l=5;break;case 29:l=6;break;case 28:l=7;break;case 30:l=8;break;case 31:l=9;break}}return f(),n&&u.push([i,[t,"8n",-1]]),u}function rK(t){const e=[],A=t.split(";");for(let n=0;n<A.length;++n){const r=[],s=A[n];for(let i=0;i<s.length;++i){const o=eK[s[i]];G(o)&&r.push(o)}e.push(r)}return e}const xT="synthstate",sK={voices:{},voicefx:{}};function H0(t){const e=bt(He.MAIN),A=Ta(e,xT,t);if(G(A))return A;const n=JA(sK);return Tl(e,xT,t,n),n}function iK(t){return H0(t)}function L0(t,e,A,n){const r=H0(t);if(je(A)==="restart"){r.voices={},r.voicefx={};return}G(r.voices[e])||(r.voices[e]={}),r.voices[e][A]=n}function GT(t,e,A,n,r){const s=H0(t);switch(G(s.voicefx[e])||(s.voicefx[e]={}),G(s.voicefx[e][A])||(s.voicefx[e][A]={}),n){case"on":s.voicefx[e][A].on="on";break;case"off":s.voicefx[e][A].on="off";break;default:Ne(n)?s.voicefx[e][A].on=r:s.voicefx[e][A][n]=r;break}}const MT="synthplay",oK=[];function U0(t){const e=bt(He.MAIN),A=Ta(e,MT,t);if(G(A))return A;const n=JA(oK);return Tl(e,MT,t,n),n}function aK(t){return U0(t)}function cK(t,e){const A=bt(He.MAIN);if(!G(A))return;if(t===""){jm(te,"",t,e);return}if(e===""){const i=U0(t);i.length=0,jm(te,"",t,"");return}const n=rK(e);let r=0;for(let i=0;i<n.length;++i){const o=n[i],a=nK(i,0,o,!0,l=>`${l}n`,l=>Math.max(1,Math.round(l*.5-2))),c=a[a.length-1];G(c)&&(r=Math.max(r,c[0]))}U0(t).push([e,r])}let yT=0;const DT=ws,lK=["Command","lines"];class uK extends dF{constructor(){super(Y8,{traceInitPerf:ws,skipValidations:!ws,maxLookahead:2,recoveryEnabled:!0,nodeLocationTracking:"full"}),this.performSelfAnalysis()}PEEK(e,A,...n){console.info(e,n.map(r=>[r.image,r.tokenType]),A)}RULED(e,A,n){const r=lK.some(s=>e.includes(s));return this.RULE(e,()=>{const i=(yT++).toString().padStart(3),o=r?"font-weight: bold;":"";if(DT&&!this.RECORDING_PHASE){const a=[this.LA(1),this.LA(2),this.LA(3)].map(c=>`[${c.tokenType.name} ${c.image.replaceAll(`
`,"\\n")}]`);console.info(`${i}%c> ${e} ${a.join(" ")}`,o)}A(),DT&&!this.RECORDING_PHASE&&console.info(`${i}%c< ${e} `,o),yT--},n)}program=this.RULED("program",()=>{this.MANY(()=>this.SUBRULE(this.line))});line=this.RULED("line",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt)},{ALT:()=>this.CONSUME(xf)}])});stmt=this.RULED("stmt",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt_label)},{ALT:()=>this.SUBRULE(this.stmt_stat)},{ALT:()=>this.SUBRULE(this.stmt_text)},{ALT:()=>this.SUBRULE(this.stmt_comment)},{ALT:()=>this.SUBRULE(this.stmt_hyperlink)},{ALT:()=>this.SUBRULE(this.stmt_command)},{ALT:()=>this.SUBRULE(this.short_go)},{ALT:()=>this.SUBRULE(this.short_try)}])});inline_go=this.RULED("inline_go",()=>{this.SUBRULE(this.short_go),this.OPTION(()=>this.SUBRULE(this.inline))});inline_try=this.RULED("inline_try",()=>{this.SUBRULE(this.short_try),this.OPTION(()=>this.SUBRULE(this.inline))});inline_command=this.RULED("inline_command",()=>{this.SUBRULE(this.stmt_command),this.OPTION(()=>this.SUBRULE(this.inline))});inline=this.RULED("inline",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt_stat)},{ALT:()=>this.SUBRULE(this.stmt_text)},{ALT:()=>this.SUBRULE(this.stmt_comment)},{ALT:()=>this.SUBRULE(this.stmt_hyperlink)},{ALT:()=>this.SUBRULE(this.structured_cmd)},{ALT:()=>this.SUBRULE(this.inline_go)},{ALT:()=>this.SUBRULE(this.inline_try)},{ALT:()=>this.SUBRULE(this.inline_command)}])});stmt_label=this.RULED("stmt_label",()=>{this.CONSUME(Ew)});stmt_stat=this.RULED("stmt_stat",()=>{this.CONSUME(kw)});stmt_text=this.RULED("stmt_text",()=>{this.OR([{ALT:()=>this.CONSUME(BB)}])});stmt_comment=this.RULED("stmt_comment",()=>{this.CONSUME(kB)});stmt_hyperlink=this.RULED("stmt_hyperlink",()=>{this.CONSUME(EB),this.CONSUME(NB)});stmt_command=this.RULED("stmt_command",()=>{this.CONSUME(ka),this.OR([{ALT:()=>this.SUBRULE(this.words)},{ALT:()=>this.SUBRULE(this.structured_cmd)}])});structured_cmd=this.RULED("structured_cmd",()=>{this.OR([{ALT:()=>this.SUBRULE(this.command_if)},{ALT:()=>this.SUBRULE(this.command_while)},{ALT:()=>this.SUBRULE(this.command_repeat)},{ALT:()=>this.SUBRULE(this.command_waitfor)},{ALT:()=>this.SUBRULE(this.command_foreach)},{ALT:()=>this.SUBRULE(this.command_break)},{ALT:()=>this.SUBRULE(this.command_continue)}])});short_go=this.RULED("short_go",()=>{this.CONSUME(Zw),this.OR([{ALT:()=>this.SUBRULE(this.string_token)},{ALT:()=>this.SUBRULE(this.dir)}])});short_try=this.RULED("short_try",()=>{this.CONSUME(b8),this.OR([{ALT:()=>this.SUBRULE(this.string_token)},{ALT:()=>this.SUBRULE(this.dir)}])});command_if=this.RULED("command_if",()=>{this.CONSUME(Cw),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_if_block))});command_if_block=this.RULED("command_if_block",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(Mf),this.MANY(()=>this.SUBRULE(this.line)),this.MANY2({GATE:this.BACKTRACK(this.command_else_if),DEF:()=>this.SUBRULE(this.command_else_if)}),this.OPTION(()=>this.SUBRULE(this.command_else)),this.MANY3(()=>this.CONSUME3(xf)),this.CONSUME4(ka),this.CONSUME4(Pw)}}])});command_block=this.RULED("command_block",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(Mf),this.MANY(()=>this.SUBRULE(this.line)),this.CONSUME(ka),this.CONSUME(Pw)}}])});command_fork=this.RULED("command_fork",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(Mf),this.MANY({GATE:this.BACKTRACK(this.line),DEF:()=>this.SUBRULE(this.line)})}}])});command_else_if=this.RULED("command_else_if",()=>{this.CONSUME(ka),this.CONSUME(Rw),this.CONSUME(Cw),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_fork))});command_else=this.RULED("command_else",()=>{this.CONSUME(ka),this.CONSUME(Rw),this.OPTION1(()=>this.SUBRULE(this.words)),this.OPTION2(()=>this.SUBRULE(this.command_fork))});command_while=this.RULED("command_while",()=>{this.CONSUME(D8),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_repeat=this.RULED("command_repeat",()=>{this.CONSUME(v8),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_waitfor=this.RULED("command_waitfor",()=>{this.CONSUME(B8),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_foreach=this.RULED("command_foreach",()=>{this.CONSUME(k8),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_break=this.RULED("command_break",()=>{this.CONSUME(E8)});command_continue=this.RULED("command_continue",()=>{this.CONSUME(N8)});command_play=this.RULED("command_play",()=>{this.CONSUME(G8)});command_toast=this.RULED("command_toast",()=>{this.CONSUME(M8)});command_ticker=this.RULED("command_ticker",()=>{this.CONSUME(y8)});expr=this.RULED("expr",()=>{this.SUBRULE1(this.and_test,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Nw),this.SUBRULE2(this.and_test,{LABEL:"RHS"})})});and_test=this.RULED("and_test",()=>{this.SUBRULE1(this.not_test,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Yw),this.SUBRULE2(this.not_test,{LABEL:"RHS"})})});not_test=this.RULED("not_test",()=>{this.OR([{ALT:()=>{this.CONSUME(Tw),this.SUBRULE1(this.not_test,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE2(this.comparison)}])});comparison=this.RULED("comparison",()=>{this.SUBRULE1(this.arith_expr,{LABEL:"LHS"}),this.MANY(()=>{this.SUBRULE(this.comp_op),this.SUBRULE2(this.arith_expr,{LABEL:"RHS"})})});comp_op=this.RULED("comp_op",()=>{this.OR([{ALT:()=>this.CONSUME(c8)},{ALT:()=>this.CONSUME(l8)},{ALT:()=>this.CONSUME(u8)},{ALT:()=>this.CONSUME(h8)},{ALT:()=>this.CONSUME(f8)},{ALT:()=>this.CONSUME(d8)}])});expr_value=this.RULED("expr_value",()=>{this.SUBRULE1(this.and_test_value,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Nw),this.SUBRULE2(this.and_test_value,{LABEL:"RHS"})})});and_test_value=this.RULED("and_test_value",()=>{this.SUBRULE1(this.not_test_value,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Yw),this.SUBRULE2(this.not_test_value,{LABEL:"RHS"})})});not_test_value=this.RULED("not_test_value",()=>{this.OR([{ALT:()=>{this.CONSUME(Tw),this.SUBRULE1(this.not_test_value,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE2(this.arith_expr)}])});arith_expr=this.RULED("arith_expr",()=>{this.OR([{ALT:()=>this.SUBRULE(this.token_expr,{LABEL:"LHS"})},{ALT:()=>{this.SUBRULE1(this.term),this.MANY(()=>this.SUBRULE2(this.arith_expr_item,{LABEL:"RHS"}))}}])});arith_expr_item=this.RULED("arith_expr_item",()=>{this.OR([{ALT:()=>this.CONSUME(Ow)},{ALT:()=>this.CONSUME(Sw)}]),this.SUBRULE(this.term)});term=this.RULED("term",()=>{this.SUBRULE1(this.factor),this.MANY(()=>this.SUBRULE2(this.term_item))});term_item=this.RULED("term_item",()=>{this.OR([{ALT:()=>this.CONSUME(p8)},{ALT:()=>this.CONSUME(Zw)},{ALT:()=>this.CONSUME(g8)},{ALT:()=>this.CONSUME(w8)}]),this.SUBRULE(this.factor)});factor=this.RULED("factor",()=>{this.OR1([{ALT:()=>{this.OR2([{ALT:()=>this.CONSUME(Ow)},{ALT:()=>this.CONSUME(Sw)}]),this.SUBRULE(this.factor,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE(this.power)}])});power=this.RULED("power",()=>{this.SUBRULE(this.token),this.OPTION(()=>{this.CONSUME(m8),this.SUBRULE(this.factor)})});words=this.RULED("words",()=>{this.AT_LEAST_ONE(()=>this.SUBRULE(this.expr))});kind=this.RULED("kind",()=>{this.OPTION(()=>this.SUBRULE(this.color)),this.SUBRULE(this.string_token)});category=this.RULED("category",()=>{this.OR([{ALT:()=>this.CONSUME(TB)},{ALT:()=>this.CONSUME(YB)}])});collision=this.RULED("collision",()=>{this.OR([{ALT:()=>this.CONSUME(OB)},{ALT:()=>this.CONSUME(SB)},{ALT:()=>this.CONSUME(ZB)},{ALT:()=>this.CONSUME(CB)},{ALT:()=>this.CONSUME(PB)},{ALT:()=>this.CONSUME(RB)},{ALT:()=>this.CONSUME(IB)},{ALT:()=>this.CONSUME(jB)},{ALT:()=>this.CONSUME(zB)}])});color=this.RULED("color",()=>{this.OR([{ALT:()=>this.CONSUME(HB)},{ALT:()=>this.CONSUME(LB)},{ALT:()=>this.CONSUME(UB)},{ALT:()=>this.CONSUME($B)},{ALT:()=>this.CONSUME(FB)},{ALT:()=>this.CONSUME(VB)},{ALT:()=>this.CONSUME(WB)},{ALT:()=>this.CONSUME(QB)},{ALT:()=>this.CONSUME(qB)},{ALT:()=>this.CONSUME(KB)},{ALT:()=>this.CONSUME(JB)},{ALT:()=>this.CONSUME(XB)},{ALT:()=>this.CONSUME(ek)},{ALT:()=>this.CONSUME(tk)},{ALT:()=>this.CONSUME(Ak)},{ALT:()=>this.CONSUME(nk)},{ALT:()=>this.CONSUME(rk)},{ALT:()=>this.CONSUME(sk)},{ALT:()=>this.CONSUME(ik)},{ALT:()=>this.CONSUME(ok)},{ALT:()=>this.CONSUME(ak)},{ALT:()=>this.CONSUME(ck)},{ALT:()=>this.CONSUME(lk)},{ALT:()=>this.CONSUME(uk)},{ALT:()=>this.CONSUME(hk)},{ALT:()=>this.CONSUME(fk)},{ALT:()=>this.CONSUME(dk)},{ALT:()=>this.CONSUME(mk)},{ALT:()=>this.CONSUME(pk)},{ALT:()=>this.CONSUME(gk)},{ALT:()=>this.CONSUME(wk)},{ALT:()=>this.CONSUME(bk)},{ALT:()=>this.CONSUME(_k)},{ALT:()=>this.CONSUME(xk)},{ALT:()=>this.CONSUME(Gk)},{ALT:()=>this.CONSUME(Mk)},{ALT:()=>this.CONSUME(yk)},{ALT:()=>this.CONSUME(Dk)},{ALT:()=>this.CONSUME(vk)},{ALT:()=>this.CONSUME(Bk)},{ALT:()=>this.CONSUME(kk)},{ALT:()=>this.CONSUME(Ek)},{ALT:()=>this.CONSUME(Nk)},{ALT:()=>this.CONSUME(Tk)},{ALT:()=>this.CONSUME(Yk)},{ALT:()=>this.CONSUME(Ok)},{ALT:()=>this.CONSUME(Sk)},{ALT:()=>this.CONSUME(Zk)},{ALT:()=>this.CONSUME(Ck)},{ALT:()=>this.CONSUME(Pk)},{ALT:()=>this.CONSUME(Rk)},{ALT:()=>this.CONSUME(Ik)},{ALT:()=>this.CONSUME(jk)},{ALT:()=>this.CONSUME(zk)},{ALT:()=>this.CONSUME(Hk)},{ALT:()=>this.CONSUME(Lk)},{ALT:()=>this.CONSUME(Uk)},{ALT:()=>this.CONSUME($k)},{ALT:()=>this.CONSUME(Fk)},{ALT:()=>this.CONSUME(Vk)},{ALT:()=>this.CONSUME(Wk)},{ALT:()=>this.CONSUME(Qk)},{ALT:()=>this.CONSUME(qk)},{ALT:()=>this.CONSUME(Kk)},{ALT:()=>this.CONSUME(Jk)},{ALT:()=>this.CONSUME(Xk)},{ALT:()=>this.CONSUME(eE)},{ALT:()=>this.CONSUME(tE)},{ALT:()=>this.CONSUME(AE)},{ALT:()=>this.CONSUME(nE)}])});dir_mod=this.RULED("dir_mod",()=>{this.OR([{ALT:()=>this.CONSUME(pE)},{ALT:()=>this.CONSUME(gE)},{ALT:()=>this.CONSUME(wE)},{ALT:()=>this.CONSUME(bE)},{ALT:()=>this.CONSUME(RE)},{ALT:()=>this.CONSUME(IE)},{ALT:()=>this.CONSUME(jE)},{ALT:()=>this.SUBRULE(this.dir_within)},{ALT:()=>this.SUBRULE(this.dir_awayby)},{ALT:()=>this.CONSUME(LE)}])});dir_by=this.RULED("dir_by",()=>{this.CONSUME(cE),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_at=this.RULED("dir_at",()=>{this.CONSUME(lE),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_away=this.RULED("dir_away",()=>{this.CONSUME(_E),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_toward=this.RULED("dir_toward",()=>{this.CONSUME(xE),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_find=this.RULED("dir_find",()=>{this.CONSUME(GE),this.OR([{ALT:()=>this.SUBRULE(this.kind)},{ALT:()=>this.CONSUME(Nl)}])});dir_flee=this.RULED("dir_flee",()=>{this.CONSUME(ME),this.OR([{ALT:()=>this.SUBRULE(this.kind)},{ALT:()=>this.CONSUME(Nl)}])});dir_to=this.RULED("dir_to",()=>{this.CONSUME(yE),this.SUBRULE1(this.dir),this.SUBRULE2(this.dir)});dir_within=this.RULED("dir_within",()=>{this.CONSUME(zE),this.SUBRULE1(this.simple_token)});dir_awayby=this.RULED("dir_awayby",()=>{this.CONSUME(HE),this.SUBRULE1(this.simple_token)});dir=this.RULED("dir",()=>{this.MANY(()=>this.SUBRULE(this.dir_mod)),this.OR([{ALT:()=>this.CONSUME(rE)},{ALT:()=>this.CONSUME(sE)},{ALT:()=>this.CONSUME(iE)},{ALT:()=>this.CONSUME(oE)},{ALT:()=>this.CONSUME(aE)},{ALT:()=>this.SUBRULE(this.dir_by)},{ALT:()=>this.SUBRULE(this.dir_at)},{ALT:()=>this.SUBRULE(this.dir_away)},{ALT:()=>this.SUBRULE(this.dir_toward)},{ALT:()=>this.CONSUME(uE)},{ALT:()=>this.CONSUME(hE)},{ALT:()=>this.CONSUME(fE)},{ALT:()=>this.CONSUME(dE)},{ALT:()=>this.CONSUME(mE)},{ALT:()=>this.SUBRULE(this.dir_find)},{ALT:()=>this.SUBRULE(this.dir_flee)},{ALT:()=>this.SUBRULE(this.dir_to)},{ALT:()=>this.CONSUME(DE)},{ALT:()=>this.CONSUME(vE)},{ALT:()=>this.CONSUME(BE)},{ALT:()=>this.CONSUME(kE)},{ALT:()=>this.CONSUME(EE)},{ALT:()=>this.CONSUME(NE)},{ALT:()=>this.CONSUME(TE)},{ALT:()=>this.CONSUME(YE)},{ALT:()=>this.CONSUME(OE)},{ALT:()=>this.CONSUME(SE)},{ALT:()=>this.CONSUME(ZE)},{ALT:()=>this.CONSUME(CE)},{ALT:()=>this.CONSUME(PE)}])});expr_any=this.RULED("expr_any",()=>{this.OR1([{ALT:()=>this.SUBRULE1(this.kind)},{ALT:()=>this.SUBRULE1(this.color)},{ALT:()=>{this.SUBRULE(this.dir),this.OR2([{ALT:()=>this.SUBRULE2(this.kind)},{ALT:()=>this.SUBRULE2(this.color)}])}}])});token_expr_any=this.RULED("token_expr_any",()=>{this.CONSUME(VE),this.SUBRULE(this.expr_any)});token_expr_count=this.RULED("token_expr_count",()=>{this.CONSUME(WE),this.SUBRULE(this.expr_any)});token_expr_blocked=this.RULED("token_expr_blocked",()=>{this.CONSUME(FE),this.SUBRULE(this.dir)});token_expr_abs=this.RULED("token_expr_abs",()=>{this.CONSUME(QE),this.SUBRULE(this.simple_token)});token_expr_intceil=this.RULED("token_expr_intceil",()=>{this.CONSUME(qE),this.SUBRULE(this.simple_token)});token_expr_intfloor=this.RULED("token_expr_intfloor",()=>{this.CONSUME(KE),this.SUBRULE(this.simple_token)});token_expr_intround=this.RULED("token_expr_intround",()=>{this.CONSUME(JE),this.SUBRULE(this.simple_token)});token_expr_clamp=this.RULED("token_expr_clamp",()=>{this.CONSUME(XE),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token),this.SUBRULE3(this.simple_token)});token_expr_min=this.RULED("token_expr_min",()=>{this.CONSUME(e8),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_max=this.RULED("token_expr_max",()=>{this.CONSUME(t8),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_pick=this.RULED("token_expr_pick",()=>{this.CONSUME(A8),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_pickwith=this.RULED("token_expr_pickwith",()=>{this.CONSUME(n8),this.SUBRULE1(this.simple_token),this.AT_LEAST_ONE(()=>this.SUBRULE2(this.simple_token))});token_expr_random=this.RULED("token_expr_random",()=>{this.CONSUME(r8),this.SUBRULE1(this.simple_token),this.OPTION(()=>this.SUBRULE2(this.simple_token))});token_expr_randomwith=this.RULED("token_expr_randomwith",()=>{this.CONSUME(s8),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token),this.OPTION(()=>this.SUBRULE3(this.simple_token))});token_expr_run=this.RULED("token_expr_run",()=>{this.CONSUME(i8),this.SUBRULE(this.string_token)});token_expr_runwith=this.RULED("token_expr_runwith",()=>{this.CONSUME(o8),this.SUBRULE(this.simple_token),this.SUBRULE(this.string_token)});token_expr=this.RULED("token_expr",()=>{this.OR([{ALT:()=>this.CONSUME(UE)},{ALT:()=>this.CONSUME($E)},{ALT:()=>this.SUBRULE(this.token_expr_any)},{ALT:()=>this.SUBRULE(this.token_expr_count)},{ALT:()=>this.SUBRULE(this.token_expr_blocked)},{ALT:()=>this.SUBRULE(this.token_expr_abs)},{ALT:()=>this.SUBRULE(this.token_expr_intceil)},{ALT:()=>this.SUBRULE(this.token_expr_intfloor)},{ALT:()=>this.SUBRULE(this.token_expr_intround)},{ALT:()=>this.SUBRULE(this.token_expr_clamp)},{ALT:()=>this.SUBRULE(this.token_expr_min)},{ALT:()=>this.SUBRULE(this.token_expr_max)},{ALT:()=>this.SUBRULE(this.token_expr_pick)},{ALT:()=>this.SUBRULE(this.token_expr_pickwith)},{ALT:()=>this.SUBRULE(this.token_expr_random)},{ALT:()=>this.SUBRULE(this.token_expr_randomwith)},{ALT:()=>this.SUBRULE(this.token_expr_run)},{ALT:()=>this.SUBRULE(this.token_expr_runwith)}])});string_token=this.RULED("string_token",()=>{this.OR([{ALT:()=>this.CONSUME(mA)},{ALT:()=>this.CONSUME(Gf)}])});simple_token=this.RULED("simple_token",()=>{this.OR([{ALT:()=>this.CONSUME(Nl)},{ALT:()=>this.CONSUME(mA)},{ALT:()=>this.CONSUME(Gf)},{ALT:()=>this.SUBRULE(this.color)}])});token=this.RULED("token",()=>{this.OR([{ALT:()=>this.SUBRULE(this.category)},{ALT:()=>this.SUBRULE(this.collision)},{ALT:()=>this.SUBRULE(this.color)},{ALT:()=>this.SUBRULE(this.dir)},{ALT:()=>this.SUBRULE(this.command_play)},{ALT:()=>this.SUBRULE(this.command_toast)},{ALT:()=>this.SUBRULE(this.command_ticker)},{ALT:()=>this.CONSUME(Ew)},{ALT:()=>this.CONSUME(Gf)},{ALT:()=>this.CONSUME(mA)},{ALT:()=>this.CONSUME(Nl)},{ALT:()=>this.CONSUME(a8)},{ALT:()=>{this.CONSUME(_8),this.SUBRULE(this.expr),this.CONSUME(x8)}}])})}const ec=new uK;if(BF){const t=ec.getGAstProductions(),e=vF(t);console.info(e)}const hK=ec.getBaseCstVisitorConstructor();var Ce=(t=>(t[t.PROGRAM=0]="PROGRAM",t[t.API=1]="API",t[t.LINE=2]="LINE",t[t.MARK=3]="MARK",t[t.GOTO=4]="GOTO",t[t.COUNT=5]="COUNT",t[t.TEXT=6]="TEXT",t[t.LABEL=7]="LABEL",t[t.HYPERLINK=8]="HYPERLINK",t[t.STAT=9]="STAT",t[t.MOVE=10]="MOVE",t[t.COMMAND=11]="COMMAND",t[t.LITERAL=12]="LITERAL",t[t.IF=13]="IF",t[t.IF_CHECK=14]="IF_CHECK",t[t.IF_BLOCK=15]="IF_BLOCK",t[t.ELSE_IF=16]="ELSE_IF",t[t.ELSE=17]="ELSE",t[t.WHILE=18]="WHILE",t[t.BREAK=19]="BREAK",t[t.CONTINUE=20]="CONTINUE",t[t.REPEAT=21]="REPEAT",t[t.WAITFOR=22]="WAITFOR",t[t.FOREACH=23]="FOREACH",t[t.OR=24]="OR",t[t.AND=25]="AND",t[t.NOT=26]="NOT",t[t.COMPARE=27]="COMPARE",t[t.COMPARE_ITEM=28]="COMPARE_ITEM",t[t.OPERATOR=29]="OPERATOR",t[t.OPERATOR_ITEM=30]="OPERATOR_ITEM",t[t.EXPR=31]="EXPR",t))(Ce||{}),Eo=(t=>(t[t.IS_EQ=0]="IS_EQ",t[t.IS_NOT_EQ=1]="IS_NOT_EQ",t[t.IS_LESS_THAN=2]="IS_LESS_THAN",t[t.IS_GREATER_THAN=3]="IS_GREATER_THAN",t[t.IS_LESS_THAN_OR_EQ=4]="IS_LESS_THAN_OR_EQ",t[t.IS_GREATER_THAN_OR_EQ=5]="IS_GREATER_THAN_OR_EQ",t))(Eo||{}),ys=(t=>(t[t.EMPTY=0]="EMPTY",t[t.PLUS=1]="PLUS",t[t.MINUS=2]="MINUS",t[t.POWER=3]="POWER",t[t.MULTIPLY=4]="MULTIPLY",t[t.DIVIDE=5]="DIVIDE",t[t.MOD_DIVIDE=6]="MOD_DIVIDE",t[t.FLOOR_DIVIDE=7]="FLOOR_DIVIDE",t[t.UNI_PLUS=8]="UNI_PLUS",t[t.UNI_MINUS=9]="UNI_MINUS",t))(ys||{}),dd=(t=>(t[t.NUMBER=0]="NUMBER",t[t.STRING=1]="STRING",t[t.TEMPLATE=2]="TEMPLATE",t))(dd||{});function nA(t,e){const[A]=t??[];return(A?.image??e).trimStart().replaceAll(/^"|"$/g,"")}class fK extends hK{unique=0;constructor(){super(),ws&&this.validateVisitor()}visit(e){if(st(e)&&(e=e[0]),!!G(e))return this[e.name](e.children,e.location)}createcodenode(e,A){return[{...A,...e,lineindex:0}]}createstringnode(e,A){return this.createcodenode(e,{type:12,literal:1,value:A})}createtemplatenode(e,A){return this.createcodenode(e,{type:12,literal:2,value:A})}createmarknode(e,A,n){return this.createlinenode(e,this.createcodenode(e,{type:3,id:A,comment:n}))}creategotonode(e,A,n){return this.createlinenode(e,this.createcodenode(e,{type:4,id:A,comment:n}))}createlinenode(e,A){return this.createcodenode(e,{type:2,stmts:A})}createapinode(e,A,n){return this.createlinenode(e,this.createcodenode(e,{type:1,words:n,method:A}))}createlogicnode(e,A,n,r){return this.createlinenode(e,this.createcodenode(e,{type:14,skip:n,words:r,method:A}))}createcountnode(e){return this.createcodenode(e,{type:5,index:this.unique++})}createexprnodeondemand(e,A){return e.length===1?e[0]:this.createcodenode(A,{type:31,words:e})[0]}go(e){return Array.isArray(e)?e.map(A=>this.visit(A)).flat():G(e)?[this.visit(e)].flat():[]}program(e,A){return this.unique=0,this.createcodenode(A,{type:0,lines:[this.createlinenode(A,this.createcodenode(A,{type:7,active:!0,name:"restart"})),this.go(e.line)].flat()})}line(e){return e.stmt?this.go(e.stmt):[]}stmt(e){return e.stmt_label?this.go(e.stmt_label):e.stmt_stat?this.go(e.stmt_stat):e.stmt_text?this.go(e.stmt_text):e.stmt_comment?this.go(e.stmt_comment):e.stmt_hyperlink?this.go(e.stmt_hyperlink):e.stmt_command?this.go(e.stmt_command):e.short_go?this.go(e.short_go):e.short_try?this.go(e.short_try):[]}inline_go(e){const A=[];return e.short_go&&A.push(...this.go(e.short_go)),e.inline&&A.push(...this.go(e.inline)),A}inline_try(e){const A=[];return e.short_try&&A.push(...this.go(e.short_try)),e.inline&&A.push(...this.go(e.inline)),A}inline_command(e){const A=[];return e.stmt_command&&A.push(...this.go(e.stmt_command)),e.inline&&A.push(...this.go(e.inline)),A}inline(e){const A=[];return e.stmt_stat&&A.push(...this.go(e.stmt_stat)),e.stmt_text&&A.push(...this.go(e.stmt_text)),e.stmt_comment&&A.push(...this.go(e.stmt_comment)),e.stmt_hyperlink&&A.push(...this.go(e.stmt_hyperlink)),e.inline_go&&A.push(...this.go(e.inline_go)),e.inline_try&&A.push(...this.go(e.inline_try)),e.inline_command&&A.push(...this.go(e.inline_command)),e.structured_cmd&&A.push(...this.go(e.structured_cmd)),A}stmt_label(e,A){return this.createlinenode(A,this.createcodenode(A,{type:7,active:!0,name:nA(e.token_label,":").slice(1).trim()}))}stmt_stat(e,A){return this.createlinenode(A,this.createcodenode(A,{type:9,value:nA(e.token_stat,"@").slice(1)}))}stmt_text(e,A){const n=nA(e.token_text,"");return this.createlinenode(A,this.createcodenode(A,{type:6,value:n}))}stmt_comment(e,A){return this.createlinenode(A,this.createcodenode(A,{type:7,active:!1,name:nA(e.token_comment,"'").slice(1).trim()}))}stmt_hyperlink(e,A){return this.createlinenode(A,this.createcodenode(A,{type:8,link:nA(e.token_hyperlink,"!").slice(1),text:nA(e.token_hyperlinktext,";").slice(1)}))}stmt_command(e,A){return e.structured_cmd?this.go(e.structured_cmd):this.createlinenode(A,this.createcodenode(A,{type:11,words:this.go(e.words)}))}structured_cmd(e){return e.command_if?this.go(e.command_if):e.command_while?this.go(e.command_while):e.command_repeat?this.go(e.command_repeat):e.command_waitfor?this.go(e.command_waitfor):e.command_foreach?this.go(e.command_foreach):e.command_break?this.go(e.command_break):e.command_continue?this.go(e.command_continue):[]}short_go(e,A){return e.token_divide?this.createlinenode(A,this.createcodenode(A,{type:10,wait:!0,words:[this.go(e.string_token),this.go(e.dir)].flat()})):[]}short_try(e,A){return e.token_query?this.createlinenode(A,this.createcodenode(A,{type:10,wait:!1,words:[this.go(e.string_token),this.go(e.dir)].flat()})):[]}command_if(e,A){const[n]=this.createlogicnode(A,nA(e.token_if,"if").toLowerCase(),"",this.go(e.words)),[r]=this.go(e.command_if_block)??[];return this.createcodenode(A,{type:13,check:n,block:r})}command_if_block(e,A){const n=sA(),r=sA();return this.createcodenode(A,{type:15,skip:n,done:r,lines:[this.go(e.inline),this.go(e.line),this.creategotonode(A,r,"end of if"),this.createmarknode(A,n,"alt logic")].flat(),altlines:[this.go(e.command_else_if),this.go(e.command_else),this.createmarknode(A,r,"end of if")].flat()})}command_block(e){return[this.go(e.inline),this.go(e.line)].flat()}command_fork(e){return[this.go(e.inline),this.go(e.line)].flat()}command_else_if(e,A){const n=sA(),r=sA();return this.createcodenode(A,{type:16,done:r,lines:[this.createlogicnode(A,nA(e.token_if,"if"),n,this.go(e.words)),this.go(e.command_fork),this.creategotonode(A,r,"end of if"),this.createmarknode(A,n,"skip")].flat()})}command_else(e,A){const n=[];return e.words&&n.push(...this.createlinenode(A,this.createcodenode(A,{type:11,words:this.go(e.words)}))),e.command_fork&&n.push(...this.go(e.command_fork)),this.createcodenode(A,{type:17,lines:n})}command_while(e,A){const n=sA(),r=sA();return this.createcodenode(A,{type:18,loop:n,done:r,lines:[this.createmarknode(A,n,"start of while"),this.createlogicnode(A,"if",r,this.go(e.words)),this.go(e.command_block),this.creategotonode(A,n,"loop of while"),this.createmarknode(A,r,"end of while")].flat()})}command_repeat(e,A){const n=sA(),r=sA(),i=[this.createcountnode(A),this.go(e.words)].flat();return this.createcodenode(A,{type:21,loop:n,done:r,lines:[this.createapinode(A,"repeatstart",i),this.createmarknode(A,n,"start of repeat"),this.createlogicnode(A,"repeat",r,i),this.go(e.command_block),this.creategotonode(A,n,"loop of repeat"),this.createmarknode(A,r,"end of repeat")].flat()})}command_foreach(e,A){const n=sA(),r=sA(),i=[this.createcountnode(A),this.go(e.words)].flat();return this.createcodenode(A,{type:23,loop:n,done:r,lines:[this.createapinode(A,"foreachstart",i),this.createmarknode(A,n,"start of foreach"),this.createlogicnode(A,"foreach",r,i),this.go(e.command_block),this.creategotonode(A,n,"loop of foreach"),this.createmarknode(A,r,"end of foreach")].flat()})}command_waitfor(e,A){const n=sA();return this.createcodenode(A,{type:22,loop:n,lines:[this.createmarknode(A,n,"start of waitfor"),this.createlogicnode(A,"waitfor",n,this.go(e.words))].flat()})}command_break(e,A){return this.createcodenode(A,{type:19,goto:0})}command_continue(e,A){return this.createcodenode(A,{type:20,goto:0})}command_play(e,A){const n=nA(e.token_command_play,"").trim(),[r,...s]=n.split(" ");return[this.createstringnode(A,r),this.createstringnode(A,s.join(" "))].flat()}command_toast(e,A){const r=nA(e.token_command_toast,"").replace("toast","").trim();return[this.createstringnode(A,"toast"),this.createtemplatenode(A,r)].flat()}command_ticker(e,A){const r=nA(e.token_command_ticker,"").replace("ticker","").trim();return[this.createstringnode(A,"ticker"),this.createtemplatenode(A,r)].flat()}expr(e,A){return e.RHS?this.createcodenode(A,{type:24,items:[this.createexprnodeondemand(this.go(e.LHS),A),this.createexprnodeondemand(this.go(e.RHS),A)]}):this.go(e.LHS)}and_test(e,A){return e.RHS?this.createcodenode(A,{type:25,items:[this.createexprnodeondemand(this.go(e.LHS),A),this.createexprnodeondemand(this.go(e.RHS),A)]}):this.go(e.LHS)}not_test(e,A){return e.comparison?this.go(e.comparison):e.LHS?this.createcodenode(A,{type:26,items:this.go(e.LHS)}):[]}comparison(e,A){if(e.RHS){const[n]=this.go(e.comp_op);return this.createcodenode(A,{type:27,compare:n,lhs:this.createexprnodeondemand(this.go(e.LHS),A),rhs:this.createexprnodeondemand(this.go(e.RHS),A)})}return this.go(e.LHS)}comp_op(e,A){return e.token_iseq?this.createcodenode(A,{type:28,method:0}):e.token_isnoteq?this.createcodenode(A,{type:28,method:1}):e.token_islessthan?this.createcodenode(A,{type:28,method:2}):e.token_isgreaterthan?this.createcodenode(A,{type:28,method:3}):e.token_islessthanorequal?this.createcodenode(A,{type:28,method:4}):e.token_isgreaterthanorequal?this.createcodenode(A,{type:28,method:5}):[]}expr_value(e,A){return e.RHS?this.createcodenode(A,{type:24,items:[this.createexprnodeondemand(this.go(e.LHS),A),this.createexprnodeondemand(this.go(e.RHS),A)]}):this.go(e.LHS)}and_test_value(e,A){return e.RHS?this.createcodenode(A,{type:25,items:[this.createexprnodeondemand(this.go(e.LHS),A),this.createexprnodeondemand(this.go(e.RHS),A)]}):this.go(e.LHS)}not_test_value(e,A){return e.arith_expr?this.go(e.arith_expr):e.LHS?this.createcodenode(A,{type:26,items:this.go(e.LHS)}):[]}arith_expr(e,A){if(e.LHS)return this.go(e.LHS);const n=this.go(e.term);return e.RHS?this.createcodenode(A,{type:29,lhs:n[0],items:this.go(e.RHS)}):n}arith_expr_item(e,A){return this.createcodenode(A,{type:30,operator:e.token_plus?1:2,rhs:this.go(e.term)[0]})}term(e,A){return e.term_item?this.createcodenode(A,{type:29,lhs:this.go(e.factor)[0],items:this.go(e.term_item)}):this.go(e.factor)}term_item(e,A){let n=0;return e.token_multiply&&(n=4),e.token_divide&&(n=5),e.token_moddivide&&(n=6),e.token_floordivide&&(n=7),this.createcodenode(A,{type:30,operator:n,rhs:this.go(e.factor)[0]})}factor(e,A){if(e.power)return this.go(e.power);let n=0;return e.token_plus&&(n=8),e.token_minus&&(n=9),this.createcodenode(A,{type:29,lhs:void 0,items:this.createcodenode(A,{type:30,operator:n,rhs:this.go(e.LHS)[0]})})}power(e,A){const n=this.go(e.token);return e.factor?this.createcodenode(A,{type:29,lhs:n[0],items:this.createcodenode(A,{type:30,operator:3,rhs:this.go(e.factor)[0]})}):n}words(e){return this.go(e.expr)}kind(e){return[this.go(e.color),this.go(e.string_token)].flat()}category(e,A){return e.token_isterrain?this.createcodenode(A,{type:12,literal:1,value:"isterrain"}):e.token_isobject?this.createcodenode(A,{type:12,literal:1,value:"isobject"}):[]}collision(e,A){return e.token_iswalkable?this.createcodenode(A,{type:12,literal:1,value:"iswalkable"}):e.token_iswalking?this.createcodenode(A,{type:12,literal:1,value:"iswalking"}):e.token_iswalk?this.createcodenode(A,{type:12,literal:1,value:"iswalk"}):e.token_isswimmable?this.createcodenode(A,{type:12,literal:1,value:"isswimmable"}):e.token_isswimming?this.createcodenode(A,{type:12,literal:1,value:"isswimming"}):e.token_isswim?this.createcodenode(A,{type:12,literal:1,value:"isswim"}):e.token_issolid?this.createcodenode(A,{type:12,literal:1,value:"issolid"}):e.token_isbullet?this.createcodenode(A,{type:12,literal:1,value:"isbullet"}):e.token_isghost?this.createcodenode(A,{type:12,literal:1,value:"isghost"}):[]}color(e,A){let n="ERROR";return e.token_black&&(n="black"),e.token_dkblue&&(n="dkblue"),e.token_dkgreen&&(n="dkgreen"),e.token_dkcyan&&(n="dkcyan"),e.token_dkred&&(n="dkred"),e.token_dkpurple&&(n="dkpurple"),e.token_dkyellow&&(n="dkyellow"),e.token_ltgray&&(n="ltgray"),e.token_dkgray&&(n="dkgray"),e.token_blue&&(n="blue"),e.token_green&&(n="green"),e.token_cyan&&(n="cyan"),e.token_red&&(n="red"),e.token_purple&&(n="purple"),e.token_yellow&&(n="yellow"),e.token_white&&(n="white"),e.token_brown&&(n="brown"),e.token_dkwhite&&(n="dkwhite"),e.token_ltgrey&&(n="ltgrey"),e.token_gray&&(n="gray"),e.token_grey&&(n="grey"),e.token_dkgrey&&(n="dkgrey"),e.token_ltblack&&(n="ltblack"),e.token_onblack&&(n="onblack"),e.token_ondkblue&&(n="ondkblue"),e.token_ondkgreen&&(n="ondkgreen"),e.token_ondkcyan&&(n="ondkcyan"),e.token_ondkred&&(n="ondkred"),e.token_ondkpurple&&(n="ondkpurple"),e.token_ondkyellow&&(n="ondkyellow"),e.token_onltgray&&(n="onltgray"),e.token_ondkgray&&(n="ondkgray"),e.token_onblue&&(n="onblue"),e.token_ongreen&&(n="ongreen"),e.token_oncyan&&(n="oncyan"),e.token_onred&&(n="onred"),e.token_onpurple&&(n="onpurple"),e.token_onyellow&&(n="onyellow"),e.token_onwhite&&(n="onwhite"),e.token_onbrown&&(n="onbrown"),e.token_ondkwhite&&(n="ondkwhite"),e.token_onltgrey&&(n="onltgrey"),e.token_ongray&&(n="ongray"),e.token_ongrey&&(n="ongrey"),e.token_ondkgrey&&(n="ondkgrey"),e.token_onltblack&&(n="onltblack"),e.token_onclear&&(n="onclear"),e.token_blblack&&(n="blblack"),e.token_bldkblue&&(n="blblue"),e.token_bldkgreen&&(n="blgreen"),e.token_bldkcyan&&(n="bldkcyan"),e.token_bldkred&&(n="bldkred"),e.token_bldkpurple&&(n="bldkpurple"),e.token_bldkyellow&&(n="bldkyellow"),e.token_blltgray&&(n="blltgray"),e.token_bldkgray&&(n="bldkgray"),e.token_blblue&&(n="blblue"),e.token_blgreen&&(n="blgreen"),e.token_blcyan&&(n="blcyan"),e.token_blred&&(n="blred"),e.token_blpurple&&(n="blpurple"),e.token_blyellow&&(n="blyellow"),e.token_blwhite&&(n="blwhite"),e.token_blbrown&&(n="blbrown"),e.token_bldkwhite&&(n="bldkwhite"),e.token_blltgrey&&(n="blltgrey"),e.token_blgray&&(n="blgray"),e.token_blgrey&&(n="blgrey"),e.token_bldkgrey&&(n="bldkgrey"),e.token_blltblack&&(n="blltblack"),this.createcodenode(A,{type:12,literal:1,value:n})}dir_mod(e,A){if(e.dir_within)return this.go(e.dir_within);if(e.dir_awayby)return this.go(e.dir_awayby);let n="ERROR";return e.token_cw&&(n="cw"),e.token_ccw&&(n="ccw"),e.token_opp&&(n="opp"),e.token_rndp&&(n="rndp"),e.token_over&&(n="over"),e.token_under&&(n="under"),e.token_ground&&(n="ground"),e.token_elements&&(n="elements"),this.createcodenode(A,{type:12,literal:1,value:n})}dir_by(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"by"}),...this.go(e.simple_token)]}dir_at(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"at"}),...this.go(e.simple_token)]}dir_away(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"away"}),...this.go(e.simple_token)]}dir_toward(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"toward"}),...this.go(e.simple_token)]}dir_find(e,A){const n=this.go(e.kind);if(e.token_numberliteral){const r=parseFloat(nA(e.token_numberliteral,"0"));n.push(...this.createcodenode(A,{type:12,literal:0,value:r}))}return[...this.createcodenode(A,{type:12,literal:1,value:"find"}),...n]}dir_flee(e,A){const n=this.go(e.kind);if(e.token_numberliteral){const r=parseFloat(nA(e.token_numberliteral,"0"));n.push(...this.createcodenode(A,{type:12,literal:0,value:r}))}return[...this.createcodenode(A,{type:12,literal:1,value:"flee"}),...n]}dir_to(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"to"}),...this.go(e.dir)]}dir_within(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"within"}),...this.go(e.simple_token)]}dir_awayby(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"awayby"}),...this.go(e.simple_token)]}dir(e,A){const n=this.go(e.dir_mod)??[];return e.token_i&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"i"})),e.token_idle&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"idle"})),e.token_n&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"n"})),e.token_u&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"u"})),e.token_north&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"north"})),e.token_up&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"up"})),e.token_s&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"s"})),e.token_d&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"d"})),e.token_south&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"south"})),e.token_down&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"down"})),e.token_w&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"w"})),e.token_l&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"l"})),e.token_west&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"west"})),e.token_left&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"left"})),e.token_e&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"e"})),e.token_r&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"r"})),e.token_east&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"east"})),e.token_right&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"right"})),e.token_rnd&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"rnd"})),e.token_rndne&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"rndne"})),e.token_rndns&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"rndns"})),e.token_flow&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"flow"})),e.token_seek&&n.push(...this.createcodenode(A,{type:12,literal:1,value:"seek"})),e.dir_by&&n.push(...this.go(e.dir_by)),e.dir_at&&n.push(...this.go(e.dir_at)),e.dir_away&&n.push(...this.go(e.dir_away)),e.dir_toward&&n.push(...this.go(e.dir_toward)),e.dir_find&&n.push(...this.go(e.dir_find)),e.dir_flee&&n.push(...this.go(e.dir_flee)),e.dir_to&&n.push(...this.go(e.dir_to)),n.flat()}expr_any(e){return[this.go(e.dir),this.go(e.kind),this.go(e.color)].flat()}token_expr_any(e,A){return[this.createcodenode(A,{type:12,literal:1,value:"any"}),this.go(e.expr_any)].flat()}token_expr_count(e,A){return[this.createcodenode(A,{type:12,literal:1,value:"countof"}),this.go(e.expr_any)].flat()}token_expr_blocked(e,A){return[this.createcodenode(A,{type:12,literal:1,value:"blocked"}),this.go(e.dir)].flat()}token_expr_abs(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"abs"}),...this.go(e.simple_token)]}token_expr_intceil(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"intceil"}),...this.go(e.simple_token)]}token_expr_intfloor(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"intfloor"}),...this.go(e.simple_token)]}token_expr_intround(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"intround"}),...this.go(e.simple_token)]}token_expr_clamp(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"clamp"}),...this.go(e.simple_token)]}token_expr_min(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"min"}),...this.go(e.simple_token)]}token_expr_max(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"max"}),...this.go(e.simple_token)]}token_expr_pick(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"pick"}),...this.go(e.simple_token)]}token_expr_pickwith(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"pickwith"}),...this.go(e.simple_token)]}token_expr_random(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"random"}),...this.go(e.simple_token)]}token_expr_randomwith(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"randomwith"}),...this.go(e.simple_token)]}token_expr_run(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"run"}),...this.go(e.string_token)]}token_expr_runwith(e,A){return[...this.createcodenode(A,{type:12,literal:1,value:"runwith"}),...this.go(e.simple_token),...this.go(e.string_token)]}token_expr(e,A){return e.token_expr_aligned?this.createcodenode(A,{type:12,literal:1,value:"aligned"}):e.token_contact?this.createcodenode(A,{type:12,literal:1,value:"contact"}):e.token_expr_any?this.go(e.token_expr_any):e.token_expr_count?this.go(e.token_expr_count):e.token_expr_blocked?this.go(e.token_expr_blocked):e.token_expr_abs?this.go(e.token_expr_abs):e.token_expr_intceil?this.go(e.token_expr_intceil):e.token_expr_intfloor?this.go(e.token_expr_intfloor):e.token_expr_intround?this.go(e.token_expr_intround):e.token_expr_clamp?this.go(e.token_expr_clamp):e.token_expr_min?this.go(e.token_expr_min):e.token_expr_max?this.go(e.token_expr_max):e.token_expr_pick?this.go(e.token_expr_pick):e.token_expr_pickwith?this.go(e.token_expr_pickwith):e.token_expr_random?this.go(e.token_expr_random):e.token_expr_randomwith?this.go(e.token_expr_randomwith):e.token_expr_run?this.go(e.token_expr_run):e.token_expr_runwith?this.go(e.token_expr_runwith):[]}string_token(e,A){if(e.token_stringliteraldouble){const n=nA(e.token_stringliteraldouble,"");return this.createcodenode(A,{type:12,literal:2,value:n})}if(e.token_stringliteral){const n=nA(e.token_stringliteral,"");return this.createcodenode(A,{type:12,literal:1,value:n})}return[]}simple_token(e,A){if(e.token_stringliteraldouble){const n=nA(e.token_stringliteraldouble,"");return this.createcodenode(A,{type:12,literal:2,value:n})}if(e.token_stringliteral){const n=nA(e.token_stringliteral,"");return this.createcodenode(A,{type:12,literal:1,value:n})}if(e.token_numberliteral){const n=parseFloat(nA(e.token_numberliteral,"0"));return this.createcodenode(A,{type:12,literal:0,value:n})}return e.color?this.go(e.color):[]}token(e,A){if(e.category)return this.go(e.category);if(e.collision)return this.go(e.collision);if(e.color)return this.go(e.color);if(e.dir)return this.go(e.dir);if(e.command_play)return this.go(e.command_play);if(e.command_toast)return this.go(e.command_toast);if(e.command_ticker)return this.go(e.command_ticker);if(e.token_label){const n=nA(e.token_label,"");return this.createcodenode(A,{type:12,literal:1,value:n})}if(e.token_stringliteraldouble){const n=nA(e.token_stringliteraldouble,"");return this.createcodenode(A,{type:12,literal:2,value:n})}if(e.token_stringliteral){const n=nA(e.token_stringliteral,"");return this.createcodenode(A,{type:12,literal:1,value:n})}if(e.token_numberliteral){const n=parseFloat(nA(e.token_numberliteral,"0"));return this.createcodenode(A,{type:12,literal:0,value:n})}if(e.token_lparen)return[this.createexprnodeondemand(this.go(e.expr),A)];if(e.token_stop){const n=nA(e.token_stop,"");return this.createcodenode(A,{type:12,literal:1,value:n})}return[]}}const dK=new fK;function $0(t){if(!t||t.type===void 0)return;const e=[{start:t.startOffset,end:t.endOffset??0}];return Object.keys(t).forEach(A=>{if(A!=="parent"){const n=t[A];st(n)?n.forEach(r=>{e.push($0(r))}):e.push($0(n))}}),t.range={start:Math.min(...e.filter(A=>A).map(A=>A?.start??0)),end:Math.max(...e.filter(A=>A).map(A=>A?.end??0))},t.range}function mK(t){const e=O8(`${t}
`);if(e.errors.length>0)return e;ec.input=e.tokens;const A=ec.program();if(ec.errors.length>0)return{tokens:e.tokens,errors:ec.errors.map(r=>({offset:r.token.startOffset,line:r.token.startLine,column:r.token.startColumn,length:r.token.image.length,message:r.message}))};const[n]=dK.go(A);return n?($0(n),{tokens:e.tokens,cst:A,ast:n}):{tokens:e.tokens,cst:A,errors:[{message:"no ast output",offset:0,line:0,column:0,length:0}]}}var Ql={},F0={},V0={},W0={},vT;function pK(){if(vT)return W0;vT=1;const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return W0.encode=function(e){if(0<=e&&e<t.length)return t[e];throw new TypeError("Must be between 0 and 63: "+e)},W0}var BT;function kT(){if(BT)return V0;BT=1;const t=pK(),e=5,A=1<<e,n=A-1,r=A;function s(i){return i<0?(-i<<1)+1:(i<<1)+0}return V0.encode=function(o){let a="",c,l=s(o);do c=l&n,l>>>=e,l>0&&(c|=r),a+=t.encode(c);while(l>0);return a},V0}var Ur={},No={},ql={exports:{}};var gK=ql.exports,ET;function wK(){return ET||(ET=1,(function(t,e){(function(A){var n=e&&!e.nodeType&&e,r=t&&!t.nodeType&&t,s=typeof ri=="object"&&ri;(s.global===s||s.window===s||s.self===s)&&(A=s);var i,o=2147483647,a=36,c=1,l=26,u=38,h=700,f=72,d=128,m="-",p=/^xn--/,g=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=a-c,b=Math.floor,T=String.fromCharCode,M;function B(W){throw new RangeError(x[W])}function Z(W,O){for(var R=W.length,Ae=[];R--;)Ae[R]=O(W[R]);return Ae}function S(W,O){var R=W.split("@"),Ae="";R.length>1&&(Ae=R[0]+"@",W=R[1]),W=W.replace(w,".");var K=W.split("."),ee=Z(K,O).join(".");return Ae+ee}function C(W){for(var O=[],R=0,Ae=W.length,K,ee;R<Ae;)K=W.charCodeAt(R++),K>=55296&&K<=56319&&R<Ae?(ee=W.charCodeAt(R++),(ee&64512)==56320?O.push(((K&1023)<<10)+(ee&1023)+65536):(O.push(K),R--)):O.push(K);return O}function k(W){return Z(W,function(O){var R="";return O>65535&&(O-=65536,R+=T(O>>>10&1023|55296),O=56320|O&1023),R+=T(O),R}).join("")}function N(W){return W-48<10?W-22:W-65<26?W-65:W-97<26?W-97:a}function y(W,O){return W+22+75*(W<26)-((O!=0)<<5)}function I(W,O,R){var Ae=0;for(W=R?b(W/h):W>>1,W+=b(W/O);W>v*l>>1;Ae+=a)W=b(W/v);return b(Ae+(v+1)*W/(W+u))}function U(W){var O=[],R=W.length,Ae,K=0,ee=d,de=f,be,me,_e,ke,Ye,Pe,$e,Y,J;for(be=W.lastIndexOf(m),be<0&&(be=0),me=0;me<be;++me)W.charCodeAt(me)>=128&&B("not-basic"),O.push(W.charCodeAt(me));for(_e=be>0?be+1:0;_e<R;){for(ke=K,Ye=1,Pe=a;_e>=R&&B("invalid-input"),$e=N(W.charCodeAt(_e++)),($e>=a||$e>b((o-K)/Ye))&&B("overflow"),K+=$e*Ye,Y=Pe<=de?c:Pe>=de+l?l:Pe-de,!($e<Y);Pe+=a)J=a-Y,Ye>b(o/J)&&B("overflow"),Ye*=J;Ae=O.length+1,de=I(K-ke,Ae,ke==0),b(K/Ae)>o-ee&&B("overflow"),ee+=b(K/Ae),K%=Ae,O.splice(K++,0,ee)}return k(O)}function j(W){var O,R,Ae,K,ee,de,be,me,_e,ke,Ye,Pe=[],$e,Y,J,X;for(W=C(W),$e=W.length,O=d,R=0,ee=f,de=0;de<$e;++de)Ye=W[de],Ye<128&&Pe.push(T(Ye));for(Ae=K=Pe.length,K&&Pe.push(m);Ae<$e;){for(be=o,de=0;de<$e;++de)Ye=W[de],Ye>=O&&Ye<be&&(be=Ye);for(Y=Ae+1,be-O>b((o-R)/Y)&&B("overflow"),R+=(be-O)*Y,O=be,de=0;de<$e;++de)if(Ye=W[de],Ye<O&&++R>o&&B("overflow"),Ye==O){for(me=R,_e=a;ke=_e<=ee?c:_e>=ee+l?l:_e-ee,!(me<ke);_e+=a)X=me-ke,J=a-ke,Pe.push(T(y(ke+X%J,0))),me=b(X/J);Pe.push(T(y(me,0))),ee=I(R,Y,Ae==K),R=0,++Ae}++R,++O}return Pe.join("")}function F(W){return S(W,function(O){return p.test(O)?U(O.slice(4).toLowerCase()):O})}function V(W){return S(W,function(O){return g.test(O)?"xn--"+j(O):O})}if(i={version:"1.4.1",ucs2:{decode:C,encode:k},decode:U,encode:j,toASCII:V,toUnicode:F},n&&r)if(t.exports==n)r.exports=i;else for(M in i)i.hasOwnProperty(M)&&(n[M]=i[M]);else A.punycode=i})(gK)})(ql,ql.exports)),ql.exports}var Q0,NT;function tc(){return NT||(NT=1,Q0=TypeError),Q0}var bK={},_K=Object.freeze({__proto__:null,default:bK}),xK=yx(_K),q0,TT;function md(){if(TT)return q0;TT=1;var t=typeof Map=="function"&&Map.prototype,e=Object.getOwnPropertyDescriptor&&t?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,A=t&&e&&typeof e.get=="function"?e.get:null,n=t&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i=r&&s&&typeof s.get=="function"?s.get:null,o=r&&Set.prototype.forEach,a=typeof WeakMap=="function"&&WeakMap.prototype,c=a?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,u=l?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,f=h?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,m=Object.prototype.toString,p=Function.prototype.toString,g=String.prototype.match,w=String.prototype.slice,x=String.prototype.replace,v=String.prototype.toUpperCase,b=String.prototype.toLowerCase,T=RegExp.prototype.test,M=Array.prototype.concat,B=Array.prototype.join,Z=Array.prototype.slice,S=Math.floor,C=typeof BigInt=="function"?BigInt.prototype.valueOf:null,k=Object.getOwnPropertySymbols,N=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,y=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===y||!0)?Symbol.toStringTag:null,U=Object.prototype.propertyIsEnumerable,j=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function($){return $.__proto__}:null);function F($,se){if($===1/0||$===-1/0||$!==$||$&&$>-1e3&&$<1e3||T.call(/e/,se))return se;var Ve=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof $=="number"){var Qe=$<0?-S(-$):S($);if(Qe!==$){var Ke=String(Qe),Ie=w.call(se,Ke.length+1);return x.call(Ke,Ve,"$&_")+"."+x.call(x.call(Ie,/([0-9]{3})/g,"$&_"),/_$/,"")}}return x.call(se,Ve,"$&_")}var V=xK,W=V.custom,O=Y(W)?W:null,R={__proto__:null,double:'"',single:"'"},Ae={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};q0=function $(se,Ve,Qe,Ke){var Ie=Ve||{};if(L(Ie,"quoteStyle")&&!L(R,Ie.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(L(Ie,"maxStringLength")&&(typeof Ie.maxStringLength=="number"?Ie.maxStringLength<0&&Ie.maxStringLength!==1/0:Ie.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var In=L(Ie,"customInspect")?Ie.customInspect:!0;if(typeof In!="boolean"&&In!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(L(Ie,"indent")&&Ie.indent!==null&&Ie.indent!=="	"&&!(parseInt(Ie.indent,10)===Ie.indent&&Ie.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(L(Ie,"numericSeparator")&&typeof Ie.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var yr=Ie.numericSeparator;if(typeof se>"u")return"undefined";if(se===null)return"null";if(typeof se=="boolean")return se?"true":"false";if(typeof se=="string")return Bt(se,Ie);if(typeof se=="number"){if(se===0)return 1/0/se>0?"0":"-0";var er=String(se);return yr?F(se,er):er}if(typeof se=="bigint"){var zi=String(se)+"n";return yr?F(se,zi):zi}var mx=typeof Ie.depth>"u"?5:Ie.depth;if(typeof Qe>"u"&&(Qe=0),Qe>=mx&&mx>0&&typeof se=="object")return be(se)?"[Array]":"[Object]";var wc=H(Ie,Qe);if(typeof Ke>"u")Ke=[];else if(fe(Ke,se)>=0)return"[Circular]";function qr(bc,gm,mhe){if(gm&&(Ke=Z.call(Ke),Ke.push(gm)),mhe){var TS={depth:Ie.depth};return L(Ie,"quoteStyle")&&(TS.quoteStyle=Ie.quoteStyle),$(bc,TS,Qe+1,Ke)}return $(bc,Ie,Qe+1,Ke)}if(typeof se=="function"&&!_e(se)){var yS=Q(se),DS=ue(se,qr);return"[Function"+(yS?": "+yS:" (anonymous)")+"]"+(DS.length>0?" { "+B.call(DS,", ")+" }":"")}if(Y(se)){var vS=y?x.call(String(se),/^(Symbol\(.*\))_[^)]*$/,"$1"):N.call(se);return typeof se=="object"&&!y?BA(vS):vS}if(Ue(se)){for(var pu="<"+b.call(String(se.nodeName)),px=se.attributes||[],pm=0;pm<px.length;pm++)pu+=" "+px[pm].name+"="+K(ee(px[pm].value),"double",Ie);return pu+=">",se.childNodes&&se.childNodes.length&&(pu+="..."),pu+="</"+b.call(String(se.nodeName))+">",pu}if(be(se)){if(se.length===0)return"[]";var gx=ue(se,qr);return wc&&!E(gx)?"["+ne(gx,wc)+"]":"[ "+B.call(gx,", ")+" ]"}if(ke(se)){var wx=ue(se,qr);return!("cause"in Error.prototype)&&"cause"in se&&!U.call(se,"cause")?"{ ["+String(se)+"] "+B.call(M.call("[cause]: "+qr(se.cause),wx),", ")+" }":wx.length===0?"["+String(se)+"]":"{ ["+String(se)+"] "+B.call(wx,", ")+" }"}if(typeof se=="object"&&In){if(O&&typeof se[O]=="function"&&V)return V(se,{depth:mx-Qe});if(In!=="symbol"&&typeof se.inspect=="function")return se.inspect()}if(pe(se)){var BS=[];return n&&n.call(se,function(bc,gm){BS.push(qr(gm,se,!0)+" => "+qr(bc,se))}),D("Map",A.call(se),BS,wc)}if(Se(se)){var kS=[];return o&&o.call(se,function(bc){kS.push(qr(bc,se))}),D("Set",i.call(se),kS,wc)}if(oe(se))return P("WeakMap");if(Be(se))return P("WeakSet");if(ye(se))return P("WeakRef");if(Pe(se))return BA(qr(Number(se)));if(J(se))return BA(qr(C.call(se)));if($e(se))return BA(d.call(se));if(Ye(se))return BA(qr(String(se)));if(typeof window<"u"&&se===window)return"{ [object Window] }";if(typeof globalThis<"u"&&se===globalThis||typeof ri<"u"&&se===ri)return"{ [object globalThis] }";if(!me(se)&&!_e(se)){var bx=ue(se,qr),ES=j?j(se)===Object.prototype:se instanceof Object||se.constructor===Object,_x=se instanceof Object?"":"null prototype",NS=!ES&&I&&Object(se)===se&&I in se?w.call(z(se),8,-1):_x?"Object":"",dhe=ES||typeof se.constructor!="function"?"":se.constructor.name?se.constructor.name+" ":"",xx=dhe+(NS||_x?"["+B.call(M.call([],NS||[],_x||[]),": ")+"] ":"");return bx.length===0?xx+"{}":wc?xx+"{"+ne(bx,wc)+"}":xx+"{ "+B.call(bx,", ")+" }"}return String(se)};function K($,se,Ve){var Qe=Ve.quoteStyle||se,Ke=R[Qe];return Ke+$+Ke}function ee($){return x.call(String($),/"/g,"&quot;")}function de($){return!I||!(typeof $=="object"&&(I in $||typeof $[I]<"u"))}function be($){return z($)==="[object Array]"&&de($)}function me($){return z($)==="[object Date]"&&de($)}function _e($){return z($)==="[object RegExp]"&&de($)}function ke($){return z($)==="[object Error]"&&de($)}function Ye($){return z($)==="[object String]"&&de($)}function Pe($){return z($)==="[object Number]"&&de($)}function $e($){return z($)==="[object Boolean]"&&de($)}function Y($){if(y)return $&&typeof $=="object"&&$ instanceof Symbol;if(typeof $=="symbol")return!0;if(!$||typeof $!="object"||!N)return!1;try{return N.call($),!0}catch{}return!1}function J($){if(!$||typeof $!="object"||!C)return!1;try{return C.call($),!0}catch{}return!1}var X=Object.prototype.hasOwnProperty||function($){return $ in this};function L($,se){return X.call($,se)}function z($){return m.call($)}function Q($){if($.name)return $.name;var se=g.call(p.call($),/^function\s*([\w$]+)/);return se?se[1]:null}function fe($,se){if($.indexOf)return $.indexOf(se);for(var Ve=0,Qe=$.length;Ve<Qe;Ve++)if($[Ve]===se)return Ve;return-1}function pe($){if(!A||!$||typeof $!="object")return!1;try{A.call($);try{i.call($)}catch{return!0}return $ instanceof Map}catch{}return!1}function oe($){if(!c||!$||typeof $!="object")return!1;try{c.call($,c);try{u.call($,u)}catch{return!0}return $ instanceof WeakMap}catch{}return!1}function ye($){if(!f||!$||typeof $!="object")return!1;try{return f.call($),!0}catch{}return!1}function Se($){if(!i||!$||typeof $!="object")return!1;try{i.call($);try{A.call($)}catch{return!0}return $ instanceof Set}catch{}return!1}function Be($){if(!u||!$||typeof $!="object")return!1;try{u.call($,u);try{c.call($,c)}catch{return!0}return $ instanceof WeakSet}catch{}return!1}function Ue($){return!$||typeof $!="object"?!1:typeof HTMLElement<"u"&&$ instanceof HTMLElement?!0:typeof $.nodeName=="string"&&typeof $.getAttribute=="function"}function Bt($,se){if($.length>se.maxStringLength){var Ve=$.length-se.maxStringLength,Qe="... "+Ve+" more character"+(Ve>1?"s":"");return Bt(w.call($,0,se.maxStringLength),se)+Qe}var Ke=Ae[se.quoteStyle||"single"];Ke.lastIndex=0;var Ie=x.call(x.call($,Ke,"\\$1"),/[\x00-\x1f]/g,tt);return K(Ie,"single",se)}function tt($){var se=$.charCodeAt(0),Ve={8:"b",9:"t",10:"n",12:"f",13:"r"}[se];return Ve?"\\"+Ve:"\\x"+(se<16?"0":"")+v.call(se.toString(16))}function BA($){return"Object("+$+")"}function P($){return $+" { ? }"}function D($,se,Ve,Qe){var Ke=Qe?ne(Ve,Qe):B.call(Ve,", ");return $+" ("+se+") {"+Ke+"}"}function E($){for(var se=0;se<$.length;se++)if(fe($[se],`
`)>=0)return!1;return!0}function H($,se){var Ve;if($.indent==="	")Ve="	";else if(typeof $.indent=="number"&&$.indent>0)Ve=B.call(Array($.indent+1)," ");else return null;return{base:Ve,prev:B.call(Array(se+1),Ve)}}function ne($,se){if($.length===0)return"";var Ve=`
`+se.prev+se.base;return Ve+B.call($,","+Ve)+`
`+se.prev}function ue($,se){var Ve=be($),Qe=[];if(Ve){Qe.length=$.length;for(var Ke=0;Ke<$.length;Ke++)Qe[Ke]=L($,Ke)?se($[Ke],$):""}var Ie=typeof k=="function"?k($):[],In;if(y){In={};for(var yr=0;yr<Ie.length;yr++)In["$"+Ie[yr]]=Ie[yr]}for(var er in $)L($,er)&&(Ve&&String(Number(er))===er&&er<$.length||y&&In["$"+er]instanceof Symbol||(T.call(/[^\w$]/,er)?Qe.push(se(er,$)+": "+se($[er],$)):Qe.push(er+": "+se($[er],$))));if(typeof k=="function")for(var zi=0;zi<Ie.length;zi++)U.call($,Ie[zi])&&Qe.push("["+se(Ie[zi])+"]: "+se($[Ie[zi]],$));return Qe}return q0}var K0,YT;function GK(){if(YT)return K0;YT=1;var t=md(),e=tc(),A=function(o,a,c){for(var l=o,u;(u=l.next)!=null;l=u)if(u.key===a)return l.next=u.next,c||(u.next=o.next,o.next=u),u},n=function(o,a){if(o){var c=A(o,a);return c&&c.value}},r=function(o,a,c){var l=A(o,a);l?l.value=c:o.next={key:a,next:o.next,value:c}},s=function(o,a){return o?!!A(o,a):!1},i=function(o,a){if(o)return A(o,a,!0)};return K0=function(){var a,c={assert:function(l){if(!c.has(l))throw new e("Side channel does not contain "+t(l))},delete:function(l){var u=a&&a.next,h=i(a,l);return h&&u&&u===h&&(a=void 0),!!h},get:function(l){return n(a,l)},has:function(l){return s(a,l)},set:function(l,u){a||(a={next:void 0}),r(a,l,u)}};return c},K0}var J0,OT;function ST(){return OT||(OT=1,J0=Object),J0}var X0,ZT;function MK(){return ZT||(ZT=1,X0=Error),X0}var eb,CT;function yK(){return CT||(CT=1,eb=EvalError),eb}var tb,PT;function DK(){return PT||(PT=1,tb=RangeError),tb}var Ab,RT;function vK(){return RT||(RT=1,Ab=ReferenceError),Ab}var nb,IT;function BK(){return IT||(IT=1,nb=SyntaxError),nb}var rb,jT;function kK(){return jT||(jT=1,rb=URIError),rb}var sb,zT;function EK(){return zT||(zT=1,sb=Math.abs),sb}var ib,HT;function NK(){return HT||(HT=1,ib=Math.floor),ib}var ob,LT;function TK(){return LT||(LT=1,ob=Math.max),ob}var ab,UT;function YK(){return UT||(UT=1,ab=Math.min),ab}var cb,$T;function OK(){return $T||($T=1,cb=Math.pow),cb}var lb,FT;function SK(){return FT||(FT=1,lb=Math.round),lb}var ub,VT;function ZK(){return VT||(VT=1,ub=Number.isNaN||function(e){return e!==e}),ub}var hb,WT;function CK(){if(WT)return hb;WT=1;var t=ZK();return hb=function(A){return t(A)||A===0?A:A<0?-1:1},hb}var fb,QT;function PK(){return QT||(QT=1,fb=Object.getOwnPropertyDescriptor),fb}var db,qT;function KT(){if(qT)return db;qT=1;var t=PK();if(t)try{t([],"length")}catch{t=null}return db=t,db}var mb,JT;function RK(){if(JT)return mb;JT=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return mb=t,mb}var pb,XT;function IK(){return XT||(XT=1,pb=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},A=Symbol("test"),n=Object(A);if(typeof A=="string"||Object.prototype.toString.call(A)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;e[A]=r;for(var s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var i=Object.getOwnPropertySymbols(e);if(i.length!==1||i[0]!==A||!Object.prototype.propertyIsEnumerable.call(e,A))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,A);if(o.value!==r||o.enumerable!==!0)return!1}return!0}),pb}var gb,eY;function jK(){if(eY)return gb;eY=1;var t=typeof Symbol<"u"&&Symbol,e=IK();return gb=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},gb}var wb,tY;function AY(){return tY||(tY=1,wb=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),wb}var bb,nY;function rY(){if(nY)return bb;nY=1;var t=ST();return bb=t.getPrototypeOf||null,bb}var _b,sY;function zK(){if(sY)return _b;sY=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,A=Math.max,n="[object Function]",r=function(a,c){for(var l=[],u=0;u<a.length;u+=1)l[u]=a[u];for(var h=0;h<c.length;h+=1)l[h+a.length]=c[h];return l},s=function(a,c){for(var l=[],u=c,h=0;u<a.length;u+=1,h+=1)l[h]=a[u];return l},i=function(o,a){for(var c="",l=0;l<o.length;l+=1)c+=o[l],l+1<o.length&&(c+=a);return c};return _b=function(a){var c=this;if(typeof c!="function"||e.apply(c)!==n)throw new TypeError(t+c);for(var l=s(arguments,1),u,h=function(){if(this instanceof u){var g=c.apply(this,r(l,arguments));return Object(g)===g?g:this}return c.apply(a,r(l,arguments))},f=A(0,c.length-l.length),d=[],m=0;m<f;m++)d[m]="$"+m;if(u=Function("binder","return function ("+i(d,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var p=function(){};p.prototype=c.prototype,u.prototype=new p,p.prototype=null}return u},_b}var xb,iY;function pd(){if(iY)return xb;iY=1;var t=zK();return xb=Function.prototype.bind||t,xb}var Gb,oY;function Mb(){return oY||(oY=1,Gb=Function.prototype.call),Gb}var yb,aY;function cY(){return aY||(aY=1,yb=Function.prototype.apply),yb}var Db,lY;function HK(){return lY||(lY=1,Db=typeof Reflect<"u"&&Reflect&&Reflect.apply),Db}var vb,uY;function LK(){if(uY)return vb;uY=1;var t=pd(),e=cY(),A=Mb(),n=HK();return vb=n||t.call(A,e),vb}var Bb,hY;function fY(){if(hY)return Bb;hY=1;var t=pd(),e=tc(),A=Mb(),n=LK();return Bb=function(s){if(s.length<1||typeof s[0]!="function")throw new e("a function is required");return n(t,A,s)},Bb}var kb,dY;function UK(){if(dY)return kb;dY=1;var t=fY(),e=KT(),A;try{A=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var n=!!A&&e&&e(Object.prototype,"__proto__"),r=Object,s=r.getPrototypeOf;return kb=n&&typeof n.get=="function"?t([n.get]):typeof s=="function"?function(o){return s(o==null?o:r(o))}:!1,kb}var Eb,mY;function $K(){if(mY)return Eb;mY=1;var t=AY(),e=rY(),A=UK();return Eb=t?function(r){return t(r)}:e?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return e(r)}:A?function(r){return A(r)}:null,Eb}var Nb,pY;function FK(){if(pY)return Nb;pY=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,A=pd();return Nb=A.call(t,e),Nb}var Tb,gY;function Yb(){if(gY)return Tb;gY=1;var t,e=ST(),A=MK(),n=yK(),r=DK(),s=vK(),i=BK(),o=tc(),a=kK(),c=EK(),l=NK(),u=TK(),h=YK(),f=OK(),d=SK(),m=CK(),p=Function,g=function(_e){try{return p('"use strict"; return ('+_e+").constructor;")()}catch{}},w=KT(),x=RK(),v=function(){throw new o},b=w?(function(){try{return arguments.callee,v}catch{try{return w(arguments,"callee").get}catch{return v}}})():v,T=jK()(),M=$K(),B=rY(),Z=AY(),S=cY(),C=Mb(),k={},N=typeof Uint8Array>"u"||!M?t:M(Uint8Array),y={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":T&&M?M([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":A,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":k,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&M?M(M([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!M?t:M(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":w,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":r,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!M?t:M(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&M?M(""[Symbol.iterator]()):t,"%Symbol%":T?Symbol:t,"%SyntaxError%":i,"%ThrowTypeError%":b,"%TypedArray%":N,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":C,"%Function.prototype.apply%":S,"%Object.defineProperty%":x,"%Object.getPrototypeOf%":B,"%Math.abs%":c,"%Math.floor%":l,"%Math.max%":u,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":d,"%Math.sign%":m,"%Reflect.getPrototypeOf%":Z};if(M)try{null.error}catch(_e){var I=M(M(_e));y["%Error.prototype%"]=I}var U=function _e(ke){var Ye;if(ke==="%AsyncFunction%")Ye=g("async function () {}");else if(ke==="%GeneratorFunction%")Ye=g("function* () {}");else if(ke==="%AsyncGeneratorFunction%")Ye=g("async function* () {}");else if(ke==="%AsyncGenerator%"){var Pe=_e("%AsyncGeneratorFunction%");Pe&&(Ye=Pe.prototype)}else if(ke==="%AsyncIteratorPrototype%"){var $e=_e("%AsyncGenerator%");$e&&M&&(Ye=M($e.prototype))}return y[ke]=Ye,Ye},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F=pd(),V=FK(),W=F.call(C,Array.prototype.concat),O=F.call(S,Array.prototype.splice),R=F.call(C,String.prototype.replace),Ae=F.call(C,String.prototype.slice),K=F.call(C,RegExp.prototype.exec),ee=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,be=function(ke){var Ye=Ae(ke,0,1),Pe=Ae(ke,-1);if(Ye==="%"&&Pe!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(Pe==="%"&&Ye!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var $e=[];return R(ke,ee,function(Y,J,X,L){$e[$e.length]=X?R(L,de,"$1"):J||Y}),$e},me=function(ke,Ye){var Pe=ke,$e;if(V(j,Pe)&&($e=j[Pe],Pe="%"+$e[0]+"%"),V(y,Pe)){var Y=y[Pe];if(Y===k&&(Y=U(Pe)),typeof Y>"u"&&!Ye)throw new o("intrinsic "+ke+" exists, but is not available. Please file an issue!");return{alias:$e,name:Pe,value:Y}}throw new i("intrinsic "+ke+" does not exist!")};return Tb=function(ke,Ye){if(typeof ke!="string"||ke.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Ye!="boolean")throw new o('"allowMissing" argument must be a boolean');if(K(/^%?[^%]*%?$/,ke)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var Pe=be(ke),$e=Pe.length>0?Pe[0]:"",Y=me("%"+$e+"%",Ye),J=Y.name,X=Y.value,L=!1,z=Y.alias;z&&($e=z[0],O(Pe,W([0,1],z)));for(var Q=1,fe=!0;Q<Pe.length;Q+=1){var pe=Pe[Q],oe=Ae(pe,0,1),ye=Ae(pe,-1);if((oe==='"'||oe==="'"||oe==="`"||ye==='"'||ye==="'"||ye==="`")&&oe!==ye)throw new i("property names with quotes must have matching quotes");if((pe==="constructor"||!fe)&&(L=!0),$e+="."+pe,J="%"+$e+"%",V(y,J))X=y[J];else if(X!=null){if(!(pe in X)){if(!Ye)throw new o("base intrinsic for "+ke+" exists, but the property is not available.");return}if(w&&Q+1>=Pe.length){var Se=w(X,pe);fe=!!Se,fe&&"get"in Se&&!("originalValue"in Se.get)?X=Se.get:X=X[pe]}else fe=V(X,pe),X=X[pe];fe&&!L&&(y[J]=X)}}return X},Tb}var Ob,wY;function bY(){if(wY)return Ob;wY=1;var t=Yb(),e=fY(),A=e([t("%String.prototype.indexOf%")]);return Ob=function(r,s){var i=t(r,!!s);return typeof i=="function"&&A(r,".prototype.")>-1?e([i]):i},Ob}var Sb,_Y;function xY(){if(_Y)return Sb;_Y=1;var t=Yb(),e=bY(),A=md(),n=tc(),r=t("%Map%",!0),s=e("Map.prototype.get",!0),i=e("Map.prototype.set",!0),o=e("Map.prototype.has",!0),a=e("Map.prototype.delete",!0),c=e("Map.prototype.size",!0);return Sb=!!r&&function(){var u,h={assert:function(f){if(!h.has(f))throw new n("Side channel does not contain "+A(f))},delete:function(f){if(u){var d=a(u,f);return c(u)===0&&(u=void 0),d}return!1},get:function(f){if(u)return s(u,f)},has:function(f){return u?o(u,f):!1},set:function(f,d){u||(u=new r),i(u,f,d)}};return h},Sb}var Zb,GY;function VK(){if(GY)return Zb;GY=1;var t=Yb(),e=bY(),A=md(),n=xY(),r=tc(),s=t("%WeakMap%",!0),i=e("WeakMap.prototype.get",!0),o=e("WeakMap.prototype.set",!0),a=e("WeakMap.prototype.has",!0),c=e("WeakMap.prototype.delete",!0);return Zb=s?function(){var u,h,f={assert:function(d){if(!f.has(d))throw new r("Side channel does not contain "+A(d))},delete:function(d){if(s&&d&&(typeof d=="object"||typeof d=="function")){if(u)return c(u,d)}else if(n&&h)return h.delete(d);return!1},get:function(d){return s&&d&&(typeof d=="object"||typeof d=="function")&&u?i(u,d):h&&h.get(d)},has:function(d){return s&&d&&(typeof d=="object"||typeof d=="function")&&u?a(u,d):!!h&&h.has(d)},set:function(d,m){s&&d&&(typeof d=="object"||typeof d=="function")?(u||(u=new s),o(u,d,m)):n&&(h||(h=n()),h.set(d,m))}};return f}:n,Zb}var Cb,MY;function yY(){if(MY)return Cb;MY=1;var t=tc(),e=md(),A=GK(),n=xY(),r=VK(),s=r||n||A;return Cb=function(){var o,a={assert:function(c){if(!a.has(c))throw new t("Side channel does not contain "+e(c))},delete:function(c){return!!o&&o.delete(c)},get:function(c){return o&&o.get(c)},has:function(c){return!!o&&o.has(c)},set:function(c,l){o||(o=s()),o.set(c,l)}};return a},Cb}var Pb,DY;function Rb(){if(DY)return Pb;DY=1;var t=String.prototype.replace,e=/%20/g,A={RFC1738:"RFC1738",RFC3986:"RFC3986"};return Pb={default:A.RFC3986,formatters:{RFC1738:function(n){return t.call(n,e,"+")},RFC3986:function(n){return String(n)}},RFC1738:A.RFC1738,RFC3986:A.RFC3986},Pb}var Ib,vY;function BY(){if(vY)return Ib;vY=1;var t=Rb(),e=yY(),A=Object.prototype.hasOwnProperty,n=Array.isArray,r=e(),s=function(M,B){return r.set(M,B),M},i=function(M){return r.has(M)},o=function(M){return r.get(M)},a=function(M,B){r.set(M,B)},c=(function(){for(var T=[],M=0;M<256;++M)T.push("%"+((M<16?"0":"")+M.toString(16)).toUpperCase());return T})(),l=function(M){for(;M.length>1;){var B=M.pop(),Z=B.obj[B.prop];if(n(Z)){for(var S=[],C=0;C<Z.length;++C)typeof Z[C]<"u"&&S.push(Z[C]);B.obj[B.prop]=S}}},u=function(M,B){for(var Z=B&&B.plainObjects?{__proto__:null}:{},S=0;S<M.length;++S)typeof M[S]<"u"&&(Z[S]=M[S]);return Z},h=function T(M,B,Z){if(!B)return M;if(typeof B!="object"&&typeof B!="function"){if(n(M))M.push(B);else if(M&&typeof M=="object")if(i(M)){var S=o(M)+1;M[S]=B,a(M,S)}else(Z&&(Z.plainObjects||Z.allowPrototypes)||!A.call(Object.prototype,B))&&(M[B]=!0);else return[M,B];return M}if(!M||typeof M!="object"){if(i(B)){for(var C=Object.keys(B),k=Z&&Z.plainObjects?{__proto__:null,0:M}:{0:M},N=0;N<C.length;N++){var y=parseInt(C[N],10);k[y+1]=B[C[N]]}return s(k,o(B)+1)}return[M].concat(B)}var I=M;return n(M)&&!n(B)&&(I=u(M,Z)),n(M)&&n(B)?(B.forEach(function(U,j){if(A.call(M,j)){var F=M[j];F&&typeof F=="object"&&U&&typeof U=="object"?M[j]=T(F,U,Z):M.push(U)}else M[j]=U}),M):Object.keys(B).reduce(function(U,j){var F=B[j];return A.call(U,j)?U[j]=T(U[j],F,Z):U[j]=F,U},I)},f=function(M,B){return Object.keys(B).reduce(function(Z,S){return Z[S]=B[S],Z},M)},d=function(T,M,B){var Z=T.replace(/\+/g," ");if(B==="iso-8859-1")return Z.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(Z)}catch{return Z}},m=1024,p=function(M,B,Z,S,C){if(M.length===0)return M;var k=M;if(typeof M=="symbol"?k=Symbol.prototype.toString.call(M):typeof M!="string"&&(k=String(M)),Z==="iso-8859-1")return escape(k).replace(/%u[0-9a-f]{4}/gi,function(V){return"%26%23"+parseInt(V.slice(2),16)+"%3B"});for(var N="",y=0;y<k.length;y+=m){for(var I=k.length>=m?k.slice(y,y+m):k,U=[],j=0;j<I.length;++j){var F=I.charCodeAt(j);if(F===45||F===46||F===95||F===126||F>=48&&F<=57||F>=65&&F<=90||F>=97&&F<=122||C===t.RFC1738&&(F===40||F===41)){U[U.length]=I.charAt(j);continue}if(F<128){U[U.length]=c[F];continue}if(F<2048){U[U.length]=c[192|F>>6]+c[128|F&63];continue}if(F<55296||F>=57344){U[U.length]=c[224|F>>12]+c[128|F>>6&63]+c[128|F&63];continue}j+=1,F=65536+((F&1023)<<10|I.charCodeAt(j)&1023),U[U.length]=c[240|F>>18]+c[128|F>>12&63]+c[128|F>>6&63]+c[128|F&63]}N+=U.join("")}return N},g=function(M){for(var B=[{obj:{o:M},prop:"o"}],Z=[],S=0;S<B.length;++S)for(var C=B[S],k=C.obj[C.prop],N=Object.keys(k),y=0;y<N.length;++y){var I=N[y],U=k[I];typeof U=="object"&&U!==null&&Z.indexOf(U)===-1&&(B.push({obj:k,prop:I}),Z.push(U))}return l(B),M},w=function(M){return Object.prototype.toString.call(M)==="[object RegExp]"},x=function(M){return!M||typeof M!="object"?!1:!!(M.constructor&&M.constructor.isBuffer&&M.constructor.isBuffer(M))},v=function(M,B,Z,S){if(i(M)){var C=o(M)+1;return M[C]=B,a(M,C),M}var k=[].concat(M,B);return k.length>Z?s(u(k,{plainObjects:S}),k.length-1):k},b=function(M,B){if(n(M)){for(var Z=[],S=0;S<M.length;S+=1)Z.push(B(M[S]));return Z}return B(M)};return Ib={arrayToObject:u,assign:f,combine:v,compact:g,decode:d,encode:p,isBuffer:x,isOverflow:i,isRegExp:w,maybeMap:b,merge:h},Ib}var jb,kY;function WK(){if(kY)return jb;kY=1;var t=yY(),e=BY(),A=Rb(),n=Object.prototype.hasOwnProperty,r={brackets:function(p){return p+"[]"},comma:"comma",indices:function(p,g){return p+"["+g+"]"},repeat:function(p){return p}},s=Array.isArray,i=Array.prototype.push,o=function(m,p){i.apply(m,s(p)?p:[p])},a=Date.prototype.toISOString,c=A.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:e.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:A.formatters[c],indices:!1,serializeDate:function(p){return a.call(p)},skipNulls:!1,strictNullHandling:!1},u=function(p){return typeof p=="string"||typeof p=="number"||typeof p=="boolean"||typeof p=="symbol"||typeof p=="bigint"},h={},f=function m(p,g,w,x,v,b,T,M,B,Z,S,C,k,N,y,I,U,j){for(var F=p,V=j,W=0,O=!1;(V=V.get(h))!==void 0&&!O;){var R=V.get(p);if(W+=1,typeof R<"u"){if(R===W)throw new RangeError("Cyclic object value");O=!0}typeof V.get(h)>"u"&&(W=0)}if(typeof Z=="function"?F=Z(g,F):F instanceof Date?F=k(F):w==="comma"&&s(F)&&(F=e.maybeMap(F,function(J){return J instanceof Date?k(J):J})),F===null){if(b)return B&&!I?B(g,l.encoder,U,"key",N):g;F=""}if(u(F)||e.isBuffer(F)){if(B){var Ae=I?g:B(g,l.encoder,U,"key",N);return[y(Ae)+"="+y(B(F,l.encoder,U,"value",N))]}return[y(g)+"="+y(String(F))]}var K=[];if(typeof F>"u")return K;var ee;if(w==="comma"&&s(F))I&&B&&(F=e.maybeMap(F,B)),ee=[{value:F.length>0?F.join(",")||null:void 0}];else if(s(Z))ee=Z;else{var de=Object.keys(F);ee=S?de.sort(S):de}var be=M?String(g).replace(/\./g,"%2E"):String(g),me=x&&s(F)&&F.length===1?be+"[]":be;if(v&&s(F)&&F.length===0)return me+"[]";for(var _e=0;_e<ee.length;++_e){var ke=ee[_e],Ye=typeof ke=="object"&&ke&&typeof ke.value<"u"?ke.value:F[ke];if(!(T&&Ye===null)){var Pe=C&&M?String(ke).replace(/\./g,"%2E"):String(ke),$e=s(F)?typeof w=="function"?w(me,Pe):me:me+(C?"."+Pe:"["+Pe+"]");j.set(p,W);var Y=t();Y.set(h,j),o(K,m(Ye,$e,w,x,v,b,T,M,w==="comma"&&I&&s(F)?null:B,Z,S,C,k,N,y,I,U,Y))}}return K},d=function(p){if(!p)return l;if(typeof p.allowEmptyArrays<"u"&&typeof p.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof p.encodeDotInKeys<"u"&&typeof p.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(p.encoder!==null&&typeof p.encoder<"u"&&typeof p.encoder!="function")throw new TypeError("Encoder has to be a function.");var g=p.charset||l.charset;if(typeof p.charset<"u"&&p.charset!=="utf-8"&&p.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var w=A.default;if(typeof p.format<"u"){if(!n.call(A.formatters,p.format))throw new TypeError("Unknown format option provided.");w=p.format}var x=A.formatters[w],v=l.filter;(typeof p.filter=="function"||s(p.filter))&&(v=p.filter);var b;if(p.arrayFormat in r?b=p.arrayFormat:"indices"in p?b=p.indices?"indices":"repeat":b=l.arrayFormat,"commaRoundTrip"in p&&typeof p.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof p.allowDots>"u"?p.encodeDotInKeys===!0?!0:l.allowDots:!!p.allowDots;return{addQueryPrefix:typeof p.addQueryPrefix=="boolean"?p.addQueryPrefix:l.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof p.allowEmptyArrays=="boolean"?!!p.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:b,charset:g,charsetSentinel:typeof p.charsetSentinel=="boolean"?p.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!p.commaRoundTrip,delimiter:typeof p.delimiter>"u"?l.delimiter:p.delimiter,encode:typeof p.encode=="boolean"?p.encode:l.encode,encodeDotInKeys:typeof p.encodeDotInKeys=="boolean"?p.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof p.encoder=="function"?p.encoder:l.encoder,encodeValuesOnly:typeof p.encodeValuesOnly=="boolean"?p.encodeValuesOnly:l.encodeValuesOnly,filter:v,format:w,formatter:x,serializeDate:typeof p.serializeDate=="function"?p.serializeDate:l.serializeDate,skipNulls:typeof p.skipNulls=="boolean"?p.skipNulls:l.skipNulls,sort:typeof p.sort=="function"?p.sort:null,strictNullHandling:typeof p.strictNullHandling=="boolean"?p.strictNullHandling:l.strictNullHandling}};return jb=function(m,p){var g=m,w=d(p),x,v;typeof w.filter=="function"?(v=w.filter,g=v("",g)):s(w.filter)&&(v=w.filter,x=v);var b=[];if(typeof g!="object"||g===null)return"";var T=r[w.arrayFormat],M=T==="comma"&&w.commaRoundTrip;x||(x=Object.keys(g)),w.sort&&x.sort(w.sort);for(var B=t(),Z=0;Z<x.length;++Z){var S=x[Z],C=g[S];w.skipNulls&&C===null||o(b,f(C,S,T,M,w.allowEmptyArrays,w.strictNullHandling,w.skipNulls,w.encodeDotInKeys,w.encode?w.encoder:null,w.filter,w.sort,w.allowDots,w.serializeDate,w.format,w.formatter,w.encodeValuesOnly,w.charset,B))}var k=b.join(w.delimiter),N=w.addQueryPrefix===!0?"?":"";return w.charsetSentinel&&(w.charset==="iso-8859-1"?N+="utf8=%26%2310003%3B&":N+="utf8=%E2%9C%93&"),k.length>0?N+k:""},jb}var zb,EY;function QK(){if(EY)return zb;EY=1;var t=BY(),e=Object.prototype.hasOwnProperty,A=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:t.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},r=function(f){return f.replace(/&#(\d+);/g,function(d,m){return String.fromCharCode(parseInt(m,10))})},s=function(f,d,m){if(f&&typeof f=="string"&&d.comma&&f.indexOf(",")>-1)return f.split(",");if(d.throwOnLimitExceeded&&m>=d.arrayLimit)throw new RangeError("Array limit exceeded. Only "+d.arrayLimit+" element"+(d.arrayLimit===1?"":"s")+" allowed in an array.");return f},i="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",a=function(d,m){var p={__proto__:null},g=m.ignoreQueryPrefix?d.replace(/^\?/,""):d;g=g.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var w=m.parameterLimit===1/0?void 0:m.parameterLimit,x=g.split(m.delimiter,m.throwOnLimitExceeded?w+1:w);if(m.throwOnLimitExceeded&&x.length>w)throw new RangeError("Parameter limit exceeded. Only "+w+" parameter"+(w===1?"":"s")+" allowed.");var v=-1,b,T=m.charset;if(m.charsetSentinel)for(b=0;b<x.length;++b)x[b].indexOf("utf8=")===0&&(x[b]===o?T="utf-8":x[b]===i&&(T="iso-8859-1"),v=b,b=x.length);for(b=0;b<x.length;++b)if(b!==v){var M=x[b],B=M.indexOf("]="),Z=B===-1?M.indexOf("="):B+1,S,C;if(Z===-1?(S=m.decoder(M,n.decoder,T,"key"),C=m.strictNullHandling?null:""):(S=m.decoder(M.slice(0,Z),n.decoder,T,"key"),S!==null&&(C=t.maybeMap(s(M.slice(Z+1),m,A(p[S])?p[S].length:0),function(N){return m.decoder(N,n.decoder,T,"value")}))),C&&m.interpretNumericEntities&&T==="iso-8859-1"&&(C=r(String(C))),M.indexOf("[]=")>-1&&(C=A(C)?[C]:C),S!==null){var k=e.call(p,S);k&&m.duplicates==="combine"?p[S]=t.combine(p[S],C,m.arrayLimit,m.plainObjects):(!k||m.duplicates==="last")&&(p[S]=C)}}return p},c=function(f,d,m,p){var g=0;if(f.length>0&&f[f.length-1]==="[]"){var w=f.slice(0,-1).join("");g=Array.isArray(d)&&d[w]?d[w].length:0}for(var x=p?d:s(d,m,g),v=f.length-1;v>=0;--v){var b,T=f[v];if(T==="[]"&&m.parseArrays)t.isOverflow(x)?b=x:b=m.allowEmptyArrays&&(x===""||m.strictNullHandling&&x===null)?[]:t.combine([],x,m.arrayLimit,m.plainObjects);else{b=m.plainObjects?{__proto__:null}:{};var M=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,B=m.decodeDotInKeys?M.replace(/%2E/g,"."):M,Z=parseInt(B,10);!m.parseArrays&&B===""?b={0:x}:!isNaN(Z)&&T!==B&&String(Z)===B&&Z>=0&&m.parseArrays&&Z<=m.arrayLimit?(b=[],b[Z]=x):B!=="__proto__"&&(b[B]=x)}x=b}return x},l=function(d,m){var p=m.allowDots?d.replace(/\.([^.[]+)/g,"[$1]"):d;if(m.depth<=0)return!m.plainObjects&&e.call(Object.prototype,p)&&!m.allowPrototypes?void 0:[p];var g=/(\[[^[\]]*])/,w=/(\[[^[\]]*])/g,x=g.exec(p),v=x?p.slice(0,x.index):p,b=[];if(v){if(!m.plainObjects&&e.call(Object.prototype,v)&&!m.allowPrototypes)return;b.push(v)}for(var T=0;(x=w.exec(p))!==null&&T<m.depth;){T+=1;var M=x[1].slice(1,-1);if(!m.plainObjects&&e.call(Object.prototype,M)&&!m.allowPrototypes)return;b.push(x[1])}if(x){if(m.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+m.depth+" and strictDepth is true");b.push("["+p.slice(x.index)+"]")}return b},u=function(d,m,p,g){if(d){var w=l(d,p);if(w)return c(w,m,p,g)}},h=function(d){if(!d)return n;if(typeof d.allowEmptyArrays<"u"&&typeof d.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof d.decodeDotInKeys<"u"&&typeof d.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(d.decoder!==null&&typeof d.decoder<"u"&&typeof d.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof d.charset<"u"&&d.charset!=="utf-8"&&d.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof d.throwOnLimitExceeded<"u"&&typeof d.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var m=typeof d.charset>"u"?n.charset:d.charset,p=typeof d.duplicates>"u"?n.duplicates:d.duplicates;if(p!=="combine"&&p!=="first"&&p!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var g=typeof d.allowDots>"u"?d.decodeDotInKeys===!0?!0:n.allowDots:!!d.allowDots;return{allowDots:g,allowEmptyArrays:typeof d.allowEmptyArrays=="boolean"?!!d.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof d.allowPrototypes=="boolean"?d.allowPrototypes:n.allowPrototypes,allowSparse:typeof d.allowSparse=="boolean"?d.allowSparse:n.allowSparse,arrayLimit:typeof d.arrayLimit=="number"?d.arrayLimit:n.arrayLimit,charset:m,charsetSentinel:typeof d.charsetSentinel=="boolean"?d.charsetSentinel:n.charsetSentinel,comma:typeof d.comma=="boolean"?d.comma:n.comma,decodeDotInKeys:typeof d.decodeDotInKeys=="boolean"?d.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof d.decoder=="function"?d.decoder:n.decoder,delimiter:typeof d.delimiter=="string"||t.isRegExp(d.delimiter)?d.delimiter:n.delimiter,depth:typeof d.depth=="number"||d.depth===!1?+d.depth:n.depth,duplicates:p,ignoreQueryPrefix:d.ignoreQueryPrefix===!0,interpretNumericEntities:typeof d.interpretNumericEntities=="boolean"?d.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof d.parameterLimit=="number"?d.parameterLimit:n.parameterLimit,parseArrays:d.parseArrays!==!1,plainObjects:typeof d.plainObjects=="boolean"?d.plainObjects:n.plainObjects,strictDepth:typeof d.strictDepth=="boolean"?!!d.strictDepth:n.strictDepth,strictNullHandling:typeof d.strictNullHandling=="boolean"?d.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof d.throwOnLimitExceeded=="boolean"?d.throwOnLimitExceeded:!1}};return zb=function(f,d){var m=h(d);if(f===""||f===null||typeof f>"u")return m.plainObjects?{__proto__:null}:{};for(var p=typeof f=="string"?a(f,m):f,g=m.plainObjects?{__proto__:null}:{},w=Object.keys(p),x=0;x<w.length;++x){var v=w[x],b=u(v,p[v],m,typeof f=="string");g=t.merge(g,b,m)}return m.allowSparse===!0?g:t.compact(g)},zb}var Hb,NY;function qK(){if(NY)return Hb;NY=1;var t=WK(),e=QK(),A=Rb();return Hb={formats:A,parse:e,stringify:t},Hb}var TY;function KK(){if(TY)return No;TY=1;var t=wK();function e(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var A=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],i=["{","}","|","\\","^","`"].concat(s),o=["'"].concat(i),a=["%","/","?",";","#"].concat(o),c=["/","?","#"],l=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},d={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},p=qK();function g(b,T,M){if(b&&typeof b=="object"&&b instanceof e)return b;var B=new e;return B.parse(b,T,M),B}e.prototype.parse=function(b,T,M){if(typeof b!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof b);var B=b.indexOf("?"),Z=B!==-1&&B<b.indexOf("#")?"?":"#",S=b.split(Z),C=/\\/g;S[0]=S[0].replace(C,"/"),b=S.join(Z);var k=b;if(k=k.trim(),!M&&b.split("#").length===1){var N=r.exec(k);if(N)return this.path=k,this.href=k,this.pathname=N[1],N[2]?(this.search=N[2],T?this.query=p.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var y=A.exec(k);if(y){y=y[0];var I=y.toLowerCase();this.protocol=I,k=k.substr(y.length)}if(M||y||k.match(/^\/\/[^@/]+@[^@/]+/)){var U=k.substr(0,2)==="//";U&&!(y&&d[y])&&(k=k.substr(2),this.slashes=!0)}if(!d[y]&&(U||y&&!m[y])){for(var j=-1,F=0;F<c.length;F++){var V=k.indexOf(c[F]);V!==-1&&(j===-1||V<j)&&(j=V)}var W,O;j===-1?O=k.lastIndexOf("@"):O=k.lastIndexOf("@",j),O!==-1&&(W=k.slice(0,O),k=k.slice(O+1),this.auth=decodeURIComponent(W)),j=-1;for(var F=0;F<a.length;F++){var V=k.indexOf(a[F]);V!==-1&&(j===-1||V<j)&&(j=V)}j===-1&&(j=k.length),this.host=k.slice(0,j),k=k.slice(j),this.parseHost(),this.hostname=this.hostname||"";var R=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!R)for(var Ae=this.hostname.split(/\./),F=0,K=Ae.length;F<K;F++){var ee=Ae[F];if(ee&&!ee.match(u)){for(var de="",be=0,me=ee.length;be<me;be++)ee.charCodeAt(be)>127?de+="x":de+=ee[be];if(!de.match(u)){var _e=Ae.slice(0,F),ke=Ae.slice(F+1),Ye=ee.match(h);Ye&&(_e.push(Ye[1]),ke.unshift(Ye[2])),ke.length&&(k="/"+ke.join(".")+k),this.hostname=_e.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),R||(this.hostname=t.toASCII(this.hostname));var Pe=this.port?":"+this.port:"",$e=this.hostname||"";this.host=$e+Pe,this.href+=this.host,R&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),k[0]!=="/"&&(k="/"+k))}if(!f[I])for(var F=0,K=o.length;F<K;F++){var Y=o[F];if(k.indexOf(Y)!==-1){var J=encodeURIComponent(Y);J===Y&&(J=escape(Y)),k=k.split(Y).join(J)}}var X=k.indexOf("#");X!==-1&&(this.hash=k.substr(X),k=k.slice(0,X));var L=k.indexOf("?");if(L!==-1?(this.search=k.substr(L),this.query=k.substr(L+1),T&&(this.query=p.parse(this.query)),k=k.slice(0,L)):T&&(this.search="",this.query={}),k&&(this.pathname=k),m[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var Pe=this.pathname||"",z=this.search||"";this.path=Pe+z}return this.href=this.format(),this};function w(b){return typeof b=="string"&&(b=g(b)),b instanceof e?b.format():e.prototype.format.call(b)}e.prototype.format=function(){var b=this.auth||"";b&&(b=encodeURIComponent(b),b=b.replace(/%3A/i,":"),b+="@");var T=this.protocol||"",M=this.pathname||"",B=this.hash||"",Z=!1,S="";this.host?Z=b+this.host:this.hostname&&(Z=b+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(Z+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(S=p.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var C=this.search||S&&"?"+S||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||m[T])&&Z!==!1?(Z="//"+(Z||""),M&&M.charAt(0)!=="/"&&(M="/"+M)):Z||(Z=""),B&&B.charAt(0)!=="#"&&(B="#"+B),C&&C.charAt(0)!=="?"&&(C="?"+C),M=M.replace(/[?#]/g,function(k){return encodeURIComponent(k)}),C=C.replace("#","%23"),T+Z+M+C+B};function x(b,T){return g(b,!1,!0).resolve(T)}e.prototype.resolve=function(b){return this.resolveObject(g(b,!1,!0)).format()};function v(b,T){return b?g(b,!1,!0).resolveObject(T):T}return e.prototype.resolveObject=function(b){if(typeof b=="string"){var T=new e;T.parse(b,!1,!0),b=T}for(var M=new e,B=Object.keys(this),Z=0;Z<B.length;Z++){var S=B[Z];M[S]=this[S]}if(M.hash=b.hash,b.href==="")return M.href=M.format(),M;if(b.slashes&&!b.protocol){for(var C=Object.keys(b),k=0;k<C.length;k++){var N=C[k];N!=="protocol"&&(M[N]=b[N])}return m[M.protocol]&&M.hostname&&!M.pathname&&(M.pathname="/",M.path=M.pathname),M.href=M.format(),M}if(b.protocol&&b.protocol!==M.protocol){if(!m[b.protocol]){for(var y=Object.keys(b),I=0;I<y.length;I++){var U=y[I];M[U]=b[U]}return M.href=M.format(),M}if(M.protocol=b.protocol,!b.host&&!d[b.protocol]){for(var K=(b.pathname||"").split("/");K.length&&!(b.host=K.shift()););b.host||(b.host=""),b.hostname||(b.hostname=""),K[0]!==""&&K.unshift(""),K.length<2&&K.unshift(""),M.pathname=K.join("/")}else M.pathname=b.pathname;if(M.search=b.search,M.query=b.query,M.host=b.host||"",M.auth=b.auth,M.hostname=b.hostname||b.host,M.port=b.port,M.pathname||M.search){var j=M.pathname||"",F=M.search||"";M.path=j+F}return M.slashes=M.slashes||b.slashes,M.href=M.format(),M}var V=M.pathname&&M.pathname.charAt(0)==="/",W=b.host||b.pathname&&b.pathname.charAt(0)==="/",O=W||V||M.host&&b.pathname,R=O,Ae=M.pathname&&M.pathname.split("/")||[],K=b.pathname&&b.pathname.split("/")||[],ee=M.protocol&&!m[M.protocol];if(ee&&(M.hostname="",M.port=null,M.host&&(Ae[0]===""?Ae[0]=M.host:Ae.unshift(M.host)),M.host="",b.protocol&&(b.hostname=null,b.port=null,b.host&&(K[0]===""?K[0]=b.host:K.unshift(b.host)),b.host=null),O=O&&(K[0]===""||Ae[0]==="")),W)M.host=b.host||b.host===""?b.host:M.host,M.hostname=b.hostname||b.hostname===""?b.hostname:M.hostname,M.search=b.search,M.query=b.query,Ae=K;else if(K.length)Ae||(Ae=[]),Ae.pop(),Ae=Ae.concat(K),M.search=b.search,M.query=b.query;else if(b.search!=null){if(ee){M.host=Ae.shift(),M.hostname=M.host;var de=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;de&&(M.auth=de.shift(),M.hostname=de.shift(),M.host=M.hostname)}return M.search=b.search,M.query=b.query,(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.href=M.format(),M}if(!Ae.length)return M.pathname=null,M.search?M.path="/"+M.search:M.path=null,M.href=M.format(),M;for(var be=Ae.slice(-1)[0],me=(M.host||b.host||Ae.length>1)&&(be==="."||be==="..")||be==="",_e=0,ke=Ae.length;ke>=0;ke--)be=Ae[ke],be==="."?Ae.splice(ke,1):be===".."?(Ae.splice(ke,1),_e++):_e&&(Ae.splice(ke,1),_e--);if(!O&&!R)for(;_e--;_e)Ae.unshift("..");O&&Ae[0]!==""&&(!Ae[0]||Ae[0].charAt(0)!=="/")&&Ae.unshift(""),me&&Ae.join("/").substr(-1)!=="/"&&Ae.push("");var Ye=Ae[0]===""||Ae[0]&&Ae[0].charAt(0)==="/";if(ee){M.hostname=Ye?"":Ae.length?Ae.shift():"",M.host=M.hostname;var de=M.host&&M.host.indexOf("@")>0?M.host.split("@"):!1;de&&(M.auth=de.shift(),M.hostname=de.shift(),M.host=M.hostname)}return O=O||M.host&&Ae.length,O&&!Ye&&Ae.unshift(""),Ae.length>0?M.pathname=Ae.join("/"):(M.pathname=null,M.path=null),(M.pathname!==null||M.search!==null)&&(M.path=(M.pathname?M.pathname:"")+(M.search?M.search:"")),M.auth=b.auth||M.auth,M.slashes=M.slashes||b.slashes,M.href=M.format(),M},e.prototype.parseHost=function(){var b=this.host,T=n.exec(b);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),b=b.substr(0,b.length-T.length)),b&&(this.hostname=b)},No.parse=g,No.resolve=x,No.resolveObject=v,No.format=w,No.Url=e,No}var Lb,YY;function JK(){return YY||(YY=1,Lb=typeof URL=="function"?URL:KK().URL),Lb}var OY;function gd(){if(OY)return Ur;OY=1;const t=JK();function e(S,C,k){if(C in S)return S[C];if(arguments.length===3)return k;throw new Error('"'+C+'" is a required argument.')}Ur.getArg=e;const A=(function(){return!("__proto__"in Object.create(null))})();function n(S){return S}function r(S){return i(S)?"$"+S:S}Ur.toSetString=A?n:r;function s(S){return i(S)?S.slice(1):S}Ur.fromSetString=A?n:s;function i(S){if(!S)return!1;const C=S.length;if(C<9||S.charCodeAt(C-1)!==95||S.charCodeAt(C-2)!==95||S.charCodeAt(C-3)!==111||S.charCodeAt(C-4)!==116||S.charCodeAt(C-5)!==111||S.charCodeAt(C-6)!==114||S.charCodeAt(C-7)!==112||S.charCodeAt(C-8)!==95||S.charCodeAt(C-9)!==95)return!1;for(let k=C-10;k>=0;k--)if(S.charCodeAt(k)!==36)return!1;return!0}function o(S,C){return S===C?0:S===null?1:C===null?-1:S>C?1:-1}function a(S,C){let k=S.generatedLine-C.generatedLine;return k!==0||(k=S.generatedColumn-C.generatedColumn,k!==0)||(k=o(S.source,C.source),k!==0)||(k=S.originalLine-C.originalLine,k!==0)||(k=S.originalColumn-C.originalColumn,k!==0)?k:o(S.name,C.name)}Ur.compareByGeneratedPositionsInflated=a;function c(S){return JSON.parse(S.replace(/^\)]}'[^\n]*\n/,""))}Ur.parseSourceMapInput=c;const l="http:",u=`${l}//host`;function h(S){return C=>{const k=g(C),N=m(C),y=new t(C,N);S(y);const I=y.toString();return k==="absolute"?I:k==="scheme-relative"?I.slice(l.length):k==="path-absolute"?I.slice(u.length):w(N,I)}}function f(S,C){return new t(S,C).toString()}function d(S,C){let k=0;do{const N=S+k++;if(C.indexOf(N)===-1)return N}while(!0)}function m(S){const C=S.split("..").length-1,k=d("p",S);let N=`${u}/`;for(let y=0;y<C;y++)N+=`${k}/`;return N}const p=/^[A-Za-z0-9\+\-\.]+:/;function g(S){return S[0]==="/"?S[1]==="/"?"scheme-relative":"path-absolute":p.test(S)?"absolute":"path-relative"}function w(S,C){typeof S=="string"&&(S=new t(S)),typeof C=="string"&&(C=new t(C));const k=C.pathname.split("/"),N=S.pathname.split("/");for(N.length>0&&!N[N.length-1]&&N.pop();k.length>0&&N.length>0&&k[0]===N[0];)k.shift(),N.shift();return N.map(()=>"..").concat(k).join("/")+C.search+C.hash}const x=h(S=>{S.pathname=S.pathname.replace(/\/?$/,"/")}),v=h(S=>{S.href=new t(".",S.toString()).toString()}),b=h(S=>{});Ur.normalize=b;function T(S,C){const k=g(C),N=g(S);if(S=x(S),k==="absolute")return f(C,void 0);if(N==="absolute")return f(C,S);if(k==="scheme-relative")return b(C);if(N==="scheme-relative")return f(C,f(S,u)).slice(l.length);if(k==="path-absolute")return b(C);if(N==="path-absolute")return f(C,f(S,u)).slice(u.length);const y=m(C+S),I=f(C,f(S,y));return w(y,I)}Ur.join=T;function M(S,C){const k=B(S,C);return typeof k=="string"?k:b(C)}Ur.relative=M;function B(S,C){if(g(S)!==g(C))return null;const N=m(S+C),y=new t(S,N),I=new t(C,N);try{new t("",I.toString())}catch{return null}return I.protocol!==y.protocol||I.user!==y.user||I.password!==y.password||I.hostname!==y.hostname||I.port!==y.port?null:w(y,I)}function Z(S,C,k){S&&g(C)==="path-absolute"&&(C=C.replace(/^\//,""));let N=b(C||"");return S&&(N=T(S,N)),k&&(N=T(v(k),N)),N}return Ur.computeSourceURL=Z,Ur}var Ub={},SY;function ZY(){if(SY)return Ub;SY=1;class t{constructor(){this._array=[],this._set=new Map}static fromArray(A,n){const r=new t;for(let s=0,i=A.length;s<i;s++)r.add(A[s],n);return r}size(){return this._set.size}add(A,n){const r=this.has(A),s=this._array.length;(!r||n)&&this._array.push(A),r||this._set.set(A,s)}has(A){return this._set.has(A)}indexOf(A){const n=this._set.get(A);if(n>=0)return n;throw new Error('"'+A+'" is not in the set.')}at(A){if(A>=0&&A<this._array.length)return this._array[A];throw new Error("No element indexed by "+A)}toArray(){return this._array.slice()}}return Ub.ArraySet=t,Ub}var $b={},CY;function XK(){if(CY)return $b;CY=1;const t=gd();function e(n,r){const s=n.generatedLine,i=r.generatedLine,o=n.generatedColumn,a=r.generatedColumn;return i>s||i==s&&a>=o||t.compareByGeneratedPositionsInflated(n,r)<=0}class A{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(r,s){this._array.forEach(r,s)}add(r){e(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))}toArray(){return this._sorted||(this._array.sort(t.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}return $b.MappingList=A,$b}var PY;function RY(){if(PY)return F0;PY=1;const t=kT(),e=gd(),A=ZY().ArraySet,n=XK().MappingList;class r{constructor(i){i||(i={}),this._file=e.getArg(i,"file",null),this._sourceRoot=e.getArg(i,"sourceRoot",null),this._skipValidation=e.getArg(i,"skipValidation",!1),this._sources=new A,this._names=new A,this._mappings=new n,this._sourcesContents=null}static fromSourceMap(i){const o=i.sourceRoot,a=new r({file:i.file,sourceRoot:o});return i.eachMapping(function(c){const l={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(l.source=c.source,o!=null&&(l.source=e.relative(o,l.source)),l.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(l.name=c.name)),a.addMapping(l)}),i.sources.forEach(function(c){let l=c;o!=null&&(l=e.relative(o,c)),a._sources.has(l)||a._sources.add(l);const u=i.sourceContentFor(c);u!=null&&a.setSourceContent(c,u)}),a}addMapping(i){const o=e.getArg(i,"generated"),a=e.getArg(i,"original",null);let c=e.getArg(i,"source",null),l=e.getArg(i,"name",null);this._skipValidation||this._validateMapping(o,a,c,l),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:a&&a.line,originalColumn:a&&a.column,source:c,name:l})}setSourceContent(i,o){let a=i;this._sourceRoot!=null&&(a=e.relative(this._sourceRoot,a)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[e.toSetString(a)]=o):this._sourcesContents&&(delete this._sourcesContents[e.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(i,o,a){let c=o;if(o==null){if(i.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=i.file}const l=this._sourceRoot;l!=null&&(c=e.relative(l,c));const u=this._mappings.toArray().length>0?new A:this._sources,h=new A;this._mappings.unsortedForEach(function(f){if(f.source===c&&f.originalLine!=null){const p=i.originalPositionFor({line:f.originalLine,column:f.originalColumn});p.source!=null&&(f.source=p.source,a!=null&&(f.source=e.join(a,f.source)),l!=null&&(f.source=e.relative(l,f.source)),f.originalLine=p.line,f.originalColumn=p.column,p.name!=null&&(f.name=p.name))}const d=f.source;d!=null&&!u.has(d)&&u.add(d);const m=f.name;m!=null&&!h.has(m)&&h.add(m)},this),this._sources=u,this._names=h,i.sources.forEach(function(f){const d=i.sourceContentFor(f);d!=null&&(a!=null&&(f=e.join(a,f)),l!=null&&(f=e.relative(l,f)),this.setSourceContent(f,d))},this)}_validateMapping(i,o,a,c){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(i&&"line"in i&&"column"in i&&i.line>0&&i.column>=0&&!o&&!a&&!c)){if(!(i&&"line"in i&&"column"in i&&o&&"line"in o&&"column"in o&&i.line>0&&i.column>=0&&o.line>0&&o.column>=0&&a))throw new Error("Invalid mapping: "+JSON.stringify({generated:i,source:a,original:o,name:c}))}}_serializeMappings(){let i=0,o=1,a=0,c=0,l=0,u=0,h="",f,d,m,p;const g=this._mappings.toArray();for(let w=0,x=g.length;w<x;w++){if(d=g[w],f="",d.generatedLine!==o)for(i=0;d.generatedLine!==o;)f+=";",o++;else if(w>0){if(!e.compareByGeneratedPositionsInflated(d,g[w-1]))continue;f+=","}f+=t.encode(d.generatedColumn-i),i=d.generatedColumn,d.source!=null&&(p=this._sources.indexOf(d.source),f+=t.encode(p-u),u=p,f+=t.encode(d.originalLine-1-c),c=d.originalLine-1,f+=t.encode(d.originalColumn-a),a=d.originalColumn,d.name!=null&&(m=this._names.indexOf(d.name),f+=t.encode(m-l),l=m)),h+=f}return h}_generateSourcesContent(i,o){return i.map(function(a){if(!this._sourcesContents)return null;o!=null&&(a=e.relative(o,a));const c=e.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)}toJSON(){const i={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(i.file=this._file),this._sourceRoot!=null&&(i.sourceRoot=this._sourceRoot),this._sourcesContents&&(i.sourcesContent=this._generateSourcesContent(i.sources,i.sourceRoot)),i}toString(){return JSON.stringify(this.toJSON())}}return r.prototype._version=3,F0.SourceMapGenerator=r,F0}var Kl={},Fb={},IY;function eJ(){return IY||(IY=1,(function(t){t.GREATEST_LOWER_BOUND=1,t.LEAST_UPPER_BOUND=2;function e(A,n,r,s,i,o){const a=Math.floor((n-A)/2)+A,c=i(r,s[a],!0);return c===0?a:c>0?n-a>1?e(a,n,r,s,i,o):o===t.LEAST_UPPER_BOUND?n<s.length?n:-1:a:a-A>1?e(A,a,r,s,i,o):o==t.LEAST_UPPER_BOUND?a:A<0?-1:A}t.search=function(n,r,s,i){if(r.length===0)return-1;let o=e(-1,r.length,n,r,s,i||t.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&s(r[o],r[o-1],!0)===0;)--o;return o}})(Fb)),Fb}var wd={exports:{}},jY;function zY(){if(jY)return wd.exports;jY=1;let t=null;return wd.exports=function(){if(typeof t=="string")return fetch(t).then(A=>A.arrayBuffer());if(t instanceof ArrayBuffer)return Promise.resolve(t);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},wd.exports.initialize=e=>{t=e},wd.exports}var Vb,HY;function tJ(){if(HY)return Vb;HY=1;const t=zY();function e(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let A=null;return Vb=function(){if(A)return A;const r=[];return A=t().then(s=>WebAssembly.instantiate(s,{env:{mapping_callback(i,o,a,c,l,u,h,f,d,m){const p=new e;p.generatedLine=i+1,p.generatedColumn=o,a&&(p.lastGeneratedColumn=c-1),l&&(p.source=u,p.originalLine=h+1,p.originalColumn=f,d&&(p.name=m)),r[r.length-1](p)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(s=>({exports:s.instance.exports,withMappingCallback:(i,o)=>{r.push(i);try{o()}finally{r.pop()}}})).then(null,s=>{throw A=null,s}),A},Vb}var LY;function AJ(){if(LY)return Kl;LY=1;const t=gd(),e=eJ(),A=ZY().ArraySet;kT();const n=zY(),r=tJ(),s=Symbol("smcInternal");class i{constructor(h,f){return h==s?Promise.resolve(this):c(h,f)}static initialize(h){n.initialize(h["lib/mappings.wasm"])}static fromSourceMap(h,f){return l(h,f)}static async with(h,f,d){const m=await new i(h,f);try{return await d(m)}finally{m.destroy()}}eachMapping(h,f,d){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(h){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}i.prototype._version=3,i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,Kl.SourceMapConsumer=i;class o extends i{constructor(h,f){return super(s).then(d=>{let m=h;typeof h=="string"&&(m=t.parseSourceMapInput(h));const p=t.getArg(m,"version"),g=t.getArg(m,"sources").map(String),w=t.getArg(m,"names",[]),x=t.getArg(m,"sourceRoot",null),v=t.getArg(m,"sourcesContent",null),b=t.getArg(m,"mappings"),T=t.getArg(m,"file",null),M=t.getArg(m,"x_google_ignoreList",null);if(p!=d._version)throw new Error("Unsupported version: "+p);return d._sourceLookupCache=new Map,d._names=A.fromArray(w.map(String),!0),d._sources=A.fromArray(g,!0),d._absoluteSources=A.fromArray(d._sources.toArray().map(function(B){return t.computeSourceURL(x,B,f)}),!0),d.sourceRoot=x,d.sourcesContent=v,d._mappings=b,d._sourceMapURL=f,d.file=T,d.x_google_ignoreList=M,d._computedColumnSpans=!1,d._mappingsPtr=0,d._wasm=null,r().then(B=>(d._wasm=B,d))})}_findSourceIndex(h){const f=this._sourceLookupCache.get(h);if(typeof f=="number")return f;const d=t.computeSourceURL(null,h,this._sourceMapURL);if(this._absoluteSources.has(d)){const p=this._absoluteSources.indexOf(d);return this._sourceLookupCache.set(h,p),p}const m=t.computeSourceURL(this.sourceRoot,h,this._sourceMapURL);if(this._absoluteSources.has(m)){const p=this._absoluteSources.indexOf(m);return this._sourceLookupCache.set(h,p),p}return-1}static fromSourceMap(h,f){return new o(h.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){const h=this._mappings,f=h.length,d=this._wasm.exports.allocate_mappings(f)>>>0,m=new Uint8Array(this._wasm.exports.memory.buffer,d,f);for(let g=0;g<f;g++)m[g]=h.charCodeAt(g);const p=this._wasm.exports.parse_mappings(d);if(!p){const g=this._wasm.exports.get_last_error();let w=`Error parsing mappings (code ${g}): `;switch(g){case 1:w+="the mappings contained a negative line, column, source index, or name index";break;case 2:w+="the mappings contained a number larger than 2**32";break;case 3:w+="reached EOF while in the middle of parsing a VLQ";break;case 4:w+="invalid base 64 character while parsing a VLQ";break;default:w+="unknown error code";break}throw new Error(w)}this._mappingsPtr=p}eachMapping(h,f,d){const m=f||null,p=d||i.GENERATED_ORDER;this._wasm.withMappingCallback(g=>{g.source!==null&&(g.source=this._absoluteSources.at(g.source),g.name!==null&&(g.name=this._names.at(g.name))),this._computedColumnSpans&&g.lastGeneratedColumn===null&&(g.lastGeneratedColumn=1/0),h.call(m,g)},()=>{switch(p){case i.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case i.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(h){let f=t.getArg(h,"source");const d=t.getArg(h,"line"),m=h.column||0;if(f=this._findSourceIndex(f),f<0)return[];if(d<1)throw new Error("Line numbers must be >= 1");if(m<0)throw new Error("Column numbers must be >= 0");const p=[];return this._wasm.withMappingCallback(g=>{let w=g.lastGeneratedColumn;this._computedColumnSpans&&w===null&&(w=1/0),p.push({line:g.generatedLine,column:g.generatedColumn,lastColumn:w})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),f,d-1,"column"in h,m)}),p}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(h){const f={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")};if(f.generatedLine<1)throw new Error("Line numbers must be >= 1");if(f.generatedColumn<0)throw new Error("Column numbers must be >= 0");let d=t.getArg(h,"bias",i.GREATEST_LOWER_BOUND);d==null&&(d=i.GREATEST_LOWER_BOUND);let m;if(this._wasm.withMappingCallback(p=>m=p,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),f.generatedLine-1,f.generatedColumn,d)}),m&&m.generatedLine===f.generatedLine){let p=t.getArg(m,"source",null);p!==null&&(p=this._absoluteSources.at(p));let g=t.getArg(m,"name",null);return g!==null&&(g=this._names.at(g)),{source:p,line:t.getArg(m,"originalLine",null),column:t.getArg(m,"originalColumn",null),name:g}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1}sourceContentFor(h,f){if(!this.sourcesContent)return null;const d=this._findSourceIndex(h);if(d>=0)return this.sourcesContent[d];if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')}generatedPositionFor(h){let f=t.getArg(h,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};const d={source:f,originalLine:t.getArg(h,"line"),originalColumn:t.getArg(h,"column")};if(d.originalLine<1)throw new Error("Line numbers must be >= 1");if(d.originalColumn<0)throw new Error("Column numbers must be >= 0");let m=t.getArg(h,"bias",i.GREATEST_LOWER_BOUND);m==null&&(m=i.GREATEST_LOWER_BOUND);let p;if(this._wasm.withMappingCallback(g=>p=g,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),d.source,d.originalLine-1,d.originalColumn,m)}),p&&p.source===d.source){let g=p.lastGeneratedColumn;return this._computedColumnSpans&&g===null&&(g=1/0),{line:t.getArg(p,"generatedLine",null),column:t.getArg(p,"generatedColumn",null),lastColumn:g}}return{line:null,column:null,lastColumn:null}}}o.prototype.consumer=i,Kl.BasicSourceMapConsumer=o;class a extends i{constructor(h,f){return super(s).then(d=>{let m=h;typeof h=="string"&&(m=t.parseSourceMapInput(h));const p=t.getArg(m,"version"),g=t.getArg(m,"sections");if(p!=d._version)throw new Error("Unsupported version: "+p);let w={line:-1,column:0};return Promise.all(g.map(x=>{if(x.url)throw new Error("Support for url field in sections not implemented.");const v=t.getArg(x,"offset"),b=t.getArg(v,"line"),T=t.getArg(v,"column");if(b<w.line||b===w.line&&T<w.column)throw new Error("Section offsets must be ordered and non-overlapping.");return w=v,new i(t.getArg(x,"map"),f).then(B=>({generatedOffset:{generatedLine:b+1,generatedColumn:T+1},consumer:B}))})).then(x=>(d._sections=x,d))})}get sources(){const h=[];for(let f=0;f<this._sections.length;f++)for(let d=0;d<this._sections[f].consumer.sources.length;d++)h.push(this._sections[f].consumer.sources[d]);return h}originalPositionFor(h){const f={generatedLine:t.getArg(h,"line"),generatedColumn:t.getArg(h,"column")},d=e.search(f,this._sections,function(p,g){const w=p.generatedLine-g.generatedOffset.generatedLine;return w||p.generatedColumn-(g.generatedOffset.generatedColumn-1)}),m=this._sections[d];return m?m.consumer.originalPositionFor({line:f.generatedLine-(m.generatedOffset.generatedLine-1),column:f.generatedColumn-(m.generatedOffset.generatedLine===f.generatedLine?m.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})}sourceContentFor(h,f){for(let d=0;d<this._sections.length;d++){const p=this._sections[d].consumer.sourceContentFor(h,!0);if(p)return p}if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')}_findSectionIndex(h){for(let f=0;f<this._sections.length;f++){const{consumer:d}=this._sections[f];if(d._findSourceIndex(h)!==-1)return f}return-1}generatedPositionFor(h){const f=this._findSectionIndex(t.getArg(h,"source")),d=f>=0?this._sections[f]:null,m=f>=0&&f+1<this._sections.length?this._sections[f+1]:null,p=d&&d.consumer.generatedPositionFor(h);if(p&&p.line!==null){const g=d.generatedOffset.generatedLine-1,w=d.generatedOffset.generatedColumn-1;return p.line===1&&(p.column+=w,typeof p.lastColumn=="number"&&(p.lastColumn+=w)),p.lastColumn===1/0&&m&&p.line===m.generatedOffset.generatedLine&&(p.lastColumn=m.generatedOffset.generatedColumn-2),p.line+=g,p}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(h){const f=this._findSectionIndex(t.getArg(h,"source")),d=f>=0?this._sections[f]:null,m=f>=0&&f+1<this._sections.length?this._sections[f+1]:null;return d?d.consumer.allGeneratedPositionsFor(h).map(p=>{const g=d.generatedOffset.generatedLine-1,w=d.generatedOffset.generatedColumn-1;return p.line===1&&(p.column+=w,typeof p.lastColumn=="number"&&(p.lastColumn+=w)),p.lastColumn===1/0&&m&&p.line===m.generatedOffset.generatedLine&&(p.lastColumn=m.generatedOffset.generatedColumn-2),p.line+=g,p}):[]}eachMapping(h,f,d){this._sections.forEach((m,p)=>{const g=p+1<this._sections.length?this._sections[p+1]:null,{generatedOffset:w}=m,x=w.generatedLine-1,v=w.generatedColumn-1;m.consumer.eachMapping(function(b){b.generatedLine===1&&(b.generatedColumn+=v,typeof b.lastGeneratedColumn=="number"&&(b.lastGeneratedColumn+=v)),b.lastGeneratedColumn===1/0&&g&&b.generatedLine===g.generatedOffset.generatedLine&&(b.lastGeneratedColumn=g.generatedOffset.generatedColumn-2),b.generatedLine+=x,h.call(this,b)},f,d)})}computeColumnSpans(){for(let h=0;h<this._sections.length;h++)this._sections[h].consumer.computeColumnSpans()}destroy(){for(let h=0;h<this._sections.length;h++)this._sections[h].consumer.destroy()}}Kl.IndexedSourceMapConsumer=a;function c(u,h){let f=u;typeof u=="string"&&(f=t.parseSourceMapInput(u));const d=f.sections!=null?new a(f,h):new o(f,h);return Promise.resolve(d)}function l(u,h){return o.fromSourceMap(u,h)}return Kl}var Wb={},UY;function nJ(){if(UY)return Wb;UY=1;const t=RY().SourceMapGenerator,e=gd(),A=/(\r?\n)/,n=10,r="$$$isSourceNode$$$";class s{constructor(o,a,c,l,u){this.children=[],this.sourceContents={},this.line=o??null,this.column=a??null,this.source=c??null,this.name=u??null,this[r]=!0,l!=null&&this.add(l)}static fromStringWithSourceMap(o,a,c){const l=new s,u=o.split(A);let h=0;const f=function(){const x=b(),v=b()||"";return x+v;function b(){return h<u.length?u[h++]:void 0}};let d=1,m=0,p=null,g;return a.eachMapping(function(x){if(p!==null)if(d<x.generatedLine)w(p,f()),d++,m=0;else{g=u[h]||"";const v=g.substr(0,x.generatedColumn-m);u[h]=g.substr(x.generatedColumn-m),m=x.generatedColumn,w(p,v),p=x;return}for(;d<x.generatedLine;)l.add(f()),d++;m<x.generatedColumn&&(g=u[h]||"",l.add(g.substr(0,x.generatedColumn)),u[h]=g.substr(x.generatedColumn),m=x.generatedColumn),p=x},this),h<u.length&&(p&&w(p,f()),l.add(u.splice(h).join(""))),a.sources.forEach(function(x){const v=a.sourceContentFor(x);v!=null&&(c!=null&&(x=e.join(c,x)),l.setSourceContent(x,v))}),l;function w(x,v){if(x===null||x.source===void 0)l.add(v);else{const b=c?e.join(c,x.source):x.source;l.add(new s(x.originalLine,x.originalColumn,b,v,x.name))}}}add(o){if(Array.isArray(o))o.forEach(function(a){this.add(a)},this);else if(o[r]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this}prepend(o){if(Array.isArray(o))for(let a=o.length-1;a>=0;a--)this.prepend(o[a]);else if(o[r]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this}walk(o){let a;for(let c=0,l=this.children.length;c<l;c++)a=this.children[c],a[r]?a.walk(o):a!==""&&o(a,{source:this.source,line:this.line,column:this.column,name:this.name})}join(o){let a,c;const l=this.children.length;if(l>0){for(a=[],c=0;c<l-1;c++)a.push(this.children[c]),a.push(o);a.push(this.children[c]),this.children=a}return this}replaceRight(o,a){const c=this.children[this.children.length-1];return c[r]?c.replaceRight(o,a):typeof c=="string"?this.children[this.children.length-1]=c.replace(o,a):this.children.push("".replace(o,a)),this}setSourceContent(o,a){this.sourceContents[e.toSetString(o)]=a}walkSourceContents(o){for(let c=0,l=this.children.length;c<l;c++)this.children[c][r]&&this.children[c].walkSourceContents(o);const a=Object.keys(this.sourceContents);for(let c=0,l=a.length;c<l;c++)o(e.fromSetString(a[c]),this.sourceContents[a[c]])}toString(){let o="";return this.walk(function(a){o+=a}),o}toStringWithSourceMap(o){const a={code:"",line:1,column:0},c=new t(o);let l=!1,u=null,h=null,f=null,d=null;return this.walk(function(m,p){a.code+=m,p.source!==null&&p.line!==null&&p.column!==null?((u!==p.source||h!==p.line||f!==p.column||d!==p.name)&&c.addMapping({source:p.source,original:{line:p.line,column:p.column},generated:{line:a.line,column:a.column},name:p.name}),u=p.source,h=p.line,f=p.column,d=p.name,l=!0):l&&(c.addMapping({generated:{line:a.line,column:a.column}}),u=null,l=!1);for(let g=0,w=m.length;g<w;g++)m.charCodeAt(g)===n?(a.line++,a.column=0,g+1===w?(u=null,l=!1):l&&c.addMapping({source:p.source,original:{line:p.line,column:p.column},generated:{line:a.line,column:a.column},name:p.name})):a.column++}),this.walkSourceContents(function(m,p){c.setSourceContent(m,p)}),{code:a.code,map:c}}}return Wb.SourceNode=s,Wb}var $Y;function rJ(){return $Y||($Y=1,Ql.SourceMapGenerator=RY().SourceMapGenerator,Ql.SourceMapConsumer=AJ().SourceMapConsumer,Ql.SourceNode=nJ().SourceNode),Ql}var sJ=rJ();const iJ=navigator.userAgent.includes("Mac");navigator.userAgent.includes("Linux"),navigator.userAgent.includes("Firefox")||navigator.userAgent.includes("FxiOS");const oJ=iJ?"cmd":"ctrl",aJ=sl(32,126).map(t=>String.fromCharCode(t)),cJ=hn({name:"Whitespace",pattern:/ +/}),lJ=hn({name:"WhitespaceSkipped",pattern:/ +/,group:jA.SKIPPED}),Qb=hn({name:"Newline",line_breaks:!0,start_chars_hint:[`
`,"\r"],pattern:/\n|\r\n?/}),FY=hn({name:"StringLiteral",pattern:/[^ $;\r\n]+/,start_chars_hint:aJ}),qb=hn({name:"StringLiteralDouble",pattern:/"(?:[^\\"]|\\(?:[^\n\r]|u[0-9a-fA-F]{4}))*"/}),Kb=hn({name:"EscapedDollar",pattern:"$$",start_chars_hint:["$"]}),bd=hn({name:"MaybeFlag",pattern:/\$[^-0-9"!;@#/?\s]+[^-"!;@#/?\s]*/,start_chars_hint:["$"]}),Jb=hn({name:"Center",pattern:/\$CENTER/i,start_chars_hint:["$"]}),Xb=hn({name:"MetaKey",pattern:/\$META/i,start_chars_hint:["$"]}),e_=hn({name:"NumberLiteral",pattern:/\$-?(\d*\.)?\d+([eE][+-]?\d+)?[jJ]?[lL]?\+?/}),VY=hn({name:"HyperLinkText",pattern:/;[^;\r\n]*/,start_chars_hint:[";"]});function uJ(t,e=""){return hn({name:e||t,pattern:new RegExp(t.toLowerCase(),"i")})}const WY=Object.keys(ol).map(t=>uJ(`\\$(${t})`,t)),hJ=[cJ,Qb,...WY,qb,FY,e_,Kb,VY,Jb,Xb,bd],fJ=new jA(hJ,{skipValidations:!ws,ensureOptimizations:ws}),dJ=new jA([lJ,Qb,...WY,qb,FY,e_,Kb,VY,Jb,Xb,bd],{skipValidations:!ws,ensureOptimizations:ws}),QY=/\$CENTER/i;function mJ(t){if(QY.test(t))return t.replace(QY,"")}function _d(t,e=!1){return e?dJ.tokenize(t):fJ.tokenize(t)}function qY(t,e,A,n,r,s,i,o){return{disablewrap:!1,measureonly:!1,measuredwidth:0,writefullwidth:void 0,x:0,y:0,iseven:!0,active:{color:A,bg:n,topedge:r,leftedge:s,rightedge:i,bottomedge:o},reset:{color:A,bg:n,topedge:r,leftedge:s,rightedge:i,bottomedge:o},width:t,height:e,char:[],color:[],bg:[],changed(){}}}function pJ(t){t.active={...t.reset}}function KY(t,e){const A=e.y;function n(){++e.x;const o=e.active.rightedge??e.width-1;!e.disablewrap&&e.x>o&&(e.x=e.active.leftedge??0,++e.y),e.x>e.measuredwidth&&(e.measuredwidth=e.x)}function r(){return e.x>=(e.active.leftedge??0)&&e.x<=(e.active.rightedge??e.width-1)&&e.y>=(e.active.topedge??0)&&e.y<=(e.active.bottomedge??e.height-1)}function s(o){for(let a=0;a<o.length;++a){if(e.measureonly!==!0&&r()){const c=e.x+e.y*e.width;e.char[c]=o.charCodeAt(a),e.active.color!==void 0&&(e.color[c]=e.active.color),e.active.bg!==void 0&&(e.bg[c]=e.active.bg)}n()}}for(let o=0;o<t.length;++o){const a=t[o];switch(a.tokenType){case Kb:s("$");break;case e_:if(e.measureonly!==!0&&r()){const c=e.x+e.y*e.width;e.char[c]=parseFloat(a.image.replace("$","")),e.active.color!==void 0&&(e.color[c]=e.active.color),e.active.bg!==void 0&&(e.bg[c]=e.active.bg)}n();break;case qb:s(a.image.substring(1,a.image.length-1).replaceAll('\\"','"'));break;case Qb:{e.x=e.active.leftedge??0,++e.y;break}case Jb:break;case Xb:{s(oJ);break}default:{const c=a.tokenType.name,l=ol[c],u=H2(Xe[l]),h=Bg(Xe[l]);l==="ONCLEAR"?(e.active.color=e.reset.color,e.active.bg=e.reset.bg):G(u)?e.active.color=u:G(h)?e.active.bg=h:s(a.image);break}}}e.x>e.measuredwidth&&(e.measuredwidth=e.x+1);const i=e.active.leftedge??0;if(G(e.writefullwidth)&&(e.x>i||e.y===A)){const a=(e.active.rightedge??e.width-1)-e.x;if(a>0){pJ(e);const c=String.fromCharCode(e.writefullwidth).repeat(a),l=e.x+e.y*e.width;_J(l,l+c.length,e.active.color,e.active.bg,e),bJ(l,c,e)}}}function gJ(t,e,A){const n=_d(t);n.tokens&&(KY(n.tokens,e),e.changed())}function wJ(t,e,A){const n=_d(t);if(!n.tokens)return;const r=qY(e,A,Xe.WHITE,Xe.BLACK);return r.measureonly=!0,KY(n.tokens,r),r.x>0&&++r.y,r}function bJ(t,e,A){let n=0;const r=t+e.length;for(let s=t;s<r;++s)A.char[s]=e.charCodeAt(n++);A.changed()}function _J(t,e,A,n,r){const s=Math.min(t,e),i=Math.max(t,e);for(let o=s;o<=i;++o)r.color[o]=A,r.bg[o]=n;r.changed()}const Pn={labels:{},internal:0,lineindex:0,linelookup:{},isfirststat:!1},xd="zss.js";function pt(t,e){return new sJ.SourceNode(t.startLine??1,t.startColumn??1,xd,e)}function t_(t){return t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}function Gd(t){return`'${t_(t)}'`}function A_(t){const e=_d(t);return e.errors.length?t:`['${e.tokens.map(n=>{if(n.tokenType===bd){const r=t_(n.image.substring(1));return je(r)==="center"?"$CENTER":`', api.print(api.get('${r}')), '`}return t_(n.image)}).join("")}'].join('')`}function Jl(t){return t.filter(e=>e!==void 0).map(yt)}function JY(t){return pt(t,"")}function xJ(t,e){const A=[];return t.forEach(n=>{A.push(n,e)}),A.pop(),A}function SA(t,e,A){return pt(t,[`api.${e}(`,...xJ(A,", "),")"])}function GJ(t){if(t.type===Ce.COMPARE&&t.compare.type===Ce.COMPARE_ITEM)switch(t.compare.method){case Eo.IS_EQ:return SA(t,"isEq",[yt(t.lhs),yt(t.rhs)]);case Eo.IS_NOT_EQ:return SA(t,"isNotEq",[yt(t.lhs),yt(t.rhs)]);case Eo.IS_LESS_THAN:return SA(t,"isLessThan",[yt(t.lhs),yt(t.rhs)]);case Eo.IS_GREATER_THAN:return SA(t,"isGreaterThan",[yt(t.lhs),yt(t.rhs)]);case Eo.IS_LESS_THAN_OR_EQ:return SA(t,"isLessThanOrEq",[yt(t.lhs),yt(t.rhs)]);case Eo.IS_GREATER_THAN_OR_EQ:return SA(t,"isGreaterThanOrEq",[yt(t.lhs),yt(t.rhs)])}return pt(t,"")}function To(t,e,A){return t.prepend(`api.${e}(`),t.add([", ",yt(A),")"])}function XY(t,e,A){return t.prepend(`api.${e}(`),t.add([yt(A),")"])}function MJ(t,e){if(t.type===Ce.OPERATOR_ITEM)switch(t.operator){case ys.PLUS:return To(e,"opPlus",t.rhs);case ys.MINUS:return To(e,"opMinus",t.rhs);case ys.POWER:return To(e,"opPower",t.rhs);case ys.MULTIPLY:return To(e,"opMultiply",t.rhs);case ys.DIVIDE:return To(e,"opDivide",t.rhs);case ys.MOD_DIVIDE:return To(e,"opModDivide",t.rhs);case ys.FLOOR_DIVIDE:return To(e,"opFloorDivide",t.rhs);case ys.UNI_PLUS:return XY(e,"opUniPlus",t.rhs);case ys.UNI_MINUS:return XY(e,"opUniMinus",t.rhs)}return pt(t,"")}function yJ(t){if(t.type===Ce.OPERATOR){const e=t.lhs?yt(t.lhs):pt(t,"");return t.items.forEach(A=>MJ(A,e)),e}return pt(t,"")}function Md(t,e){return pt(t,[SA(t,"jump",[`${e}`]),"; continue;"])}function Ks(t){return Pn.linelookup[t??""]??-1}function n_(t,e){Pn.linelookup[t]=e}function Ac(t,e,A){for(let n=0;n<t.length;++n){const r=t[n];switch(r.type){case Ce.WHILE:case Ce.REPEAT:case Ce.FOREACH:case Ce.ELSE_IF:r.type===e&&(r.done=A);break;case Ce.IF_BLOCK:case Ce.IF_CHECK:r.type===e&&(r.skip=A);break;case Ce.LINE:Ac(r.stmts,e,A);break}}}function eO(t,e,A){for(let n=0;n<t.length;++n){const r=t[n];switch(r.type){case Ce.WHILE:case Ce.REPEAT:case Ce.FOREACH:case Ce.ELSE_IF:r.type===e&&n_(r.done,A);break;case Ce.IF_BLOCK:case Ce.IF_CHECK:r.type===e&&n_(r.skip,A);break;case Ce.LINE:eO(r.stmts,e,A);break}}}function yt(t){switch(t.type){case Ce.PROGRAM:return pt(t,[`try { // first-line
`,`while (true) {
`,`if (api.sy()) { return 1; }
`,`switch (api.getcase()) {
`,...t.lines.map(yt).flat(),`default:
`,`  return 0;
`,`}
`,`api.nextcase();
`,`} // end of logic
`,`} catch (e) {
`,`console.error(e);
`,`const source = api.stacktrace(e);
`,`const err = new Error(e.message);
`,`err.name = 'GameError';
`,`err.meta = { line: source.line, column: source.column };
`,`throw err;
`,`}
`,`//# sourceURL=${xd}`]);case Ce.API:return pt(t,["  ",SA(t,t.method,Jl(t.words)),`;
`]);case Ce.LINE:return pt(t,[`case ${t.lineindex}:
`,...t.stmts.map(yt).flat(),`  break;
`]);case Ce.MARK:return pt(t,`  // ${t.comment}
`);case Ce.GOTO:{const e=Ks(t.id);return pt(t,["  ",Md(t,e),`
`])}case Ce.COUNT:return pt(t,`${t.index}`);case Ce.LITERAL:switch(t.literal){case dd.NUMBER:return pt(t,`${t.value}`);case dd.STRING:return pt(t,Gd(t.value));case dd.TEMPLATE:return pt(t,A_(t.value))}return JY(t);case Ce.TEXT:return pt(t,["  ",SA(t,"text",[A_(t.value)]),`;
`]);case Ce.STAT:if(Pn.isfirststat){Pn.isfirststat=!1;const e=t.value.trim().split(" ").map(Gd);return pt(t,["  ",SA(t,"stat",e),`;
`])}return pt(t,`  // skipped ${t.value}
`);case Ce.LABEL:{const e=je(t.name),A=t.active?"label":"comment";Pn.labels[e]||(Pn.labels[e]=[]);const n=(t.active?1:-1)*t.lineindex;return Pn.labels[e].push(n),pt(t,`  // ${n} '${e}' ${A}
`)}case Ce.HYPERLINK:return pt(t,["  ",SA(t,"hyperlink",[A_(t.text),...t.link.split(" ").filter(e=>e.length>0).map(Gd)]),`;
`]);case Ce.MOVE:{const e=SA(t,"command",[Gd("go"),Jl(t.words)].flat());return t.wait?pt(t,["  if (",e,`) { continue; };
`]):pt(t,["  ",e,`;
`])}case Ce.COMMAND:return pt(t,["  if (",SA(t,"command",Jl(t.words)),`) { continue; };
`]);case Ce.IF:{const e=t.block?.type===Ce.IF_BLOCK?t.block:void 0;if(G(e)){Ac([t.check],Ce.IF_CHECK,e.skip);const A=pt(t,yt(t.check));return e.lines.forEach(n=>A.add(yt(n))),eO(e.altlines,Ce.ELSE_IF,Ks(e.done)),e.altlines.forEach(n=>A.add(yt(n))),A}return pt(t,yt(t.check))}case Ce.IF_CHECK:{const e=Ks(t.skip);return e===-1?pt(t,["  ",SA(t,t.method,Jl(t.words)),`;
`]):pt(t,["  if (!",SA(t,t.method,Jl(t.words)),") { ",Md(t,e),` }
`])}case Ce.ELSE_IF:case Ce.ELSE:{const e=pt(t,"");return t.lines.forEach(A=>e.add(yt(A))),e}case Ce.WHILE:{const e=Ks(t.loop),A=Ks(t.done),n=pt(t,"");return Ac(t.lines,Ce.IF_CHECK,t.done),t.lines.forEach(r=>{switch(r.type){case Ce.BREAK:r.goto=A;break;case Ce.CONTINUE:r.goto=e;break}n.add(yt(r))}),n}case Ce.REPEAT:{const e=Ks(t.loop),A=Ks(t.done),n=pt(t,"");return Ac(t.lines,Ce.IF_CHECK,t.done),t.lines.forEach(r=>{switch(r.type){case Ce.BREAK:r.goto=A;break;case Ce.CONTINUE:r.goto=e;break}n.add(yt(r))}),n}case Ce.WAITFOR:{const e=pt(t,"");return Ac(t.lines,Ce.IF_CHECK,t.loop),t.lines.forEach(A=>{e.add(yt(A))}),e}case Ce.FOREACH:{const e=Ks(t.loop),A=Ks(t.done),n=pt(t,"");return Ac(t.lines,Ce.IF_CHECK,t.done),t.lines.forEach(r=>{switch(r.type){case Ce.BREAK:r.goto=A;break;case Ce.CONTINUE:r.goto=e;break}n.add(yt(r))}),n}case Ce.BREAK:return pt(t,["  ",Md(t,t.goto),`
`]);case Ce.CONTINUE:return pt(t,["  ",Md(t,t.goto),`
`]);case Ce.OR:return SA(t,"or",t.items.map(yt));case Ce.AND:return SA(t,"and",t.items.map(yt));case Ce.NOT:return SA(t,"not",t.items.map(yt));case Ce.COMPARE:return GJ(t);case Ce.OPERATOR:return yJ(t);case Ce.EXPR:return SA(t,"expr",t.words.map(yt));default:return console.error("<unsupported node>",t.type,t),JY(t)}}function Ds(t){if(G(t))switch(t.type===Ce.LINE&&++Pn.lineindex,t.lineindex=Pn.lineindex,t.type){case Ce.PROGRAM:t.lines.forEach(Ds);break;case Ce.LINE:t.stmts.forEach(Ds);break;case Ce.MARK:n_(t.id,t.lineindex);break;case Ce.IF:Ds(t.check),Ds(t.block);break;case Ce.IF_BLOCK:t.lines.forEach(Ds),t.altlines.forEach(Ds);break;case Ce.ELSE_IF:t.lines.forEach(Ds);break;case Ce.ELSE:case Ce.WHILE:case Ce.REPEAT:case Ce.FOREACH:case Ce.WAITFOR:t.lines.forEach(Ds);break;case Ce.MOVE:case Ce.COMMAND:case Ce.IF_CHECK:t.words.forEach(Ds);break}}function DJ(t){Pn.labels={},Pn.internal=1,Pn.lineindex=0,Pn.isfirststat=!0,Ds(t)}function vJ(t){return DJ(t),{...yt(t).toStringWithSourceMap({file:`${xd}.map`}),...Pn}}function BJ(t,e){const A=`compile-${t}`;console.time(A);const n=mK(e);if(console.timeEnd(A),DB&&console.info(e,n.errors),n.errors&&n.errors.length>0)return console.info(e,n.tokens,n.errors),n;if(!n.ast)return{...n,errors:[{message:"no ast output",offset:0,line:0,column:0,length:0}]};const r=vJ(n.ast);if(r.code){DB&&console.info(r.code);try{return{...n,...r,source:r.code,code:new Function("api",r.code)}}catch(s){return{errors:[{message:`unexpected error ${s.message}`,offset:0,line:0,column:0,length:0}],source:"",code:new Function("api"," ")}}}return{...n,...r,source:"",code:new Function("api"," ")}}function kJ(){const t={},e={};function A(r,s){const i=t[s];if(i)return i;const o=BJ(r,s);return t[s]=o,o}const n={ids(){return Object.keys(e)},isended(r){const s=e[r];return G(s)?s.isended():!0},scrollunlock(r,s){const i=e[r];G(i)&&i.scrollunlock(s)},halt(r){const s=e[r];return G(s)&&(s.halt(),delete e[r]),!!s},gc(){const r=n.ids();for(let s=0;s<r.length;++s)n.isended(r[s])&&n.halt(r[s])},arg(r,s){const i=e[r];G(i)&&i.set("arg",s)},boot(r,s,i,o){let a=e[r];if(!G(e[r])){const c=A(i,o);if(a=e[r]=Bce(r,s,c),c.errors?.length){const[l]=c.errors,u=(l?.line??2)-1,h=o.replaceAll(`\r
`,"").split(`
`).map((w,x)=>[w,x]),f=h.slice(u-2,u);for(let w=0;w<f.length;++w){const[x,v]=f[w];Mt(te,gA(),"build",`$grey${v+1} $grey${x}`)}const[d,m]=h[u]??[];if(xe(d)&&G(m)){const w=(l.column??1)-1,x=w+l.length,v=w<d.length?d:`${d}*`,b=v.substring(0,w),T=v.substring(w,x),M=v.substring(x);Mt(te,gA(),"build",`$red${m+1} $grey${b}$red${T}$grey${M}`)}const p=h.slice(u+1,u+3);for(let w=0;w<p.length;++w){const[x,v]=p[w];Mt(te,gA(),"build",`$grey${v+1} $grey${x}`)}const g=l.message.split(`
`).slice(0,4).join(" ");Mt(te,gA(),"build",g);return}}return a},tick(r,s,i,o,a){return!!n.boot(r,s,o,a)?.tick(i)},once(r,s,i,o){n.boot(r,s,i,o)?.once(),n.halt(r)},message(r){const{target:s,path:i}=tr(r.target),o=e[s];if(G(o)){const a={...r,target:i};o.message(a)}}};return n}const yd={};function tO(t,e,A,n,r){const s=AO(e,A);for(let i=0;i<s.length;++i){const o=`${sA()}_loader`;yd[o]={arg:t,format:e,content:n,player:r},$F(o,s[i].code)}}function EJ(t){return yd[t]?.arg}function nc(t){return yd[t]?.content}function NJ(t){return yd[t]?.format}function AO(t,e){const A=bt(He.MAIN);if(!G(A))return[];const n=xi(A,e);return G(n)?[n]:go(A,Oe.LOADER).filter(s=>{const i=_i(s),o=i.format,a=xe(o)?new RegExp(o).test(t):!1,c=i.event,l=xe(c)?new RegExp(c).test(e):!1;return xe(o)&&xe(c)?a&&l:xe(o)?a:xe(c)?l:!1})}function Yo(t){return st(t)&&typeof t[0]=="string"}function TJ(t){const e=_.words[t];return xe(e)?[e,t+1]:[void 0,t]}function r_(t){const e=_.words[t];if(Yo(e))return[e,t+1];const[A,n]=vh(t),[r,s]=TJ(n);return xe(r)&&(r==="empty"||Wn({kind:r}))?[[r,A],s]:[void 0,t]}function Xl(t){if(!Yo(t))return;const[e]=t;return e}function Dd(t){if(!Yo(t))return;const[,e]=t,A=G(e)?yh(e):void 0;return G(A)?A:void 0}function nO(t){if(!Yo(t))return;const[,e]=t,A=G(e)?Dh(e):void 0;return G(A)?Bg(A):void 0}function s_(t,e,A,n){if(!G(t))return!1;const r=pA(t);return!(G(e)&&e!==r.name||G(A)&&A!==r.color||G(n)&&n!==r.bg)}function Oo(t,e){const A=t??Fe.ISWALK,n=e??Fe.ISWALK;if(A===Fe.ISGHOST||n===Fe.ISGHOST)return!1;switch(A){case Fe.ISWALK:return n!==Fe.ISWALK;case Fe.ISSWIM:return n!==Fe.ISSWIM;case Fe.ISSOLID:return!0;case Fe.ISBULLET:return n!==Fe.ISWALK&&n!==Fe.ISSWIM}}function eu(t,e,A){const n=t?.objects[A];if(G(n))return n;const r=rc(t,"player");return G(e)?(e.x<0&&(e.x=ln(0,Re-1)),e.y<0&&(e.y=ln(0,rt-1)),oO(e,r)):ar(...r)}function rO(t,e){const A=G(e)?yh(e):void 0,n=G(e)?Dh(e):void 0,r=[];if(G(t)){for(let i=0;i<t.terrain.length;++i){const o=t.terrain[i];G(o)&&s_(o,void 0,A,n)&&r.push(o)}const s=Object.values(t.objects);for(let i=0;i<s.length;++i){const o=s[i];s_(o,void 0,A,n)&&r.push(o)}}return r}function sO(t,e){return G(t)?e.map(A=>{if(typeof A=="string"){const n=t.objects[A];if(G(n))return n;const r=rc(t,je(A));if(r.length)return r}else if(fi(A)&&A.x>=0&&A.x<Re&&A.y>=0&&A.y<rt){const n=A.x+A.y*Re,r=t.lookup?.[n];return G(r)?t.objects[r]:t.terrain[n]}}).flat().filter(G):[]}function YJ(t,e,A,n){if(!G(t))return;G(t.distmaps)||(t.distmaps={});const r=`${e}.${A.x}.${A.y}.${n.x}.${n.y}`;let s=t.distmaps[r];if(!G(s)){s=new Array(kg).fill(-2);const i=[{...n}];let o=0;for(;i.length;){const a=i.shift();if(G(a)&&Ci(a)){const c=vn(a,Re);if(s[c]===-2){const l=Mr(t,a.x,a.y);Oo(e,We(l,"collision"))||(s[c]=o,i.push({x:a.x,y:a.y-1},{x:a.x,y:a.y+1},{x:a.x-1,y:a.y},{x:a.x+1,y:a.y})),++o}}}t.distmaps[r]=s}return s}function iO(t,e){return Ci(t)?e[vn(t,Re)]:-1}function vd(t,e){const A=Xl(e),n=Dd(e),r=nO(e);return rc(t,A??"").filter(s=>s_(s,A,n,r))}function rc(t,e){const A=t?.named?.[e];return G(A)?[...A.values()].map(r=>typeof r=="string"?t?.objects[r]:t?.terrain[r]).filter(G):[]}function OJ(t){const e=[];for(let A=0;A<rt;++A)for(let n=0;n<Re;++n){const r={x:n,y:A},s=nt(t,r);!s?.name&&!s?.kind&&e.push(r)}return e}function oO(t,e){let A=0,n;for(let r=0;r<e.length;++r){const s=e[r];if(s){const i=t.x-(s.x??0),o=t.y-(s.y??0),a=Math.sqrt(i*i+o*o);(n===void 0||a<A)&&(A=a,n=s)}}return n}function aO(t,e,A,n,r){if(!G(t))return;const s=YJ(t,e,A,n);if(!G(s))return;const i=[{x:A.x,y:A.y-1},{x:A.x,y:A.y+1},{x:A.x-1,y:A.y},{x:A.x+1,y:A.y}];let o;if(r){let a=r?0:1e4;for(let c=0;c<i.length;++c){const l=iO(i[c],s);l>=0&&l>a&&(a=l,o=i[c])}}else{let a=1e5;for(let c=0;c<i.length;++c){const l=iO(i[c],s);l>=0&&l<a&&(a=l,o=i[c])}}return o}function Ti(t,e,A,n){const r=Et(e);if(!G(t)||!G(r))return!1;const s=hA(r,e);if(!vt(s)||!s?.id)return!1;const i=lt(A);if(!G(i))return!1;tA(i);const o=R_(i,Fe.ISWALK,n,!0);if(!G(o)&&!vt(o)){const a=We(o,"collision");if(Oo(Fe.ISWALK,a))return!1}return kf(r,s),delete r.objects[s.id],s.x=n.x,s.y=n.y,i.objects[s.id]=s,Fw(i,s),$8(i,s),Tl(t,e,"enterx",n.x),Tl(t,e,"entery",n.y),kd(t,e,i.id),!0}function SJ(t){const A=(t?.activelist??[]).map(n=>{const r=Ta(t,n,"board");return xe(r)?r:""});return j2(A)}function ZJ(t,e){return t?.activelist.includes(e)??!1}function Bd(t){const e=SJ(t),A=new Set,n=[];for(let r=0;r<e.length;++r){const s=lt(e[r]);if(G(s)&&!A.has(s.id)){G4(s);const i=lt(s.overboard??"");G(i)&&(A.has(i.id)||n.push(i)),n.push(s)}}return n}function kd(t,e,A){if(!G(t))return;Tl(t,e,"board",A);const n=lt(A);G(n)?t.activelist.includes(e)||t.activelist.push(e):t.activelist=t.activelist.filter(r=>r!==e)}function cO(t,e){if(!xe(t)||!t)return Mt(te,t,"login",`failed for playerid ==>${t}<==`);const A=bt(He.MAIN);if(!G(A))return Mt(te,t,"login:main","login failed to find book 'main'","login",`failed for playerid ==>${t}<==`);let n=Et(t);if(G(n?.objects[t]))return!0;if(!G(n)){const l=MA(Oe.BOARD,He.TITLE);n=pr(l)}if(!G(n))return Mt(te,t,"login:title",`login failed to find board with '${He.TITLE}' stat`);const r=MA(Oe.OBJECT,He.PLAYER);if(!G(r))return Mt(te,t,"login:player",`login failed to find object type '${He.PLAYER}'`);const s=n.startx??0,i=n.starty??0,o=Ne(s)?s:Math.round(Re*.5),a=Ne(i)?i:Math.round(rt*.5),c=H_(n,{x:o,y:a},He.PLAYER,t);if(G(c?.id)){c.player=t;const l=wo(A,t);return Object.assign(l,e),l.enterx=o,l.entery=a,l.deaths=l.deaths??0,l.highscore=l.highscore??0,kd(A,t,n.id),!0}return!1}function CJ(t,e){const A=bt(He.MAIN);if(!G(A))return;const n=[];for(let s=0;s<A.activelist.length;++s){const i=A.activelist[s];i.startsWith(t)&&n.push(i)}const r=Et(t);for(let s=0;s<n.length;++s){const i=n[s],o=wo(A,i),a={};if(e&&(a.deaths=ci(o.deaths,0)+1,a.highscore=Math.max(ci(o.score,0),ci(o.highscore,0))),kd(A,i,""),kf(r,hA(r,i)),b4(r,i),tu(i),j8(A,i),e){const c=wo(A,i);Object.assign(c,a)}}}function PJ(t){const e=bt(He.MAIN),A=e?.activelist??[];for(let r=0;r<A.length;++r){const s=A[r];G(t[s])||(t[s]=0)}const n=Bd(e);for(let r=0;r<n.length;++r){const s=n[r],i=Object.keys(s.objects);for(let o=0;o<i.length;++o){const c=s.objects[i[o]].id;Wt(c)&&(kd(e,c,s.id),G(t[c])||(t[c]=0))}}}function RJ(t){const e=bt(He.MAIN),A=ZJ(e,t),n=Et(t),r=hA(n,t);return A&&G(r)}function Et(t){const e=bt(He.MAIN),A=Ta(e,t,"board"),n=MA(Oe.BOARD,A);return pr(n)}const Jn=kJ();function tu(t){Jn.halt(t)}function IJ(){const t=Jn.ids();for(let A=0;A<t.length;++A)Jn.halt(t[A]);const e=bt(He.MAIN);G(e)&&(e.flags={})}function lO(t){Jn.message(t)}function jJ(t){const e=mn(t),A=e.playbuffer=xe(e.playbuffer)?e.playbuffer:"";A&&hO(t,A,!1)}function zJ(t=!1){const e=bt(He.MAIN);if(!G(e))return;const A=e.timestamp+1,n=UF();n.forEach((s,i)=>{const o={..._};_.timestamp=e.timestamp,_.book=e,_.board=void 0,_.element=void 0,_.elementid="",_.elementisplayer=!1,_.elementfocus=gA();const a=EJ(i);G(a)&&Jn.arg(i,a),Jn.tick(i,Zi.LOADER,1,"loader",s),Jn.isended(i)&&(Jn.halt(i),n.delete(i)),Mn(o).forEach(c=>{_[c]=o[c]})}),e.timestamp=A,_.timestamp=A;const r=Bd(e);for(let s=0;s<r.length;++s){const i=r[s];tA(i);const o=Cce(i,A);for(let c=0;c<o.length;++c){const{id:l,type:u,code:h,object:f}=o[c];u===Oe.ERROR?Jn.halt(l):(!t||Wt(f?.id??""))&&uO(e,i,f,h)}const a=aK(i.id);if(a.length>0){const[c,l]=a[0],u=l-1;c&&(jm(te,"",i.id,c),console.info("play queue",i.id,c)),u>0?a[0]=["",u]:a.shift()}}}function uO(t,e,A,n){if(!G(t)||!G(e)||!G(A))return;const r={..._};_.book=t,_.board=e,_.element=A,_.elementid=A.id??"",_.elementisplayer=Wt(_.elementid);const s=_.element.player??gA();_.elementfocus=_.elementisplayer?_.elementid:s;const i=We(A,"cycle"),o=A.id??"",a=je(A.name??A.kinddata?.name??"");if(Jn.tick(o,Zi.RUNTIME,i,a,n),Ne(A?.tickertime)&&_.timestamp-A.tickertime>tG*5&&(A.tickertime=0,A.tickertext=""),_.elementisplayer){const c=mn(_.elementid);Ne(c.inputcurrent)&&(c.inputcurrent=0)}Mn(r).forEach(c=>{_[c]=r[c]})}function hO(t,e,A=!0){const n=zA(He.MAIN);if(!G(n))return;const r=`${t}_cli`;if(_.timestamp=n.timestamp,_.book=n,_.board=Et(t),_.element=hA(_.board,t),_.elementid=_.element?.id??"",_.elementisplayer=!0,_.elementfocus=_.elementid||t,Jn.once(r,Zi.CLI,"cli",e),A){const s=mn(t);s.playbuffer=e}}function Ed(t){const e=zA(He.MAIN),A=xi(e,t);if(!G(e)||!G(A))return;const n={..._},r=`${t}_run`,s=_.element?.name??_.element?.kinddata?.name??"",i=A?.code??"";Jn.once(r,Zi.RUNTIME,je(s),i),Mn(n).forEach(o=>{_[o]=n[o]})}function HJ(t,e){Jn.scrollunlock(t,e)}const i_={issolid:"ISSOLID",iswalk:"ISWALK",isswim:"ISSWIM",isbullet:"ISBULLET",isghost:"ISGHOST",iswalking:"ISWALK",iswalkable:"ISWALK",isswimming:"ISSWIM",isswimmable:"ISSWIM"};Fe.ISSOLID,Fe.ISWALK,Fe.ISSWIM,Fe.ISBULLET,Fe.ISGHOST,Fe.ISWALK,Fe.ISSWIM;function Nd(t){return st(t)&&o_(t[0])}function o_(t){return G(Fe[t])&&xe(t)}function fO(t){if(xe(t))return i_[je(t)]}function LJ(t){const e=_.words[t];if(Nd(e))return[e,t+1];if(o_(e))return[[e],t+1];const[A,n]=bn(t);return Nd(A)?[A,n]:o_(A)?[[A],n]:[void 0,t]}function sc(t,e=0){const A=[];let n=t;for(;n<_.words.length;){const[r,s]=bn(n);if(st(r)&&!Fn(r)&&!Au(r)&&!Nd(r)&&!NA(r)&&A.push(...r),r==="|")return[A,s];if(n=s,A.push(r),e>0&&A.length>=e)return[A,n]}return[A,n]}function bn(t){const e=_.words[t],A=t+1;if(c_(e)){const[n,r]=UJ(t);if(G(n))return[n,r]}if(fO(e)){const[n,r]=LJ(t);if(G(n))return[n,r]}if(ba(e)){const[n,r]=vh(t);if(G(n))return[n,r]}if(xe(e)&&je(e)==="rnd"){const[n,r]=bn(A),[s,i]=bn(r);return Ne(n)&&Ne(s)?[ln(n,s),i]:Ne(n)?[ln(0,n),r]:[ln(0,1),A]}if(il(e)){const[n,r]=VD(t);if(G(n))return[n,r]}if(!G(e))return[void 0,t];if(Ne(e)||st(e))return[e,A];if(xe(e)){const n=je(e),r=_.get?.(e);if(G(r))return[r,A];switch(n){case"aligned":case"alligned":{const s=eu(_.board,{x:_.element?.x??-1,y:_.element?.y??-1},_.elementfocus);return!G(_.element)||!G(s)?[0,A]:[_.element.x===s.x||_.element.y===s.y?1:0,A]}case"contact":{const s=eu(_.board,{x:_.element?.x??-1,y:_.element?.y??-1},_.elementfocus);if(!G(_.element)||!G(s))return[0,A];const i=(s.x??0)-(_.element?.x??0),o=(s.y??0)-(_.element?.y??0);return[i===0&&Math.abs(o)<2||o===0&&Math.abs(i)<2?1:0,A]}case"blocked":{const[s,i]=ce(_.words,A,[q.DIR]);return[kce(_.board,_.element,s.destpt)?1:0,i]}case"any":{const[s]=ce(_.words,A,[q.ANY]);if(Fn(s)){const[c,l,u]=ce(_.words,A,[q.DIR,q.COLOR_OR_KIND]);if(c.targets.length){const[f,d]=l,m=[];for(let p=0;p<c.targets.length;++p){const g=c.targets[p],w=["any","at",g.x,g.y,...st(d)?d:[],f].filter(v=>v!==void 0),[x]=ce(w,0,[q.ANY]);st(x)&&x.length&&m.push(...x)}return[m,u]}let h;switch(c.layer){default:case ve.MID:h=nt(_.board,c.destpt);break;case ve.GROUND:h=Mr(_.board,c.destpt.x,c.destpt.y);break}if(G(h)){const f=pA(h);if(NA(l))return[yh(l)===f.color||Dh(l)===f.bg?[h]:[],u];const d=je(Xl(l)),m=Dd(l);if((d.length&&d!==f.name||G(m)&&m!==f.color)===!1)return[[h],u]}return[[],u]}const[i,o]=ce(_.words,A,[q.COLOR_OR_KIND]);return NA(i)?[rO(_.board,i),o]:[vd(_.board,i),o]}case"countof":{const[s]=ce(_.words,A,[q.ANY]);if(Fn(s)){const[c,l,u]=ce(_.words,A,[q.DIR,q.COLOR_OR_KIND]);if(c.targets.length){let f=0;const[d,m]=l;for(let p=0;p<c.targets.length;++p){const g=c.targets[p],w=["countof","at",g.x,g.y,...st(m)?m:[],d].filter(v=>v!==void 0),[x]=ce(w,0,[q.ANY]);Ne(x)&&(f+=x)}return[f,u]}let h;switch(c.layer){default:case ve.MID:h=nt(_.board,c.destpt);break;case ve.GROUND:h=Mr(_.board,c.destpt.x,c.destpt.y);break}if(G(h)){const f=pA(h);if(NA(l))return[yh(l)===f.color||Dh(l)===f.bg?1:0,u];const d=je(Xl(l)),m=Dd(l),p=d.length?d===f.name:!0,g=G(m)?m===f.color:!0;if(p&&g)return[1,u]}return[0,u]}const[i,o]=ce(_.words,A,[q.COLOR_OR_KIND]);return NA(i)?[rO(_.board,i).length,o]:[vd(_.board,i).length,o]}case"rnd":return[ln(0,1),A];case"abs":{const[s,i]=ce(_.words,A,[q.NUMBER]);return[Math.abs(s),i]}case"intceil":{const[s,i]=ce(_.words,A,[q.NUMBER]);return[Math.ceil(s),i]}case"intfloor":{const[s,i]=ce(_.words,A,[q.NUMBER]);return[Math.floor(s),i]}case"intround":{const[s,i]=ce(_.words,A,[q.NUMBER]);return[Math.round(s),i]}case"clamp":{const[s,i,o,a]=ce(_.words,A,[q.NUMBER,q.NUMBER,q.NUMBER]);return[Yr(s,i,o),a]}case"min":{const[s,i]=sc(A);return[Math.min(...s),i]}case"max":{const[s,i]=sc(A);return[Math.max(...s),i]}case"pick":{const[s,i]=sc(A);return[ar(s),i]}case"pickwith":{const[s,i]=ce(_.words,A,[q.NUMBER_OR_STRING]),[o,a]=sc(i);return[I2(`${s}`,o),a]}case"random":{const[s,i]=sc(A,2),[o,a]=s;return[ln(o,a??0),i]}case"randomwith":{const[s,i]=ce(_.words,A,[q.NUMBER_OR_STRING]),[o,a]=sc(i,2),[c,l]=o;return[LD(`${s}`,c,l??0),a]}case"run":{const[s,i]=ce(_.words,A,[q.NAME]);return Ed(s),[_.get?.("arg"),i]}case"runwith":{const[s,i,o]=ce(_.words,A,[q.ANY,q.NAME]);return G(_.element)&&(_.element.arg=s),Ed(i),[_.get?.("arg"),o]}}}return[e,A]}const a_={isterrain:"ISTERRAIN",isobject:"ISOBJECT"};function Au(t){return st(t)&&dO(t[0])}function dO(t){return G(yn[t])&&xe(t)}function c_(t){if(xe(t))return a_[je(t)]}function mO(t){if(Au(t))return t;if(dO(t))return[t];const e=c_(t);if(G(e))return[e]}function UJ(t){const e=_.words[t],A=mO(e);if(Au(A))return[A,t+1];const[n,r]=bn(t),s=mO(n);return Au(s)?[s,r]:[void 0,t]}function Rn(t,e,A,n,r){const[s,i]=ce(r,0,[q.NUMBER_OR_STRING,q.MAYBE_NUMBER_OR_STRING]);Vx(te,t,e,A,n,s,i),GT(e,A,n,s,i)}const $J=["echo","reverb","autofilter","distortion","vibrato","fc","fcrush","autowah"];function l_(t,e,A,n){const[r,s]=ce(n,0,[q.NUMBER_OR_STRING]);if(Ne(r))zm(te,t,e,A,"volume",r),L0(e,A,"volume",r);else if($J.includes(je(r))){const[i,o]=ce(n,s,[q.NUMBER_OR_STRING,q.MAYBE_NUMBER_OR_STRING]);Vx(te,t,e,A,r,i,o),GT(e,A,r,i,o)}else{const[i]=ce(n,s,[q.MAYBE_NUMBER_OR_STRING]);if(Ne(i)){const o=n.length-s,a=new Array(o).fill(q.NUMBER),c=ce(n,s,a).slice(0,o),l=c.length===1?c[0]:c;zm(te,t,e,A,r,l),L0(e,A,r,l)}else{const[o]=ce(n,s,[q.MAYBE_NUMBER_OR_STRING]);zm(te,t,e,A,r,o),L0(e,A,r,o)}}}function pO(t,e){const[A]=ce(e,0,[q.MAYBE_NAME]);let n="";if(xe(A)){const r=t.get(A);n=xe(r)&&!G(c_(r))&&!G(fO(r))&&!G(ba(r))&&!G(il(r))?r:A}return n}function Yi(t,e,A){PZ(te,_.elementfocus,_.board?.id??"",pO(t,e),A)}const Td=Gi().command("ttsengine",(t,e)=>{const[A,n]=ce(e,0,[q.STRING,q.MAYBE_STRING]);return HZ(te,_.elementfocus,_.board?.id??"",A,n??""),0}).command("tts",(t,e)=>{const[A,n]=ce(e,0,[q.MAYBE_NUMBER_OR_STRING,q.MAYBE_STRING]);return G(A)&&G(n)?LZ(te,_.elementfocus,_.board?.id??"",A,n):xe(A)?UZ(te,_.elementfocus,_.board?.id??"",A):FZ(te,_.elementfocus,_.board?.id??""),0}).command("ttsqueue",(t,e)=>{const[A,n]=ce(e,0,[q.NUMBER_OR_STRING,q.STRING]);return $Z(te,_.elementfocus,_.board?.id??"",A,n),0}).command("bpm",(t,e)=>{const[A]=ce(e,0,[q.NUMBER]);return RZ(te,_.elementfocus,_.board?.id??"",A),0}).command("vol",(t,e)=>{const[A]=ce(e,0,[q.NUMBER]);return IZ(te,_.elementfocus,_.board?.id??"",A),0}).command("bgvol",(t,e)=>{const[A]=ce(e,0,[q.NUMBER]);return jZ(te,_.elementfocus,_.board?.id??"",A),0}).command("ttsvol",(t,e)=>{const[A]=ce(e,0,[q.NUMBER]);return zZ(te,_.elementfocus,_.board?.id??"",A),0}).command("play",(t,e)=>(cK(_.board?.id??"",pO(t,e)),0)).command("bgplay",(t,e)=>(Yi(t,e,""),0)).command("bgplayon64n",(t,e)=>(Yi(t,e,"@64n"),0)).command("bgplayon32n",(t,e)=>(Yi(t,e,"@32n"),0)).command("bgplayon16n",(t,e)=>(Yi(t,e,"@16n"),0)).command("bgplayon8n",(t,e)=>(Yi(t,e,"@8n"),0)).command("bgplayon4n",(t,e)=>(Yi(t,e,"@4n"),0)).command("bgplayon2n",(t,e)=>(Yi(t,e,"@2n"),0)).command("bgplayon1n",(t,e)=>(Yi(t,e,"@1m"),0)).command("synth",(t,e)=>{for(let A=0;A<4;++A)l_(_.elementfocus,_.board?.id??"",A,e);return 0}).command("synthrecord",(t,e)=>{const[A]=ce(e,0,[q.MAYBE_STRING]);return VZ(te,_.elementfocus,A??""),0}).command("synthflush",()=>(WZ(te,_.elementfocus),0)).command("echo",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"echo",e);return 0}).command("fcrush",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"fc",e);return 0}).command("autofilter",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"autofilter",e);return 0}).command("reverb",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"reverb",e);return 0}).command("distort",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"distort",e);return 0}).command("vibrato",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"vibrato",e);return 0}).command("autowah",(t,e)=>{for(let A=0;A<2;++A)Rn(_.elementfocus,_.board?.id??"",A,"autowah",e);return 0});for(let t=0;t<4;++t)Td.command(`synth${t+1}`,(e,A)=>{const n=_.board?.id??"";return l_(_.elementfocus,n,t,A),0});Td.command("synth5",(t,e)=>{for(let A=4;A<8;++A){const n=_.board?.id??"";l_(_.elementfocus,n,A,e)}return 0});for(let t=0;t<4;++t){const e=t+1;Td.command(`echo${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"echo",n),0}).command(`fcrush${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"fcrush",n),0}).command(`autofilter${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"autofilter",n),0}).command(`reverb${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"reverb",n),0}).command(`distort${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"distort",n),0}).command(`vibrato${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"vibrato",n),0}).command(`autowah${e}`,(A,n)=>{const r=_.board?.id??"";return Rn(_.elementfocus,r,t,"autowah",n),0})}function gO(t,e,A,n){for(let r=A.y;r<=n.y;++r)for(let s=A.x;s<=n.x;++s){const i=nt(e,{x:s,y:r});vt(i)&&KA(e,i,t.timestamp),Kt(e,{x:s,y:r})}}function FJ(t,e,A){for(let n=e.y;n<=A.y;++n)for(let r=e.x;r<=A.x;++r)Kt(t,{x:r,y:n})}function wO(t,e,A,n){for(let r=A.y;r<=n.y;++r)for(let s=A.x;s<=n.x;++s){const i=nt(e,{x:s,y:r});vt(i)&&KA(e,i,t.timestamp),Kt(e,{x:s,y:r})}}function So(t,e){G(t)&&(t.name=e.name,t.char=e.char,t.color=e.color,t.bg=e.bg,t.displaychar=e.displaychar,t.displaycolor=e.displaycolor,t.displaybg=e.displaybg,t.p1=e.p1,t.p2=e.p2,t.p3=e.p3,t.p4=e.p4,t.p5=e.p5,t.p6=e.p6,t.p7=e.p7,t.p8=e.p8,t.p9=e.p9,t.p10=e.p10,t.code=e.code,t.item=e.item,t.group=e.group,t.party=e.party,t.cycle=e.cycle,t.light=e.light,t.lightdir=e.lightdir,t.stepx=e.stepx,t.stepy=e.stepy,t.shootx=e.shootx,t.shooty=e.shooty,t.pushable=e.pushable,t.collision=e.collision,t.breakable=e.breakable,t.tickertext=e.tickertext,t.tickertime=e.tickertime)}function Yd(t,e,A,n,r){switch(r){case"all":case"object":case"terrain":break;default:return VJ(t,e,A,"",r)}if(!G(_.book))return;const s=_.book,i=lt(t);if(!G(i))return;const o=lt(e);if(!G(o))return;tA(i),tA(o);let a=!1;if(G(i)&&G(o)){switch(r){case"all":gO(s,o,A,n);break;case"object":wO(s,o,A,n);break;case"terrain":FJ(o,A,n);break;default:a=!0;break}for(let c=A.y;c<=n.y;++c)for(let l=A.x;l<=n.x;++l){let u=!1,h=!1;switch(r){case"all":u=!0,h=!0;break;case"object":u=!0;break;case"terrain":h=!0;break}const f={x:l,y:c};let d,m=nt(i,f);if(vt(m)?(d=Mr(i,l,c),Wt(m?.id)&&(m=void 0)):(d=m,m=void 0),G(d)&&(h||a&&We(d,"group")===r)){a&&gO(s,o,f,f);const p=Qn(o,[d.kind??""],f);So(p,d)}if(G(m)&&(u||a&&We(m,"group")===r)){a&&wO(s,o,f,f);const p=Qn(o,[m.kind??""],f);So(p,m)}}tA(o)}}function VJ(t,e,A,n,r){if(!G(_.book))return;const s=_.book,i=lt(t);if(!G(i))return;const o=lt(e);if(G(o)&&(tA(i),tA(o),G(i)&&G(o))){const{terrainelements:a,objectelements:c}=x4(i,n,r);if(a.length===0&&c.length===0)return;const l={x:Re,y:rt};for(let u=0;u<a.length;++u){const h=a[u];Ne(h.x)&&(l.x=Math.min(l.x,h.x)),Ne(h.y)&&(l.y=Math.min(l.y,h.y))}for(let u=0;u<c.length;++u){const h=c[u];Ne(h.x)&&(l.x=Math.min(l.x,h.x)),Ne(h.y)&&(l.y=Math.min(l.y,h.y))}for(let u=0;u<a.length;++u){const h=a[u],f={x:A.x+(h.x??0)-l.x,y:A.y+(h.y??0)-l.y},d=nt(o,f);G(d)&&(vt(d)&&KA(o,d,s.timestamp),Kt(o,f));const m=Qn(o,[h.kind??""],f);So(m,h)}for(let u=0;u<c.length;++u){const h=c[u],f={x:A.x+(h.x??0)-l.x,y:A.y+(h.y??0)-l.y},d=Qn(o,[h.kind??""],f);So(d,h)}tA(o)}}function Od(t,e,A){if(!G(_.element?.x)||!G(_.element.y))return 0;if(_.elementisplayer){const a=_.board?.maxplayershots??0;if(a>0&&Sce(_.board).filter(l=>!l.removed&&Wt(l.party)&&We(l,"collision")===Fe.ISBULLET).length>=a)return t.set("didshoot",0),t.yield(),0}const[n,r]=ce(e,0,[q.DIR,q.MAYBE_KIND]),[s]=r??[];if(je(s)==="player")return t.set("didshoot",0),t.yield(),0;_.element.shootx=Yr(n.destpt.x-n.startpt.x,-1,1),_.element.shooty=Yr(n.destpt.y-n.startpt.y,-1,1);const i=r??["bullet"],o=t7(_.board,i,{x:_.element.x,y:_.element.y});if(G(o)){G(A)&&(o.arg=A),o.cycle=1,o.party=_.element.party??_.element.id??"",o.collision=Fe.ISBULLET,o.breakable=1,o.stepx=n.destpt.x-_.element.x,o.stepy=n.destpt.y-_.element.y,o.bg=Xe.ONCLEAR;const a=Wn(o),c=o.code??a?.code??"";uO(_.book,_.board,o,c)}return _.elementisplayer&&t.set("didshoot",G(o)?1:0),t.yield(),0}function nu(t,e,A){if(!fi(_.element)||!G(_.book)||!G(_.board)||!G(_.element))return 0;const[n,r]=ce(t,0,[q.DIR,q.KIND]),[s]=r;if(je(s)==="player")return 0;if(n.targets.length){for(let h=0;h<n.targets.length;++h){const f=n.targets[h];nu(["at",f.x,f.y,...r],e,A)}return 0}const{destpt:i}=n;if(i.x<0||i.x>=Re||i.y<0||i.y>=rt)return 0;const[o]=r,a={x:_.element?.x??0,y:_.element?.y??0},c=Wn({kind:o});if(We(c,"collision")===Fe.ISGHOST)return Qn(_.board,r,n.destpt,e),0;let u=nt(_.board,n.destpt);if(vt(u)&&We(u,"pushable")){const h=JA(n.destpt),f=Xt(h,cr(a,h));Xn(_.book,_.board,u,f),u=nt(_.board,n.destpt)}if(o==="empty")return KA(_.board,u,_.timestamp),0;if(u?.kind===o){const[,h]=r;return io(u,h),0}if(vt(u)&&KA(_.board,u,_.timestamp),vt(c)||Qn(_.board,r,n.destpt,e),vt(c)){const h=Qn(_.board,r,n.destpt,e);G(h)&&G(A)&&(h.arg=A)}return 0}function Sd(t,e,A){if(!G(_.book)||!G(_.board))return 1;const[n,r]=ce(e,0,[q.DIR,q.DIR]),s=nt(_.board,n.destpt);if(G(s)&&G(s.kind)){const[i]=s.kind;if(je(i)==="player")return 1;const o=We(s,"collision"),a=R_(_.board,o,r.destpt);if(G(a))return 1;const c=Qn(_.board,[s.kind],r.destpt);if(!G(c))return 1;So(c,s),G(A)&&(c.arg=A)}else return 1;return 0}const WJ={x:0,y:0},QJ={x:Re-1,y:rt-1},qJ="all",KJ=Gi().command("build",(t,e)=>{if(!G(_.book)||!G(_.board)||!G(_.element))return 0;const[A,n]=ce(e,0,[q.NAME,q.MAYBE_STRING]),[r]=xo(He.TEMP,sA(),Oe.BOARD);if(!G(r))return 0;const s=pr(r);if(!G(s))return 0;if(xe(n)){const i=lt(n);if(G(i))switch(Yd(i.id,s.id,WJ,QJ,qJ),s.isdark=i.isdark,s.startx=i.startx,s.starty=i.starty,s.over=i.over,s.under=i.under,s.camera=i.camera,s.graphics=i.graphics,s.facing=i.facing,s.charset=i.charset,s.palette=i.palette,s.timelimit=i.timelimit,s.restartonzap=i.restartonzap,s.maxplayershots=i.maxplayershots,s.b1=i.b1,s.b2=i.b2,s.b3=i.b3,s.b4=i.b4,s.b5=i.b5,s.b6=i.b6,s.b7=i.b7,s.b8=i.b8,s.b9=i.b9,s.b10=i.b10,je(A)){case"exitwest":s.exiteast=_.board.id;break;case"exiteast":s.exitwest=_.board.id;break;case"exitnorth":s.exitsouth=_.board.id;break;case"exitsouth":s.exitnorth=_.board.id;break}}return t.set(A,s.id),0}).command("goto",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.STRING]),[r,s]=ce(e,n,[q.MAYBE_NUMBER,q.MAYBE_NUMBER]),i=lt(A);if(!G(i))return 0;tA(i);const o={x:r??i.startx??Math.round(Re*.5),y:s??i.starty??Math.round(rt*.5)},a=pA(_.element);if(a.name!=="player"){const c=We(_.element,"color"),l=We(_.element,"bg"),u=di(c,l),h=vd(i,[a.name,u]),[f]=h.sort((d,m)=>{const p=d.y??1e4,g=m.y??1e4,w=p-g;if(w!==0)return w;const x=d.x??1e4,v=m.x??1e4;return x-v});G(f)&&Ne(f.x)&&Ne(f.y)&&(o.x=f.x,o.y=f.y)}return Ti(_.book,_.elementfocus,i.id,o),0}).command("transport",(t,e)=>{if(!G(_.book)||!G(_.board)||!G(_.element))return 0;const[A]=ce(e,0,[q.STRING]),n=hA(_.board,A);if(G(_.element?.x)&&G(_.element.y)&&G(n?.x)&&G(n.y)){let r=!0;const s={x:_.element.x,y:_.element.y},i=s.x-n.x,o=s.y-n.y;if(We(_.element,"shootx")!==i||We(_.element,"shooty")!==o)return 0;for(;r&&(s.x+=i,s.y+=o,!(s.x<0||s.x>=Re||s.y<0||s.y>=rt));){const a=nt(_.board,s);a?.kind===_.element.kind&&We(a,"shootx")===-i&&We(a,"shooty")===-o&&Xn(_.book,_.board,n,{x:s.x+i,y:s.y+o})&&(r=!1)}r&&Xn(_.book,_.board,n,{x:_.element.x+i,y:_.element.y+o})}return 0}).command("shove",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.DIR,q.DIR]),r=nt(_.board,A.destpt);if(vt(r)){const s=A.destpt.x+(n.destpt.x-n.startpt.x),i=A.destpt.y+(n.destpt.y-n.startpt.y);Xn(_.book,_.board,r,{x:s,y:i})}return 0}).command("push",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.DIR,q.DIR]),r=nt(_.board,A.destpt);if(vt(r)&&We(r,"pushable")){const s=A.destpt.x+(n.destpt.x-n.startpt.x),i=A.destpt.y+(n.destpt.y-n.startpt.y);Xn(_.book,_.board,r,{x:s,y:i})}return 0}).command("duplicate",Sd).command("duplicatewith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return Sd(e.slice(n),A)}).command("dupe",Sd).command("dupewith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return Sd(e.slice(n),A)}).command("write",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n,r]=ce(e,0,[q.DIR,q.COLOR]),s=e.slice(r).map(Ct).join(" "),{color:i,bg:o}=_a(n),a=wJ(s,256,1)?.measuredwidth??1,c=qY(256,1,i??Xe.WHITE,o??Xe.BLACK);gJ(s,c);const l=a-1;switch(cr(A.startpt,A.destpt)){case ve.EAST:for(let h=0;h<a;++h)Kt(_.board,{x:A.destpt.x+h,y:A.destpt.y,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case ve.WEST:for(let h=0;h<a;++h)Kt(_.board,{x:A.destpt.x+h-l,y:A.destpt.y,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case ve.NORTH:for(let h=0;h<a;++h)Kt(_.board,{x:A.destpt.x,y:A.destpt.y+h-l,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case ve.SOUTH:for(let h=0;h<a;++h)Kt(_.board,{x:A.destpt.x,y:A.destpt.y+h,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break}return 0}).command("change",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.KIND,q.KIND]),[r]=A,[s]=n;if(je(r)==="player"||je(s)==="player")return 0;(Xl(A)??"")==="empty"&&OJ(_.board).forEach(l=>{Qn(_.board,n,l)});const o=Xl(n),a=Dd(n),c=nO(n);return vd(_.board,A).forEach(l=>{if(G(a)&&(l.color=a),G(c)&&(l.bg=c),pA(l).name!==o){const h=We(l,"color"),f=We(l,"bg");if(KA(_.board,l,_.timestamp),o!=="empty"){const d={x:l.x??0,y:l.y??0},m=Qn(_.board,n,d);G(m)&&(m.color=h,m.bg=f)}}}),0}).command("put",(t,e)=>nu(e)).command("putwith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return nu(e.slice(n),void 0,A)}).command("oneof",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return G(_.board)&&hA(_.board,A)?0:nu(e.slice(n),A)}).command("oneofwith",(t,e)=>{const[A,n,r]=ce(e,0,[q.ANY,q.ANY]);return G(_.board)&&hA(_.board,n)?0:nu(e.slice(r),n,A)}).command("shoot",Od).command("shootwith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return Od(t,e.slice(n),A)}).command("throwstar",(t,e)=>Od(t,[...e,"star"])).command("throwstarwith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);return Od(t,[...e.slice(n),"star"],A)});var JJ=`desc;$DKGRAYname and type of codepage
`,XJ=Object.freeze({__proto__:null,default:JJ}),eX=`desc;$DKGRAYShow admin scroll
`,tX=Object.freeze({__proto__:null,default:eX}),AX=`desc;$DKGRAYStart/stop/list AI agents; prompt with <id> <values>
`,nX=Object.freeze({__proto__:null,default:AX}),rX=`desc;$DKGRAYCreate array variable
`,sX=Object.freeze({__proto__:null,default:rX}),iX=`desc;$DKGRAYApply autofilter to fx 0-1
`,oX=Object.freeze({__proto__:null,default:iX}),aX=`desc;$DKGRAYAutofilter for fx 0
`,cX=Object.freeze({__proto__:null,default:aX}),lX=`desc;$DKGRAYAutofilter for fx 1
`,uX=Object.freeze({__proto__:null,default:lX}),hX=`desc;$DKGRAYAutofilter for fx 2
`,fX=Object.freeze({__proto__:null,default:hX}),dX=`desc;$DKGRAYApply autowah to fx 0-1
`,mX=Object.freeze({__proto__:null,default:dX}),pX=`desc;$DKGRAYAutowah for fx 0
`,gX=Object.freeze({__proto__:null,default:pX}),wX=`desc;$DKGRAYAutowah for fx 1
`,bX=Object.freeze({__proto__:null,default:wX}),_X=`desc;$DKGRAYAutowah for fx 2
`,xX=Object.freeze({__proto__:null,default:_X}),GX=`desc;$DKGRAYBBS login/publish actions
`,MX=Object.freeze({__proto__:null,default:GX}),yX="desc;$DKGRAYchanges object into specified element",DX=Object.freeze({__proto__:null,default:yX}),vX="desc;$DKGRAYlike #play but for sound effects",BX=Object.freeze({__proto__:null,default:vX}),kX=`desc;$DKGRAYQuantized bgplay on 16n
`,EX=Object.freeze({__proto__:null,default:kX}),NX=`desc;$DKGRAYQuantized bgplay on 1m
`,TX=Object.freeze({__proto__:null,default:NX}),YX=`desc;$DKGRAYQuantized bgplay on 2n
`,OX=Object.freeze({__proto__:null,default:YX}),SX=`desc;$DKGRAYQuantized bgplay on 32n
`,ZX=Object.freeze({__proto__:null,default:SX}),CX=`desc;$DKGRAYQuantized bgplay on 4n
`,PX=Object.freeze({__proto__:null,default:CX}),RX=`desc;$DKGRAYQuantized bgplay on 64n
`,IX=Object.freeze({__proto__:null,default:RX}),jX=`desc;$DKGRAYQuantized bgplay on 8n
`,zX=Object.freeze({__proto__:null,default:jX}),HX=`desc;$DKGRAYSet bgplay volume
`,LX=Object.freeze({__proto__:null,default:HX}),UX=`desc;$DKGRAYCopy code from named element
`,$X=Object.freeze({__proto__:null,default:UX}),FX=`desc;$DKGRAY
`,VX=Object.freeze({__proto__:null,default:FX}),WX=`desc;$DKGRAYUsed to move player to board
`,QX=Object.freeze({__proto__:null,default:WX}),qX=`desc;$DKGRAYList all boards as goto hyperlinks
`,KX=Object.freeze({__proto__:null,default:qX}),JX=`desc;$DKGRAYExport entire book as JSON (operator only)
`,XX=Object.freeze({__proto__:null,default:JX}),eee=`desc;$DKGRAYShow book export options (operator only)
`,tee=Object.freeze({__proto__:null,default:eee}),Aee=`desc;$DKGRAYRename the main book (operator only)
`,nee=Object.freeze({__proto__:null,default:Aee}),ree=`desc;$DKGRAYList all books
`,see=Object.freeze({__proto__:null,default:ree}),iee=`desc;$DKGRAYTrash a book by address (operator only)
`,oee=Object.freeze({__proto__:null,default:iee}),aee=`desc;$DKGRAYSet BPM
`,cee=Object.freeze({__proto__:null,default:aee}),lee=`desc;$DKGRAY
`,uee=Object.freeze({__proto__:null,default:lee}),hee=`desc;$DKGRAYStart/stop stream broadcast (operator only)
`,fee=Object.freeze({__proto__:null,default:hee}),dee=`desc;$DKGRAYCreate new board and write id to stat
`,mee=Object.freeze({__proto__:null,default:dee}),pee=`desc;$DKGRAYChange elements of one kind to another
`,gee=Object.freeze({__proto__:null,default:pee}),wee=`desc;$DKGRAYSet character (self or at direction)
`,bee=Object.freeze({__proto__:null,default:wee}),_ee=`desc;$DKGRAY
`,xee=Object.freeze({__proto__:null,default:_ee}),Gee=`desc;$DKGRAYStart/stop twitch chat integration (operator only)
`,Mee=Object.freeze({__proto__:null,default:Gee}),yee="desc;$DKGRAYClear variables (set to 0)",Dee=Object.freeze({__proto__:null,default:yee}),vee=`desc;$DKGRAYSet color (self or at direction)
`,Bee=Object.freeze({__proto__:null,default:vee}),kee=`desc;$DKGRAY
`,Eee=Object.freeze({__proto__:null,default:kee}),Nee=`desc;$DKGRAYCopy region from source to current board
`,Tee=Object.freeze({__proto__:null,default:Nee}),Yee=`desc;$DKGRAYSet element cycle value (1-255)
`,Oee=Object.freeze({__proto__:null,default:Yee}),See=`desc;$DKGRAYEnter dev mode / halt execution (operator only)
`,Zee=Object.freeze({__proto__:null,default:See}),Cee=`desc;$DKGRAYDelete element (halt execution unless @isitem)
`,Pee=Object.freeze({__proto__:null,default:Cee}),Ree=`desc;$DKGRAYApply distortion to fx 0-1
`,Iee=Object.freeze({__proto__:null,default:Ree}),jee=`desc;$DKGRAYDistortion for fx 0
`,zee=Object.freeze({__proto__:null,default:jee}),Hee=`desc;$DKGRAYDistortion for fx 1
`,Lee=Object.freeze({__proto__:null,default:Hee}),Uee=`desc;$DKGRAYDistortion for fx 2
`,$ee=Object.freeze({__proto__:null,default:Uee}),Fee=`desc;$DKGRAYstarts a do-done block
`,Vee=Object.freeze({__proto__:null,default:Fee}),Wee=`desc;$DKGRAYcompletes an if-do-done block
`,Qee=Object.freeze({__proto__:null,default:Wee}),qee=`desc;$DKGRAYDuplicate element at direction in given direction
`,Kee=Object.freeze({__proto__:null,default:qee}),Jee=`desc;$DKGRAYDuplicate element with argument
`,Xee=Object.freeze({__proto__:null,default:Jee}),ete="desc;$DKGRAYDuplicate element at direction in given direction",tte=Object.freeze({__proto__:null,default:ete}),Ate=`desc;$DKGRAYDuplicate element with argument
`,nte=Object.freeze({__proto__:null,default:Ate}),rte="desc;$DKGRAYApply echo effect to fx 0-1",ste=Object.freeze({__proto__:null,default:rte}),ite=`desc;$DKGRAYEcho for fx 0
`,ote=Object.freeze({__proto__:null,default:ite}),ate=`desc;$DKGRAYEcho for fx 1
`,cte=Object.freeze({__proto__:null,default:ate}),lte=`desc;$DKGRAYEcho for fx 2
`,ute=Object.freeze({__proto__:null,default:lte}),hte=`desc;$DKGRAYelse logic in an if-do-done block
`,fte=Object.freeze({__proto__:null,default:hte}),dte=`desc;$DKGRAYconditional else logic in an if-do-done block
`,mte=Object.freeze({__proto__:null,default:dte}),pte="desc;$DKGRAYEnd program (optionally set 'arg' variable)",gte=Object.freeze({__proto__:null,default:pte}),wte="desc;$DKGRAYSet health to 0",bte=Object.freeze({__proto__:null,default:wte}),_te=`desc;$DKGRAY
`,xte=Object.freeze({__proto__:null,default:_te}),Gte=`desc;$DKGRAYShow export menu (operator only)
`,Mte=Object.freeze({__proto__:null,default:Gte}),yte=`desc;$DKGRAYApply frequency crush to fx 0-1
`,Dte=Object.freeze({__proto__:null,default:yte}),vte=`desc;$DKGRAYFrequency crush for fx 0
`,Bte=Object.freeze({__proto__:null,default:vte}),kte=`desc;$DKGRAYFrequency crush for fx 1
`,Ete=Object.freeze({__proto__:null,default:kte}),Nte=`desc;$DKGRAYFrequency crush for fx 2
`,Tte=Object.freeze({__proto__:null,default:Nte}),Yte=`desc;$DKGRAYFetch URL with label, method, and optional data
`,Ote=Object.freeze({__proto__:null,default:Yte}),Ste=`desc;$DKGRAYFetch URL with argument, label, method, and optional data
`,Zte=Object.freeze({__proto__:null,default:Ste}),Cte=`desc;$DKGRAYHighlight matched elements
`,Pte=Object.freeze({__proto__:null,default:Cte}),Rte=`desc;$DKGRAY
`,Ite=Object.freeze({__proto__:null,default:Rte}),jte=`desc;$DKGRAYOpen tab with copy of state (operator only)
`,zte=Object.freeze({__proto__:null,default:jte}),Hte=`desc;$DKGRAYToggle built-in inspector
`,Lte=Object.freeze({__proto__:null,default:Hte}),Ute=`desc;$DKGRAYMove element in direction
`,$te=Object.freeze({__proto__:null,default:Ute}),Fte=`desc;$DKGRAYTeleport player to board by stat with optional x, y
`,Vte=Object.freeze({__proto__:null,default:Fte}),Wte=`desc;$DKGRAYShow help scroll
`,Qte=Object.freeze({__proto__:null,default:Wte}),qte=`desc;$DKGRAYhyperlink
`,Kte=Object.freeze({__proto__:null,default:qte}),Jte=`desc;$DKGRAYYield execution until next tick
`,Xte=Object.freeze({__proto__:null,default:Jte}),eAe=`desc;$DKGRAYevals condition for true or false
`,tAe=Object.freeze({__proto__:null,default:eAe}),AAe=`desc;$DKGRAYExport zip file for itch.io (operator only)
`,nAe=Object.freeze({__proto__:null,default:AAe}),rAe=`desc;$DKGRAYStart multiplayer session (operator only)
`,sAe=Object.freeze({__proto__:null,default:rAe}),iAe=`desc;$DKGRAYOpen new tab with the join url (operator only)
`,oAe=Object.freeze({__proto__:null,default:iAe}),aAe=`desc;$DKGRAYLoad code from object codepage into object at given direction
`,cAe=Object.freeze({__proto__:null,default:aAe}),lAe=`desc;$DKGRAYLock against external messages
`,uAe=Object.freeze({__proto__:null,default:lAe}),hAe=`desc;$DKGRAYDoes a countdown and reloads into an empty state (operator only)
`,fAe=Object.freeze({__proto__:null,default:hAe}),dAe=`desc;$DKGRAYUses given id to ensure only one element of given kind is made
`,mAe=Object.freeze({__proto__:null,default:dAe}),pAe=`desc;$DKGRAYPut element with argument and oneof logic
`,gAe=Object.freeze({__proto__:null,default:pAe}),wAe=`desc;$DKGRAYExport code page as JSON (operator only)
`,bAe=Object.freeze({__proto__:null,default:wAe}),_Ae=`desc;$DKGRAYOpen a code page editor
`,xAe=Object.freeze({__proto__:null,default:_Ae}),GAe=`desc;$DKGRAYList all pages in main book
`,MAe=Object.freeze({__proto__:null,default:GAe}),yAe=`desc;$DKGRAYTrash a code page (operator only)
`,DAe=Object.freeze({__proto__:null,default:yAe}),vAe=`desc;$DKGRAY
`,BAe=Object.freeze({__proto__:null,default:vAe}),kAe=`desc;$DKGRAYRotate board elements by degrees
`,EAe=Object.freeze({__proto__:null,default:kAe}),NAe="desc;$DKGRAYPlay music notes",TAe=Object.freeze({__proto__:null,default:NAe}),YAe=`desc;$DKGRAYShove target object in direction ONLY if pushable
`,OAe=Object.freeze({__proto__:null,default:YAe}),SAe="desc;$DKGRAYPut element in direction",ZAe=Object.freeze({__proto__:null,default:SAe}),CAe=`desc;$DKGRAYPut element with argument
`,PAe=Object.freeze({__proto__:null,default:CAe}),RAe=`desc;$DKGRAYRead property from object into variable
`,IAe=Object.freeze({__proto__:null,default:RAe}),jAe=`desc;$DKGRAYParse binary data
`,zAe=Object.freeze({__proto__:null,default:jAe}),HAe=`desc;$DKGRAYParse JSON data
`,LAe=Object.freeze({__proto__:null,default:HAe}),UAe=`desc;$DKGRAYParse text data
`,$Ae=Object.freeze({__proto__:null,default:UAe}),FAe=`desc;$DKGRAY
`,VAe=Object.freeze({__proto__:null,default:FAe}),WAe=`desc;$DKGRAYRemix from source with pattern size and mirror to current board
`,QAe=Object.freeze({__proto__:null,default:WAe}),qAe=`desc;$DKGRAY
`,KAe=Object.freeze({__proto__:null,default:qAe}),JAe=`desc;$DKGRAYRestart software, deletes all chip and player state (operator only)
`,XAe=Object.freeze({__proto__:null,default:JAe}),ene=`desc;$DKGRAYRestore all labels of given name
`,tne=Object.freeze({__proto__:null,default:ene}),Ane=`desc;$DKGRAYApply reverb to fx 0-1
`,nne=Object.freeze({__proto__:null,default:Ane}),rne=`desc;$DKGRAYReverb for fx 0
`,sne=Object.freeze({__proto__:null,default:rne}),ine=`desc;$DKGRAYReverb for fx 1
`,one=Object.freeze({__proto__:null,default:ine}),ane=`desc;$DKGRAYReverb for fx 2
`,cne=Object.freeze({__proto__:null,default:ane}),lne=`desc;$DKGRAYRevert board to snapshot state
`,une=Object.freeze({__proto__:null,default:lne}),hne=`desc;$DKGRAYRun object codepage of given name
`,fne=Object.freeze({__proto__:null,default:hne}),dne=`desc;$DKGRAYRun function with argument
`,mne=Object.freeze({__proto__:null,default:dne}),pne=`desc;$DKGRAYSave state to url (operator only)
`,gne=Object.freeze({__proto__:null,default:pne}),wne=`desc;$DKGRAYRegister screenshot for capture
`,bne=Object.freeze({__proto__:null,default:wne}),_ne=`desc;$DKGRAYsend
`,xne=Object.freeze({__proto__:null,default:_ne}),Gne="desc;$DKGRAYSet variable to value",Mne=Object.freeze({__proto__:null,default:Gne}),yne=`desc;$DKGRAYget share url (operator only)
`,Dne=Object.freeze({__proto__:null,default:yne}),vne=`desc;$DKGRAYShoot projectile, with optional kind
`,Bne=Object.freeze({__proto__:null,default:vne}),kne=`desc;$DKGRAYShoot projectile with argument
`,Ene=Object.freeze({__proto__:null,default:kne}),Nne=`desc;$DKGRAYshortsend
`,Tne=Object.freeze({__proto__:null,default:Nne}),Yne=`desc;$DKGRAYShove target object in direction
`,One=Object.freeze({__proto__:null,default:Yne}),Sne=`desc;$DKGRAYCreate board snapshot
`,Zne=Object.freeze({__proto__:null,default:Sne}),Cne=`desc;$DKGRAYstat
`,Pne=Object.freeze({__proto__:null,default:Cne}),Rne=`desc;$DKGRAYConfigure or restart 8track synth
`,Ine=Object.freeze({__proto__:null,default:Rne}),jne=`desc;$DKGRAYConfigure synth voice 1
`,zne=Object.freeze({__proto__:null,default:jne}),Hne=`desc;$DKGRAYConfigure synth voice 2
`,Lne=Object.freeze({__proto__:null,default:Hne}),Une=`desc;$DKGRAYConfigure synth voice 3
`,$ne=Object.freeze({__proto__:null,default:Une}),Fne=`desc;$DKGRAYConfigure synth voice 4
`,Vne=Object.freeze({__proto__:null,default:Fne}),Wne=`desc;$DKGRAYConfigure bgplay synth (voices 4-8)
`,Qne=Object.freeze({__proto__:null,default:Wne}),qne=`desc;$DKGRAYClear buffer of played notes
`,Kne=Object.freeze({__proto__:null,default:qne}),Jne=`desc;$DKGRAYRecord played note buffer to an mp3 file
`,Xne=Object.freeze({__proto__:null,default:Jne}),ere=`desc;$DKGRAYtext
`,tre=Object.freeze({__proto__:null,default:ere}),Are="desc;$DKGRAYThrow star projectile, shorthand for `#shoot <dir> star`\n",nre=Object.freeze({__proto__:null,default:Are}),rre=`desc;$DKGRAYThrow star with argument
`,sre=Object.freeze({__proto__:null,default:rre}),ire=`desc;$DKGRAYSets element ticker text
`,ore=Object.freeze({__proto__:null,default:ire}),are=`desc;$DKGRAYShow toast notification
`,cre=Object.freeze({__proto__:null,default:are}),lre=`desc;$DKGRAYMove element across board with transporter logic
`,ure=Object.freeze({__proto__:null,default:lre}),hre=`desc;$DKGRAYList books/codepages to delete (operator only)
`,fre=Object.freeze({__proto__:null,default:hre}),dre=`desc;$DKGRAYSpeak text with voice (or clear queue)
`,mre=Object.freeze({__proto__:null,default:dre}),pre=`desc;$DKGRAYSet TTS engine and config
`,gre=Object.freeze({__proto__:null,default:pre}),wre=`desc;$DKGRAYQueue TTS phrase
`,bre=Object.freeze({__proto__:null,default:wre}),_re=`desc;$DKGRAYSet TTS volume
`,xre=Object.freeze({__proto__:null,default:_re}),Gre=`desc;$DKGRAY
`,Mre=Object.freeze({__proto__:null,default:Gre}),yre=`desc;$DKGRAY
`,Dre=Object.freeze({__proto__:null,default:yre}),vre=`desc;$DKGRAYUnlock against messages from others
`,Bre=Object.freeze({__proto__:null,default:vre}),kre=`desc;$DKGRAYAutomate user input actions (up/down/left/right/etc)
`,Ere=Object.freeze({__proto__:null,default:kre}),Nre=`desc;$DKGRAYApply vibrato to fx 0-1
`,Tre=Object.freeze({__proto__:null,default:Nre}),Yre=`desc;$DKGRAYVibrato for fx 0
`,Ore=Object.freeze({__proto__:null,default:Yre}),Sre=`desc;$DKGRAYVibrato for fx 1
`,Zre=Object.freeze({__proto__:null,default:Sre}),Cre=`desc;$DKGRAYVibrato for fx 2
`,Pre=Object.freeze({__proto__:null,default:Cre}),Rre="desc;$DKGRAYSet main volume",Ire=Object.freeze({__proto__:null,default:Rre}),jre="desc;$DKGRAY",zre=Object.freeze({__proto__:null,default:jre}),Hre="desc;$DKGRAYWill cause element to move in direction each tick",Lre=Object.freeze({__proto__:null,default:Hre}),Ure="desc;$DKGRAYWeave board elements in direction",$re=Object.freeze({__proto__:null,default:Ure}),Fre="desc;$DKGRAYlooping do-done block",Vre=Object.freeze({__proto__:null,default:Fre}),Wre="desc;$DKGRAYSwitch to target board by id, name, or stat",Qre=Object.freeze({__proto__:null,default:Wre}),qre="desc;$DKGRAYSwitch to target object id",Kre=Object.freeze({__proto__:null,default:qre}),Jre="desc;$DKGRAYWrite text to board at direction",Xre=Object.freeze({__proto__:null,default:Jre}),ese="desc;$DKGRAYDe-activate first label of given name",tse=Object.freeze({__proto__:null,default:ese}),Ase=`desc;$DKGRAYGet random ZZT content
`,nse=Object.freeze({__proto__:null,default:Ase}),rse=`desc;$DKGRAYSearch ZZT content by field and text
`,sse=Object.freeze({__proto__:null,default:rse}),ise=`desc;$DKGRAYdesignates an inactive label or comment
`,ose=Object.freeze({__proto__:null,default:ise}),ase=`desc;$DKGRAYadds hyperlink text

`,cse=Object.freeze({__proto__:null,default:ase}),lse=`desc;$DKGRAYsends the given message when hotkey is pressed

`,use=Object.freeze({__proto__:null,default:lse}),hse=`desc;$DKGRAYread number input into given stat/flag
`,fse=Object.freeze({__proto__:null,default:hse}),dse=`desc;$DKGRAYa slider input from 1 to 9 

`,mse=Object.freeze({__proto__:null,default:dse}),pse=`desc;$DKGRAYlist with label value pairs to pick from
`,gse=Object.freeze({__proto__:null,default:pse}),wse=`desc;$DKGRAYread text input into given stat/flag
`,bse=Object.freeze({__proto__:null,default:wse}),_se=`desc;$DKGRAYdesignates a starting point for running code
`,xse=Object.freeze({__proto__:null,default:_se}),Gse=`desc;$DKGRAYwaits until the object can move in the given direction and moves
`,Mse=Object.freeze({__proto__:null,default:Gse}),yse=`desc;$DKGRAYwill move the object in the given direction
`,Dse=Object.freeze({__proto__:null,default:yse}),vse=`desc;$DKGRAYcreates a 60x25 space for terrain and object elements
`,Bse=Object.freeze({__proto__:null,default:vse}),kse=`desc;$DKGRAYcustom 8x14 charset
`,Ese=Object.freeze({__proto__:null,default:kse}),Nse=`desc;$DKGRAYsets stat to given value

`,Tse=Object.freeze({__proto__:null,default:Nse}),Yse=`desc;$DKGRAYsends the given message when hotkey is pressed

`,Ose=Object.freeze({__proto__:null,default:Yse}),Sse=`desc;$DKGRAYread external content and/or handle events
`,Zse=Object.freeze({__proto__:null,default:Sse}),Cse=`desc;$DKGRAYread number input into given stat/flag
`,Pse=Object.freeze({__proto__:null,default:Cse}),Rse=`desc;$DKGRAYelements that can walk, swim, or be used with #shoot

`,Ise=Object.freeze({__proto__:null,default:Rse}),jse=`desc;$DKGRAYcustom palette colors
`,zse=Object.freeze({__proto__:null,default:jse}),Hse=`desc;$DKGRAYa slider input from 1 to 9 

`,Lse=Object.freeze({__proto__:null,default:Hse}),Use=`desc;$DKGRAYlist with label value pairs to pick from
`,$se=Object.freeze({__proto__:null,default:Use}),Fse=`desc;$DKGRAYterrain for solid, walkable, swimable board elements
`,Vse=Object.freeze({__proto__:null,default:Fse}),Wse=`desc;$DKGRAYread text input into given stat/flag
`,Qse=Object.freeze({__proto__:null,default:Wse}),qse=`desc;$DKGRAYadds text
`,Kse=Object.freeze({__proto__:null,default:qse}),Jse=`$white no pages found
$white use @ to create a page
$white @board name of board
$white @object name of object
$white @terrain name of terrain
$white You can omit the type and it will default to object
$white @object name of object
$white @name of object`,Xse=Object.freeze({__proto__:null,default:Jse}),eie=`section;legend
s1, s2, s3, s4 = sound sources/operators
m = modulator
c = carrier
--> = signal flow
section;algo0
S1 --> M --> S2 --> M --> S3 --> M --> S4 --> C
`,tie=Object.freeze({__proto__:null,default:eie}),Aie=`section;#autofilter on
#autofilter <number>
$white 0-100, 0 is off, 100 is full volume
#autofilter depth <number>
$white Controls the intensity of the filter.
#autofilter frequency <number>
$white The rate of oscilation of the effect.
#autofilter octaves <number>
$white Controls the range of the effect.
#autofilter q <number>
$white Sets the intensity of the effect.
#autofilter type <lowpass, highpass, ...>
$white Sets the behavior of the filter.
!openit https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode/type;filter types`,nie=Object.freeze({__proto__:null,default:Aie}),rie=`section;#autowah on
#autowah <number>
$white 0-100, 0 is off, 100 is full volume
#autowah basefrequency <frequency>
$white The frequency the filter is set to at the
$white low point of the wah.
#autowah octaves <number>
$white The number of octaves above the baseFrequency 
$white the filter will sweep to when fully open.
#autowah sensitivity <number>
$white The decibel threshold sensitivity for 
$white the incoming signal.
$white Normal range of -40 to 0.
#autowah gain <number>
$white Controls the loudness of the effect.
#autowah follower <seconds>
$white Sets the smoothing time for the effect.`,sie=Object.freeze({__proto__:null,default:rie}),iie=`press$white C$yellow to chat
press$white #$yellow to run a quick command
section;dev-tools
#gadget
$white toggles inspector tool on/off
#zztrandom
$white downloads random from the museumofzzt api
#zztsearch <field> <value>
$white searches the museumofzzt api for zzt games
section;multi-player
#set user <name>
$white sets your display name when talking to others
#joincode OR $meta+O 
$white starts a multi-player session showing a
$white QR code. It also provides are sharable link
$white you can give to other to join the game.`,oie=Object.freeze({__proto__:null,default:iie}),aie=`section;element - movement and state
#go <dir>
$whitemove element one step
#walk <dir>
$whiteset step for continuous movement
#idle
$whitepause until next tick
#set <name> <value>
$whiteset stat or variable
#clear <stat>
$whiteset stats to 0
#cycle <1-255>
$whiteset element cycle speed
section;element - transformation
#become <kind>
$whitetransform into kind
#char [dir] <value>
$whiteset char at dir or self
#color [dir] <color>
$whiteset color at dir or self
#bind <name>
$whiteset copy code from named element
section;element - lifecycle
#end [result]
$whiteend program, optional arg
#die
$whitedelete element
#lock / #unlock
$whitelock or unlock chip
#restore <id>
$whiterestore labels
#zap <id>
$whitedeactivate label
section;element - execution
#run <func>
$whiterun codepage by name
#runwith <arg> <func>
$whiterun with argument
#load <dir> [action]
$whiteload code from object
#read <from> <prop> <name>
$whiteread property into stat
#array <name> val
$whiteset stat to array
section;element - ui
#toast text
$whiteshow toast notification
#ticker text
$whiteset ticker text
section;board - navigation
#build <stat> [source]
$whitecreate board, write id to stat
#goto <stat> [x y]
$whiteteleport player to board
#transport <target>
$whitemove object along transporter
section;board - placement
#put <dir> <kind>
$whiteplace element at direction
#putwith <arg> <dir> <kind>
$whiteplace with arg
#oneof <mark> <dir> <kind>
$whiteplace only if none with mark
#oneofwith <arg> <mark> <dir> <kind>
$whiteoneof with arg
#write <dir> <color> text
$whitewrite colored text
section;board - projectiles
#shoot <dir> [kind]
$whiteshoot bullet
#shootwith <arg> <dir> [kind]
$whiteshoot with arg
#throwstar <dir>
$whiteshoot star
#throwstarwith <arg> <dir>
$whitestar with arg
section;board - manipulation
#duplicate / #dupe <dir> <dupedir>
$whiteduplicate element
#duplicatewith / #dupewith <arg> <dir> <dupedir>
$whitedupe with arg
#shove <dir> <movedir>
$whitemove object
#push <dir> <movedir>
$whiteshove if pushable only
#change <target> <into>
$whitechange elements to kind
section;transforms
#snapshot
$whitesave board state
#revert
$whiterestore snapshot
#copy <stat> [filter]
$whitecopy region from board
#remix <stat> <size> <mirror> [filter]
$whiteremix with pattern
#weave <dir> [filter]
$whiteshift/wrap board
#pivot <degrees> [filter]
$whiterotate by degrees
section;loader - file read
#readline <kind> [args]
$whiteread text line or regex
#readjson <jmespath> <name>
$whitequery json into stat
#readbin <kind> [args]
$whiteread binary (uint8, int16, etc)
section;loader - context
#withboard <stat>
$whiteset board context
#withobject <id>
$whiteset element context
#userinput <action>
$whitesimulate input (up, down, ok, etc)
section;network
#fetch <label> <url> [method] [args]
$whitehttp request, callback at label
#fetchwith <arg> <label> <url> [method] [args]
$whitefetch with arg
section;audio - playback
#play [buffer]
$whiteplay music
#bgplay [buffer]
$whitebackground play
#bgplayon64n $26 #bgplayon1n
$whitequantized bg play
#vol / #bgvol <volume>
$whiteset volume
#bpm <bpm>
$whiteset tempo
section;audio - synthesis
#synth [config]
$whiteconfigure play voices
#synth1  #synth5
$whiteper-voice config
#synthrecord [filename]
$whiterecord output
#synthflush
$whiteclear synth buffer
section;audio - tts
#ttsengine <engine> [config]
$whiteset tts engine
#tts [voice] [phrase]
$whitespeak or clear queue
#ttsqueue <voice> <phrase>
$whitequeue phrase
#ttsvol <volume>
$whiteset tts volume
section;audio - effects
#echo / #fcrush / #autofilter
$whitevoices 0 $26 1
#reverb / #distort / #vibrato / #autowah
$whitevoices 0 $26 1
#echo1-3, #reverb1-3, etc
$whiteper-voice
section;runtime
#send <spec>
$whitedispatch to elements
#shortsend <spec>
$whiteshort send
#text text
$whiteset gadget text
#hyperlink <label> words
$whitecreate hyperlink
#help
$whiteopen reference scroll
#endgame
$whiteset health to 0
`,cie=Object.freeze({__proto__:null,default:aie}),lie=`section;#distort on
#distort <number>
$white 0-100, 0 is off, 100 is full volume
#distort distortion <number>
$white 0 or higher, controls strength of effect.
#distort oversample <2x|4x|none>
$white oversample improves quality.`,uie=Object.freeze({__proto__:null,default:lie}),hie=`section;#echo on
#echo <number>
$white 0-100, 0 is off, 100 is full volume
#echo delaytime <seconds>
$white duration between echos.
#echo feedback <number>
$white A number that is between [0, 1]
$white 1 is forever feedback and 0 is none.`,fie=Object.freeze({__proto__:null,default:hie}),die=`!fcrushscroll hk c C next;#fcrush on
!echoscroll hk e E next;#echo on
!reverbscroll hk r R next;#reverb on
!autofilterscroll hk f F next;#autofilter on
!distortscroll hk d D next;#distort on
!vibratoscroll hk v V next;#vibrato on
!autowahscroll hk w W next;#autowah on`,mie=Object.freeze({__proto__:null,default:die}),pie=`section;#fcrush on
#fcrush <number>
$white 0-100, 0 is off, 100 is full volume
#fcrush rate <number>
$white 1 or higher, more rate, more crush`,gie=Object.freeze({__proto__:null,default:pie}),wie=`section;keyboard input
option;arrow keys;$greenmove
option;shift + arrow keys;$greenshoot
option;enter;$greenok / accept
option;escape;$greencancel / close
option;tab;$greenmenu / layout
section;controller input
option;left stick;$greenmove
option;right stick;$greenshoot
option;left trigger;$greenalt
option;right trigger;$green$meta
option;left shoulder;$greencancel / close
option;right shoulder;$greenok / accept
option;d-pad;$greenmove
option;a X;$greenshoot down
option;b $9;$greenshoot right
option;x $254;$greenshoot left
option;y $30;$greenshoot up
option;menu;$greenmenu / change layout
`,bie=Object.freeze({__proto__:null,default:wie}),_ie=`option;#books;list books in memory
option;#pages;list pages in opened book
option;@[pagetype:]page name;create & edit a new codepage in the currently opened book
option;#trash;list books and pages from open book you can delete
option;#save;flush state to register
option;#share;creates a click to copy share url and QR code
`,xie=Object.freeze({__proto__:null,default:_ie}),Gie=`!helpcontrols hk c C next;read help on controls
!helptext hk t T next;read help on text and inputs
"
keyboard input
option;? or /;$greenopen cli
option;esc;$greenclose cli, scroll, or editor
option;tab;$greenchange layout
option;up or down arrow keys;$greennavigate cli lines
option;left or right arrow keys;$greenchange cli lines
option;enter;$greenaction on selected line
option;alt + arrow keys;$greenskip words and cli lines
option;$meta + up / down arrow keys;$greeninput history`,Mie=Object.freeze({__proto__:null,default:Gie}),yie=`player settings
$white#set user "name goes here"
`,Die=Object.freeze({__proto__:null,default:yie}),vie=`section;typography
plain text
use $34@quoted strings for special chars$34
$$0-255 for ascii chars $159$176$240
use color names like $RED$$red$yellow to change
 foreground color
use color names like $black$ONGREEN$$ongreen$ONCLEAR$yellow to change
 background color
use onclear $WHITE$$onclear$yellow to change
 background to transparent
section;hyperlinks
"
option;!message$59 Label;
send the given #message when the
<hyperlink> is pressed
"
option;!message hotkey <shortcut>$59 Label;
option;!message hk <shortcut>$59 Label;
send the given #message when the <shortcut>
is pressed. is-hotkey listens for <shortcut>
!openit https://github.com/ianstormtaylor/is-hotkey;$whiteis-hotkey on https://github.com/
"
option;!flagorstat range [minword] [maxword]$59 Label;
option;!flagorstat rn [minword] [maxword]$59 Label;
uses the standard 1 to 9 values input range
[minword] is the label for value 1
[maxword] is the label for value 9
write user range input into a flagorstat
"
option;!flagorstat select <choices>$59 Label;
option;!flagorstat sl <choices>$59 Label;
<choices> is a list of <word> <value> pairs
select gives a user a way to cycle through
preset choices
write user select input into a flagorstat
"
option;!flagorstat number$59 Label;
option;!flagorstat nm$59 Label;
write user number input into a flagorstat
"
option;!flagorstat text$59 Label;
option;!flagorstat tx$59 Label;
write user text input into a flagorstat
"
option;!copyit content goes here$59 Label;
copies given content into the clipboard
"
option;!openit url$59 Label;
opens the given url in a new browser tab
"
option;!runit content goes here$59 Label;
opens the cli, with the input filled out with 
the given content`,Bie=Object.freeze({__proto__:null,default:vie}),kie=`!helpmenu hk 1 1 next;controls and $greenstart here
!objectlistscroll hk 2 2 next;list object elements
!terrainlistscroll hk 3 3 next;list terrain elements
!adminscroll hk 4 4 next;cpu #admin
!cliscroll hk t T next;cli commands
!commandsscroll hk d D next;dictionary of all commands
!charscroll hk a A next;char
!colorscroll hk c C next;color
!bgscroll hk b B next;bg
!notesscroll hk n N next;notes
!synthscroll hk s S next;synth
!effectsscroll hk e E next;effects
!voicescroll hk v V next;tts voices
`,Eie=Object.freeze({__proto__:null,default:kie}),Nie=`"duration             cdefgab = notes 
"y = 64th note        x = rest
"t = 32nd note        
"s = 16th note        drums
"i = eight note       0 = hihat
"q = quarter note     1 = open hihat
"h = half note        2 = cowbell
"w = whole note       p = clap
"mods                 4 = high snare
"3 = triplet          5 = high woodblock
". = time and a half  6 = low snare
"# = sharp            7 = low tom
"! = flat             8 = low woodblock
"+ = increase octave  9 = bass drum
"- = decrease octave
helpful resource on scales
!openit https://www.pianoscales.org/;https://www.pianoscales.org/`,Tie=Object.freeze({__proto__:null,default:Nie}),Yie=`section;sine, square, triangle, sawtooth
#synth phase <degrees>
$white The phase is the starting position within 
$white the oscillator's cycle. For example a phase 
$white of 180 would start halfway through the
$white oscillator's cycle.
section;amsine, amsquare, amtriangle, amsawtooth
#synth harmonicity <number>
$white Harmonicity is the frequency ratio between 
$white the carrier and the modulator oscillators.
$white A harmonicity of 1 gives both oscillators 
$white the same frequency. Harmonicity = 2 
$white means a change of an octave.
#synth modtype <sine, square, triangle, sawtooth>
#synth modenv <a> <d> <s> <r> - in seconds
section;fmsine, fmsquare, fmtriangle, fmsawtooth
#synth harmonicity <number>
$white Harmonicity is the frequency ratio between 
$white the carrier and the modulator oscillators.
$white A harmonicity of 1 gives both oscillators 
$white the same frequency. Harmonicity = 2 
$white means a change of an octave.
#synth modtype <sine, square, triangle, sawtooth>
#synth modenv <a> <d> <s> <r> - in seconds
#synth modindex <degrees>
$white The modulation index which is in essence
$white the depth or amount of the modulation.
$white In other terms it is the ratio of the 
$white frequency of the modulating signal (mf) 
$white to the amplitude of the modulating signal 
$white (ma) -- as in ma/mf
section;fatsine, fatsquare, fattriangle, fatsawtooth
#synth phase <degrees>
#synth count <number>
$white This sets the number of oscillators to 
$white spread along the given range.
#synth spread <cents>
$white This signals the number of cents between
$white oscillators.`,Oie=Object.freeze({__proto__:null,default:Yie}),Sie=`section;pulse
#synth width <range>
$white A number that is between [-1, 1] altering
$white this value changes the shape of the square
$white wave`,Zie=Object.freeze({__proto__:null,default:Sie}),Cie=`section;pwm
#synth modfreq <frequency>
$white This sets the frequency of change for the 
$white pulse width of this oscillator.`,Pie=Object.freeze({__proto__:null,default:Cie}),Rie=`section;#reverb on
#reverb <number>
$white 0-100, 0 is off, 100 is full volume
#reverb predelay <seconds>
$white The amount of time before the reverb
$white is fully ramped in.
#reverb decay <seconds>
$white The duration of the reverb.
`,Iie=Object.freeze({__proto__:null,default:Rie}),jie=`switching voices
#synth <sine, square, triangle, sawtooth> 
#synth <pwm, pulse, bells, doot>
#synth <retro, buzz, clang, metallic>
#synth <retro, buzz, clang, metallic>
#synth <algo0, algo1, ... ,algo7> 
voice settings
#synth restart - resets voice to default
#synth vol <db> - control volume
#synth port <seconds>
#synth env <attack> <delay> <sustain> <release>
voice specific 
!oscscroll hk o O next;sine, square, triangle, sawtooth
!pwmscroll hk m M next;pwm
!pulsescroll hk p P next;pulse
!algoscroll hk a A next;algo0 -> algo7
`,zie=Object.freeze({__proto__:null,default:jie}),Hie=`section;#vibrato on
#vibrato <number>
$white 0-100, 0 is off, 100 is full volume
#vibrato maxdelay <seconds>
$white longer delay increases the vibrato`,Lie=Object.freeze({__proto__:null,default:Hie}),Uie=`update this to explain

#tts
#ttsqueue
#ttsengine
`,$ie=Object.freeze({__proto__:null,default:Uie}),Zo=(t=>(t[t.Border=-1]="Border",t[t.Data=0]="Data",t[t.Function=1]="Function",t[t.Position=2]="Position",t[t.Timing=3]="Timing",t[t.Alignment=4]="Alignment",t))(Zo||{}),Fie=Object.defineProperty,Vie=(t,e,A)=>e in t?Fie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:A}):t[e]=A,Zd=(t,e,A)=>(Vie(t,typeof e!="symbol"?e+"":e,A),A);const Wie=[0,1],bO=[1,0],_O=[2,3],xO=[3,2],Qie={L:Wie,M:bO,Q:_O,H:xO},qie=/^[0-9]*$/,Kie=/^[A-Z0-9 $%*+.\/:-]*$/,u_="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",h_=1,f_=40,GO=3,Jie=3,Cd=40,Xie=10,MO=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],yO=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class eoe{constructor(e,A,n,r){if(this.version=e,this.ecc=A,Zd(this,"size"),Zd(this,"mask"),Zd(this,"modules",[]),Zd(this,"types",[]),e<h_||e>f_)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=e*4+17;const s=Array.from({length:this.size},()=>!1);for(let o=0;o<this.size;o++)this.modules.push(s.slice()),this.types.push(s.map(()=>0));this.drawFunctionPatterns();const i=this.addEccAndInterleave(n);if(this.drawCodewords(i),r===-1){let o=1e9;for(let a=0;a<8;a++){this.applyMask(a),this.drawFormatBits(a);const c=this.getPenaltyScore();c<o&&(r=a,o=c),this.applyMask(a)}}this.mask=r,this.applyMask(r),this.drawFormatBits(r)}getModule(e,A){return e>=0&&e<this.size&&A>=0&&A<this.size&&this.modules[A][e]}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2===0,Zo.Timing),this.setFunctionModule(n,6,n%2===0,Zo.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const e=this.getAlignmentPatternPositions(),A=e.length;for(let n=0;n<A;n++)for(let r=0;r<A;r++)n===0&&r===0||n===0&&r===A-1||n===A-1&&r===0||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){const A=this.ecc[1]<<3|e;let n=A;for(let s=0;s<10;s++)n=n<<1^(n>>>9)*1335;const r=(A<<10|n)^21522;for(let s=0;s<=5;s++)this.setFunctionModule(8,s,Xs(r,s));this.setFunctionModule(8,7,Xs(r,6)),this.setFunctionModule(8,8,Xs(r,7)),this.setFunctionModule(7,8,Xs(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,Xs(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,Xs(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,Xs(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let n=0;n<12;n++)e=e<<1^(e>>>11)*7973;const A=this.version<<12|e;for(let n=0;n<18;n++){const r=Xs(A,n),s=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(s,i,r),this.setFunctionModule(i,s,r)}}drawFinderPattern(e,A){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const s=Math.max(Math.abs(r),Math.abs(n)),i=e+r,o=A+n;i>=0&&i<this.size&&o>=0&&o<this.size&&this.setFunctionModule(i,o,s!==2&&s!==4,Zo.Position)}}drawAlignmentPattern(e,A){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,A+n,Math.max(Math.abs(r),Math.abs(n))!==1,Zo.Alignment)}setFunctionModule(e,A,n,r=Zo.Function){this.modules[A][e]=n,this.types[A][e]=r}addEccAndInterleave(e){const A=this.version,n=this.ecc;if(e.length!==Pd(A,n))throw new RangeError("Invalid argument");const r=yO[n[0]][A],s=MO[n[0]][A],i=Math.floor(m_(A)/8),o=r-i%r,a=Math.floor(i/r),c=[],l=coe(s);for(let h=0,f=0;h<r;h++){const d=e.slice(f,f+a-s+(h<o?0:1));f+=d.length;const m=loe(d,l);h<o&&d.push(0),c.push(d.concat(m))}const u=[];for(let h=0;h<c[0].length;h++)c.forEach((f,d)=>{(h!==a-s||d>=o)&&u.push(f[h])});return u}drawCodewords(e){if(e.length!==Math.floor(m_(this.version)/8))throw new RangeError("Invalid argument");let A=0;for(let n=this.size-1;n>=1;n-=2){n===6&&(n=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){const i=n-s,a=(n+1&2)===0?this.size-1-r:r;!this.types[a][i]&&A<e.length*8&&(this.modules[a][i]=Xs(e[A>>>3],7-(A&7)),A++)}}}applyMask(e){if(e<0||e>7)throw new RangeError("Mask value out of range");for(let A=0;A<this.size;A++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+A)%2===0;break;case 1:r=A%2===0;break;case 2:r=n%3===0;break;case 3:r=(n+A)%3===0;break;case 4:r=(Math.floor(n/3)+Math.floor(A/2))%2===0;break;case 5:r=n*A%2+n*A%3===0;break;case 6:r=(n*A%2+n*A%3)%2===0;break;case 7:r=((n+A)%2+n*A%3)%2===0;break;default:throw new Error("Unreachable")}!this.types[A][n]&&r&&(this.modules[A][n]=!this.modules[A][n])}}getPenaltyScore(){let e=0;for(let s=0;s<this.size;s++){let i=!1,o=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[s][c]===i?(o++,o===5?e+=GO:o>5&&e++):(this.finderPenaltyAddHistory(o,a),i||(e+=this.finderPenaltyCountPatterns(a)*Cd),i=this.modules[s][c],o=1);e+=this.finderPenaltyTerminateAndCount(i,o,a)*Cd}for(let s=0;s<this.size;s++){let i=!1,o=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[c][s]===i?(o++,o===5?e+=GO:o>5&&e++):(this.finderPenaltyAddHistory(o,a),i||(e+=this.finderPenaltyCountPatterns(a)*Cd),i=this.modules[c][s],o=1);e+=this.finderPenaltyTerminateAndCount(i,o,a)*Cd}for(let s=0;s<this.size-1;s++)for(let i=0;i<this.size-1;i++){const o=this.modules[s][i];o===this.modules[s][i+1]&&o===this.modules[s+1][i]&&o===this.modules[s+1][i+1]&&(e+=Jie)}let A=0;for(const s of this.modules)A=s.reduce((i,o)=>i+(o?1:0),A);const n=this.size*this.size,r=Math.ceil(Math.abs(A*20-n*10)/n)-1;return e+=r*Xie,e}getAlignmentPatternPositions(){if(this.version===1)return[];{const e=Math.floor(this.version/7)+2,A=this.version===32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,n=[6];for(let r=this.size-7;n.length<e;r-=A)n.splice(1,0,r);return n}}finderPenaltyCountPatterns(e){const A=e[1],n=A>0&&e[2]===A&&e[3]===A*3&&e[4]===A&&e[5]===A;return(n&&e[0]>=A*4&&e[6]>=A?1:0)+(n&&e[6]>=A*4&&e[0]>=A?1:0)}finderPenaltyTerminateAndCount(e,A,n){return e&&(this.finderPenaltyAddHistory(A,n),A=0),A+=this.size,this.finderPenaltyAddHistory(A,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,A){A[0]===0&&(e+=this.size),A.pop(),A.unshift(e)}}function Js(t,e,A){if(e<0||e>31||t>>>e)throw new RangeError("Value out of range");for(let n=e-1;n>=0;n--)A.push(t>>>n&1)}function Xs(t,e){return(t>>>e&1)!==0}class d_{constructor(e,A,n){if(this.mode=e,this.numChars=A,this.bitData=n,A<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}}const toe=[1,10,12,14],Aoe=[2,9,11,13],noe=[4,8,16,16];function DO(t,e){return t[Math.floor((e+7)/17)+1]}function vO(t){const e=[];for(const A of t)Js(A,8,e);return new d_(noe,t.length,e)}function roe(t){if(!BO(t))throw new RangeError("String contains non-numeric characters");const e=[];for(let A=0;A<t.length;){const n=Math.min(t.length-A,3);Js(Number.parseInt(t.substring(A,A+n),10),n*3+1,e),A+=n}return new d_(toe,t.length,e)}function soe(t){if(!kO(t))throw new RangeError("String contains unencodable characters in alphanumeric mode");const e=[];let A;for(A=0;A+2<=t.length;A+=2){let n=u_.indexOf(t.charAt(A))*45;n+=u_.indexOf(t.charAt(A+1)),Js(n,11,e)}return A<t.length&&Js(u_.indexOf(t.charAt(A)),6,e),new d_(Aoe,t.length,e)}function ioe(t){return t===""?[]:BO(t)?[roe(t)]:kO(t)?[soe(t)]:[vO(aoe(t))]}function BO(t){return qie.test(t)}function kO(t){return Kie.test(t)}function ooe(t,e){let A=0;for(const n of t){const r=DO(n.mode,e);if(n.numChars>=1<<r)return Number.POSITIVE_INFINITY;A+=4+r+n.bitData.length}return A}function aoe(t){t=encodeURI(t);const e=[];for(let A=0;A<t.length;A++)t.charAt(A)!=="%"?e.push(t.charCodeAt(A)):(e.push(Number.parseInt(t.substring(A+1,A+3),16)),A+=2);return e}function m_(t){if(t<h_||t>f_)throw new RangeError("Version number out of range");let e=(16*t+128)*t+64;if(t>=2){const A=Math.floor(t/7)+2;e-=(25*A-10)*A-55,t>=7&&(e-=36)}return e}function Pd(t,e){return Math.floor(m_(t)/8)-MO[e[0]][t]*yO[e[0]][t]}function coe(t){if(t<1||t>255)throw new RangeError("Degree out of range");const e=[];for(let n=0;n<t-1;n++)e.push(0);e.push(1);let A=1;for(let n=0;n<t;n++){for(let r=0;r<e.length;r++)e[r]=p_(e[r],A),r+1<e.length&&(e[r]^=e[r+1]);A=p_(A,2)}return e}function loe(t,e){const A=e.map(n=>0);for(const n of t){const r=n^A.shift();A.push(0),e.forEach((s,i)=>A[i]^=p_(s,r))}return A}function p_(t,e){if(t>>>8||e>>>8)throw new RangeError("Byte out of range");let A=0;for(let n=7;n>=0;n--)A=A<<1^(A>>>7)*285,A^=(e>>>n&1)*t;return A}function uoe(t,e,A=1,n=40,r=-1,s=!0){if(!(h_<=A&&A<=n&&n<=f_)||r<-1||r>7)throw new RangeError("Invalid value");let i,o;for(i=A;;i++){const u=Pd(i,e)*8,h=ooe(t,i);if(h<=u){o=h;break}if(i>=n)throw new RangeError("Data too long")}for(const u of[bO,_O,xO])s&&o<=Pd(i,u)*8&&(e=u);const a=[];for(const u of t){Js(u.mode[0],4,a),Js(u.numChars,DO(u.mode,i),a);for(const h of u.getData())a.push(h)}const c=Pd(i,e)*8;Js(0,Math.min(4,c-a.length),a),Js(0,(8-a.length%8)%8,a);for(let u=236;a.length<c;u^=253)Js(u,8,a);const l=Array.from({length:Math.ceil(a.length/8)},()=>0);return a.forEach((u,h)=>l[h>>>3]|=u<<7-(h&7)),new eoe(i,e,l,r)}function hoe(t,e){const{ecc:A="L",boostEcc:n=!1,minVersion:r=1,maxVersion:s=40,maskPattern:i=-1,border:o=1}=e||{},a=typeof t=="string"?ioe(t):Array.isArray(t)?[vO(t)]:void 0;if(!a)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof t}`);const c=uoe(a,Qie[A],r,s,i,n),l=foe({version:c.version,maskPattern:c.mask,size:c.size,data:c.modules,types:c.types},o);return e?.invert&&(l.data=l.data.map(u=>u.map(h=>!h))),e?.onEncoded?.(l),l}function foe(t,e=1){if(!e)return t;const{size:A}=t,n=A+e*2;t.size=n,t.data.forEach(s=>{for(let i=0;i<e;i++)s.unshift(!1),s.push(!1)});for(let s=0;s<e;s++)t.data.unshift(Array.from({length:n},i=>!1)),t.data.push(Array.from({length:n},i=>!1));const r=Zo.Border;t.types.forEach(s=>{for(let i=0;i<e;i++)s.unshift(r),s.push(r)});for(let s=0;s<e;s++)t.types.unshift(Array.from({length:n},i=>r)),t.types.push(Array.from({length:n},i=>r));return t}function doe(t,e,A,n=!1){return e<0||A<0||e>=t.length||A>=t.length?n:t[A][e]}function moe(t,e={}){const A={WHITE_ALL:"",WHITE_BLACK:"",BLACK_WHITE:"",BLACK_ALL:" "},n=hoe(t,e),r=!1,s=!0,i=(c,l)=>doe(n.data,c,l,!0),o=[];let a="";for(let c=0;c<n.size;c+=2){for(let l=0;l<n.size;l++)i(l,c)===r&&i(l,c+1)===r?a+=A.WHITE_ALL:i(l,c)===r&&i(l,c+1)===s?a+=A.WHITE_BLACK:i(l,c)===s&&i(l,c+1)===r?a+=A.BLACK_WHITE:a+=A.BLACK_ALL;o.push(a),a=""}return o.join(`
`)}function EO(t){const e=[],A=moe(t).split(`
`),n={32:32,9600:223,9604:220,9608:219};for(let r=0;r<A.length;r++){const s=[...A[r]].map(i=>`$${n[i.charCodeAt(0)]}`).join("");e.push(s)}return e}const Co="$dkpurple",poe="$196",goe="$205",St="$yellow$205$205$205$196";function _t(t,e,A){_A(t,e,A)}function woe(t,e,A){const n=poe.repeat(A);_t(t,e,`${Co}${n}`)}function g_(t,e,A){const n=goe.repeat(A);_t(t,e,`${Co}${n}`)}function Rd(t,e,A){woe(t,e,A.length+2),_t(t,e,`${Co} $white${A} `),g_(t,e,A.length+2)}function Po(t,e,A){_t(t,e,`${Co} ${" ".repeat(A.length)} `),_t(t,e,`${Co} $gray${A} `),g_(t,e,A.length+2)}function Oi(t,e,A,n){_t(t,e,`${Co} $white${A} $blue${n}`)}function bA(t,e,A){_t(t,e,`${Co}$blue${A}`)}function boe(t,e,A,n){_t(t,e,`!${A};${n}`)}function _oe(t,e,A){const n=EO(A);for(let r=0;r<n.length;r++)_t(t,e,n[r])}function xoe(t,e,A,n,r=!0){r&&(_oe(t,e,A),setTimeout(()=>qZ(t,e),200)),_t(t,e,`!copyit ${A};${n}`)}function Goe(t,e,A,n){_t(t,e,`!openit ${A};${n}`)}const NO=Object.assign({"./editor/codepagename.txt":XJ,"./editor/command/admin.txt":tX,"./editor/command/agent.txt":nX,"./editor/command/array.txt":sX,"./editor/command/autofilter.txt":oX,"./editor/command/autofilter1.txt":cX,"./editor/command/autofilter2.txt":uX,"./editor/command/autofilter3.txt":fX,"./editor/command/autowah.txt":mX,"./editor/command/autowah1.txt":gX,"./editor/command/autowah2.txt":bX,"./editor/command/autowah3.txt":xX,"./editor/command/bbs.txt":MX,"./editor/command/become.txt":DX,"./editor/command/bgplay.txt":BX,"./editor/command/bgplayon16n.txt":EX,"./editor/command/bgplayon1n.txt":TX,"./editor/command/bgplayon2n.txt":OX,"./editor/command/bgplayon32n.txt":ZX,"./editor/command/bgplayon4n.txt":PX,"./editor/command/bgplayon64n.txt":IX,"./editor/command/bgplayon8n.txt":zX,"./editor/command/bgvol.txt":LX,"./editor/command/bind.txt":$X,"./editor/command/board.txt":VX,"./editor/command/boardopen.txt":QX,"./editor/command/boards.txt":KX,"./editor/command/bookallexport.txt":XX,"./editor/command/bookexport.txt":tee,"./editor/command/bookrename.txt":nee,"./editor/command/books.txt":see,"./editor/command/booktrash.txt":oee,"./editor/command/bpm.txt":cee,"./editor/command/break.txt":uee,"./editor/command/broadcast.txt":fee,"./editor/command/build.txt":mee,"./editor/command/change.txt":gee,"./editor/command/char.txt":bee,"./editor/command/charset.txt":xee,"./editor/command/chat.txt":Mee,"./editor/command/clear.txt":Dee,"./editor/command/color.txt":Bee,"./editor/command/continue.txt":Eee,"./editor/command/copy.txt":Tee,"./editor/command/cycle.txt":Oee,"./editor/command/dev.txt":Zee,"./editor/command/die.txt":Pee,"./editor/command/distort.txt":Iee,"./editor/command/distort1.txt":zee,"./editor/command/distort2.txt":Lee,"./editor/command/distort3.txt":$ee,"./editor/command/do.txt":Vee,"./editor/command/done.txt":Qee,"./editor/command/dupe.txt":Kee,"./editor/command/dupewith.txt":Xee,"./editor/command/duplicate.txt":tte,"./editor/command/duplicatewith.txt":nte,"./editor/command/echo.txt":ste,"./editor/command/echo1.txt":ote,"./editor/command/echo2.txt":cte,"./editor/command/echo3.txt":ute,"./editor/command/else.txt":fte,"./editor/command/elseif.txt":mte,"./editor/command/end.txt":gte,"./editor/command/endgame.txt":bte,"./editor/command/endwith.txt":xte,"./editor/command/export.txt":Mte,"./editor/command/fcrush.txt":Dte,"./editor/command/fcrush1.txt":Bte,"./editor/command/fcrush2.txt":Ete,"./editor/command/fcrush3.txt":Tte,"./editor/command/fetch.txt":Ote,"./editor/command/fetchwith.txt":Zte,"./editor/command/findany.txt":Pte,"./editor/command/foreach.txt":Ite,"./editor/command/fork.txt":zte,"./editor/command/gadget.txt":Lte,"./editor/command/go.txt":$te,"./editor/command/goto.txt":Vte,"./editor/command/help.txt":Qte,"./editor/command/hyperlink.txt":Kte,"./editor/command/idle.txt":Xte,"./editor/command/if.txt":tAe,"./editor/command/itchiopublish.txt":nAe,"./editor/command/joincode.txt":sAe,"./editor/command/jointab.txt":oAe,"./editor/command/load.txt":cAe,"./editor/command/lock.txt":uAe,"./editor/command/nuke.txt":fAe,"./editor/command/oneof.txt":mAe,"./editor/command/oneofwith.txt":gAe,"./editor/command/pageexport.txt":bAe,"./editor/command/pageopen.txt":xAe,"./editor/command/pages.txt":MAe,"./editor/command/pagetrash.txt":DAe,"./editor/command/palette.txt":BAe,"./editor/command/pivot.txt":EAe,"./editor/command/play.txt":TAe,"./editor/command/push.txt":OAe,"./editor/command/put.txt":ZAe,"./editor/command/putwith.txt":PAe,"./editor/command/read.txt":IAe,"./editor/command/readbin.txt":zAe,"./editor/command/readjson.txt":LAe,"./editor/command/readline.txt":$Ae,"./editor/command/readrexpaint.txt":VAe,"./editor/command/remix.txt":QAe,"./editor/command/repeat.txt":KAe,"./editor/command/restart.txt":XAe,"./editor/command/restore.txt":tne,"./editor/command/reverb.txt":nne,"./editor/command/reverb1.txt":sne,"./editor/command/reverb2.txt":one,"./editor/command/reverb3.txt":cne,"./editor/command/revert.txt":une,"./editor/command/run.txt":fne,"./editor/command/runwith.txt":mne,"./editor/command/save.txt":gne,"./editor/command/screenshot.txt":bne,"./editor/command/send.txt":xne,"./editor/command/set.txt":Mne,"./editor/command/share.txt":Dne,"./editor/command/shoot.txt":Bne,"./editor/command/shootwith.txt":Ene,"./editor/command/shortsend.txt":Tne,"./editor/command/shove.txt":One,"./editor/command/snapshot.txt":Zne,"./editor/command/stat.txt":Pne,"./editor/command/synth.txt":Ine,"./editor/command/synth1.txt":zne,"./editor/command/synth2.txt":Lne,"./editor/command/synth3.txt":$ne,"./editor/command/synth4.txt":Vne,"./editor/command/synth5.txt":Qne,"./editor/command/synthflush.txt":Kne,"./editor/command/synthrecord.txt":Xne,"./editor/command/text.txt":tre,"./editor/command/throwstar.txt":nre,"./editor/command/throwstarwith.txt":sre,"./editor/command/ticker.txt":ore,"./editor/command/toast.txt":cre,"./editor/command/transport.txt":ure,"./editor/command/trash.txt":fre,"./editor/command/tts.txt":mre,"./editor/command/ttsengine.txt":gre,"./editor/command/ttsqueue.txt":bre,"./editor/command/ttsvol.txt":xre,"./editor/command/twitchbroadcast.txt":Mre,"./editor/command/twitchchat.txt":Dre,"./editor/command/unlock.txt":Bre,"./editor/command/userinput.txt":Ere,"./editor/command/vibrato.txt":Tre,"./editor/command/vibrato1.txt":Ore,"./editor/command/vibrato2.txt":Zre,"./editor/command/vibrato3.txt":Pre,"./editor/command/vol.txt":Ire,"./editor/command/waitfor.txt":zre,"./editor/command/walk.txt":Lre,"./editor/command/weave.txt":$re,"./editor/command/while.txt":Vre,"./editor/command/withboard.txt":Qre,"./editor/command/withobject.txt":Kre,"./editor/command/write.txt":Xre,"./editor/command/zap.txt":tse,"./editor/command/zztrandom.txt":nse,"./editor/command/zztsearch.txt":sse,"./editor/comment.txt":ose,"./editor/hyperlink.txt":cse,"./editor/hyperlink/hotkey.txt":use,"./editor/hyperlink/number.txt":fse,"./editor/hyperlink/range.txt":mse,"./editor/hyperlink/select.txt":gse,"./editor/hyperlink/text.txt":bse,"./editor/label.txt":xse,"./editor/shortgo.txt":Mse,"./editor/shorttry.txt":Dse,"./editor/stat/board.txt":Bse,"./editor/stat/charset.txt":Ese,"./editor/stat/const.txt":Tse,"./editor/stat/hotkey.txt":Ose,"./editor/stat/loader.txt":Zse,"./editor/stat/number.txt":Pse,"./editor/stat/object.txt":Ise,"./editor/stat/palette.txt":zse,"./editor/stat/range.txt":Lse,"./editor/stat/select.txt":$se,"./editor/stat/terrain.txt":Vse,"./editor/stat/text.txt":Qse,"./editor/text.txt":Kse,"./help/nopages.txt":Xse,"./refscroll/algoscroll.txt":tie,"./refscroll/autofilterscroll.txt":nie,"./refscroll/autowahscroll.txt":sie,"./refscroll/cliscroll.txt":oie,"./refscroll/commandsscroll.txt":cie,"./refscroll/distortscroll.txt":uie,"./refscroll/echoscroll.txt":fie,"./refscroll/effectsscroll.txt":mie,"./refscroll/fcrushscroll.txt":gie,"./refscroll/helpcontrols.txt":bie,"./refscroll/helpdeveloper.txt":xie,"./refscroll/helpmenu.txt":Mie,"./refscroll/helpplayer.txt":Die,"./refscroll/helptext.txt":Bie,"./refscroll/menu.txt":Eie,"./refscroll/notesscroll.txt":Tie,"./refscroll/oscscroll.txt":Oie,"./refscroll/pulsescroll.txt":Zie,"./refscroll/pwmscroll.txt":Pie,"./refscroll/reverbscroll.txt":Iie,"./refscroll/synthscroll.txt":zie,"./refscroll/vibratoscroll.txt":Lie,"./refscroll/voicescroll.txt":$ie}),TO={};Mn(NO).forEach(t=>{const e=t.replace(".txt","").replace("./","").replaceAll("/",":");TO[e]=NO[t].default});function Id(t){const e=je(t.trim().replaceAll(`
`,"").replace(/:+$/,"")),A=TO[e];if(G(A))return A;const{target:n,path:r}=tr(e);switch(n){case"editor":{const s=tr(r);switch(s.target){case"command":if(s.path.length)return`desc;$DKGRAYsends the message ${s.path}`}break}}}function w_(t,e){const A=(t??"").split(`
`);for(let n=0;n<A.length;++n)e(A[n].split(";"))}function Moe(t,e){const[A,...n]=e,r=n[0]??"",s=n[1]??"";switch(je(A.trim())){case"header":Rd(te,t,r);break;case"section":Po(te,t,r);break;case"option":Oi(te,t,r,s);break;default:A.trimStart().startsWith("!")?boe(te,t,A.trimStart().slice(1),r):_t(te,t,A);break}}const Ro="$dkpurple",yoe="$196",Doe="$205";function voe(t,e){const A=yoe.repeat(e);we(t,`${Ro}${A}`)}function YO(t,e){const A=Doe.repeat(e);we(t,`${Ro}${A}`)}function Boe(t,e){we(t,`${Ro} ${" ".repeat(e.length)} `),voe(t,e.length+2),we(t,`${Ro} $white${e} `),YO(t,e.length+2)}function koe(t,e){we(t,`${Ro} ${" ".repeat(e.length)} `),we(t,`${Ro} $gray${e} `),YO(t,e.length+2)}function Eoe(t,e,A){we(t,`${Ro} $white${e} $blue${A}`)}function OO(t,e){const[A,...n]=e,r=n[0]??"",s=n[1]??"";switch(je(A.trim())){case"header":Boe(t,r);break;case"section":koe(t,r);break;case"option":Eoe(t,r,s);break;default:if(A.trimStart().startsWith("!")){const i=A.trimStart().slice(1).split(" ");switch(je(i[1]??"")){case"hk":case"hotkey":Te(t,"refscroll",r,[i[0]??"",i[1]??"",i[2]??"",` ${i[3]??""} `,i[4]??""]);break;default:Te(t,"refscroll",r,i);break}}else A.trimStart().startsWith('"')?we(t,A.trimStart().slice(1)):we(t,A);break}}function jd(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var b_={exports:{}},SO;function Noe(){return SO||(SO=1,(function(t,e){(function(A){t.exports=A()})(function(){return(function A(n,r,s){function i(c,l){if(!r[c]){if(!n[c]){var u=typeof jd=="function"&&jd;if(!l&&u)return u(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[c]={exports:{}};n[c][0].call(f.exports,function(d){var m=n[c][1][d];return i(m||d)},f,f.exports,A,n,r,s)}return r[c].exports}for(var o=typeof jd=="function"&&jd,a=0;a<s.length;a++)i(s[a]);return i})({1:[function(A,n,r){var s=A("./utils"),i=A("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(a){for(var c,l,u,h,f,d,m,p=[],g=0,w=a.length,x=w,v=s.getTypeOf(a)!=="string";g<a.length;)x=w-g,u=v?(c=a[g++],l=g<w?a[g++]:0,g<w?a[g++]:0):(c=a.charCodeAt(g++),l=g<w?a.charCodeAt(g++):0,g<w?a.charCodeAt(g++):0),h=c>>2,f=(3&c)<<4|l>>4,d=1<x?(15&l)<<2|u>>6:64,m=2<x?63&u:64,p.push(o.charAt(h)+o.charAt(f)+o.charAt(d)+o.charAt(m));return p.join("")},r.decode=function(a){var c,l,u,h,f,d,m=0,p=0,g="data:";if(a.substr(0,g.length)===g)throw new Error("Invalid base64 input, it looks like a data url.");var w,x=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===o.charAt(64)&&x--,a.charAt(a.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=i.uint8array?new Uint8Array(0|x):new Array(0|x);m<a.length;)c=o.indexOf(a.charAt(m++))<<2|(h=o.indexOf(a.charAt(m++)))>>4,l=(15&h)<<4|(f=o.indexOf(a.charAt(m++)))>>2,u=(3&f)<<6|(d=o.indexOf(a.charAt(m++))),w[p++]=c,f!==64&&(w[p++]=l),d!==64&&(w[p++]=u);return w}},{"./support":30,"./utils":32}],2:[function(A,n,r){var s=A("./external"),i=A("./stream/DataWorker"),o=A("./stream/Crc32Probe"),a=A("./stream/DataLengthProbe");function c(l,u,h,f,d){this.compressedSize=l,this.uncompressedSize=u,this.crc32=h,this.compression=f,this.compressedContent=d}c.prototype={getContentWorker:function(){var l=new i(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),u=this;return l.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new i(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(l,u,h){return l.pipe(new o).pipe(new a("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new a("compressedSize")).withStreamInfo("compression",u)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(A,n,r){var s=A("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=A("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(A,n,r){var s=A("./utils"),i=(function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a})();n.exports=function(o,a){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,l,u,h){var f=i,d=h+u;c^=-1;for(var m=h;m<d;m++)c=c>>>8^f[255&(c^l[m])];return-1^c})(0|a,o,o.length,0):(function(c,l,u,h){var f=i,d=h+u;c^=-1;for(var m=h;m<d;m++)c=c>>>8^f[255&(c^l.charCodeAt(m))];return-1^c})(0|a,o,o.length,0):0}},{"./utils":32}],5:[function(A,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(A,n,r){var s=null;s=typeof Promise<"u"?Promise:A("lie"),n.exports={Promise:s}},{lie:37}],7:[function(A,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=A("pako"),o=A("./utils"),a=A("./stream/GenericWorker"),c=s?"uint8array":"array";function l(u,h){a.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}r.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,u.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},r.compressWorker=function(u){return new l("Deflate",u)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(A,n,r){function s(f,d){var m,p="";for(m=0;m<d;m++)p+=String.fromCharCode(255&f),f>>>=8;return p}function i(f,d,m,p,g,w){var x,v,b=f.file,T=f.compression,M=w!==c.utf8encode,B=o.transformTo("string",w(b.name)),Z=o.transformTo("string",c.utf8encode(b.name)),S=b.comment,C=o.transformTo("string",w(S)),k=o.transformTo("string",c.utf8encode(S)),N=Z.length!==b.name.length,y=k.length!==S.length,I="",U="",j="",F=b.dir,V=b.date,W={crc32:0,compressedSize:0,uncompressedSize:0};d&&!m||(W.crc32=f.crc32,W.compressedSize=f.compressedSize,W.uncompressedSize=f.uncompressedSize);var O=0;d&&(O|=8),M||!N&&!y||(O|=2048);var R=0,Ae=0;F&&(R|=16),g==="UNIX"?(Ae=798,R|=(function(ee,de){var be=ee;return ee||(be=de?16893:33204),(65535&be)<<16})(b.unixPermissions,F)):(Ae=20,R|=(function(ee){return 63&(ee||0)})(b.dosPermissions)),x=V.getUTCHours(),x<<=6,x|=V.getUTCMinutes(),x<<=5,x|=V.getUTCSeconds()/2,v=V.getUTCFullYear()-1980,v<<=4,v|=V.getUTCMonth()+1,v<<=5,v|=V.getUTCDate(),N&&(U=s(1,1)+s(l(B),4)+Z,I+="up"+s(U.length,2)+U),y&&(j=s(1,1)+s(l(C),4)+k,I+="uc"+s(j.length,2)+j);var K="";return K+=`
\0`,K+=s(O,2),K+=T.magic,K+=s(x,2),K+=s(v,2),K+=s(W.crc32,4),K+=s(W.compressedSize,4),K+=s(W.uncompressedSize,4),K+=s(B.length,2),K+=s(I.length,2),{fileRecord:u.LOCAL_FILE_HEADER+K+B+I,dirRecord:u.CENTRAL_FILE_HEADER+s(Ae,2)+K+s(C.length,2)+"\0\0\0\0"+s(R,4)+s(p,4)+B+I+C}}var o=A("../utils"),a=A("../stream/GenericWorker"),c=A("../utf8"),l=A("../crc32"),u=A("../signature");function h(f,d,m,p){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=d,this.zipPlatform=m,this.encodeFileName=p,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,a),h.prototype.push=function(f){var d=f.meta.percent||0,m=this.entriesCount,p=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,a.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:m?(d+100*(m-p-1))/m:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var d=this.streamFiles&&!f.file.dir;if(d){var m=i(f,d,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:m.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var d=this.streamFiles&&!f.file.dir,m=i(f,d,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(m.dirRecord),d)this.push({data:(function(p){return u.DATA_DESCRIPTOR+s(p.crc32,4)+s(p.compressedSize,4)+s(p.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:m.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,d=0;d<this.dirRecords.length;d++)this.push({data:this.dirRecords[d],meta:{percent:100}});var m=this.bytesWritten-f,p=(function(g,w,x,v,b){var T=o.transformTo("string",b(v));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(g,2)+s(g,2)+s(w,4)+s(x,4)+s(T.length,2)+T})(this.dirRecords.length,m,f,this.zipComment,this.encodeFileName);this.push({data:p,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var d=this;return f.on("data",function(m){d.processChunk(m)}),f.on("end",function(){d.closedSource(d.previous.streamInfo),d._sources.length?d.prepareNextSource():d.end()}),f.on("error",function(m){d.error(m)}),this},h.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var d=this._sources;if(!a.prototype.error.call(this,f))return!1;for(var m=0;m<d.length;m++)try{d[m].error(f)}catch{}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var f=this._sources,d=0;d<f.length;d++)f[d].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(A,n,r){var s=A("../compressions"),i=A("./ZipFileWorker");r.generateWorker=function(o,a,c){var l=new i(a.streamFiles,c,a.platform,a.encodeFileName),u=0;try{o.forEach(function(h,f){u++;var d=(function(w,x){var v=w||x,b=s[v];if(!b)throw new Error(v+" is not a valid compression method !");return b})(f.options.compression,a.compression),m=f.options.compressionOptions||a.compressionOptions||{},p=f.dir,g=f.date;f._compressWorker(d,m).withStreamInfo("file",{name:h,dir:p,date:g,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(l)}),l.entriesCount=u}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(A,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new s;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(s.prototype=A("./object")).loadAsync=A("./load"),s.support=A("./support"),s.defaults=A("./defaults"),s.version="3.10.1",s.loadAsync=function(i,o){return new s().loadAsync(i,o)},s.external=A("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(A,n,r){var s=A("./utils"),i=A("./external"),o=A("./utf8"),a=A("./zipEntries"),c=A("./stream/Crc32Probe"),l=A("./nodejsUtils");function u(h){return new i.Promise(function(f,d){var m=h.decompressed.getContentWorker().pipe(new c);m.on("error",function(p){d(p)}).on("end",function(){m.streamInfo.crc32!==h.decompressed.crc32?d(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(h,f){var d=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(h)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(m){var p=new a(f);return p.load(m),p}).then(function(m){var p=[i.Promise.resolve(m)],g=m.files;if(f.checkCRC32)for(var w=0;w<g.length;w++)p.push(u(g[w]));return i.Promise.all(p)}).then(function(m){for(var p=m.shift(),g=p.files,w=0;w<g.length;w++){var x=g[w],v=x.fileNameStr,b=s.resolve(x.fileNameStr);d.file(b,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:f.createFolders}),x.dir||(d.file(b).unsafeOriginalName=v)}return p.zipComment.length&&(d.comment=p.zipComment),d})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(A,n,r){var s=A("../utils"),i=A("../stream/GenericWorker");function o(a,c){i.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,i),o.prototype._bindStream=function(a){var c=this;(this._stream=a).pause(),a.on("data",function(l){c.push({data:l,meta:{percent:0}})}).on("error",function(l){c.isPaused?this.generatedError=l:c.error(l)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(A,n,r){var s=A("readable-stream").Readable;function i(o,a,c){s.call(this,a),this._helper=o;var l=this;o.on("data",function(u,h){l.push(u)||l._helper.pause(),c&&c(h)}).on("error",function(u){l.emit("error",u)}).on("end",function(){l.push(null)})}A("../utils").inherits(i,s),i.prototype._read=function(){this._helper.resume()},n.exports=i},{"../utils":32,"readable-stream":16}],14:[function(A,n,r){n.exports={isNode:typeof Ut<"u",newBufferFrom:function(s,i){if(Ut.from&&Ut.from!==Uint8Array.from)return Ut.from(s,i);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Ut(s,i)},allocBuffer:function(s){if(Ut.alloc)return Ut.alloc(s);var i=new Ut(s);return i.fill(0),i},isBuffer:function(s){return Ut.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(A,n,r){function s(b,T,M){var B,Z=o.getTypeOf(T),S=o.extend(M||{},l);S.date=S.date||new Date,S.compression!==null&&(S.compression=S.compression.toUpperCase()),typeof S.unixPermissions=="string"&&(S.unixPermissions=parseInt(S.unixPermissions,8)),S.unixPermissions&&16384&S.unixPermissions&&(S.dir=!0),S.dosPermissions&&16&S.dosPermissions&&(S.dir=!0),S.dir&&(b=g(b)),S.createFolders&&(B=p(b))&&w.call(this,B,!0);var C=Z==="string"&&S.binary===!1&&S.base64===!1;M&&M.binary!==void 0||(S.binary=!C),(T instanceof u&&T.uncompressedSize===0||S.dir||!T||T.length===0)&&(S.base64=!1,S.binary=!0,T="",S.compression="STORE",Z="string");var k=null;k=T instanceof u||T instanceof a?T:d.isNode&&d.isStream(T)?new m(b,T):o.prepareContent(b,T,S.binary,S.optimizedBinaryString,S.base64);var N=new h(b,k,S);this.files[b]=N}var i=A("./utf8"),o=A("./utils"),a=A("./stream/GenericWorker"),c=A("./stream/StreamHelper"),l=A("./defaults"),u=A("./compressedObject"),h=A("./zipObject"),f=A("./generate"),d=A("./nodejsUtils"),m=A("./nodejs/NodejsStreamInputAdapter"),p=function(b){b.slice(-1)==="/"&&(b=b.substring(0,b.length-1));var T=b.lastIndexOf("/");return 0<T?b.substring(0,T):""},g=function(b){return b.slice(-1)!=="/"&&(b+="/"),b},w=function(b,T){return T=T!==void 0?T:l.createFolders,b=g(b),this.files[b]||s.call(this,b,null,{dir:!0,createFolders:T}),this.files[b]};function x(b){return Object.prototype.toString.call(b)==="[object RegExp]"}var v={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(b){var T,M,B;for(T in this.files)B=this.files[T],(M=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&b(M,B)},filter:function(b){var T=[];return this.forEach(function(M,B){b(M,B)&&T.push(B)}),T},file:function(b,T,M){if(arguments.length!==1)return b=this.root+b,s.call(this,b,T,M),this;if(x(b)){var B=b;return this.filter(function(S,C){return!C.dir&&B.test(S)})}var Z=this.files[this.root+b];return Z&&!Z.dir?Z:null},folder:function(b){if(!b)return this;if(x(b))return this.filter(function(Z,S){return S.dir&&b.test(Z)});var T=this.root+b,M=w.call(this,T),B=this.clone();return B.root=M.name,B},remove:function(b){b=this.root+b;var T=this.files[b];if(T||(b.slice(-1)!=="/"&&(b+="/"),T=this.files[b]),T&&!T.dir)delete this.files[b];else for(var M=this.filter(function(Z,S){return S.name.slice(0,b.length)===b}),B=0;B<M.length;B++)delete this.files[M[B].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(b){var T,M={};try{if((M=o.extend(b||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=M.type.toLowerCase(),M.compression=M.compression.toUpperCase(),M.type==="binarystring"&&(M.type="string"),!M.type)throw new Error("No output type specified.");o.checkSupport(M.type),M.platform!=="darwin"&&M.platform!=="freebsd"&&M.platform!=="linux"&&M.platform!=="sunos"||(M.platform="UNIX"),M.platform==="win32"&&(M.platform="DOS");var B=M.comment||this.comment||"";T=f.generateWorker(this,M,B)}catch(Z){(T=new a("error")).error(Z)}return new c(T,M.type||"string",M.mimeType)},generateAsync:function(b,T){return this.generateInternalStream(b).accumulate(T)},generateNodeStream:function(b,T){return(b=b||{}).type||(b.type="nodebuffer"),this.generateInternalStream(b).toNodejsStream(T)}};n.exports=v},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(A,n,r){n.exports=A("stream")},{stream:void 0}],17:[function(A,n,r){var s=A("./DataReader");function i(o){s.call(this,o);for(var a=0;a<this.data.length;a++)o[a]=255&o[a]}A("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var a=o.charCodeAt(0),c=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===a&&this.data[h+1]===c&&this.data[h+2]===l&&this.data[h+3]===u)return h-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var a=o.charCodeAt(0),c=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),h=this.readData(4);return a===h[0]&&c===h[1]&&l===h[2]&&u===h[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./DataReader":18}],18:[function(A,n,r){var s=A("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var a,c=0;for(this.checkOffset(o),a=this.index+o-1;a>=this.index;a--)c=(c<<8)+this.byteAt(a);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=i},{"../utils":32}],19:[function(A,n,r){var s=A("./Uint8ArrayReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(A,n,r){var s=A("./DataReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./DataReader":18}],21:[function(A,n,r){var s=A("./ArrayReader");function i(o){s.call(this,o)}A("../utils").inherits(i,s),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(A,n,r){var s=A("../utils"),i=A("../support"),o=A("./ArrayReader"),a=A("./StringReader"),c=A("./NodeBufferReader"),l=A("./Uint8ArrayReader");n.exports=function(u){var h=s.getTypeOf(u);return s.checkSupport(h),h!=="string"||i.uint8array?h==="nodebuffer"?new c(u):i.uint8array?new l(s.transformTo("uint8array",u)):new o(s.transformTo("array",u)):new a(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(A,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(A,n,r){var s=A("./GenericWorker"),i=A("../utils");function o(a){s.call(this,"ConvertWorker to "+a),this.destType=a}i.inherits(o,s),o.prototype.processChunk=function(a){this.push({data:i.transformTo(this.destType,a.data),meta:a.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(A,n,r){var s=A("./GenericWorker"),i=A("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}A("../utils").inherits(o,s),o.prototype.processChunk=function(a){this.streamInfo.crc32=i(a.data,this.streamInfo.crc32||0),this.push(a)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(A,n,r){var s=A("../utils"),i=A("./GenericWorker");function o(a){i.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}s.inherits(o,i),o.prototype.processChunk=function(a){if(a){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+a.data.length}i.prototype.processChunk.call(this,a)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(A,n,r){var s=A("../utils"),i=A("./GenericWorker");function o(a){i.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(l){c.dataIsReady=!0,c.data=l,c.max=l&&l.length||0,c.type=s.getTypeOf(l),c.isPaused||c._tickAndRepeat()},function(l){c.error(l)})}s.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,c);break;case"uint8array":a=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":a=this.data.slice(this.index,c)}return this.index=c,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(A,n,r){function s(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var a=0;a<this._listeners[i].length;a++)this._listeners[i][a].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(a){o.processChunk(a)}),i.on("end",function(){o.end()}),i.on("error",function(a){o.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},n.exports=s},{}],29:[function(A,n,r){var s=A("../utils"),i=A("./ConvertWorker"),o=A("./GenericWorker"),a=A("../base64"),c=A("../support"),l=A("../external"),u=null;if(c.nodestream)try{u=A("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(d,m){return new l.Promise(function(p,g){var w=[],x=d._internalType,v=d._outputType,b=d._mimeType;d.on("data",function(T,M){w.push(T),m&&m(M)}).on("error",function(T){w=[],g(T)}).on("end",function(){try{var T=(function(M,B,Z){switch(M){case"blob":return s.newBlob(s.transformTo("arraybuffer",B),Z);case"base64":return a.encode(B);default:return s.transformTo(M,B)}})(v,(function(M,B){var Z,S=0,C=null,k=0;for(Z=0;Z<B.length;Z++)k+=B[Z].length;switch(M){case"string":return B.join("");case"array":return Array.prototype.concat.apply([],B);case"uint8array":for(C=new Uint8Array(k),Z=0;Z<B.length;Z++)C.set(B[Z],S),S+=B[Z].length;return C;case"nodebuffer":return Ut.concat(B);default:throw new Error("concat : unsupported type '"+M+"'")}})(x,w),b);p(T)}catch(M){g(M)}w=[]}).resume()})}function f(d,m,p){var g=m;switch(m){case"blob":case"arraybuffer":g="uint8array";break;case"base64":g="string"}try{this._internalType=g,this._outputType=m,this._mimeType=p,s.checkSupport(g),this._worker=d.pipe(new i(g)),d.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}f.prototype={accumulate:function(d){return h(this,d)},on:function(d,m){var p=this;return d==="data"?this._worker.on(d,function(g){m.call(p,g.data,g.meta)}):this._worker.on(d,function(){s.delay(m,arguments,p)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(d){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},d)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(A,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Ut<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(s),r.blob=i.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!A("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(A,n,r){for(var s=A("./utils"),i=A("./support"),o=A("./nodejsUtils"),a=A("./stream/GenericWorker"),c=new Array(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;c[254]=c[254]=1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}r.utf8encode=function(f){return i.nodebuffer?o.newBufferFrom(f,"utf-8"):(function(d){var m,p,g,w,x,v=d.length,b=0;for(w=0;w<v;w++)(64512&(p=d.charCodeAt(w)))==55296&&w+1<v&&(64512&(g=d.charCodeAt(w+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),w++),b+=p<128?1:p<2048?2:p<65536?3:4;for(m=i.uint8array?new Uint8Array(b):new Array(b),w=x=0;x<b;w++)(64512&(p=d.charCodeAt(w)))==55296&&w+1<v&&(64512&(g=d.charCodeAt(w+1)))==56320&&(p=65536+(p-55296<<10)+(g-56320),w++),p<128?m[x++]=p:(p<2048?m[x++]=192|p>>>6:(p<65536?m[x++]=224|p>>>12:(m[x++]=240|p>>>18,m[x++]=128|p>>>12&63),m[x++]=128|p>>>6&63),m[x++]=128|63&p);return m})(f)},r.utf8decode=function(f){return i.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):(function(d){var m,p,g,w,x=d.length,v=new Array(2*x);for(m=p=0;m<x;)if((g=d[m++])<128)v[p++]=g;else if(4<(w=c[g]))v[p++]=65533,m+=w-1;else{for(g&=w===2?31:w===3?15:7;1<w&&m<x;)g=g<<6|63&d[m++],w--;1<w?v[p++]=65533:g<65536?v[p++]=g:(g-=65536,v[p++]=55296|g>>10&1023,v[p++]=56320|1023&g)}return v.length!==p&&(v.subarray?v=v.subarray(0,p):v.length=p),s.applyFromCharCode(v)})(f=s.transformTo(i.uint8array?"uint8array":"array",f))},s.inherits(u,a),u.prototype.processChunk=function(f){var d=s.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var m=d;(d=new Uint8Array(m.length+this.leftOver.length)).set(this.leftOver,0),d.set(m,this.leftOver.length)}else d=this.leftOver.concat(d);this.leftOver=null}var p=(function(w,x){var v;for((x=x||w.length)>w.length&&(x=w.length),v=x-1;0<=v&&(192&w[v])==128;)v--;return v<0||v===0?x:v+c[w[v]]>x?v:x})(d),g=d;p!==d.length&&(i.uint8array?(g=d.subarray(0,p),this.leftOver=d.subarray(p,d.length)):(g=d.slice(0,p),this.leftOver=d.slice(p,d.length))),this.push({data:r.utf8decode(g),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,s.inherits(h,a),h.prototype.processChunk=function(f){this.push({data:r.utf8encode(f.data),meta:f.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(A,n,r){var s=A("./support"),i=A("./base64"),o=A("./nodejsUtils"),a=A("./external");function c(m){return m}function l(m,p){for(var g=0;g<m.length;++g)p[g]=255&m.charCodeAt(g);return p}A("setimmediate"),r.newBlob=function(m,p){r.checkSupport("blob");try{return new Blob([m],{type:p})}catch{try{var g=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return g.append(m),g.getBlob(p)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(m,p,g){var w=[],x=0,v=m.length;if(v<=g)return String.fromCharCode.apply(null,m);for(;x<v;)p==="array"||p==="nodebuffer"?w.push(String.fromCharCode.apply(null,m.slice(x,Math.min(x+g,v)))):w.push(String.fromCharCode.apply(null,m.subarray(x,Math.min(x+g,v)))),x+=g;return w.join("")},stringifyByChar:function(m){for(var p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);return p},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(m){var p=65536,g=r.getTypeOf(m),w=!0;if(g==="uint8array"?w=u.applyCanBeUsed.uint8array:g==="nodebuffer"&&(w=u.applyCanBeUsed.nodebuffer),w)for(;1<p;)try{return u.stringifyByChunk(m,g,p)}catch{p=Math.floor(p/2)}return u.stringifyByChar(m)}function f(m,p){for(var g=0;g<m.length;g++)p[g]=m[g];return p}r.applyFromCharCode=h;var d={};d.string={string:c,array:function(m){return l(m,new Array(m.length))},arraybuffer:function(m){return d.string.uint8array(m).buffer},uint8array:function(m){return l(m,new Uint8Array(m.length))},nodebuffer:function(m){return l(m,o.allocBuffer(m.length))}},d.array={string:h,array:c,arraybuffer:function(m){return new Uint8Array(m).buffer},uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(m)}},d.arraybuffer={string:function(m){return h(new Uint8Array(m))},array:function(m){return f(new Uint8Array(m),new Array(m.byteLength))},arraybuffer:c,uint8array:function(m){return new Uint8Array(m)},nodebuffer:function(m){return o.newBufferFrom(new Uint8Array(m))}},d.uint8array={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return m.buffer},uint8array:c,nodebuffer:function(m){return o.newBufferFrom(m)}},d.nodebuffer={string:h,array:function(m){return f(m,new Array(m.length))},arraybuffer:function(m){return d.nodebuffer.uint8array(m).buffer},uint8array:function(m){return f(m,new Uint8Array(m.length))},nodebuffer:c},r.transformTo=function(m,p){if(p=p||"",!m)return p;r.checkSupport(m);var g=r.getTypeOf(p);return d[g][m](p)},r.resolve=function(m){for(var p=m.split("/"),g=[],w=0;w<p.length;w++){var x=p[w];x==="."||x===""&&w!==0&&w!==p.length-1||(x===".."?g.pop():g.push(x))}return g.join("/")},r.getTypeOf=function(m){return typeof m=="string"?"string":Object.prototype.toString.call(m)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(m)?"nodebuffer":s.uint8array&&m instanceof Uint8Array?"uint8array":s.arraybuffer&&m instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(m){if(!s[m.toLowerCase()])throw new Error(m+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(m){var p,g,w="";for(g=0;g<(m||"").length;g++)w+="\\x"+((p=m.charCodeAt(g))<16?"0":"")+p.toString(16).toUpperCase();return w},r.delay=function(m,p,g){setImmediate(function(){m.apply(g||null,p||[])})},r.inherits=function(m,p){function g(){}g.prototype=p.prototype,m.prototype=new g},r.extend=function(){var m,p,g={};for(m=0;m<arguments.length;m++)for(p in arguments[m])Object.prototype.hasOwnProperty.call(arguments[m],p)&&g[p]===void 0&&(g[p]=arguments[m][p]);return g},r.prepareContent=function(m,p,g,w,x){return a.Promise.resolve(p).then(function(v){return s.blob&&(v instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(v))!==-1)&&typeof FileReader<"u"?new a.Promise(function(b,T){var M=new FileReader;M.onload=function(B){b(B.target.result)},M.onerror=function(B){T(B.target.error)},M.readAsArrayBuffer(v)}):v}).then(function(v){var b=r.getTypeOf(v);return b?(b==="arraybuffer"?v=r.transformTo("uint8array",v):b==="string"&&(x?v=i.decode(v):g&&w!==!0&&(v=(function(T){return l(T,s.uint8array?new Uint8Array(T.length):new Array(T.length))})(v))),v):a.Promise.reject(new Error("Can't read the data of '"+m+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(A,n,r){var s=A("./reader/readerFor"),i=A("./utils"),o=A("./signature"),a=A("./zipEntry"),c=A("./support");function l(u){this.files=[],this.loadOptions=u}l.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(h)+", expected "+i.pretty(u)+")")}},isSignature:function(u,h){var f=this.reader.index;this.reader.setIndex(u);var d=this.reader.readString(4)===h;return this.reader.setIndex(f),d},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=i.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,f,d=this.zip64EndOfCentralSize-44;0<d;)u=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var d=h-f;if(0<d)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=d);else if(d<0)throw new Error("Corrupted zip: missing "+Math.abs(d)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(A,n,r){var s=A("./reader/readerFor"),i=A("./utils"),o=A("./compressedObject"),a=A("./crc32"),c=A("./utf8"),l=A("./compressions"),u=A("./support");function h(f,d){this.options=f,this.loadOptions=d}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var d,m;if(f.skip(22),this.fileNameLength=f.readInt(2),m=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(m),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((d=(function(p){for(var g in l)if(Object.prototype.hasOwnProperty.call(l,g)&&l[g].magic===p)return l[g];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,d,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var d=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(d),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var d,m,p,g=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<g;)d=f.readInt(2),m=f.readInt(2),p=f.readData(m),this.extraFields[d]={id:d,length:m,value:p};f.setIndex(g)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var d=this.findExtraFieldUnicodePath();if(d!==null)this.fileNameStr=d;else{var m=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(m)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var g=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(g)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var d=s(f.value);return d.readInt(1)!==1||a(this.fileName)!==d.readInt(4)?null:c.utf8decode(d.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var d=s(f.value);return d.readInt(1)!==1||a(this.fileComment)!==d.readInt(4)?null:c.utf8decode(d.readData(f.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(A,n,r){function s(d,m,p){this.name=d,this.dir=p.dir,this.date=p.date,this.comment=p.comment,this.unixPermissions=p.unixPermissions,this.dosPermissions=p.dosPermissions,this._data=m,this._dataBinary=p.binary,this.options={compression:p.compression,compressionOptions:p.compressionOptions}}var i=A("./stream/StreamHelper"),o=A("./stream/DataWorker"),a=A("./utf8"),c=A("./compressedObject"),l=A("./stream/GenericWorker");s.prototype={internalStream:function(d){var m=null,p="string";try{if(!d)throw new Error("No output type specified.");var g=(p=d.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),m=this._decompressWorker();var w=!this._dataBinary;w&&!g&&(m=m.pipe(new a.Utf8EncodeWorker)),!w&&g&&(m=m.pipe(new a.Utf8DecodeWorker))}catch(x){(m=new l("error")).error(x)}return new i(m,p,"")},async:function(d,m){return this.internalStream(d).accumulate(m)},nodeStream:function(d,m){return this.internalStream(d||"nodebuffer").toNodejsStream(m)},_compressWorker:function(d,m){if(this._data instanceof c&&this._data.compression.magic===d.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new a.Utf8EncodeWorker)),c.createWorkerFrom(p,d,m)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)s.prototype[u[f]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(A,n,r){(function(s){var i,o,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var c=0,l=new a(d),u=s.document.createTextNode("");l.observe(u,{characterData:!0}),i=function(){u.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)i="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var m=s.document.createElement("script");m.onreadystatechange=function(){d(),m.onreadystatechange=null,m.parentNode.removeChild(m),m=null},s.document.documentElement.appendChild(m)}:function(){setTimeout(d,0)};else{var h=new s.MessageChannel;h.port1.onmessage=d,i=function(){h.port2.postMessage(0)}}var f=[];function d(){var m,p;o=!0;for(var g=f.length;g;){for(p=f,f=[],m=-1;++m<g;)p[m]();g=f.length}o=!1}n.exports=function(m){f.push(m)!==1||o||i()}}).call(this,typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(A,n,r){var s=A("immediate");function i(){}var o={},a=["REJECTED"],c=["FULFILLED"],l=["PENDING"];function u(g){if(typeof g!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,g!==i&&m(this,g)}function h(g,w,x){this.promise=g,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function f(g,w,x){s(function(){var v;try{v=w(x)}catch(b){return o.reject(g,b)}v===g?o.reject(g,new TypeError("Cannot resolve promise with itself")):o.resolve(g,v)})}function d(g){var w=g&&g.then;if(g&&(typeof g=="object"||typeof g=="function")&&typeof w=="function")return function(){w.apply(g,arguments)}}function m(g,w){var x=!1;function v(M){x||(x=!0,o.reject(g,M))}function b(M){x||(x=!0,o.resolve(g,M))}var T=p(function(){w(b,v)});T.status==="error"&&v(T.value)}function p(g,w){var x={};try{x.value=g(w),x.status="success"}catch(v){x.status="error",x.value=v}return x}(n.exports=u).prototype.finally=function(g){if(typeof g!="function")return this;var w=this.constructor;return this.then(function(x){return w.resolve(g()).then(function(){return x})},function(x){return w.resolve(g()).then(function(){throw x})})},u.prototype.catch=function(g){return this.then(null,g)},u.prototype.then=function(g,w){if(typeof g!="function"&&this.state===c||typeof w!="function"&&this.state===a)return this;var x=new this.constructor(i);return this.state!==l?f(x,this.state===c?g:w,this.outcome):this.queue.push(new h(x,g,w)),x},h.prototype.callFulfilled=function(g){o.resolve(this.promise,g)},h.prototype.otherCallFulfilled=function(g){f(this.promise,this.onFulfilled,g)},h.prototype.callRejected=function(g){o.reject(this.promise,g)},h.prototype.otherCallRejected=function(g){f(this.promise,this.onRejected,g)},o.resolve=function(g,w){var x=p(d,w);if(x.status==="error")return o.reject(g,x.value);var v=x.value;if(v)m(g,v);else{g.state=c,g.outcome=w;for(var b=-1,T=g.queue.length;++b<T;)g.queue[b].callFulfilled(w)}return g},o.reject=function(g,w){g.state=a,g.outcome=w;for(var x=-1,v=g.queue.length;++x<v;)g.queue[x].callRejected(w);return g},u.resolve=function(g){return g instanceof this?g:o.resolve(new this(i),g)},u.reject=function(g){var w=new this(i);return o.reject(w,g)},u.all=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,v=!1;if(!x)return this.resolve([]);for(var b=new Array(x),T=0,M=-1,B=new this(i);++M<x;)Z(g[M],M);return B;function Z(S,C){w.resolve(S).then(function(k){b[C]=k,++T!==x||v||(v=!0,o.resolve(B,b))},function(k){v||(v=!0,o.reject(B,k))})}},u.race=function(g){var w=this;if(Object.prototype.toString.call(g)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=g.length,v=!1;if(!x)return this.resolve([]);for(var b=-1,T=new this(i);++b<x;)M=g[b],w.resolve(M).then(function(B){v||(v=!0,o.resolve(T,B))},function(B){v||(v=!0,o.reject(T,B))});var M;return T}},{immediate:36}],38:[function(A,n,r){var s={};(0,A("./lib/utils/common").assign)(s,A("./lib/deflate"),A("./lib/inflate"),A("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(A,n,r){var s=A("./zlib/deflate"),i=A("./utils/common"),o=A("./utils/strings"),a=A("./zlib/messages"),c=A("./zlib/zstream"),l=Object.prototype.toString,u=0,h=-1,f=0,d=8;function m(g){if(!(this instanceof m))return new m(g);this.options=i.assign({level:h,method:d,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},g||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(x!==u)throw new Error(a[x]);if(w.header&&s.deflateSetHeader(this.strm,w.header),w.dictionary){var v;if(v=typeof w.dictionary=="string"?o.string2buf(w.dictionary):l.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(x=s.deflateSetDictionary(this.strm,v))!==u)throw new Error(a[x]);this._dict_set=!0}}function p(g,w){var x=new m(w);if(x.push(g,!0),x.err)throw x.msg||a[x.err];return x.result}m.prototype.push=function(g,w){var x,v,b=this.strm,T=this.options.chunkSize;if(this.ended)return!1;v=w===~~w?w:w===!0?4:0,typeof g=="string"?b.input=o.string2buf(g):l.call(g)==="[object ArrayBuffer]"?b.input=new Uint8Array(g):b.input=g,b.next_in=0,b.avail_in=b.input.length;do{if(b.avail_out===0&&(b.output=new i.Buf8(T),b.next_out=0,b.avail_out=T),(x=s.deflate(b,v))!==1&&x!==u)return this.onEnd(x),!(this.ended=!0);b.avail_out!==0&&(b.avail_in!==0||v!==4&&v!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(b.output,b.next_out))):this.onData(i.shrinkBuf(b.output,b.next_out)))}while((0<b.avail_in||b.avail_out===0)&&x!==1);return v===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===u):v!==2||(this.onEnd(u),!(b.avail_out=0))},m.prototype.onData=function(g){this.chunks.push(g)},m.prototype.onEnd=function(g){g===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=g,this.msg=this.strm.msg},r.Deflate=m,r.deflate=p,r.deflateRaw=function(g,w){return(w=w||{}).raw=!0,p(g,w)},r.gzip=function(g,w){return(w=w||{}).gzip=!0,p(g,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(A,n,r){var s=A("./zlib/inflate"),i=A("./utils/common"),o=A("./utils/strings"),a=A("./zlib/constants"),c=A("./zlib/messages"),l=A("./zlib/zstream"),u=A("./zlib/gzheader"),h=Object.prototype.toString;function f(m){if(!(this instanceof f))return new f(m);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},m||{});var p=this.options;p.raw&&0<=p.windowBits&&p.windowBits<16&&(p.windowBits=-p.windowBits,p.windowBits===0&&(p.windowBits=-15)),!(0<=p.windowBits&&p.windowBits<16)||m&&m.windowBits||(p.windowBits+=32),15<p.windowBits&&p.windowBits<48&&(15&p.windowBits)==0&&(p.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var g=s.inflateInit2(this.strm,p.windowBits);if(g!==a.Z_OK)throw new Error(c[g]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function d(m,p){var g=new f(p);if(g.push(m,!0),g.err)throw g.msg||c[g.err];return g.result}f.prototype.push=function(m,p){var g,w,x,v,b,T,M=this.strm,B=this.options.chunkSize,Z=this.options.dictionary,S=!1;if(this.ended)return!1;w=p===~~p?p:p===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof m=="string"?M.input=o.binstring2buf(m):h.call(m)==="[object ArrayBuffer]"?M.input=new Uint8Array(m):M.input=m,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new i.Buf8(B),M.next_out=0,M.avail_out=B),(g=s.inflate(M,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&Z&&(T=typeof Z=="string"?o.string2buf(Z):h.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,g=s.inflateSetDictionary(this.strm,T)),g===a.Z_BUF_ERROR&&S===!0&&(g=a.Z_OK,S=!1),g!==a.Z_STREAM_END&&g!==a.Z_OK)return this.onEnd(g),!(this.ended=!0);M.next_out&&(M.avail_out!==0&&g!==a.Z_STREAM_END&&(M.avail_in!==0||w!==a.Z_FINISH&&w!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(M.output,M.next_out),v=M.next_out-x,b=o.buf2string(M.output,x),M.next_out=v,M.avail_out=B-v,v&&i.arraySet(M.output,M.output,x,v,0),this.onData(b)):this.onData(i.shrinkBuf(M.output,M.next_out)))),M.avail_in===0&&M.avail_out===0&&(S=!0)}while((0<M.avail_in||M.avail_out===0)&&g!==a.Z_STREAM_END);return g===a.Z_STREAM_END&&(w=a.Z_FINISH),w===a.Z_FINISH?(g=s.inflateEnd(this.strm),this.onEnd(g),this.ended=!0,g===a.Z_OK):w!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(M.avail_out=0))},f.prototype.onData=function(m){this.chunks.push(m)},f.prototype.onEnd=function(m){m===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=m,this.msg=this.strm.msg},r.Inflate=f,r.inflate=d,r.inflateRaw=function(m,p){return(p=p||{}).raw=!0,d(m,p)},r.ungzip=d},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(A,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var l=c.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)l.hasOwnProperty(u)&&(a[u]=l[u])}}return a},r.shrinkBuf=function(a,c){return a.length===c?a:a.subarray?a.subarray(0,c):(a.length=c,a)};var i={arraySet:function(a,c,l,u,h){if(c.subarray&&a.subarray)a.set(c.subarray(l,l+u),h);else for(var f=0;f<u;f++)a[h+f]=c[l+f]},flattenChunks:function(a){var c,l,u,h,f,d;for(c=u=0,l=a.length;c<l;c++)u+=a[c].length;for(d=new Uint8Array(u),c=h=0,l=a.length;c<l;c++)f=a[c],d.set(f,h),h+=f.length;return d}},o={arraySet:function(a,c,l,u,h){for(var f=0;f<u;f++)a[h+f]=c[l+f]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(s)},{}],42:[function(A,n,r){var s=A("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var a=new s.Buf8(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(u,h){if(h<65537&&(u.subarray&&o||!u.subarray&&i))return String.fromCharCode.apply(null,s.shrinkBuf(u,h));for(var f="",d=0;d<h;d++)f+=String.fromCharCode(u[d]);return f}a[254]=a[254]=1,r.string2buf=function(u){var h,f,d,m,p,g=u.length,w=0;for(m=0;m<g;m++)(64512&(f=u.charCodeAt(m)))==55296&&m+1<g&&(64512&(d=u.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),m++),w+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(w),m=p=0;p<w;m++)(64512&(f=u.charCodeAt(m)))==55296&&m+1<g&&(64512&(d=u.charCodeAt(m+1)))==56320&&(f=65536+(f-55296<<10)+(d-56320),m++),f<128?h[p++]=f:(f<2048?h[p++]=192|f>>>6:(f<65536?h[p++]=224|f>>>12:(h[p++]=240|f>>>18,h[p++]=128|f>>>12&63),h[p++]=128|f>>>6&63),h[p++]=128|63&f);return h},r.buf2binstring=function(u){return l(u,u.length)},r.binstring2buf=function(u){for(var h=new s.Buf8(u.length),f=0,d=h.length;f<d;f++)h[f]=u.charCodeAt(f);return h},r.buf2string=function(u,h){var f,d,m,p,g=h||u.length,w=new Array(2*g);for(f=d=0;f<g;)if((m=u[f++])<128)w[d++]=m;else if(4<(p=a[m]))w[d++]=65533,f+=p-1;else{for(m&=p===2?31:p===3?15:7;1<p&&f<g;)m=m<<6|63&u[f++],p--;1<p?w[d++]=65533:m<65536?w[d++]=m:(m-=65536,w[d++]=55296|m>>10&1023,w[d++]=56320|1023&m)}return l(w,d)},r.utf8border=function(u,h){var f;for((h=h||u.length)>u.length&&(h=u.length),f=h-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?h:f+a[u[f]]>h?f:h}},{"./common":41}],43:[function(A,n,r){n.exports=function(s,i,o,a){for(var c=65535&s|0,l=s>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;l=l+(c=c+i[a++]|0)|0,--u;);c%=65521,l%=65521}return c|l<<16|0}},{}],44:[function(A,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(A,n,r){var s=(function(){for(var i,o=[],a=0;a<256;a++){i=a;for(var c=0;c<8;c++)i=1&i?3988292384^i>>>1:i>>>1;o[a]=i}return o})();n.exports=function(i,o,a,c){var l=s,u=c+a;i^=-1;for(var h=c;h<u;h++)i=i>>>8^l[255&(i^o[h])];return-1^i}},{}],46:[function(A,n,r){var s,i=A("../utils/common"),o=A("./trees"),a=A("./adler32"),c=A("./crc32"),l=A("./messages"),u=0,h=4,f=0,d=-2,m=-1,p=4,g=2,w=8,x=9,v=286,b=30,T=19,M=2*v+1,B=15,Z=3,S=258,C=S+Z+1,k=42,N=113,y=1,I=2,U=3,j=4;function F(Y,J){return Y.msg=l[J],J}function V(Y){return(Y<<1)-(4<Y?9:0)}function W(Y){for(var J=Y.length;0<=--J;)Y[J]=0}function O(Y){var J=Y.state,X=J.pending;X>Y.avail_out&&(X=Y.avail_out),X!==0&&(i.arraySet(Y.output,J.pending_buf,J.pending_out,X,Y.next_out),Y.next_out+=X,J.pending_out+=X,Y.total_out+=X,Y.avail_out-=X,J.pending-=X,J.pending===0&&(J.pending_out=0))}function R(Y,J){o._tr_flush_block(Y,0<=Y.block_start?Y.block_start:-1,Y.strstart-Y.block_start,J),Y.block_start=Y.strstart,O(Y.strm)}function Ae(Y,J){Y.pending_buf[Y.pending++]=J}function K(Y,J){Y.pending_buf[Y.pending++]=J>>>8&255,Y.pending_buf[Y.pending++]=255&J}function ee(Y,J){var X,L,z=Y.max_chain_length,Q=Y.strstart,fe=Y.prev_length,pe=Y.nice_match,oe=Y.strstart>Y.w_size-C?Y.strstart-(Y.w_size-C):0,ye=Y.window,Se=Y.w_mask,Be=Y.prev,Ue=Y.strstart+S,Bt=ye[Q+fe-1],tt=ye[Q+fe];Y.prev_length>=Y.good_match&&(z>>=2),pe>Y.lookahead&&(pe=Y.lookahead);do if(ye[(X=J)+fe]===tt&&ye[X+fe-1]===Bt&&ye[X]===ye[Q]&&ye[++X]===ye[Q+1]){Q+=2,X++;do;while(ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&ye[++Q]===ye[++X]&&Q<Ue);if(L=S-(Ue-Q),Q=Ue-S,fe<L){if(Y.match_start=J,pe<=(fe=L))break;Bt=ye[Q+fe-1],tt=ye[Q+fe]}}while((J=Be[J&Se])>oe&&--z!=0);return fe<=Y.lookahead?fe:Y.lookahead}function de(Y){var J,X,L,z,Q,fe,pe,oe,ye,Se,Be=Y.w_size;do{if(z=Y.window_size-Y.lookahead-Y.strstart,Y.strstart>=Be+(Be-C)){for(i.arraySet(Y.window,Y.window,Be,Be,0),Y.match_start-=Be,Y.strstart-=Be,Y.block_start-=Be,J=X=Y.hash_size;L=Y.head[--J],Y.head[J]=Be<=L?L-Be:0,--X;);for(J=X=Be;L=Y.prev[--J],Y.prev[J]=Be<=L?L-Be:0,--X;);z+=Be}if(Y.strm.avail_in===0)break;if(fe=Y.strm,pe=Y.window,oe=Y.strstart+Y.lookahead,ye=z,Se=void 0,Se=fe.avail_in,ye<Se&&(Se=ye),X=Se===0?0:(fe.avail_in-=Se,i.arraySet(pe,fe.input,fe.next_in,Se,oe),fe.state.wrap===1?fe.adler=a(fe.adler,pe,Se,oe):fe.state.wrap===2&&(fe.adler=c(fe.adler,pe,Se,oe)),fe.next_in+=Se,fe.total_in+=Se,Se),Y.lookahead+=X,Y.lookahead+Y.insert>=Z)for(Q=Y.strstart-Y.insert,Y.ins_h=Y.window[Q],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Q+1])&Y.hash_mask;Y.insert&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Q+Z-1])&Y.hash_mask,Y.prev[Q&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Q,Q++,Y.insert--,!(Y.lookahead+Y.insert<Z)););}while(Y.lookahead<C&&Y.strm.avail_in!==0)}function be(Y,J){for(var X,L;;){if(Y.lookahead<C){if(de(Y),Y.lookahead<C&&J===u)return y;if(Y.lookahead===0)break}if(X=0,Y.lookahead>=Z&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+Z-1])&Y.hash_mask,X=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),X!==0&&Y.strstart-X<=Y.w_size-C&&(Y.match_length=ee(Y,X)),Y.match_length>=Z)if(L=o._tr_tally(Y,Y.strstart-Y.match_start,Y.match_length-Z),Y.lookahead-=Y.match_length,Y.match_length<=Y.max_lazy_match&&Y.lookahead>=Z){for(Y.match_length--;Y.strstart++,Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+Z-1])&Y.hash_mask,X=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart,--Y.match_length!=0;);Y.strstart++}else Y.strstart+=Y.match_length,Y.match_length=0,Y.ins_h=Y.window[Y.strstart],Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+1])&Y.hash_mask;else L=o._tr_tally(Y,0,Y.window[Y.strstart]),Y.lookahead--,Y.strstart++;if(L&&(R(Y,!1),Y.strm.avail_out===0))return y}return Y.insert=Y.strstart<Z-1?Y.strstart:Z-1,J===h?(R(Y,!0),Y.strm.avail_out===0?U:j):Y.last_lit&&(R(Y,!1),Y.strm.avail_out===0)?y:I}function me(Y,J){for(var X,L,z;;){if(Y.lookahead<C){if(de(Y),Y.lookahead<C&&J===u)return y;if(Y.lookahead===0)break}if(X=0,Y.lookahead>=Z&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+Z-1])&Y.hash_mask,X=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),Y.prev_length=Y.match_length,Y.prev_match=Y.match_start,Y.match_length=Z-1,X!==0&&Y.prev_length<Y.max_lazy_match&&Y.strstart-X<=Y.w_size-C&&(Y.match_length=ee(Y,X),Y.match_length<=5&&(Y.strategy===1||Y.match_length===Z&&4096<Y.strstart-Y.match_start)&&(Y.match_length=Z-1)),Y.prev_length>=Z&&Y.match_length<=Y.prev_length){for(z=Y.strstart+Y.lookahead-Z,L=o._tr_tally(Y,Y.strstart-1-Y.prev_match,Y.prev_length-Z),Y.lookahead-=Y.prev_length-1,Y.prev_length-=2;++Y.strstart<=z&&(Y.ins_h=(Y.ins_h<<Y.hash_shift^Y.window[Y.strstart+Z-1])&Y.hash_mask,X=Y.prev[Y.strstart&Y.w_mask]=Y.head[Y.ins_h],Y.head[Y.ins_h]=Y.strstart),--Y.prev_length!=0;);if(Y.match_available=0,Y.match_length=Z-1,Y.strstart++,L&&(R(Y,!1),Y.strm.avail_out===0))return y}else if(Y.match_available){if((L=o._tr_tally(Y,0,Y.window[Y.strstart-1]))&&R(Y,!1),Y.strstart++,Y.lookahead--,Y.strm.avail_out===0)return y}else Y.match_available=1,Y.strstart++,Y.lookahead--}return Y.match_available&&(L=o._tr_tally(Y,0,Y.window[Y.strstart-1]),Y.match_available=0),Y.insert=Y.strstart<Z-1?Y.strstart:Z-1,J===h?(R(Y,!0),Y.strm.avail_out===0?U:j):Y.last_lit&&(R(Y,!1),Y.strm.avail_out===0)?y:I}function _e(Y,J,X,L,z){this.good_length=Y,this.max_lazy=J,this.nice_length=X,this.max_chain=L,this.func=z}function ke(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*M),this.dyn_dtree=new i.Buf16(2*(2*b+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),W(this.dyn_ltree),W(this.dyn_dtree),W(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(B+1),this.heap=new i.Buf16(2*v+1),W(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*v+1),W(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ye(Y){var J;return Y&&Y.state?(Y.total_in=Y.total_out=0,Y.data_type=g,(J=Y.state).pending=0,J.pending_out=0,J.wrap<0&&(J.wrap=-J.wrap),J.status=J.wrap?k:N,Y.adler=J.wrap===2?0:1,J.last_flush=u,o._tr_init(J),f):F(Y,d)}function Pe(Y){var J=Ye(Y);return J===f&&(function(X){X.window_size=2*X.w_size,W(X.head),X.max_lazy_match=s[X.level].max_lazy,X.good_match=s[X.level].good_length,X.nice_match=s[X.level].nice_length,X.max_chain_length=s[X.level].max_chain,X.strstart=0,X.block_start=0,X.lookahead=0,X.insert=0,X.match_length=X.prev_length=Z-1,X.match_available=0,X.ins_h=0})(Y.state),J}function $e(Y,J,X,L,z,Q){if(!Y)return d;var fe=1;if(J===m&&(J=6),L<0?(fe=0,L=-L):15<L&&(fe=2,L-=16),z<1||x<z||X!==w||L<8||15<L||J<0||9<J||Q<0||p<Q)return F(Y,d);L===8&&(L=9);var pe=new ke;return(Y.state=pe).strm=Y,pe.wrap=fe,pe.gzhead=null,pe.w_bits=L,pe.w_size=1<<pe.w_bits,pe.w_mask=pe.w_size-1,pe.hash_bits=z+7,pe.hash_size=1<<pe.hash_bits,pe.hash_mask=pe.hash_size-1,pe.hash_shift=~~((pe.hash_bits+Z-1)/Z),pe.window=new i.Buf8(2*pe.w_size),pe.head=new i.Buf16(pe.hash_size),pe.prev=new i.Buf16(pe.w_size),pe.lit_bufsize=1<<z+6,pe.pending_buf_size=4*pe.lit_bufsize,pe.pending_buf=new i.Buf8(pe.pending_buf_size),pe.d_buf=1*pe.lit_bufsize,pe.l_buf=3*pe.lit_bufsize,pe.level=J,pe.strategy=Q,pe.method=X,Pe(Y)}s=[new _e(0,0,0,0,function(Y,J){var X=65535;for(X>Y.pending_buf_size-5&&(X=Y.pending_buf_size-5);;){if(Y.lookahead<=1){if(de(Y),Y.lookahead===0&&J===u)return y;if(Y.lookahead===0)break}Y.strstart+=Y.lookahead,Y.lookahead=0;var L=Y.block_start+X;if((Y.strstart===0||Y.strstart>=L)&&(Y.lookahead=Y.strstart-L,Y.strstart=L,R(Y,!1),Y.strm.avail_out===0)||Y.strstart-Y.block_start>=Y.w_size-C&&(R(Y,!1),Y.strm.avail_out===0))return y}return Y.insert=0,J===h?(R(Y,!0),Y.strm.avail_out===0?U:j):(Y.strstart>Y.block_start&&(R(Y,!1),Y.strm.avail_out),y)}),new _e(4,4,8,4,be),new _e(4,5,16,8,be),new _e(4,6,32,32,be),new _e(4,4,16,16,me),new _e(8,16,32,32,me),new _e(8,16,128,128,me),new _e(8,32,128,256,me),new _e(32,128,258,1024,me),new _e(32,258,258,4096,me)],r.deflateInit=function(Y,J){return $e(Y,J,w,15,8,0)},r.deflateInit2=$e,r.deflateReset=Pe,r.deflateResetKeep=Ye,r.deflateSetHeader=function(Y,J){return Y&&Y.state?Y.state.wrap!==2?d:(Y.state.gzhead=J,f):d},r.deflate=function(Y,J){var X,L,z,Q;if(!Y||!Y.state||5<J||J<0)return Y?F(Y,d):d;if(L=Y.state,!Y.output||!Y.input&&Y.avail_in!==0||L.status===666&&J!==h)return F(Y,Y.avail_out===0?-5:d);if(L.strm=Y,X=L.last_flush,L.last_flush=J,L.status===k)if(L.wrap===2)Y.adler=0,Ae(L,31),Ae(L,139),Ae(L,8),L.gzhead?(Ae(L,(L.gzhead.text?1:0)+(L.gzhead.hcrc?2:0)+(L.gzhead.extra?4:0)+(L.gzhead.name?8:0)+(L.gzhead.comment?16:0)),Ae(L,255&L.gzhead.time),Ae(L,L.gzhead.time>>8&255),Ae(L,L.gzhead.time>>16&255),Ae(L,L.gzhead.time>>24&255),Ae(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),Ae(L,255&L.gzhead.os),L.gzhead.extra&&L.gzhead.extra.length&&(Ae(L,255&L.gzhead.extra.length),Ae(L,L.gzhead.extra.length>>8&255)),L.gzhead.hcrc&&(Y.adler=c(Y.adler,L.pending_buf,L.pending,0)),L.gzindex=0,L.status=69):(Ae(L,0),Ae(L,0),Ae(L,0),Ae(L,0),Ae(L,0),Ae(L,L.level===9?2:2<=L.strategy||L.level<2?4:0),Ae(L,3),L.status=N);else{var fe=w+(L.w_bits-8<<4)<<8;fe|=(2<=L.strategy||L.level<2?0:L.level<6?1:L.level===6?2:3)<<6,L.strstart!==0&&(fe|=32),fe+=31-fe%31,L.status=N,K(L,fe),L.strstart!==0&&(K(L,Y.adler>>>16),K(L,65535&Y.adler)),Y.adler=1}if(L.status===69)if(L.gzhead.extra){for(z=L.pending;L.gzindex<(65535&L.gzhead.extra.length)&&(L.pending!==L.pending_buf_size||(L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),O(Y),z=L.pending,L.pending!==L.pending_buf_size));)Ae(L,255&L.gzhead.extra[L.gzindex]),L.gzindex++;L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),L.gzindex===L.gzhead.extra.length&&(L.gzindex=0,L.status=73)}else L.status=73;if(L.status===73)if(L.gzhead.name){z=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),O(Y),z=L.pending,L.pending===L.pending_buf_size)){Q=1;break}Q=L.gzindex<L.gzhead.name.length?255&L.gzhead.name.charCodeAt(L.gzindex++):0,Ae(L,Q)}while(Q!==0);L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),Q===0&&(L.gzindex=0,L.status=91)}else L.status=91;if(L.status===91)if(L.gzhead.comment){z=L.pending;do{if(L.pending===L.pending_buf_size&&(L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),O(Y),z=L.pending,L.pending===L.pending_buf_size)){Q=1;break}Q=L.gzindex<L.gzhead.comment.length?255&L.gzhead.comment.charCodeAt(L.gzindex++):0,Ae(L,Q)}while(Q!==0);L.gzhead.hcrc&&L.pending>z&&(Y.adler=c(Y.adler,L.pending_buf,L.pending-z,z)),Q===0&&(L.status=103)}else L.status=103;if(L.status===103&&(L.gzhead.hcrc?(L.pending+2>L.pending_buf_size&&O(Y),L.pending+2<=L.pending_buf_size&&(Ae(L,255&Y.adler),Ae(L,Y.adler>>8&255),Y.adler=0,L.status=N)):L.status=N),L.pending!==0){if(O(Y),Y.avail_out===0)return L.last_flush=-1,f}else if(Y.avail_in===0&&V(J)<=V(X)&&J!==h)return F(Y,-5);if(L.status===666&&Y.avail_in!==0)return F(Y,-5);if(Y.avail_in!==0||L.lookahead!==0||J!==u&&L.status!==666){var pe=L.strategy===2?(function(oe,ye){for(var Se;;){if(oe.lookahead===0&&(de(oe),oe.lookahead===0)){if(ye===u)return y;break}if(oe.match_length=0,Se=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++,Se&&(R(oe,!1),oe.strm.avail_out===0))return y}return oe.insert=0,ye===h?(R(oe,!0),oe.strm.avail_out===0?U:j):oe.last_lit&&(R(oe,!1),oe.strm.avail_out===0)?y:I})(L,J):L.strategy===3?(function(oe,ye){for(var Se,Be,Ue,Bt,tt=oe.window;;){if(oe.lookahead<=S){if(de(oe),oe.lookahead<=S&&ye===u)return y;if(oe.lookahead===0)break}if(oe.match_length=0,oe.lookahead>=Z&&0<oe.strstart&&(Be=tt[Ue=oe.strstart-1])===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]){Bt=oe.strstart+S;do;while(Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Be===tt[++Ue]&&Ue<Bt);oe.match_length=S-(Bt-Ue),oe.match_length>oe.lookahead&&(oe.match_length=oe.lookahead)}if(oe.match_length>=Z?(Se=o._tr_tally(oe,1,oe.match_length-Z),oe.lookahead-=oe.match_length,oe.strstart+=oe.match_length,oe.match_length=0):(Se=o._tr_tally(oe,0,oe.window[oe.strstart]),oe.lookahead--,oe.strstart++),Se&&(R(oe,!1),oe.strm.avail_out===0))return y}return oe.insert=0,ye===h?(R(oe,!0),oe.strm.avail_out===0?U:j):oe.last_lit&&(R(oe,!1),oe.strm.avail_out===0)?y:I})(L,J):s[L.level].func(L,J);if(pe!==U&&pe!==j||(L.status=666),pe===y||pe===U)return Y.avail_out===0&&(L.last_flush=-1),f;if(pe===I&&(J===1?o._tr_align(L):J!==5&&(o._tr_stored_block(L,0,0,!1),J===3&&(W(L.head),L.lookahead===0&&(L.strstart=0,L.block_start=0,L.insert=0))),O(Y),Y.avail_out===0))return L.last_flush=-1,f}return J!==h?f:L.wrap<=0?1:(L.wrap===2?(Ae(L,255&Y.adler),Ae(L,Y.adler>>8&255),Ae(L,Y.adler>>16&255),Ae(L,Y.adler>>24&255),Ae(L,255&Y.total_in),Ae(L,Y.total_in>>8&255),Ae(L,Y.total_in>>16&255),Ae(L,Y.total_in>>24&255)):(K(L,Y.adler>>>16),K(L,65535&Y.adler)),O(Y),0<L.wrap&&(L.wrap=-L.wrap),L.pending!==0?f:1)},r.deflateEnd=function(Y){var J;return Y&&Y.state?(J=Y.state.status)!==k&&J!==69&&J!==73&&J!==91&&J!==103&&J!==N&&J!==666?F(Y,d):(Y.state=null,J===N?F(Y,-3):f):d},r.deflateSetDictionary=function(Y,J){var X,L,z,Q,fe,pe,oe,ye,Se=J.length;if(!Y||!Y.state||(Q=(X=Y.state).wrap)===2||Q===1&&X.status!==k||X.lookahead)return d;for(Q===1&&(Y.adler=a(Y.adler,J,Se,0)),X.wrap=0,Se>=X.w_size&&(Q===0&&(W(X.head),X.strstart=0,X.block_start=0,X.insert=0),ye=new i.Buf8(X.w_size),i.arraySet(ye,J,Se-X.w_size,X.w_size,0),J=ye,Se=X.w_size),fe=Y.avail_in,pe=Y.next_in,oe=Y.input,Y.avail_in=Se,Y.next_in=0,Y.input=J,de(X);X.lookahead>=Z;){for(L=X.strstart,z=X.lookahead-(Z-1);X.ins_h=(X.ins_h<<X.hash_shift^X.window[L+Z-1])&X.hash_mask,X.prev[L&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=L,L++,--z;);X.strstart=L,X.lookahead=Z-1,de(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=Z-1,X.match_available=0,Y.next_in=pe,Y.input=oe,Y.avail_in=fe,X.wrap=Q,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(A,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(A,n,r){n.exports=function(s,i){var o,a,c,l,u,h,f,d,m,p,g,w,x,v,b,T,M,B,Z,S,C,k,N,y,I;o=s.state,a=s.next_in,y=s.input,c=a+(s.avail_in-5),l=s.next_out,I=s.output,u=l-(i-s.avail_out),h=l+(s.avail_out-257),f=o.dmax,d=o.wsize,m=o.whave,p=o.wnext,g=o.window,w=o.hold,x=o.bits,v=o.lencode,b=o.distcode,T=(1<<o.lenbits)-1,M=(1<<o.distbits)-1;e:do{x<15&&(w+=y[a++]<<x,x+=8,w+=y[a++]<<x,x+=8),B=v[w&T];t:for(;;){if(w>>>=Z=B>>>24,x-=Z,(Z=B>>>16&255)===0)I[l++]=65535&B;else{if(!(16&Z)){if((64&Z)==0){B=v[(65535&B)+(w&(1<<Z)-1)];continue t}if(32&Z){o.mode=12;break e}s.msg="invalid literal/length code",o.mode=30;break e}S=65535&B,(Z&=15)&&(x<Z&&(w+=y[a++]<<x,x+=8),S+=w&(1<<Z)-1,w>>>=Z,x-=Z),x<15&&(w+=y[a++]<<x,x+=8,w+=y[a++]<<x,x+=8),B=b[w&M];A:for(;;){if(w>>>=Z=B>>>24,x-=Z,!(16&(Z=B>>>16&255))){if((64&Z)==0){B=b[(65535&B)+(w&(1<<Z)-1)];continue A}s.msg="invalid distance code",o.mode=30;break e}if(C=65535&B,x<(Z&=15)&&(w+=y[a++]<<x,(x+=8)<Z&&(w+=y[a++]<<x,x+=8)),f<(C+=w&(1<<Z)-1)){s.msg="invalid distance too far back",o.mode=30;break e}if(w>>>=Z,x-=Z,(Z=l-u)<C){if(m<(Z=C-Z)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break e}if(N=g,(k=0)===p){if(k+=d-Z,Z<S){for(S-=Z;I[l++]=g[k++],--Z;);k=l-C,N=I}}else if(p<Z){if(k+=d+p-Z,(Z-=p)<S){for(S-=Z;I[l++]=g[k++],--Z;);if(k=0,p<S){for(S-=Z=p;I[l++]=g[k++],--Z;);k=l-C,N=I}}}else if(k+=p-Z,Z<S){for(S-=Z;I[l++]=g[k++],--Z;);k=l-C,N=I}for(;2<S;)I[l++]=N[k++],I[l++]=N[k++],I[l++]=N[k++],S-=3;S&&(I[l++]=N[k++],1<S&&(I[l++]=N[k++]))}else{for(k=l-C;I[l++]=I[k++],I[l++]=I[k++],I[l++]=I[k++],2<(S-=3););S&&(I[l++]=I[k++],1<S&&(I[l++]=I[k++]))}break}}break}}while(a<c&&l<h);a-=S=x>>3,w&=(1<<(x-=S<<3))-1,s.next_in=a,s.next_out=l,s.avail_in=a<c?c-a+5:5-(a-c),s.avail_out=l<h?h-l+257:257-(l-h),o.hold=w,o.bits=x}},{}],49:[function(A,n,r){var s=A("../utils/common"),i=A("./adler32"),o=A("./crc32"),a=A("./inffast"),c=A("./inftrees"),l=1,u=2,h=0,f=-2,d=1,m=852,p=592;function g(k){return(k>>>24&255)+(k>>>8&65280)+((65280&k)<<8)+((255&k)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(k){var N;return k&&k.state?(N=k.state,k.total_in=k.total_out=N.total=0,k.msg="",N.wrap&&(k.adler=1&N.wrap),N.mode=d,N.last=0,N.havedict=0,N.dmax=32768,N.head=null,N.hold=0,N.bits=0,N.lencode=N.lendyn=new s.Buf32(m),N.distcode=N.distdyn=new s.Buf32(p),N.sane=1,N.back=-1,h):f}function v(k){var N;return k&&k.state?((N=k.state).wsize=0,N.whave=0,N.wnext=0,x(k)):f}function b(k,N){var y,I;return k&&k.state?(I=k.state,N<0?(y=0,N=-N):(y=1+(N>>4),N<48&&(N&=15)),N&&(N<8||15<N)?f:(I.window!==null&&I.wbits!==N&&(I.window=null),I.wrap=y,I.wbits=N,v(k))):f}function T(k,N){var y,I;return k?(I=new w,(k.state=I).window=null,(y=b(k,N))!==h&&(k.state=null),y):f}var M,B,Z=!0;function S(k){if(Z){var N;for(M=new s.Buf32(512),B=new s.Buf32(32),N=0;N<144;)k.lens[N++]=8;for(;N<256;)k.lens[N++]=9;for(;N<280;)k.lens[N++]=7;for(;N<288;)k.lens[N++]=8;for(c(l,k.lens,0,288,M,0,k.work,{bits:9}),N=0;N<32;)k.lens[N++]=5;c(u,k.lens,0,32,B,0,k.work,{bits:5}),Z=!1}k.lencode=M,k.lenbits=9,k.distcode=B,k.distbits=5}function C(k,N,y,I){var U,j=k.state;return j.window===null&&(j.wsize=1<<j.wbits,j.wnext=0,j.whave=0,j.window=new s.Buf8(j.wsize)),I>=j.wsize?(s.arraySet(j.window,N,y-j.wsize,j.wsize,0),j.wnext=0,j.whave=j.wsize):(I<(U=j.wsize-j.wnext)&&(U=I),s.arraySet(j.window,N,y-I,U,j.wnext),(I-=U)?(s.arraySet(j.window,N,y-I,I,0),j.wnext=I,j.whave=j.wsize):(j.wnext+=U,j.wnext===j.wsize&&(j.wnext=0),j.whave<j.wsize&&(j.whave+=U))),0}r.inflateReset=v,r.inflateReset2=b,r.inflateResetKeep=x,r.inflateInit=function(k){return T(k,15)},r.inflateInit2=T,r.inflate=function(k,N){var y,I,U,j,F,V,W,O,R,Ae,K,ee,de,be,me,_e,ke,Ye,Pe,$e,Y,J,X,L,z=0,Q=new s.Buf8(4),fe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!k||!k.state||!k.output||!k.input&&k.avail_in!==0)return f;(y=k.state).mode===12&&(y.mode=13),F=k.next_out,U=k.output,W=k.avail_out,j=k.next_in,I=k.input,V=k.avail_in,O=y.hold,R=y.bits,Ae=V,K=W,J=h;e:for(;;)switch(y.mode){case d:if(y.wrap===0){y.mode=13;break}for(;R<16;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(2&y.wrap&&O===35615){Q[y.check=0]=255&O,Q[1]=O>>>8&255,y.check=o(y.check,Q,2,0),R=O=0,y.mode=2;break}if(y.flags=0,y.head&&(y.head.done=!1),!(1&y.wrap)||(((255&O)<<8)+(O>>8))%31){k.msg="incorrect header check",y.mode=30;break}if((15&O)!=8){k.msg="unknown compression method",y.mode=30;break}if(R-=4,Y=8+(15&(O>>>=4)),y.wbits===0)y.wbits=Y;else if(Y>y.wbits){k.msg="invalid window size",y.mode=30;break}y.dmax=1<<Y,k.adler=y.check=1,y.mode=512&O?10:12,R=O=0;break;case 2:for(;R<16;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(y.flags=O,(255&y.flags)!=8){k.msg="unknown compression method",y.mode=30;break}if(57344&y.flags){k.msg="unknown header flags set",y.mode=30;break}y.head&&(y.head.text=O>>8&1),512&y.flags&&(Q[0]=255&O,Q[1]=O>>>8&255,y.check=o(y.check,Q,2,0)),R=O=0,y.mode=3;case 3:for(;R<32;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.head&&(y.head.time=O),512&y.flags&&(Q[0]=255&O,Q[1]=O>>>8&255,Q[2]=O>>>16&255,Q[3]=O>>>24&255,y.check=o(y.check,Q,4,0)),R=O=0,y.mode=4;case 4:for(;R<16;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.head&&(y.head.xflags=255&O,y.head.os=O>>8),512&y.flags&&(Q[0]=255&O,Q[1]=O>>>8&255,y.check=o(y.check,Q,2,0)),R=O=0,y.mode=5;case 5:if(1024&y.flags){for(;R<16;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.length=O,y.head&&(y.head.extra_len=O),512&y.flags&&(Q[0]=255&O,Q[1]=O>>>8&255,y.check=o(y.check,Q,2,0)),R=O=0}else y.head&&(y.head.extra=null);y.mode=6;case 6:if(1024&y.flags&&(V<(ee=y.length)&&(ee=V),ee&&(y.head&&(Y=y.head.extra_len-y.length,y.head.extra||(y.head.extra=new Array(y.head.extra_len)),s.arraySet(y.head.extra,I,j,ee,Y)),512&y.flags&&(y.check=o(y.check,I,ee,j)),V-=ee,j+=ee,y.length-=ee),y.length))break e;y.length=0,y.mode=7;case 7:if(2048&y.flags){if(V===0)break e;for(ee=0;Y=I[j+ee++],y.head&&Y&&y.length<65536&&(y.head.name+=String.fromCharCode(Y)),Y&&ee<V;);if(512&y.flags&&(y.check=o(y.check,I,ee,j)),V-=ee,j+=ee,Y)break e}else y.head&&(y.head.name=null);y.length=0,y.mode=8;case 8:if(4096&y.flags){if(V===0)break e;for(ee=0;Y=I[j+ee++],y.head&&Y&&y.length<65536&&(y.head.comment+=String.fromCharCode(Y)),Y&&ee<V;);if(512&y.flags&&(y.check=o(y.check,I,ee,j)),V-=ee,j+=ee,Y)break e}else y.head&&(y.head.comment=null);y.mode=9;case 9:if(512&y.flags){for(;R<16;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(O!==(65535&y.check)){k.msg="header crc mismatch",y.mode=30;break}R=O=0}y.head&&(y.head.hcrc=y.flags>>9&1,y.head.done=!0),k.adler=y.check=0,y.mode=12;break;case 10:for(;R<32;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}k.adler=y.check=g(O),R=O=0,y.mode=11;case 11:if(y.havedict===0)return k.next_out=F,k.avail_out=W,k.next_in=j,k.avail_in=V,y.hold=O,y.bits=R,2;k.adler=y.check=1,y.mode=12;case 12:if(N===5||N===6)break e;case 13:if(y.last){O>>>=7&R,R-=7&R,y.mode=27;break}for(;R<3;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}switch(y.last=1&O,R-=1,3&(O>>>=1)){case 0:y.mode=14;break;case 1:if(S(y),y.mode=20,N!==6)break;O>>>=2,R-=2;break e;case 2:y.mode=17;break;case 3:k.msg="invalid block type",y.mode=30}O>>>=2,R-=2;break;case 14:for(O>>>=7&R,R-=7&R;R<32;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if((65535&O)!=(O>>>16^65535)){k.msg="invalid stored block lengths",y.mode=30;break}if(y.length=65535&O,R=O=0,y.mode=15,N===6)break e;case 15:y.mode=16;case 16:if(ee=y.length){if(V<ee&&(ee=V),W<ee&&(ee=W),ee===0)break e;s.arraySet(U,I,j,ee,F),V-=ee,j+=ee,W-=ee,F+=ee,y.length-=ee;break}y.mode=12;break;case 17:for(;R<14;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(y.nlen=257+(31&O),O>>>=5,R-=5,y.ndist=1+(31&O),O>>>=5,R-=5,y.ncode=4+(15&O),O>>>=4,R-=4,286<y.nlen||30<y.ndist){k.msg="too many length or distance symbols",y.mode=30;break}y.have=0,y.mode=18;case 18:for(;y.have<y.ncode;){for(;R<3;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.lens[fe[y.have++]]=7&O,O>>>=3,R-=3}for(;y.have<19;)y.lens[fe[y.have++]]=0;if(y.lencode=y.lendyn,y.lenbits=7,X={bits:y.lenbits},J=c(0,y.lens,0,19,y.lencode,0,y.work,X),y.lenbits=X.bits,J){k.msg="invalid code lengths set",y.mode=30;break}y.have=0,y.mode=19;case 19:for(;y.have<y.nlen+y.ndist;){for(;_e=(z=y.lencode[O&(1<<y.lenbits)-1])>>>16&255,ke=65535&z,!((me=z>>>24)<=R);){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(ke<16)O>>>=me,R-=me,y.lens[y.have++]=ke;else{if(ke===16){for(L=me+2;R<L;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(O>>>=me,R-=me,y.have===0){k.msg="invalid bit length repeat",y.mode=30;break}Y=y.lens[y.have-1],ee=3+(3&O),O>>>=2,R-=2}else if(ke===17){for(L=me+3;R<L;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}R-=me,Y=0,ee=3+(7&(O>>>=me)),O>>>=3,R-=3}else{for(L=me+7;R<L;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}R-=me,Y=0,ee=11+(127&(O>>>=me)),O>>>=7,R-=7}if(y.have+ee>y.nlen+y.ndist){k.msg="invalid bit length repeat",y.mode=30;break}for(;ee--;)y.lens[y.have++]=Y}}if(y.mode===30)break;if(y.lens[256]===0){k.msg="invalid code -- missing end-of-block",y.mode=30;break}if(y.lenbits=9,X={bits:y.lenbits},J=c(l,y.lens,0,y.nlen,y.lencode,0,y.work,X),y.lenbits=X.bits,J){k.msg="invalid literal/lengths set",y.mode=30;break}if(y.distbits=6,y.distcode=y.distdyn,X={bits:y.distbits},J=c(u,y.lens,y.nlen,y.ndist,y.distcode,0,y.work,X),y.distbits=X.bits,J){k.msg="invalid distances set",y.mode=30;break}if(y.mode=20,N===6)break e;case 20:y.mode=21;case 21:if(6<=V&&258<=W){k.next_out=F,k.avail_out=W,k.next_in=j,k.avail_in=V,y.hold=O,y.bits=R,a(k,K),F=k.next_out,U=k.output,W=k.avail_out,j=k.next_in,I=k.input,V=k.avail_in,O=y.hold,R=y.bits,y.mode===12&&(y.back=-1);break}for(y.back=0;_e=(z=y.lencode[O&(1<<y.lenbits)-1])>>>16&255,ke=65535&z,!((me=z>>>24)<=R);){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(_e&&(240&_e)==0){for(Ye=me,Pe=_e,$e=ke;_e=(z=y.lencode[$e+((O&(1<<Ye+Pe)-1)>>Ye)])>>>16&255,ke=65535&z,!(Ye+(me=z>>>24)<=R);){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}O>>>=Ye,R-=Ye,y.back+=Ye}if(O>>>=me,R-=me,y.back+=me,y.length=ke,_e===0){y.mode=26;break}if(32&_e){y.back=-1,y.mode=12;break}if(64&_e){k.msg="invalid literal/length code",y.mode=30;break}y.extra=15&_e,y.mode=22;case 22:if(y.extra){for(L=y.extra;R<L;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.length+=O&(1<<y.extra)-1,O>>>=y.extra,R-=y.extra,y.back+=y.extra}y.was=y.length,y.mode=23;case 23:for(;_e=(z=y.distcode[O&(1<<y.distbits)-1])>>>16&255,ke=65535&z,!((me=z>>>24)<=R);){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if((240&_e)==0){for(Ye=me,Pe=_e,$e=ke;_e=(z=y.distcode[$e+((O&(1<<Ye+Pe)-1)>>Ye)])>>>16&255,ke=65535&z,!(Ye+(me=z>>>24)<=R);){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}O>>>=Ye,R-=Ye,y.back+=Ye}if(O>>>=me,R-=me,y.back+=me,64&_e){k.msg="invalid distance code",y.mode=30;break}y.offset=ke,y.extra=15&_e,y.mode=24;case 24:if(y.extra){for(L=y.extra;R<L;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}y.offset+=O&(1<<y.extra)-1,O>>>=y.extra,R-=y.extra,y.back+=y.extra}if(y.offset>y.dmax){k.msg="invalid distance too far back",y.mode=30;break}y.mode=25;case 25:if(W===0)break e;if(ee=K-W,y.offset>ee){if((ee=y.offset-ee)>y.whave&&y.sane){k.msg="invalid distance too far back",y.mode=30;break}de=ee>y.wnext?(ee-=y.wnext,y.wsize-ee):y.wnext-ee,ee>y.length&&(ee=y.length),be=y.window}else be=U,de=F-y.offset,ee=y.length;for(W<ee&&(ee=W),W-=ee,y.length-=ee;U[F++]=be[de++],--ee;);y.length===0&&(y.mode=21);break;case 26:if(W===0)break e;U[F++]=y.length,W--,y.mode=21;break;case 27:if(y.wrap){for(;R<32;){if(V===0)break e;V--,O|=I[j++]<<R,R+=8}if(K-=W,k.total_out+=K,y.total+=K,K&&(k.adler=y.check=y.flags?o(y.check,U,K,F-K):i(y.check,U,K,F-K)),K=W,(y.flags?O:g(O))!==y.check){k.msg="incorrect data check",y.mode=30;break}R=O=0}y.mode=28;case 28:if(y.wrap&&y.flags){for(;R<32;){if(V===0)break e;V--,O+=I[j++]<<R,R+=8}if(O!==(4294967295&y.total)){k.msg="incorrect length check",y.mode=30;break}R=O=0}y.mode=29;case 29:J=1;break e;case 30:J=-3;break e;case 31:return-4;default:return f}return k.next_out=F,k.avail_out=W,k.next_in=j,k.avail_in=V,y.hold=O,y.bits=R,(y.wsize||K!==k.avail_out&&y.mode<30&&(y.mode<27||N!==4))&&C(k,k.output,k.next_out,K-k.avail_out)?(y.mode=31,-4):(Ae-=k.avail_in,K-=k.avail_out,k.total_in+=Ae,k.total_out+=K,y.total+=K,y.wrap&&K&&(k.adler=y.check=y.flags?o(y.check,U,K,k.next_out-K):i(y.check,U,K,k.next_out-K)),k.data_type=y.bits+(y.last?64:0)+(y.mode===12?128:0)+(y.mode===20||y.mode===15?256:0),(Ae==0&&K===0||N===4)&&J===h&&(J=-5),J)},r.inflateEnd=function(k){if(!k||!k.state)return f;var N=k.state;return N.window&&(N.window=null),k.state=null,h},r.inflateGetHeader=function(k,N){var y;return k&&k.state?(2&(y=k.state).wrap)==0?f:((y.head=N).done=!1,h):f},r.inflateSetDictionary=function(k,N){var y,I=N.length;return k&&k.state?(y=k.state).wrap!==0&&y.mode!==11?f:y.mode===11&&i(1,N,I,0)!==y.check?-3:C(k,N,I,I)?(y.mode=31,-4):(y.havedict=1,h):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(A,n,r){var s=A("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(l,u,h,f,d,m,p,g){var w,x,v,b,T,M,B,Z,S,C=g.bits,k=0,N=0,y=0,I=0,U=0,j=0,F=0,V=0,W=0,O=0,R=null,Ae=0,K=new s.Buf16(16),ee=new s.Buf16(16),de=null,be=0;for(k=0;k<=15;k++)K[k]=0;for(N=0;N<f;N++)K[u[h+N]]++;for(U=C,I=15;1<=I&&K[I]===0;I--);if(I<U&&(U=I),I===0)return d[m++]=20971520,d[m++]=20971520,g.bits=1,0;for(y=1;y<I&&K[y]===0;y++);for(U<y&&(U=y),k=V=1;k<=15;k++)if(V<<=1,(V-=K[k])<0)return-1;if(0<V&&(l===0||I!==1))return-1;for(ee[1]=0,k=1;k<15;k++)ee[k+1]=ee[k]+K[k];for(N=0;N<f;N++)u[h+N]!==0&&(p[ee[u[h+N]]++]=N);if(M=l===0?(R=de=p,19):l===1?(R=i,Ae-=257,de=o,be-=257,256):(R=a,de=c,-1),k=y,T=m,F=N=O=0,v=-1,b=(W=1<<(j=U))-1,l===1&&852<W||l===2&&592<W)return 1;for(;;){for(B=k-F,S=p[N]<M?(Z=0,p[N]):p[N]>M?(Z=de[be+p[N]],R[Ae+p[N]]):(Z=96,0),w=1<<k-F,y=x=1<<j;d[T+(O>>F)+(x-=w)]=B<<24|Z<<16|S|0,x!==0;);for(w=1<<k-1;O&w;)w>>=1;if(w!==0?(O&=w-1,O+=w):O=0,N++,--K[k]==0){if(k===I)break;k=u[h+p[N]]}if(U<k&&(O&b)!==v){for(F===0&&(F=U),T+=y,V=1<<(j=k-F);j+F<I&&!((V-=K[j+F])<=0);)j++,V<<=1;if(W+=1<<j,l===1&&852<W||l===2&&592<W)return 1;d[v=O&b]=U<<24|j<<16|T-m|0}}return O!==0&&(d[T+O]=k-F<<24|64<<16|0),g.bits=U,0}},{"../utils/common":41}],51:[function(A,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(A,n,r){var s=A("../utils/common"),i=0,o=1;function a(z){for(var Q=z.length;0<=--Q;)z[Q]=0}var c=0,l=29,u=256,h=u+1+l,f=30,d=19,m=2*h+1,p=15,g=16,w=7,x=256,v=16,b=17,T=18,M=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],B=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],C=new Array(2*(h+2));a(C);var k=new Array(2*f);a(k);var N=new Array(512);a(N);var y=new Array(256);a(y);var I=new Array(l);a(I);var U,j,F,V=new Array(f);function W(z,Q,fe,pe,oe){this.static_tree=z,this.extra_bits=Q,this.extra_base=fe,this.elems=pe,this.max_length=oe,this.has_stree=z&&z.length}function O(z,Q){this.dyn_tree=z,this.max_code=0,this.stat_desc=Q}function R(z){return z<256?N[z]:N[256+(z>>>7)]}function Ae(z,Q){z.pending_buf[z.pending++]=255&Q,z.pending_buf[z.pending++]=Q>>>8&255}function K(z,Q,fe){z.bi_valid>g-fe?(z.bi_buf|=Q<<z.bi_valid&65535,Ae(z,z.bi_buf),z.bi_buf=Q>>g-z.bi_valid,z.bi_valid+=fe-g):(z.bi_buf|=Q<<z.bi_valid&65535,z.bi_valid+=fe)}function ee(z,Q,fe){K(z,fe[2*Q],fe[2*Q+1])}function de(z,Q){for(var fe=0;fe|=1&z,z>>>=1,fe<<=1,0<--Q;);return fe>>>1}function be(z,Q,fe){var pe,oe,ye=new Array(p+1),Se=0;for(pe=1;pe<=p;pe++)ye[pe]=Se=Se+fe[pe-1]<<1;for(oe=0;oe<=Q;oe++){var Be=z[2*oe+1];Be!==0&&(z[2*oe]=de(ye[Be]++,Be))}}function me(z){var Q;for(Q=0;Q<h;Q++)z.dyn_ltree[2*Q]=0;for(Q=0;Q<f;Q++)z.dyn_dtree[2*Q]=0;for(Q=0;Q<d;Q++)z.bl_tree[2*Q]=0;z.dyn_ltree[2*x]=1,z.opt_len=z.static_len=0,z.last_lit=z.matches=0}function _e(z){8<z.bi_valid?Ae(z,z.bi_buf):0<z.bi_valid&&(z.pending_buf[z.pending++]=z.bi_buf),z.bi_buf=0,z.bi_valid=0}function ke(z,Q,fe,pe){var oe=2*Q,ye=2*fe;return z[oe]<z[ye]||z[oe]===z[ye]&&pe[Q]<=pe[fe]}function Ye(z,Q,fe){for(var pe=z.heap[fe],oe=fe<<1;oe<=z.heap_len&&(oe<z.heap_len&&ke(Q,z.heap[oe+1],z.heap[oe],z.depth)&&oe++,!ke(Q,pe,z.heap[oe],z.depth));)z.heap[fe]=z.heap[oe],fe=oe,oe<<=1;z.heap[fe]=pe}function Pe(z,Q,fe){var pe,oe,ye,Se,Be=0;if(z.last_lit!==0)for(;pe=z.pending_buf[z.d_buf+2*Be]<<8|z.pending_buf[z.d_buf+2*Be+1],oe=z.pending_buf[z.l_buf+Be],Be++,pe===0?ee(z,oe,Q):(ee(z,(ye=y[oe])+u+1,Q),(Se=M[ye])!==0&&K(z,oe-=I[ye],Se),ee(z,ye=R(--pe),fe),(Se=B[ye])!==0&&K(z,pe-=V[ye],Se)),Be<z.last_lit;);ee(z,x,Q)}function $e(z,Q){var fe,pe,oe,ye=Q.dyn_tree,Se=Q.stat_desc.static_tree,Be=Q.stat_desc.has_stree,Ue=Q.stat_desc.elems,Bt=-1;for(z.heap_len=0,z.heap_max=m,fe=0;fe<Ue;fe++)ye[2*fe]!==0?(z.heap[++z.heap_len]=Bt=fe,z.depth[fe]=0):ye[2*fe+1]=0;for(;z.heap_len<2;)ye[2*(oe=z.heap[++z.heap_len]=Bt<2?++Bt:0)]=1,z.depth[oe]=0,z.opt_len--,Be&&(z.static_len-=Se[2*oe+1]);for(Q.max_code=Bt,fe=z.heap_len>>1;1<=fe;fe--)Ye(z,ye,fe);for(oe=Ue;fe=z.heap[1],z.heap[1]=z.heap[z.heap_len--],Ye(z,ye,1),pe=z.heap[1],z.heap[--z.heap_max]=fe,z.heap[--z.heap_max]=pe,ye[2*oe]=ye[2*fe]+ye[2*pe],z.depth[oe]=(z.depth[fe]>=z.depth[pe]?z.depth[fe]:z.depth[pe])+1,ye[2*fe+1]=ye[2*pe+1]=oe,z.heap[1]=oe++,Ye(z,ye,1),2<=z.heap_len;);z.heap[--z.heap_max]=z.heap[1],(function(tt,BA){var P,D,E,H,ne,ue,$=BA.dyn_tree,se=BA.max_code,Ve=BA.stat_desc.static_tree,Qe=BA.stat_desc.has_stree,Ke=BA.stat_desc.extra_bits,Ie=BA.stat_desc.extra_base,In=BA.stat_desc.max_length,yr=0;for(H=0;H<=p;H++)tt.bl_count[H]=0;for($[2*tt.heap[tt.heap_max]+1]=0,P=tt.heap_max+1;P<m;P++)In<(H=$[2*$[2*(D=tt.heap[P])+1]+1]+1)&&(H=In,yr++),$[2*D+1]=H,se<D||(tt.bl_count[H]++,ne=0,Ie<=D&&(ne=Ke[D-Ie]),ue=$[2*D],tt.opt_len+=ue*(H+ne),Qe&&(tt.static_len+=ue*(Ve[2*D+1]+ne)));if(yr!==0){do{for(H=In-1;tt.bl_count[H]===0;)H--;tt.bl_count[H]--,tt.bl_count[H+1]+=2,tt.bl_count[In]--,yr-=2}while(0<yr);for(H=In;H!==0;H--)for(D=tt.bl_count[H];D!==0;)se<(E=tt.heap[--P])||($[2*E+1]!==H&&(tt.opt_len+=(H-$[2*E+1])*$[2*E],$[2*E+1]=H),D--)}})(z,Q),be(ye,Bt,z.bl_count)}function Y(z,Q,fe){var pe,oe,ye=-1,Se=Q[1],Be=0,Ue=7,Bt=4;for(Se===0&&(Ue=138,Bt=3),Q[2*(fe+1)+1]=65535,pe=0;pe<=fe;pe++)oe=Se,Se=Q[2*(pe+1)+1],++Be<Ue&&oe===Se||(Be<Bt?z.bl_tree[2*oe]+=Be:oe!==0?(oe!==ye&&z.bl_tree[2*oe]++,z.bl_tree[2*v]++):Be<=10?z.bl_tree[2*b]++:z.bl_tree[2*T]++,ye=oe,Bt=(Be=0)===Se?(Ue=138,3):oe===Se?(Ue=6,3):(Ue=7,4))}function J(z,Q,fe){var pe,oe,ye=-1,Se=Q[1],Be=0,Ue=7,Bt=4;for(Se===0&&(Ue=138,Bt=3),pe=0;pe<=fe;pe++)if(oe=Se,Se=Q[2*(pe+1)+1],!(++Be<Ue&&oe===Se)){if(Be<Bt)for(;ee(z,oe,z.bl_tree),--Be!=0;);else oe!==0?(oe!==ye&&(ee(z,oe,z.bl_tree),Be--),ee(z,v,z.bl_tree),K(z,Be-3,2)):Be<=10?(ee(z,b,z.bl_tree),K(z,Be-3,3)):(ee(z,T,z.bl_tree),K(z,Be-11,7));ye=oe,Bt=(Be=0)===Se?(Ue=138,3):oe===Se?(Ue=6,3):(Ue=7,4)}}a(V);var X=!1;function L(z,Q,fe,pe){K(z,(c<<1)+(pe?1:0),3),(function(oe,ye,Se,Be){_e(oe),Ae(oe,Se),Ae(oe,~Se),s.arraySet(oe.pending_buf,oe.window,ye,Se,oe.pending),oe.pending+=Se})(z,Q,fe)}r._tr_init=function(z){X||((function(){var Q,fe,pe,oe,ye,Se=new Array(p+1);for(oe=pe=0;oe<l-1;oe++)for(I[oe]=pe,Q=0;Q<1<<M[oe];Q++)y[pe++]=oe;for(y[pe-1]=oe,oe=ye=0;oe<16;oe++)for(V[oe]=ye,Q=0;Q<1<<B[oe];Q++)N[ye++]=oe;for(ye>>=7;oe<f;oe++)for(V[oe]=ye<<7,Q=0;Q<1<<B[oe]-7;Q++)N[256+ye++]=oe;for(fe=0;fe<=p;fe++)Se[fe]=0;for(Q=0;Q<=143;)C[2*Q+1]=8,Q++,Se[8]++;for(;Q<=255;)C[2*Q+1]=9,Q++,Se[9]++;for(;Q<=279;)C[2*Q+1]=7,Q++,Se[7]++;for(;Q<=287;)C[2*Q+1]=8,Q++,Se[8]++;for(be(C,h+1,Se),Q=0;Q<f;Q++)k[2*Q+1]=5,k[2*Q]=de(Q,5);U=new W(C,M,u+1,h,p),j=new W(k,B,0,f,p),F=new W(new Array(0),Z,0,d,w)})(),X=!0),z.l_desc=new O(z.dyn_ltree,U),z.d_desc=new O(z.dyn_dtree,j),z.bl_desc=new O(z.bl_tree,F),z.bi_buf=0,z.bi_valid=0,me(z)},r._tr_stored_block=L,r._tr_flush_block=function(z,Q,fe,pe){var oe,ye,Se=0;0<z.level?(z.strm.data_type===2&&(z.strm.data_type=(function(Be){var Ue,Bt=4093624447;for(Ue=0;Ue<=31;Ue++,Bt>>>=1)if(1&Bt&&Be.dyn_ltree[2*Ue]!==0)return i;if(Be.dyn_ltree[18]!==0||Be.dyn_ltree[20]!==0||Be.dyn_ltree[26]!==0)return o;for(Ue=32;Ue<u;Ue++)if(Be.dyn_ltree[2*Ue]!==0)return o;return i})(z)),$e(z,z.l_desc),$e(z,z.d_desc),Se=(function(Be){var Ue;for(Y(Be,Be.dyn_ltree,Be.l_desc.max_code),Y(Be,Be.dyn_dtree,Be.d_desc.max_code),$e(Be,Be.bl_desc),Ue=d-1;3<=Ue&&Be.bl_tree[2*S[Ue]+1]===0;Ue--);return Be.opt_len+=3*(Ue+1)+5+5+4,Ue})(z),oe=z.opt_len+3+7>>>3,(ye=z.static_len+3+7>>>3)<=oe&&(oe=ye)):oe=ye=fe+5,fe+4<=oe&&Q!==-1?L(z,Q,fe,pe):z.strategy===4||ye===oe?(K(z,2+(pe?1:0),3),Pe(z,C,k)):(K(z,4+(pe?1:0),3),(function(Be,Ue,Bt,tt){var BA;for(K(Be,Ue-257,5),K(Be,Bt-1,5),K(Be,tt-4,4),BA=0;BA<tt;BA++)K(Be,Be.bl_tree[2*S[BA]+1],3);J(Be,Be.dyn_ltree,Ue-1),J(Be,Be.dyn_dtree,Bt-1)})(z,z.l_desc.max_code+1,z.d_desc.max_code+1,Se+1),Pe(z,z.dyn_ltree,z.dyn_dtree)),me(z),pe&&_e(z)},r._tr_tally=function(z,Q,fe){return z.pending_buf[z.d_buf+2*z.last_lit]=Q>>>8&255,z.pending_buf[z.d_buf+2*z.last_lit+1]=255&Q,z.pending_buf[z.l_buf+z.last_lit]=255&fe,z.last_lit++,Q===0?z.dyn_ltree[2*fe]++:(z.matches++,Q--,z.dyn_ltree[2*(y[fe]+u+1)]++,z.dyn_dtree[2*R(Q)]++),z.last_lit===z.lit_bufsize-1},r._tr_align=function(z){K(z,2,3),ee(z,x,C),(function(Q){Q.bi_valid===16?(Ae(Q,Q.bi_buf),Q.bi_buf=0,Q.bi_valid=0):8<=Q.bi_valid&&(Q.pending_buf[Q.pending++]=255&Q.bi_buf,Q.bi_buf>>=8,Q.bi_valid-=8)})(z)}},{"../utils/common":41}],53:[function(A,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(A,n,r){(function(s){(function(i,o){if(!i.setImmediate){var a,c,l,u,h=1,f={},d=!1,m=i.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(i);p=p&&p.setTimeout?p:i,a={}.toString.call(i.process)==="[object process]"?function(v){vr.nextTick(function(){w(v)})}:(function(){if(i.postMessage&&!i.importScripts){var v=!0,b=i.onmessage;return i.onmessage=function(){v=!1},i.postMessage("","*"),i.onmessage=b,v}})()?(u="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",x,!1):i.attachEvent("onmessage",x),function(v){i.postMessage(u+v,"*")}):i.MessageChannel?((l=new MessageChannel).port1.onmessage=function(v){w(v.data)},function(v){l.port2.postMessage(v)}):m&&"onreadystatechange"in m.createElement("script")?(c=m.documentElement,function(v){var b=m.createElement("script");b.onreadystatechange=function(){w(v),b.onreadystatechange=null,c.removeChild(b),b=null},c.appendChild(b)}):function(v){setTimeout(w,0,v)},p.setImmediate=function(v){typeof v!="function"&&(v=new Function(""+v));for(var b=new Array(arguments.length-1),T=0;T<b.length;T++)b[T]=arguments[T+1];var M={callback:v,args:b};return f[h]=M,a(h),h++},p.clearImmediate=g}function g(v){delete f[v]}function w(v){if(d)setTimeout(w,0,v);else{var b=f[v];if(b){d=!0;try{(function(T){var M=T.callback,B=T.args;switch(B.length){case 0:M();break;case 1:M(B[0]);break;case 2:M(B[0],B[1]);break;case 3:M(B[0],B[1],B[2]);break;default:M.apply(o,B)}})(b)}finally{g(v),d=!1}}}}function x(v){v.source===i&&typeof v.data=="string"&&v.data.indexOf(u)===0&&w(+v.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ri<"u"?ri:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(b_)),b_.exports}var Toe=Noe(),__=Hi(Toe);const ZO={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/dicom":["dcm"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg","one","onea"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"application/zip+dotlottie":["lottie"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a","m4b"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/ief":["ief"],"image/jaii":["jaii"],"image/jais":["jais"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxl":["jxl"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/pjpeg":["jfif"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime","mht","mhtml"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step":["step","stp","stpnc","p21","210"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts","m2t","m2ts","mts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(ZO);var Gr=function(t,e,A,n){if(A==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?n:A==="a"?n.call(t):n?n.value:e.get(t)},ic,ru,Io;class Yoe{constructor(...e){ic.set(this,new Map),ru.set(this,new Map),Io.set(this,new Map);for(const A of e)this.define(A)}define(e,A=!1){for(let[n,r]of Object.entries(e)){n=n.toLowerCase(),r=r.map(o=>o.toLowerCase()),Gr(this,Io,"f").has(n)||Gr(this,Io,"f").set(n,new Set);const s=Gr(this,Io,"f").get(n);let i=!0;for(let o of r){const a=o.startsWith("*");if(o=a?o.slice(1):o,s?.add(o),i&&Gr(this,ru,"f").set(n,o),i=!1,a)continue;const c=Gr(this,ic,"f").get(o);if(c&&c!=n&&!A)throw new Error(`"${n} -> ${o}" conflicts with "${c} -> ${o}". Pass \`force=true\` to override this definition.`);Gr(this,ic,"f").set(o,n)}}return this}getType(e){if(typeof e!="string")return null;const A=e.replace(/^.*[/\\]/s,"").toLowerCase(),n=A.replace(/^.*\./s,"").toLowerCase(),r=A.length<e.length;return!(n.length<A.length-1)&&r?null:Gr(this,ic,"f").get(n)??null}getExtension(e){return typeof e!="string"?null:(e=e?.split?.(";")[0],(e&&Gr(this,ru,"f").get(e.trim().toLowerCase()))??null)}getAllExtensions(e){return typeof e!="string"?null:Gr(this,Io,"f").get(e.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const e of Gr(this,Io,"f").values())Object.freeze(e);return this}_getTestState(){return{types:Gr(this,ic,"f"),extensions:Gr(this,ru,"f")}}}ic=new WeakMap,ru=new WeakMap,Io=new WeakMap;var Ooe=new Yoe(ZO)._freeze(),zd={},CO;function Soe(){if(CO)return zd;CO=1,Object.defineProperty(zd,"__esModule",{value:!0});function t(o){return typeof o=="string"?o.startsWith("#")?"hex":null:"r"in o&&"g"in o&&"b"in o?"rgb":"h"in o&&"s"in o&&"l"in o?"hsl":"h"in o&&"s"in o&&"v"in o?"hsv":null}function e(o){const a=o.replace("#",""),c=parseInt(a.substring(0,2),16),l=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16);return{r:c,g:l,b:u}}function A(o){const{r:a,g:c,b:l}=o;return`#${(a<<16|c<<8|l).toString(16).padStart(6,"0")}`}function n(o,a,c){a/=100,c/=100;const l=f=>(f+o/30)%12,u=a*Math.min(c,1-c),h=f=>c-u*Math.max(-1,Math.min(l(f)-3,Math.min(9-l(f),1)));return{r:Math.round(h(0)*255),g:Math.round(h(8)*255),b:Math.round(h(4)*255)}}function r(o,a,c){a/=100,c/=100;const l=h=>(h+o/60)%6,u=h=>c-c*a*Math.max(0,Math.min(l(h),4-l(h),1));return{r:Math.round(u(5)*255),g:Math.round(u(3)*255),b:Math.round(u(1)*255)}}function s(o,a){const c=Math.abs(o.r-a.r),l=Math.abs(o.g-a.g),u=Math.abs(o.b-a.b),h=1-c/255,f=1-l/255,d=1-u/255;return(h+f+d)/3}function i(o){let a=Math.min(Math.max(o.similarityThreshold||.8,.01),1);const{targetColor:c,colorArray:l}=o,u=t(c);if(u===null)return null;let h;if(u==="hex")h=e(c);else if(u==="rgb")h=c;else if(u==="hsl"){const{h:m,s:p,l:g}=c;h=n(m,p,g)}else if(u==="hsv"){const{h:m,s:p,v:g}=c;h=r(m,p,g)}else return null;let f=null,d=0;for(const m of l){t(m.hex?m.hex:m.rgb),m.hex?m.rgb||(m.rgb=e(m.hex)):m.hex=A(m.rgb);const p=Math.round(s(h,m.rgb)*100)/100;p>=a&&p>d&&(d=p,f={name:m.name,hex:m.hex,rgb:m.rgb,similarity:p})}return f}return zd.default=i,zd}var Zoe=Soe(),Coe=Hi(Zoe);function Poe(t,e=16){return t?sl(e-1).map(A=>{const n=A*Nh;return new Mh(t.bits[n]/63,t.bits[n+1]/63,t.bits[n+2]/63)}):[]}let ei=class{pos;bytes;size;sauce;SAUCE_ID=new Uint8Array([83,65,85,67,69]);COMNT_ID=new Uint8Array([67,79,77,78,84]);constructor(e){this.bytes=e,this.pos=0,this.size=e.length,this.parseSauce()}get(){if(this.pos>=this.bytes.length)throw new Error("Unexpected end of file reached.");return this.bytes[this.pos++]}get16(){return this.get()+(this.get()<<8)}get32(){let e=this.get();return e+=this.get()<<8,e+=this.get()<<16,e+(this.get()<<24)}getC(){return String.fromCharCode(this.get())}getS(e){let A="";for(;e-- >0;)A+=this.getC();return A.replace(/\s+$/,"")}getSZ(e){let A="",n;for(;e-- >0&&(n=this.get(),n!==0);)A+=String.fromCharCode(n);return A}lookahead(e){let A;for(A=0;A<e.length&&!(this.pos+A===this.bytes.length||this.bytes[this.pos+A]!==e[A]);++A);return A===e.length}read(e){const A=this.pos;for(e=e??this.size-this.pos;++this.pos<this.size&&--e!==0;);return this.bytes.subarray(A,this.pos)}seek(e){this.pos=e}peek(e){return e=e??0,this.bytes[this.pos+e]}getPos(){return this.pos}eof(){return this.pos===this.size}parseSauce(){if(this.pos=this.bytes.length-128,this.lookahead(this.SAUCE_ID)){this.sauce={},this.getS(5),this.sauce.version=this.getS(2),this.sauce.title=this.getS(35),this.sauce.author=this.getS(20),this.sauce.group=this.getS(20),this.sauce.date=this.getS(8),this.sauce.fileSize=this.get32(),this.sauce.dataType=this.get(),this.sauce.fileType=this.get(),this.sauce.tInfo1=this.get16(),this.sauce.tInfo2=this.get16(),this.sauce.tInfo3=this.get16(),this.sauce.tInfo4=this.get16(),this.sauce.comments=[];const e=this.get();if(this.sauce.flags=this.get(),this.sauce.blinkMode=(this.sauce.flags&1)===1,this.sauce.letterSpacing=this.sauce.flags>>1&3,this.sauce.aspectRatio=this.sauce.flags>>3&3,this.sauce.tInfoS=this.getSZ(22),e>0&&(this.pos=this.bytes.length-128-e*64-5,this.lookahead(this.COMNT_ID))){this.getS(5);let A=e;for(;A-- >0;)this.sauce.comments.push(this.getS(64))}}this.pos=0,this.sauce?this.sauce.fileSize>0&&this.sauce.fileSize<this.bytes.length?this.size=this.sauce.fileSize:this.size=this.bytes.length-128:this.size=this.bytes.length}};function PO(t,e,A){const n=t.getData();e=e*t.columns*10;const r=Math.min(e+A*t.columns*10,n.length),s=[];for(let i=e;i<r;i+=10)if(n[i+1]){const o=n[i],a=n.subarray(i+2,i+6),c=n.subarray(i+6,i+10);s.push([o,a[0],c[0]])}else{const o=n[i],a=n[i+2],c=n[i+3];s.push([o,a,c])}return{screen:s,palette:t.palette,width:t.columns,height:t.rows}}function Roe(t){t=t??{};const e={};switch(e.icecolors=typeof t.icecolors=="number"&&t.icecolors>=0&&t.icecolors<=1?t.icecolors:0,t.bits){case"8":case"9":case"ced":case"workbench":e.bits=t.bits;break;default:e.bits="8"}return e.columns=typeof t.columns=="number"&&t.columns>0?t.columns:160,e.font=typeof t.font=="string"&&t.font?t.font:"80x25",e.thumbnail=typeof t.thumbnail=="number"&&t.thumbnail>=0&&t.thumbnail<=3?t.thumbnail:0,e["2x"]=typeof t["2x"]=="number"&&t["2x"]>=0&&t["2x"]<=1?t["2x"]:0,e.imagedata=typeof t.imagedata=="number"&&t.imagedata>=0&&t.imagedata<=1?t.imagedata:0,e.rows=typeof t.rows=="number"&&t.rows>0?t.rows:26,e["2J"]=typeof t["2J"]=="number"&&t["2J"]>=0&&t["2J"]<=1?t["2J"]:1,e.filetype=typeof t.filetype=="string"?t.filetype:"ans",e}const jo={"b-strict":{width:8,height:8,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgAGABsbAAAAAAAAGxs/mz+bGwAGD5gPAZ8GAAAdpx4PGrMADxmZD9sxn8AGBgwAAAAAAAMGDAwMBgMADAYDAwMGDAAAMd+PH7/GBAAGBj/GBgAAAAAAAAAGBgwAAAA/gAAAAAAAAAAABgYAAMGDBgwYMCAAnzO1tbmfIAAfAwMDAwMAHzGxgZ8wP4A/AZ8BsbGfADAwMbGxn8GAP7AfAbGxnwAfMD8xsbGfAD+xgwYMDAwAHzGxsZ8xnwAfMbGxn4GfAAAGBgAABgYAAAYGAAAGBgwAAYYYBgGAAAAAH4AfgAAAABgGAYYYAAAfMbGBnwwADB+w9/z38B9AHzGxsb+xsYA/MbGxvzG/AB8xsbAwMZ8APjMxsbGxvwAPmbGwPjA/gA+ZsbA+MDAAHzGxsDexn4AxsbGxv7GxgAYGBgYGBgYAP7GBgbGzPgAxsbGzPjGxgDAwMDAwMD+AMbu/tbGxsYAxub23s7GxgB8xsbGxsZ8APzGxsb8wMAAfMbGxsbOfgP8xsbM+MbGAHzGxsB8BnwAfhgYGBgYGADGxsbGxsZ8AMbGxsZsbDgAxsbG1v7uxgDGxsbGfMbGAMbGbGw4MGAA/sbGBnzA/AA8MDAwMDA8AMBgMBgMBgMBPAwMDAwMPAAYPGbDAAAAAAAAAAAAAAD/GBgOAAAAAAAAfAZ+xsZ+AMD8xsbGxvwAAHzGwMDGfAAGfsbGxsZ+AAB8xsb+wHwAADxmZmZg/GAAfsbGxn4GfMD8xsbGxsYAGAAYGBgYGAAGAAYGxsbGfMDGxsbM/sYAwMDAwMbGfAAA/NbW1sbGAAD8xsbGxsYAAHzGxsbGfAAA/MbGxvzAAAB+xsbGfgYAAHzGxsbAwAAAfMbAfAZ8AGD+YGZmZjwAAMbGxsbGfgAAxsbGbHw4AADGxtbW1nwAAMbGxnzGxgAAwMbGxn4GfAD+xgZ8wP4ADhgYcBgYDgAYGBgYGBgYGHAYGA4YGHAAdtwAAAAAAAAPPvjjDz74AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAAAAAAAAAABgAGBgYGBgA//////////8cMDB8MDB+AGM+dz5jAAAAw2Y8GD4YGAAYGBgAGBgYAD5wPnc+Bz4AZmYAAAAAAAB+gZ2xnYF+AB42Zj4AfwAAADt37nc7AAD/DgAAAAAAAAAAAP4AAAAAf8H99/33wX//AAAAAAAAADxmPAAAAAAAHBx/HBwAfwB8Dhw4fgAAAHwOHA58AAAAHDhwAAAAAAAAAHd3d3d/cD9/fz8PDw8AAAAcHAAAAAAAAAAAAAAcODh4ODg4AAAAPGZmPAB+AAAA7nc7d+4AAGDnbnw7d+8DYOdufD9z5g/gM3c+/Tt34RwAHDhwdz4AOBw+d393dwAOHD53f3d3ABx3Pnd/d3cAec8+d393dwB3AD53f3d3ABw2Pnd/d3cAHz4+f37u7wAfOHBwOB8OHDgcf3B8cH8ADhx/cHxwfwAcd39wfHB/AP9/Pw8ff///OBw+HBwcPgAOHD4cHBw+ABx3PhwcHD4A//788Pj+//98fnf/d358AHnv9///7+cAOBw+d3d3PgAOHD53d3c+ABx3Pnd3dz4Aec8+d3d3PgDjPnd3d3c+AADnfjx+5wAAP3d/f393/gA4HHd3d3c+AA4cd3d3dz4AHDZ3d3d3PgB3AHd3d3c+AAcM43c+HBwA4OD+5/7g4AA+d3d+d3d+cDgcPgc/dz8ADhw+Bz93PwAcdz4HP3c/AHnPPgc/dz8AdwA+Bz93PwAcNj4HP3c/AAAAfx9//H8AAAA+cHBwPhw4HD53f3A+AA4cPnd/cD4AHHc+d39wPgAPP39//////zgcABwcHA4ADhwAHBwcDgAcdwAcHBwOAPD8/v7/////cP4cPnd3PgB5zwB+d3d3ADgcAD53dz4ADhwAPnd3PgAcdwA+d3c+AHnPAD53dz4AAHcAPnd3PgAAHAB/ABwAAAADfu//937AOBwAd3d3PwAOHAB3d3c/ABx3AHd3dz8A/////39/Pw8OHAB3dz4cOHBwfnd3fnBw//////7+/PA=",amigaFont:!0},"b-struct":{width:8,height:8,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgAGABsbAAAAAAAAGxs/mz+bGwAGD5gPAZ8GAAAdpx4PGrMADxmZD9sxn8AGBgwAAAAAAAMGDAwMBgMADAYDAwMGDAAAMd+PH7/GBAAGBj/GBgAAAAAAAAAGBgwAAAA/gAAAAAAAAAAABgYAAMGDBgwYMCAAnzO1tbmfIAAfAwMDAwMAHzGxgZ8wP4A/AZ8BsbGfADAwMbGxn8GAP7AfAbGxnwAfMD8xsbGfAD+xgwYMDAwAHzGxsZ8xnwAfMbGxn4GfAAAGBgAABgYAAAYGAAAGBgwAAYYYBgGAAAAAH4AfgAAAABgGAYYYAAAfMbGBnwwADB+w9/z38B9AHwGfsbGxn4A/MbGxvzG/AB8xsbAwMZ8APjMxsbGxvwAfMbGxv7AfAA8ZmZmYP5gAHbOxsZ+BnwAxsbGxv7GxgAYGBgYGBgYAH4GBsbGxnwAxsbGzPjGxgDAwMDAxsZ8AMbu/tbGxsYA/MbGxsbGxgB8xsbGxsZ8APzGxsbG/MAAfMbGxsbMfgP8xsbM+MbGAHzGxsB8BnwAYPxgZmZmPADGxsbGxsZ8AMbGxsZsbDgAxsbG1v7uxgDGxsbGfMbGAMbGxsZ+BnwA/sbGBnzA/gA8MDAwMDA8AMBgMBgMBgMBPAwMDAwMPAAYPGbDAAAAAAAAAAAAAAD/GBgOAAAAAAB8BnbOxsZ+APzGzPjGxvwAfMbAxsbGfAAGfsbGxsZ+AHzG/sDGxnwAPGZmZmD8YAB+xsbOdgZ8AMbG/sbGxsYAGAAYGBgYGAAGAB7GxsZ8AMbGxsz8xsYAYGBgYGZmPAD81tbWxsbGAMbm9t7OxsYAfMbGxsbGfAD8xsbG/MDAAHzGxsbOdgYA/MbG+MzGxgB8xsbAfAZ8AP5gZmZmZjwABsbGxsbOdgAGxsbGbHw4AAbGxtbW1nwABsbGxnzGxgAGxsbGfgZ8AP4GfMDGxv4ADhgYcBgYDgAYGBgYGBgYGHAYGA4YGHAAdtwAAAAAAAAGPOCGDjjAAAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAAAAAAAAAABgAGBgYGBgA//////////8cMDB8MDB+AGM+dz5jAAAAw2Y8GD4YGAAYGBgAGBgYAAAzZsxmMwAAZmYAAAAAAAB+gZ2xnYF+AB42Zj4AfwAAADNmzGYzAAD/DgAAAAAAAAAAAP4AAAAA6U9JAAAAAAD/AAAAAAAAADxmPAAAAAAAAAAYfhgAfgB4DBgwfAAAAHgMGAx4AAAAGDBgAAAAAAAAAGZmZmZ/YD56ejoKCgoAAAAAGBgAAAAAAAAAAAAcOHgYGBgAAAAAPGZmPAB+AAAAzGYzZswAAEDGTFgyZs4CQMNGTB4yZA7gM2Y8+TNnAQwADD5gY2M+YDB8xsb+xgAMGHzGxv7GADjGfMbG/sYAdtx8xsb+xgBsAHzGxv7GABhmfMbG/sYAAH/MzP/MzwB8xsDAwMZ8GHA+ZsD4wP4ADD5mwPjA/gAwzP7A+MD+AP9/Pw8ff///MBgAGBgYGAAMGAAYGBgYABhmGBgYGBgA//788Pj+//94bGb2ZmZ8ADtuAOb23s4AYDB8xsbGfAAMGHzGxsZ8ADDMfMbGxnwAbNh8xsbGfADGAHzGxsZ8AADDZhhmwwAAfM7O1ubmfAAwGMbGxsZ8ABgwxsbGxnwAEGyCxsbGfABsAMbGxsZ8ABgwxsbGfgZ8YGB8ZnxgYAB8xsbG3MbcwGAwPAZ+xn4ADBg8Bn7GfgAYZjwGfsZ+AHbcPAZ+xn4AbAA8Bn7GfgAYZjwGfsZ+AAAAPht/2G4AAHzGwMDGfBhgMHzG/sB8AAwYfMb+wHwAMMx8xv7AfAADHz9/f////zAYABgYGAwADBgAGBgYDAAYZgAYGBgMAMD4/P7+////Dz9///9/Pw9m2PzGxsbGADAYfMbGxnwAGDB8xsbGfADw/P7///788HbcfMbGxnwAbAB8xsbGfAAAGAB+ABgAAAB8ztbW5nwAYDDGxsbGfgAYMMbGxsZ+ABhmAMbGxn4A////f38/HwMYMMbGxn4GfGBgfGZmfGBg/////v78+MA=",amigaFont:!0},microknight:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwkJAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAEBB8fNDQfHwWFhYWfHwQEGBglpZ8fBgYMDBsbNLSDAxwcNjYcHD29tzc2Nh8fAYGGBgYGDAwAAAAAAAAAAAAABgYMDBgYGBgYGAwMBgYAAAwMBgYDAwMDAwMGBgwMAAAAABsbDg4/v44OGxsAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAf38AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB4eMzM3t729ubmfHwAABgYGBg4OBgYGBgYGH5+AAB8fAYGPDxgYMDAwMD+/gAAPDwGBhwcBgZGRsbGfHwAABgYGBgwMGxszMz+/gwMAAD4+MDA/PwGBkZGzMx4eAAAcHDAwPz8xsbGxszMeHgAAP7+BgYMDBgYGBgYGBgYAAB4eMzMfHzGxsbGzMx4eAAAeHjMzMbGxsZ+fgYGHBwAAAAAAAAYGBgYAAAYGBgYAAAAAAAAGBgYGAAAGBgYGDAwAAAYGDAwYGAwMBgYAAAAAAAAAAB+fgAAAAB+fgAAAAAAADAwGBgMDBgYMDAAAAAAfHzGxgYGPDwwMAAAMDAAAHx8xsbe3tbW3t7AwH5+AAB4eMzMxsb+/sbGxsbGxgAA+PjMzPz8xsbGxszM+PgAAHh4zMzAwMDAwMDGxnx8AAD4+MzMxsbGxsbGxsb8/AAA/v7AwPz8wMDAwMDA/v4AAP7+wMD8/MDAwMDAwMDAAAA4OGBgwMDOzsbGxsZ+fgYGxsbGxsbG/v7GxsbGxsYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBsbGxsZ8fAAAxsbMzNjY8PDY2MzMxsYAAMDAwMDAwMDAwMDAwP7+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAAHh4zMzGxsbGxsbGxnx8AAD4+MzMxsbGxvz8wMDAwAAAeHjMzMbGxsbGxtbWfHwMDPj4zMzGxsbG/PzY2MzMBgZ4eMDAfHwGBkZGxsZ8fAAAfn4YGBgYGBgYGBgYGBgAAMbGxsbGxsbGxsbGxnx8AADGxsbGxsZsbGxsODg4OAAAxsbGxsbG1tb+/u7uxsYAAMbGbGw4ODg4bGzGxsbGAADGxsbGxsZ8fAwMDAwMDAAA/v4MDBgYMDBgYMDA/v4AADg4MDAwMDAwMDAwMDg4AADAwGBgMDAYGAwMBgYDAwEBODgYGBgYGBgYGBgYODgAABAQODhsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAPDwGBn5+xsbGxn5+AADAwPj4zMzGxsbGxsb8/AAAAAB4eMzMwMDAwMbGfHwAAAYGPj5mZsbGxsbGxn5+AAAAAHh4zMz8/MDAxsZ8fAAAODhsbGBgeHhgYGBgYGBgYAAAfn7GxsbGxsZ+fgYGfHzAwPj4zMzGxsbGxsbGxgAAGBgAADg4GBgYGBgYfn4AAAwMAAAcHAwMDAwMDExMODjAwMzM2Njw8NjYzMzGxgAAODgYGBgYGBgYGBgYfn4AAAAAxMTu7v7+1tbGxsbGAAAAAPj4zMzGxsbGxsbGxgAAAAB4eMzMxsbGxsbGfHwAAAAA+PjMzMbGxsbGxvz8wMAAAD4+ZmbGxsbGxsZ+fgYGAAD8/MbGwMDAwMDAwMAAAAAAeHjAwHx8BgbGxnx8AAAwMHx8MDAwMDAwMjIcHAAAAADGxsbGxsbGxsbGfn4AAAAAxsbGxmxsbGw4ODg4AAAAAMbG1tb+/nx8bGxERAAAAADGxmxsODg4OGxsxsYAAAAAxsbGxsbGxsZ+fgYGfHwAAP7+DAwYGDAwYGD+/gAADAwYGBgYMDAYGBgYDAwAABgYGBgYGBgYGBgYGBgYGBgwMBgYGBgMDBgYGBgwMAAAcnKcnAAAAAAAAAAAAAAAADg4cHDg4MHBg4MHBw4OHBzPz/f3h4czMwEBOTk5Of//5+ff34eHMzMBATk5OTn//8/PMzOHhzMzAQE5OTk5//+NjWNjh4czMwEBOTk5Of//k5P//4eHMzMBATk5OTn//4eHMzOHhzMzAQE5OTk5///AwJOTMDADAzMzMzMwMP//h4czMz8/Pz8/PzMzh4fPz8/P9/cBAT8/AwM/PwEB///n59/fAQE/PwMDPz8BAf//5+eZmQEBPz8DAz8/AQH//5OT//8BAT8/AwM/PwEB///Pz/f3gYHn5+fn5+eBgf//5+ff34GB5+fn5+fngYH//+fnmZmBgefn5+fn54GB//+Tk///gYHn5+fn5+eBgf//BwczMzk5GRk5OTk5AwP//42NY2MZGQkJISExMTk5///Pz/f3h4czMzk5OTmDg///5+ff34eHMzM5OTk5g4P//8/PMzOHhzMzOTk5OYOD//+NjWNjh4czMzk5OTmDg///k5P//4eHMzM5OTk5g4P/////g4MpKQAAJCQ4OIGB//+HhzMzISEJCRkZOTmDg///z8/39zk5OTk5OTk5g4P//+fn3985OTk5OTk5OYOD///n55mZOTk5OTk5OTmDg///k5P//zk5OTk5OTk5g4P//+fn3985OTk5g4Pz8/Pz//8/PwcHMzM5OQMDPz8/Pz8///+HhzMzIyM5OTk5IyM/PwAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAMDB4eMzMwMDAwMbGfHwwMDg4bGxgYPj4YGBgYP7+AAAAAMbGfHzGxsbGfHzGxgAAxsbGxsbGfHwMDD4+DAwAABgYGBgYGAAAGBgYGBgYAAB4eMDAfHzGxsbGfHwGBjw8bGwAAAAAAAAAAAAAAAAAADw8QkKZmaGhoaGZmUJCPDwAAH5+xsbGxn5+AAB8fAAAAAA2Nmxs2NhsbDY2AAAAAHx8DAwAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PHx8AAAAAAAAAAAAAAAAAAA4OGxsbGw4OAAAAAAAAAAAAAAQEHx8EBAAAHx8AAAAAHBwGBgwMGBgeHgAAAAAAABwcBgYMDAYGHBwAAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAxsbGxsbGxsbGxvz8wMAAAH5+9PR0dBQUFBQUFAAAAAAAAAAAGBgYGAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMHh4AAAAAAAAAAB8fMbGxsZ8fAAAfHwAAAAA2NhsbDY2bGzY2AAAAABgYObmbGx6ejY2b2/PzwMDYGDm5mxseHg+PmNjzs4fH+DgNjZsbDo69vZvb8/PAwMwMAAAMDA8PAYGxsZ8fAAAMDAICHh4zMz+/sbGxsYAABgYICB4eMzM/v7GxsbGAAAwMMzMeHjMzP7+xsbGxgAAcnKcnHh4zMz+/sbGxsYAAGxsAAB4eMzM/v7GxsbGAAB4eMzMeHjMzP7+xsbGxgAAPz9sbM/P/PzMzMzMz88AAHh4zMzAwMDAwMDGxnx8MDAwMAgI/v7AwPz8wMD+/gAAGBggIP7+wMD8/MDA/v4AABgYZmb+/sDA/PzAwP7+AABsbAAA/v7AwPz8wMD+/gAAMDAICH5+GBgYGBgYfn4AABgYICB+fhgYGBgYGH5+AAAYGGZmfn4YGBgYGBh+fgAAbGwAAH5+GBgYGBgYfn4AAPj4zMzGxubmxsbGxvz8AABycpyc5ub29t7ezs7GxgAAMDAICHh4zMzGxsbGfHwAABgYICB4eMzMxsbGxnx8AAAwMMzMeHjMzMbGxsZ8fAAAcnKcnHh4zMzGxsbGfHwAAGxsAAB4eMzMxsbGxnx8AAAAAHx81tb//9vbx8d+fgAAeHjMzN7e9vbm5sbGfHwAADAwCAjGxsbGxsbGxnx8AAAYGCAgxsbGxsbGxsZ8fAAAGBhmZsbGxsbGxsbGfHwAAGxsAADGxsbGxsbGxnx8AAAYGCAgxsbGxnx8DAwMDAAAwMD4+MzMxsb8/MDAwMDAwAAAeHjMzNzcxsbGxtzcwMAwMAgIPDwGBn5+xsZ+fgAAGBggIDw8BgZ+fsbGfn4AABgYZmY8PAYGfn7Gxn5+AABycpycPDwGBn5+xsZ+fgAAbGwAADw8BgZ+fsbGfn4AADw8ZmY8PAYGfn7Gxn5+AAAAAH5+Gxt/f9jY2Nh/fwAAAAB4eMzMwMDAwMbGfHwwMDAwCAh4ePz8wMDGxnx8AAAYGCAgeHj8/MDAxsZ8fAAAMDDMzHh4/PzAwMbGfHwAAGxsAAB4ePz8wMDGxnx8AAAwMAgIODgYGBgYGBh+fgAAGBggIDg4GBgYGBgYfn4AABgYZmY4OBgYGBgYGH5+AABsbAAAODgYGBgYGBh+fgAADAwWFj4+ZmbGxsbGfn4AAHJynJz4+MzMxsbGxsbGAAAwMAgIeHjMzMbGxsZ8fAAAGBggIHh4zMzGxsbGfHwAABgYZmZ4eMzMxsbGxnx8AABycpyceHjMzMbGxsZ8fAAAbGwAAHh4zMzGxsbGfHwAAAAAGBgAAH5+AAAYGAAAAAAAAHh4zMze3vb25uZ8fAAAMDAICMbGxsbGxsbGfn4AABgYICDGxsbGxsbGxn5+AAAYGGZmxsbGxsbGxsZ+fgAAbGwAAMbGxsbGxsbGfn4AABgYICDGxsbGxsZ+fgYGfHzAwMDA+PjMzMbG/PzAwMDAbGwAAMbGxsbGxn5+BgZ8fA==",amigaFont:!0},"microknight+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwkJAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAEBB8fNDQfHwWFhYWfHwQEGBglpZsbBgYMDBsbNLSDAxwcNjYcHD29tzc2Nh8fAYGGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABsbDg4/v44OGxsAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB4eMzM3t729ubmfHwAABgYGBg4OBgYGBgYGH5+AAB8fAYGPDxgYMDAwMD+/gAAPDwGBhwcBgZGRsbGfHwAABgYGBgwMGxszMz+/gwMAAD4+MDA/PwGBkZGzMx4eAAAcHDAwPz8xsbGxszMeHgAAP7+BgYMDBgYGBgYGBgYAAB4eMzMfHzGxsbGzMx4eAAAeHjMzMbGxsZ+fgYGHBwAAAAAAAAYGBgYAAAYGBgYAAAAAAAAGBgYGAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAB+fgAAAAB+fgAAAADAwGBgMDAYGDAwYGDAwAAAfHzGxgYGPDwwMAAAMDAAAHx8xsbe3tbW3t7AwH5+AAB4eMzMxsb+/sbGxsbGxgAA+PjMzPz8xsbGxszM+PgAAHh4zMzAwMDAwMDGxnx8AAD4+MzMxsbGxsbGxsb8/AAA/v7AwPz8wMDAwMDA/v4AAP7+wMD8/MDAwMDAwMDAAAA4OGBgwMDOzsbGxsZ+fgYGxsbGxsbG/v7GxsbGxsYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBsbGxsZ8fAAAxsbMzNjY8PDY2MzMxsYAAMDAwMDAwMDAwMDAwP7+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAAHh4zMzGxsbGxsbGxnx8AAD4+MzMxsbGxvz8wMDAwAAAeHjMzMbGxsbGxtbWfHwMDPj4zMzGxsbG/PzY2MzMBgZ4eMDAfHwGBkZGxsZ8fAAAfn4YGBgYGBgYGBgYGBgAAMbGxsbGxsbGxsbGxnx8AADGxsbGxsZsbGxsODg4OAAAxsbGxsbG1tb+/u7uxsYAAMbGbGw4ODg4bGzGxsbGAADGxsbGxsZ8fAwMDAwMDAAA/v4MDBgYMDBgYMDA/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABAQODhsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAPDwGBn5+xsbGxn5+AADAwPj4zMzGxsbGxsb8/AAAAAB4eMzMwMDAwMbGfHwAAAYGPj5mZsbGxsbGxn5+AAAAAHh4zMz8/MDAxsZ8fAAAODhsbGBgeHhgYGBgYGBgYAAAfn7GxsbGxsZ+fgYGfHzAwPj4zMzGxsbGxsbGxgAAGBgAADg4GBgYGBgYfn4AAAwMAAAcHAwMDAwMDExMODjAwMzM2Njw8NjYzMzGxgAAODgYGBgYGBgYGBgYfn4AAAAAxMTu7v7+1tbGxsbGAAAAAPj4zMzGxsbGxsbGxgAAAAB4eMzMxsbGxsbGfHwAAAAA+PjMzMbGxsbGxvz8wMAAAD4+ZmbGxsbGxsZ+fgYGAAD8/MbGwMDAwMDAwMAAAAAAeHjAwHx8BgbGxnx8AAAwMHx8MDAwMDAwMjIcHAAAAADGxsbGxsbGxsbGfn4AAAAAxsbGxmxsbGw4ODg4AAAAAMbG1tb+/nx8bGxERAAAAADGxmxsODg4OGxsxsYAAAAAxsbGxsbGxsZ+fgYGfHwAAP7+DAwYGDAwYGD+/gAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAADg4cHDg4MHBg4MHBw4OHBzPz/f3h4czMwEBOTk5Of//5+ff34eHMzMBATk5OTn//8/PMzOHhzMzAQE5OTk5//+NjWNjh4czMwEBOTk5Of//k5P//4eHMzMBATk5OTn//4eHMzOHhzMzAQE5OTk5///AwJOTMDADAzMzMzMwMP//h4czMz8/Pz8/PzMzh4fPz8/P9/cBAT8/AwM/PwEB///n59/fAQE/PwMDPz8BAf//5+eZmQEBPz8DAz8/AQH//5OT//8BAT8/AwM/PwEB///Pz/f3gYHn5+fn5+eBgf//5+ff34GB5+fn5+fngYH//+fnmZmBgefn5+fn54GB//+Tk///gYHn5+fn5+eBgf//BwczMzk5GRk5OTk5AwP//42NY2MZGQkJISExMTk5///Pz/f3h4czMzk5OTmDg///5+ff34eHMzM5OTk5g4P//8/PMzOHhzMzOTk5OYOD//+NjWNjh4czMzk5OTmDg///k5P//4eHMzM5OTk5g4P/////g4MpKQAAJCQ4OIGB//+HhzMzISEJCRkZOTmDg///z8/39zk5OTk5OTk5g4P//+fn3985OTk5OTk5OYOD///n55mZOTk5OTk5OTmDg///k5P//zk5OTk5OTk5g4P//+fn3985OTk5g4Pz8/Pz//8/PwcHMzM5OQMDPz8/Pz8///+HhzMzIyM5OTk5IyM/PwAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAMDB4eMzMwMDAwMbGfHwwMDg4bGxgYPj4YGBgYP7+AAAAAMbGfHzGxsbGfHzGxgAAxsbGxsbGfHwMDD4+DAwAABgYGBgYGBgAABgYGBgYGBh4eMDAfHzGxsbGfHwGBjw8bGwAAAAAAAAAAAAAAAAAADw8QkKZmaGhoaGZmUJCPDwAAH5+xsbGxn5+AAB8fAAAAAA2Nmxs2NhsbDY2AAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PP//AAAAAAAAAAAAAAAAAAA8PGZmZmY8PAAAAAAAAAAAAAAQEHx8EBAAAHx8AAAAAHBwGBgwMGBgeHgAAAAAAABwcBgYMDAYGHBwAAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAxsbGxsbGxsbGxvz8wMAAAH5+9PR0dBQUFBQUFAAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMHh4AAAAAAAAAAB8fMbGxsZ8fAAAfHwAAAAA2NhsbDY2bGzY2AAAAABjY+bmbGx7ezc1bW/Dw4CAY2Pm5mxsfn8zNmZvz8CAgMDAZsZsbNvbNzVtb8PDAAAwMAAAMDA8PAYGxsZ8fAAAMDAICHh4zMz+/sbGxsYAABgYICB4eMzM/v7GxsbGAAAwMMzMeHjMzP7+xsbGxgAAcnKcnHh4zMz+/sbGxsYAAGxsAAB4eMzM/v7GxsbGAAB4eMzMeHjMzP7+xsbGxgAAPz9sbM/P/PzMzMzMz88AAHh4zMzAwMDAwMDGxnx8MDAwMAgI/v7AwPz8wMD+/gAAGBggIP7+wMD8/MDA/v4AABgYZmb+/sDA/PzAwP7+AABsbAAA/v7AwPz8wMD+/gAAMDAICH5+GBgYGBgYfn4AABgYICB+fhgYGBgYGH5+AAAYGGZmfn4YGBgYGBh+fgAAbGwAAH5+GBgYGBgYfn4AAPj4zMzGxubmxsbGxvz8AABycpyc5ub29t7ezs7GxgAAMDAICHh4zMzGxsbGfHwAABgYICB4eMzMxsbGxnx8AAAwMMzMeHjMzMbGxsZ8fAAAcnKcnHh4zMzGxsbGfHwAAGxsAAB4eMzMxsbGxnx8AAAAAHx81tb//9vbx8d+fgAAeHjMzN7e9vbm5sbGfHwAADAwCAjGxsbGxsbGxnx8AAAYGCAgxsbGxsbGxsZ8fAAAGBhmZsbGxsbGxsbGfHwAAGxsAADGxsbGxsbGxnx8AAAYGCAgxsbGxnx8DAwMDAAAwMD4+MzMxsb8/MDAwMDAwAAAeHjMzNzcxsbGxtzcwMAwMAgIPDwGBn5+xsZ+fgAAGBggIDw8BgZ+fsbGfn4AABgYZmY8PAYGfn7Gxn5+AABycpycPDwGBn5+xsZ+fgAAbGwAADw8BgZ+fsbGfn4AADw8ZmY8PAYGfn7Gxn5+AAAAAH5+Gxt/f9jY2Nh/fwAAAAB4eMzMwMDAwMbGfHwwMDAwCAh4ePz8wMDGxnx8AAAYGCAgeHj8/MDAxsZ8fAAAMDDMzHh4/PzAwMbGfHwAAGxsAAB4ePz8wMDGxnx8AAAwMAgIODgYGBgYGBh+fgAAGBggIDg4GBgYGBgYfn4AABgYZmY4OBgYGBgYGH5+AABsbAAAODgYGBgYGBh+fgAADAwWFj4+ZmbGxsbGfn4AAHJynJz4+MzMxsbGxsbGAAAwMAgIeHjMzMbGxsZ8fAAAGBggIHh4zMzGxsbGfHwAABgYZmZ4eMzMxsbGxnx8AABycpyceHjMzMbGxsZ8fAAAbGwAAHh4zMzGxsbGfHwAAAAAGBgAAH/+AAAYGAAAAAAAAHh4zMze3vb25uZ8fAAAMDAICMbGxsbGxsbGfn4AABgYICDGxsbGxsbGxn5+AAAYGGZmxsbGxsbGxsZ+fgAAbGwAAMbGxsbGxsbGfn4AABgYICDGxsbGxsZ+fgYGfHzAwMDA+PjMzMbG/PzAwMDAbGwAAMbGxsbGxn5+BgZ8fA==",amigaFont:!0},mosoul:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAADg4GBgYGBgYGBgYGBgYAAA8PAYGPDxgYGBgYGB+fgAAfHwGBhwcBgYGBgYGfHwAAAwMzMzMzMzM/v4MDAwMAAB8fGBgfHwGBgYGBgZ8fAAAPDxgYHx8ZmZmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmPDxmZmZmZmY8PAAAPDxmZmZmZmY+PgYGPDwAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAAAGBhgYYGAYGAYGAAAAAAAAAAD//wAA//8AAAAAAAAAAGBgGBgGBhgYYGAAAAAAPDxmZgYGHBwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZmZn5+ZmZmZgAAfHxmZnx8ZmZmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB8fGZmZmZmZmZmZmZ8fAAAfn5gYGBgYGB4eGBgfn4AAH5+YGBgYGBgeHhgYGBgAAA8PGBgbm5mZmZmZmY+PgAAZmZmZmZmZmZ+fmZmZmYAADw8GBgYGBgYGBgYGDw8AAAODgYGBgYGBgYGBgY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZmZnx8YGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZmZmfHxmZmZmAAA8PGBgPDwGBgYGBgZ8fAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/PwAADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwEBPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMDAwMDB8fDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAD4+YGBgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPDwAAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY+PgYGPDwAAAAAfn4MDBgYMDB+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYGBhwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAADw8QkKdnaGhoaGdnUJCPDwcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PP//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDIyZmbPzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAP//AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},"pot-noodle":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAP//g4M5OSkpIyM/P4GB/////4ODOTkhITk5OTk5OX9///8DA5mZk5OZmZmZAwP/////g4M5OT8/Pz85OYOD9/f//w8Ph4eTk5mZmZkDA/////8BAZ+fg4Ofn5mZAwP39/v7AQGcnIeHn5+fnx8f///394ODOTk/PzExOTmBgf39//85OTk5ISE5OTk5OTl/f///gYHn5+fn5+fn54GB///9/fn5+fn5+RkZOTkDA39///85OTMzJyczMzk5OTl/f///Hx+fn5+fn5+ZmQMD9/f//zk5EREBASkpOTk5OX9///85OSkpISExMTk5OTn/////g4M5OTk5OTk5OYOD/////wMDmZmZmZOTn58fH/////+Dgzk5OTkpKTU1i4v9/f//AwOZmZOTmZmZmRkZ+/v//4ODPz+Dg/n5OTkDA39/9/cDA8nJz8/Pz8/Pz8/f339/MTEzMzMzMzMzM4GB//9/fzk5OTmTk5OTx8fv7///f385OTk5KSkBAREROTn//z8/OTk5OaOjOTk5OTk5/f39/Tk5OTmjo+fn5+fn5/////8BAfPz5+fNzZmZgYH9/f//gYHPz8/Pz8/Pz4GB//8/P5+fz8/n5/Pz+fn8/P7+//+BgfPz8/Pz8/PzgYH/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAcHBwcGBgYGAAAGBgQEGZmZmYAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBh+fsDAfHwGBvz8MDAAAGNjpqbMzBgYMzNlZcbGgIA8PGZmZGR7e87OxsZ7ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB8fM7O1tbW1ubmfHwAAAAAGBg4OBgYGBgYGH5+AAAAAHx8xsaMjDg4Zmb+/gAAICB8fMbGHh4GBsbGfHwAAICAxsbGxn5+BgYGBgYGAgIAAP7+wMD8/AYGxsb8/AAAAAB8fMDA/PzGxsbGfHwAAICA/v7MzJiYMDBgYMDAAAAAAHx8xsZ8fMbGxsZ8fAAAAAB8fMbGxsZ+fgYGfHwAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwGBgwMGBgwMBgYDAwGBgAAAAAAAD//wAAAAD//wAAAAAwMBgYDAwGBgwMGBgwMAAAAAA8PGZmDAwYGAAAGBgQEAAAfHzGxtbW3NzAwH5+AAAAAHx8xsbe3sbGxsbGxoCAAAD8/GZmbGxmZmZm/PwAAAAAfHzGxsDAwMDGxnx8CAgAAPDweHhsbGZmZmb8/AAAAAD+/mBgfHxgYGZm/PwICAQE/v5jY3h4YGBgYODgAAAICHx8xsbAwM7OxsZ+fwICAADGxsbG3t7GxsbGxsaAgAAAfn4YGBgYGBgYGH5+AAACAgYGBgYGBubmxsb8/ICAAADGxszM2NjMzMbGxsaAgAAA4OBgYGBgYGBmZvz8CAgAAMbG7u7+/tbWxsbGxoCAAADGxtbW3t7OzsbGxsYAAAAAfHzGxsbGxsbGxnx8AAAAAPz8ZmZmZmxsYGDg4AAAAAB8fMbGxsbW1srKdHQCAgAA/PxmZmxsZmZmZubmBAQAAH5+wMB8fAYGxsb8/ICACAj8/DY2MDAwMDAwMDAgIICAzs7MzMzMzMzMzH5+AACAgMbGxsZsbGxsODgQEAAAgIDGxsbG1tb+/u7uxsYAAICAxsbGxlxcxsbGxsbGAgICAsbGxsZcXBgYGBgYGAgIAAD+/gwMGBgyMmZm/v4CAgAAfn4wMDAwMDAwMH5+AADAwGBgMDAYGAwMBgYDAwEBAAB+fgwMDAwMDAwMfn4AABgYPDxmZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAB8fAYGdnbGxn5+AADg4GBgbGxmZmZmZmb8/AAAAAAAAH5+wsLAwMLCfn4AAA4ODAxsbMzMzMzMzH5+AAAAAAAAfHzGxtzcwMB+fgAAHh4wMHx8MDAwMDAwMDAgIAAAAAB8fMbGxsZ2dgYG/Pzg4GBgbGxmZmZmZmbm5gAAGBgAABgYGBgYGBgYGBgQEAICBgYAAAYGBgbGxsbGfHzg4GBgZmZsbHh4bGzm5gICGBgYGBgYGBgYGBgYGBgQEAAAAAD8/NbW1tbW1tbWgIAAAAAA/PxmZmZmZmbm5gQEAAAAAHx8xsbGxsbGfHwAAAAAAAD8/GZmZmZsbGBg4OAAAAAAfn7MzMzMbGwMDA4OAAAICPz8ZmZgYGBgYGBAQAAAAAB+fsDAfHwGBvz8AAAwMDAwfHwwMDAwMDAwMCAgAACAgM7OzMzMzMzMfn4AAAAAgIDGxsbGbGxsbDg4AAAAAAIC1tbW1tbW1tZ8fAAAAAAAAMbGxsZcXMbGxsYCAgAAgIDGxsbGxsZeXgYGfHwAAAAA/v6MjBgYMjL+/gAAHBwwMDAwYGAwMDAwHBwAABgYGBgYGBgYGBgYGBgYGBg4OAwMDAwGBgwMDAw4OAAAdnbc3AAAAAAAAAAAAAAAAMzMMzPMzDMzzMwzM8zMMzOfn+fng4M5OSEhOTk5OXt78/PPz4ODOTkhITk5OTl7e4ODOTmDgzk5ISE5OTk5e3uJiSMjg4M5OSEhOTk5OXt7OTn//4ODOTkhITk5OTl7e4ODOTmDgzk5ISE5OTk5e3v//4CAMzMgIDMzMzMwMHd3//+Dgzk5Pz8/Pzk5g4PPz5+fz88DA5+fg4OfnwEB///n58/PAwOfn4ODn58BAf//z88zMwMDn5+Dg5+fAQH//zMz//8DA5+fg4OfnwEB//8/P8/PAwPPz8/Pz88DA///8/PPzwMDz8/Pz8/PAwP//8/PMzP//wMDz8/PzwMD//8zM///AwPPz8/Pz88DA/////8fH4+Ph4cTE5mZAwP//4mJIyMZGQkJISExMTk5///Pz+fng4M5OTk5OTmDg///5+fPz4ODOTk5OTk5g4P//8/PMzP//4eHMzMzM4eH//+JiSMj//+Dgzk5OTmDg///OTn//4ODOTk5OTk5g4P///////88PJmZ5+eZmTw8///+/oWFOzs1NSkpWVmjo39/z8/n539/MTEzMzMzgYH//+fnz89/fzExMzMzM4GB///PzzMzf38xMTMzMzOBgf////8zM39/MTEzMzMzgYH///Pz5+c8PJmZw8Pn58PD//8PD5+fg4OZmYODn5+fnw8Pg4M5OTk5IyM5OTk5IyM/P+fnw8OZmf////////////8QEBgYAAAYGBgYHBwcHAAAAAAYGH5+wMDAwMDAfn4YGAgIPDxmZvj4YGBmZvz8CAjGxnx8xsbGxnx8xsYAAAAAxsbGxmxsODgQEP7+EBAQEBgYGBgYGAAAGBgYGBgYAAB8fMDAPDxmZmZmPDwDAz4+JCQAAAAAAAAAAAAAAAAAAHx8goKamqKioqKamoKCfHwAAHh4zMzMzPb2AAD+/gAAAAASEmxs2NhsbBISAAAAAP7+BgYAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfHyCgrKyqqqysqqqgoJ8fP//AAAAAAAAAAAAAAAAAAB4eMzMeHgAAAAAAAAAAAAAMDAwMPz8MDAwMAAA/PwAAHBw2NgwMGBg+PgAAAAAAADw8BgYcHAYGPDwAAAAAAAAMDBgYMDAAAAAAAAAAAAAAAAAAACAgMbGxsbGxv//wMB+fuzs7OxsbCwsLCwuLgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDBgYODgYGBgYPDwAAAAAAAAAAB4eMzMeHgAAPz8AAAAAAAASEg2NhsbNjZISAAAAABjY+bmbGx7ezc3b2/DwwAAY2Pm5mxsfn4zM2Zmz88AAMPD5uZsbNvbNzdvb8PDAAAICBgYAAAYGDAwZmY8PAAAYGAYGHx8xsbe3sbGxsaEhAwMMDB8fMbG3t7GxsbGhIR8fMbGfHzGxt7exsbGxoSEdnbc3Hx8xsbe3sbGxsaEhMbGAAB8fMbG3t7GxsbGhIR8fMbGfHzGxt7exsbGxoSEAAB/f8zM39/MzMzMz8+IiAAAfHzGxsDAwMDGxnx8MDBgYDAw/PxgYHx8YGD+/gAAGBgwMPz8YGB8fGBg/v4AADAwzMz8/GBgfHxgYP7+AADMzAAA/PxgYHx8YGD+/gAAwMAwMPz8MDAwMDAw/PwAAAwMMDD8/DAwMDAwMPz8AAAwMMzMAAD8/DAwMDD8/AAAzMwAAPz8MDAwMDAw/PwAAAAA4OBwcHh47OxmZvz8AAB2dtzc5ub29t7ezs7GxgAAMDAYGHx8xsbGxsbGfHwAABgYMDB8fMbGxsbGxnx8AAAwMMzMAAB4eMzMzMx4eAAAdnbc3AAAfHzGxsbGfHwAAMbGAAB8fMbGxsbGxnx8AAAAAAAAw8NmZhgYZmbDwwAAAQF6esTEysrW1qamXFyAgDAwGBiAgM7OzMzMzH5+AAAYGDAwgIDOzszMzMx+fgAAMDDMzICAzs7MzMzMfn4AAAAAzMyAgM7OzMzMzH5+AAAMDBgYw8NmZjw8GBg8PAAA8PBgYHx8ZmZ8fGBgYGDw8Hx8xsbGxtzcxsbGxtzcwMAwMBgYfHwGBnZ2xsZ+fgAAGBgwMHx8BgZ2dsbGfn4AABgYZmZ8fAYGdnbGxn5+AAB2dtzcfHwGBnZ2xsZ+fgAAxsYAAHx8BgZ2dsbGfn4AAHx8xsZ8fAYGdnbGxn5+AAAAAAAAfn4bG35+yMh/fwAAAAAAAHx8xsbAwMbGfHwwMDAwGBh8fMbG3NzAwH5+AAAYGDAwfHzGxtzcwMB+fgAAGBhmZnx8xsbc3MDAfn4AAMbGAAB8fMbG3NzAwH5+AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAMDB+fhgYfHzGxsbGfHwAAHZ23NwAAPz8xsbGxsbGAgIwMBgYAAB8fMbGxsZ8fAAAGBgwMAAAfHzGxsbGfHwAABgYZmYAAHx8xsbGxnx8AAB2dtzcAAB8fMbGxsZ8fAAAAABsbAAAfHzGxsbGfHwAAAAAGBgAAH5+AAAYGAAAAAAAAAMDPj5ubn5+dnZ8fMDAdnbc3ICAxsbGxsbGfn4AAAwMGBiAgMbGxsbGxn5+AAAYGGZmgIDGxsbGxsZ+fgAAAADGxoCAxsbGxsbGfn4AAAwMGBiAgMbGxsZsbDg48PDw8GBgfHxmZmZmfHxgYPDwAADGxoCAxsbGxmxsODjw8A==",amigaFont:!0},topaz:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAIODOTkhISkpISE/P4eH///Dw5mZmZmBgZmZmZmZmf//g4OZmZmZg4OZmZmZg4P//+Hhz8+fn5+fn5/Pz+Hh//+Hh5OTmZmZmZmZk5OHh///gYGfn5+fh4efn5+fgYH//4GBn5+fn4eHn5+fn5+f///Dw5mZn5+RkZmZmZnBwf//mZmZmZmZgYGZmZmZmZn//8PD5+fn5+fn5+fn58PD///5+fn5+fn5+fn5mZnDw///nJyZmZOTh4eTk5mZnJz//5+fn5+fn5+fn5+fn4GB//+cnIiIgICUlJycnJycnP//nJyMjISEkJCYmJycnJz//8PDmZmZmZmZmZmZmcPD//+Dg5mZmZmDg5+fn5+fn///w8OZmZmZmZmZmZGRwMD//4ODmZmZmYODk5OZmZmZ///Dw5mZj4/Dw/HxmZnDw///gYHn5+fn5+fn5+fn5+f//5mZmZmZmZmZmZmZmcPD//+ZmZmZmZmZmZmBw8Pn5///nJycnJyclJSAgIiInJz//zw8mZnDw+fnw8OZmTw8//88PJmZw8Pn5+fn5+fn5///gID5+fPz5+fPz5+fgID//8PDz8/Pz8/Pz8/Pz8PD//8/P5+fz8/n5/Pz+fn8/P//w8Pz8/Pz8/Pz8/Pzw8P/////////////////////gIAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAfn4AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwAAAPDxmZm5ufn52dmZmPDwAABgYODh4eBgYGBgYGBgYAAA8PGZmBgYMDBgYMDB+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDAwMAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAAAGBhgYYGAYGAYGAAAAAAAAAAB+fgAAfn4AAAAAAAAAAGBgGBgGBhgYYGAAAAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZ+fmZmZmZmZgAAfHxmZmZmfHxmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB4eGxsZmZmZmZmbGx4eAAAfn5gYGBgeHhgYGBgfn4AAH5+YGBgYHh4YGBgYGBgAAA8PGZmYGBubmZmZmY+PgAAZmZmZmZmfn5mZmZmZmYAADw8GBgYGBgYGBgYGDw8AAAGBgYGBgYGBgYGZmY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZ8fGBgYGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZnx8bGxmZmZmAAA8PGZmcHA8PA4OZmY8PAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/v4AADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwAAPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMHx8MDAwMDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAHx8ZmZgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPj4AAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY8PBgYMDAAAAAAfn4MDBgYMDB+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYAABwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAADPz+fnw8OZmYGBmZmZmf//8/Pn58PDmZmBgZmZmZn//+fnmZnDw5mZgYGZmZmZ//+OjnFxw8OZmYGBmZmZmf//mZn//8PDmZmBgZmZmZn//+fn29vDw5mZgYGZmZmZ///g4MPDw8OQkIODMzMwMP//4eHPz5+fn5/Pz+Hh8/Pn58/P5+eBgZ+fh4efn4GB///z8+fngYGfn4eHn5+Bgf//5+eZmYGBn5+Hh5+fgYH//5mZ//+BgZ+fh4efn4GB///Pz+fnw8Pn5+fn5+fDw///8/Pn58PD5+fn5+fnw8P//+fnmZnDw+fn5+fn58PD//+Zmf//w8Pn5+fn5+fDw///h4eTk5mZCQmZmZOTh4f//46OMTEZGQkJISExMTk5///Pz+fnw8OZmZmZmZnDw///8/Pn58PDmZmZmZmZw8P//+fnmZnDw5mZmZmZmcPD//+OjnFxw8OZmZmZmZnDw///PDzDw5mZmZmZmZmZw8P/////OTmTk8fHk5M5Of/////AwJmZkZGBgYmJmZkDA///z8/n55mZmZmZmZmZw8P///Pz5+eZmZmZmZmZmcPD///n59vbmZmZmZmZmZnDw///mZn//5mZmZmZmZmZw8P///n59/c8PJmZw8Pn5+fn//8/Pz8/AwM5OQMDPz8/P///w8OZmZmZk5OZmZmZk5Ofn/f34+PJyZyc//////////8YGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAAH5+gYGdnbGxnZ2BgX5+AAAcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAfn6Bgbm5paW5uaWlgYF+fn5+AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDIyZmbPzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},"topaz+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAIODOTkhISkpISE/P4eH///Dw5mZmZmBgZmZmZmZmf//g4OZmZmZg4OZmZmZg4P//+Hhz8+fn5+fn5/Pz+Hh//+Hh5OTmZmZmZmZk5OHh///gYGfn5+fh4efn5+fgYH//4GBn5+fn4eHn5+fn5+f///Dw5mZn5+RkZmZmZnBwf//mZmZmZmZgYGZmZmZmZn//8PD5+fn5+fn5+fn58PD///5+fn5+fn5+fn5mZnDw///nJyZmZOTh4eTk5mZnJz//5+fn5+fn5+fn5+fn4GB//+cnIiIgICUlJycnJycnP//nJyMjISEkJCYmJycnJz//8PDmZmZmZmZmZmZmcPD//+Dg5mZmZmDg5+fn5+fn///w8OZmZmZmZmZmZGRwMD//4ODmZmZmYODk5OZmZmZ///Dw5mZj4/Dw/HxmZnDw///gYHn5+fn5+fn5+fn5+f//5mZmZmZmZmZmZmZmcPD//+ZmZmZmZmZmZmBw8Pn5///nJycnJyclJSAgIiInJz//zw8mZnDw+fnw8OZmTw8//88PJmZw8Pn5+fn5+fn5///gID5+fPz5+fPz5+fgID//8PAz8/Pz8/Pz8/Pz8DD//8/P5+fz8/n5/Pz+fn8/P7+wwPz8/Pz8/Pz8/PzA8P/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAMDZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAABgYODh4eBgYGBgYGBgYAAA8PGZmBgYMDBgYMDB+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDAwMAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAD//wAA//8AAAAAAADAwGBgMDAYGDAwYGDAwAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZ+fmZmZmZmZgAAfHxmZmZmfHxmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB4eGxsZmZmZmZmbGx4eAAAfn5gYGBgeHhgYGBgfn4AAH5+YGBgYHh4YGBgYGBgAAA8PGZmYGBubmZmZmY+PgAAZmZmZmZmfn5mZmZmZmYAADw8GBgYGBgYGBgYGDw8AAAGBgYGBgYGBgYGZmY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZ8fGBgYGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZnx8bGxmZmZmAAA8PGZmcHA8PA4OZmY8PAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMHx8MDAwMDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAHx8ZmZgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPj4AAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY8PBgYMDAAAAAAfn4MDBgYMDB+fgAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAADPz+fnw8OZmYGBmZmZmf//8/Pn58PDmZmBgZmZmZn//+fnmZnDw5mZgYGZmZmZ//+OjnFxw8OZmYGBmZmZmf//mZn//8PDmZmBgZmZmZn//+fn29vDw5mZgYGZmZmZ///g4MPDw8OQkIODMzMwMP//4eHPz5+fn5/Pz+Hh8/Pn58/P5+eBgZ+fh4efn4GB///z8+fngYGfn4eHn5+Bgf//5+eZmYGBn5+Hh5+fgYH//5mZ//+BgZ+fh4efn4GB///Pz+fnw8Pn5+fn5+fDw///8/Pn58PD5+fn5+fnw8P//+fnmZnDw+fn5+fn58PD//+Zmf//w8Pn5+fn5+fDw///h4eTk5mZCQmZmZOTh4f//46OMTEZGQkJISExMTk5///Pz+fnw8OZmZmZmZnDw///8/Pn58PDmZmZmZmZw8P//+fnmZnDw5mZmZmZmcPD//+OjnFxw8OZmZmZmZnDw///PDzDw5mZmZmZmZmZw8P/////OTmTk8fHk5M5Of/////AwJmZkZGBgYmJmZkDA///z8/n55mZmZmZmZmZw8P///Pz5+eZmZmZmZmZmcPD///n59vbmZmZmZmZmZnDw///mZn//5mZmZmZmZmZw8P///n59/c8PJmZw8Pn5+fn//8/Pz8/AwM5OQMDPz8/P///w8OZmZmZk5OZmZmZk5Ofn/f34+PJyZyc//////////8YGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAAH5+gYGdnbGxnZ2BgX5+AAAcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAfn6Bgbm5paW5uaWlgYF+fv//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDAyYmbGzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2BoyNmZvwsIYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},topaz500:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBg8PDw8GBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAxsbMzBgYMDBmZsbGAAA4OGxsaGh2dtzczMx2dgAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAfn4AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwAAAPDxmZm5ufn52dmZmPDwAABgYODgYGBgYGBgYGH5+AAA8PGZmBgYcHDAwZmZ+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDB4eAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+ZmYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwDAwYGDAwYGAwMBgYDAwAAAAAAAB+fgAAAAB+fgAAAAAwMBgYDAwGBgwMGBgwMAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3t7e3t7AwHh4AAAYGDw8PDxmZn5+w8PDwwAA/PxmZmZmfHxmZmZm/PwAADw8ZmbAwMDAwMBmZjw8AAD4+GxsZmZmZmZmbGz4+AAA/v5mZmBgeHhgYGZm/v4AAP7+ZmZgYHh4YGBgYPDwAAA8PGZmwMDOzsbGZmY+PgAAZmZmZmZmfn5mZmZmZmYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBmZmZmY8PAAA5uZmZmxseHhsbGZm5uYAAPDwYGBgYGBgYmJmZv7+AACCgsbG7u7+/tbWxsbGxgAAxsbm5vb23t7OzsbGxsYAADg4bGzGxsbGxsZsbDg4AAD8/GZmZmZ8fGBgYGDw8AAAODhsbMbGxsbGxmxsPDwGBvz8ZmZmZnx8bGxmZuPjAAA8PGZmcHA4OA4OZmY8PAAAfn5aWhgYGBgYGBgYPDwAAGZmZmZmZmZmZmZmZj4+AADDw8PDZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw8PDZmY8PBgYGBg8PAAA/v7GxoyMGBgyMmZm/v4AADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwAAPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGHh5mZjs7AADg4GBgbGx2dmZmZmY8PAAAAAAAADw8ZmZgYGZmPDwAAA4OBgY2Nm5uZmZmZjs7AAAAAAAAPDxmZn5+YGA8PAAAHBw2NjAweHgwMDAweHgAAAAAAAA7O2ZmZmY8PMbGfHzg4GBgbGx2dmZmZmbm5gAAGBgAADg4GBgYGBgYPDwAAAYGAAAGBgYGBgYGBmZmPDzg4GBgZmZsbHh4bGzm5gAAODgYGBgYGBgYGBgYPDwAAAAAAABmZnd3a2tjY2NjAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAADc3GZmZmZ8fGBg8PAAAAAAPT1mZmZmPj4GBgcHAAAAAOzsdnZmZmBg8PAAAAAAAAA+PmBgPDwGBnx8AAAICBgYPj4YGBgYGhoMDAAAAAAAAGZmZmZmZmZmOzsAAAAAAABmZmZmZmY8PBgYAAAAAAAAY2Nra2trNjY2NgAAAAAAAGNjNjYcHDY2Y2MAAAAAAABmZmZmZmY8PBgYcHAAAAAAfn5MTBgYMjJ+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYAABwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGDw8PDwYGAAADAw+PmxsbGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYPDwAABgYGBgYGAAAGBgYGBgYAAA8PEBAPDxmZjw8AgI8PAAAZmYAAAAAAAAAAAAAAAAAAH5+gYGdnbGxsbGdnYGBfn4wMEhIiIj4+AAA/PwAAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfn6Bgbm5ubmxsampgYF+fn5+AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAPDwGBgwMGBg+PgAAAAAAADw8BgYMDAYGPDwAAAAAAAAGBgwMAAAAAAAAAAAAAAAAAAAAADGxsbGxsbu7vr6wMB+fvT09PR0dBQUFBQUFAAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAcHCIiIiIcHAAAPj4AAAAAAAAzMxmZjMzZmbMzAAAAAAgIGNjJiYsLBkZMzNnZwEBICBjYyYmLCwbGzExYmIHB8DAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAICDw8ZmZ+fsPDw8MAAAwMEBA8PGZmfn7Dw8PDAAAYGCQkPDxmZn5+w8PDwwAAcXGOjjw8ZmZ+fsPDw8MAAMPDGBg8PGZmfn7Dw8PDAAA8PGZmPDxmZn5+w8PDwwAAHx88PDw8b298fMzMz88AADw8ZmbAwMDAZmY8PAgIMDBgYBAQ/v5gYHh4YGD+/gAAGBggIP7+YGB4eGBg/v4AADAwSEj+/mBgeHhgYP7+AABmZgAA/v5gYHh4YGD+/gAAMDAICH5+GBgYGBgYfn4AAAwMEBB+fhgYGBgYGH5+AAAYGCQkfn4YGBgYGBh+fgAAZmYAAH5+GBgYGBgYfn4AAPj4bGxmZvb2ZmZsbPj4AABxcY6Oxsbm5tbWzs7GxgAAMDAICDw8ZmbDw2ZmPDwAAAwMEBA8PGZmw8NmZjw8AAAYGCQkPDxmZsPDZmY8PAAAcXGOjjw8ZmbDw2ZmPDwAAMPDPDxmZsPDw8NmZjw8AAAAAGNjNjYcHDY2Y2MAAAAAPT1mZs/P29vz82ZmvLwAADAwCAhmZmZmZmZmZj4+AAAMDBAQZmZmZmZmZmY+PgAAGBgkJGZmZmZmZmZmPj4AAGZmAABmZmZmZmZmZj4+AAAGBggIw8NmZjw8GBg8PAAA8PBgYH5+Y2NjY35+YGDw8Hx8ZmZmZmxsZmZmZmxsYGAwMAgIPDwGBh4eZmY7OwAADAwQEDw8BgYeHmZmOzsAABgYJCQ8PAYGHh5mZjs7AABxcY6OPDwGBh4eZmY7OwAAMzMAADw8BgYeHmZmOzsAADw8ZmY8PAYGHh5mZjs7AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8ZmZgYGZmPDwQEDAwCAg8PGZmfn5gYDw8AAAMDBAQPDxmZn5+YGA8PAAAGBgkJDw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMAgIODgYGBgYGBg8PAAADAwQEDg4GBgYGBgYPDwAABgYJCQ4OBgYGBgYGDw8AABmZgAAODgYGBgYGBg8PAAAYGD8/BgYfHzGxsbGfHwAAHFxjo58fGZmZmZmZmZmAAAwMAgIPDxmZmZmZmY8PAAADAwQEDw8ZmZmZmZmPDwAABgYJCQ8PGZmZmZmZjw8AABxcY6OPDxmZmZmZmY8PAAAZmYAADw8ZmZmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAEBPj5nZ2trc3M+PkBAMDAICGZmZmZmZmZmOzsAAAwMEBBmZmZmZmZmZjs7AAAYGCQkZmZmZmZmZmY7OwAAZmYAAGZmZmZmZmZmOzsAAAwMEBBmZmZmZmY8PBgYcHDw8GBgfHxmZmZmfHxgYPDwZmYAAGZmZmZmZjw8GBhwcA==",amigaFont:!0},"topaz500+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBg8PDw8GBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAMDxsbMzBgYMDBmZsbGgIA4OGxsaGh2dtzczMx2dgAAGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAABgYODgYGBgYGBgYGH5+AAA8PGZmBgYcHDAwZmZ+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDB4eAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+ZmYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAD//wAA//8AAAAAAADAwGBgMDAYGDAwYGDAwAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3t7e3t7AwHh4AAAYGDw8PDxmZn5+w8PDwwAA/PxmZmZmfHxmZmZm/PwAADw8ZmbAwMDAwMBmZjw8AAD4+GxsZmZmZmZmbGz4+AAA/v5mZmBgeHhgYGZm/v4AAP7+ZmZgYHh4YGBgYPDwAAA8PGZmwMDOzsbGZmY+PgAAZmZmZmZmfn5mZmZmZmYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBmZmZmY8PAAA5uZmZmxseHhsbGZm5uYAAPDwYGBgYGBgYmJmZv7+AACCgsbG7u7+/tbWxsbGxgAAxsbm5vb23t7OzsbGxsYAADg4bGzGxsbGxsZsbDg4AAD8/GZmZmZ8fGBgYGDw8AAAODhsbMbGxsbGxmxsPDwGBvz8ZmZmZnx8bGxmZuPjAAA8PGZmcHA4OA4OZmY8PAAAfn5aWhgYGBgYGBgYPDwAAGZmZmZmZmZmZmZmZj4+AADDw8PDZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw8PDZmY8PBgYGBg8PAAA/v7GxoyMGBgyMmZm/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABgYPDxmZsPDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGHh5mZjs7AADg4GBgbGx2dmZmZmY8PAAAAAAAADw8ZmZgYGZmPDwAAA4OBgY2Nm5uZmZmZjs7AAAAAAAAPDxmZn5+YGA8PAAAHBw2NjAweHgwMDAweHgAAAAAAAA7O2ZmZmY8PMbGfHzg4GBgbGx2dmZmZmbm5gAAGBgAADg4GBgYGBgYPDwAAAYGAAAGBgYGBgYGBmZmPDzg4GBgZmZsbHh4bGzm5gAAODgYGBgYGBgYGBgYPDwAAAAAAABmZnd3a2tjY2NjAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAADc3GZmZmZ8fGBg8PAAAAAAPT1mZmZmPj4GBgcHAAAAAOzsdnZmZmBg8PAAAAAAAAA+PmBgPDwGBnx8AAAICBgYPj4YGBgYGhoMDAAAAAAAAGZmZmZmZmZmOzsAAAAAAABmZmZmZmY8PBgYAAAAAAAAY2Nra2trNjY2NgAAAAAAAGNjNjYcHDY2Y2MAAAAAAABmZmZmZmY8PBgYcHAAAAAAfn5MTBgYMjJ+fgAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGDw8PDwYGAAADAw+PmxsbGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYPDwAABgYGBgYGAAAGBgYGBgYAAA8PEBAPDxmZjw8AgI8PAAAZmYAAAAAAAAAAAAAAAAAAH5+gYGdnbGxsbGdnYGBfn4wMEhIiIj4+AAA/PwAAAAAAAAzM2ZmzMxmZjMzAAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfn6Bgbm5ubmxsampgYF+fv//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAPDwGBgwMGBg+PgAAAAAAADw8BgYMDAYGPDwAAAAAAAAGBgwMAAAAAAAAAAAAAAAAAAAAADGxsbGxsbu7vr6wMB+fvT09PR0dBQUFBQUFAAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAcHCIiIiIcHAAAPj4AAAAAAAAzMxmZjMzZmbMzAAAAAAgIGNjJiYsLBkZMzNnZwEBICBjYyYmLCwbGzExYmIHB8DAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAICDw8ZmZ+fsPDw8MAAAwMEBA8PGZmfn7Dw8PDAAAYGCQkPDxmZn5+w8PDwwAAcXGOjjw8ZmZ+fsPDw8MAAMPDGBg8PGZmfn7Dw8PDAAA8PGZmPDxmZn5+w8PDwwAAHx88PDw8b298fMzMz88AADw8ZmbAwMDAZmY8PAgIMDBgYBAQ/v5gYHh4YGD+/gAAGBggIP7+YGB4eGBg/v4AADAwSEj+/mBgeHhgYP7+AABmZgAA/v5gYHh4YGD+/gAAMDAICH5+GBgYGBgYfn4AAAwMEBB+fhgYGBgYGH5+AAAYGCQkfn4YGBgYGBh+fgAAZmYAAH5+GBgYGBgYfn4AAPj4bGxmZvb2ZmZsbPj4AABxcY6Oxsbm5tbWzs7GxgAAMDAICDw8ZmbDw2ZmPDwAAAwMEBA8PGZmw8NmZjw8AAAYGCQkPDxmZsPDZmY8PAAAcXGOjjw8ZmbDw2ZmPDwAAMPDPDxmZsPDw8NmZjw8AAAAAGNjNjYcHDY2Y2MAAAAAPT1mZs/P29vz82ZmvLwAADAwCAhmZmZmZmZmZj4+AAAMDBAQZmZmZmZmZmY+PgAAGBgkJGZmZmZmZmZmPj4AAGZmAABmZmZmZmZmZj4+AAAGBggIw8NmZjw8GBg8PAAA8PBgYH5+Y2NjY35+YGDw8Hx8ZmZmZmxsZmZmZmxsYGAwMAgIPDwGBh4eZmY7OwAADAwQEDw8BgYeHmZmOzsAABgYJCQ8PAYGHh5mZjs7AABxcY6OPDwGBh4eZmY7OwAAMzMAADw8BgYeHmZmOzsAADw8ZmY8PAYGHh5mZjs7AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8ZmZgYGZmPDwQEDAwCAg8PGZmfn5gYDw8AAAMDBAQPDxmZn5+YGA8PAAAGBgkJDw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMAgIODgYGBgYGBg8PAAADAwQEDg4GBgYGBgYPDwAABgYJCQ4OBgYGBgYGDw8AABmZgAAODgYGBgYGBg8PAAAYGD8/BgYfHzGxsbGfHwAAHFxjo58fGZmZmZmZmZmAAAwMAgIPDxmZmZmZmY8PAAADAwQEDw8ZmZmZmZmPDwAABgYJCQ8PGZmZmZmZjw8AABxcY6OPDxmZmZmZmY8PAAAZmYAADw8ZmZmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAEBPj5nZ2trc3M+PkBAMDAICGZmZmZmZmZmOzsAAAwMEBBmZmZmZmZmZjs7AAAYGCQkZmZmZmZmZmY7OwAAZmYAAGZmZmZmZmZmOzsAAAwMEBBmZmZmZmY8PBgYcHDw8GBgfn5jY2Njfn5gYPDwZmYAAGZmZmZmZjw8GBhwcA==",amigaFont:!0},"80x25":{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAZjMPAwfgwfgwGAwAAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},"80x25small":{width:4,height:8,data:"AAAAAACQD2Bvb/CfCu5EAATu5AAE6k4ABO5OAAAGYAD/+Z//AGmWAP+Waf8CSqQABKpEAAdESAAHVVoABEpEAAjOyAACbmIABOTkAAqqCgAHpiIwaGlhYAAA7gAE5OTgBOREQATkREAALyAAAE9AAAAI8AAAb2AAAE7gAADuQAAAAAAABEQEAAqgAAAE5OQARoQsQACSSQAE5JpQBIAAAAJERCAEIiJACk5KAABOQAAAAASAAA4AAAAABAAAJEgABKqkAAxETgAMJI4ADCQsAAiORAAOhCwABIykAA4kRAAEpKQABqYiAABAQAAAQEgAAkhCAADw8AAIQkgASiQEAATuhgAErqoADKysAASopAAMqqwADoyOAA6MiAAEqOQACq6qAA5ETgAOIqQACqyqAAiIjgAK7qoACu7qAASqpAAMrIgABKqmAAysqgAGhCwADkREAAqqpAAKqkQACq7kAAqkqgAKpEQADiSOAAZERgAAhEIABiImAEoAAAAAAADwCEAAAABqpgAIyqwAAGiGAAJqpgAAToYAAkZEAABKpiQIyqoABAREAAQERIAIrKoABEREAADuqgAAyqoAAEqkAADKyAAAamIAAMqIAABoLAAE5EQAAKqmAACqpAAAqu4AAKRKAACqRAAA4s4AAkxCAARERAAIRkgAbAAAAABKrgAEqKSACgqmACQk6OBKBuYACgbmAEIG5gAEBuYAAAaGSEoE6OAKBOjghATo4AoERABKBEQAhAREAKBK6gBASuoAJA6MjgBv5wAHr6sASgSqQKAEqkCEBKpASgqkAIQKpACgqkQAoEqqQKCqqkAARoZASoyOAKpORADKyrohJU5EgCQG5gAkBEQAJASqQCQKpABsDKoAbAru6gbmDgAEpA4AQEikAAAOiAAADiIARA4EjkQOCOQEBO5AAFhQAAChoAAUFBQUWlpaWtfX19dERERERExERETMRERVXVVVAA9VVQDMRERV3VVVVVVVVQD9VVVV3wAAVV8AAETMAAAADEREREcAAERPAAAAD0REREdERAAPAABET0RERHdERFVXVVVVdwAAAHdVVVX/AAAA/1VVVXdVVQD/AABV/1VVRP8AAFVfAAAA/0REAA9VVVVXAABEdwAAAHdERAAHVVVVX1VVRP9ERERMAAAAB0RE/////wAA///MzMzMMzMzM///AAAFqqUAaamSAA6oiAAA6qoA+EJI8AB6qkAAVVZIAKREQOSqpOBKrqpAaZZmkGQmmWAA+Z8AEmlkgAaOhgAGmZkADg4OAABOQOAAQkBgACQgYAJUREREREzABA4EAAWgWgBKQAAAAAZgAAAGAAADIqYgDKoAAEJGAAAAZmYAAAAAAA==",amigaFont:!1},"80x50":{width:9,height:8,data:"AAAAAAAAAAAAfkCpUCvUygT8fn+23+w3O/z8bH8/n8fBwEAAEBwfH8fBwEAAOD4OH8/msEBwEBwfH8/j4EBwAAAGB4PAwAAA/3+52Gw3O/3+AB4ZiEQjMPAA/2GmV6vUyw3+DwODz6zGYzDwPDMZjMPAwfgwPxmPxgMDg8HAfzGfzGYzO5mAGG2PHO5x42wwgHA+H8+HAgAAAgcPn8PgcAgAGB4fgwGD8PAwZjMZjMZgAZgAf222z2Gw2GwAPjCPDMZh4hj4AAAAAAfj8fgAGB4fgwfh4GH+GB4fgwGAwGAAGAwGAwfh4GAAAAwDH8DAwAAAABgYH8YBgAAAAAAwGAwH8AAAABIZn+ZhIAAAAAwPD8/3+AAAAH+/z8PAwAAAAAAAAAAAAAAAGB4PAwGAAGAAZjMJAAAAAAAAbDY/jY/jYbAAGB8YB4Bj4GAAAGMzAwMDMxgAODYODs3GYdgAGAwMAAAAAAAADAwMBgMAwDAAMAwDAYDAwMAAADMPH+PDMAAAAAwGD8GAwAAAAAAAAAAAwGBgAAAAD8AAAAAAAAAAAAAAwGAABgYGBgYGAgAAODYxmsxjYOAAGBwGAwGAwfgAfGMBg4MDM/gAfGMBh4BmMfAAHB4bGY/gYHgA/mAwH4BmMfAAODAwH4xmMfAA/mMDAwMBgMAAfGMxj4xmMfAAfGMxj8BgYeAAAAwGAAAAwGAAAAwGAAAAwGBgBgYGBgGAYBgAAAAfgAAD8AAAYBgGAYGBgYAAfGMDAwGAAGAAfGM3m83mAeAAODYxn8xmMxgA/DMZj4ZjM/AAPDMwGAwDMPAA+DYZjMZjY+AA/jEaDwaDE/gA/jEaDwaDA8AAPDMwGAzjMOgAxmMxn8xmMxgAPAwGAwGAwPAAHgYDAYzGYeAA5jMbDwbDM5gA8DAYDAYjM/gAxnc/n81mMxgAxnM9m8zmMxgAfGMxmMxmMfAA/DMZj4YDA8AAfGMxmMxmcfAc/DMZj4bDM5gAPDMMAwDDMPAAfj8WgwGAwPAAxmMxmMxmMfAAxmMxmMxjYOAAxmMxms1n8bAAxmMbBwbGMxgAZjMZh4GAwPAA/mMjAwMjM/gAPBgMBgMBgPAAwDAMAwDAMAgAPAYDAYDAYPAAEBwbGMAAAAAAAAAAAAAAAAH+MAwDAAAAAAAAAAAeAYfGYdgA4DAfDMZjM3AAAAAfGMwGMfAAHAYfGYzGYdgAAAAfGM/mAfAAPDMYHwYDA8AAAAAdmYzD4DHw4DAbDsZjM5gAGAAOAwGAwPAABgABgMBjMZh44DAZjYeDY5gAOAwGAwGAwPAAAAA7H81ms1gAAAA3DMZjMZgAAAAfGMxmMfAAAAA3DMZj4YHgAAAdmYzD4DA8AAA3DsYDA8AAAAAfmAfAM/AAMBg/BgMBsHAAAAAzGYzGYdgAAAAxmMxjYOAAAAAxms1n8bAAAAAxjYODYxgAAAAxmMxj8Bn4AAAfiYGBkfgADgwGDgGAwDgAGAwGAwGAwGAAcAwGAcGAwcAAdm4AAAAAAAAAAAgODYxmM/gAfGMwGAxj4DDwzAAzGYzGYdgADAwfGM/mAfAAfEEeAYfGYdgAxgAeAYfGYdgAMAweAYfGYdgAMBgeAYfGYdgAAAAfmAwD8DBwfEEfGM/mAfAAxgAfGM/mAfAAMAwfGM/mAfAAZgAOAwGAwPAAfEEOAwGAwPAAMAwABwGAwPAAxhwbGM/mMxgAODYfGM/mMxgAGBg/mA+GA/gAAAAfgwfmwfgAPjYzH8zGYzgAfEEfGMxmMfAAxgAfGMxmMfAAMAwfGMxmMfAAeEIAGYzGYdgAYBgzGYzGYdgAxgAxmMxj8Bn4xhwbGMxjYOAAxgAxmMxmMfAAGAwfmAwD8GAwODYZHgYDM/AAZjMPD8GD8GAw+GYzH0xmexmODg2GB4GGwcAAGBgeAYfGYdgADAwABwGAwPAADAwfGMxmMfAAGBgzGYzGYdgAdm4AG4ZjMZgAdm4AHM9m8zgAPDYbB8AD8AAAODYbBwAD4AAAGAAGAwMDGPgAAAAAH8wGAAAAAAAAH8BgMAAAY3MbD8MzMzAeY3MbD0NjU3wMGAAGAwPB4GAAABmZmYZhmAAAAGYZhmZmYAAAIkQIkQIkQIkQVVUVVUVVUVVUd26d26d26d26GAwGAwGAwGAwGAwGAw+AwGAwGAw+Aw+AwGAwNhsNhs9hsNhsAAAAAA/hsNhsAAA+Aw+AwGAwNhs9gM9hsNhsNhsNhsNhsNhsAAA/gM9hsNhsNhs9gM/gAAAANhsNhs/gAAAAGAw+Aw+AAAAAAAAAAA+AwGAwGAwGAwH4AAAAGAwGAw/4AAAAAAAAAA/4wGAwGAwGAwH4wGAwAAAAAA/4AAAAGAwGAw/4wGAwGAwH4wH4wGAwNhsNhsN5sNhsNhsN5gP4AAAAAAAP5gN5sNhsNhs94A/4AAAAAAA/4A95sNhsNhsN5gN5sNhsAAA/4A/4AAAANhs94A95sNhsGAw/4A/4AAAANhsNhs/4AAAAAAA/4A/4wGAwAAAAAA/5sNhsNhsNhsP4AAAAGAwH4wH4AAAAAAAH4wH4wGAwAAAAAAP5sNhsNhsNhs/5sNhsGAw/4w/4wGAwGAwGAw+AAAAAAAAAAAH4wGAw////////////AAAAAA//////8Hg8Hg8Hg8HgD4fD4fD4fD4f//////AAAAAAAAAdm4yG4dgAeGYzGwzGMzAA/mMwGAwGAwAAAAA/jYbDYbAA/mMYBgYGM/gAAAAfmw2GwcAAAAAZjMZjMfGAADs3AwGAwGAAfgwPDMZh4GD8ODYxn8xjYOAAODYxmMbDY7gADgwDB8ZjMPAAAAAfm22z8AAABgYfm22z8YGAHhgYD8YBgHgAAD4xmMxmMxgAAH8AH8AH8AAAGAwfgwGAAfgAMAwDAwMAAfgADAwMAwDAAfgADg2GwwGAwGAwGAwGAwGGw2DgAAwAD8AAwAAAADs3AAdm4AAAODYbBwAAAAAAAAAAAwGAAAAAAAAAAwAAAAAADwYDAY7DYPA4bBsNhsNgAAAAeAYGBgfAAAAAAAAPB4PB4AAAAAAAAAAAAAAA",amigaFont:!1},armenian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAPDMw2G222w2GZh4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAw3O/3+22Gw2Gw2GAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAw2Gw2Gw2GwzMPAwAAAAAAAAAw2Gw2Gw2223+ZjMAAAAAAAAAw2GZh4GAwPDMw2GAAAAAAAAAw2GwzMPAwGAwGB4AAAAAAAAA/2GhgYGBgYGCw3+AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHM/22222222AAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGGw2GwzMPAwAAAAAAAAAAAAAGGw2G222/zMAAAAAAAAAAAAAGGZh4GB4ZmGAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAzGYzGYzGY3G4zjsAAAAAAAAAAAAAG22222222zeAAAAAAAAAeGYzGYzGAwH8wGAAAAAAAAAAAAAAHwzGYzGAwH8wGAwAAAAAeGYzGYzGYfwYDAYAAAAAAAAAAAAAD4zGYzGYzD+DAYDAAAAAeGYzGYzGYzwYDAYAAAAAAAAAAAAAHwzGYzGYzGeDAYDAAAAAwGA/mAwGYzGYzDwAAAAAAAAAwGA/GAwGAzGYzD4AAAAAAAAAPDMZjMZh8BgY2H8wwAAAAAAAAAAAGYzGYzGYzD4DAYDwAAAAwGA/mAwGAwHwDAYeAAAAAAAAwGAwH4wGAwGA+AYeAAAAAAAAeGYzGYzGYwGAwH8AAAAAAAAAAAAAHwzGYzGYzGAwGA/gAAAAfGMz2s1ms1ms1mYAAAAAAAAAAAAAH4xme1ms1mYwGAwAAAAADAYf2YzGYzGYzDwAAAAAAAAADAYDD+zGYzGYzD4AAAAAAAAAwGA+GYzGYzGYwGAAAAAAAAAAwGAwHwzGYzGYzGYwGAwAAAAAwGAwGAwGAwGAwH4BgAAAAAAAAAAADAYDAYDAYDAYDAfAAAAAwGA+2222222222cAAAAAAAAAwGAwH222222222ewGAwAAAAAwD8+2YzGYzGYzDwAAAAAAAGAeAYDD+zGYzGYzD4AAAAAAAAAwGAzGYzGYzD4DAYAAAAAAAAAwGAwGYzGYzGYzD4DAYDAAAAAMAwDAwMDAwGAwH4DgAAAAAAAwGAwHwzGYzGYzGYAAAAAAAAAPDMZjMZgMBjY2DcAAAAAAAAAID8DAwMDg2GYzjsAAAAAAAAAeGYzGYzGYzAYDAeAAAAAAAAAAAAAHwzGYzGYzGYDAYDAeAAAzj2cGwzGYzGYzD4AAAAAAAAAGHgYDg2GYzGYzD4AAAAAAAAAz2YzGYzGYzGYzDwAAAAAAAAADwYDGYzGYzGYzD4AAAAAAAAAeGYDBwbAYDGYzDwAAAAAAAAAAAAAAYDAYDAYDAYbG4eAAAAA4DAYDMZjMZjMZh4AAAAAAAAA4DAYDMZjMZjMZh8AAAAAAAAA+AYfGYwGAzGYzDwAAAAAAAAAAAAADwzGYzAYGBgYGAfgAAAAeGYzGYzGYzGYzGYAAAAAAAAAAAAAHwzGYzGYzGYAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAeGYzGYDAYDGwcBgGAAAAAAAAAAAAAwMAwDAwMDAwGAfgAAAAfm2222222Gw2AwGAAAAAAAAAAAAAG22222222z+AwGAwAAAAYHg2GYZhsFg42H8wwAAAAAAAAAAADg2GYzDYOBgYGAfgAAAAeGYzGYzGezGYzGYAAAAAAAAAAAAAHwzGYzGYzGeAAAAAAAAAzGYzGYzGYzGYzDwAAAAAAAAAAAAAGYzGYzGYzD4AAAAAAAAADAYzGYzGYzD4DAeAAAAAAAAADAYDGYzGYzGYzD4DAYDwAAAAeGYzDAMAwDGYzDwAAAAAAAAAAAAAG82222222z2AAAAAAAAAeGYzGYzGYzGAwGAAAAAAAAAAAAAAHwzGYzGYzGYwGAwAAAAAeGYzDwzAYDAYzDwAAAAAAAAAAAAAGYzGYzGYzD4DAYeAAAAAwGA+GYzGYzGMwGAAAAAAAAAAAAAADAYDAYDAYD4AAAAAAAAAGAwfm22222z8GAwAAAAAAAAAGAwGG82222222z2GAwGAAAAAPDMZjMfDAYH8YDAAAAAAAAAAAAAAD4ZjMZjMZj4YH8YAAAAAeGYzGYzGYzGYzDwAAAAAAAAAAAAADwzGYzGYzDwAAAAAAAAAeGw2D8Gw22222z8AAAAAAAAAeGw2D8Gw22222z8GAwGAAAAAOCIlAQAAAAAAAAAAAAAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},baltic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAADAwAB4ZmEwGAwGEZh4AAAAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAAfgAADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAAAAHBgGDszGYzGIzD4DGYeAAABwbBwADwDD4zGYzDsAAAAAAAAYGBgAD4xmAwGAxj4AAAAAAAAAOA0Hg4GBweCwGB4AAAAAAAAAfgAAD4xn8wGAxj4AAAAAAAAA/DMZjMfDYZjMZnMDAMPAAAAAAAAAG4djMYDAYHgGAYeAAAAAfAAABwGAwGAwGB4AAAAAAGBgAH8hgYGBgYGExn8AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAAfgAAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAAAAPDMwmAwG8xmMZh0DAMPAAAAAGAwfGMwGAxj4GAwAAAAAAGBgAD4xmMYBwDGMxj4AAAAAAAAADAwAD4xjAOAYxj4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAAAAAAAGMbBwODYxgAAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAfgAEBwbGMxn8xmMxmMAAAAAAfgAPAwGAwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAGAwAH8hgYGBgYGExn8AAAAAAAAAGAwAH8zAwMDAxn8AAAAAAAAYGBgAH8zAwMDAxn8AAAAAAABsbGwAAAAAAAAAAAAAAAAAAAAwGAwGAwAAAGAwGAwGAAAAAAAAfEEmlEolEmkEfAAAAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAAAD8AgEAAAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAA8DIbDwcHA4DEZn8AAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwAAAEBwbGMxn8xmMxmMGBgHgAZh4AB4ZmEwGAwGEZh4AAAAAAAAA/jMYjQeDQYDEZn8GBgHgAGAw/jMYjQeDQYDEZn8AAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAPAwGAwGAwGAwGB4GBgHgAbBwAD4xmAYBwDAMxj4AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAxmMxmMxmMxmMxj4MDAPAAfgAxmMxmMxmMxmMxj4AAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsbBwAH8xkYGBgYGExn8AAAAAAAAAAAAADwDD4zGYzDsGBgHgAAAAbBwAD4xmAwGAxj4AAAAAAAAAAAAAD4xn8wGAxj4MDAPAAAAAGAwAD4xn8wGAxj4AAAAAAAAAGAwABwGAwGAwGB4GBgHgAAAAbBwAD4xjAOAYxj4AAAAAAAAAAAAAGYzGYzGYzDsMDAPAAAAAfAAAGYzGYzGYzDsAAAAAAAAAbBwAH8zAwMDAxn8AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAfgAAD4xmMxmMxmMxj4AAAAAADAwAGM5ns/m8zmMxmMAAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAYGBgAG4ZjMZjMZjMAAAAAAAAA5jMZjYeDwbDMZnMGAYeAAAAA4DAYDMbDweDYZnMGAYeAAAAA8DAYDAYDAYDEZn8GAYeAAAAAOAwGAwGAwGAwGB4GAYeAAAAAAAAAG4ZjMZjMZjMDAMPAAfgA/jMYjQeDQYDEZn8AAAAAAAAAAGM5ns/m8zmMxmMGAYeAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAABsbGwAAAAAAAAAAAAAAAAAAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAA2DYNgAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},cyrillic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAfGMxmc1nMxmMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAYDA+DAYD4ZjMZnMBgICAAAAA/DAYDAbDsZjMZnYAAAAAAAAADAwAH8YjAYDAYHgAAAAAADAwAH8ZjEYDAYDAYHgAAAAAAAAAADYAD4xmM/GAxj4AAAAAAbAA/jMYjQeDQYDEZn8AAAAAAAAAAAAAD4xmA+GAxj4AAAAAAAAAfGMwGQ+GQwGAxj4AAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAADYABwGAwGAwGB4AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAAHgYDAYDAYzGYzDwAAAAAAAAAAAAAH4WC4Wi0Wm4AAAAAAAAA/CwWCwXC0Wi0Wm4AAAAAAAAAAAAAGw2H42m02m4AAAAAAAAA2Gw2Gw/G02m02m4AAAAAAAAAYHwYDAfDMZjMZnMAAAAAAAAA/DAYDAfDMZjMZnMAAAAAAAAADAwAHMbDweDYZnMAAAAAADAwAHMZjYeDwbDYZnMAAAAAAAAAADYOGMxmMxmMfgMBmMfAAbBwxmMxmMxj8BgMxj4AAAAAAAAAAAAAHcbDYbDYbH8EAAAAAAAA7jYbDYbDYbDYbH8EAAAAAAAAAAAAGc222+2222cAAAAAAAAAzm2222+2222222cAAAAAAAAAAAAAHwsFgPhmMz8AAAAAAAAA+HgsBgPhmMxmMz8AAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAAHhsZmMxn8xmMxmMAAAAAAAAEBj4wGA/GMxmMxj4AAAAAAAAA/jEYjAfDMZjMZn4AAAAAAAAAAAAAGMxmMxmMxn+AwGAAAAAAxmMxmMxmMxmMxn+AwGAAAAAAAAAAA8NjMZjMZn+w2GAAAAAAHhsZjMZjMZjMZn+w0CAAAAAAAAAAD4xmM/mAxj4AAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAAAB4GD82222222z8GAwPAAAAAfm22222222z8GB4AAAAAAAAAAAAAH8YjEYDAYHgAAAAAAAAA/jMYjAYDAYDAYHgAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAARAiRAiRAiRAiRAiRAiRAiRAiqiqqiqqiqqiqqiqqiqqiqqiqd26d26d26d26d26d26d26d26GAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAw+AwGAwGAwGAwAAAAAAAGMbBwOBwbGMAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAAAAAGMxmc1nMxmMAAAAAAAAAxmMxmc3ns5mMxmMAAAAAANhsNhsNhs9gM9hsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAAA/gM9hsNhsNhsNhsNhsNhsNhs9gM/gAAAAAAAAAAAAAADYOGMxmc1nMxmMAAAAAAbBwxmMxmc3ns5mMxmMAAAAAAAAAAAAAAAAAA+AwGAwGAwGAwGAwGAwGAwGAwH4AAAAAAAAAAGAwGAwGAwGAw/4AAAAAAAAAAAAAAAAAAAAAA/4wGAwGAwGAwGAwGAwGAwGAwH4wGAwGAwGAwAAAAAAAAAAAA/4AAAAAAAAAAGAwGAwGAwGAw/4wGAwGAwGAwAAAAAAAHMbDweDYZnMAAAAAAAAA5jMbDYeDwbDYZnMAAAAAANhsNhsNhsN5gP4AAAAAAAAAAAAAAAAAAAP5gN5sNhsNhsNhsNhsNhsNhs94A/4AAAAAAAAAAAAAAAAAAA/4A95sNhsNhsNhsNhsNhsNhsN5gN5sNhsNhsNhsAAAAAAAAA/4A/4AAAAAAAAAANhsNhsNhs94A95sNhsNhsNhsAAAAGMfGMxmMxmMfGMAAAAAAAAAAAAAA8NjMZjMZnMAAAAAAAAAHhsZjMZjMZjMZmMAAAAAAAAAAAAAGM7n8/ms1mMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAAAAAGMxmM/mMxmMAAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAAAAAAH8xmMxmMxmMAAAAAAGAwGAwGAwGAw+AAAAAAAAAAAAAAAAAAAAAAAH4wGAwGAwGAw////////////////////////AAAAAAAAAAAA////////////AAA/mMxmMxmMxmMxmMAAAAAAAAAAAAAD8xmMfhsZmMAAAAAA////////////AAAAAAAAAAAAAAAPzMZjMPh8ZjMZnOAAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAA/DMZjMZj4YDAYHgAAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAfGMxmAwGAwGExj4AAAAAAAAAAAAAD8WgwGAwGB4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAAAAAGMxmMxmMfgMBmMfAAAAAxmMxmMxj8BgMxj4AAAAAAAAAAAAAGs1iofCo1msAAAAAAAAA222Wi0fj8Wm2222AAAAAAAAAAAAAH4ZjMfDMZn4AAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAAAAAHgYDAfDMZn4AAAAAAAAA8DAYDAfDMZjMZn4AAAAAAAAAz2a73Y/243GYzGYAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAAGMxmM9m83nsAAAAAAAAAw2Gw2G82222223mAAAAAAAAAAAAAD4xgMPAMxj4AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAAAAAAGs1ms1ms1n8AAAAAAAAA1ms1ms1ms1ms1n8AAAAAAAAAAAAAD4xgMPgMxj4AAAAAAAAAfGMBhMPhMBgMxj4AAAAAAAAAAAAAGs1ms1ms1n8AwGAAAAAA1ms1ms1ms1ms1n8BgMAAAAAAAAAAGMxmMxj8BgMAAAAAAAAAxmMxmMxj8BgMBgMAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAfD4fD4fD4fD4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},french_canadian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAODYxggODYxmM/mMxmMAAAAAAADAMAwADwDD4zGYzDsAAAAAAAAAAD+2222z2Gw2Gw2AAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAAAAAAAAAAAAAAAAAAA/wA/wAGAYBggODYxmM/mMxmMAAAAAAAD4xjAODYxmMbBwDGMfAAAAADAwAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAAgODYAD4xmMxmMxj4AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAADMAB4GAwGAwGAwGB4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAODYAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwGAwGAwAAAGAwGAwGAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAAD4Bh4BgMfAAAAAAAAAAAAAAAH+AAAAAAAAAAAAAAAAAAAAAPDMAB4GAwGAwGAwGB4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAHAMHENnYGBgZmcmh+BgMAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},greek:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/jEYDAYDAYDAYHgAAAAAAAAAEBwbGMxmMxmMxn8AAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAfGMxmM/mMxmMxj4AAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAAEBwbGMxmMxmMxmMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAA/kEAAAfAAAAAgn8AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/mMxmMxmMxmMxmMAAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAA/mAYBgGAwMDAwH8AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAAPAwfkymUyfgwGB4AAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAGG2222222fgwGB4AAAAAAAAAPDMw2Gw2GwzMJHOAAAAAAAAAAAAAD2zmYzGYzD2AAAAAAAAAfGMxmMxn4xmMxn4wGAwAAAAAAAAAGGZh4GB4ZiEZh4AAAAAAfDAMAweGYzGYzDwAAAAAAAAAAAAAD4xmAeGAxj4AAAAAAAAA/AYGBgYGAwGAwDwDAYeAAAAAAAAAG4ZjMZjMZjMBgMBgAAAAPjGYzGfzGYzGYx8AAAAAAAAAAAAAAwGAwGAwGgYAAAAAAAAAAAAAHMbDweDYZnMAAAAAAAAAPDMBgMBh8ZjMZjMAAAAAAAAAAAAADMZjMZjMZj+YDAYAAAAAAAAAHMZjMZjYeBgAAAAAAAAA/DAwDwMDAwGAwD4BgMPAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH+ZjMZjMZjMAAAAAAAAAAAAAB4ZjMZjMZj4YDAYAAAAAAAAAD+zGYzGYzDwAAAAAAAAAAAAAD4xmAYB4BmMfAAAAAAAAAAAAH4MBgMBgNAwAAAAAAAAAAAAAHOZjMZjMZh4AAAAAAAAAAAAAC41ms1ms1j4EAgEAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGs1ms1ms1j4EAgEAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADMw2Gw22/zMAAAAAAAAAOAgAD2zmYzGYzD2AAAAAAAAAOAgAD4xmAeGAxj4AAAAAAAAAOAgAG4ZjMZjMZjMBgMBgAAAAZgAAAwGAwGAwGgYAAAAAAAAAOAgAAwGAwGAwGgYAAAAAAAAAOAgAD4xmMxmMxj4AAAAAAAAAOAgAHOZjMZjMZh4AAAAAAAAAZgAAHOZjMZjMZh4AAAAAAAAAOAgADMw2Gw22/zMAAAAAAQEAEBwbGMxn8xmMxmMAAAAAAQEA/jMYjQeDQYDEZn8AAAAAAQEAxmMxmM/mMxmMxmMAAAAAAQEAPAwGAwGAwGAwGB4AAAAAAQEAfGMxmMxmMxmMxj4AAAAAAQEAZjMZjMPAwGAwGB4AAAAAAQEAPDMw2Gw2GwzMJHOAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAZgAZjMZjMPAwGAwGB4AAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},greek_869:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABASA4NjGYz+YzGYzGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAAAAAAAAAAH8BgMAAAAAAAAAAAwGAwGAwGAAAAwGAwGAwGAAAAAGAwEAQAAAAAAAAAAAAAAAAAAGAwCAgAAAAAAAAAAAAAAAACAvxgMBgPhgMBgMB+AAAAAAAAAAAAAAAAH+AAAAAAAAAAAAACAsxmMxmPxmMxmMxmAAAAAAABAXgYDAYDAYDAYDA8AAAAAAZgAfgwGAwGAwGAwGD8AAAAAAACAvjGYzGYzGYzGYx8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAsxmMxmHgYDAYDAYAAAAAAZgAZjMZjMPAwGAwGAwAAAAAAAAAPCEmVKoVKmSEPAAAAAAAAACAuDYxmMxmMxjYKHcAAAAAAABwbAYGBgfAAAAAAAAAAAAAAAD4DBgDAYeAAAAAAAAAAAAAAAAACAgADszGYzGYzDsAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAACAgAD4xmAeGAxj4AAAAAAAAACAgAG4ZjMZjMZjMBgAAAAAAACAgABgMBgMBgMA4AAAAAAAAAAGYABgMBgMBgMA4AAAAAACAgAGYABgMBgMBgMA4AAAAAAAAACAgAD4xmMxmMxj4AAAAAAAAABAQAHMZjMZjMZh4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/mAwGAwGAwGAwGAAAAAAAAAAEBwbDYxmMxmMxn8AAAAAAAAA/mAwGA/GAwGAwH8AAAAAAAAA/gMBgYGBgYGAwH8AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAADA4DEZjYGBgYG4hgYGB8AAAAAAfGMxmMxn8xmMxj4AAAAAAAAAfgwGAwGAwGAwGD8AAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwAAAxmY2Hg4Hg2GYxmMAAAAAAAAAEBwbDYxmMxmMxmMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAA/mMAAAfD4AAAxn8AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAA/7MZjMZjMZjMZjMAAAAAAAAA/GMxmM/GAwGAwGAAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAA/mAYBgGAwMDAwH8AAAAAAAAAfgwGAwGAwGAwGAwAAAAAAAAAZjMZjMPAwGAwGAwAAAAAAAAAED41ms1msfAgEBwAAAAAAAAAxmMbDYOBwbDYxmMAAAAAAAAAEGs1ms1msfAgEBwAAAAAAAAAODYxmMxmMxjYKHcAAAAAAAAAAAAADszGYzGYzDsAAAAAAAAAeGYzGY2H4xmMxn4wEAAAAAAAAAAAEExjYOD4xmMxmMfAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAAfjAMAwfGMxmMxj4AAAAAAAAAAAAAD4xmAeGAxj4AAAAAA//////////4AAAAAAAAAAAAAAAAfgMDAwMDAYDAYB8Bh4AAAAAAAAAAG4ZjMZjMZjMBgAAAAAAAfGMxjMNh8hmMxj4AAAAAAAAAAAAABgMBgMBgMA4AAAAAAAAAAAAAGMzGw8GwzGMAAAAAAAAAfGMBgMPjMZmMxmMAAAAAAAAAAAAAGMxmMxmM5m6wGAwAAAAAAAAAEExmMxjYbBwAAAAAAAAAfgwMBgHBgYDAYB8Bh4AAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH+ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmM5m4wGAwAAAAAAAAAD82GYzGYzDwAAAAAAAAAAAAAD4xmAwD4BgMPAAAAAAAAAAAAH4MBgMBgNg4AAAAAAAAYGAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAHMZjMZjMZh4AAAAAAAAAAAAAA4Vms1ms1j4EAgEAAAAAAAAAGEbBwOBwbEMAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAg1ms1ms1j4EAgEAABAQADMAAAAAAAAAAAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAADMAAAAAAAAAAAAAAAAAAAAAAAAACIxmM1ms1jYAAAAAAAAAADMAHMZjMZjMZh4AAAAAABAQADMAHMZjMZjMZh4AAAAAAAAACAgACIxmM1ms1jYAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},hebrew:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZm4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAAAAxmMZjs3GYxmMAAAAAAAAAAAA+AYDAYDAYDH8AAAAAAAAAAAAOAYDAYDA4NnMAAAAAAAAAAAA/gYDAYDAYDAYAAAAAAAAAAAA/AMBgMxmMxmMAAAAAAAAAAAAcAwGAwGAwGAwAAAAAAAAAAAA/BgMBgGAwMDAAAAAAAAAAAAA/DMxmMxmMxmMAAAAAAAAAAAAzGs1mMxmMxj4AAAAAAAAAAAAcAwGAwMAAAAAAAAAAAAAAAAA/AMBgMDAYDAYDAYDgAAAAAAA/AMBgMBgMBn4AAAAAAAAAwGA/AMBgMBgYGAwAAAAAAAAAAAA/DMxmMxmMxn8AAAAAAAAAAAA3DsZmMxmMxm8AAAAAAAAAAAAOAYDAwGAwGAwGAwHAAAAAAAAOAYDAYDAYDD4AAAAAAAAAAAA/DMxmMxmMzDwAAAAAAAAAAAA7jMZjMZjMLHwAAAAAAAAAAAA+CYzGY7AYDAYDAYDgAAAAAAA/CMxmM5gMBn8AAAAAAAAAAAA7jMZjYeDAYDAYDAcAAAAAAAA7jMZhoGAYBn8AAAAAAAAAAAA/AMBjMZDYbjAYDAYAAAAAAAA/AMBgMBgMBgMAAAAAAAAAAAA1ms1ms1nsxj4AAAAAAAAAAAA/DMZjMZjM5nMAAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAZjMPAwfgwfgwGAwAAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},icelandic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcHhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwGD8PAwAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAAAH8/n8AAAAAAAAAGB4fgwGAwGD8PAwfgAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAGAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAgEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAAAwGD4xmEwD4BkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAAAwGAwMAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGH+GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAABgMDAYGAwMBgYDAAAAAAAAAAfGMxms1ms1mMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAAA/gAAH8AAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgMDAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAADwMBgMBgMBmMxj4AAAAAAAAA5jMbDYeD4bDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAODYxmMxmMxmMbBwAAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmMxms1n8bDYAAAAAAAAAxmMbDYOBwbDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAYDAMBgGAwDAYBgMAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZm4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYfAYDGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1msxmMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMfDAYDA8AAAAAAAAADszGYzGYfAYDAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAADMZjMZjMPAwAAAAAAAAAAAAAGMxmM1ms/jYAAAAAAAAAAAAAGMxjYODYxmMAAAAAAAAAAAAAGMxmMxmMfgMBgYeAAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcDgGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgcGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GAYOAAAAAzGYAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzGYADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GAYOAAAAgODYAD4xn8wGAxj4AAAAAAAAAzGYAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAA+DYZjM9jMZjMbHwAAAAAAAAAbBg2AYfmMxmMxj4AAAAAAAAA8DAfDMZjMZj4YHgAAAAAAxmMEBwbGMxn8xmMxmMAAAAAAODYOAAODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNjs3mw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxmMAD4xmMxmMxj4AAAAAAAAA4DAYD4ZjMZjMfDAYDA8AAABgeGYAGYzGYzGYzDsAAAAAADAwADMZjMZh4GAwGB4AAAAAAAAYGBgAGMxmMxmMfgMBgYeAAxmMODYxmMxmMxmMbBwAAAAAAxmMAGMxmMxmMxmMxj4AAAAAAAAAAAABj4zm81nM5j4wAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAMPDYzmc1ms5nMbDwwAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAwGAw2DgAAAAAYGBgADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAYGBgAD4xmMxmMxj4AAAAAAAAYGBgAGYzGYzGYzDsAAAAAADAwABwbGMxn8xmMxmMAAAAAADAwAB4GAwGAwGAwGB4AAAAAADAwABwbGMxmMxmMbBwAAAAAADAwAGMxmMxmMxmMxj4AAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAAAAAAAAAAAAAAAAAAA/gMBgMAAAAAAAAAAGAwGExmYGBgYG4pgYGB8AAAAGAwGExmYGBgZmcnh8BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABmZmYZhmAAAAAAAAAAAAAAAAGYZhmZmYAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxm4AAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAADs3AwGAwGAwAAAAAAAAAPAwPDMZjMZh4GB4AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxmMxjYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAfGMxmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAw2Gw2DgAAAAAAAAAAAAGAwAD8AAwGAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAAGwbDYbDYbAAAAAAAAAAAAAAADg2BgYGQ+AAAAAAAAAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},latin1:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAAAAAAAGMbBwODYxgAAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwYGAEBwbGMxn8xmMxmMAAAAAAfGMEBwbGMxn8xmMxmMAAAAAADAMEBwbGMxn8xmMxmMAAAAAAAAAfEEmlEolEmkEfAAAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAGAwfGMwGAxj4GAwAAAAAAAAAADMZh4GD8GD8GAwAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAdm4ADwDD4zGYzDsAAAAAAdm4ABwbGMxn8xmMxmMAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAxj4xmMxmMfGMAAAAAAAAANAwLAMPjMZjMZh4AAAAAAAAA+DYZjM9jMZjMbHwAAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAABwGAwGAwGB4AAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAADMAB4GAwGAwGAwGB4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAwGAwGAwAAAGAwGAwGAAAAAMAwAB4GAwGAwGAwGB4AAAAAA//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAA4DAYD4ZjMZjMZj4YDA8AAAAA8DAfDMZjMZj4YHgAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAAAYGBgAGMxmMxmMxj8BgY+AADAwADMZjMZh4GAwGB4AAAAAAAH+AAAAAAAAAAAAAAAAAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAAAAAAAAAAAA/wA/wAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAABwbDYOAAAAAAAAAAAAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},latin2:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPhsPhgMBgMDg8HAAAAAAAAAAfjMfjMZjMZjc7nYwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH4YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAAGMxmMRAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgYGBgMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnsAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGYzGYzGYeBgAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4DAMfAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADwzDwAGYzGYzGYzDsAAAAAAAAYGBgAD4xmAwGAxj4AAAAAAAAAAAAAD4xmAwGAxj4GAYeAAAAAOA0Hg4GBweCwGB4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAANjYAD4xmMxmMxmMxj4AAAAAAAAANjYAD4xmMxmMxj4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAGBgAH8hgYGBgYGExn8AAAAAAAGMEBwbGMxn8xmMxmMAAAAAADAwAB4ZmEwGAwGEZh4AAAAAAGBgYAA/jMYDwYDEZn8AAAAAAMDAAHgYDAYDAYDEZn8AAAAAAMDAAHAYDAYDAYDAYHgAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAAAA9jEZDAYDAYDEZn8AAAAAAAAA7DIaDAYDAYDAYHgAAAAAAGBgAD4xmMYBwDGMxj4AAAAAAAAADAwAD4xjAOAYxj4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAZh4AD8fi0GAwGAwGB4AAAAAAAAMEhoMH4MBgMBgNg4AAAAAAAAA8DIbDwcHA4DEZn8AAAAAAAAAAAAAAAxjYODYxgAAAAAAAAAAbBwAD4xmAwGAxj4AAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAEBwbGMxn8xmMxmMGBgHgAAAAAAAADwDD4zGYzDsGBgHgAbBwAH8xkYGBgYGExn8AAAAAAAAAbBwAH8zAwMDAxn8AAAAAAAAA/jMYjQeDQYDEZn8GBgHgAAAAAAAAD4xn8wGAxj4MDAPAAAAAAAAAAA/gMBgMBgAAAAAAAAAYGBgAH8zAwMDAxn8AAAAAAZh4AB4ZmEwGAwGEZh4AAAAAAAAAAAAAD4xjAOAYxj4GAYeAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAADYNg2NjYAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGBgAAgODYxmM/mMxmMAAAAAAODYAAgODYxmM/mMxmMAAAAAAbBwAH8ZjEaDwaDEZn8AAAAAAAAAfGMxjAOAYBmMxj4GAYeAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAGAwAH8hgYGBgYGExn8AAAAAAAAAGAwAH8zAwMDAxn8AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwxj4AAgODYxmM/mMxmMAAAAAAAAAxj4ADwDD4zGYzDsAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAAGMfGMxmMfGMAAAAAAAAADAYfgYPDYzGYzDsAAAAAAAAA+DYZjM9jMZjMbHwAAAAAAbBwAHwbDMZjMZjMbHwAAAAAAbAAAH8ZjEaDwaDEZn8AAAAAAAAAHYbDZ4bGYzGYzDsAAAAAAbBwAGM5ns/m8zmMxmMAAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAAAAZh4AD4xn8wGAxj4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAAfj8WgwGAwGAwGB4GAYeAAODYOAAxmMxmMxmMxj4AAAAAA//////////4AAAAAAAAAAAAADAwAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAADAwAGM5ns/m8zmMxmMAAAAAAAAYGBgAG4ZjMZjMZjMAAAAAAAAAbBwAG4ZjMZjMZjMAAAAAAbBwAD4xmAYBwDAMxj4AAAAAAAAAbBwAD4xjAOAYxj4AAAAAAGBgAH4ZjMZj4bDMZnsAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAAAYGBgAG4djMYDAYHgAAAAAANjYAGMxmMxmMxmMxj4AAAAAAAAYGBgAGMxmMxmMxj8BgY+AADAwADMZjMZh4GAwGB4AAAAAAAAAEBgMH4MBgMBgNg4GAYeAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAABsbGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAPAAADYOAAAAAAAAAAAAAAAAAAAAAGMfAAAAAAAAAAAAAAAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAGAwAD8AAwGAAAAAAAAAAAAAAAAAAAAAAAAAAGAYeAAABwbDYOAAAAAAAAAAAAAAAAAADYbAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAANjYAGYzGYzGYzDsAAAAAAbBwAH4ZjMZj4bDMZnsAAAAAAAAAbBwAG4djMYDAYHgAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},nordic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4xmc1nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},persian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAPDMw2G222w2GZh4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAw3O/3+22Gw2Gw2GAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAw2Gw2Gw2GwzMPAwAAAAAAAAAw2Gw2Gw2223+ZjMAAAAAAAAAw2GZh4GAwPDMw2GAAAAAAAAAw2GwzMPAwGAwGB4AAAAAAAAA/2GhgYGBgYGCw3+AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHM/22222222AAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGGw2GwzMPAwAAAAAAAAAAAAAGGw2G222/zMAAAAAAAAAAAAAGGZh4GB4ZmGAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAAAAAAAAAAAAQEAgCAOAAAAAAAAAAAACAgDwAAAAAAAAAAAAAAAAAAAAAAAAgOAgAAAAAAAAAAAgEAgEAQCAQBAIBAIAAAAAAAAEQj4QBAIBAEAgEAgAAAAAAACSSTsQBAIBAEAgEAgAAAAAAAAMCAgEAYCAgIBAIA8AAAAAAAAAEAQFBIIiEQUCkTcAAAAAAACEPgEAgIBAIBAEAgEAAAAAAACEQiEQhEJBIFAwGAgAAAAAAAAQGAwFBIJBEQiEQiEAAAAAAAAwJCIRB4BAIBAEAgEAAAAAAAAAAAADAwGAwAAAAAAAAAAAAAAAAAAAAAAH+AAAAAAAAAAB4QiAQBAEAYDAAAAYDAAAAAAACPiACAQCAQCAQCAAAAAAAAAAAAAMCAcEACAX8AAAAAAAAAAAAAAAAAQEAgDAgBAQAAAAAAAACAQCAQCAQCAQCAAAAAAAAAAAIBAIBAIBAIBAGAAAAAAAAAAAAAAAAAAACCgT8AAAEAAAAAAAAAAAAAAAACAX8AAAEAAAAAAAAAAAAAAACCgT8AAAFAQAAAAAAAAAAAAAACAX8AAAKAgAAAAAAAAAFAAACCgT8AAAAAAAAAAAAAAAFAAAACAX8AAAAAAAAAAAAAAQFAAACCgT8AAAAAAAAAAAAAAQFAAAACAX8AAAAAAAAAAAAAAAAAwJAEHxAQCARCAIQ8AAAAAAAAAGBIAn+AAACAAAAAAAAAAAAAwJAEHxAQCURCAIQ8AAAAAAAAAGBIAn+AAAKAgAAAAAAAAAAAwJAEHxAQCAQCAIQ8AAAAAAAAAGBIAn+AAAAAAAAAAAAEAAAAwJAEHxAQCAQCAIQ8AAAAAgAAAGBIAn+AAAAAAAAAAAAAAAAAIAgCIQ8AAAAAAAAAAAACAAAAIAgCIQ8AAAAAAAAAAAAAAAAAAAAEAQCAQEBBwAAAAAAAAAAgAAAEAQCAQEBBwAAAAAAAAICgAAAEAQCAQEBBwAAAAAAAAAAAAABKFQ+EAgIGAAAAAAAAAAAAAAACJX8AAAAAAAAAAAAAAICgAABKFQ+EAgIGAAAAAAAAAQFAAAACJX8AAAAAAAAAAAAAAAAAAAgKKQ8EAgIGAAAAAAAAAAAAABhSMX8AAAAAAAAAAAAAAIAAAAgKKQ8EAgIGAAAAAAABAAAAABhSMX8AAAAAAAAAABAIBAIBAJhSMX8AAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVUAAAAQCAgEBEISBQEAAAAAAAAGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAw+AwGAwGAwGAwGAwGAwGAw+Aw+AwGAwGAwGAwNhsNhsNhsNhs9hsNhsNhsNhsAAAAAAAAAAAA/hsNhsNhsNhsAAAAAAAAA+Aw+AwGAwGAwGAwNhsNhsNhs9gM9hsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAAA/gM9hsNhsNhsNhsNhsNhsNhs9gM/gAAAAAAAAAANhsNhsNhsNhs/gAAAAAAAAAAGAwGAwGAw+Aw+AAAAAAAAAAAAAAAAAAAAAAA+AwGAwGAwGAwGAwGAwGAwGAwH4AAAAAAAAAAGAwGAwGAwGAw/4AAAAAAAAAAAAAAAAAAAAAA/4wGAwGAwGAwGAwGAwGAwGAwH4wGAwGAwGAwAAAAAAAAAAAA/4AAAAAAAAAAGAwGAwGAwGAw/4wGAwGAwGAwGAwGAwGAwH4wH4wGAwGAwGAwNhsNhsNhsNhsN5sNhsNhsNhsNhsNhsNhsN5gP4AAAAAAAAAAAAAAAAAAAP5gN5sNhsNhsNhsNhsNhsNhs94A/4AAAAAAAAAAAAAAAAAAA/4A95sNhsNhsNhsNhsNhsNhsN5gN5sNhsNhsNhsAAAAAAAAA/4A/4AAAAAAAAAANhsNhsNhs94A95sNhsNhsNhsGAwGAwGAw/4A/4AAAAAAAAAANhsNhsNhsNhs/4AAAAAAAAAAAAAAAAAAA/4A/4wGAwGAwGAwAAAAAAAAAAAA/5sNhsNhsNhsNhsNhsNhsNhsP4AAAAAAAAAAGAwGAwGAwH4wH4AAAAAAAAAAAAAAAAAAAH4wH4wGAwGAwGAwAAAAAAAAAAAAP5sNhsNhsNhsNhsNhsNhsNhs/5sNhsNhsNhsGAwGAwGAw/4w/4wGAwGAwGAwGAwGAwGAwGAw+AAAAAAAAAAAAAAAAAAAAAAAH4wGAwGAwGAw////////////////////////AAAAAAAAAAAA////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f////////////AAAAAAAAAAAAABAIBIIBAJhSMX8AAAAAAAAAAAAAAADAgEAQHhAQCAQCAIQ8AAAAAAAAcHgYExAQCAQCAIQ8AAAAAAAAAHB4GHOAAAAAAAAAAAAAAAAAYEggCH+AAAAAAAAAAAACAADAgEAQHhAQCAQCAIQ8AAABAAAAcHgYExAQCAQCAIQ8AAAAAQAAAHB4GHOAAAAAAAAAAAACAAAAYEggCH+AAAAAAAAAAAAAgAAAEBSOgT8AAAAAAAAAAAAAgAAAEBQOAX8AAAAAAAAAAAAAAUAAAAgKJSGQSCQREHAAAAACgAAAEBQOAX8AAAAAAAAAAACAQCCQiCQigT8AAAAAAAAAAQEBAQEAgDgCAX8AAAAAAAAABQUFAQEAwBgCgT8AAAAAAAAABQUFAQEAgDgCAX8AAAAAAAAAAACAQCAQCAQCISCQSCQR8AAAAACIRCEQiCQSBg+AAAAAAAAAAACAQCAQCAQCAX8AAAAAAAAAAAAAAAAAADAcHxAIBAIBAIBAAAAAAAAAAAAMCXsAAAAAAAAAAAAAAAAAIAACISCQSCQRCHgAAAAAAACAAAACAX8AAAAAAAAAAAAAAAAAAAgKBQGAQEBDwAAAAAAAAAAAIBgSCQMAAAAAAAAAAAAAAAAAAHBIKHmJAkDgAAAAAAAAAACAIHhKGXsAAAAAAAAAAAAAAAAAAAAAAAOCCQhEEgj4AAAAAAAAABgQSEIgkEgj4AAAAAAAAAAAAAACAX8AAAKAAAAAAAAAH+VX+VX+VX+5Xu/X+/3+",amigaFont:!1},portuguese:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAdm4ADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAYGAEBwbGMxn8xmMxmMAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAODYAH8ZjEaDwaDEZn8AAAAAAADAMAwAD4xn8wGAxj4AAAAAADAwAB4GAwGAwGAwGB4AAAAAAODYAD4xmMxmMxmMxj4AAAAAAADAMAwABwGAwGAwGB4AAAAAAdm4ABwbGMxn8xmMxmMAAAAAAODYxhwbGMxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAADAMEBwbGMxn8xmMxmMAAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAGBgAGMxmMxmMxmMxj4AAAAAAADAMAwAGYzGYzGYzDsAAAAAAMAwAB4GAwGAwGAwGB4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAAHwzGY+GIzG8zGYzGMAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},russian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAfGMxmc1nMxmMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAHhsZmMxn8xmMxmMAAAAAAAAA/jEYDAfDMZjMZn4AAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/jMYjAYDAYDAYHgAAAAAAAAAHhsZjMZjMZjMZn+w0CAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA222Wi0fj8Wm2222AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAAxmMxmc3ns5mMxmMAAAAAAbBwxmMxmc3ns5mMxmMAAAAAAAAA5jMbDYeDwbDYZnMAAAAAAAAAHxsZjMZjMZjMZmeAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/mMxmMxmMxmMxmMAAAAAAAAA/DMZjMZj4YDAYHgAAAAAAAAAfGMxmAwGAwGExj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxj8BgMxj4AAAAAAAAAfm22222222z8GB4AAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAxmMxmMxmMxmMxn+AwGAAAAAAxmMxmMxj8BgMBgMAAAAAAAAA1ms1ms1ms1ms1n8AAAAAAAAA1ms1ms1ms1ms1n+AwGAAAAAA+HgsBgPhmMxmMz8AAAAAAAAAw2Gw2G82222223mAAAAAAAAA8DAYDAfDMZjMZn4AAAAAAAAAfGMBhMPhMBgMxj4AAAAAAAAAzm2222+2222222cAAAAAAAAAPzMZjMPh8ZjMZnOAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAEBj4wGA/GMxmMxj4AAAAAAAAAAAAAH4ZjMfDMZn4AAAAAAAAAAAAAH8YjEYDAYHgAAAAAAAAAAAAAA8NjMZjMZn+w2GAAAAAAAAAAD4xmM/mAxj4AAAAAAAAAAAAAGs1iofCo1msAAAAAAAAAAAAAD4xgMPAMxj4AAAAAAAAAAAAAGMxmc1nMxmMAAAAAAAAAADYOGMxmc1nMxmMAAAAAAAAAAAAAHMbDweDYZnMAAAAAAAAAAAAAA8NjMZjMZnMAAAAAAAAAAAAAGM7n8/ms1mMAAAAAAAAAAAAAGMxmM/mMxmMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH8xmMxmMxmMAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAAD4xmAwGAxj4AAAAAAAAAAAAAD8WgwGAwGB4AAAAAAAAAAAAAGMxmMxmMfgMBmMfAAAAAAB4GD82222222z8GAwPAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxn+AwGAAAAAAAAAAGMxmMxj8BgMAAAAAAAAAAAAAGs1ms1ms1n8AAAAAAAAAAAAAGs1ms1ms1n8AwGAAAAAAAAAAHwsFgPhmMz8AAAAAAAAAAAAAGMxmM9m83nsAAAAAAAAAAAAAHgYDAfDMZn4AAAAAAAAAAAAAD4xgMPgMxj4AAAAAAAAAAAAAGc222+2222cAAAAAAAAAAAAAD+xmMfhsZnOAAAAAAbAA/jMYjQeDQYDEZn8AAAAAAAAAADYAD4xmM/GAxj4AAAAAAAAAfGMwGQ+GQwGAxj4AAAAAAAAAAAAAD4xmA+GAxj4AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAAAAADYABwGAwGAwGB4AAAAAAbBwxmMxmMxj8BgMxj4AAAAAAAAAADYOGMxmMxmMfgMBmMfAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAcDAYDAYDAY7DYPA4AAAAAAAAAz2a73Y/243GYzGYAAAAAAAAAAGMfGMxmMxmMfGMAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},terminus:{width:9,height:16,data:"AAAfiEQiEQiEQiEQj8AAAAAAAAAfEEqkEgl0kkEgj4AAAAAAAAAfH81n8/mM7n8/j4AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAEBwOAgVH8/ioEBwAAAAAAAAAEAgOD4/n8fAgEBwAAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAAAGBIJAwAAAAAAAAA/3+/3+/3+52223O/3+/3+/3+AAAHgMCgkOCIRCIRBwAAAAAAAAAOCIRCIRBwED4EAgAAAAAAAAAPhEPhAIBAIBAIGAAAAAAAAAAfiEfiEQiEQiEQiIgAAAAAAAAAAgkioOHcOCokggAAAAAAAAAAAAwHg/H+/HgwAAAAAAAAAAAAAAAweP3+PweAwAAAAAAAAAAEBwVAgEAgECoOAgAAAAAAAAAJBIJBIJBIJAAJBIAAAAAAAAAfkkkkkkjkEgkEgkAAAAAAABwRCAMCQRCIJAwBCIOAAAAAAAAAAAAAAAAAfj8fj8AAAAAAAAAEBwVAgEAgVBwED4AAAAAAAAAEBwVAgEAgEAgEAgAAAAAAAAAEAgEAgEAgECoOAgAAAAAAAAAAAAAAQBH8BAQAAAAAAAAAAAAAAAABAQH8QBAAAAAAAAAAAAAAAAQCAQCAQD8AAAAAAAAAAAAAAAABIQn+QhIAAAAAAAAAAAAAAAEAgOBwfD4/n8AAAAAAAAAAAA/n8fD4OBwEAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAgEAgEAgEAAEAgAAAAAAABIJBIAAAAAAAAAAAAAAAAAAAAAJBIJD8JBIfhIJBIAAAAAAAAgED4kkgkD4Egkkj4EAgAAAAAAZEoaAQEAgIBYUiYAAAAAAAAAGBIJAwMCURCIRB0AAAAAAAAgEAgAAAAAAAAAAAAAAAAAAAAACAgIBAIBAIBAEAQAAAAAAAAAIAgCAQCAQCAQEBAAAAAAAAAAAAAABIGD8GBIAAAAAAAAAAAAAAAAAgED4EAgAAAAAAAAAAAAAAAAAAAAAAAAEAgIAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAAAAAAAAAAEAgAAAAAAAAABAICAQEAgIBAQCAAAAAAAAAAPCEQiMSikYiEQh4AAAAAAAAACAwKAQCAQCAQCB8AAAAAAAAAPCEQgEBAQEBAQD8AAAAAAAAAPCEQgEHAEAiEQh4AAAAAAAAAAgMCgkIiEfgEAgEAAAAAAAAAfiAQCAfAEAgEQh4AAAAAAAAAHBAQCAfCEQiEQh4AAAAAAAAAfgEAgIBAQCAgEAgAAAAAAAAAPCEQiEPCEQiEQh4AAAAAAAAAPCEQiEQh8AgEBBwAAAAAAAAAAAAAAgEAAAAAEAgAAAAAAAAAAAAAAgEAAAAAEAgIAAAAAAAAAAICAgICAIAgCAIAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAACAIAgCAICAgICAAAAAAAAAAPCEQiEBAQCAACAQAAAAAAAAAfEEnlEolEpk0gD8AAAAAAAAAPCEQiEQj8QiEQiEAAAAAAAAAfCEQiEfCEQiEQj4AAAAAAAAAPCEQiAQCAQCEQh4AAAAAAAAAeCIQiEQiEQiERDwAAAAAAAAAfiAQCAeCAQCAQD8AAAAAAAAAfiAQCAeCAQCAQCAAAAAAAAAAPCEQiAQCcQiEQh4AAAAAAAAAQiEQiEfiEQiEQiEAAAAAAAAAOAgEAgEAgEAgEBwAAAAAAAAADgIBAIBAIBCIRBwAAAAAAAAAQiISCgYDAUCQRCEAAAAAAAAAQCAQCAQCAQCAQD8AAAAAAAAAgmMqkkkkEgkEgkEAAAAAAAAAQiEQjEUiURiEQiEAAAAAAAAAPCEQiEQiEQiEQh4AAAAAAAAAfCEQiEQj4QCAQCAAAAAAAAAAPCEQiEQiEQiESh4AgAAAAAAAfCEQiEQj4UCQRCEAAAAAAAAAPCEQCAPAEAiEQh4AAAAAAAAA/ggEAgEAgEAgEAgAAAAAAAAAQiEQiEQiEQiEQh4AAAAAAAAAQiEQiEQhIJBIGAwAAAAAAAAAgkEgkEgkkklUxkEAAAAAAAAAQiEJBIGAwJBIQiEAAAAAAAAAgkERCIKAgEAgEAgAAAAAAAAAfgEAgICAgICAQD8AAAAAAAAAOBAIBAIBAIBAIBwAAAAAAAAAQCAIBAEAgCAQBAIAAAAAAAAAOAQCAQCAQCAQCBwAAAAAAAAgKCIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4Ah8QiEQh8AAAAAAAAAQCAQD4QiEQiEQj4AAAAAAAAAAAAAB4QiAQCAQh4AAAAAAAAAAgEAh8QiEQiEQh8AAAAAAAAAAAAAB4QiEfiAQB4AAAAAAAAADggED4EAgEAgEAgAAAAAAAAAAAAAB8QiEQiEQh8AgEPAAAAAQCAQD4QiEQiEQiEAAAAAAAAAEAgABgEAgEAgEBwAAAAAAAAABAIAAYBAIBAIBAIRCIOAAAAAQCAQCERCQcCQRCEAAAAAAAAAMAgEAgEAgEAgEBwAAAAAAAAAAAAAH4kkkkkkkkkAAAAAAAAAAAAAD4QiEQiEQiEAAAAAAAAAAAAAB4QiEQiEQh4AAAAAAAAAAAAAD4QiEQiEQj4QCAQAAAAAAAAAB8QiEQiEQh8AgEAgAAAAAAAAC8YCAQCAQCAAAAAAAAAAAAAAB8QCAPAEAj4AAAAAAAAAEAgED4EAgEAgEAcAAAAAAAAAAAAACEQiEQiEQh8AAAAAAAAAAAAACEQiEJBIGAwAAAAAAAAAAAAAEEgkkkkkkj4AAAAAAAAAAAAACEQhIGBIQiEAAAAAAAAAAAAACEQiEQiEQh8AgEPAAAAAAAAAD8BAQEBAQD8AAAAAAAAADAgEAgIAgEAgEAYAAAAAAAAAEAgEAgEAgEAgEAgAAAAAAAAAMAQCAQBAQCAQCBgAAAAAAADEkkYAAAAAAAAAAAAAAAAAAAAAAAAEBQREEgkEgn8AAAAAAAAAPCEQiAQCAQCEQh4EAgIAAAAAJBIACEQiEQiEQh8AAAAAAAAACAgAB4QiEfiAQB4AAAAAAAAAGBIAB4Ah8QiEQh8AAAAAAAAAJBIAB4Ah8QiEQh8AAAAAAAAAEAQAB4Ah8QiEQh8AAAAAAAAAGBIGB4Ah8QiEQh8AAAAAAAAAAAAAB4QiAQCAQh4EAgIAAAAAGBIAB4QiEfiAQB4AAAAAAAAAJBIAB4QiEfiAQB4AAAAAAAAAEAQAB4QiEfiAQB4AAAAAAAAASCQABgEAgEAgEBwAAAAAAAAAMCQABgEAgEAgEBwAAAAAAAAAIAgABgEAgEAgEBwAAAAAAJBIAB4QiEQj8QiEQiEAAAAAAGBIGB4QiEQj8QiEQiEAAAAAACAgAD8QCAQDwQCAQD8AAAAAAAAAAAAADYEjknkgkDYAAAAAAAAAfkgkEg/EgkEgkE8AAAAAAAAAGBIAB4QiEQiEQh4AAAAAAAAAJBIAB4QiEQiEQh4AAAAAAAAAEAQAB4QiEQiEQh4AAAAAAAAAGBIACEQiEQiEQh8AAAAAAAAAEAQACEQiEQiEQh8AAAAAAAAAJBIACEQiEQiEQh8AgEPAAJBIAB4QiEQiEQiEQh4AAAAAAJBIACEQiEQiEQiEQh4AAAAAAAAAAAgED4kkgkEgkj4EAgAAAAAAGBIIBAeBAIBAIj8AAAAAAAAAgkERBQED4ED4EAgAAAAAAAAA8EQiEQ9EIjkIhEEAAAAAAAAADAkEAgfAgEAgEAgEEgYAAAAACAgAB4Ah8QiEQh8AAAAAAAAACAgABgEAgEAgEBwAAAAAAAAACAgAB4QiEQiEQh4AAAAAAAAACAgACEQiEQiEQh8AAAAAAAAAMiYAD4QiEQiEQiEAAAAAAMiYACEQjEUiURiEQiEAAAAAAABwBB4RB4AD4AAAAAAAAAAAAABwRCIRBwAD4AAAAAAAAAAAAAAAEAgAAgEBAQiEQh4AAAAAAAAAAAAAD8QCAQAAAAAAAAAAAAAAAAAAD8AgEAgAAAAAAAAAAABAYBAIhICAgICYkgICA8AAAABAYBAIhICAgIiMig8AgEAAAAAAEAgAAgEAgEAgEAgAAAAAAAAAAAAAAkJCQkCQJAkAAAAAAAAAAAAAEgSBIEhISEgAAAAAAiBEiBEiBEiBEiBEiBEiBEiBEqiqqiqqiqqiqqiqqiqqiqqiq7l27l27l27l27l27l27l27l2EAgEAgEAgEAgEAgEAgEAgEAgEAgEAgEAgEHgEAgEAgEAgEAgEAgEAgEAg8Ag8AgEAgEAgEAgKBQKBQKBQKHQKBQKBQKBQKBQAAAAAAAAAAHwKBQKBQKBQKBQAAAAAAAAA8Ag8AgEAgEAgEAgKBQKBQKBQ6AQ6BQKBQKBQKBQKBQKBQKBQKBQKBQKBQKBQKBQAAAAAAAAA+AQ6BQKBQKBQKBQKBQKBQKBQ6AQ+AAAAAAAAAAAKBQKBQKBQKHwAAAAAAAAAAAAEAgEAgEAg8Ag8AAAAAAAAAAAAAAAAAAAAAHgEAgEAgEAgEAgEAgEAgEAgEA/AAAAAAAAAAAAEAgEAgEAgEH/AAAAAAAAAAAAAAAAAAAAAAH/EAgEAgEAgEAgEAgEAgEAgEA/EAgEAgEAgEAgAAAAAAAAAAH/AAAAAAAAAAAAEAgEAgEAgEH/EAgEAgEAgEAgEAgEAgEAgH4gH4gEAgEAgEAgKBQKBQKBQKBfKBQKBQKBQKBQKBQKBQKBQL5AP4AAAAAAAAAAAAAAAAAAAP5AL5QKBQKBQKBQKBQKBQKBQ74A/4AAAAAAAAAAAAAAAAAAA/4A75QKBQKBQKBQKBQKBQKBQL5AL5QKBQKBQKBQAAAAAAAAA/4A/4AAAAAAAAAAKBQKBQKBQ74A75QKBQKBQKBQEAgEAgEAg/4A/4AAAAAAAAAAKBQKBQKBQKH/AAAAAAAAAAAAAAAAAAAAA/4A/4gEAgEAgEAgAAAAAAAAAAH/KBQKBQKBQKBQKBQKBQKBQKB/AAAAAAAAAAAAEAgEAgEAgH4gH4AAAAAAAAAAAAAAAAAAAH4gH4gEAgEAgEAgAAAAAAAAAAB/KBQKBQKBQKBQKBQKBQKBQKH/KBQKBQKBQKBQEAgEAgEAg/4g/4gEAgEAgEAgEAgEAgEAgEHgAAAAAAAAAAAAAAAAAAAAAAA/EAgEAgEAgEAg////////////////////////AAAAAAAAAAAA////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f////////////AAAAAAAAAAAAAAAAAAAB0RiIRCIRh0AAAAAAAAAOCIRCQfCEQiEQj4QCAQAAAAAfiAQCAQCAQCAQCAAAAAAAAAAAAAAD8QiEQiEQiEAAAAAAAAAfiAIAgCAQEBAQD8AAAAAAAAAAAAAB8RCIRCIRBwAAAAAAAAAAAAACEQiEQiERj0QCAQAAAAAAAAAH8EAgEAgEAYAAAAAAAAAED4kkkkkkkkkfAgAAAAAAAAAPCEQiEWiEQiEQh4AAAAAAAAAPCEQiEQiEQhIJDMAAAAAAAAAPggCB4QiEQiEQh4AAAAAAAAAAAAADYkkkkjYAAAAAAAAAAAAAgIfEUkkkoj4QEAAAAAAAAAAAAAHhAQD8QBAHgAAAAAAAAAAAAAPCEQiEQiEQiEAAAAAAAAAAAAfgAAD8AAAfgAAAAAAAAAAAAAAAgED4EAgAD4AAAAAAAAAABAEAQBAQEBAAD4AAAAAAAAAAAICAgIAgCAIAB8AAAAAAAAADAkEggEAgEAgEAgEAgEAgEAgEAgEAgEAgEEgkDAAAAAAAAAAAAAEAgAD4AAgEAAAAAAAAAAAAAAABkTAAMiYAAAAAAAAAAAwJBIGAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAgEAAAAAAAAAAAAAMBAIBAIRCIRBIFAYAAAAAAABwJBIJBIAAAAAAAAAAAAAAAAAwJAQEB4AAAAAAAAAAAAAAAAAAAAAAB4PB4PB4PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},turkish:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GBgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GBgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAAAAAAAABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAGYdhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAwAB4GAwGAwGAwGB4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAfGMxmc3ns5mMxj4AAAAAAAAAfGMxjAOAYBmMxj4GBgAAAAAAAAAAD4xjAOAYxj4GBgAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAADMfh4ZmEwGA3mMbh0AAAAAAAAAzDwADszGYzGYzD4DGYeAAAAAMBgABgMDAwGMxj4AAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwYGAEBwbGMxn8xmMxmMAAAAAAfGMEBwbGMxn8xmMxmMAAAAAADAMEBwbGMxn8xmMxmMAAAAAAAAAfEEmlEolEmkEfAAAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAGAwfGMwGAxj4GAwAAAAAAAAAADMZh4GD8GD8GAwAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAdm4ADwDD4zGYzDsAAAAAAdm4ABwbGMxn8xmMxmMAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAxj4xmMxmMfGMAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAADMAB4GAwGAwGAwGB4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAwGAwGAwAAAGAwGAwGAAAAAMAwAB4GAwGAwGAwGB4AAAAAA//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMbBwODYxgAAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAH+AAAAAAAAAAAAAAAAAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAABwbDYOAAAAAAAAAAAAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1}},Hd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",x_={};function RO(t,e){const A=e*4,n=A*2,r=new Uint8Array(t.length*4);for(let s=0,i=0;s<t.length;s+=4){const o=t.subarray(s,s+4);if(r.set(o,i),i+=4,r.set(o,i),i+=4,(s+4)%A===0){const a=i-n;r.set(r.subarray(a,a+n),i),i+=n}}return r}function G_(t,e,A,n,r){const s=e*A,i={},o=e===9&&r.bits!=="9"||e===9&&r.thumbnail,a=new Uint8Array((o?e-1:e)*A*4);function c(u,h,f,d){const m=u+(f<<8)+(d<<12);if(!i[m]){i[m]=new Uint8Array((o?e-1:e)*A*4);for(let p=0,g=u*s,w=0;p<s;++p,++g)(!o||(p+1)%9!==0)&&(t[g]||n&&f>7&&p%e>0&&t[g-1]&&(r.bits==="ced"||r.bits==="workbench")?i[m].set(h[f],w):i[m].set(h[d],w),w+=4);r["2x"]&&(i[m]=RO(i[m],o?e-1:e))}return i[m]}function l(u,h,f){for(let d=0,m=u*s,p=0;d<s;++d,++m)(!o||(d+1)%9!==0)&&(t[m]?a.set(h,p):a.set(f,p),p+=4);return r["2x"]?RO(a,o?e-1:e):a}return{getData:c,get24BitData:l,height:A*(r["2x"]?2:1),width:(o?8:e)*(r["2x"]?2:1)}}function M_(t,e,A){const n=new Uint8Array(e*A*256);for(let r=e*A*256/8,s=0;r>0;--r){const i=t.get();for(let o=7;o>=0;--o)n[s++]=i>>o&1?1:0}return n}function Ioe(t){const e=new Uint32Array(1),A=new Uint8Array(t.length/4*3);for(let n=0,r=0;n<t.length;e[0]=0)e[0]+=(Hd.indexOf(t.charAt(n++))&63)<<18,e[0]+=(Hd.indexOf(t.charAt(n++))&63)<<12,e[0]+=(Hd.indexOf(t.charAt(n++))&63)<<6,e[0]+=Hd.indexOf(t.charAt(n++))&63,A[r++]=e[0]>>16&255,A[r++]=e[0]>>8&255,A[r++]=e[0]&255;return new ei(A)}function joe(t,e){switch(t){case"amiga":t="topaz";break;case"microknightplus":t="microknight+";break;case"topazplus":t="topaz+";break;case"topaz500plus":t="topaz500+";break}return x_[t]||(x_[t]=M_(Ioe(jo[t].data),jo[t].width,jo[t].height)),G_(x_[t],jo[t].width,jo[t].height,jo[t].amigaFont,e)}function zoe(t,e,A){return G_(M_(t,8,e),8,e,!1,A)}function Hoe(t,e){return G_(M_(t,8,16),8,16,!1,e)}function Loe(t){switch(t){case"amiga":case"microknightplus":case"topazplus":case"topaz500plus":return!0;default:return Object.prototype.hasOwnProperty.call(jo,t)}}const ti={preset:joe,xbin:zoe,font8x16x256:Hoe,has:Loe};function Ld(t){return new Uint8Array([(((t&32)>>5)+((t&4)>>1))*85,(((t&16)>>4)+(t&2))*85,(((t&8)>>3)+((t&1)<<1))*85,255])}const Uoe=[0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7].map(Ld),$oe=[0,4,2,20,1,5,3,7,56,60,58,62,57,61,59,63].map(Ld),Foe=[0,1,2,3,4,5,20,7,56,57,58,59,60,61,62,63].map(Ld),Voe=[7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(Ld),Woe=[new Uint8Array([170,170,170,255]),new Uint8Array([170,170,170,255]),new Uint8Array([0,0,0,255]),new Uint8Array([0,0,0,255]),new Uint8Array([255,255,255,255]),new Uint8Array([255,255,255,255]),new Uint8Array([102,136,187,255]),new Uint8Array([102,136,187,255]),new Uint8Array([0,0,255,255]),new Uint8Array([0,0,255,255]),new Uint8Array([255,0,255,255]),new Uint8Array([255,0,255,255]),new Uint8Array([0,255,255,255]),new Uint8Array([0,255,255,255]),new Uint8Array([255,255,255,255]),new Uint8Array([255,255,255,255])];function Qoe(t){const e=[];for(let A=0;A<16;++A){const n=t.get(),r=t.get(),s=t.get();e.push(new Uint8Array([n<<2|n>>4,r<<2|r>>4,s<<2|s>>4,255]))}return e}function qoe(t){const e=[];for(let A=0;A<64;++A){const n=t.get(),r=t.get(),s=t.get();e.push(new Uint8Array([n<<2|n>>4,r<<2|r>>4,s<<2|s>>4,255]))}return[e[0],e[1],e[2],e[3],e[4],e[5],e[20],e[7],e[56],e[57],e[58],e[59],e[60],e[61],e[62],e[63]]}const $r={ASC_PC:Uoe,ANSI:$oe,BIN:Foe,CED:Voe,WORKBENCH:Woe,adf:qoe,triplets16:Qoe};class Si{imageData;pos;columns;rows;palette;font;constructor(e){this.columns=e,this.rows=0,this.pos=0,this.imageData=new Uint8Array(e*1e3*10)}reset(){this.imageData=new Uint8Array(this.columns*1e3*10),this.pos=0,this.rows=0}extendImageData(e){const A=new Uint8Array(this.columns*(e+1e3)*10+this.imageData.length);A.set(this.imageData,0),this.imageData=A}set(e,A,n,r,s,i){this.pos=(A*this.columns+e)*10,this.pos>=this.imageData.length&&this.extendImageData(A),this.imageData[this.pos]=n,r?(this.imageData[this.pos+1]=1,this.imageData.set(s,this.pos+2),this.imageData.set(i,this.pos+6)):(this.imageData[this.pos+2]=s,this.imageData[this.pos+3]=i),A+1>this.rows&&(this.rows=A+1)}raw(e){this.rows=Math.ceil(e.length/2/this.columns),this.imageData=new Uint8Array(this.columns*this.rows*10);for(let A=0,n=0;n<e.length;A+=10,n+=2)this.imageData[A]=e[n],this.imageData[A+2]=e[n+1]&15,this.imageData[A+3]=e[n+1]>>4}trimColumns(){let e=0;const A=this.imageData.length/10/this.columns;for(let r=0;r<this.imageData.length;r+=10)this.imageData[r]&&(e=Math.max(r/10%this.columns,e));++e;const n=new Uint8Array((e+1)*A*10);for(let r=0,s=0;r<n.length;r+=e*10,s+=this.columns*10)n.set(this.imageData.subarray(s,s+this.columns*10),r);this.imageData=n,this.columns=e}getData(){const e=this.imageData.subarray(0,this.columns*this.rows*10);for(let A=0;A<e.length;A+=10)e[A+5]=255,e[A+9]=255;return e}}function Koe(t,e){const A=new ei(t);A.getC();const n=new Si(80);return n.palette=$r.adf(A),n.font=ti.font8x16x256(A,e),n.raw(A.read()),{imageData:n,sauce:A.sauce}}function IO(t,e){const A=new ei(t);let n=!1,r="",s,i,o,a;const c=new Si(80);let l=0,u=1,h=1,f,d,m=7,p=0,g,w,x,v,b=!1,T=!1,M=!1,B;function Z(){m=7,p=0,g=void 0,w=void 0,b=!1,T=!1,M=!1}function S(){u=1,h===25?++l:++h}function C(N,y){u=Math.min(a,Math.max(1,N)),h=Math.min(26,Math.max(1,y))}function k(){return r.substr(1,r.length-2).split(";").map(N=>{const y=Number.parseInt(N,10);return Number.isNaN(y)?1:y})}if(A.sauce){switch(A.sauce.tInfo1>0?a=A.sauce.tInfo1:a=80,B=A.sauce.flags&1||(e.icecolors??0),A.sauce.letterSpacing){case 1:e.bits="8";break;case 2:e.bits="9";break}switch(A.sauce.tInfoS){case"IBM VGA":e.font="80x25";break;case"IBM VGA50":e.font="80x50";break;case"Amiga Topaz 1":e.font="topaz500";break;case"Amiga Topaz 1+":e.font="topaz500+";break;case"Amiga Topaz 2":e.font="topaz";break;case"Amiga Topaz 2+":e.font="topaz+";break;case"Amiga P0T-NOoDLE":e.font="pot-noodle";break;case"Amiga MicroKnight":e.font="microknight";break;case"Amiga MicroKnight+":e.font="microknight+";break;case"Amiga mOsOul":e.font="mosoul";break}}else e.mode==="ced"?a=78:a=80,B=e.icecolors??0;switch(c.columns=a,c.font=ti.preset(e.font??"80x25",e),e.bits){case"ced":c.palette=$r.CED;break;case"workbench":c.palette=$r.WORKBENCH;break;default:c.palette=$r.ANSI}for(;!A.eof();)if(i=A.get(),n){if(r+=String.fromCharCode(i),i>=65&&i<=90||i>=97&&i<=122){if(n=!1,o=k(),r.startsWith("["))switch(r.charAt(r.length-1)){case"A":h=Math.max(1,h-o[0]);break;case"B":h=Math.min(25,h+o[0]);break;case"C":u===a&&S(),u=Math.min(a,u+o[0]);break;case"D":u=Math.max(1,u-o[0]);break;case"H":o.length===1?C(1,o[0]):C(o[1],o[0]);break;case"J":o[0]===2&&(u=1,h=1,c.reset());break;case"K":for(s=u-1;s<a;++s)c.set(s,h-1+l,0,!1,0,0);break;case"m":for(s=0;s<o.length;++s)if(o[s]>=30&&o[s]<=37)m=o[s]-30,g&&(g=void 0);else if(o[s]>=40&&o[s]<=47)p=o[s]-40,w&&(w=void 0);else switch(o[s]){case 0:Z();break;case 1:b=!0,g&&(g=void 0);break;case 5:T=!0,w&&(w=void 0);break;case 7:M=!0;break;case 22:b=!1;break;case 25:T=!1;break;case 27:M=!1;break}break;case"s":f=u,d=h;break;case"t":if(o.length===4)switch(o[0]){case 0:w=new Uint8Array([o[1],o[2],o[3]]);break;case 1:g=new Uint8Array([o[1],o[2],o[3]]);break}break;case"u":u=f??u,h=d??h;break}r=""}}else switch(i){case 10:S();break;case 13:A.peek()===10&&(A.read(1),S());break;case 26:break;default:i===27&&A.peek()===91?n=!0:(e.mode==="ced"?c.set(u-1,h-1+l,i,!1,1,0):(M?(x=p,v=m):(x=m,v=p),b&&(x+=8),T&&B&&!w&&(v+=8),g||w?c.set(u-1,h-1+l,i,!0,g??c.palette[x],w??c.palette[v]):c.set(u-1,h-1+l,i,!1,x,v)),++u===a+1&&S())}return{imageData:c,sauce:A.sauce}}function jO(t,e){const A=new ei(t),n=new Si(80);n.font=ti.preset(e.font??"80x25",e),n.palette=$r.ASC_PC;let r=0,s=0;for(;!A.eof();){const i=A.get();i===13&&A.peek()===10?(A.read(1),++s,r=0):i===10?(++s,r=0):(n.set(r,s,i,!1,1,0),++r===80&&(++s,r=0))}return{imageData:n,sauce:A.sauce}}function Joe(t,e){const A=new ei(t),n=new Si(e.columns??160);n.font=ti.preset(e.font??"80x25",e),n.palette=$r.BIN,n.raw(A.read());let r;if(A.sauce){switch(r=A.sauce.flags&1||(e.icecolors??0),A.sauce.letterSpacing){case 1:e.bits="8";break;case 2:e.bits="9";break}switch(A.sauce.tInfoS){case"IBM VGA":e.font="80x25";break;case"IBM VGA50":e.font="80x50";break;case"Amiga Topaz 1":e.font="topaz500";break;case"Amiga Topaz 1+":e.font="topaz500+";break;case"Amiga Topaz 2":e.font="topaz";break;case"Amiga Topaz 2+":e.font="topaz+";break;case"Amiga P0T-NOoDLE":e.font="pot-noodle";break;case"Amiga MicroKnight":e.font="microknight";break;case"Amiga MicroKnight+":e.font="microknight+";break;case"Amiga mOsOul":e.font="mosoul";break}}else r=e.icecolors??0;if(!r){const s=n.getData();for(let i=1;i<s.length;i+=2)s[i]=s[i]&127}return{imageData:n,sauce:A.sauce}}function Xoe(t,e){const A=new ei(t);A.seek(8);const n=A.get16()+1,r=new Si(n);A.seek(12);let s=0,i=0;for(;A.getPos()<A.size-4144;){const o=A.get16();if(o===1){let a=A.get();A.get();const c=A.get(),l=A.get();for(;a-- >0;)r.set(s++,i,c,!1,l&15,l>>4),s===n&&(s=0,++i)}else r.set(s++,i,o&255,!1,o>>8&15,o>>12),s===n&&(s=0,++i)}return r.font=ti.font8x16x256(A,e),r.palette=$r.triplets16(A),{imageData:r,sauce:A.sauce}}function eae(t,e){const A=new ei(t),n=new Si(80);n.font=ti.preset(e.font??"80x25",e),n.palette=$r.BIN;let r=0,s=7,i=0,o=0;const a=A.sauce&&A.sauce.flags&1||(e.icecolors??0);function c(u){n.set(i,o,u,!1,s,r),++i===80&&(o++,i=0)}let l=0;for(;l<A.size;){const u=t[l];if(u===26)break;switch(u){case 13:break;case 10:o++,i=0;break;case 9:i+=8;break;case 64:t[l+1]===88?(r=t[l+2]-(t[l+2]>=65?55:48),!a&&r>7&&(r-=8),s=t[l+3]-(t[l+3]>=65?55:48),l+=3):t[l+1]===67&&t[l+2]===76&&t[l+3]===83?(i=o=0,n.reset(),l+=4):t[l+1]===80&&t[l+2]===79&&t[l+3]===83&&t[l+4]===58?t[l+6]===64?(i=t[l+5]-48-1,l+=5):(i=10*(t[l+5]-48)+t[l+6]-48-1,l+=6):c(u);break;default:c(u)}l++}return{imageData:n,sauce:A.sauce}}function tae(t,e){const A=new ei(t);function n(c){let l=c.get()<<24;return l+=c.get()<<16,l+=c.get()<<8,l+c.get()}if(A.get()!==24)throw new Error("File ID does not match.");if(A.getS(8)!=="TUNDRA24")throw new Error("File ID does not match.");const r=new Uint8Array(3),s=new Uint8Array(3);let i=0,o=0;const a=new Si(80);for(a.font=ti.preset(e.font??"80x25",e),a.palette=$r.ANSI;!A.eof();){i===80&&(i=0,++o);let c=A.get();c===1&&(o=n(A),i=n(A)),c===2&&(c=A.get(),A.get(),r.set(A.read(3),0)),c===4&&(c=A.get(),A.get(),s.set(A.read(3),0)),c===6&&(c=A.get(),A.get(),r.set(A.read(3),0),A.get(),s.set(A.read(3),0)),c!==1&&c!==2&&c!==4&&c!==6&&(a.set(i,o,c,!0,r,s),++i)}return{imageData:a,sauce:A.sauce}}function Aae(t,e){const A=new ei(t);function n(o){if(o.getS(4)!=="XBIN")throw new Error("File ID does not match.");if(o.get()!==26)throw new Error("File ID does not match.");const a={};if(a.width=o.get16(),a.height=o.get16(),a.fontHeight=o.get(),a.fontHeight===0||a.fontHeight>32)throw new Error(`Illegal value for the font height (${a.fontHeight}).`);const c=o.get();if(a.palette=(c&1)===1,a.font=(c&2)===2,a.fontHeight!==16&&!a.font)throw new Error("A non-standard font size was defined, but no font information was included with the file.");return a.compressed=(c&4)===4,a.nonBlink=(c&8)===8,a.char512=(c&16)===16,a}function r(o,a,c){const l=new Uint8Array(a*c*2);let u=0;for(;u<l.length;){const h=o.get(),f=h&63;switch(h>>6){case 1:{const d=o.get();for(let m=0;m<=f;++m)l[u++]=d,l[u++]=o.get();break}case 2:{const d=o.get();for(let m=0;m<=f;++m)l[u++]=o.get(),l[u++]=d;break}case 3:{const d=o.get(),m=o.get();for(let p=0;p<=f;++p)l[u++]=d,l[u++]=m;break}default:for(let d=0;d<=f;++d)l[u++]=o.get(),l[u++]=o.get()}}return l}const s=n(A),i=new Si(s.width);return i.palette=s.palette?$r.triplets16(A):$r.BIN,i.font=s.font?ti.xbin(A,s.fontHeight,e):ti.preset("80x25",e),s.compressed?i.raw(r(A,s.width,s.height)):i.raw(A.read(s.width*s.height*2)),{imageData:i,sauce:A.sauce}}function nae(t,e,A,n){n=Roe(n);let r;switch(n.filetype){case"txt":r=jO(t,n);break;case"ion":r=jO(t,n),r.imageData.trimColumns();break;case"adf":r=Koe(t,n);break;case"bin":r=Joe(t,n);break;case"idf":r=Xoe(t,n);break;case"pcb":r=eae(t,n);break;case"tnd":r=tae(t,n);break;case"xb":r=Aae(t,n);break;case"diz":r=IO(t,n),r.imageData.trimColumns();break;default:r=IO(t,n)}if(A>0){const s=[];for(let i=0;i<r.imageData.rows;i+=A){const o=PO(r.imageData,i,A);s.push(o)}e(s,r.sauce)}else{const s=PO(r.imageData,0,r.imageData.rows);e(s,r.sauce)}}const rae={readBytes:nae};function sae(t,e,A,n){try{rae.readBytes(t,e,0,A)}catch(r){if(n)n(r);else throw r}}function iae(t,e,A,n){const r=Yl();G(r)&&sae(n,(s,i)=>{const o=i?.title??"",a=i?.author??"",c=new Map,l=Poe(ev(Av));if(G(s.palette)&&G(l)){const w=[];for(let x=0;x<l.length;++x){const v=l[x];w.push({name:`${x}`,rgb:{r:Math.round(v.r*255),g:Math.round(v.g*255),b:Math.round(v.b*255)}})}for(let x=0;x<s.palette.length;++x){const v=s.palette[x][0],b=s.palette[x][1],T=s.palette[x][2],M=Coe({targetColor:{r:v,g:b,b:T},colorArray:w}),B=parseFloat(M?.name??"0");c.set(x,B)}}const u=`${o||e}${a?` by ${a}`:""}`,h=Math.ceil(s.width/Re),f=Math.ceil(s.height/rt),d=[];for(let w=0;w<h*f;++w)d.push(void 0);let m=0,p=0;const g=Bm();for(let w=0;w<s.screen.length;++w){const x=m%Re,v=p%rt,b=Math.floor(m/Re),T=Math.floor(p/rt),M=b+T*h;let B=d[M];if(!G(B)){const Z=[`@${g}_${b}_${T}`,`@exitnorth ${g}_${b}_${T-1}`,`@exitsouth ${g}_${b}_${T+1}`,`@exitwest ${g}_${b-1}_${T}`,`@exiteast ${g}_${b+1}_${T}`],S=`${M}`.padStart(3,"0"),C=`@board ${u} ${S}
${Z.join(`
`)}
`,k=Na(C,{});_o(r,k),d[M]=B=pr(k)}if(G(B)&&Ci({x,y:v})){const[Z,S,C]=s.screen[w],k=c.get(S)??0,N=c.get(C)??0;Kt(B,{x,y:v,kind:"fake",char:Z,color:k,bg:N})}++m,m>=s.width&&(m=0,++p)}Bs(te,t,`imported ansi file ${u} into ${r.name} book`)},{filetype:A,imagedata:1})}function oae(t,e,A){const n=Yl();if(!G(n))return;const r=`@charset ${e.toLowerCase().replace(".chr","")}`,s=Na(r,{}),i=wt(s),o=tv(A),a=pr(s);G(o)&&G(a)&&(Object.assign(a,o),_o(n,s),Bs(te,t,`imported chr file ${i} into ${n.name} book`))}const aae=/; \$(\w+) ?(.*)/,cae=/title (.+?) (.*)/i;function y_(t){return t.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}function lae(t,e){const A=Yl();if(!G(A))return;const n=e.split(/\r?\n/),r={title:"",gendate:"",gentime:"",songs:[]};function s(d){return r.songs.find(m=>m.order===d)}function i(d,m){return{order:d,title:m,lines:[]}}for(let d=0;d<n.length;++d){const m=n[d],p=aae.exec(m);if(G(p)){const g=p[1].toLowerCase(),w=p[2];switch(g){case"title":r.title=w;break;case"gendate":r.gendate=w;break;case"gentime":r.gentime=w;break;case"song":{const x=cae.exec(w);if(G(x)){const v=parseFloat(x[1]),b=x[2],T=s(v);G(T)?T.title=b:r.songs.push(i(v,b))}else{const v=parseFloat(w);if(Ne(v)){const b=s(v);G(b)||r.songs.push(i(v,""))}}break}}}else{const g=r.songs[r.songs.length-1];G(g)&&m.trim().length&&g.lines.push(m)}}r.songs.sort((d,m)=>d.order-m.order);const o=r.songs.map(d=>d.title),a=`@play_${je(r.title).replace(/\W/g,"")}
@cycle 1
@char 14
#end

:touch
"ALBUM: ${y_(r.title)}"
"$purple  ${y_(r.gendate)}"
"$purple  ${y_(r.gentime)}"
${o.map((d,m)=>`!song_${m};${m+1} ${d||"untitled"}`).join(`
`)}
#end

${r.songs.map((d,m)=>`:song_${m}
${d.lines.map(p=>`#play ${p}`).join(`
`)}
#end
`).join(`
`)}
`,c=Na(a,{}),l=wt(c);_o(A,c),Bs(te,t,`imported zzt zzm file ${l} into ${A.name} book`);const u=wt(c),h=bs(c);_t(te,t,`!pageopen ${c.id};$blue[${h}]$white ${u}`);const f=`#put n ${l}`;xoe(te,t,f,f,!1)}function zO(t,e){let A=t;return A.trim()===`:${e}`&&(A=A.replace(`:${e}`,`:_${e}`)),A.trim()===`'${e}`&&(A=A.replace(`'${e}`,`'_${e}`)),A.startsWith(`#${e}`)&&(A=A.replace(`#${e}`,`#_${e}`)),A.endsWith(` ${e}`)&&(A=A.replace(` ${e}`,` _${e}`)),A}function uae(t,e,A){let n=t;return n.trimStart().startsWith(`#${e}`)&&(n=n.replace(`#${e}`,`#${A}`)),n.trimStart().startsWith("#")&&n.includes(` ${e}`)&&(n=n.replace(` ${e}`,` ${A}`)),n}function D_(t){return t.replaceAll(/\r?\n|\r/g,`
`).split(`
`).map(A=>{let n=A;n.trimStart().startsWith("$")&&(n=n.replace("$","$CENTER")),n.trimStart().startsWith("#")&&n.includes(" $")&&(n=n.replace(" $",' "$CENTER')+'"');let r="";for(let s=0;s<n.length;++s){const i=n.charCodeAt(s);i<32||i>127?r+=`$${i}`:r+=n[s]}return r=zO(r,"do"),r=zO(r,"done"),r=uae(r,"fgplay","play"),r.includes("do")||r.includes("run")||r.includes("done")||r.includes("load"),r}).join(`
`)}const Ud=60,hae=Ud*25;function HO(t){let e=0;const A=new DataView(t.buffer);function n(c){e=c}function r(){return e}function s(){const c=A.getUint8(e);return e++,c}function i(){const c=A.getInt16(e,!0);return e+=2,c}function o(){const c=A.getInt32(e,!0);return e+=4,c}function a(c){let l="";const u=t.subarray(e,e+c);for(let h=0;h<u.length;++h)l+=String.fromCharCode(u[h]);return e+=c,l.replace("\r",`
`)}return{seek:n,index:r,readuint8:s,readint16:i,readint32:o,readstring:a}}function LO(t){const e=t.index(),A=t.readint16(),n=t.readuint8(),s={boardname:t.readstring(50).slice(0,n),elements:[],stats:[]};for(;s.elements.length<hae;){let o=t.readuint8();o===0&&(o=1500);const a=t.readuint8(),c=t.readuint8();for(let l=0;l<o;++l)s.elements.push({type:a,color:c})}s.maxplayershots=t.readuint8(),s.isdark=t.readuint8(),s.exitnorth=t.readuint8(),s.exitsouth=t.readuint8(),s.exitwest=t.readuint8(),s.exiteast=t.readuint8(),s.restartonzap=t.readuint8(),s.messagelength=t.readuint8(),s.message=t.readstring(58).slice(0,s.messagelength),s.playerenterx=t.readuint8(),s.playerentery=t.readuint8(),s.timelimit=t.readint16(),t.seek(t.index()+16);const i=t.readint16()+1;for(;s.stats.length<i;){const o={};o.x=t.readuint8()-1,o.y=t.readuint8()-1,o.stepx=t.readint16(),o.stepy=t.readint16(),o.cycle=t.readint16(),o.p1=t.readuint8(),o.p2=t.readuint8(),o.p3=t.readuint8(),o.follower=t.readint16(),o.leader=t.readint16(),o.underelement=t.readuint8(),o.undercolor=t.readuint8(),o.pointer=t.readint32(),o.currentinstruction=t.readint16();const a=t.readint16();t.seek(t.index()+8),a<0?o.bind=Math.abs(a):o.code=t.readstring(a),s.stats.push(o)}return t.seek(e+A+2),s}function UO(t,e,A){function n(o,a,c,l){const u=Qn(o,a,c);if(G(u)&&G(l)){const h=Mn(l);for(let f=0;f<h.length;++f){const d=h[f];u[d]=l[d]}}}function r(o){const a=o%16,c=Math.floor(o/16);return{color:a,bg:c}}function s(o,a,c,l,u){const h=r(l.color),f=di(h.color,h.bg),d=di((h.bg+8)%16,h.color),m={},p=u.find(g=>g.x===a&&g.y===c);if(G(p)&&(Ne(p.cycle)&&p.cycle>0&&(m.cycle=p.cycle),G(p.p1)&&(m.p1=p.p1),G(p.p2)&&(m.p2=p.p2),G(p.p3)&&(m.p3=p.p3),G(p.code)&&p.code&&(m.code=D_(p.code)),G(p.stepx)&&(m.stepx=p.stepx),G(p.stepy)&&(m.stepy=p.stepy),G(p.bind)&&p.bind>0)){const g=u[p.bind];G(g?.code)&&xe(g.code)&&(m.code=D_(g.code))}switch(l.type){case 0:case 1:case 2:case 3:break;case 4:break;case 5:n(o,["ammo",f],{x:a,y:c},m);break;case 6:n(o,["torch",f],{x:a,y:c},m);break;case 7:n(o,["gem",f],{x:a,y:c},m);break;case 8:n(o,["key",f],{x:a,y:c},m);break;case 9:n(o,["door",d],{x:a,y:c},m);break;case 10:n(o,["scroll",f],{x:a,y:c},m);break;case 11:{m.p3=i(p?.p3)??"",n(o,["passage",f],{x:a,y:c},m);break}case 12:n(o,["duplicator",f],{x:a,y:c},{...m,stepx:0,stepy:0,shootx:m.stepx??0,shooty:m.stepy??0});break;case 13:n(o,["bomb",f],{x:a,y:c},m);break;case 14:n(o,["energize",f],{x:a,y:c},m);break;case 15:n(o,["star",f],{x:a,y:c},m);break;case 16:n(o,["clockwise",f],{x:a,y:c},m);break;case 17:n(o,["counter",f],{x:a,y:c},m);break;case 18:n(o,["bullet",f],{x:a,y:c},m);break;case 19:n(o,["water",f],{x:a,y:c},m);break;case 20:n(o,["forest",f],{x:a,y:c},m);break;case 21:n(o,["solid",f],{x:a,y:c},m);break;case 22:n(o,["normal",f],{x:a,y:c},m);break;case 23:n(o,["breakable",f],{x:a,y:c},m);break;case 24:n(o,["boulder",f],{x:a,y:c},m);break;case 25:n(o,["sliderns",f],{x:a,y:c},m);break;case 26:n(o,["sliderew",f],{x:a,y:c},m);break;case 27:n(o,["fake",f],{x:a,y:c},m);break;case 28:n(o,["invisible",f],{x:a,y:c},m);break;case 29:n(o,["blinkwall",f],{x:a,y:c},{...m,stepx:0,stepy:0,shootx:m.stepx??0,shooty:m.stepy??0});break;case 30:n(o,["transporter",f],{x:a,y:c},{...m,stepx:0,stepy:0,shootx:m.stepx??0,shooty:m.stepy??0});break;case 31:n(o,["line",f],{x:a,y:c},m);break;case 32:n(o,["ricochet",f],{x:a,y:c},m);break;case 33:n(o,["blinkew",f],{x:a,y:c},m);break;case 34:n(o,["bear",f],{x:a,y:c},m);break;case 35:n(o,["ruffian",f],{x:a,y:c},m);break;case 36:n(o,["object",f],{x:a,y:c},{...m,char:p?.p1??1});break;case 37:n(o,["slime",f],{x:a,y:c},m);break;case 38:n(o,["shark",f],{x:a,y:c},m);break;case 39:n(o,["spinninggun",f],{x:a,y:c},m);break;case 40:n(o,["pusher",f],{x:a,y:c},m);break;case 41:n(o,["lion",f],{x:a,y:c},m);break;case 42:n(o,["tiger",f],{x:a,y:c},m);break;case 43:n(o,["blinkns",f],{x:a,y:c},m);break;case 44:n(o,["head",f],{x:a,y:c},m);break;case 45:n(o,["segment",f],{x:a,y:c},m);break;case 46:n(o,["customtext"],{x:a,y:c},{...m,char:l.color});break;default:if(l.type>=47&&l.type<=53){const g=r(l.type===53?15:(l.type-46)*16+15),w=di(g.color,g.bg%8);n(o,["text",w],{x:a,y:c},{...m,char:l.color})}else if(l.type>=128){const g=r(l.type),w=di(g.color,g.bg%8);n(o,["text",w],{x:a,y:c},{...m,char:l.color})}break}}function i(o){if(Ne(o)&&o>0)return`zztboard${o}`}for(let o=0;o<A.length;++o){const a=A[o],c=[`@zztboard${o}`,""];o===0?c.push("@title"):o===e&&c.push("@zztstartboard");for(let x=0;x<a.elements.length;++x)a.elements[x].type===4&&(c.push(`@startx ${kD(x,Ud)}`),c.push(`@starty ${ED(x,Ud)}`));Ne(a.maxplayershots)&&c.push(`@maxplayershots ${a.maxplayershots}`),Ne(a.isdark)&&a.isdark&&c.push("@isdark"),Ne(a.restartonzap)&&a.restartonzap&&c.push("@restartonzap"),Ne(a.timelimit)&&c.push(`@timelimit ${a.timelimit}`);const l=i(a.exitnorth);xe(l)&&c.push(`@exitnorth ${l}`);const u=i(a.exitsouth);xe(u)&&c.push(`@exitsouth ${u}`);const h=i(a.exitwest);xe(h)&&c.push(`@exitwest ${h}`);const f=i(a.exiteast);xe(f)&&c.push(`@exiteast ${f}`);const d=`@board ${String(o).padStart(3,"0")}. ${a.boardname}
${c.join(`
`)}`,m=Na(d,{});_o(t,m);const p=pr(m);if(!G(p))continue;let g=0,w=0;for(let x=0;x<a.elements.length;++x){const v=a.elements[x];s(p,g,w,v,a.stats),++g,g===Ud&&(g=0,++w)}tA(p)}}function fae(t,e){const A=Yl();if(!G(A))return;const n=HO(e),r=LO(n);UO(A,-1,[r]),Bs(te,t,`imported zzt brd ${r.boardname} into ${A.name} book`)}function dae(t,e){const A=HO(e);if(A.readint16()!=-1)return;const r=A.readint16()+1,s=A.readint16(),i=A.readint16(),o=A.readstring(7),a=A.readint16(),c=A.readint16(),l=A.readint16(),u=A.readint16(),h=A.readint16();A.readint16();const f=A.readint16(),d=A.readuint8(),m=A.readstring(20).slice(0,d);for(let b=0;b<10;b++){const T=A.readuint8();A.readstring(20).slice(0,T)}const p=A.readint16(),g=A.readint16(),w=A.readuint8();console.info(s,i,o,a,c,l,u,h,f,p,g,w),A.seek(512);const x=[];for(let b=0;b<r;++b){const T=LO(A);x.push(T)}const v=Lw([]);v.name=m,UO(v,c,x),Bf(v),Bs(te,t,`imported zzt file into ${v.name} book`)}function mae(t,e,A){const n=Yl();if(!G(n))return;const s=vf(A).name?A:`@${e.toLowerCase().replace(".obj","")}
${A}`,i=Na(D_(s),{}),o=wt(i);_o(n,i),Bs(te,t,`imported zzt obj file ${o} into ${n.name} book`)}function $O(t,e){switch([...e.slice(0,4)].map(r=>r.toString(16)).join("").toUpperCase()){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":return"image/jpeg";case"504B0304":return"application/zip"}return Ooe.getType(t)??"application/octet-stream"}function FO(t,e){if(!G(e))return"";switch(t){case"model/obj":return"obj";case"text/plain":return"txt";case"application/json":return"json";case"application/zip":return"zip";case"application/octet-stream":if(/.zzt$/i.test(e.name))return"zzt";if(/.brd$/i.test(e.name))return"brd";if(/.chr$/i.test(e.name))return"chr";if(/.zzm$/i.test(e.name))return"zzm";if(/.ans$/i.test(e.name))return"ans";if(/.adf$/i.test(e.name))return"adf";if(/.bin$/i.test(e.name))return"bin";if(/.idf$/i.test(e.name))return"idf";if(/.pcb$/i.test(e.name))return"pcb";if(/.tnd$/i.test(e.name))return"tnd";if(/.xb$/i.test(e.name))return"xb";if(/.diz$/i.test(e.name))return"diz";break}return""}let oc=[],$d={};async function pae(t,e){try{_A(te,t,"parsezipfile",e.name);const A=await e.arrayBuffer(),r=await new __().loadAsync(A);oc=[],$d={};const s=[];r.forEach((i,o)=>s.push([i,o]));for(let i=0;i<s.length;++i){const[o,a]=s[i],c=await a.async("uint8array"),l=$O(o,c),u=new File([c],a.name,{type:l});oc.push(u)}aC(te,t)}catch(A){Mt(te,t,"crash",A.message)}}function gae(){const t=[];for(let e=0;e<oc.length;++e){const A=oc[e];t.push([FO(A.type,A),A.name])}return t}function wae(t,e){$d[t.toLowerCase()]=e}function bae(t){return $d[t.toLowerCase()]}async function _ae(t){for(let e=0;e<oc.length;++e){const A=oc[e];$d[A.name.toLowerCase()]&&(v_(t,A),await Vi(2e3))}await Vi(2e3),Mc(te,t,!1)}function VO(t,e,A){if(!G(A))return;const n=FO(e,A);switch(n){case"obj":A.text().then(r=>mae(t,A.name,r)).catch(r=>Mt(te,t,"crash",r.message));break;case"txt":A.text().then(r=>yc(te,t,void 0,"text",`file:${A.name}`,r)).catch(r=>Mt(te,t,"crash",r.message));break;case"json":A.text().then(r=>yc(te,t,void 0,"json",`file:${A.name}`,r)).catch(r=>Mt(te,t,"crash",r.message));break;case"zip":pae(t,A).catch(r=>Mt(te,t,"crash",r.message));break;case"zzt":A.arrayBuffer().then(r=>{dae(t,new Uint8Array(r))}).catch(r=>Mt(te,t,"crash",r.message));break;case"brd":A.arrayBuffer().then(r=>{fae(t,new Uint8Array(r))}).catch(r=>Mt(te,t,"crash",r.message));break;case"chr":A.arrayBuffer().then(r=>{oae(t,A.name,new Uint8Array(r))}).catch(r=>Mt(te,t,"crash",r.message));break;case"zzm":A.text().then(r=>{lae(t,r)}).catch(r=>Mt(te,t,"crash",r.message));break;case"ans":case"adf":case"bin":case"idf":case"pcb":case"tnd":case"xb":A.arrayBuffer().then(r=>{iae(t,A.name,n,new Uint8Array(r))}).catch(r=>Mt(te,t,"crash",r.message));break;default:e||A.arrayBuffer().then(r=>{const s=$O(A.name,new Uint8Array(r));if(s)VO(t,s,A);else return Mt(te,t,"parsewebfile",`unsupported file ${A.name}`)}).catch(r=>Mt(te,t,"crash",r.message));return}}function v_(t,e){VO(t,e?.type??"",e)}function WO(){return location.href.includes("/join/")}const Fd="https://bridge.zed.cafe";async function xae(t,e,A){const n=`offset=${A}&${t}=${e}`,r=new Request(`${Fd}/api/v1/search/files/?${n}`);return(await(await fetch(r)).json()).data.results}async function Gae(){const t=new Request(`${Fd}/api/v1/get/random-file/`);return[(await(await fetch(t)).json()).data]}function Mae(t){return`${Fd}/static/${t}`}async function yae(t,e){const n=await(await fetch(`${Fd}/zgames/${e}`)).arrayBuffer(),r=new File([n],e);v_(t,r)}async function Dae(t,e){const A=new FormData;A.append("email",t),A.append("tag",e);const n=new Request("https://bbs.zed.cafe/api/login",{method:"POST",body:A});return await(await fetch(n)).json()}async function vae(t,e){const A=new FormData;A.append("email",t),A.append("code",e);const n=new Request("https://bbs.zed.cafe/api/code",{method:"POST",body:A});return await(await fetch(n)).json()}async function Bae(t,e){const A=new FormData;A.append("email",t),A.append("code",e);const n=new Request("https://bbs.zed.cafe/api/list",{method:"POST",body:A});return await(await fetch(n)).json()}async function kae(t,e,A){const n=new FormData;n.append("email",t),n.append("code",e),n.append("filename",A);const r=new Request("https://bbs.zed.cafe/api/delete",{method:"POST",body:n});return await(await fetch(r)).json()}function Ht(t,e,A){A().catch(n=>{console.error(n),Mt(t,e,"crash",n?.message)})}function Vd(t){if(dn(t)!==Oe.TERRAIN&&dn(t)!==Oe.OBJECT)return"";const A={kind:wt(t)};return Wn(A),`${k_(A)}$ONCLEAR$BLUE `}function Eae(t,e,A){const n=Yae(t,e),r=hA(A,t);if(!G(A)||!G(r))return[];n.focusid=r.id??"",n.focusx=r.x??0,n.focusy=r.y??0;const{graphics:s,camera:i,facing:o}=KO(t,A);if(xe(s)){const a=je(s);switch(s){case"fpv":case"iso":case"flat":case"mode7":n.graphics=a;break;default:n.graphics="flat";break}}if(xe(i))switch(je(i)){default:n.viewscale=Th.MID;break;case"near":n.viewscale=Th.NEAR;break;case"far":n.viewscale=Th.FAR;break}return Ne(o)&&(n.facing=zD(o)),[n]}function B_(t,e,A,n,r,s=!1){if(!G(A)||!G(A.terrain)||!G(A.objects))return[];tA(A),G4(A);const i=je(KO(t,A).graphics),o=[];let a=e;const c=A.id,l=Re,u=rt,h=Sae(c,a++,l,u,Xe.BLACK);o.push(h);const f=a++,d=Nae(c,f);d.sprites=[],o.push(d);const m=A.isdark?1:0,p=Tae(c,a++,l,u,m);o.push(p),p.alphas.fill(m);for(let x=0;x<A.terrain.length;++x){const v=A.terrain[x],b=pA(v,0,Xe.WHITE,r===ve.OVER?Xe.ONCLEAR:Xe.BLACK),T=We(v,"collision");h.char[x]=b.char,h.color[x]=b.color,h.bg[x]=b.bg,h.stats[x]=T}if(i==="fpv")for(let x=0;x<A.terrain.length;++x){const v=A.terrain[x];(s||G(We(v,"sky")))&&(h.char[x]=-h.char[x])}const g=Object.values(A.objects??{}),w=new Set;for(let x=0;x<g.length;++x){const v=g[x];Wt(v.id)&&Ne(v.x)&&Ne(v.y)&&w.add(vn(v,Re))}for(let x=0;x<g.length;++x){const v=g[x],b=We(v,"collision");if(G(v.removed)||b===Fe.ISGHOST)continue;const T=v.id??"";if(Wt(T)===!1&&Ne(v.x)&&Ne(v.y)&&w.has(vn(v,Re))===!0)continue;const M=pA(v),B=QO(c,f,T,x);if(B.x=v.x??0,B.y=v.y??0,B.char=M.char,B.color=M.color,B.bg=M.bg,B.stat=b,B.pid=Wt(T)?T:void 0,d.sprites.push(B),m){if(M.light>0){const Z=ni(A,B),S=Yr(Math.round(M.light),1,rt),C=1/(S*.5);if(p.alphas[Z]=0,S>1){const k=[];for(let N=1;N<=S;++N){if(N===2){const U=We(v,"lightdir");if(Fn(U)){const j=zo(A,v,"",U,B);switch(cr(B,j.destpt)){case ve.EAST:k.push([45,315,1]);break;case ve.WEST:k.push([225,135,1]);break;case ve.NORTH:k.push([315,225,1]);break;case ve.SOUTH:k.push([135,45,1]);break}}}const y=[];for(let U=B.y-N;U<=B.y+N;++U)Qd(A,p.alphas,k,y,B,S,C,B.x-N,U),Qd(A,p.alphas,k,y,B,S,C,B.x+N,U);const I=N-1;for(let U=B.x-I;U<=B.x+I;++U)Qd(A,p.alphas,k,y,B,S,C,U,B.y-N),Qd(A,p.alphas,k,y,B,S,C,U,B.y+N);for(let U=0;U<y.length;++U){const j=y[U];let F=0;for(F=0;F<k.length;++F){const V=k[F];if(V[1]>V[0]&&j[1]>=V[0]&&j[0]<=V[1]&&j[2]>=1&&V[2]>=1){k[F]=[Math.min(j[0],V[0]),Math.max(j[1],V[1]),1];break}}F===k.length&&k.push(j)}}}}else if(Wt(T)){const Z=ni(A,B);p.alphas[Z]=0}}}for(let x=0;x<g.length;++x){const v=g[x],b=We(v,"collision");if(G(v.removed)||b!==Fe.ISGHOST)continue;const T=v.id??"",M=pA(v),B=QO(c,f,T,x);B.x=v.x??0,B.y=v.y??0,B.char=M.char,B.color=M.color,B.bg=M.bg,B.stat=b,d.sprites.push(B)}for(let x=0;x<g.length;++x){const v=g[x];xe(v.tickertext)&&Ne(v.tickertime)&&v.tickertext.length&&n.push(`${JO(v)}${v.tickertext}`)}if(r===ve.MID){if(o.push(Wd(c,a++,"text/mood",m?"dark":"bright")),xe(A.palettepage)){const v=MA(Oe.PALETTE,A.palettepage),b=pr(v);G(b?.bits)&&o.push(Wd(c,a++,"image/palette",Array.from(b.bits)))}if(xe(A.charsetpage)){const v=MA(Oe.CHARSET,A.charsetpage),b=pr(v);G(b?.bits)&&o.push(Wd(c,a++,"image/charset",Array.from(b.bits)))}const x=Object.keys(A.objects).filter(Wt);o.push(Wd(c,a++,"text/players",x.join(",")))}return o}function QO(t,e,A,n){const r=`sprites:${t}:${e}:${A}`,s=`sprite:${t}:${e}:${n}`;return G(qd[s])||(qd[s]=V2(t,e,A)),qd[s].id=r,qd[s]}function Nae(t,e){const A=`sprites:${t}:${e}`;return G(_n[A])||(_n[A]=W2(t,e)),_n[A]}function Tae(t,e,A,n,r=0){const s=`dither:${t}:${e}`;return G(_n[s])||(_n[s]=Q2(t,e,A,n,r)),_n[s]}function Wd(t,e,A,n){const r=`media:${t}:${e}`;G(_n[r])||(_n[r]=q2(t,e,A,n));const s=_n[r];return s.mime=A,s.media=n,s}function Yae(t,e){const A=`control:${t}:${e}`;return G(_n[A])||(_n[A]=J2(t,e)),_n[A]}function qO(t,e){const A=[],n=(t.x+.5)*cs,r=(t.y+.5)*Ps,s=e.x*cs,i=e.y*Ps,o=s-n,a=i-r;sn.x=o-mi,sn.y=a-mi,A.push(sn.angle()),sn.x=o+cs+mi,sn.y=a-mi,A.push(sn.angle()),sn.x=o-mi,sn.y=a+Ps+mi,A.push(sn.angle()),sn.x=o+cs+mi,sn.y=a+Ps+mi,A.push(sn.angle());const c=A.map(f=>Math.round(HD(f))),l=Math.min(...c),u=Math.max(...c);if(u-l>180){const f=c.filter(g=>g<180),d=c.filter(g=>g>180),m=Math.max(...f);return[Math.min(...d),m]}return[l,u]}function Qd(t,e,A,n,r,s,i,o,a){const c={x:o,y:a},l=ni(t,c);if(l===-1)return;sn.x=o-r.x,sn.y=Math.round((a-r.y)*1.333);const u=sn.length();if(u>s)return;const h=Math.round(HD(sn.angle()));let f=0;for(let x=0;x<A.length;++x){const[v,b,T]=A[x];v>b?(h>=v||h<=b)&&(f=Math.max(f,T)):h>=v&&h<=b&&(f=Math.max(f,T))}const d=s*.5;e[l]=Math.min(e[l],f+(u<d?0:(u-d)*i)),e[l]=Yr(e[l],0,1);const m=hA(t,t.lookup?.[l]??"");if(G(m)){const x=[...qO(r,c),.45];n.push(x)}const p=t.terrain[l],g=Wn(p),w=p?.collision??g?.collision;if(Oo(Fe.ISBULLET,w)){const x=[...qO(r,c),1];n.push(x)}}function KO(t,e){const{graphics:A,camera:n,facing:r}=mn(t),s=A??e.graphics??"",i=n??e.camera??"",o=r??e.facing??"";return{graphics:s,camera:i,facing:o}}function k_(t){const e=pA(t),A=`${Xe[e.color]}`,n=`${Xe[e.bg>Xe.WHITE?Xe.BLACK:e.bg]}`;return`$${A}$ON${n}$${e.char}`}function JO(t){if(!G(t?.id))return"";let e=pA(t).name;if(t.kind==="player"){const{user:n}=mn(t.id);e=xe(n)?n:"player"}return`${k_(t)}$ONCLEAR$CYAN ${e}:$WHITE `}function Oae(t,e){const A=[],n=[],r=[],s=[];if(!G(e))return{id:"",board:"",exiteast:"",exitwest:"",exitnorth:"",exitsouth:"",over:A,under:n,layers:r,tickers:s};const i=[`${e.id}`],o=A7(e);o?.id&&i.push(o.id);const a=n7(e);a?.id&&i.push(a.id),n.push(...B_(t,0,a,s,ve.UNDER));const c=G(o);r.push(...B_(t,n.length,e,s,ve.MID,c)),A.push(...B_(t,n.length+r.length,o,s,ve.OVER,c));const l=K2(r);for(let u=0;u<l.length;++u){const h=l[u];h.type===KD.MEDIA&&(i.push(h.id),xe(h.media)&&i.push(h.media))}return{id:i.join("|"),board:e.id,exiteast:lt(e.exiteast??"")?.id??"",exitwest:lt(e.exitwest??"")?.id??"",exitnorth:lt(e.exitnorth??"")?.id??"",exitsouth:lt(e.exitsouth??"")?.id??"",over:A,under:n,layers:r,tickers:s}}const sn=new nl,_n={},qd={};function Sae(t,e,A,n,r=0){const s=`tiles:${t}:${e}`;return G(_n[s])||(_n[s]=F2(t,e,A,n,r)),_n[s]}function ac(t,e=!1){const[A,n]=ce(t,0,[q.ANY]);if(e&&Fn(A)){const[r,s,i]=ce(t,0,[q.DIR,q.NAME]);return s.startsWith(":")?{targetdir:r,label:s.substring(1).trim(),args:t.slice(i)}:{targetdir:r,label:s,args:t.slice(i)}}else{const[r,s,i]=ce(t,0,[q.NAME,q.ANY]);return xe(s)&&s.startsWith(":")?{targetname:r,label:s.substring(1).trim(),args:t.slice(i)}:{targetname:"self",label:r,args:t.slice(n)}}}let Ai="",Fr="";function Zae(t){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.exec(String(t).toLowerCase())}function vA(t){return t===gA()}function cc(){Xx(te,gA())}const Cae=Gi().command("shortsend",(t,e)=>{const A=ac(e);return A.targetname==="self"?yc(te,_.elementfocus,void 0,"text",`cli:${A.label}`,A.args.join(" ")):hc(t,_.element,A),0}).command("send",(t,e)=>{const A=ac(e,!0);return hc(t,_.element,A),0}).command("stat",(t,e)=>(oC(te,_.elementfocus,e.map(Ct).join(" ")),0)).command("text",(t,e)=>{const A=e.map(Ct).join(" ");if(G(_.element)&&_.elementisplayer){_.element.tickertext=A,_.element.tickertime=_.timestamp,P_("",_.element,A);const{user:n}=mn(_.elementid),r=xe(n)?n:"player";yc(te,_.elementid,void 0,"text",`chat:message:${_.board?.id??""}`,`${r}:${A}`)}return 0}).command("hyperlink",(t,e)=>{const[A,...n]=e,{user:r}=mn(_.elementid),s=xe(r)?r:"player",i=pA(_.element),o=`$${Xe[i.color]}$ON${Xe[i.bg]}$${i.char}$ONCLEAR $WHITE${s}$BLUE `,a=t.template(Ct(A).split(" "));return _A(te,_.elementid,`!${t.template(n)};${o}${a}`),0}).command("bookrename",()=>{if(!vA(_.elementfocus))return 0;const t=zA(He.MAIN);return LF(t),G(t)&&Oi(te,_.elementfocus,"main",`${t?.name??"empty"} $GREEN${t?.id??""}`),0}).command("booktrash",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.NAME]),n=bt(He.MAIN),r=Us(A);return G(r)&&(n===r&&H8(He.MAIN,""),i7(A),_A(te,_.elementfocus,`trashed [book] ${r.name}`),cc(),t.command("pages")),0}).command("boardopen",(t,e)=>{const[A]=ce(e,0,[q.NAME]),n=lt(A);return G(n)&&Ti(_.book,_.elementfocus,n.id,{x:ln(0,Re-1),y:ln(0,rt-1)}),0}).command("pageopen",(t,e)=>{const[A,n]=ce(e,0,[q.NAME,q.MAYBE_NAME]);let r,s;const i=QA();for(let o=0;o<i.length&&(s=i[o],r=xi(s,A),!G(r));++o);if(G(r)&&G(s)){const o=wt(r),a=[r.id,n];ig(xu(s.id,a),r.code);const c=bs(r),l=`${Vd(r)}$ONCLEAR$GREEN ${o} - ${s.name}`;qx(te,_.elementfocus,s.id,a,c,l)}else Mt(te,"pageopen",`page ${A} not found`,_.elementfocus);return 0}).command("pagetrash",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.NAME]),n=zA(He.MAIN),r=I8(n,A);if(G(A)){const s=wt(r),i=bs(r);_A(te,_.elementfocus,`trashed [${i}] ${s}`),cc(),t.command("pages")}return 0}).command("help",()=>(Kx(te,_.elementfocus),0)).command("books",()=>{if(!vA(_.elementfocus))return 0;Po(te,_.elementfocus,"books");const t=bt(He.MAIN);Oi(te,_.elementfocus,"main",`${t?.name??"empty"} $GREEN${t?.id??""}`);const e=bt(He.MAIN);Oi(te,_.elementfocus,"content",`${e?.name??"empty"} ${e?.id??""}`),g_(te,_.elementfocus,7);const A=QA();return A.length?A.forEach(n=>{_t(te,_.elementfocus,`!bookopen ${n.id};${n.name}`)}):bA(te,_.elementfocus,"no books found"),_t(te,_.elementfocus,"!bookcreate;create a new book"),0}).command("pages",()=>{const t=zA(He.MAIN);if(!G(t))return 0;Po(te,_.elementfocus,"pages"),Oi(te,_.elementfocus,"main",`${t.name} $GREEN${t.id}`),t.pages.length?bo(t).forEach(n=>{const r=wt(n),s=bs(n),i=Vd(n);_t(te,_.elementfocus,`!pageopen ${n.id};$blue[${s}] ${i}$white${r}`)}):(_t(te,_.elementfocus,""),w_(Id("help:nopages"),A=>Moe(_.elementfocus,A)));const e=QA();for(let A=0;A<e.length;++A){const n=e[A];n.id!==t.id&&(Oi(te,_.elementfocus,"content",`${n.name} $GREEN${n.id}`),bo(n).forEach(s=>{const i=wt(s),o=bs(s);_t(te,_.elementfocus,`!pageopen ${s.id};$blue[${o}]$white ${i}`)}))}return 0}).command("boards",()=>{Po(te,_.elementfocus,"boards");const t=zA(He.MAIN);if(G(t)){Oi(te,_.elementfocus,"main",`${t.name} $GREEN${t.id}`);const A=bo(t);A.filter(n=>dn(n)===Oe.BOARD).forEach(n=>{const r=wt(n);_t(te,_.elementfocus,`!boardopen ${n.id};$blue[#goto]$white ${r}`)}),A.length===0&&(_t(te,_.elementfocus,""),bA(te,_.elementfocus,"$white no boards found"),bA(te,_.elementfocus,"$white use @ to create a board"),bA(te,_.elementfocus,"$white @board name of board"))}const e=QA();for(let A=0;A<e.length;++A){const n=e[A];n.id!==t.id&&(Oi(te,_.elementfocus,"content",`${n.name} $GREEN${n.id}`),bo(n).filter(s=>dn(s)===Oe.BOARD).forEach(s=>{const i=wt(s);_t(te,_.elementfocus,`!boardopen ${s.id};$blue[#goto]$white ${i}`)}))}return 0}).command("trash",()=>{if(!vA(_.elementfocus))return 0;Po(te,_.elementfocus,"$REDTRASH"),bA(te,_.elementfocus,"books");const t=QA();t.length&&(t.forEach(A=>{_t(te,_.elementfocus,`!booktrash ${A.id};$REDTRASH ${A.name}`)}),_t(te,_.elementfocus,""));const e=bt(He.MAIN);return G(e)&&(bA(te,_.elementfocus,`pages in open ${e.name} book`),e.pages.forEach(A=>{const n=wt(A),r=bs(A),s=Vd(A);_t(te,_.elementfocus,`!pagetrash ${A.id};$REDTRASH [${r}] ${s}${n}`)}),_t(te,_.elementfocus,"")),0}).command("dev",()=>(vA(_.elementfocus)&&(cc(),eC(te,_.elementfocus)),0)).command("share",()=>(vA(_.elementfocus)&&(cc(),ZZ(te,_.elementfocus)),0)).command("save",()=>(vA(_.elementfocus)&&cc(),0)).command("fork",(t,e)=>{if(vA(_.elementfocus)){const[A]=ce(e,0,[q.MAYBE_NAME]);lC(te,_.elementfocus,A??"")}return 0}).command("nuke",()=>(vA(_.elementfocus)&&CZ(te,_.elementfocus),0)).command("endgame",()=>(Mc(te,_.elementfocus,!1),0)).command("restart",()=>(vA(_.elementfocus)&&(cC(te,_.elementfocus),cc()),0)).command("export",()=>{if(!vA(_.elementfocus))return 0;Rd(te,_.elementfocus,"E X P O R T"),Po(te,_.elementfocus,"books");const t=QA();return t.length&&t.forEach(e=>_t(te,_.elementfocus,`!bookexport ${e.id};${e.name}`)),0}).command("bookexport",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.NAME]),n=Us(A);return G(n)&&(Rd(te,_.elementfocus,"E X P O R T"),Po(te,_.elementfocus,"pages"),setTimeout(()=>{if(n.pages.length){const r=bo(n);_t(te,_.elementfocus,`!bookallexport ${A};$blue[all] $whiteexport book`),r.forEach(s=>{const i=wt(s),o=bs(s),a=Vd(s);_t(te,_.elementfocus,`!pageexport ${A}:${s.id};$blue[${o}] ${a}$white${i}`)})}},1e3)),0}).command("bookallexport",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.NAME]),n=Us(A);return G(n)&&Fx(te,_.elementfocus,JA(n),`${n.name}.book.json`),0}).command("pageexport",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.NAME]),{target:n,path:r}=tr(A),s=Us(n),i=xi(s,r);return G(i)&&Fx(te,_.elementfocus,JA(i),`${wt(i)}.${bs(i)}.json`),0}).command("itchiopublish",()=>{if(!vA(_.elementfocus))return 0;const t=bt(He.MAIN);return eG(te,_.elementfocus,"itchio",t?.name??""),0}).command("gadget",()=>(Wx(te,_.elementfocus,void 0),0)).command("findany",(t,e)=>{const[A]=ce(e,0,[q.ANY]);if(st(A)){const n=A.filter(fi);Qx(te,_.elementfocus,n)}else Qx(te,_.elementfocus,[]);return 0}).command("zztsearch",(t,e)=>{const[A,n]=ce(e,0,[q.NAME,q.MAYBE_NAME]),r=G(n)?A:"title",s=G(n)?n:A;return JZ(te,_.elementfocus,r,s),0}).command("zztrandom",()=>(XZ(te,_.elementfocus),0)).command("admin",()=>(KZ(te,_.elementfocus),0)).command("joincode",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.MAYBE_NAME]),n=Et(_.elementfocus);return G(n)?yZ(te,_.elementfocus,!!A):Mt(te,_.elementfocus,"multiplayer","need to have an active player on a board in order to start multiplayer"),0}).command("jointab",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.MAYBE_NAME]);return DZ(te,_.elementfocus,!!A),0}).command("chat",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.MAYBE_NAME]);return A?xZ(te,_.elementfocus,A):GZ(te,_.elementfocus),0}).command("broadcast",(t,e)=>{if(!vA(_.elementfocus))return 0;const[A]=ce(e,0,[q.MAYBE_NAME]);return A?bZ(te,_.elementfocus,A):_Z(te,_.elementfocus),0}).command("agent",(t,e)=>{const[A,n]=ce(e,0,[q.MAYBE_NAME]);switch(je(A)){case"start":rC(te,_.elementfocus);break;case"stop":{const[r]=ce(e,1,[q.NAME]);G(r)?sC(te,_.elementfocus,r):Mt(te,_.elementfocus,"agent","#agent stop <id>");break}case"":case"list":Hm(te,_.elementfocus);break;default:{if(xe(A)){let r=n;const s=[];for(;r<e.length;){const[i,o]=ce(e,r,[q.ANY]);s.push(i),r=o}iC(te,_.elementfocus,A,s.map(Ct).join(" "))}else Mt(te,_.elementfocus,"agent","#agent <id> <prompt>");break}}return 0}).command("screenshot",()=>(SZ(te,_.elementfocus),0)).command("bbs",(t,e)=>{const[A,n]=ce(e,0,[q.ANY]);switch(je(A)){default:if(Fr)Ai?bA(te,_.elementfocus,"you are already logged in, use #bbs restart to login again"):Ht(te,_.elementfocus,async()=>{bA(te,_.elementfocus,`confirming login with $green${A}`),(await vae(Fr,A)).success&&(Ai=`${A}`,bA(te,_.elementfocus,`$green${Fr} has been logged in`))});else{const[r,s]=ce(e,0,[q.NAME,q.NAME]);Zae(r)&&s?Ht(te,_.elementfocus,async()=>{bA(te,_.elementfocus,`starting login with $green${r} ${s}`),(await Dae(r,s)).success&&(Fr=r,bA(te,_.elementfocus,"check your email for #bbs <code>"))}):bA(te,_.elementfocus,"please login with $green#bbs <email> <tag>")}break;case"restart":Fr="",Ai="",bA(te,_.elementfocus,"bbs restarted"),bA(te,_.elementfocus,"please login with $green#bbs <email> <tag>");break;case"list":!Fr||!Ai?bA(te,_.elementfocus,"please login with $green#bbs <email> <tag>$blue first"):Ht(te,_.elementfocus,async()=>{bA(te,_.elementfocus,"listing files");const r=await Bae(Fr,Ai);if(r.success)for(let s=0;s<r.list.length;++s){const{metadata:i}=r.list[s];Goe(te,_.elementfocus,i.url,i.filename),bA(te,_.elementfocus,i.tags)}});break;case"pub":case"publish":if(!Fr||!Ai)bA(te,_.elementfocus,"please login with $green#bbs <email> <tag>$blue first");else{const[r,s]=ce(e,n,[q.NAME]),i=[];for(let o=s;o<e.length;){const[a,c]=ce(e,o,[q.NAME]);o=c,i.push(a)}eG(te,_.elementfocus,"bbs",Fr,Ai,r,...i)}break;case"del":case"delete":if(!Fr||!Ai)bA(te,_.elementfocus,"please login with $green#bbs <email> <tag>$blue first");else{const[r]=ce(e,n,[q.NAME]);Ht(te,_.elementfocus,async()=>{bA(te,_.elementfocus,`deleting ${r}`),(await kae(Fr,Ai,r)).success&&bA(te,_.elementfocus,`$red${r} has been deleted`)})}break}return 0}),Pae=new Set(["inputmove","inputalt","inputctrl","inputshift","inputok","inputcancel","inputmenu"]),XO=new Set(["char","color","bg","displaychar","displaycolor","displaybg","item","group","party","player","pushable","collision","breakable","p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","cycle","stepx","stepy","shootx","shooty","light","lightdir","arg"]),Rae=["NORTH","SOUTH","WEST","EAST"];function Iae(t,e,A){const n=mn(t);if(Ne(n.inputcurrent)||(n.inputcurrent=0),st(n.inputqueue)||(n.inputqueue=[]),n.inputcurrent>0)return n;const[r]=n.inputqueue,[s=$t.NONE,i=0]=r??[$t.NONE,0];switch(n.inputmove=[],n.inputok=0,n.inputcancel=0,n.inputmenu=0,n.inputalt=i&X2?1:0,n.inputctrl=i&e3?1:0,n.inputshift=i&t3?1:0,s){case $t.MOVE_UP:case $t.MOVE_DOWN:case $t.MOVE_LEFT:case $t.MOVE_RIGHT:{const o=Rae[s-$t.MOVE_UP];if(xe(e)&&e==="fpv"&&Ne(A))switch(Math.round(A/90)){default:case 0:n.inputmove=[o];break;case 1:switch(o){default:case"NORTH":n.inputmove=["EAST"];break;case"EAST":n.inputmove=["SOUTH"];break;case"SOUTH":n.inputmove=["WEST"];break;case"WEST":n.inputmove=["NORTH"];break}break;case 2:switch(o){default:case"NORTH":n.inputmove=["SOUTH"];break;case"EAST":n.inputmove=["WEST"];break;case"SOUTH":n.inputmove=["NORTH"];break;case"WEST":n.inputmove=["EAST"];break}break;case 3:switch(o){default:case"NORTH":n.inputmove=["WEST"];break;case"EAST":n.inputmove=["NORTH"];break;case"SOUTH":n.inputmove=["EAST"];break;case"WEST":n.inputmove=["SOUTH"];break}break}else n.inputmove=[o];break}case $t.OK_BUTTON:n.inputok=1;break;case $t.CANCEL_BUTTON:n.inputcancel=1;break;case $t.MENU_BUTTON:n.inputmenu=1;break}return n.inputcurrent=s,n.inputqueue=n.inputqueue.filter(o=>{const[a]=o;return a!==$t.NONE&&a!==s}),n}function jae(t){const e=a_[t];if(G(e))return e;const A=i_[t];if(G(A))return A;const n=ol[t];if(G(n))return n;const r=vg[t];if(G(r))return r}const zae=Gi({get(t,e){const A=jae(e);if(G(A))return[!0,A];if(_.elementisplayer&&Pae.has(e)){const a=t.get("graphics"),c=t.get("facing"),l=Iae(_.elementid,a,c)[e];return[G(l),l]}const n=eu(_.board,{x:_.element?.x??-1,y:_.element?.y??-1},_.elementfocus),r=n?.id??_.elementfocus??gA(),s=_.element?.sender,i=j_(_.board,xe(s)?s:"");switch(e){case"camera":case"graphics":case"facing":{const a=mn(r)[e];return[!0,G(a)?a:_.board?.[e]??0]}case"isdark":return[!0,_.board?.isdark?1:0];case"startx":return[!0,_.board?.startx??0];case"starty":return[!0,_.board?.starty??0];case"over":return[!0,_.board?.over??""];case"under":return[!0,_.board?.under??""];case"palette":return[!0,_.board?.palette??""];case"charset":return[!0,_.board?.charset??""];case"exitnorth":return[!0,_.board?.exitnorth??""];case"exitsouth":return[!0,_.board?.exitsouth??""];case"exitwest":return[!0,_.board?.exitwest??""];case"exiteast":return[!0,_.board?.exiteast??""];case"timelimit":return[!0,_.board?.timelimit??0];case"restartonzap":return[!0,_.board?.restartonzap??0];case"maxplayershots":return[!0,_.board?.maxplayershots??0];case"b1":return[!0,_.board?.b1??0];case"b2":return[!0,_.board?.b2??0];case"b3":return[!0,_.board?.b3??0];case"b4":return[!0,_.board?.b4??0];case"b5":return[!0,_.board?.b5??0];case"b6":return[!0,_.board?.b6??0];case"b7":return[!0,_.board?.b7??0];case"b8":return[!0,_.board?.b8??0];case"b9":return[!0,_.board?.b9??0];case"b10":return[!0,_.board?.b10??0];case"currenttick":return[!0,_.timestamp];case"boardid":return[!0,_.board?.id??""];case"playerid":return[!0,r];case"playerx":return[!0,n?.x??-1];case"playery":return[!0,n?.y??-1];case"thisid":return[!0,_.element?.id??""];case"thisx":return[!0,_.element?.x??-1];case"thisy":return[!0,_.element?.y??-1];case"senderid":return[!0,i?.id??""];case"senderx":return[!0,i?.x??-1];case"sendery":return[!0,i?.y??-1];default:{if(XO.has(e))return[!0,We(_.element,e)??0];break}}const o=mn(r)[e];return[G(o),o]},set(t,e,A){const n={x:_.element?.x??-1,y:_.element?.y??-1},s=eu(_.board,n,_.elementfocus)?.id??_.elementfocus;switch(e){case"camera":case"graphics":break;case"facing":A=Y2.euclideanModulo(A,360);break;case"isdark":if(G(_.board))return _.board.isdark=A?1:0,[!0,_.board.isdark];break;case"startx":if(G(_.board))return _.board.startx=ci(A,0),[!0,_.board.startx];break;case"starty":if(G(_.board))return _.board.starty=ci(A,0),[!0,_.board.starty];break;case"over":if(G(_.board)){const o=Ct(A);return _.board.over!==o&&(_.board.overboard=void 0),_.board.over=o,[!0,o]}break;case"under":if(G(_.board)){const o=Ct(A);return _.board.under!==o&&(_.board.underboard=void 0),_.board.under=o,[!0,o]}break;case"palette":if(G(_.board)){const o=Ct(A);return _.board.palette!==o&&(_.board.palettepage=void 0),_.board.palette=o,[!0,o]}break;case"charset":if(G(_.board)){const o=Ct(A);return _.board.charset!==o&&(_.board.charsetpage=void 0),_.board.charset=o,[!0,o]}break;case"exitnorth":if(G(_.board))return[!0,_.board.exitnorth=Ct(A)];break;case"exitsouth":if(G(_.board))return[!0,_.board.exitsouth=Ct(A)];break;case"exitwest":if(G(_.board))return[!0,_.board.exitwest=Ct(A)];break;case"exiteast":if(G(_.board))return[!0,_.board.exiteast=Ct(A)];break;case"timelimit":if(G(_.board))return[!0,_.board.timelimit=ci(A,0)];break;case"restartonzap":if(G(_.board))return[!0,_.board.restartonzap=A?1:0];break;case"maxplayershots":if(G(_.board))return[!0,_.board.maxplayershots=ci(A,0)];break;case"b1":if(G(_.board))return[!0,_.board.b1=A];break;case"b2":if(G(_.board))return[!0,_.board.b2=A];break;case"b3":if(G(_.board))return[!0,_.board.b3=A];break;case"b4":if(G(_.board))return[!0,_.board.b4=A];break;case"b5":if(G(_.board))return[!0,_.board.b5=A];break;case"b6":if(G(_.board))return[!0,_.board.b6=A];break;case"b7":if(G(_.board))return[!0,_.board.b7=A];break;case"b8":if(G(_.board))return[!0,_.board.b8=A];break;case"b9":if(G(_.board))return[!0,_.board.b9=A];break;case"b10":if(G(_.board))return[!0,_.board.b10=A];break;case"currenttick":case"boardid":return[!0,A];case"playerid":case"playerx":case"playery":return[!0,A];case"thisid":case"thisx":case"thisy":return[!0,A];case"senderid":return G(_.element)&&(_.element.sender=A),[!0,A];case"senderx":case"sendery":return[!0,A];default:{if(XO.has(e)){if(G(_.element))switch(e){case"color":if(NA(A)){const{color:o,bg:a}=_a(A);G(o)&&(_.element.color=o),G(a)&&(_.element.bg=a)}else Ne(A)&&(_.element.color=A);break;case"bg":if(NA(A)){const{color:o,bg:a}=_a(A);_.element.bg=o??a??Xe.PURPLE}else Ne(A)&&(_.element.bg=A);break;case"displaycolor":if(NA(A)){const{color:o,bg:a}=_a(A);G(o)&&(_.element.displaycolor=o),G(a)&&(_.element.displaybg=a)}else Ne(A)&&(_.element.displaycolor=A);break;case"displaybg":{if(NA(A)){const{color:o,bg:a}=_a(A);_.element.displaybg=o??a??Xe.PURPLE}else Ne(A)&&(_.element.displaybg=A);break}default:_.element[e]=A;break}return[!0,A]}break}}const i=mn(s);return G(i)?(i[e]=A,e==="user"&&QZ(te,s,e,A),[!0,A]):[!1,A]},everytick(t){if(_.elementisplayer){const e=t.get("health");Ne(e)&&e<=0&&(t.endofprogram(),Mc(te,_.elementid,!0))}!_.element?.removed&&G(_.element?.x)&&G(_.element.y)&&G(_.element.stepx)&&G(_.element.stepy)&&(_.element.stepx||_.element.stepy)&&Xn(_.book,_.board,_.element,{x:_.element.x+_.element.stepx,y:_.element.y+_.element.stepy})}}).command("clear",(t,e)=>{for(let A=0;A<e.length;++A)t.set(Ct(e[A]),0);return 0}).command("set",(t,e)=>{const[A,n]=ce(e,0,[q.NAME,q.ANY]);return t.set(A,n??1),0}).command("become",(t,e)=>{const[A]=ce(e,0,[q.KIND]),n=pA(_.element),[r,s]=A,i=[...di(n.color,n.bg),...s??[]],o=[r,i];if(kf(_.board,_.element),KA(_.board,_.element,_.timestamp)){const a={x:_.element?.x??0,y:_.element?.y??0};Qn(_.board,o,a)}return t.endofprogram(),0}).command("bind",(t,e)=>{const[A]=ce(e,0,[q.NAME]),n=rc(_.board,A);return G(_.element)&&n.length>0&&(_.element.code=ar(...n).code??"",tu(_.elementid)),0}).command("char",(t,e)=>{const[A]=ce(e,0,[q.ANY]);if(Fn(A)){const[n,r]=ce(e,0,[q.DIR,q.NUMBER]);if(n.targets.length){for(let i=0;i<n.targets.length;++i){const o=n.targets[i],a=nt(_.board,o);G(a)&&(a.char=r)}return 0}const s=nt(_.board,n.destpt);G(s)&&(s.char=r)}else G(_.element)&&Ne(A)&&(_.element.char=A);return 0}).command("color",(t,e)=>{const[A]=ce(e,0,[q.ANY]);if(Fn(A)){const[n,r]=ce(e,0,[q.DIR,q.COLOR]);if(n.targets.length){for(let i=0;i<n.targets.length;++i){const o=n.targets[i],a=nt(_.board,o);G(a)&&io(a,r??Xe.PURPLE)}return 0}const s=nt(_.board,n.destpt);G(s)&&io(s,r??Xe.PURPLE)}else{const[n]=ce(e,0,[q.COLOR]);G(_.element)&&G(n)&&io(_.element,n)}return 0}).command("go",(t,e)=>{if(G(_.element)){const[A]=ce(e,0,[q.DIR]);if(Xn(_.book,_.board,_.element,A.destpt),t.yield(),_.element.x===A.destpt.x&&_.element.y===A.destpt.y)return 0}return 1}).command("walk",(t,e)=>{if(!G(_.element))return 0;const[A]=ce(e,0,[q.DIR]),n=_.element.x??0,r=_.element.y??0;return _.element.stepx=A.destpt.x-n,_.element.stepy=A.destpt.y-r,0}).command("idle",t=>(t.yield(),0)).command("end",(t,e)=>{const[A]=ce(e,0,[q.ANY]);return G(A)&&t.set("arg",A),t.endofprogram(),0}).command("lock",t=>(t.lock(t.id()),0)).command("restore",(t,e)=>(t.restore(Ct(e[0])),0)).command("unlock",t=>(t.unlock(),0)).command("zap",(t,e)=>(t.zap(Ct(e[0])),0)).command("cycle",(t,e)=>{if(G(_.element)){const[A]=ce(e,0,[q.NUMBER]);_.element.cycle=Yr(Math.round(A),1,255)}return 0}).command("die",t=>{if(KA(_.board,_.element,_.timestamp),We(_.element,"item")){const e={x:_.element?.x??-1,y:_.element?.y??-1},A=eu(_.board,e,_.elementfocus);G(A?.x)&&G(A.y)&&Math.abs(A.x-e.x)+Math.abs(A.y-e.y)<2&&(A.x=e.x,A.y=e.y)}else t.endofprogram();return 0}).command("run",(t,e)=>{const[A]=ce(e,0,[q.NAME]);return Ed(A),0}).command("runwith",(t,e)=>{const[A,n]=ce(e,0,[q.ANY,q.NAME]);return t.set("arg",A),Ed(n),0}).command("array",(t,e)=>{const A=[],[n,r]=ce(e,0,[q.NAME]);for(let s=r;s<e.length;){const[i,o]=ce(e,s,[q.ANY]);A.push(i),s=o}return t.set(n,A),0}).command("read",(t,e)=>{const[A,n,r]=ce(e,0,[q.ANY,q.NUMBER_OR_STRING,q.NAME]);if(G(A)){const s=A[n];t.set(r,s)}return 0}).command("load",(t,e)=>{const[A,n,r]=ce(e,0,[q.DIR,q.NAME]),s=nt(_.board,A.destpt);if(G(s)&&vt(s))if(je(n)==="append"){const[i]=ce(e,r,[q.NAME]),o=MA(Oe.OBJECT,i);G(o)&&(s.code+=o.code,tu(s.id??""))}else{const i=MA(Oe.OBJECT,n);G(i)&&(s.code=i.code,tu(s.id??""))}return 0}).command("toast",(t,e)=>{const A=e.map(Ct).join("");return Bs(te,_.elementfocus,A),0}).command("ticker",(t,e)=>{const A=e.map(Ct).join("");return G(_.element)&&(_.element.tickertext=A,_.element.tickertime=_.timestamp,P_(_.board?.id,_.element,A)),0});function e4(t,e){if(!G(t))return;const A=je(e),n=A.endsWith("le");switch(A){case"float32":case"float32le":{const r=t.dataview.getFloat32(t.cursor,n);return t.cursor+=4,r}case"float64":case"float64le":{const r=t.dataview.getFloat64(t.cursor,n);return t.cursor+=8,r}case"int8":case"int8le":{const r=t.dataview.getInt8(t.cursor);return t.cursor+=1,r}case"int16":case"int16le":{const r=t.dataview.getInt16(t.cursor,n);return t.cursor+=2,r}case"int32":case"int32le":{const r=t.dataview.getInt32(t.cursor,n);return t.cursor+=4,r}case"int64":case"int64le":{const r=t.dataview.getBigInt64(t.cursor,n);return t.cursor+=8,r}case"uint8":case"uint8le":{const r=t.dataview.getUint8(t.cursor);return t.cursor+=1,r}case"uint16":case"uint16le":{const r=t.dataview.getUint16(t.cursor,n);return t.cursor+=2,r}case"uint32":case"uint32le":{const r=t.dataview.getUint32(t.cursor,n);return t.cursor+=4,r}case"uint64":case"uint64le":{const r=t.dataview.getBigUint64(t.cursor,n);return t.cursor+=8,r}}}const Hae=(t,e)=>{const A=nc(t.id());if(!G(A))return 0;const[n,r]=ce(e,0,[q.NAME]),s=je(n);switch(s){case"seek":{const[i]=ce(e,r,[q.NUMBER]);A.cursor=i;break}case"float32":case"float32le":case"float64":case"float64le":case"int8":case"int8le":case"int16":case"int16le":case"int32":case"int32le":case"int64":case"int64le":case"uint8":case"uint8le":case"uint16":case"uint16le":case"uint32":case"uint32le":case"uint64":case"uint64le":{const[i]=ce(e,r,[q.NAME]);t.set(i,e4(A,s));break}case"text":{const[i,o]=ce(e,r,[q.NAME,q.NAME]),a=e4(A,i);if(Ne(a)&&xe(o)){const c=new Uint8Array(A.bytes.buffer,A.cursor,a),u=new TextDecoder("utf-8").decode(c);t.set(o,u),A.cursor+=a}break}}return 0},lc=t=>t!==null&&Object.prototype.toString.call(t)==="[object Object]",Kd=(t,e)=>{if(t===e)return!0;if(typeof t!=typeof e)return!1;if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;for(let A=0;A<t.length;A+=1)if(!Kd(t[A],e[A]))return!1;return!0}if(lc(t)&&lc(e)){const A=Object.entries(t),n=new Set(Object.keys(e));if(A.length!==n.size)return!1;for(const[r,s]of A){if(!Kd(s,e[r]))return!1;n.delete(r)}return n.size===0}return!1},Jd=t=>{if(t===""||t===!1||t===null||t===void 0||Array.isArray(t)&&t.length===0)return!0;if(lc(t)){for(const e in t)if(t.hasOwnProperty(e))return!1;return!0}return!1},Lae=t=>t>="a"&&t<="z"||t>="A"&&t<="Z"||t==="_",t4=t=>t>="0"&&t<="9"||t==="-",Uae=t=>t>="a"&&t<="z"||t>="A"&&t<="Z"||t>="0"&&t<="9"||t==="_";var ae;(function(t){t.TOK_EOF="EOF",t.TOK_UNQUOTEDIDENTIFIER="UnquotedIdentifier",t.TOK_QUOTEDIDENTIFIER="QuotedIdentifier",t.TOK_RBRACKET="Rbracket",t.TOK_RPAREN="Rparen",t.TOK_COMMA="Comma",t.TOK_COLON="Colon",t.TOK_RBRACE="Rbrace",t.TOK_NUMBER="Number",t.TOK_CURRENT="Current",t.TOK_ROOT="Root",t.TOK_EXPREF="Expref",t.TOK_PIPE="Pipe",t.TOK_OR="Or",t.TOK_AND="And",t.TOK_EQ="EQ",t.TOK_GT="GT",t.TOK_LT="LT",t.TOK_GTE="GTE",t.TOK_LTE="LTE",t.TOK_NE="NE",t.TOK_FLATTEN="Flatten",t.TOK_STAR="Star",t.TOK_FILTER="Filter",t.TOK_DOT="Dot",t.TOK_NOT="Not",t.TOK_LBRACE="Lbrace",t.TOK_LBRACKET="Lbracket",t.TOK_LPAREN="Lparen",t.TOK_LITERAL="Literal"})(ae||(ae={}));const A4={"(":ae.TOK_LPAREN,")":ae.TOK_RPAREN,"*":ae.TOK_STAR,",":ae.TOK_COMMA,".":ae.TOK_DOT,":":ae.TOK_COLON,"@":ae.TOK_CURRENT,$:ae.TOK_ROOT,"]":ae.TOK_RBRACKET,"{":ae.TOK_LBRACE,"}":ae.TOK_RBRACE},$ae={"!":!0,"<":!0,"=":!0,">":!0},Fae={"	":!0,"\n":!0,"\r":!0," ":!0};class Vae{constructor(){this._current=0}tokenize(e){const A=[];this._current=0;let n,r,s;for(;this._current<e.length;)if(Lae(e[this._current]))n=this._current,r=this.consumeUnquotedIdentifier(e),A.push({start:n,type:ae.TOK_UNQUOTEDIDENTIFIER,value:r});else if(A4[e[this._current]]!==void 0)A.push({start:this._current,type:A4[e[this._current]],value:e[this._current]}),this._current+=1;else if(t4(e[this._current]))s=this.consumeNumber(e),A.push(s);else if(e[this._current]==="[")s=this.consumeLBracket(e),A.push(s);else if(e[this._current]==='"')n=this._current,r=this.consumeQuotedIdentifier(e),A.push({start:n,type:ae.TOK_QUOTEDIDENTIFIER,value:r});else if(e[this._current]==="'")n=this._current,r=this.consumeRawStringLiteral(e),A.push({start:n,type:ae.TOK_LITERAL,value:r});else if(e[this._current]==="`"){n=this._current;const i=this.consumeLiteral(e);A.push({start:n,type:ae.TOK_LITERAL,value:i})}else if($ae[e[this._current]]!==void 0)s=this.consumeOperator(e),s&&A.push(s);else if(Fae[e[this._current]]!==void 0)this._current+=1;else if(e[this._current]==="&")n=this._current,this._current+=1,e[this._current]==="&"?(this._current+=1,A.push({start:n,type:ae.TOK_AND,value:"&&"})):A.push({start:n,type:ae.TOK_EXPREF,value:"&"});else if(e[this._current]==="|")n=this._current,this._current+=1,e[this._current]==="|"?(this._current+=1,A.push({start:n,type:ae.TOK_OR,value:"||"})):A.push({start:n,type:ae.TOK_PIPE,value:"|"});else{const i=new Error(`Unknown character: ${e[this._current]}`);throw i.name="LexerError",i}return A}consumeUnquotedIdentifier(e){const A=this._current;for(this._current+=1;this._current<e.length&&Uae(e[this._current]);)this._current+=1;return e.slice(A,this._current)}consumeQuotedIdentifier(e){const A=this._current;this._current+=1;const n=e.length;for(;e[this._current]!=='"'&&this._current<n;){let r=this._current;e[r]==="\\"&&(e[r+1]==="\\"||e[r+1]==='"')?r+=2:r+=1,this._current=r}return this._current+=1,JSON.parse(e.slice(A,this._current))}consumeRawStringLiteral(e){const A=this._current;this._current+=1;const n=e.length;for(;e[this._current]!=="'"&&this._current<n;){let s=this._current;e[s]==="\\"&&(e[s+1]==="\\"||e[s+1]==="'")?s+=2:s+=1,this._current=s}return this._current+=1,e.slice(A+1,this._current-1).replace("\\'","'")}consumeNumber(e){const A=this._current;this._current+=1;const n=e.length;for(;t4(e[this._current])&&this._current<n;)this._current+=1;const r=parseInt(e.slice(A,this._current),10);return{start:A,value:r,type:ae.TOK_NUMBER}}consumeLBracket(e){const A=this._current;return this._current+=1,e[this._current]==="?"?(this._current+=1,{start:A,type:ae.TOK_FILTER,value:"[?"}):e[this._current]==="]"?(this._current+=1,{start:A,type:ae.TOK_FLATTEN,value:"[]"}):{start:A,type:ae.TOK_LBRACKET,value:"["}}consumeOperator(e){const A=this._current,n=e[A];if(this._current+=1,n==="!")return e[this._current]==="="?(this._current+=1,{start:A,type:ae.TOK_NE,value:"!="}):{start:A,type:ae.TOK_NOT,value:"!"};if(n==="<")return e[this._current]==="="?(this._current+=1,{start:A,type:ae.TOK_LTE,value:"<="}):{start:A,type:ae.TOK_LT,value:"<"};if(n===">")return e[this._current]==="="?(this._current+=1,{start:A,type:ae.TOK_GTE,value:">="}):{start:A,type:ae.TOK_GT,value:">"};if(n==="="&&e[this._current]==="=")return this._current+=1,{start:A,type:ae.TOK_EQ,value:"=="}}consumeLiteral(e){this._current+=1;const A=this._current,n=e.length;for(;e[this._current]!=="`"&&this._current<n;){let i=this._current;e[i]==="\\"&&(e[i+1]==="\\"||e[i+1]==="`")?i+=2:i+=1,this._current=i}let r=e.slice(A,this._current).trimLeft();r=r.replace("\\`","`");const s=this.looksLikeJSON(r)?JSON.parse(r):JSON.parse(`"${r}"`);return this._current+=1,s}looksLikeJSON(e){const n=["true","false","null"],r="-0123456789";if(e==="")return!1;if('[{"'.includes(e[0])||n.includes(e))return!0;if(r.includes(e[0]))try{return JSON.parse(e),!0}catch{return!1}return!1}}const Wae=new Vae,on={[ae.TOK_EOF]:0,[ae.TOK_UNQUOTEDIDENTIFIER]:0,[ae.TOK_QUOTEDIDENTIFIER]:0,[ae.TOK_RBRACKET]:0,[ae.TOK_RPAREN]:0,[ae.TOK_COMMA]:0,[ae.TOK_RBRACE]:0,[ae.TOK_NUMBER]:0,[ae.TOK_CURRENT]:0,[ae.TOK_EXPREF]:0,[ae.TOK_ROOT]:0,[ae.TOK_PIPE]:1,[ae.TOK_OR]:2,[ae.TOK_AND]:3,[ae.TOK_EQ]:5,[ae.TOK_GT]:5,[ae.TOK_LT]:5,[ae.TOK_GTE]:5,[ae.TOK_LTE]:5,[ae.TOK_NE]:5,[ae.TOK_FLATTEN]:9,[ae.TOK_STAR]:20,[ae.TOK_FILTER]:21,[ae.TOK_DOT]:40,[ae.TOK_NOT]:45,[ae.TOK_LBRACE]:50,[ae.TOK_LBRACKET]:55,[ae.TOK_LPAREN]:60};class Qae{constructor(){this.index=0,this.tokens=[]}parse(e){this.loadTokens(e),this.index=0;const A=this.expression(0);if(this.lookahead(0)!==ae.TOK_EOF){const n=this.lookaheadToken(0);this.errorToken(n,`Unexpected token type: ${n.type}, value: ${n.value}`)}return A}loadTokens(e){this.tokens=[...Wae.tokenize(e),{type:ae.TOK_EOF,value:"",start:e.length}]}expression(e){const A=this.lookaheadToken(0);this.advance();let n=this.nud(A),r=this.lookahead(0);for(;e<on[r];)this.advance(),n=this.led(r,n),r=this.lookahead(0);return n}lookahead(e){return this.tokens[this.index+e].type}lookaheadToken(e){return this.tokens[this.index+e]}advance(){this.index+=1}nud(e){let A,n,r;switch(e.type){case ae.TOK_LITERAL:return{type:"Literal",value:e.value};case ae.TOK_UNQUOTEDIDENTIFIER:return{type:"Field",name:e.value};case ae.TOK_QUOTEDIDENTIFIER:const s={type:"Field",name:e.value};if(this.lookahead(0)===ae.TOK_LPAREN)throw new Error("Quoted identifier not allowed for function names.");return s;case ae.TOK_NOT:return n=this.expression(on.Not),{type:"NotExpression",children:[n]};case ae.TOK_STAR:return A={type:"Identity"},n=this.lookahead(0)===ae.TOK_RBRACKET&&{type:"Identity"}||this.parseProjectionRHS(on.Star),{type:"ValueProjection",children:[A,n]};case ae.TOK_FILTER:return this.led(e.type,{type:"Identity"});case ae.TOK_LBRACE:return this.parseMultiselectHash();case ae.TOK_FLATTEN:return A={type:ae.TOK_FLATTEN,children:[{type:"Identity"}]},n=this.parseProjectionRHS(on.Flatten),{type:"Projection",children:[A,n]};case ae.TOK_LBRACKET:return this.lookahead(0)===ae.TOK_NUMBER||this.lookahead(0)===ae.TOK_COLON?(n=this.parseIndexExpression(),this.projectIfSlice({type:"Identity"},n)):this.lookahead(0)===ae.TOK_STAR&&this.lookahead(1)===ae.TOK_RBRACKET?(this.advance(),this.advance(),n=this.parseProjectionRHS(on.Star),{children:[{type:"Identity"},n],type:"Projection"}):this.parseMultiselectList();case ae.TOK_CURRENT:return{type:ae.TOK_CURRENT};case ae.TOK_ROOT:return{type:ae.TOK_ROOT};case ae.TOK_EXPREF:return r=this.expression(on.Expref),{type:"ExpressionReference",children:[r]};case ae.TOK_LPAREN:const i=[];for(;this.lookahead(0)!==ae.TOK_RPAREN;)this.lookahead(0)===ae.TOK_CURRENT?(r={type:ae.TOK_CURRENT},this.advance()):r=this.expression(0),i.push(r);return this.match(ae.TOK_RPAREN),i[0];default:this.errorToken(e)}}led(e,A){let n;switch(e){case ae.TOK_DOT:const r=on.Dot;return this.lookahead(0)!==ae.TOK_STAR?(n=this.parseDotRHS(r),{type:"Subexpression",children:[A,n]}):(this.advance(),n=this.parseProjectionRHS(r),{type:"ValueProjection",children:[A,n]});case ae.TOK_PIPE:return n=this.expression(on.Pipe),{type:ae.TOK_PIPE,children:[A,n]};case ae.TOK_OR:return n=this.expression(on.Or),{type:"OrExpression",children:[A,n]};case ae.TOK_AND:return n=this.expression(on.And),{type:"AndExpression",children:[A,n]};case ae.TOK_LPAREN:const s=A.name,i=[];let o;for(;this.lookahead(0)!==ae.TOK_RPAREN;)this.lookahead(0)===ae.TOK_CURRENT?(o={type:ae.TOK_CURRENT},this.advance()):o=this.expression(0),this.lookahead(0)===ae.TOK_COMMA&&this.match(ae.TOK_COMMA),i.push(o);return this.match(ae.TOK_RPAREN),{name:s,type:"Function",children:i};case ae.TOK_FILTER:const c=this.expression(0);return this.match(ae.TOK_RBRACKET),n=this.lookahead(0)===ae.TOK_FLATTEN&&{type:"Identity"}||this.parseProjectionRHS(on.Filter),{type:"FilterProjection",children:[A,n,c]};case ae.TOK_FLATTEN:const l={type:ae.TOK_FLATTEN,children:[A]},u=this.parseProjectionRHS(on.Flatten);return{type:"Projection",children:[l,u]};case ae.TOK_EQ:case ae.TOK_NE:case ae.TOK_GT:case ae.TOK_GTE:case ae.TOK_LT:case ae.TOK_LTE:return this.parseComparator(A,e);case ae.TOK_LBRACKET:const h=this.lookaheadToken(0);return h.type===ae.TOK_NUMBER||h.type===ae.TOK_COLON?(n=this.parseIndexExpression(),this.projectIfSlice(A,n)):(this.match(ae.TOK_STAR),this.match(ae.TOK_RBRACKET),n=this.parseProjectionRHS(on.Star),{type:"Projection",children:[A,n]});default:return this.errorToken(this.lookaheadToken(0))}}match(e){if(this.lookahead(0)===e){this.advance();return}else{const A=this.lookaheadToken(0);this.errorToken(A,`Expected ${e}, got: ${A.type}`)}}errorToken(e,A=""){const n=new Error(A||`Invalid token (${e.type}): "${e.value}"`);throw n.name="ParserError",n}parseIndexExpression(){if(this.lookahead(0)===ae.TOK_COLON||this.lookahead(1)===ae.TOK_COLON)return this.parseSliceExpression();const e={type:"Index",value:this.lookaheadToken(0).value};return this.advance(),this.match(ae.TOK_RBRACKET),e}projectIfSlice(e,A){const n={type:"IndexExpression",children:[e,A]};return A.type==="Slice"?{children:[n,this.parseProjectionRHS(on.Star)],type:"Projection"}:n}parseSliceExpression(){const e=[null,null,null];let A=0,n=this.lookahead(0);for(;n!==ae.TOK_RBRACKET&&A<3;){if(n===ae.TOK_COLON)A+=1,this.advance();else if(n===ae.TOK_NUMBER)e[A]=this.lookaheadToken(0).value,this.advance();else{const r=this.lookaheadToken(0);this.errorToken(r,`Syntax error, unexpected token: ${r.value}(${r.type})`)}n=this.lookahead(0)}return this.match(ae.TOK_RBRACKET),{children:e,type:"Slice"}}parseComparator(e,A){const n=this.expression(on[A]);return{type:"Comparator",name:A,children:[e,n]}}parseDotRHS(e){const A=this.lookahead(0);if([ae.TOK_UNQUOTEDIDENTIFIER,ae.TOK_QUOTEDIDENTIFIER,ae.TOK_STAR].includes(A))return this.expression(e);if(A===ae.TOK_LBRACKET)return this.match(ae.TOK_LBRACKET),this.parseMultiselectList();if(A===ae.TOK_LBRACE)return this.match(ae.TOK_LBRACE),this.parseMultiselectHash();const r=this.lookaheadToken(0);this.errorToken(r,`Syntax error, unexpected token: ${r.value}(${r.type})`)}parseProjectionRHS(e){if(on[this.lookahead(0)]<10)return{type:"Identity"};if(this.lookahead(0)===ae.TOK_LBRACKET)return this.expression(e);if(this.lookahead(0)===ae.TOK_FILTER)return this.expression(e);if(this.lookahead(0)===ae.TOK_DOT)return this.match(ae.TOK_DOT),this.parseDotRHS(e);const A=this.lookaheadToken(0);this.errorToken(A,`Syntax error, unexpected token: ${A.value}(${A.type})`)}parseMultiselectList(){const e=[];for(;this.lookahead(0)!==ae.TOK_RBRACKET;){const A=this.expression(0);if(e.push(A),this.lookahead(0)===ae.TOK_COMMA&&(this.match(ae.TOK_COMMA),this.lookahead(0)===ae.TOK_RBRACKET))throw new Error("Unexpected token Rbracket")}return this.match(ae.TOK_RBRACKET),{type:"MultiSelectList",children:e}}parseMultiselectHash(){const e=[],A=[ae.TOK_UNQUOTEDIDENTIFIER,ae.TOK_QUOTEDIDENTIFIER];let n,r,s;for(;;){if(n=this.lookaheadToken(0),!A.includes(n.type))throw new Error(`Expecting an identifier token, got: ${n.type}`);if(r=n.value,this.advance(),this.match(ae.TOK_COLON),s=this.expression(0),e.push({value:s,type:"KeyValuePair",name:r}),this.lookahead(0)===ae.TOK_COMMA)this.match(ae.TOK_COMMA);else if(this.lookahead(0)===ae.TOK_RBRACE){this.match(ae.TOK_RBRACE);break}}return{type:"MultiSelectHash",children:e}}}const qae=new Qae;var Me;(function(t){t[t.TYPE_NUMBER=0]="TYPE_NUMBER",t[t.TYPE_ANY=1]="TYPE_ANY",t[t.TYPE_STRING=2]="TYPE_STRING",t[t.TYPE_ARRAY=3]="TYPE_ARRAY",t[t.TYPE_OBJECT=4]="TYPE_OBJECT",t[t.TYPE_BOOLEAN=5]="TYPE_BOOLEAN",t[t.TYPE_EXPREF=6]="TYPE_EXPREF",t[t.TYPE_NULL=7]="TYPE_NULL",t[t.TYPE_ARRAY_NUMBER=8]="TYPE_ARRAY_NUMBER",t[t.TYPE_ARRAY_STRING=9]="TYPE_ARRAY_STRING"})(Me||(Me={}));class Kae{constructor(e){this.TYPE_NAME_TABLE={[Me.TYPE_NUMBER]:"number",[Me.TYPE_ANY]:"any",[Me.TYPE_STRING]:"string",[Me.TYPE_ARRAY]:"array",[Me.TYPE_OBJECT]:"object",[Me.TYPE_BOOLEAN]:"boolean",[Me.TYPE_EXPREF]:"expression",[Me.TYPE_NULL]:"null",[Me.TYPE_ARRAY_NUMBER]:"Array<number>",[Me.TYPE_ARRAY_STRING]:"Array<string>"},this.functionAbs=([A])=>Math.abs(A),this.functionAvg=([A])=>{let n=0;for(let r=0;r<A.length;r+=1)n+=A[r];return n/A.length},this.functionCeil=([A])=>Math.ceil(A),this.functionContains=A=>{const[n,r]=A;return n.includes(r)},this.functionEndsWith=A=>{const[n,r]=A;return n.includes(r,n.length-r.length)},this.functionFloor=([A])=>Math.floor(A),this.functionJoin=A=>{const[n,r]=A;return r.join(n)},this.functionKeys=([A])=>Object.keys(A),this.functionLength=([A])=>lc(A)?Object.keys(A).length:A.length,this.functionMap=A=>{if(!this._interpreter)return[];const n=[],r=this._interpreter,s=A[0],i=A[1];for(let o=0;o<i.length;o+=1)n.push(r.visit(s,i[o]));return n},this.functionMax=([A])=>{if(!A.length)return null;if(this.getTypeName(A[0])===Me.TYPE_NUMBER)return Math.max(...A);const r=A;let s=r[0];for(let i=1;i<r.length;i+=1)s.localeCompare(r[i])<0&&(s=r[i]);return s},this.functionMaxBy=A=>{const n=A[1],r=A[0],s=this.createKeyFunction(n,[Me.TYPE_NUMBER,Me.TYPE_STRING]);let i=-1/0,o,a;for(let c=0;c<r.length;c+=1)a=s&&s(r[c]),a!==void 0&&a>i&&(i=a,o=r[c]);return o},this.functionMerge=A=>{let n={};for(let r=0;r<A.length;r+=1){const s=A[r];n=Object.assign(n,s)}return n},this.functionMin=([A])=>{if(!A.length)return null;if(this.getTypeName(A[0])===Me.TYPE_NUMBER)return Math.min(...A);const r=A;let s=r[0];for(let i=1;i<r.length;i+=1)r[i].localeCompare(s)<0&&(s=r[i]);return s},this.functionMinBy=A=>{const n=A[1],r=A[0],s=this.createKeyFunction(n,[Me.TYPE_NUMBER,Me.TYPE_STRING]);let i=1/0,o,a;for(let c=0;c<r.length;c+=1)a=s&&s(r[c]),a!==void 0&&a<i&&(i=a,o=r[c]);return o},this.functionNotNull=A=>{for(let n=0;n<A.length;n+=1)if(this.getTypeName(A[n])!==Me.TYPE_NULL)return A[n];return null},this.functionReverse=([A])=>{if(this.getTypeName(A)===Me.TYPE_STRING){const s=A;let i="";for(let o=s.length-1;o>=0;o-=1)i+=s[o];return i}const r=A.slice(0);return r.reverse(),r},this.functionSort=([A])=>[...A].sort(),this.functionSortBy=A=>{if(!this._interpreter)return[];const n=A[0].slice(0);if(n.length===0)return n;const r=this._interpreter,s=A[1],i=this.getTypeName(r.visit(s,n[0]));if(i!==void 0&&![Me.TYPE_NUMBER,Me.TYPE_STRING].includes(i))throw new Error(`TypeError: unexpected type (${this.TYPE_NAME_TABLE[i]})`);const o=[];for(let a=0;a<n.length;a+=1)o.push([a,n[a]]);o.sort((a,c)=>{const l=r.visit(s,a[1]),u=r.visit(s,c[1]);if(this.getTypeName(l)!==i)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[i]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(l)]}`);if(this.getTypeName(u)!==i)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[i]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(u)]}`);return l>u?1:l<u?-1:a[0]-c[0]});for(let a=0;a<o.length;a+=1)n[a]=o[a][1];return n},this.functionStartsWith=([A,n])=>A.startsWith(n),this.functionSum=([A])=>A.reduce((n,r)=>n+r,0),this.functionToArray=([A])=>this.getTypeName(A)===Me.TYPE_ARRAY?A:[A],this.functionToNumber=([A])=>{const n=this.getTypeName(A);let r;return n===Me.TYPE_NUMBER?A:n===Me.TYPE_STRING&&(r=+A,!isNaN(r))?r:null},this.functionToString=([A])=>this.getTypeName(A)===Me.TYPE_STRING?A:JSON.stringify(A),this.functionType=([A])=>{switch(this.getTypeName(A)){case Me.TYPE_NUMBER:return"number";case Me.TYPE_STRING:return"string";case Me.TYPE_ARRAY:return"array";case Me.TYPE_OBJECT:return"object";case Me.TYPE_BOOLEAN:return"boolean";case Me.TYPE_EXPREF:return"expref";case Me.TYPE_NULL:return"null";default:return}},this.functionValues=([A])=>Object.values(A),this.functionTable={abs:{_func:this.functionAbs,_signature:[{types:[Me.TYPE_NUMBER]}]},avg:{_func:this.functionAvg,_signature:[{types:[Me.TYPE_ARRAY_NUMBER]}]},ceil:{_func:this.functionCeil,_signature:[{types:[Me.TYPE_NUMBER]}]},contains:{_func:this.functionContains,_signature:[{types:[Me.TYPE_STRING,Me.TYPE_ARRAY]},{types:[Me.TYPE_ANY]}]},ends_with:{_func:this.functionEndsWith,_signature:[{types:[Me.TYPE_STRING]},{types:[Me.TYPE_STRING]}]},floor:{_func:this.functionFloor,_signature:[{types:[Me.TYPE_NUMBER]}]},join:{_func:this.functionJoin,_signature:[{types:[Me.TYPE_STRING]},{types:[Me.TYPE_ARRAY_STRING]}]},keys:{_func:this.functionKeys,_signature:[{types:[Me.TYPE_OBJECT]}]},length:{_func:this.functionLength,_signature:[{types:[Me.TYPE_STRING,Me.TYPE_ARRAY,Me.TYPE_OBJECT]}]},map:{_func:this.functionMap,_signature:[{types:[Me.TYPE_EXPREF]},{types:[Me.TYPE_ARRAY]}]},max:{_func:this.functionMax,_signature:[{types:[Me.TYPE_ARRAY_NUMBER,Me.TYPE_ARRAY_STRING]}]},max_by:{_func:this.functionMaxBy,_signature:[{types:[Me.TYPE_ARRAY]},{types:[Me.TYPE_EXPREF]}]},merge:{_func:this.functionMerge,_signature:[{types:[Me.TYPE_OBJECT],variadic:!0}]},min:{_func:this.functionMin,_signature:[{types:[Me.TYPE_ARRAY_NUMBER,Me.TYPE_ARRAY_STRING]}]},min_by:{_func:this.functionMinBy,_signature:[{types:[Me.TYPE_ARRAY]},{types:[Me.TYPE_EXPREF]}]},not_null:{_func:this.functionNotNull,_signature:[{types:[Me.TYPE_ANY],variadic:!0}]},reverse:{_func:this.functionReverse,_signature:[{types:[Me.TYPE_STRING,Me.TYPE_ARRAY]}]},sort:{_func:this.functionSort,_signature:[{types:[Me.TYPE_ARRAY_STRING,Me.TYPE_ARRAY_NUMBER]}]},sort_by:{_func:this.functionSortBy,_signature:[{types:[Me.TYPE_ARRAY]},{types:[Me.TYPE_EXPREF]}]},starts_with:{_func:this.functionStartsWith,_signature:[{types:[Me.TYPE_STRING]},{types:[Me.TYPE_STRING]}]},sum:{_func:this.functionSum,_signature:[{types:[Me.TYPE_ARRAY_NUMBER]}]},to_array:{_func:this.functionToArray,_signature:[{types:[Me.TYPE_ANY]}]},to_number:{_func:this.functionToNumber,_signature:[{types:[Me.TYPE_ANY]}]},to_string:{_func:this.functionToString,_signature:[{types:[Me.TYPE_ANY]}]},type:{_func:this.functionType,_signature:[{types:[Me.TYPE_ANY]}]},values:{_func:this.functionValues,_signature:[{types:[Me.TYPE_OBJECT]}]}},this._interpreter=e}registerFunction(e,A,n){if(e in this.functionTable)throw new Error(`Function already defined: ${e}()`);this.functionTable[e]={_func:A.bind(this),_signature:n}}callFunction(e,A){const n=this.functionTable[e];if(n===void 0)throw new Error(`Unknown function: ${e}()`);return this.validateArgs(e,A,n._signature),n._func.call(this,A)}validateInputSignatures(e,A){for(let n=0;n<A.length;n+=1)if("variadic"in A[n]&&n!==A.length-1)throw new Error(`ArgumentError: ${e}() 'variadic' argument ${n+1} must occur last`)}validateArgs(e,A,n){var r,s;let i;this.validateInputSignatures(e,n);const o=n.filter(m=>{var p;return(p=!m.optional)!==null&&p!==void 0?p:!1}).length,a=(s=(r=n[n.length-1])===null||r===void 0?void 0:r.variadic)!==null&&s!==void 0?s:!1,c=A.length<o,l=A.length>n.length,u=c&&(!a&&o>1||a)?"at least ":"";if(a&&c||!a&&(c||l))throw i=n.length>1,new Error(`ArgumentError: ${e}() takes ${u}${o} argument${i&&"s"||""} but received ${A.length}`);let h,f,d;for(let m=0;m<n.length;m+=1){d=!1,h=n[m].types,f=this.getTypeName(A[m]);let p;for(p=0;p<h.length;p+=1)if(f!==void 0&&this.typeMatches(f,h[p],A[m])){d=!0;break}if(!d&&f!==void 0){const g=h.map(w=>this.TYPE_NAME_TABLE[w]).join(" | ");throw new Error(`TypeError: ${e}() expected argument ${m+1} to be type (${g}) but received type ${this.TYPE_NAME_TABLE[f]} instead.`)}}}typeMatches(e,A,n){if(A===Me.TYPE_ANY)return!0;if(A===Me.TYPE_ARRAY_STRING||A===Me.TYPE_ARRAY_NUMBER||A===Me.TYPE_ARRAY){if(A===Me.TYPE_ARRAY)return e===Me.TYPE_ARRAY;if(e===Me.TYPE_ARRAY){let r;A===Me.TYPE_ARRAY_NUMBER?r=Me.TYPE_NUMBER:A===Me.TYPE_ARRAY_STRING&&(r=Me.TYPE_STRING);for(let s=0;s<n.length;s+=1){const i=this.getTypeName(n[s]);if(i!==void 0&&r!==void 0&&!this.typeMatches(i,r,n[s]))return!1}return!0}}else return e===A;return!1}getTypeName(e){switch(Object.prototype.toString.call(e)){case"[object String]":return Me.TYPE_STRING;case"[object Number]":return Me.TYPE_NUMBER;case"[object Array]":return Me.TYPE_ARRAY;case"[object Boolean]":return Me.TYPE_BOOLEAN;case"[object Null]":return Me.TYPE_NULL;case"[object Object]":return e.jmespathType===ae.TOK_EXPREF?Me.TYPE_EXPREF:Me.TYPE_OBJECT;default:return}}createKeyFunction(e,A){if(!this._interpreter)return;const n=this._interpreter;return s=>{const i=n.visit(e,s);if(!A.includes(this.getTypeName(i))){const o=`TypeError: expected one of (${A.map(a=>this.TYPE_NAME_TABLE[a]).join(" | ")}), received ${this.TYPE_NAME_TABLE[this.getTypeName(i)]}`;throw new Error(o)}return i}}}class Jae{constructor(){this._rootValue=null,this.runtime=new Kae(this)}search(e,A){return this._rootValue=A,this.visit(e,A)}visit(e,A){let n,r,s,i,o,a,c,l,u,h,f;switch(e.type){case"Field":return A===null?null:lc(A)?(a=A[e.name],a===void 0?null:a):null;case"Subexpression":for(s=this.visit(e.children[0],A),h=1;h<e.children.length;h+=1)if(s=this.visit(e.children[1],s),s===null)return null;return s;case"IndexExpression":return c=this.visit(e.children[0],A),l=this.visit(e.children[1],c),l;case"Index":if(!Array.isArray(A))return null;let d=e.value;return d<0&&(d=A.length+d),s=A[d],s===void 0&&(s=null),s;case"Slice":if(!Array.isArray(A))return null;const m=[...e.children],p=this.computeSliceParams(A.length,m),[g,w,x]=p;if(s=[],x>0)for(h=g;h<w;h+=x)s.push(A[h]);else for(h=g;h>w;h+=x)s.push(A[h]);return s;case"Projection":if(f=this.visit(e.children[0],A),!Array.isArray(f))return null;for(u=[],h=0;h<f.length;h+=1)r=this.visit(e.children[1],f[h]),r!==null&&u.push(r);return u;case"ValueProjection":if(f=this.visit(e.children[0],A),!lc(f))return null;u=[];const v=Object.values(f);for(h=0;h<v.length;h+=1)r=this.visit(e.children[1],v[h]),r!==null&&u.push(r);return u;case"FilterProjection":if(f=this.visit(e.children[0],A),!Array.isArray(f))return null;const b=[],T=[];for(h=0;h<f.length;h+=1)n=this.visit(e.children[2],f[h]),Jd(n)||b.push(f[h]);for(let k=0;k<b.length;k+=1)r=this.visit(e.children[1],b[k]),r!==null&&T.push(r);return T;case"Comparator":switch(i=this.visit(e.children[0],A),o=this.visit(e.children[1],A),e.name){case ae.TOK_EQ:s=Kd(i,o);break;case ae.TOK_NE:s=!Kd(i,o);break;case ae.TOK_GT:s=i>o;break;case ae.TOK_GTE:s=i>=o;break;case ae.TOK_LT:s=i<o;break;case ae.TOK_LTE:s=i<=o;break;default:throw new Error(`Unknown comparator: ${e.name}`)}return s;case ae.TOK_FLATTEN:const M=this.visit(e.children[0],A);if(!Array.isArray(M))return null;let B=[];for(h=0;h<M.length;h+=1)r=M[h],Array.isArray(r)?B=[...B,...r]:B.push(r);return B;case"Identity":return A;case"MultiSelectList":if(A===null)return null;for(u=[],h=0;h<e.children.length;h+=1)u.push(this.visit(e.children[h],A));return u;case"MultiSelectHash":if(A===null)return null;u={};let Z;for(h=0;h<e.children.length;h+=1)Z=e.children[h],u[Z.name]=this.visit(Z.value,A);return u;case"OrExpression":return n=this.visit(e.children[0],A),Jd(n)&&(n=this.visit(e.children[1],A)),n;case"AndExpression":return i=this.visit(e.children[0],A),Jd(i)?i:this.visit(e.children[1],A);case"NotExpression":return i=this.visit(e.children[0],A),Jd(i);case"Literal":return e.value;case ae.TOK_PIPE:return c=this.visit(e.children[0],A),this.visit(e.children[1],c);case ae.TOK_CURRENT:return A;case ae.TOK_ROOT:return this._rootValue;case"Function":const S=[];for(let k=0;k<e.children.length;k+=1)S.push(this.visit(e.children[k],A));return this.runtime.callFunction(e.name,S);case"ExpressionReference":const C=e.children[0];return C.jmespathType=ae.TOK_EXPREF,C;default:throw new Error(`Unknown node type: ${e.type}`)}}computeSliceParams(e,A){let[n,r,s]=A;if(s===null)s=1;else if(s===0){const o=new Error("Invalid slice, step cannot be 0");throw o.name="RuntimeError",o}const i=s<0;return n=n===null?i?e-1:0:this.capSliceRange(e,n,s),r=r===null?i?-1:e:this.capSliceRange(e,r,s),[n,r,s]}capSliceRange(e,A,n){let r=A;return r<0?(r+=e,r<0&&(r=n<0?-1:0)):r>=e&&(r=n<0?e-1:e),r}}const Xae=new Jae;Me.TYPE_ANY,Me.TYPE_ARRAY,Me.TYPE_ARRAY_NUMBER,Me.TYPE_ARRAY_STRING,Me.TYPE_BOOLEAN,Me.TYPE_EXPREF,Me.TYPE_NULL,Me.TYPE_NUMBER,Me.TYPE_OBJECT,Me.TYPE_STRING;function ece(t,e){const A=qae.parse(e);return Xae.search(A,t)}const tce=(t,e)=>{const A=nc(t.id());if(!G(A))return 0;const[n,r]=ce(e,0,[q.NAME,q.NAME]),s=ece(A.json,n);return t.set(r,s),0},Ace=(t,e)=>{const A=nc(t.id());if(!G(A))return 0;const[n,r]=ce(e,0,[q.NAME]);switch(je(n)){case"seek":{const[i]=ce(e,r,[q.NUMBER]);A.cursor=Yr(i,0,A.lines.length-1);break}case"line":A.cursor=Yr(A.cursor+1,0,A.lines.length-1);break;default:{const i=A.lines[A.cursor]??"",a=new RegExp(n,"i").exec(i)??[];let c=1;for(let l=r;l<e.length;){const[u,h]=ce(e,l,[q.NAME]);t.set(u,a[c]??0),++c,l=h}break}}return 0},nce=Gi({get(t,e){const A=NJ(t.id());if(e==="format")return[!0,A];switch(A){case"text":{const n=nc(t.id());switch(e){case"filename":return[!0,n.filename];case"cursor":return[!0,n.cursor];case"lines":return[!0,n.lines.length]}break}case"json":{const n=nc(t.id());if(e==="filename")return[!0,n.filename];break}case"binary":{const n=nc(t.id());switch(e){case"filename":return[!0,n.filename];case"cursor":return[!0,n.cursor];case"bytes":return[!0,n.bytes.length]}break}}return[!1,void 0]}}).command("endgame",()=>0).command("shortsend",(t,e)=>{const A=ac(e);return hc(t,_.element,A),0}).command("send",(t,e)=>{const A=ac(e,!0);return hc(t,_.element,A),0}).command("stat",()=>0).command("text",(t,e)=>{const A=e.map(Ct).join(" ");return Rm(te,"","$GREEN",A),0}).command("hyperlink",(t,e)=>{const[A,...n]=e,r=t.template(Ct(A).split(" "));return Rm(te,"",`!${t.template(n)};${r}`),0}).command("readline",Ace).command("readjson",tce).command("readbin",Hae).command("withboard",(t,e)=>{const[A]=ce(e,0,[q.STRING]),n=lt(A);return G(n)&&(_.board=n,_.element={x:ln(0,Re-1),y:ln(0,rt-1)}),0}).command("withobject",(t,e)=>{const[A]=ce(e,0,[q.STRING]),n=hA(_.board,A);return G(n)&&(_.element=n,_.elementid=n.id??"",_.elementisplayer=Wt(_.elementid),_.elementfocus=_.elementisplayer?_.elementid:_.element?.player??gA()),0}).command("userinput",(t,e)=>{const[A]=ce(e,0,[q.NAME]),n=gA();switch(je(A)){case"up":Kr(te,n,$t.MOVE_UP,!1);break;case"down":Kr(te,n,$t.MOVE_DOWN,!1);break;case"left":Kr(te,n,$t.MOVE_RIGHT,!1);break;case"right":Kr(te,n,$t.MOVE_RIGHT,!1);break;case"shootup":Kr(te,n,$t.MOVE_UP,!0);break;case"shootdown":Kr(te,n,$t.MOVE_DOWN,!0);break;case"shootleft":Kr(te,n,$t.MOVE_RIGHT,!0);break;case"shootright":Kr(te,n,$t.MOVE_RIGHT,!0);break;case"ok":Kr(te,n,$t.OK_BUTTON,!1);break;case"cancel":Kr(te,n,$t.CANCEL_BUTTON,!1);break}return 0});function n4(t,e,A,n,r,s){const i=[];for(let o=s;o<r.length;){const[a,c]=ce(r,o,[q.ANY]);st(a)&&!Fn(a)&&!Au(a)&&!Nd(a)&&!NA(a)?i.push(...a):i.push(a),o=c}switch(je(n)){case"get":case"post:json":MZ(te,_.elementfocus,t,e,A,n,i);break}return 0}const rce=Gi().command("fetch",(t,e)=>{const[A,n,r="get",s]=ce(e,0,[q.NAME,q.NAME,q.MAYBE_STRING]);return n4(void 0,A,n,r,e,s),0}).command("fetchwith",(t,e)=>{const[A,n,r,s="get",i]=ce(e,0,[q.ANY,q.NAME,q.NAME,q.MAYBE_STRING]);return n4(A,n,r,s,e,i),0}),sce=Gi({set(t,e,A){return Lce(t,e,A),[!1,void 0]},aftertick(t){const e=Lt(_.elementid),[A]=e;if(e.length===1&&xe(A)){if(G(_.element))if(A.trim().length===0){const n=Gt(_.elementid);n.sidebar=[]}else _.element.tickertext=A,_.element.tickertime=_.timestamp,P_(_.board?.id,_.element,A)}else if(e.length>1)if(_.elementisplayer){const n=Gt(_.elementid);n.sidebar=B4(e)}else{const n=_.elementfocus;t.scrolllock(n);const r=Gt(n);r.scrollname=_.element?.name??_.element?.kinddata?.name??"",r.scroll=B4(e)}}}).command("endgame",t=>(t.set("health",0),0)).command("shortsend",(t,e)=>{const A=ac(e);return hc(t,_.element,A),0}).command("send",(t,e)=>{const A=ac(e,!0);return hc(t,_.element,A),0}).command("stat",()=>0).command("text",(t,e)=>{const A=e.map(Ct).join("");return we(_.elementid,A),0}).command("hyperlink",(t,e)=>{const[A,...n]=e,r=t.template(Ct(A).split(" ")),s=t.template(n);return Te(_.elementid,t.id(),r,s.split(" "),t.get,t.set),0}).command("help",()=>(Kx(te,_.elementfocus),0));function ice(t,e,A,n,r){if(!G(_.book))return;const s=lt(t);if(!G(s))return;const i=L_(),o=r==="all"||r==="object",a=r==="all"||r==="terrain";tA(s),tA(i);const c=-Math.tan(e*.5),l=Math.sin(e),u=Math.round(12.5*c),h=Math.round(12.5*l),f=new Array(rt).fill(0);TD(u,0,-u,rt-1).forEach(w=>{w.x<0?f[w.y]=Math.min(f[w.y],w.x):f[w.y]=Math.max(f[w.y],w.x)});const m=new Array(Re).fill(0);TD(0,h,Re-1,-h).forEach(w=>{w.y<0?m[w.x]=Math.min(m[w.x],w.y):m[w.x]=Math.max(m[w.x],w.y)});const g=[f,m,f];for(let w=0;w<g.length;++w){const x=g[w];if(w!==1){for(let v=0;v<rt;++v){const b=x[v],T=v*Re;for(let M=0;M<Re;M++){const B=(M+b+Re)%Re;a&&(i.terrain[B+T]=s.terrain[M+T])}}if(o){const v=Object.keys(s.objects);for(let b=0;b<v.length;++b){const T=v[b],{x:M,y:B}=s.objects[T];if(G(M)&&G(B)){const Z=x[B];s.objects[T].x=(M+Z+Re)%Re,s.objects[T].lx=s.objects[T].x}}}}if(w===1){for(let v=0;v<Re;++v){const b=x[v];for(let T=0;T<rt;++T){const M=(T+b+rt)%rt;a&&(i.terrain[v+M*Re]=s.terrain[v+T*Re])}}if(o){const v=Object.keys(s.objects);for(let b=0;b<v.length;++b){const T=v[b],{x:M,y:B}=s.objects[T];if(G(M)&&G(B)){const Z=x[M];s.objects[T].y=(B+Z+rt)%rt,s.objects[T].ly=s.objects[T].y}}}}a&&(s.terrain=[...i.terrain]),tA(i),tA(s)}}var E_,r4;function oce(){if(r4)return E_;r4=1;function t(e,A){let n=0,r=0,s=0;for(;s<e.length;s++)n+=e[s];for(s=0,A*=n;A&&s<e.length;){if(r+=e[s],A<=r)return s;s++}return 0}return E_=t,E_}var N_,s4;function i4(){if(s4)return N_;s4=1;const t=oce(),e=function(){};return e.prototype.FMX=0,e.prototype.FMY=0,e.prototype.FMXxFMY=0,e.prototype.T=0,e.prototype.N=0,e.prototype.initiliazedField=!1,e.prototype.generationComplete=!1,e.prototype.wave=null,e.prototype.compatible=null,e.prototype.weightLogWeights=null,e.prototype.sumOfWeights=0,e.prototype.sumOfWeightLogWeights=0,e.prototype.startingEntropy=0,e.prototype.sumsOfOnes=null,e.prototype.sumsOfWeights=null,e.prototype.sumsOfWeightLogWeights=null,e.prototype.entropies=null,e.prototype.propagator=null,e.prototype.observed=null,e.prototype.distribution=null,e.prototype.stack=null,e.prototype.stackSize=0,e.prototype.DX=[-1,0,1,0],e.prototype.DY=[0,1,0,-1],e.prototype.opposite=[2,3,0,1],e.prototype.initialize=function(){this.distribution=new Array(this.T),this.wave=new Array(this.FMXxFMY),this.compatible=new Array(this.FMXxFMY);for(let A=0;A<this.FMXxFMY;A++){this.wave[A]=new Array(this.T),this.compatible[A]=new Array(this.T);for(let n=0;n<this.T;n++)this.compatible[A][n]=[0,0,0,0]}this.weightLogWeights=new Array(this.T),this.sumOfWeights=0,this.sumOfWeightLogWeights=0;for(let A=0;A<this.T;A++)this.weightLogWeights[A]=this.weights[A]*Math.log(this.weights[A]),this.sumOfWeights+=this.weights[A],this.sumOfWeightLogWeights+=this.weightLogWeights[A];this.startingEntropy=Math.log(this.sumOfWeights)-this.sumOfWeightLogWeights/this.sumOfWeights,this.sumsOfOnes=new Array(this.FMXxFMY),this.sumsOfWeights=new Array(this.FMXxFMY),this.sumsOfWeightLogWeights=new Array(this.FMXxFMY),this.entropies=new Array(this.FMXxFMY),this.stack=new Array(this.FMXxFMY*this.T),this.stackSize=0},e.prototype.observe=function(A){let n=1e3,r=-1;for(let o=0;o<this.FMXxFMY;o++){if(this.onBoundary(o%this.FMX,o/this.FMX|0))continue;const a=this.sumsOfOnes[o];if(a===0)return!1;const c=this.entropies[o];if(a>1&&c<=n){const l=1e-6*A();c+l<n&&(n=c+l,r=o)}}if(r===-1){this.observed=new Array(this.FMXxFMY);for(let o=0;o<this.FMXxFMY;o++)for(let a=0;a<this.T;a++)if(this.wave[o][a]){this.observed[o]=a;break}return!0}for(let o=0;o<this.T;o++)this.distribution[o]=this.wave[r][o]?this.weights[o]:0;const s=t(this.distribution,A()),i=this.wave[r];for(let o=0;o<this.T;o++)i[o]!==(o===s)&&this.ban(r,o);return null},e.prototype.propagate=function(){for(;this.stackSize>0;){const A=this.stack[this.stackSize-1];this.stackSize--;const n=A[0],r=n%this.FMX,s=n/this.FMX|0;for(let i=0;i<4;i++){const o=this.DX[i],a=this.DY[i];let c=r+o,l=s+a;if(this.onBoundary(c,l))continue;c<0?c+=this.FMX:c>=this.FMX&&(c-=this.FMX),l<0?l+=this.FMY:l>=this.FMY&&(l-=this.FMY);const u=c+l*this.FMX,h=this.propagator[i][A[1]],f=this.compatible[u];for(let d=0;d<h.length;d++){const m=h[d],p=f[m];p[i]--,p[i]==0&&this.ban(u,m)}}}},e.prototype.singleIteration=function(A){const n=this.observe(A);return n!==null?(this.generationComplete=n,!!n):(this.propagate(),null)},e.prototype.iterate=function(A,n){this.wave||this.initialize(),this.initiliazedField||this.clear(),A=A||0,n=n||Math.random;for(let r=0;r<A||A===0;r++){const s=this.singleIteration(n);if(s!==null)return!!s}return!0},e.prototype.generate=function(A){for(A=A||Math.random,this.wave||this.initialize(),this.clear();;){const n=this.singleIteration(A);if(n!==null)return!!n}},e.prototype.isGenerationComplete=function(){return this.generationComplete},e.prototype.ban=function(A,n){const r=this.compatible[A][n];for(let i=0;i<4;i++)r[i]=0;this.wave[A][n]=!1,this.stack[this.stackSize]=[A,n],this.stackSize++,this.sumsOfOnes[A]-=1,this.sumsOfWeights[A]-=this.weights[n],this.sumsOfWeightLogWeights[A]-=this.weightLogWeights[n];const s=this.sumsOfWeights[A];this.entropies[A]=Math.log(s)-this.sumsOfWeightLogWeights[A]/s},e.prototype.clear=function(){for(let A=0;A<this.FMXxFMY;A++){for(let n=0;n<this.T;n++){this.wave[A][n]=!0;for(let r=0;r<4;r++)this.compatible[A][n][r]=this.propagator[this.opposite[r]][n].length}this.sumsOfOnes[A]=this.weights.length,this.sumsOfWeights[A]=this.sumOfWeights,this.sumsOfWeightLogWeights[A]=this.sumOfWeightLogWeights,this.entropies[A]=this.startingEntropy}this.initiliazedField=!0,this.generationComplete=!1},N_=e,N_}var T_,o4;function ace(){if(o4)return T_;o4=1;const t=i4(),e=function(n,r,s,i,o,a,c,l,u,h){h=h||0,this.N=i,this.FMX=o,this.FMY=a,this.FMXxFMY=o*a,this.periodic=l;const f=r,d=new Array(f);for(let C=0;C<f;C++)d[C]=new Array(s);this.colors=[];const m={};for(let C=0;C<s;C++)for(let k=0;k<r;k++){const N=(C*r+k)*4,y=[n[N],n[N+1],n[N+2],n[N+3]],I=y.join("-");m.hasOwnProperty(I)||(m[I]=this.colors.length,this.colors.push(y)),d[k][C]=m[I]}const p=this.colors.length,g=Math.pow(p,i*i),w=function(k){let N=new Array(i*i);for(let y=0;y<i;y++)for(let I=0;I<i;I++)N[I+y*i]=k(I,y);return N},x=function(k,N){return w(function(y,I){return d[(k+y)%r][(N+I)%s]})},v=function(k){return w(function(N,y){return k[i-1-y+N*i]})},b=function(k){return w(function(N,y){return k[i-1-N+y*i]})},T=function(k){let N=0,y=1;for(let I=0;I<k.length;I++)N+=k[k.length-1-I]*y,y*=p;return N},M=function(k){let N=k,y=g;const I=new Array(i*i);for(let U=0;U<I.length;U++){y/=p;let j=0;for(;N>=y;)N-=y,j++;I[U]=j}return I},B={},Z=[];for(let C=0;C<(c?s:s-i+1);C++)for(let k=0;k<(c?r:r-i+1);k++){const N=new Array(8);N[0]=x(k,C),N[1]=b(N[0]),N[2]=v(N[0]),N[3]=b(N[2]),N[4]=v(N[2]),N[5]=b(N[4]),N[6]=v(N[4]),N[7]=b(N[6]);for(let y=0;y<u;y++){const I=T(N[y]);B[I]?B[I]++:(Z.push(I),B[I]=1)}}this.T=Z.length,this.ground=(h+this.T)%this.T,this.patterns=new Array(this.T),this.weights=new Array(this.T);for(let C=0;C<this.T;C++){const k=parseInt(Z[C],10);this.patterns[C]=M(k),this.weights[C]=B[k]}const S=function(k,N,y,I){const U=y<0?0:y,j=y<0?y+i:i,F=I<0?0:I,V=I<0?I+i:i;for(let W=F;W<V;W++)for(let O=U;O<j;O++)if(k[O+i*W]!=N[O-y+i*(W-I)])return!1;return!0};this.propagator=new Array(4);for(let C=0;C<4;C++){this.propagator[C]=new Array(this.T);for(let k=0;k<this.T;k++){const N=[];for(let y=0;y<this.T;y++)S(this.patterns[k],this.patterns[y],this.DX[C],this.DY[C])&&N.push(y);this.propagator[C][k]=N}}};return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.onBoundary=function(A,n){return!this.periodic&&(A+this.N>this.FMX||n+this.N>this.FMY||A<0||n<0)},e.prototype.clear=function(){if(t.prototype.clear.call(this),this.ground!==0){for(let A=0;A<this.FMX;A++){for(let n=0;n<this.T;n++)n!==this.ground&&this.ban(A+(this.FMY-1)*this.FMX,n);for(let n=0;n<this.FMY-1;n++)this.ban(A+n*this.FMX,this.ground)}this.propagate()}},e.prototype.graphics=function(A){return A=A||new Uint8Array(this.FMXxFMY*4),this.isGenerationComplete()?this.graphicsComplete(A):this.graphicsIncomplete(A),A},e.prototype.graphicsComplete=function(A){for(let n=0;n<this.FMY;n++){const r=n<this.FMY-this.N+1?0:this.N-1;for(let s=0;s<this.FMX;s++){const i=s<this.FMX-this.N+1?0:this.N-1,o=(n*this.FMX+s)*4,a=this.colors[this.patterns[this.observed[s-i+(n-r)*this.FMX]][i+r*this.N]];A[o]=a[0],A[o+1]=a[1],A[o+2]=a[2],A[o+3]=a[3]}}},e.prototype.graphicsIncomplete=function(A){for(let n=0;n<this.FMXxFMY;n++){const r=n%this.FMX,s=n/this.FMX|0;let i=0,o=0,a=0,c=0,l=0;for(let h=0;h<this.N;h++)for(let f=0;f<this.N;f++){let d=r-f;d<0&&(d+=this.FMX);let m=s-h;if(m<0&&(m+=this.FMY),this.onBoundary(d,m))continue;const p=d+m*this.FMX;for(let g=0;g<this.T;g++)if(this.wave[p][g]){i++;const w=this.colors[this.patterns[g][f+h*this.N]];o+=w[0],a+=w[1],c+=w[2],l+=w[3]}}const u=n*4;A[u]=o/i,A[u+1]=a/i,A[u+2]=c/i,A[u+3]=l/i}},T_=e,T_}var Y_,a4;function cce(){if(a4)return Y_;a4=1;const t=i4(),e=function(n,r,s,i,o){const a=n.tilesize||16;this.FMX=s,this.FMY=i,this.FMXxFMY=s*i,this.periodic=o,this.tilesize=a;const c=!!n.unique;let l=null;r&&n.subsets&&n.subsets[r]&&(l=n.subsets[r]);const u=function(T){const M=new Array(a*a);for(let B=0;B<a;B++)for(let Z=0;Z<a;Z++)M[Z+B*a]=T(Z,B);return M},h=function(T){return u(function(M,B){return T[a-1-B+M*a]})},f=function(T){return u(function(M,B){return T[a-1-M+B*a]})};this.tiles=[];const d=[],m=[],p={};let g,w,x;for(let b=0;b<n.tiles.length;b++){const T=n.tiles[b];if(l!==null&&l.indexOf(T.name)===-1)continue;switch(T.symmetry){case"L":x=4,g=function(B){return(B+1)%4},w=function(B){return B%2===0?B+1:B-1};break;case"T":x=4,g=function(B){return(B+1)%4},w=function(B){return B%2===0?B:4-B};break;case"I":x=2,g=function(B){return 1-B},w=function(B){return B};break;case"\\":x=2,g=function(B){return 1-B},w=function(B){return 1-B};break;case"F":x=8,g=function(B){return B<4?(B+1)%4:4+(B-1)%4},w=function(B){return B<4?B+4:B-4};break;default:x=1,g=function(B){return B},w=function(B){return B};break}this.T=m.length,p[T.name]=this.T;for(let B=0;B<x;B++)m.push([this.T+B,this.T+g(B),this.T+g(g(B)),this.T+g(g(g(B))),this.T+w(B),this.T+w(g(B)),this.T+w(g(g(B))),this.T+w(g(g(g(B))))]);let M;if(c)for(let B=0;B<x;B++)M=T.bitmap[B],this.tiles.push(u(function(Z,S){return[M[(a*S+Z)*4],M[(a*S+Z)*4+1],M[(a*S+Z)*4+2],M[(a*S+Z)*4+3]]}));else{M=T.bitmap,this.tiles.push(u(function(B,Z){return[M[(a*Z+B)*4],M[(a*Z+B)*4+1],M[(a*Z+B)*4+2],M[(a*Z+B)*4+3]]}));for(let B=1;B<x;B++)this.tiles.push(B<4?h(this.tiles[this.T+B-1]):f(this.tiles[this.T+B-4]))}for(let B=0;B<x;B++)d.push(T.weight||1)}this.T=m.length,this.weights=d,this.propagator=new Array(4);const v=new Array(4);for(let b=0;b<4;b++){this.propagator[b]=new Array(this.T),v[b]=new Array(this.T);for(let T=0;T<this.T;T++){v[b][T]=new Array(this.T);for(let M=0;M<this.T;M++)v[b][T][M]=!1}}for(let b=0;b<n.neighbors.length;b++){const T=n.neighbors[b],M=T.left.split(" ").filter(function(N){return N.length}),B=T.right.split(" ").filter(function(N){return N.length});if(l!==null&&(l.indexOf(M[0])===-1||l.indexOf(B[0])===-1))continue;const Z=m[p[M[0]]][M.length==1?0:parseInt(M[1],10)],S=m[Z][1],C=m[p[B[0]]][B.length==1?0:parseInt(B[1],10)],k=m[C][1];v[0][C][Z]=!0,v[0][m[C][6]][m[Z][6]]=!0,v[0][m[Z][4]][m[C][4]]=!0,v[0][m[Z][2]][m[C][2]]=!0,v[1][k][S]=!0,v[1][m[S][6]][m[k][6]]=!0,v[1][m[k][4]][m[S][4]]=!0,v[1][m[S][2]][m[k][2]]=!0}for(let b=0;b<this.T;b++)for(let T=0;T<this.T;T++)v[2][b][T]=v[0][T][b],v[3][b][T]=v[1][T][b];for(let b=0;b<4;b++)for(let T=0;T<this.T;T++){const M=[],B=v[b][T];for(let Z=0;Z<this.T;Z++)B[Z]&&M.push(Z);this.propagator[b][T]=M}};return e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.prototype.onBoundary=function(A,n){return!this.periodic&&(A<0||n<0||A>=this.FMX||n>=this.FMY)},e.prototype.graphics=function(A,n){return A=A||new Uint8Array(this.FMXxFMY*this.tilesize*this.tilesize*4),this.isGenerationComplete()?this.graphicsComplete(A):this.graphicsIncomplete(A,n),A},e.prototype.graphicsComplete=function(A){for(let n=0;n<this.FMX;n++)for(let r=0;r<this.FMY;r++){const s=this.tiles[this.observed[n+r*this.FMX]];for(let i=0;i<this.tilesize;i++)for(let o=0;o<this.tilesize;o++){const a=(n*this.tilesize+o+(r*this.tilesize+i)*this.FMX*this.tilesize)*4,c=s[o+i*this.tilesize];A[a]=c[0],A[a+1]=c[1],A[a+2]=c[2],A[a+3]=c[3]}}},e.prototype.graphicsIncomplete=function(A,n){(!n||n.length!==4)&&(n=!1);for(let r=0;r<this.FMX;r++)for(let s=0;s<this.FMY;s++){const i=this.wave[r+s*this.FMX];let o=0,a=0;for(let l=0;l<this.T;l++)i[l]&&(o++,a+=this.weights[l]);const c=1/a;for(let l=0;l<this.tilesize;l++)for(let u=0;u<this.tilesize;u++){const h=(r*this.tilesize+u+(s*this.tilesize+l)*this.FMX*this.tilesize)*4;if(n&&o===this.T)A[h]=n[0],A[h+1]=n[1],A[h+2]=n[2],A[h+3]=n[3];else{let f=0,d=0,m=0,p=0;for(let g=0;g<this.T;g++)if(i[g]){const w=this.tiles[g][u+l*this.tilesize],x=this.weights[g]*c;f+=w[0]*x,d+=w[1]*x,m+=w[2]*x,p+=w[3]*x}A[h]=f,A[h+1]=d,A[h+2]=m,A[h+3]=p}}}},Y_=e,Y_}var O_,c4;function lce(){return c4||(c4=1,O_={OverlappingModel:ace(),SimpleTiledModel:cce()}),O_}var uce=lce(),hce=Hi(uce);function l4(t,e,A,n,r,s,i){if(!G(_.book))return!1;const o=_.book,a=lt(t);if(!G(a))return!1;const c=lt(e);if(!G(c))return!1;tA(a),tA(c);let l=0;const u=new Map,h=new Map;let f=0;const d=32,m=new Uint8Array(kg*4);for(let v=0;v<rt;++v)for(let b=0;b<Re;++b){const T=nt(c,{x:b,y:v}),M=T?.char??0,B=T?.color??d,Z=T?.bg??d;let S=0;const C=Wn(T),k=je(C?.name??"empty"),N=u.get(k);Ne(N)?S=N:(S=l,u.set(k,l),h.set(l,k),l++),m[f++]=M,m[f++]=B,m[f++]=Z,m[f++]=S}const p=s.x-r.x+1,g=s.y-r.y+1,w=new hce.OverlappingModel(m,Re,rt,A,p,g,!0,!1,n);if(!w.generate())return!1;f=0;const x=w.graphics();for(let v=r.y;v<=s.y;++v)for(let b=r.x;b<=s.x;++b){const T={x:b,y:v},M=x[f++],B=x[f++],Z=x[f++],S=x[f++];switch(i){case"all":{const y=nt(a,{x:b,y:v});vt(y)&&KA(a,y,o.timestamp),Kt(a,{x:b,y:v});break}case"object":{const y=nt(a,{x:b,y:v});vt(y)&&KA(a,y,o.timestamp);break}case"terrain":Kt(a,{x:b,y:v});break}let C=h.get(S)??"";const k=Wn({kind:C});switch(i){case"all":break;case"object":vt(k)||(C="");break;case"terrain":vt(k)&&(C="");break;default:if(We(k,"group")!==i&&(C=""),C){const y=nt(a,{x:b,y:v});vt(y)&&KA(a,y,o.timestamp),Kt(a,{x:b,y:v})}break}const N=C?Qn(a,[C],T):void 0;if(!(!G(N)||!G(k))&&(So(N,k),M>0&&(N.char=M),B<d&&(N.color=B),Z<d&&(N.bg=Z),vt(N))){const y=ar(rc(c,C));G(y)&&(Kt(a,{...Mr(c,y.x??0,y.y??0),x:b,y:v}),So(N,y))}}return!0}function u4(t){return`zss_snapshot_${t}`}const h4={x:0,y:0},f4={x:Re-1,y:rt-1},d4="all";function fce(t){const e=lt(t);if(!G(e))return;const A=QA(),n=u4(e.id);for(let s=0;s<A.length;++s)I8(A[s],n);const r=lt(n);if(G(r))return Yd(t,r.id,h4,f4,d4),r}function dce(t){const e=lt(t);if(!G(e))return;const A=u4(e.id),n=lt(A);if(G(n))return Yd(n.id,t,h4,f4,d4),n}function mce(t,e,A,n,r,s){switch(s){case"all":case"object":case"terrain":break;default:return pce(t,e,r,s)}if(!G(_.book))return;const i=lt(t);if(!G(i))return;const o=L_();tA(i);for(let a=A.y;a<=n.y;++a)for(let c=A.x;c<=n.x;++c){let l=!1,u=!1;switch(s){case"all":l=!0,u=!0;break;case"object":l=!0;break;case"terrain":u=!0;break}const h=(c+e.x+Re)%Re,f=(a+e.y+rt)%rt;if(l){const d=nt(i,{x:c,y:a});vt(d)&&G(d?.x)&&G(d?.y)&&(d.x=h,d.lx=h,d.y=f,d.ly=f)}u&&(o.terrain[h+f*Re]=i.terrain[c+a*Re])}(s==="all"||s==="terrain")&&(i.terrain=[...o.terrain]),tA(i)}function pce(t,e,A,n){if(!G(_.book))return;const r=_.book,s=lt(t);if(!G(s))return;tA(s);const{terrainelements:i,objectelements:o}=x4(s,A,n);if(i.length===0&&o.length===0)return;e.x<0&&(i.sort((f,d)=>{const m=f.x??0,p=d.x??0;return m-p}),o.sort((f,d)=>{const m=f.x??0,p=d.x??0;return m-p})),e.x>0&&(i.sort((f,d)=>{const m=f.x??0;return(d.x??0)-m}),o.sort((f,d)=>{const m=f.x??0;return(d.x??0)-m})),e.y<0&&(i.sort((f,d)=>{const m=f.y??0,p=d.y??0;return m-p}),o.sort((f,d)=>{const m=f.y??0,p=d.y??0;return m-p})),e.y>0&&(i.sort((f,d)=>{const m=f.y??0;return(d.y??0)-m}),o.sort((f,d)=>{const m=f.y??0;return(d.y??0)-m}));const a=o.map(f=>f.id??""),c=i.map(f=>vn({x:f.x??0,y:f.y??0},Re)),l=[],u=[];for(let f=0;f<i.length;++f){const d=i[f],m={x:d.x??-1,y:d.y??-1},p=nt(s,m);G(p)&&vt(p)&&(l.push(p.id??""),l.push(p.id??""),u.push(vn({x:p.x??0,y:p.y??0},Re)))}let h=!1;for(let f=0;f<i.length;++f){const d=i[f],m=We(d,"collision"),p={x:d.x??-1,y:d.y??-1},g=vn(p,Re),w={x:p.x+e.x,y:p.y+e.y};if(Ci(w)){const x=nt(s,w),v=x?.id??"",b=vn({x:x?.x??0,y:x?.y??0},Re),T=We(x,"collision");if(G(x)&&vt(x)&&l.includes(v)!==!0&&a.includes(v)!==!0){let M=!1;const B=u.includes(g),Z=B?nt(s,p):void 0,S=B?We(Z,"pushable"):!1,C=B&&S;if($w(d,x)&&(m!==Fe.ISWALK||B)){let k=B;G(Z)&&S&&(h=Xn(r,s,Z,{x:(Z.x??0)-e.x,y:(Z.y??0)-e.y})!==!0,h||(k=!1)),(k||m!==Fe.ISWALK)&&(h=Xn(r,s,x,{x:(x.x??0)+e.x,y:(x.y??0)+e.y})!==!0,h&&(M=C))}else(m!==Fe.ISWALK||C)&&(h=!0,M=C);M&&G(Z)&&(h=Xn(r,s,Z,{x:(Z.x??0)-e.x,y:(Z.y??0)-e.y})!==!0)}else T===Fe.ISSOLID&&c.includes(b)===!1&&(h=!0)}else h=!0}if(!h){for(let f=0;f<o.length;++f){const d=o[f],m=We(d,"collision"),p={x:d.x??0,y:d.y??0},g={x:p.x+e.x,y:p.y+e.y};if(Ci(g)){const w=nt(s,g),x=w?.id??"",v=We(w,"collision"),b=We(w,"group");G(w)&&vt(w)&&l.includes(x)&&a.includes(x)!==!0?$w(d,w)?h=Xn(r,s,w,g)!==!0:h=!0:Oo(m,v)&&n!==b&&(h=!0)}else h=!0}if(!h){for(let f=0;f<i.length;++f){const d=i[f],m={x:d.x??-1,y:d.y??-1},p={x:m.x+e.x,y:m.y+e.y},g=Mr(s,p.x,p.y);if(G(d)&&G(g)){Kt(s,{...d,x:p.x,y:p.y}),Kt(s,{...g,x:m.x,y:m.y});const w=nt(s,m);vt(w)&&G(w)&&(w.x=(w.x??0)+e.x,w.y=(w.y??0)+e.y,w.lx=(w.lx??0)+e.x,w.ly=(w.ly??0)+e.y)}}tA(s);for(let f=0;f<o.length;++f){const d=o[f],m={x:d.x??-1,y:d.y??-1},p={x:m.x+e.x,y:m.y+e.y};if(!Xn(r,s,d,p))break}tA(s)}}}function Xd(t,e){let A="all";const n={x:0,y:0},r={x:Re-1,y:rt-1};for(let s=e;s<t.length;){const[i,o]=ce(t,s,[q.MAYBE_NUMBER_OR_STRING]);if(xe(i))A=je(i),s=o;else if(Ne(i)){const[a,c,l,u]=ce(t,o,[q.NUMBER,q.MAYBE_NUMBER,q.MAYBE_NUMBER]);n.x=Math.min(i,c??i),n.y=Math.min(a,l??a),r.x=Math.max(i,c??i),r.y=Math.max(a,l??a),s=u}else break}return{targetset:A,pt1:n,pt2:r}}function m4(t,e){const A=QA();for(let n=0;n<A.length;++n){const r=A[n],s=ar(zw(r,t,e));if(G(s))return s}}const gce=Gi().command("snapshot",()=>(!G(_.book)||!G(_.board)||fce(_.board.id),0)).command("revert",()=>(!G(_.book)||!G(_.board)||dce(_.board.id),0)).command("copy",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.STRING]),r=m4(Oe.BOARD,A);if(G(r)){const s=Xd(e,n);Yd(r.id,_.board.id,s.pt1,s.pt2,s.targetset)}return 0}).command("remix",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n,r,s]=ce(e,0,[q.STRING,q.NUMBER,q.NUMBER]),i=m4(Oe.BOARD,A);if(G(i)){const o=Xd(e,s);l4(_.board.id,i.id,n,r,o.pt1,o.pt2,o.targetset)}return 0}).command("weave",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.DIR]),r={x:A.destpt.x-(_.element?.x??0),y:A.destpt.y-(_.element?.y??0)},s=Xd(e,n);return mce(_.board.id,r,s.pt1,s.pt2,_.elementid,s.targetset),0}).command("pivot",(t,e)=>{if(!G(_.book)||!G(_.board))return 0;const[A,n]=ce(e,0,[q.NUMBER]),r=Xd(e,n);return ice(_.board.id,zD(A),r.pt1,r.pt2,r.targetset),0});var Zi=(t=>(t[t.ERROR=0]="ERROR",t[t.CLI=1]="CLI",t[t.LOADER=2]="LOADER",t[t.RUNTIME=3]="RUNTIME",t))(Zi||{});const wce={audio:Td,board:KJ,cli:Cae,element:zae,runtime:sce,loader:nce,network:rce,transform:gce},S_=["audio","board","network","transform","element"],bce={0:[],1:["cli",...S_],2:["loader",...S_],3:["runtime",...S_]},_ce={0:new Map,1:new Map,2:new Map,3:new Map};function uc(t){return(bce[t]??[]).map(A=>wce[A]).filter(G)}function Z_(t){const e=[],A=uc(t);for(let n=0;n<A.length;++n)e.push(...A[n].listcommands());return e}function xce(t,e){const A=_ce[t];if(!A.has(e)){let n;const r=uc(t);for(let s=0;s<r.length&&(n=r[s].getcommand(e),!G(n));++s);A.set(e,n)}return A.get(e)}function Gce(t,e,A){const n=uc(t);for(let r=0;r<n.length;++r){const s=n[r];if(s.get!==void 0){const[i,o]=s.get(e,A);if(i)return[i,o]}}return[!1,void 0]}function Mce(t,e,A,n){const r=uc(t);for(let s=0;s<r.length;++s){const i=r[s];if(i.set!==void 0){const[o]=i.set(e,A,n);if(o)return[o,n]}}return[!1,void 0]}function yce(t,e){const A=uc(t);for(let n=0;n<A.length;++n)A[n].everytick(e)}function Dce(t,e){const A=uc(t);for(let n=0;n<A.length;++n)A[n].aftertick(e)}function C_(t){return st(t)?t.length>0?1:0:t??0}function vce(t){return`${t}_chip`}function p4(t=""){return`vm:${t??""}`}function Bce(t,e,A){const n=vce(t),r=mn(n);let s;const i=JA(Object.entries(A.labels??{}));(!st(r.lb)||r.lb.length!==i.length)&&(r.lb=i,r.lk="",r.sk="",r.mg=void 0,r.ec=1,r.lc=0,r.ys=0,r.ps=0,r.es=(A.errors?.length??0)!==0?1:0);function o(c,l){_.words=l;const u=xce(e,c);return G(u)?u(a,l):c!=="send"?o("shortsend",[c,...l]):0}const a={halt(){r7(n)},id(){return t},set(c,l){const[u,h]=Mce(e,a,c,l);if(u)return h},get(c){const[l,u]=Gce(e,a,c);if(l)return u},once(){r.lc=0,r.ys=0,_.get=a.get;try{s?.(a)||(r.es=1)}catch(c){Mt(te,_.elementfocus,"crash",c.message),r.es=1}},tick(c){const l=Ne(r.ps)?r.ps:0,u=l%c===0;if(r.ps=l+1,u===!1)return!1;yce(e,a);const h=a.shouldtick();return h&&a.once(),Dce(e,a),h},isended(){return r.es===1},isfirstpulse(){return r.ps===1},shouldtick(){return!r.sk&&(r.es===0||a.hm()!==0)},checkcount(){return Ne(r.lc)?++r.lc>kF.YIELD_AT_COUNT:!0},haslabel(c){if(st(r.lb))for(let l=0;l<r.lb.length;++l){const[u,h]=r.lb[l];if(u===c)return(h.find(d=>Ne(d)&&d>0)??0)>0}return!1},hm(){if(st(r.mg)&&st(r.lb)){const[c]=r.mg;if(G(c))for(let l=0;l<r.lb.length;++l){const[u,h]=r.lb[l];if(u===c)return h.find(f=>Ne(f)&&f>0)??0}}return 0},yield(){r.ys=1},jump(c){r.ec=c},sy(){return!!r.ys||a.checkcount()},send(c,l,u,h){te.emit(c,`${p4(l)}:${u}`,h)},lock(c){r.lk=c},unlock(){r.lk=""},scrolllock(c){r.sk=c},scrollunlock(c){r.sk===c&&(r.sk="")},message(c){r.sk&&c.player!==r.sk||r.lk&&c.sender!==r.lk||a.haslabel(c.target)&&(r.mg=[c.target,c.data,c.sender,c.player])},zap(c){if(st(r.lb))for(let l=0;l<r.lb.length;++l){const u=r.lb[l];if(u[0]===c){const h=u[1].findIndex(f=>f>0);if(h>=0&&G(u[1])){u[1][h]*=-1;break}}}},restore(c){if(st(r.lb))for(let l=0;l<r.lb.length;++l){const u=r.lb[l];if(u[0]===c)for(let h=0;h<u[1].length;h++)u[1][h]=Math.abs(u[1][h])}},getcase(){r.ec=Ne(r.ec)?r.ec:1;const c=a.hm();if(c&&st(r.mg)){const[,l,u,h]=r.mg;a.set("senderid",u),G(l)&&a.set("arg",l),h&&(a.set("player",h),_.elementfocus=h),r.mg=void 0,r.ys=0,r.es=0,r.ec=c}return r.ec},nextcase(){const c=Ne(r.ec)?r.ec:1;return r.ec=c+1,r.ec},endofprogram(){a.yield(),r.es=1},stacktrace(c){const l=m7.parse(c),[u]=l.filter(h=>h.fileName===xd);return{line:u?.lineNumber??0,column:u?.columnNumber??0}},text(c){return o("text",[c])},stat(...c){return o("stat",c)},hyperlink(...c){return o("hyperlink",c)},print(c){return st(c)?`array ${c.length} ${c.length===1?"item":"items"}`:typeof c=="object"?`obj ${Object.keys(c).join(", ")}`:c},template(c){return _d(c.join(" "),!0).tokens.map(u=>{if(u.tokenType===bd){const h=a.get(u.image.substring(1));if(G(h))return h}return u.image}).join(" ")},command(...c){if(c.length===0)return 0;const[l,...u]=c;return o(je(Ct(l)),u)},if(...c){const[l,u]=ce(c,0,[q.ANY]),h=C_(l);return h&&u<c.length&&a.command(...c.slice(u)),h?1:0},try(...c){const[,l]=ce(c,0,[q.DIR]),u=a.command("go",...c);return u&&l<c.length&&a.command(...c.slice(l)),u?1:0},take(...c){const[l,u,h]=ce(c,0,[q.NAME,q.ANY]),f=Ne(u),d=f?h:1,m=a.get(l),p=f?u:1;if(!Ne(m))return d<c.length&&a.command(...c.slice(d)),1;const g=m-p;return g<0?(d<c.length&&a.command(...c.slice(d)),1):(a.set(l,g),0)},give(...c){const[l,u,h]=ce(c,0,[q.NAME,q.ANY]),f=Ne(u),d=f?h:1,m=a.get(l),p=f?u:1,g=m===void 0?1:0;return g&&d<c.length&&a.command(...c.slice(d)),a.set(l,ci(m,0)+p),g},duplicate(...c){return a.command("duplicate",...c)},repeatstart(c,...l){const[u,h]=ce(l,0,[q.NUMBER]),f=`repeatcount${c}`,d=`repeatwords${c}`;r[f]=u,r[d]=h<l.length?l.slice(h):void 0},repeat(c){const l=`repeatcount${c}`,u=`repeatwords${c}`;if(!Ne(r[l]))return 0;const h=r[l];r[l]=h-1;const f=h>0,d=r[u];return f&&st(d)&&a.command(...d),f?1:0},foreachstart(c,...l){const[u,h]=ce(l,0,[q.NAME,q.ANY]);if(st(h)){const f=`${u}_values`,d=JA(h);a.set(u,d.shift()),a.set(f,d)}else{const[,f,d,m]=ce(l,0,[q.NAME,q.NUMBER,q.NUMBER,q.MAYBE_NUMBER]);let p=Math.min(f,d),g=Math.max(f,d);const w=(m??0)||1;if(w<0){const x=p;p=g,g=x}a.set(u,p-w)}return 0},foreach(c,...l){const[u,h]=ce(l,0,[q.NAME,q.ANY]);if(st(h)){const T=`${u}_values`,M=a.get(T),B=M.shift();return a.set(u,B),M.length>0?1:0}const[,f,d,m,p]=ce(l,0,[q.NAME,q.NUMBER,q.NUMBER,q.MAYBE_NUMBER]);let g=Math.min(f,d),w=Math.max(f,d);const x=(m??0)||1;if(x<0){const T=g;g=w,w=T}let v=a.get(u);!Ne(v)||v<g||v>w?v=g:v+=x;const b=v<=w?1:0;return b&&(a.set(u,v),p<l.length&&a.command(...l.slice(p))),b},waitfor(...c){const[l]=ce(c,0,[q.ANY]),u=C_(l);return u||a.yield(),u?1:0},or(...c){let l=0;for(let u=0;u<c.length;){const[h,f]=ce(c,u,[q.ANY]);if(l=h,l)break;u=f}return l},and(...c){let l=0;for(let u=0;u<c.length;){const[h,f]=ce(c,u,[q.ANY]);if(l=h,!l)break;u=f}return l},not(...c){const[l]=ce(c,0,[q.ANY]);return C_(l)?0:1},expr(...c){const[l]=ce(c,0,[q.ANY]);return l},isEq(c,l){const[u]=ce([c],0,[q.ANY]),[h]=ce([l],0,[q.ANY]);return typeof u=="object"||typeof h=="object"?mZ(u,h)?1:0:u===h?1:0},isNotEq(c,l){return this.isEq(c,l)?0:1},isLessThan(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u<h?1:0},isGreaterThan(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u>h?1:0},isLessThanOrEq(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u<=h?1:0},isGreaterThanOrEq(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u>=h?1:0},opPlus(c,l){const[u]=ce([c],0,[q.ANY]),[h]=ce([l],0,[q.ANY]);return u+h},opMinus(c,l){const[u]=ce([c],0,[q.ANY]),[h]=ce([l],0,[q.ANY]);return u-h},opPower(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return Math.pow(u,h)},opMultiply(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u*h},opDivide(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u/h},opModDivide(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return u%h},opFloorDivide(c,l){const[u]=ce([c],0,[q.NUMBER]),[h]=ce([l],0,[q.NUMBER]);return Math.floor(u/h)},opUniPlus(c){const[l]=ce([c],0,[q.NUMBER]);return+l},opUniMinus(c){const[l]=ce([c],0,[q.NUMBER]);return-l}};return s=A.code,a}function g4(t,e){const A=Wt(t.id),n=Wt(t.party??t.id),r=t.kind==="object"||t.kind==="scroll";let s="";t.party&&n&&(s=t.party),A&&(s=t.id??"");const i=Wt(e.party??e.id),o=e.kind==="object"||e.kind==="scroll";return{sameparty:n===i&&!o&&!r,fromelementplayer:s}}function w4(t,e,A,n){const r=bt(He.MAIN);if(!G(r))return;function s(i){for(let o=0;o<i.length;++o){const a=i[o];if(G(a.id)){const c=`${p4(a.id)}:${e}`;te.emit("",c,A)}}}if(fi(t)){for(let i=0;i<n.length;++i){const o=n[i],a=nt(o,t);G(a)&&s([a])}return}for(let i=0;i<n.length;++i){const o=n[i];switch(je(t)){case"all":case"self":case"others":{s(Object.values(o.objects));break}default:{s(sO(o,[t]));break}}}}function rA(t,e,A){if(!G(_.board)||!G(t))return;const n=Wt(t.id),r=Wt(e.id);let s=A,i=n&&!r?t.id??"":"";switch(A){case"shot":{const{sameparty:o,fromelementplayer:a}=g4(t,e);o&&vt(e)?s="partyshot":i=a;break}case"touch":{const{sameparty:o,fromelementplayer:a}=g4(t,e);o?s="bump":i=a;break}}if(s==="shot"&&We(e,"breakable")&&KA(_.board,e,_.timestamp),G(e?.id)){let o="";G(t?.id)?o=t.id:o=`${vn({x:t.x??0,y:t.y??0},Re)}`,lO({id:sA(),session:te.session(),player:i,sender:o,target:`${e.id}:${s}`,data:void 0})}}function hc(t,e,A){if(G(A.targetname)){const n=Object.keys(_.board?.objects??{});switch(A.targetname){case"all":for(let r=0;r<n.length;++r){const s=n[r],i=hA(_.board,s);G(i)&&rA(e,i,A.label)}break;case"others":for(let r=0;r<n.length;++r){const s=n[r],i=hA(_.board,s);s!==t.id()&&G(i)&&rA(e,i,A.label)}break;case"sender":{const r=j_(_.board,_.element?.sender??"");G(r)&&vt(r)&&rA(e,r,A.label);break}case"self":_.elementid!==t.id()?t.send(_.elementfocus,_.elementid,A.label):G(_.element)&&rA(e,_.element,A.label);break;case"ping":{const r=bt(He.MAIN),s=Bd(r);w4("all",A.label,void 0,s);break}default:{const r=sO(_.board,[A.targetname]);for(let s=0;s<r.length;++s){const i=r[s];G(i)&&rA(e,i,A.label)}break}}}else if(G(A.targetdir))if(A.targetdir.targets.length)for(let n=0;n<A.targetdir.targets.length;++n){const r=nt(_.board,A.targetdir.targets[n]);G(r)&&rA(e,r,A.label)}else{const n=nt(_.board,A.targetdir.destpt);G(n)&&rA(e,n,A.label)}}function P_(t,e,A){!G(t)||!G(e?.id)||Rm(te,t,`${JO(e)}${A}`)}function R_(t,e,A,n=!1){if(!G(t)||!G(t.lookup)||A.x<0||A.x>=Re||A.y<0||A.y>=rt)return{name:"edge",kind:"edge",collision:Fe.ISSOLID,x:A.x,y:A.y};const r=A.x+A.y*Re,s=hA(t,t.lookup[r]??"404");if(G(s))return n&&Wt(s.id)?void 0:s;const i=t.terrain[r];if(G(i)&&Oo(e,We(i,"collision")))return i}function kce(t,e,A){const n=hA(t,e?.id??""),r=n?.x??-1,s=n?.y??-1;if(r-A.x===0&&s-A.y===0)return!0;const i=We(n,"collision"),o=R_(t,i,A);return G(o)}function Ece(t,e){const A=[];if(!G(t))return A;const n=Object.values(t.objects);for(let r=0;r<n.length;++r){const s=n[r];G(s.id)&&G(s.removed)&&e-s.removed>tG*5&&(A.push(s.id),b4(t,s.id))}return A}function I_(t,e,A){const n=hA(t,e?.id??"");if(!G(t)||!G(n)||!G(n.x)||!G(n.y)||!G(t.lookup)||A.x<0||A.x>=Re||A.y<0||A.y>=rt)return{name:"edge",kind:"edge",collision:Fe.ISSOLID,x:A.x,y:A.y};if(n.x-A.x===0&&n.y-A.y===0)return;const r=ni(t,n),s=ni(t,A),i=We(n,"collision");if(i===Fe.ISGHOST){n.x=A.x,n.y=A.y;return}const o=Wt(n?.id),a=hA(t,t.lookup[s]??"");if(We(a,"collision")===Fe.ISGHOST)return;const c=Wt(a?.id??"");if(G(a)&&(!o||!c))return{...a};const l=t.terrain[s],u=We(l,"collision");if(Oo(i,u))return{...l,x:A.x,y:A.y};n.x=A.x,n.y=A.y,G(n.removed)||(t.lookup[r]=void 0,t.lookup[s]=n.id??"")}function Xn(t,e,A,n,r={}){if(!G(A?.id))return!1;let s=I_(e,A,n);const i=We(A,"collision"),o=Wt(A.id),a=i===Fe.ISBULLET;if(i!==Fe.ISBULLET&&G(s)&&vt(s)){const c=Mr(e,s.x??-1,s.y??-1),l=We(c,"collision");if(!Oo(i,l)){const u=Wt(A?.id),h=!!We(s,"item"),f=$w(A,s),d=s.id??"";if(f&&(!u||!h)&&!r[d]){r[d]=!0;const m=cr({x:A.x??0,y:A.y??0},n),p=Xt({x:s.x??0,y:s.y??0},m);!Xn(t,e,s,p)&&u&&rA(A,s,"touch")}s=I_(e,A,n)}}if(G(s)){const c=Wt(s.id),l=We(s,"collision")===Fe.ISBULLET,u=s.kind==="edge";return o?u?Pce(t,e,A,n)||rA(s,A,"thud"):l?(e?.restartonzap&&M4(t,e,A,A.id??""),rA(s,A,"shot"),rA(A,s,"thud")):(rA(s,A,"touch"),rA(A,s,"touch")):a?l?(rA(s,A,"thud"),rA(A,s,"thud")):(c&&e?.restartonzap&&M4(t,e,s,s.id??""),rA(s,A,"thud"),rA(A,s,"shot")):c?(rA(s,A,"touch"),rA(A,s,"touch")):l?(rA(s,A,"shot"),rA(A,s,"thud")):(rA(s,A,"thud"),rA(A,s,"bump")),!1}return!0}function Nce(){return new Array(Re*rt).map(()=>{})}function b4(t,e){return G(t?.objects[e])?(delete t.objects[e],!0):!1}function ni(t,e){return!G(t)||!G(e?.x)||!G(e?.y)||e.x<0||e.x>=Re||e.y<0||e.y>=rt?-1:e.x+e.y*Re}function nt(t,e){const A=ni(t,e);if(A<0||!G(t?.lookup))return;const n=hA(t,t.lookup[A]??"");return G(n)?n:t.terrain[A]}function j_(t,e){const A=hA(t,e);if(G(A))return A;const n=parseFloat(e),r=u2(isNaN(n)?-1:n,Re);return Mr(t,r.x,r.y)}function zo(t,e,A,n,r){const s=ve.MID;if(!G(t)||!G(e))return{dir:n,startpt:r,destpt:r,layer:s,targets:[]};const i={x:e.x??0,y:e.y??0},o={x:i.x+(e.stepx??0),y:i.y+(e.stepy??0)},a=cr(i,o);for(let c=0;c<n.length;++c){const l=$D(n[c]);switch(l){case ve.IDLE:break;case ve.NORTH:case ve.SOUTH:case ve.WEST:case ve.EAST:Xt(i,l);break;case ve.BY:{const[u,h]=n.slice(c+1);Ne(u)&&Ne(h)&&(i.x+=u,i.y+=h),c+=2;break}case ve.TO:{const[u,h]=n.slice(c+1);Ne(u)&&Ne(h)&&(i.x=u,i.y=h),c+=2;break}case ve.AT:{const[u,h]=n.slice(c+1);Ne(u)&&Ne(h)&&(i.x=u,i.y=h),c+=2;break}case ve.FLOW:Xt(i,a);break;case ve.SEEK:{const u=Yce(t,e,A);fi(u)&&Xt(i,cr(r,u));break}case ve.RNDNS:Xt(i,ar(ve.NORTH,ve.SOUTH));break;case ve.RNDNE:Xt(i,ar(ve.NORTH,ve.EAST));break;case ve.RND:Xt(i,ar(ve.NORTH,ve.SOUTH,ve.WEST,ve.EAST));break;case ve.CW:case ve.CCW:case ve.OPP:case ve.RNDP:{const u=zo(t,e,A,n.slice(c+1),r);switch(i.x=r.x,i.y=r.y,l){case ve.CW:switch(cr(r,u.destpt)){case ve.NORTH:Xt(i,ve.EAST);break;case ve.SOUTH:Xt(i,ve.WEST);break;case ve.EAST:Xt(i,ve.SOUTH);break;case ve.WEST:Xt(i,ve.NORTH);break}break;case ve.CCW:switch(cr(r,u.destpt)){case ve.NORTH:Xt(i,ve.WEST);break;case ve.SOUTH:Xt(i,ve.EAST);break;case ve.EAST:Xt(i,ve.NORTH);break;case ve.WEST:Xt(i,ve.SOUTH);break}break;case ve.OPP:switch(cr(r,u.destpt)){case ve.NORTH:Xt(i,ve.SOUTH);break;case ve.SOUTH:Xt(i,ve.NORTH);break;case ve.EAST:Xt(i,ve.WEST);break;case ve.WEST:Xt(i,ve.EAST);break}break;case ve.RNDP:switch(cr(r,u.destpt)){case ve.NORTH:case ve.SOUTH:i.x+=ar(-1,1);break;case ve.WEST:case ve.EAST:i.y+=ar(-1,1);break}break}return{dir:n,startpt:r,destpt:i,layer:s,targets:[]}}case ve.FLEE:break;case ve.FIND:break;case ve.AWAY:{const[u,h]=n.slice(c+1);if(Ne(u)&&Ne(h)){const f={x:u,y:h},d=f.x-i.x,m=f.y-i.y;if(Math.abs(d)>1||Math.abs(m)>1){const p=We(e,"collision"),g=aO(t,p,i,f,!0);if(G(g)&&(g.x!==u||g.y!==h)){const w=_4(t,g);G(w)||(i.x=g.x,i.y=g.y)}}else{const p=Dg(-d,-m);Xt(i,p)}}c+=2;break}case ve.TOWARD:{const[u,h]=n.slice(c+1);if(Ne(u)&&Ne(h)){const f={x:u,y:h},d=f.x-i.x,m=f.y-i.y;if(Math.abs(d)>1||Math.abs(m)>1){const p=We(e,"collision"),g=aO(t,p,i,f,!1);if(G(g)&&(g.x!==u||g.y!==h)){const w=_4(t,g);G(w)||(i.x=g.x,i.y=g.y)}}else{const p=Dg(d,m);Xt(i,p)}}c+=2;break}case ve.MID:case ve.OVER:case ve.UNDER:case ve.GROUND:{const u=zo(t,e,A,n.slice(c+1),r);return u.layer=l,u}case ve.WITHIN:{const[u]=n.slice(c+1),h=zo(t,e,A,n.slice(c+2),r);if(h.targets.length===0&&Ne(u)&&u>0)for(let f=-u;f<=u;++f)for(let d=-u;d<=u;++d){const m={x:h.destpt.x+d,y:h.destpt.y+f};Ci(m)&&h.targets.push(m)}return Ne(u)&&u>0?{...h,targets:h.targets.filter(f=>fi(f)?ND(f,h.destpt)<=u:!1)}:h}case ve.AWAYBY:{const[u]=n.slice(c+1),h=zo(t,e,A,n.slice(c+2),r);if(h.targets.length===0)for(let f=-Re;f<=Re;++f)for(let d=-Re;d<=Re;++d){const m={x:h.destpt.x+d,y:h.destpt.y+f};Ci(m)&&h.targets.push(m)}return Ne(u)&&u>0?{...h,targets:h.targets.filter(f=>fi(f)?ND(f,h.destpt)>=u:!1)}:h}case ve.ELEMENTS:{const u=zo(t,e,A,n.slice(c+1),r);i.x=r.x,i.y=r.y,u.targets=[];const h=cr(u.startpt,u.destpt);for(let f=0;f<Re&&(Xt(i,h),!!Ci(i));++f)u.targets.push({x:i.x,y:i.y});return u}}}return{dir:n,startpt:r,destpt:i,layer:s,targets:[]}}function Tce(t){return Cs(t,Ng,{terrain:e=>e.map(kh),objects:e=>Object.values(e).filter(A=>!A.removed).map(kh),id:Ot,name:Ot,named:Ot,lookup:Ot,codepage:Ot,distmaps:Ot,overboard:Ot,underboard:Ot,charsetpage:Ot,palettepage:Ot})}function Yce(t,e,A){if(!G(t)||!G(e))return;const n=t.objects[A];if(G(n))return n;if(fi(e))return oO(e,rc(t,"player"))}function Mr(t,e,A){return(e>=0&&e<Re)??(A>=0&&A<rt)?t?.terrain[e+A*Re]:void 0}function Oce(t){return tl(t,Ng,{terrain:e=>e.map(Eh),objects:e=>{const A={};for(let n=0;n<e.length;++n){const r=Eh(e[n]);G(r?.id)&&(A[r.id]=r)}return A}})}function z_(t,e){if(!G(t)||!G(e))return;const A=JA(e);return A.id=A.id??sA(),t.objects[A.id]=A,t.objects[A.id]}function H_(t,e,A,n){return z_(t,{...e,kind:A,id:n})}function hA(t,e){if(t)return t.objects[e]}function _4(t,e){const A=ni(t,e);if(A<0||!G(t?.lookup))return;const n=hA(t,t.lookup[A]??"");if(G(n))return n}function Sce(t){return G(t)?[...Object.values(t.objects)]:[]}function x4(t,e,A){const n=[],r=[];if(!G(t))return{objectelements:n,terrainelements:r};function s(i,o){if(i.removed)return!1;switch(A){case"all":return!0;case"self":return i?.id===e;case"others":return i?.id!==e;case"terrain":return o===!0;case"object":return o===!1}const a=We(i,A);return G(a)||pA(i).name===A||We(i,"group")===A}for(let i=0;i<kg;++i){const o=t.terrain[i],a=t.objects[t.lookup?.[i]??""];if(G(o)&&s(o,!0)){r.push(o);const c=t.objects[t.lookup?.[i]??""];G(c)&&vt(c)&&n.push(c)}else vt(a)&&s(a,!1)&&n.push(a)}return{objectelements:n,terrainelements:r}}function KA(t,e,A){return!G(e)||pA(e).name==="player"?!1:(e.id?(e.removed=A,kf(t,e)):(Kt(t,{x:e?.x??0,y:e?.y??0}),c7(t,e)),!0)}function Kt(t,e){if(!G(t)||!G(e)||!G(e.x)||!G(e.y)||e.x<0||e.x>=Re||e.y<0||e.y>=rt)return;const A=JA(e),n=e.x+e.y*Re;return t.terrain[n]=A,delete t.distmaps,t.terrain[n]}function Zce(t,e,A){return Kt(t,{...e,kind:A})}function Cce(t,e){const A=[];if(!G(t))return A;function n(l){for(let u=0;u<l.length;++u){const h=l[u];if(!G(h.id))continue;h.lx=h.x,h.ly=h.y;const d=`${Wn(h)?.code??""}
${h.code??""}`;if(d){if(h.removed){const m=e-h.removed,p=We(h,"cycle");if(m>p)continue}A.push({id:h.id,type:Oe.OBJECT,code:d,object:h,terrain:void 0})}}}const r=Object.values(t.objects),s=[],i=[],o=[],a=[];for(let l=0;l<r.length;++l){const u=r[l];if(Wt(u.id))o.push(u);else switch(We(u,"collision")){case Fe.ISSWIM:case Fe.ISBULLET:a.push(u);break;case Fe.ISGHOST:i.push(u);break;default:s.push(u);break}}n(a),n(o),n(s),n(i);const c=Ece(t,e);for(let l=0;l<c.length;++l)A.push({id:c[l],type:Oe.ERROR,code:"",object:void 0,terrain:void 0});return A}function G4(t){if(G(t)){if(xe(t.over))if(xe(t.overboard)){const e=lt(t.overboard);G(e)||delete t.overboard}else{const e=lt(t.over);G(e)&&(t.overboard=e.id)}else xe(t.overboard)&&delete t.overboard;if(xe(t.under))if(xe(t.underboard)){const e=lt(t.underboard);G(e)||delete t.underboard}else{const e=lt(t.under);G(e)&&(t.underboard=e.id)}else xe(t.underboard)&&delete t.underboard;if(xe(t.charset))if(xe(t.charsetpage)){const e=MA(Oe.CHARSET,t.charset);G(e)||delete t.charsetpage}else{const e=MA(Oe.CHARSET,t.charset);G(e)&&(t.charsetpage=e.id)}else xe(t.charsetpage)&&delete t.charsetpage;if(xe(t.palette))if(xe(t.palettepage)){const e=MA(Oe.PALETTE,t.palette);G(e)||delete t.palettepage}else{const e=MA(Oe.PALETTE,t.palette);G(e)&&(t.palettepage=e.id)}else xe(t.palettepage)&&delete t.palettepage}}function L_(t=Pm){const e={terrain:Nce(),objects:{},id:"",name:""};return t(e)}function Pce(t,e,A,n){const r=A.id??"";if(n.x<0){const s=lt(e?.exitwest??"");if(G(s))return Ti(t,r,s.id,{x:Re-1,y:n.y})}else if(n.x>=Re){const s=lt(e?.exiteast??"");if(G(s))return Ti(t,r,s.id,{x:0,y:n.y})}else if(n.y<0){const s=lt(e?.exitnorth??"");if(G(s))return Ti(t,r,s.id,{x:n.x,y:rt-1})}else if(n.y>=rt){const s=lt(e?.exitsouth??"");if(G(s))return Ti(t,r,s.id,{x:n.x,y:0})}return!1}function M4(t,e,A,n){const r=Ta(t,n,"enterx"),s=Ta(t,n,"entery");Ne(r)&&Ne(s)&&G(A)&&I_(e,A,{x:r,y:s})}function Ci(t){return bg(t.x,t.y,0,Re-1,rt-1,0)}const _={timestamp:0,book:void 0,board:void 0,element:void 0,elementid:"",elementisplayer:!1,elementfocus:"",words:[],get:void 0};var q=(t=>(t[t.COLOR=0]="COLOR",t[t.KIND=1]="KIND",t[t.DIR=2]="DIR",t[t.NAME=3]="NAME",t[t.NUMBER=4]="NUMBER",t[t.STRING=5]="STRING",t[t.NUMBER_OR_STRING=6]="NUMBER_OR_STRING",t[t.COLOR_OR_KIND=7]="COLOR_OR_KIND",t[t.MAYBE_KIND=8]="MAYBE_KIND",t[t.MAYBE_NAME=9]="MAYBE_NAME",t[t.MAYBE_NUMBER=10]="MAYBE_NUMBER",t[t.MAYBE_STRING=11]="MAYBE_STRING",t[t.MAYBE_NUMBER_OR_STRING=12]="MAYBE_NUMBER_OR_STRING",t[t.ANY=13]="ANY",t))(q||{});function UA(t,e,A){throw console.info(A,_.element,_.elementid,_.elementfocus),new Error(`Invalid arg, expected: ${t} but got ${JSON.stringify(e)}`)}function y4(t){const e={x:_.element?.x??0,y:_.element?.y??0};return zo(_.board,_.element,_.elementfocus,t,e)}function ce(t,e,A){const n=_.words;_.words=t;const r=[];let s=e;for(let i=0;i<A.length;++i)switch(A[i]){case 1:{const[o,a]=r_(s);Yo(o)?(s=a,r.push(o)):UA("kind",o,t);break}case 0:{if(ba(t[s])===void 0){const[o,a]=bn(s);NA(o)?(s=a,r.push(o)):Ne(o)?(s=a,r.push(di(o,void 0))):UA("color",o,t)}else{const[o,a]=vh(s);NA(o)?(s=a,r.push(o)):UA("color",o,t)}break}case 2:{if(il(t[s])===void 0){const[o,a]=bn(s);Fn(o)?(s=a,r.push(y4(o))):UA("direction",o,t)}else{const[o,a]=VD(s);Fn(o)?(s=a,r.push(y4(o))):UA("direction",o,t)}break}case 3:{const o=_.words[s];xe(o)||UA("string",o,t),++s,r.push(o);break}case 4:{const[o,a]=bn(s);if(xe(o)){const c=parseFloat(o);Ne(c)?r.push(c):UA("number",o,t)}else Ne(o)?r.push(o):UA("number",o,t);s=a;break}case 5:{const[o,a]=bn(s);xe(o)||UA("string",o,t),s=a,r.push(o);break}case 6:{const[o,a]=bn(s);let c=o;if(xe(c)){const l=parseFloat(c);Ne(l)&&(c=l)}else Ne(c)||UA("number or string",c,t);s=a,r.push(c);break}case 7:{const[o,a]=r_(s);if(Yo(o))s=a,r.push(o);else if(ba(t[s])===void 0){const[c,l]=bn(s);NA(c)?(s=l,r.push(c)):UA("color",c,t)}else{const[c,l]=vh(s);NA(c)?(s=l,r.push(c)):UA("color or kind",c,t)}break}case 8:{const[o,a]=r_(s);o!==void 0&&!Yo(o)&&UA("optional kind",o,t),s=a,r.push(o);break}case 9:{const o=_.words[s];o!==void 0&&!xe(o)&&UA("optional string",o,t),++s,r.push(o);break}case 10:{const[o,a]=bn(s);if(xe(o)){const c=parseFloat(o);Ne(c)?r.push(c):UA("optional number",o,t)}else Ne(o)||o===void 0?r.push(o):UA("optional number",o,t);s=a;break}case 11:{const[o,a]=bn(s);o!==void 0&&!xe(o)&&UA("optional string",o,t),s=a,r.push(o);break}case 12:{const[o,a]=bn(s);let c=o;if(xe(c)){const l=parseFloat(c);Ne(l)&&(c=l)}else c!==void 0&&!Ne(c)&&UA("number or string",c,t);s=a,r.push(c);break}case 13:{const[o,a]=bn(s);s=a,r.push(o);break}}return _.words=n,[...r,s]}const em={},fc={};function U_(){return{id:sA(),board:"",layers:[],scroll:[],sidebar:[],exiteast:"",exitwest:"",exitnorth:"",exitsouth:""}}const Rce=new Set(["rn","range","sl","select","nm","number","tx","text","zssedit","charedit","coloredit","bgedit"]),Ice=new Set(["tx","text"]),jce={rn:1,range:1,sl:0,select:0,nm:0,number:0,tx:"",text:"",zssedit:"",charedit:"",coloredit:""},D4={};let v4=t=>{let e=D4[t];return G(e)||(D4[t]=e=U_()),e};function zce(t){v4=t}function Gt(t){return v4(t)}function $_(t){return G(em[t])||(em[t]=[]),em[t]}function Hce(t){const e=Gt(t);e.scrollname="",e.scroll=[]}function Lce(t,e,A){Object.values(fc).forEach(n=>{if(n[e]!==void 0){const r=JD(t.id(),e);Ne(A)&&Hj(r,A),xe(A)&&Lj(r,A)}})}function Lt(t){const e=$_(t);return em[t]=[],e}function B4(t){const e=[];let A;for(let n=0;n<t.length;++n){const r=t[n],s=xe(r)&&G(mJ(r));G(A)&&A!==s&&e.push(" "),e.push(r),A=s}return e}function we(t,e){$_(t).push(e)}function Te(t,e,A,n,r=()=>0,s=Pm){switch(je(Ct(n[0]))){case"copyit":case"openit":case"viewit":case"runit":n.unshift("istargetless");break}const o=[e,A,...n],a=je(`${o[3]}`),c={..._};function l(u,h){G(h)&&h!==r(u)&&(_.board=c.board,_.element=c.element,_.elementfocus=c.elementfocus,s(u,h))}if(Rce.has(a)){const u=`${o[2]}`;fc[e]=fc[e]??{};const h=r(u)??jce[a];if(fc[e][u]===void 0){const f=JD(e,u);Ice.has(a)?(xe(h)&&ig(f,h),fc[e][u]=nD(f,d=>{l(u,d)})):(Ne(h)&&zj(f,h),fc[e][u]=Uj(f,d=>{l(u,d)}))}}$_(t).push(o)}var k4=(t=>(t[t.id=0]="id",t[t.x=1]="x",t[t.y=2]="y",t[t.char=3]="char",t[t.color=4]="color",t[t.bg=5]="bg",t[t.stat=6]="stat",t[t.pid=7]="pid",t))(k4||{});function Uce(t){return Cs(t,k4)}var E4=(t=>(t[t.id=0]="id",t[t.type=1]="type",t[t.tag=2]="tag",t[t.width=3]="width",t[t.height=4]="height",t[t.char=5]="char",t[t.color=6]="color",t[t.bg=7]="bg",t[t.stats=8]="stats",t[t.sprites=9]="sprites",t[t.alphas=10]="alphas",t[t.mime=11]="mime",t[t.media=12]="media",t[t.focusx=13]="focusx",t[t.focusy=14]="focusy",t[t.focusid=15]="focusid",t[t.viewscale=16]="viewscale",t[t.graphics=17]="graphics",t[t.facing=18]="facing",t))(E4||{});function $ce(t){return Cs(t,E4,{sprites:e=>e.map(Uce)})}var N4=(t=>(t[t.id=0]="id",t[t.board=1]="board",t[t.over=2]="over",t[t.under=3]="under",t[t.layers=4]="layers",t[t.tickers=5]="tickers",t[t.scrollname=6]="scrollname",t[t.scroll=7]="scroll",t[t.sidebar=8]="sidebar",t[t.synthstate=9]="synthstate",t))(N4||{});function T4(t){return Cs(t,N4,{layers:e=>e.map($ce)})}const Fce=new kC;zce(t=>{if(Wt(t)){const e=bt(He.MAIN),A=wo(e,He.GADGETSTORE);let n=A[t];return G(n)||(A[t]=n=U_()),n}return U_()});const F_=new Map,tm=$i("gadgetserver",["tock"],t=>{if(!tm.session(t))return;const e=bt(He.MAIN),A=new Set(e?.activelist??[]);A.add(gA());const n=[...A];switch(t.target){case"tock":if(gA()){const r=new Map;for(let s=0;s<n.length;++s){const i=n[s],o=Et(i),a=o?.id??"";let c=r.get(a);G(o)&&!G(c)&&(c=JA(Oae(i,o)),r.set(o.id,c));const l=Gt(i);if(G(c)){const d=Eae(i,1e3,o);l.id=c.id,l.board=c.board,l.exiteast=c.exiteast,l.exitwest=c.exitwest,l.exitnorth=c.exitnorth,l.exitsouth=c.exitsouth,l.over=c.over,l.under=c.under,l.layers=[...c.layers,...d],l.tickers=c.tickers}else l.id="",l.board="",l.exiteast="",l.exitwest="",l.exitnorth="",l.exitsouth="",l.over=[],l.under=[],l.layers=[],l.tickers=[],l.sidebar=[];l.synthstate=iK(a);const u=T4(l);if(!G(u))continue;const h=F_.get(i)??[],f=Ux(h,u);if(F_.set(i,u),f.length){const d=Fce.encode(YP(f,{}));BZ(tm,i,d)}}}break;case"desync":{const r=Gt(t.player),s=T4(r);if(!G(s))break;F_.set(t.player,s),vZ(tm,t.player,s);break}case"clearscroll":Hce(t.player),Jx(tm,t.player);break}});async function Vce(t){const e=ln(1111111,9999999),A=je(t.replace(/[^a-zA-Z/]/g,""));return await(await fetch(`https://raw.githubusercontent.com/wiki/goldbuick/zed-software-system/${A}.md?q=${e}`)).text()}const V_=10;function Wce(){const t=KS();let e=V_;const A=$i(`agent_${t}`,["second"],n=>{switch(n.target){case"second":++e,e>=V_&&(e-=V_,nC(A,t));break;case"acklogin":pZ(n.data)&&_t(A,n.player,`agent login ${n.data?"success":"failure"}`);break}},te.session());return tC(A,t,{}),{id(){return t},stop(){Mc(A,t,!1),A.disconnect()}}}function W_(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var Ho=W_();function Y4(t){Ho=t}var su={exec:()=>null};function Dt(t,e=""){let A=typeof t=="string"?t:t.source,n={replace:(r,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(xn.caret,"$1"),A=A.replace(r,i),n},getRegex:()=>new RegExp(A,e)};return n}var Qce=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),xn={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:t=>new RegExp(`^( {0,3}${t})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}#`),htmlBeginRegex:t=>new RegExp(`^ {0,${Math.min(3,t-1)}}<(?:[a-z].*>|!--)`,"i")},qce=/^(?:[ \t]*(?:\n|$))+/,Kce=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,Jce=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,iu=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Xce=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,Q_=/(?:[*+-]|\d{1,9}[.)])/,O4=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,S4=Dt(O4).replace(/bull/g,Q_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),ele=Dt(O4).replace(/bull/g,Q_).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),q_=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,tle=/^[^\n]+/,K_=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,Ale=Dt(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",K_).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),nle=Dt(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,Q_).getRegex(),Am="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",J_=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,rle=Dt("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",J_).replace("tag",Am).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Z4=Dt(q_).replace("hr",iu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Am).getRegex(),sle=Dt(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",Z4).getRegex(),X_={blockquote:sle,code:Kce,def:Ale,fences:Jce,heading:Xce,hr:iu,html:rle,lheading:S4,list:nle,newline:qce,paragraph:Z4,table:su,text:tle},C4=Dt("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",iu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Am).getRegex(),ile={...X_,lheading:ele,table:C4,paragraph:Dt(q_).replace("hr",iu).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",C4).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Am).getRegex()},ole={...X_,html:Dt(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",J_).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:su,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:Dt(q_).replace("hr",iu).replace("heading",` *#{1,6} *[^
]`).replace("lheading",S4).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},ale=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,cle=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,P4=/^( {2,}|\\)\n(?!\s*$)/,lle=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,nm=/[\p{P}\p{S}]/u,ex=/[\s\p{P}\p{S}]/u,R4=/[^\s\p{P}\p{S}]/u,ule=Dt(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,ex).getRegex(),I4=/(?!~)[\p{P}\p{S}]/u,hle=/(?!~)[\s\p{P}\p{S}]/u,fle=/(?:[^\s\p{P}\p{S}]|~)/u,dle=Dt(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",Qce?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),j4=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,mle=Dt(j4,"u").replace(/punct/g,nm).getRegex(),ple=Dt(j4,"u").replace(/punct/g,I4).getRegex(),z4="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",gle=Dt(z4,"gu").replace(/notPunctSpace/g,R4).replace(/punctSpace/g,ex).replace(/punct/g,nm).getRegex(),wle=Dt(z4,"gu").replace(/notPunctSpace/g,fle).replace(/punctSpace/g,hle).replace(/punct/g,I4).getRegex(),ble=Dt("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,R4).replace(/punctSpace/g,ex).replace(/punct/g,nm).getRegex(),_le=Dt(/\\(punct)/,"gu").replace(/punct/g,nm).getRegex(),xle=Dt(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),Gle=Dt(J_).replace("(?:-->|$)","-->").getRegex(),Mle=Dt("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",Gle).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),rm=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,yle=Dt(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",rm).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),H4=Dt(/^!?\[(label)\]\[(ref)\]/).replace("label",rm).replace("ref",K_).getRegex(),L4=Dt(/^!?\[(ref)\](?:\[\])?/).replace("ref",K_).getRegex(),Dle=Dt("reflink|nolink(?!\\()","g").replace("reflink",H4).replace("nolink",L4).getRegex(),U4=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,tx={_backpedal:su,anyPunctuation:_le,autolink:xle,blockSkip:dle,br:P4,code:cle,del:su,emStrongLDelim:mle,emStrongRDelimAst:gle,emStrongRDelimUnd:ble,escape:ale,link:yle,nolink:L4,punctuation:ule,reflink:H4,reflinkSearch:Dle,tag:Mle,text:lle,url:su},vle={...tx,link:Dt(/^!?\[(label)\]\((.*?)\)/).replace("label",rm).getRegex(),reflink:Dt(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",rm).getRegex()},Ax={...tx,emStrongRDelimAst:wle,emStrongLDelim:ple,url:Dt(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",U4).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:Dt(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",U4).getRegex()},Ble={...Ax,br:Dt(P4).replace("{2,}","*").getRegex(),text:Dt(Ax.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},sm={normal:X_,gfm:ile,pedantic:ole},ou={normal:tx,gfm:Ax,breaks:Ble,pedantic:vle},kle={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},$4=t=>kle[t];function vs(t,e){if(e){if(xn.escapeTest.test(t))return t.replace(xn.escapeReplace,$4)}else if(xn.escapeTestNoEncode.test(t))return t.replace(xn.escapeReplaceNoEncode,$4);return t}function F4(t){try{t=encodeURI(t).replace(xn.percentDecode,"%")}catch{return null}return t}function V4(t,e){let A=t.replace(xn.findPipe,(s,i,o)=>{let a=!1,c=i;for(;--c>=0&&o[c]==="\\";)a=!a;return a?"|":" |"}),n=A.split(xn.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),e)if(n.length>e)n.splice(e);else for(;n.length<e;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(xn.slashPipe,"|");return n}function au(t,e,A){let n=t.length;if(n===0)return"";let r=0;for(;r<n&&t.charAt(n-r-1)===e;)r++;return t.slice(0,n-r)}function Ele(t,e){if(t.indexOf(e[1])===-1)return-1;let A=0;for(let n=0;n<t.length;n++)if(t[n]==="\\")n++;else if(t[n]===e[0])A++;else if(t[n]===e[1]&&(A--,A<0))return n;return A>0?-2:-1}function W4(t,e,A,n,r){let s=e.href,i=e.title||null,o=t[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let a={type:t[0].charAt(0)==="!"?"image":"link",raw:A,href:s,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}function Nle(t,e,A){let n=t.match(A.other.indentCodeCompensation);if(n===null)return e;let r=n[1];return e.split(`
`).map(s=>{let i=s.match(A.other.beginningSpace);if(i===null)return s;let[o]=i;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}var im=class{options;rules;lexer;constructor(t){this.options=t||Ho}space(t){let e=this.rules.block.newline.exec(t);if(e&&e[0].length>0)return{type:"space",raw:e[0]}}code(t){let e=this.rules.block.code.exec(t);if(e){let A=e[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:e[0],codeBlockStyle:"indented",text:this.options.pedantic?A:au(A,`
`)}}}fences(t){let e=this.rules.block.fences.exec(t);if(e){let A=e[0],n=Nle(A,e[3]||"",this.rules);return{type:"code",raw:A,lang:e[2]?e[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):e[2],text:n}}}heading(t){let e=this.rules.block.heading.exec(t);if(e){let A=e[2].trim();if(this.rules.other.endingHash.test(A)){let n=au(A,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(A=n.trim())}return{type:"heading",raw:e[0],depth:e[1].length,text:A,tokens:this.lexer.inline(A)}}}hr(t){let e=this.rules.block.hr.exec(t);if(e)return{type:"hr",raw:au(e[0],`
`)}}blockquote(t){let e=this.rules.block.blockquote.exec(t);if(e){let A=au(e[0],`
`).split(`
`),n="",r="",s=[];for(;A.length>0;){let i=!1,o=[],a;for(a=0;a<A.length;a++)if(this.rules.other.blockquoteStart.test(A[a]))o.push(A[a]),i=!0;else if(!i)o.push(A[a]);else break;A=A.slice(a);let c=o.join(`
`),l=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,r=r?`${r}
${l}`:l;let u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,s,!0),this.lexer.state.top=u,A.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let f=h,d=f.raw+`
`+A.join(`
`),m=this.blockquote(d);s[s.length-1]=m,n=n.substring(0,n.length-f.raw.length)+m.raw,r=r.substring(0,r.length-f.text.length)+m.text;break}else if(h?.type==="list"){let f=h,d=f.raw+`
`+A.join(`
`),m=this.list(d);s[s.length-1]=m,n=n.substring(0,n.length-h.raw.length)+m.raw,r=r.substring(0,r.length-f.raw.length)+m.raw,A=d.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:r}}}list(t){let e=this.rules.block.list.exec(t);if(e){let A=e[1].trim(),n=A.length>1,r={type:"list",raw:"",ordered:n,start:n?+A.slice(0,-1):"",loose:!1,items:[]};A=n?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=n?A:"[*+-]");let s=this.rules.other.listItemRegex(A),i=!1;for(;t;){let a=!1,c="",l="";if(!(e=s.exec(t))||this.rules.block.hr.test(t))break;c=e[0],t=t.substring(c.length);let u=e[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,g=>" ".repeat(3*g.length)),h=t.split(`
`,1)[0],f=!u.trim(),d=0;if(this.options.pedantic?(d=2,l=u.trimStart()):f?d=e[1].length+1:(d=e[2].search(this.rules.other.nonSpaceChar),d=d>4?1:d,l=u.slice(d),d+=e[1].length),f&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,t=t.substring(h.length+1),a=!0),!a){let g=this.rules.other.nextBulletRegex(d),w=this.rules.other.hrRegex(d),x=this.rules.other.fencesBeginRegex(d),v=this.rules.other.headingBeginRegex(d),b=this.rules.other.htmlBeginRegex(d);for(;t;){let T=t.split(`
`,1)[0],M;if(h=T,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),M=h):M=h.replace(this.rules.other.tabCharGlobal,"    "),x.test(h)||v.test(h)||b.test(h)||g.test(h)||w.test(h))break;if(M.search(this.rules.other.nonSpaceChar)>=d||!h.trim())l+=`
`+M.slice(d);else{if(f||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||x.test(u)||v.test(u)||w.test(u))break;l+=`
`+h}!f&&!h.trim()&&(f=!0),c+=T+`
`,t=t.substring(T.length+1),u=M.slice(d)}}r.loose||(i?r.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(i=!0));let m=null,p;this.options.gfm&&(m=this.rules.other.listIsTask.exec(l),m&&(p=m[0]!=="[ ] ",l=l.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:c,task:!!m,checked:p,loose:!1,text:l,tokens:[]}),r.raw+=c}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let a=0;a<r.items.length;a++)if(this.lexer.state.top=!1,r.items[a].tokens=this.lexer.blockTokens(r.items[a].text,[]),!r.loose){let c=r.items[a].tokens.filter(u=>u.type==="space"),l=c.length>0&&c.some(u=>this.rules.other.anyLine.test(u.raw));r.loose=l}if(r.loose)for(let a=0;a<r.items.length;a++)r.items[a].loose=!0;return r}}html(t){let e=this.rules.block.html.exec(t);if(e)return{type:"html",block:!0,raw:e[0],pre:e[1]==="pre"||e[1]==="script"||e[1]==="style",text:e[0]}}def(t){let e=this.rules.block.def.exec(t);if(e){let A=e[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=e[2]?e[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=e[3]?e[3].substring(1,e[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):e[3];return{type:"def",tag:A,raw:e[0],href:n,title:r}}}table(t){let e=this.rules.block.table.exec(t);if(!e||!this.rules.other.tableDelimiter.test(e[2]))return;let A=V4(e[1]),n=e[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=e[3]?.trim()?e[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:e[0],header:[],align:[],rows:[]};if(A.length===n.length){for(let i of n)this.rules.other.tableAlignRight.test(i)?s.align.push("right"):this.rules.other.tableAlignCenter.test(i)?s.align.push("center"):this.rules.other.tableAlignLeft.test(i)?s.align.push("left"):s.align.push(null);for(let i=0;i<A.length;i++)s.header.push({text:A[i],tokens:this.lexer.inline(A[i]),header:!0,align:s.align[i]});for(let i of r)s.rows.push(V4(i,s.header.length).map((o,a)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[a]})));return s}}lheading(t){let e=this.rules.block.lheading.exec(t);if(e)return{type:"heading",raw:e[0],depth:e[2].charAt(0)==="="?1:2,text:e[1],tokens:this.lexer.inline(e[1])}}paragraph(t){let e=this.rules.block.paragraph.exec(t);if(e){let A=e[1].charAt(e[1].length-1)===`
`?e[1].slice(0,-1):e[1];return{type:"paragraph",raw:e[0],text:A,tokens:this.lexer.inline(A)}}}text(t){let e=this.rules.block.text.exec(t);if(e)return{type:"text",raw:e[0],text:e[0],tokens:this.lexer.inline(e[0])}}escape(t){let e=this.rules.inline.escape.exec(t);if(e)return{type:"escape",raw:e[0],text:e[1]}}tag(t){let e=this.rules.inline.tag.exec(t);if(e)return!this.lexer.state.inLink&&this.rules.other.startATag.test(e[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(e[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(e[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(e[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:e[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:e[0]}}link(t){let e=this.rules.inline.link.exec(t);if(e){let A=e[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(A)){if(!this.rules.other.endAngleBracket.test(A))return;let s=au(A.slice(0,-1),"\\");if((A.length-s.length)%2===0)return}else{let s=Ele(e[2],"()");if(s===-2)return;if(s>-1){let i=(e[0].indexOf("!")===0?5:4)+e[1].length+s;e[2]=e[2].substring(0,s),e[0]=e[0].substring(0,i).trim(),e[3]=""}}let n=e[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],r=s[3])}else r=e[3]?e[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(A)?n=n.slice(1):n=n.slice(1,-1)),W4(e,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},e[0],this.lexer,this.rules)}}reflink(t,e){let A;if((A=this.rules.inline.reflink.exec(t))||(A=this.rules.inline.nolink.exec(t))){let n=(A[2]||A[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=e[n.toLowerCase()];if(!r){let s=A[0].charAt(0);return{type:"text",raw:s,text:s}}return W4(A,r,A[0],this.lexer,this.rules)}}emStrong(t,e,A=""){let n=this.rules.inline.emStrongLDelim.exec(t);if(!(!n||n[3]&&A.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!A||this.rules.inline.punctuation.exec(A))){let r=[...n[0]].length-1,s,i,o=r,a=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,e=e.slice(-1*t.length+r);(n=c.exec(e))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(i=[...s].length,n[3]||n[4]){o+=i;continue}else if((n[5]||n[6])&&r%3&&!((r+i)%3)){a+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+a);let l=[...n[0]][0].length,u=t.slice(0,r+n.index+l+i);if(Math.min(r,i)%2){let f=u.slice(1,-1);return{type:"em",raw:u,text:f,tokens:this.lexer.inlineTokens(f)}}let h=u.slice(2,-2);return{type:"strong",raw:u,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(t){let e=this.rules.inline.code.exec(t);if(e){let A=e[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(A),r=this.rules.other.startingSpaceChar.test(A)&&this.rules.other.endingSpaceChar.test(A);return n&&r&&(A=A.substring(1,A.length-1)),{type:"codespan",raw:e[0],text:A}}}br(t){let e=this.rules.inline.br.exec(t);if(e)return{type:"br",raw:e[0]}}del(t){let e=this.rules.inline.del.exec(t);if(e)return{type:"del",raw:e[0],text:e[2],tokens:this.lexer.inlineTokens(e[2])}}autolink(t){let e=this.rules.inline.autolink.exec(t);if(e){let A,n;return e[2]==="@"?(A=e[1],n="mailto:"+A):(A=e[1],n=A),{type:"link",raw:e[0],text:A,href:n,tokens:[{type:"text",raw:A,text:A}]}}}url(t){let e;if(e=this.rules.inline.url.exec(t)){let A,n;if(e[2]==="@")A=e[0],n="mailto:"+A;else{let r;do r=e[0],e[0]=this.rules.inline._backpedal.exec(e[0])?.[0]??"";while(r!==e[0]);A=e[0],e[1]==="www."?n="http://"+e[0]:n=e[0]}return{type:"link",raw:e[0],text:A,href:n,tokens:[{type:"text",raw:A,text:A}]}}}inlineText(t){let e=this.rules.inline.text.exec(t);if(e){let A=this.lexer.state.inRawBlock;return{type:"text",raw:e[0],text:e[0],escaped:A}}}},Vr=class Gx{tokens;options;state;tokenizer;inlineQueue;constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ho,this.options.tokenizer=this.options.tokenizer||new im,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let A={other:xn,block:sm.normal,inline:ou.normal};this.options.pedantic?(A.block=sm.pedantic,A.inline=ou.pedantic):this.options.gfm&&(A.block=sm.gfm,this.options.breaks?A.inline=ou.breaks:A.inline=ou.gfm),this.tokenizer.rules=A}static get rules(){return{block:sm,inline:ou}}static lex(e,A){return new Gx(A).lex(e)}static lexInline(e,A){return new Gx(A).inlineTokens(e)}lex(e){e=e.replace(xn.carriageReturn,`
`),this.blockTokens(e,this.tokens);for(let A=0;A<this.inlineQueue.length;A++){let n=this.inlineQueue[A];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,A=[],n=!1){for(this.options.pedantic&&(e=e.replace(xn.tabCharGlobal,"    ").replace(xn.spaceLine,""));e;){let r;if(this.options.extensions?.block?.some(i=>(r=i.call({lexer:this},e,A))?(e=e.substring(r.raw.length),A.push(r),!0):!1))continue;if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length);let i=A.at(-1);r.raw.length===1&&i!==void 0?i.raw+=`
`:A.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length);let i=A.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.at(-1).src=i.text):A.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length);let i=A.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},A.push(r));continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),A.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),A.push(r);continue}let s=e;if(this.options.extensions?.startBlock){let i=1/0,o=e.slice(1),a;this.options.extensions.startBlock.forEach(c=>{a=c.call({lexer:this},o),typeof a=="number"&&a>=0&&(i=Math.min(i,a))}),i<1/0&&i>=0&&(s=e.substring(0,i+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let i=A.at(-1);n&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):A.push(r),n=s.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length);let i=A.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):A.push(r);continue}if(e){let i="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,A}inline(e,A=[]){return this.inlineQueue.push({src:e,tokens:A}),A}inlineTokens(e,A=[]){let n=e,r=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=r[2]?r[2].length:0,n=n.slice(0,r.index+s)+"["+"a".repeat(r[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;e;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(l=>(a=l.call({lexer:this},e,A))?(e=e.substring(a.raw.length),A.push(a),!0):!1))continue;if(a=this.tokenizer.escape(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.tag(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.link(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(a.raw.length);let l=A.at(-1);a.type==="text"&&l?.type==="text"?(l.raw+=a.raw,l.text+=a.text):A.push(a);continue}if(a=this.tokenizer.emStrong(e,n,o)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.codespan(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.br(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.del(e)){e=e.substring(a.raw.length),A.push(a);continue}if(a=this.tokenizer.autolink(e)){e=e.substring(a.raw.length),A.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(e))){e=e.substring(a.raw.length),A.push(a);continue}let c=e;if(this.options.extensions?.startInline){let l=1/0,u=e.slice(1),h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(c=e.substring(0,l+1))}if(a=this.tokenizer.inlineText(c)){e=e.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;let l=A.at(-1);l?.type==="text"?(l.raw+=a.raw,l.text+=a.text):A.push(a);continue}if(e){let l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return A}},om=class{options;parser;constructor(t){this.options=t||Ho}space(t){return""}code({text:t,lang:e,escaped:A}){let n=(e||"").match(xn.notSpaceStart)?.[0],r=t.replace(xn.endingNewline,"")+`
`;return n?'<pre><code class="language-'+vs(n)+'">'+(A?r:vs(r,!0))+`</code></pre>
`:"<pre><code>"+(A?r:vs(r,!0))+`</code></pre>
`}blockquote({tokens:t}){return`<blockquote>
${this.parser.parse(t)}</blockquote>
`}html({text:t}){return t}def(t){return""}heading({tokens:t,depth:e}){return`<h${e}>${this.parser.parseInline(t)}</h${e}>
`}hr(t){return`<hr>
`}list(t){let e=t.ordered,A=t.start,n="";for(let i=0;i<t.items.length;i++){let o=t.items[i];n+=this.listitem(o)}let r=e?"ol":"ul",s=e&&A!==1?' start="'+A+'"':"";return"<"+r+s+`>
`+n+"</"+r+`>
`}listitem(t){let e="";if(t.task){let A=this.checkbox({checked:!!t.checked});t.loose?t.tokens[0]?.type==="paragraph"?(t.tokens[0].text=A+" "+t.tokens[0].text,t.tokens[0].tokens&&t.tokens[0].tokens.length>0&&t.tokens[0].tokens[0].type==="text"&&(t.tokens[0].tokens[0].text=A+" "+vs(t.tokens[0].tokens[0].text),t.tokens[0].tokens[0].escaped=!0)):t.tokens.unshift({type:"text",raw:A+" ",text:A+" ",escaped:!0}):e+=A+" "}return e+=this.parser.parse(t.tokens,!!t.loose),`<li>${e}</li>
`}checkbox({checked:t}){return"<input "+(t?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:t}){return`<p>${this.parser.parseInline(t)}</p>
`}table(t){let e="",A="";for(let r=0;r<t.header.length;r++)A+=this.tablecell(t.header[r]);e+=this.tablerow({text:A});let n="";for(let r=0;r<t.rows.length;r++){let s=t.rows[r];A="";for(let i=0;i<s.length;i++)A+=this.tablecell(s[i]);n+=this.tablerow({text:A})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow({text:t}){return`<tr>
${t}</tr>
`}tablecell(t){let e=this.parser.parseInline(t.tokens),A=t.header?"th":"td";return(t.align?`<${A} align="${t.align}">`:`<${A}>`)+e+`</${A}>
`}strong({tokens:t}){return`<strong>${this.parser.parseInline(t)}</strong>`}em({tokens:t}){return`<em>${this.parser.parseInline(t)}</em>`}codespan({text:t}){return`<code>${vs(t,!0)}</code>`}br(t){return"<br>"}del({tokens:t}){return`<del>${this.parser.parseInline(t)}</del>`}link({href:t,title:e,tokens:A}){let n=this.parser.parseInline(A),r=F4(t);if(r===null)return n;t=r;let s='<a href="'+t+'"';return e&&(s+=' title="'+vs(e)+'"'),s+=">"+n+"</a>",s}image({href:t,title:e,text:A,tokens:n}){n&&(A=this.parser.parseInline(n,this.parser.textRenderer));let r=F4(t);if(r===null)return vs(A);t=r;let s=`<img src="${t}" alt="${A}"`;return e&&(s+=` title="${vs(e)}"`),s+=">",s}text(t){return"tokens"in t&&t.tokens?this.parser.parseInline(t.tokens):"escaped"in t&&t.escaped?t.text:vs(t.text)}},nx=class{strong({text:t}){return t}em({text:t}){return t}codespan({text:t}){return t}del({text:t}){return t}html({text:t}){return t}text({text:t}){return t}link({text:t}){return""+t}image({text:t}){return""+t}br(){return""}},Wr=class Mx{options;renderer;textRenderer;constructor(e){this.options=e||Ho,this.options.renderer=this.options.renderer||new om,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new nx}static parse(e,A){return new Mx(A).parse(e)}static parseInline(e,A){return new Mx(A).parseInline(e)}parse(e,A=!0){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=a||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);continue}case"hr":{n+=this.renderer.hr(i);continue}case"heading":{n+=this.renderer.heading(i);continue}case"code":{n+=this.renderer.code(i);continue}case"table":{n+=this.renderer.table(i);continue}case"blockquote":{n+=this.renderer.blockquote(i);continue}case"list":{n+=this.renderer.list(i);continue}case"html":{n+=this.renderer.html(i);continue}case"def":{n+=this.renderer.def(i);continue}case"paragraph":{n+=this.renderer.paragraph(i);continue}case"text":{let o=i,a=this.renderer.text(o);for(;r+1<e.length&&e[r+1].type==="text";)o=e[++r],a+=`
`+this.renderer.text(o);A?n+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):n+=a;continue}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(e,A=this.renderer){let n="";for(let r=0;r<e.length;r++){let s=e[r];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let i=s;switch(i.type){case"escape":{n+=A.text(i);break}case"html":{n+=A.html(i);break}case"link":{n+=A.link(i);break}case"image":{n+=A.image(i);break}case"strong":{n+=A.strong(i);break}case"em":{n+=A.em(i);break}case"codespan":{n+=A.codespan(i);break}case"br":{n+=A.br(i);break}case"del":{n+=A.del(i);break}case"text":{n+=A.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},cu=class{options;block;constructor(t){this.options=t||Ho}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(t){return t}postprocess(t){return t}processAllTokens(t){return t}emStrongMask(t){return t}provideLexer(){return this.block?Vr.lex:Vr.lexInline}provideParser(){return this.block?Wr.parse:Wr.parseInline}},Tle=class{defaults=W_();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=Wr;Renderer=om;TextRenderer=nx;Lexer=Vr;Tokenizer=im;Hooks=cu;constructor(...t){this.use(...t)}walkTokens(t,e){let A=[];for(let n of t)switch(A=A.concat(e.call(this,n)),n.type){case"table":{let r=n;for(let s of r.header)A=A.concat(this.walkTokens(s.tokens,e));for(let s of r.rows)for(let i of s)A=A.concat(this.walkTokens(i.tokens,e));break}case"list":{let r=n;A=A.concat(this.walkTokens(r.items,e));break}default:{let r=n;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let i=r[s].flat(1/0);A=A.concat(this.walkTokens(i,e))}):r.tokens&&(A=A.concat(this.walkTokens(r.tokens,e)))}}return A}use(...t){let e=this.defaults.extensions||{renderers:{},childTokens:{}};return t.forEach(A=>{let n={...A};if(n.async=this.defaults.async||n.async||!1,A.extensions&&(A.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=e.renderers[r.name];s?e.renderers[r.name]=function(...i){let o=r.renderer.apply(this,i);return o===!1&&(o=s.apply(this,i)),o}:e.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=e[r.level];s?s.unshift(r.tokenizer):e[r.level]=[r.tokenizer],r.start&&(r.level==="block"?e.startBlock?e.startBlock.push(r.start):e.startBlock=[r.start]:r.level==="inline"&&(e.startInline?e.startInline.push(r.start):e.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(e.childTokens[r.name]=r.childTokens)}),n.extensions=e),A.renderer){let r=this.defaults.renderer||new om(this.defaults);for(let s in A.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let i=s,o=A.renderer[i],a=r[i];r[i]=(...c)=>{let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l||""}}n.renderer=r}if(A.tokenizer){let r=this.defaults.tokenizer||new im(this.defaults);for(let s in A.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let i=s,o=A.tokenizer[i],a=r[i];r[i]=(...c)=>{let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l}}n.tokenizer=r}if(A.hooks){let r=this.defaults.hooks||new cu;for(let s in A.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let i=s,o=A.hooks[i],a=r[i];cu.passThroughHooks.has(s)?r[i]=c=>{if(this.defaults.async&&cu.passThroughHooksRespectAsync.has(s))return(async()=>{let u=await o.call(r,c);return a.call(r,u)})();let l=o.call(r,c);return a.call(r,l)}:r[i]=(...c)=>{if(this.defaults.async)return(async()=>{let u=await o.apply(r,c);return u===!1&&(u=await a.apply(r,c)),u})();let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l}}n.hooks=r}if(A.walkTokens){let r=this.defaults.walkTokens,s=A.walkTokens;n.walkTokens=function(i){let o=[];return o.push(s.call(this,i)),r&&(o=o.concat(r.call(this,i))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(t){return this.defaults={...this.defaults,...t},this}lexer(t,e){return Vr.lex(t,e??this.defaults)}parser(t,e){return Wr.parse(t,e??this.defaults)}parseMarkdown(t){return(e,A)=>{let n={...A},r={...this.defaults,...n},s=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof e>"u"||e===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof e!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=t),r.async)return(async()=>{let i=r.hooks?await r.hooks.preprocess(e):e,o=await(r.hooks?await r.hooks.provideLexer():t?Vr.lex:Vr.lexInline)(i,r),a=r.hooks?await r.hooks.processAllTokens(o):o;r.walkTokens&&await Promise.all(this.walkTokens(a,r.walkTokens));let c=await(r.hooks?await r.hooks.provideParser():t?Wr.parse:Wr.parseInline)(a,r);return r.hooks?await r.hooks.postprocess(c):c})().catch(s);try{r.hooks&&(e=r.hooks.preprocess(e));let i=(r.hooks?r.hooks.provideLexer():t?Vr.lex:Vr.lexInline)(e,r);r.hooks&&(i=r.hooks.processAllTokens(i)),r.walkTokens&&this.walkTokens(i,r.walkTokens);let o=(r.hooks?r.hooks.provideParser():t?Wr.parse:Wr.parseInline)(i,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(i){return s(i)}}}onError(t,e){return A=>{if(A.message+=`
Please report this to https://github.com/markedjs/marked.`,t){let n="<p>An error occurred:</p><pre>"+vs(A.message+"",!0)+"</pre>";return e?Promise.resolve(n):n}if(e)return Promise.reject(A);throw A}}},Lo=new Tle;function kt(t,e){return Lo.parse(t,e)}kt.options=kt.setOptions=function(t){return Lo.setOptions(t),kt.defaults=Lo.defaults,Y4(kt.defaults),kt},kt.getDefaults=W_,kt.defaults=Ho,kt.use=function(...t){return Lo.use(...t),kt.defaults=Lo.defaults,Y4(kt.defaults),kt},kt.walkTokens=function(t,e){return Lo.walkTokens(t,e)},kt.parseInline=Lo.parseInline,kt.Parser=Wr,kt.parser=Wr.parse,kt.Renderer=om,kt.TextRenderer=nx,kt.Lexer=Vr,kt.lexer=Vr.lex,kt.Tokenizer=im,kt.Hooks=cu,kt.parse=kt,kt.options,kt.setOptions,kt.use,kt.walkTokens,kt.parseInline,Wr.parse,Vr.lex;const am="$dkpurple",Yle="$196",Ole="$205";function Q4(t,e){const A=Yle.repeat(e);we(t,`${am}${A}`)}function Sle(t,e){const A=Ole.repeat(e);we(t,`${am}${A}`)}function Zle(t,e){we(t,`${am} ${" ".repeat(e.length)} `),Q4(t,e.length+2),we(t,`${am} $white${e} `),Sle(t,e.length+2)}function q4(t,e,A){const n=e.split(" ");switch(je(n[0]??"")){case"copyit":Te(t,"refscroll",A,["",n[0]??"",n[1]??""]);break;default:{switch(je(n[1]??"")){case"hk":case"hotkey":Te(t,"refscroll",A,[n[0]??"",n[1]??"",n[2]??"",` ${n[3]??""} `,n[4]??""]);break;default:Te(t,"refscroll",A,[n[0]??""]);break}break}}}function Pi(t,e){switch(e.type){default:console.info("unknown",e);break;case"heading":Zle(t,e.text),we(t," ");break;case"hr":we(t," "),Q4(t,10),we(t," ");break;case"paragraph":for(let A=0;A<(e.tokens?.length??0);++A)G(e.tokens?.[A])&&Pi(t,e.tokens[A]);break;case"code":e.text.split(`
`).forEach(A=>we(t,A.replace(/\s+/g," ").trim()));break;case"text":we(t,e.text);break;case"link":{const[A,...n]=e.text.split("|").map(s=>s.trim()),r=[...n,e.href??""];q4(t,r.join(" "),A);break}case"image":q4(t,`openit ${e.href}`,`show ${e.title??e.href}`);break;case"blockquote":e.text.split(`
`).forEach(A=>{we(t,`$dkpurple$221$white  ${A}`)}),we(t," ");break;case"list":for(let A=0;A<(e.items?.length??0);++A)G(e.items?.[A])&&Pi(t,e.items[A]);we(t," ");break;case"list_item":we(t,` $grey$7 ${e.text}`);break}}function Cle(t,e){kt.use({pedantic:!1,gfm:!0,breaks:!1,renderer:{heading(A){return Pi(t,A),""},blockquote(A){return Pi(t,A),""},hr(A){return Pi(t,A),""},list(A){return Pi(t,A),""},listitem(A){return Pi(t,A),""},paragraph(A){return Pi(t,A),""}}}),kt.parse(e)}typeof SuppressedError=="function"&&SuppressedError;var K4;(function(t){t[t.Audio=1]="Audio",t[t.Cache=2]="Cache",t[t.Config=3]="Config",t[t.Data=4]="Data",t[t.LocalData=5]="LocalData",t[t.Document=6]="Document",t[t.Download=7]="Download",t[t.Picture=8]="Picture",t[t.Public=9]="Public",t[t.Video=10]="Video",t[t.Resource=11]="Resource",t[t.Temp=12]="Temp",t[t.AppConfig=13]="AppConfig",t[t.AppData=14]="AppData",t[t.AppLocalData=15]="AppLocalData",t[t.AppCache=16]="AppCache",t[t.AppLog=17]="AppLog",t[t.Desktop=18]="Desktop",t[t.Executable=19]="Executable",t[t.Font=20]="Font",t[t.Home=21]="Home",t[t.Runtime=22]="Runtime",t[t.Template=23]="Template"})(K4||(K4={}));var J4;(function(t){t[t.Start=0]="Start",t[t.Current=1]="Current",t[t.End=2]="End"})(J4||(J4={}));function cm(t){return new Promise((e,A)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>A(t.error)})}function Ple(t,e){let A;const n=()=>{if(A)return A;const r=indexedDB.open(t);return r.onupgradeneeded=()=>r.result.createObjectStore(e),A=cm(r),A.then(s=>{s.onclose=()=>A=void 0},()=>{}),A};return(r,s)=>n().then(i=>s(i.transaction(e,r).objectStore(e)))}let rx;function sx(){return rx||(rx=Ple("keyval-store","keyval")),rx}function lu(t,e=sx()){return e("readonly",A=>cm(A.get(t)))}function Rle(t,e=sx()){return e("readonly",A=>Promise.all(t.map(n=>cm(A.get(n)))))}function uu(t,e,A=sx()){return A("readwrite",n=>new Promise((r,s)=>{n.get(t).onsuccess=function(){try{n.put(e(this.result),t),r(cm(n.transaction))}catch(i){s(i)}}}))}async function Ile(t){return lu(t)}async function jle(t,e){return uu(t,e)}function ix(t){return t==="crt"?"on":"off"}async function zle(t){const e=await Ile(`config_${t}`);return e?e&&e!=="off"?"on":"off":ix(t)}async function Hle(t,e){return jle(`config_${t}`,()=>e)}async function Lle(){const t=["config_crt","config_lowrez","config_scanlines","config_voice2text","config_loaderlogging"];return(await Rle(t)).map((A,n)=>{const s=t[n].replace("config_","");return A?[s,A&&A!=="off"?"on":"off"]:[s,ix(s)]})}let Qr={stylechars:1,stylecolors:1,stylebgs:1};async function Ule(t,e,A,n){await Vle(()=>Qr);const r=Et(t),s=await ox();if(!G(r)||!G(s))return;const i=Math.min(e.x,A.x),o=Math.min(e.y,A.y),a=Math.max(e.x,A.x),c=Math.max(e.y,A.y),l=a-i+1,u=c-o+1,h=Math.min(s.width,l),f=Math.min(s.height,u);for(let d=0;d<f;++d)for(let m=0;m<h;++m){const p=vn({x:m,y:d},s.width),g=s.flattened[p],w=pA(g),x={x:i+m,y:o+d};if(n==="styleall"||n==="styleobjects"){const v=nt(r,x);G(v)&&vt(v)&&(Qr.stylechars&&(v.char=w.char),Qr.stylecolors&&(v.color=w.color),Qr.stylebgs&&(v.bg=w.bg))}if(n==="styleall"||n==="styleterrain"){const v=Mr(r,x.x,x.y);G(v)&&(Qr.stylechars&&(v.char=w.char),Qr.stylecolors&&(v.color=w.color),Qr.stylebgs&&(v.bg=w.bg))}}}async function $le(t,e,A){const n=await Fle();Qr={...Qr,...n};const r=Er(e,A);function s(a){return Qr[a]}function i(a,c){(Ne(c)||xe(c))&&(Qr[a]=c)}we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,"apply visuals from the terrain"),we(t,"stored in the paste buffer"),Te(t,"batch","style chars?",["stylechars","select","no","0","yes","1"],s,i),Te(t,"batch","style colors?",["stylecolors","select","no","0","yes","1"],s,i),Te(t,"batch","style bgs?",["stylebgs","select","no","0","yes","1"],s,i),we(t,St),Te(t,"batch","style terrain & objects",[`styleall:${r}`,"hk","1"]),Te(t,"batch","style objects",[`styleobjects:${r}`,"hk","2"]),Te(t,"batch","style terrain",[`styleterrain:${r}`,"hk","3"]);const o=Gt(t);o.scrollname="style",o.scroll=Lt(t)}async function Fle(){return lu("styleconfig")}async function Vle(t){return uu("styleconfig",t)}function X4(t,e,A){const n=Math.min(e.x,A.x),r=Math.min(e.y,A.y),s=Math.max(e.x,A.x),i=Math.max(e.y,A.y),o=s-n+1,a=i-r+1,c=[],l=[],u=[];for(let h=r;h<=i;++h)for(let f=n;f<=s;++f){const d={x:f-n,y:h-r},m=nt(t,{x:f,y:h});if(m?.kind==="player"){const p=JA(Mr(t,f,h));c.push(p),u.push(p)}else m?.category===yn.ISOBJECT?(c.push(JA(Mr(t,f,h))),l.push({...JA(m),...d,id:"blank"})):c.push({...JA(m),...d}),u.push(JA(m))}return{board:t.id,width:o,height:a,terrain:c,objects:l,flattened:u}}async function eS(t){return uu("secretheap",t)}async function Wle(){return!!await ox()}async function Qle(t,e){const A=Et(e);if(!G(A))return;const n=tr(t),[r,s,i,o]=n.path.split(",").map(l=>parseFloat(l)),a={x:Math.min(r,i),y:Math.min(s,o)},c={x:Math.max(r,i),y:Math.max(s,o)};switch(n.target){case"copy":Kle(e,a,c);break;case"copyall":case"copyobjects":case"copyterrain":await qle(e,a,c,n.target);break;case"copyastext":{const l=Math.min(a.x,c.x),u=Math.min(a.y,c.y),h=Math.max(a.x,c.x),f=Math.max(a.y,c.y);let d="";for(let m=u;m<=f;++m){let p=Xe.ONCLEAR,g=Xe.ONCLEAR;d+="";for(let w=l;w<=h;++w){const x=Mr(A,w,m),v=pA(x);v.color!=p&&(p=v.color,d+=`$${Xe[v.color]}`.toLowerCase()),v.bg!=g&&(g=v.bg,d+=`$ON${Xe[v.bg]}`.toLowerCase()),d+=`$${v.char}`}d+=`
`}_u(te,e,d),Bs(te,e,`copied! chars ${l},${u} to ${h},${f}`);break}case"cut":Xle(e,a,c);break;case"cutall":case"cutobjects":case"cutterrain":await Jle(e,a,c,n.target);break;case"paste":tue(e,a,c);break;case"pasteall":case"pasteobjects":case"pasteterrain":case"pasteterraintiled":await eue(e,a,c,n.target);break;case"style":await $le(e,a,c);break;case"styleall":case"styleobjects":case"styleterrain":await Ule(e,a,c,n.target);break;case"empty":hue(e,a,c);break;case"emptyall":case"emptyobjects":case"emptyterrain":uue(e,a,c,n.target);break;case"chars":iue(e,a,c,"char");break;case"colors":aue(e,a,c,"color");break;case"bgs":rue(e,a,c,"bg");break;case"copycoords":_u(te,e,[r,s,i,o].join(" "));break;case"pageopen":Ht(te,e,async()=>{await Vi(800),Fi(te,e,`#pageopen ${n.path}`)});break;default:console.info("unknown batch",n);break}}async function qle(t,e,A,n){const r=Et(t);if(!G(r))return;const s=X4(r,e,A);switch(n){case"copyobjects":s.terrain=[];break;case"copyterrain":s.objects=[];break}await eS(()=>s)}function Kle(t,e,A){const n=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,"batch","copy terrain & objects",[`copyall:${n}`,"hk","1"]),Te(t,"batch","copy objects",[`copyobjects:${n}`,"hk","2"]),Te(t,"batch","copy terrain",[`copyterrain:${n}`,"hk","3"]),Te(t,"batch","copy as text",[`copyastext:${n}`,"hk","4"]);const r=Gt(t);r.scrollname="copy",r.scroll=Lt(t)}async function Jle(t,e,A,n){const r=zA(He.MAIN);if(!G(r))return;const s=Et(t);if(!G(s))return;const i=X4(s,e,A);switch(n){case"cutobjects":i.terrain=[];break;case"cutterrain":i.objects=[];break}switch(n){case"cutall":{for(let o=e.y;o<=A.y;++o)for(let a=e.x;a<=A.x;++a){const c=nt(s,{x:a,y:o});c?.category===yn.ISOBJECT&&KA(s,c,r.timestamp),Kt(s,{x:a,y:o})}break}case"cutobjects":{for(let o=e.y;o<=A.y;++o)for(let a=e.x;a<=A.x;++a){const c=nt(s,{x:a,y:o});c?.category===yn.ISOBJECT&&KA(s,c,r.timestamp)}break}case"cutterrain":{for(let o=e.y;o<=A.y;++o)for(let a=e.x;a<=A.x;++a)Kt(s,{x:a,y:o});break}}await eS(()=>i)}function Xle(t,e,A){const n=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,"batch","cut terrain & objects",[`cutall:${n}`,"hk","1"]),Te(t,"batch","cut objects",[`cutobjects:${n}`,"hk","2"]),Te(t,"batch","cut terrain",[`cutterrain:${n}`,"hk","3"]);const r=Gt(t);r.scrollname="cut",r.scroll=Lt(t)}async function eue(t,e,A,n){const r=Et(t),s=await ox();if(!G(r)||!G(s))return;const i=Math.min(e.x,A.x),o=Math.min(e.y,A.y),a=Math.max(e.x,A.x),c=Math.max(e.y,A.y),l=a-i+1,u=c-o+1,h=Math.min(s.width,l),f=Math.min(s.height,u);switch(n){case"pasteall":{for(let d=0;d<f;++d)for(let m=0;m<h;++m){const p=vn({x:m,y:d},s.width);Kt(r,{...s.terrain[p],x:i+m,y:o+d})}for(let d=0;d<s.objects.length;++d){const m=s.objects[d];G(m.x)&&G(m.y)&&bg(m.x,m.y,0,l-1,u-1,0)&&z_(r,{...m,id:void 0,x:i+m.x,y:o+m.y})}break}case"pasteobjects":for(let d=0;d<s.objects.length;++d){const m=s.objects[d];G(m.x)&&G(m.y)&&bg(m.x,m.y,0,l-1,u-1,0)&&z_(r,{...m,id:void 0,x:i+m.x,y:o+m.y})}break;case"pasteterrain":for(let d=0;d<f;++d)for(let m=0;m<h;++m){const p=vn({x:m,y:d},s.width);Kt(r,{...s.terrain[p],x:i+m,y:o+d})}break;case"pasteterraintiled":for(let d=o;d<=c;++d)for(let m=i;m<=a;++m){const p=(m-i)%s.width,g=(d-o)%s.height,w=vn({x:p,y:g},s.width);Kt(r,{...s.terrain[w],x:m,y:d})}break}}function tue(t,e,A){const n=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,"batch","paste terrain & objects",[`pasteall:${n}`,"hk","1"]),Te(t,"batch","paste objects",[`pasteobjects:${n}`,"hk","2"]),Te(t,"batch","paste terrain",[`pasteterrain:${n}`,"hk","3"]),Te(t,"batch","paste terrain tiled",[`pasteterraintiled:${n}`,"hk","4"]);const r=Gt(t);r.scrollname="paste",r.scroll=Lt(t)}async function ox(){return lu("secretheap")}function ax(t,e){return`inspect:${e?.id??ni(t,e)}`}function cx(t,e){const A=MA(Oe.BOARD,e);we(t,`board ${wt(A)}:`),Te(t,"batch",`board id ${e}`,["copyit",e]),Te(t,"batch","edit board codepage",[`pageopen:${e}`])}function lx(t,e,A){const n=AO("text","gadget:action");n.length&&we(t,"gadget actions:");const r=Er(e,A);for(let s=0;s<n.length;++s){const i=n[s],o=wt(i);Te(t,"gadget",`run ${o}`,["action","",i.id,r])}}async function Aue(t,e,A){const n=zA(He.MAIN),r=await Wle();if(!G(n))return;const s=Et(t);if(!G(s))return;if(tA(s),e.x===A.x&&e.y===A.y){const o=nt(s,e),a=R8(n,o);G(o)&&G(a)&&lue(t,s,a,o,e,vt(o)),o?.kind||(we(t,`empty: ${e.x}, ${e.y}`),we(t,St),Te(t,"empty","copy coords",[`copycoords:${e.x},${e.y}`,"hk","5"," 5 "]),lx(t,e,A),cx(t,s.id))}else nue(t,e,A,r);const i=Gt(t);i.scrollname="inspect",i.scroll=Lt(t)}function nue(t,e,A,n){const r=zA(He.MAIN);if(!G(r))return;const s=Et(t);if(!G(s))return;let i=0;function o(m){return m==="group"?i:0}function a(m,p){m==="group"&&Ne(p)&&(i=p,_g(e.x,e.y,A.x,A.y).forEach(g=>{const w=nt(s,g);G(w)&&(w[m]=`group${p}`)}))}const c=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,"batch","copy elements",[`copy:${c}`,"hk","1"," 1 ","next"]),Te(t,"batch","cut elements",[`cut:${c}`,"hk","2"," 2 ","next"]),n&&Te(t,"batch","paste elements",[`paste:${c}`,"hk","3"," 3 ","next"]),Te(t,"batch","copy coords",[`copycoords:${c}`,"hk","5"," 5 "]),n&&Te(t,"batch","style transfer",[`style:${c}`,"hk","s"," S ","next"]),Te(t,"remix","remix coords",[`remix:${c}`,"hk","r"," R ","next"]),we(t,St),Te(t,"batch","set chars:",[`chars:${c}`,"hk","a"," A ","next"]),Te(t,"batch","set colors:",[`colors:${c}`,"hk","c"," C ","next"]),Te(t,"batch","set bgs:",[`bgs:${c}`,"hk","b"," B ","next"]),Te(t,`groups:${c}`,"group",["group","select","none","0",...sl(1,127).map(m=>[`group${m}`,`${m}`]).flat()],o,a),we(t,St),Te(t,"batch","make empty",[`empty:${c}`,"hk","0"," 0 ","next"]),we(t,St),lx(t,e,A),we(t,"codepages:");const l=Math.min(e.x,A.x),u=Math.min(e.y,A.y),h=Math.max(e.x,A.x),f=Math.max(e.y,A.y),d=new Set;for(let m=u;m<=f;++m)for(let p=l;p<=h;++p){const g=nt(s,{x:p,y:m}),w=R8(r,g);G(w)&&!d.has(w.id)&&(d.add(w.id),Te(t,"batch",`edit @${wt(w)}`,[`pageopen:${w.id}`]))}cx(t,s.id)}function rue(t,e,A,n){const r=Et(t);if(!G(r))return;let s=0;function i(){return s}function o(c,l){Ne(l)&&(s=l,_g(e.x,e.y,A.x,A.y).forEach(u=>{const h=nt(r,u);G(h)&&(h[c]=l)}))}we(t,`batch chars: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,`batch:${Er(e,A)}`,"bg",[n,"bgedit"],i,o);const a=Gt(t);a.scrollname="bulk set bg",a.scroll=Lt(t)}function sue(t,e,A){const n=zA(He.MAIN);if(!G(n))return;const r=Et(t);if(!G(r))return;function s(h){return e?.[h]??e?.kinddata?.[h]??0}function i(h,f){G(e)&&(e[h]=f)}const o=e.category===yn.ISTERRAIN?"terrain":"object",a=e.name??e.kind??"ERR",c=`${e.x??-1}, ${e.y??-1}`,l=ax(r,e);we(t,`${o}: ${a} ${c}`),we(t,St),Te(t,l,"char",[A,"charedit"],s,i);const u=Gt(t);u.scrollname="char",u.scroll=Lt(t)}function iue(t,e,A,n){const r=Et(t);if(!G(r))return;let s=0;function i(){return s}function o(c,l){Ne(l)&&(s=l,_g(e.x,e.y,A.x,A.y).forEach(u=>{const h=nt(r,u);G(h)&&(h[c]=l)}))}we(t,`batch chars: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,`batch:${Er(e,A)}`,"char",[n,"charedit"],i,o);const a=Gt(t);a.scrollname="bulk set char",a.scroll=Lt(t)}function oue(t,e,A){const n=zA(He.MAIN);if(!G(n))return;const r=Et(t);if(!G(r))return;function s(h){return e?.[h]??e?.kinddata?.[h]??0}function i(h,f){G(e)&&(e[h]=f)}const o=e.category===yn.ISTERRAIN?"terrain":"object",a=e.name??e.kind??"ERR",c=`${e.x??-1}, ${e.y??-1}`,l=ax(r,e);we(t,`${o}: ${a} ${c}`),we(t,St),Te(t,l,"color",[A,`${A}edit`],s,i);const u=Gt(t);u.scrollname=A,u.scroll=Lt(t)}function aue(t,e,A,n){const r=Et(t);if(!G(r))return;let s=0;function i(){return s}function o(c,l){if(Ne(l)){s=l;for(let u=e.y;u<=A.y;++u)for(let h=e.x;h<=A.x;++h){const f=nt(r,{x:h,y:u});G(f)&&(f[c]=l)}}}we(t,`batch chars: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,`batch:${Er(e,A)}`,"color",[n,"coloredit"],i,o);const a=Gt(t);a.scrollname="bulk set color",a.scroll=Lt(t)}function cue(t,e){const A=bt(He.MAIN);if(!G(A))return;const n=Et(e);if(!G(n))return;const r=tr(t),s=j_(n,r.target);if(G(s))switch(r.path){case"copycoords":_u(te,gA(),[s.x??0,s.y??0].join(" "));break;case"bg":case"color":oue(e,s,r.path);break;case"char":sue(e,s,r.path);break;case"empty":KA(n,s,A.timestamp);break;case"code":Ht(te,e,async()=>{const i="object",o=[n.id,s.id];ig(xu(A.id,o),s.code??""),kZ(te,e),await Vi(800);const c=`${k_(s)}$ONCLEAR$GREEN ${s.name??s.kind??"??"} - ${A.name}`;qx(te,e,A.id,o,i,c)});break;default:console.info("unknown inspect",r);break}}function lue(t,e,A,n,r,s){const i=zA(He.MAIN);if(!G(i))return;function o(f){const d=n?.[f]??n?.kinddata?.[f];if(f==="group")return parseFloat(n.group?.replace("group","")??"0");if(!G(d))switch(f){case"color":return 15;case"bg":return 0;case"group":return 0;case"cycle":return AG;case"collision":return Fe.ISWALK;case"pushable":return 0;case"breakable":return 0}return d}function a(f,d){G(n)&&(f==="group"?n.group=`group${d}`:n[f]=d)}s?we(t,`object: ${n.name??n.kind??"ERR"} ${r.x}, ${r.y}`):we(t,`terrain: ${n.kind??"ERR"} ${r.x}, ${r.y}`);const c=ax(e,n);switch(s&&we(t,`cycle: ${We(n,"cycle")}`),We(n,"collision")){case Fe.ISWALK:we(t,"collision: iswalk");break;case Fe.ISSWIM:we(t,"collision: isswim");break;case Fe.ISSOLID:we(t,"collision: issolid");break;case Fe.ISBULLET:we(t,"collision: isbullet");break;case Fe.ISGHOST:we(t,"collision: isghost");break}s&&we(t,`ispushable: ${We(n,"pushable")?"yes":"no"}`),we(t,`isbreakable: ${We(n,"breakable")?"yes":"no"}`),we(t,St);const u=Ea(A),h=Mn(u);for(let f=0;f<h.length;++f){const d=h[f];switch(d){case"char":case"cycle":case"color":case"bg":case"group":case"collision":case"pushable":case"breakable":break;default:if(st(u[d])){const[m,p,...g]=u[d];xe(p)&&Te(t,c,p||d,[d,m,...g],o,a)}break}}Te(t,c,"copy coords",["copycoords","hk","5"," 5 "]),we(t,St),Te(t,c,`char: ${n.char??n.kinddata?.char??1}`,["char","hk","a"," A ","next"],o,a),Te(t,c,`color: ${n.color??n.kinddata?.color??15}`,["color","hk","c"," C ","next"],o,a),Te(t,c,`bg: ${n.bg??n.kinddata?.bg??0}`,["bg","hk","b"," B ","next"],o,a),Te(t,c,"group",["group","select","none","0",...sl(1,127).map(f=>[`group${f}`,`${f}`]).flat()],o,a),we(t,St),Te(t,c,"make empty",["empty","hk","0"],o,a),we(t,St),lx(t,r,r),we(t,"codepages:"),Te(t,"batch",`edit @${wt(A)}`,[`pageopen:${A.id}`]),cx(t,e.id)}function uue(t,e,A,n){const r=zA(He.MAIN);if(!G(r))return;const s=Et(t);if(G(s))switch(n){case"emptyall":{for(let i=e.y;i<=A.y;++i)for(let o=e.x;o<=A.x;++o){const a=nt(s,{x:o,y:i});a?.category===yn.ISOBJECT&&KA(s,a,r.timestamp),Kt(s,{x:o,y:i})}break}case"emptyobjects":{for(let i=e.y;i<=A.y;++i)for(let o=e.x;o<=A.x;++o){const a=nt(s,{x:o,y:i});a?.category===yn.ISOBJECT&&KA(s,a,r.timestamp)}break}case"emptyterrain":{for(let i=e.y;i<=A.y;++i)for(let o=e.x;o<=A.x;++o)Kt(s,{x:o,y:i});break}}}function hue(t,e,A){const n=zA(He.MAIN);if(!G(n))return;const r=Et(t);if(!G(r))return;const s=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St),Te(t,"batch","clear terrain & objects",[`emptyall:${s}`,"hk","1"]),Te(t,"batch","clear objects",[`emptyobjects:${s}`,"hk","2"]),Te(t,"batch","clear terrain",[`emptyterrain:${s}`,"hk","3"]);const i=Gt(t);i.scrollname="empty",i.scroll=Lt(t)}let dc={expr1:"player",expr2:"",expr3:"",expr4:""};async function fue(t,e){const A=Et(e);if(!G(A))return;await pue(()=>dc);const n=dc[t]??"";G(n)?Fi(te,e,`#findany ${n?`any ${n}`:""}`):Fi(te,e,"#findany")}async function due(t){const e=await mue();dc={...dc,...e};const A=Et(t);if(!G(A))return;we(t,"find any element(s)"),we(t,St);function n(i){return dc[i]}function r(i,o){(Ne(o)||xe(o))&&(dc[i]=o)}Te(t,"findany","slot 1: any",["expr1","text"],n,r),Te(t,"findany","slot 2: any",["expr2","text"],n,r),Te(t,"findany","slot 3: any",["expr3","text"],n,r),Te(t,"findany","slot 4: any",["expr4","text"],n,r),we(t,St),Te(t,"findany","clear find(s)",["clear","hk","c"," C "]),Te(t,"findany","find 1",["expr1","hk","1"," 1 "]),Te(t,"findany","find 2",["expr2","hk","2"," 2 "]),Te(t,"findany","find 3",["expr3","hk","3"," 3 "]),Te(t,"findany","find 4",["expr4","hk","4"," 4 "]);const s=Gt(t);s.scrollname="findany",s.scroll=Lt(t)}async function mue(){return lu("findanyconfig")}async function pue(t){return uu("findanyconfig",t)}function Uo(t,e){switch(t){case Oe.OBJECT:we(e,"$greenobject - moving board elements");break;case Oe.TERRAIN:we(e,"$greenterrain - walkable, walls, or water");break;case Oe.BOARD:we(e,"$greenboard - 60 x 25 area of terrain & object");break;case Oe.LOADER:we(e,"$greenloader - run code on @event(s)");break;case Oe.PALETTE:we(e,"$greenpalette - custom 16 colors");break;case Oe.CHARSET:we(e,"$greencharset - custom ascii font");break}}function gue(t,e){const A=dn(t);Uo(A,e),Te(e,"makeit",`edit$CYAN @${bs(t)} ${wt(t)}`,["edit","",t.id]),t.code.split(`
`).slice(1,6).forEach(r=>we(e,`$WHITE  ${r}`))}function wue(t,e){const A=QA();let n=!0;for(let r=0;r<A.length;++r){const s=HF(A[r],t);for(let i=0;i<s.length;++i)n=!1,gue(s[i],e)}return n}function bue(t){const e=QA();for(let A=0;A<e.length;++A){const n=xi(e[A],t);if(G(n))return n}}function _ue(t,e,A){function n(s){const i=bs(s),o=wt(s);_t(te,A,`!pageopen ${s.id};$blue[${i}]$white ${o}`)}function r(s,i){Ht(te,A,async()=>{G(s)&&(i&&n(s),await Vi(800),Fi(te,A,`#pageopen ${s.id}`))})}switch(t){case"edit":{const[s]=e;r(bue(s),!1);break}case"create":{const[s,i]=e;switch(s){case On(Ge.LOADER):{const[o,a]=xo(He.MAIN,i,Oe.LOADER);r(o,a);break}case On(Ge.BOARD):{const[o]=xo(He.MAIN,i,Oe.BOARD);if(G(o)){n(o);const a=bt(He.MAIN),c={x:Math.round(Re*.5),y:Math.round(rt*.5)};Ti(a,A,o.id,c)}break}case On(Ge.OBJECT):{const[o,a]=xo(He.MAIN,i,Oe.OBJECT);r(o,a);break}case On(Ge.TERRAIN):{const[o,a]=xo(He.MAIN,i,Oe.TERRAIN);r(o,a);break}case On(Ge.CHARSET):{const[o,a]=xo(He.MAIN,i,Oe.CHARSET);r(o,a);break}case On(Ge.PALETTE):{const[o,a]=xo(He.MAIN,i,Oe.PALETTE);r(o,a);break}}break}}}function xue(t,e){const[A,n]=t.split(";"),r=A.split(" "),s=Iw(n,r,!0),i=Iw(n,r,!1);function o(l,u){const h=On(l);switch(l){case Ge.OBJECT:Uo(Oe.OBJECT,e);break;case Ge.TERRAIN:Uo(Oe.TERRAIN,e);break;case Ge.BOARD:Uo(Oe.BOARD,e);break;case Ge.LOADER:Uo(Oe.LOADER,e);break;case Ge.PALETTE:Uo(Oe.PALETTE,e);break;case Ge.CHARSET:Uo(Oe.CHARSET,e);break}switch(l){case Ge.OBJECT:Te(e,"makeit",`create object$CYAN @${u}`,["create","hk","o","","",h,u]);break;case Ge.TERRAIN:Te(e,"makeit",`create$CYAN @terrain ${u}`,["create","hk","t","","",h,u]);break;case Ge.BOARD:Te(e,"makeit",`create$CYAN @board ${u}`,["create","hk","b","","",h,u]);break;case Ge.LOADER:Te(e,"makeit",`create$CYAN @loader ${u}`,["create","hk","l","","",h,u]);break;case Ge.PALETTE:Te(e,"makeit",`create$CYAN @palette ${u}`,["create","hk","p","","",h,u]);break;case Ge.CHARSET:Te(e,"makeit",`create$CYAN @charset ${u}`,["create","hk","c","","",h,u]);break}we(e,"")}if(wue(A,e))switch(s.type){case Ge.LOADER:case Ge.BOARD:case Ge.TERRAIN:case Ge.CHARSET:case Ge.PALETTE:{const l=s.values.join(" ");o(s.type,l);break}case Ge.OBJECT:if(i.values[0].toLowerCase()==="object"){const u=i.values.slice(1).join(" ");o(s.type,u)}else{const l=i.values.join(" ");switch(i.type){case Ge.CONST:o(Ge.OBJECT,l),i.values.length===1&&(o(Ge.TERRAIN,l),o(Ge.BOARD,l),o(Ge.LOADER,l),o(Ge.PALETTE,l),o(Ge.CHARSET,l)),we(e,"$purple  if you typed in @char 12 or similar"),we(e,"$purple  try using #set <stat> <value> instead"),we(e,"$purple  or you can edit the @player codepage"),we(e,"$purple  to make changes to player stats");break;case Ge.RANGE:case Ge.SELECT:case Ge.NUMBER:case Ge.TEXT:case Ge.HOTKEY:case Ge.COPYIT:case Ge.OPENIT:case Ge.VIEWIT:case Ge.ZSSEDIT:case Ge.CHAREDIT:case Ge.COLOREDIT:break}}break}const c=Gt(e);c.scrollname="makeit",c.scroll=Lt(e)}async function Gue(t,e){const A=Et(e);if(!G(A))return;const n=tr(t),[r,s,i,o]=n.path.split(",").map(l=>parseFloat(l)),a={x:Math.min(r,i),y:Math.min(s,o)},c={x:Math.max(r,i),y:Math.max(s,o)};switch(n.target){case"remix":{await tS(e,a,c);break}case"remixrun":{const l=lt(Ri.stat);G(l)&&(l4(A.id,l.id,Ri.patternsize,Ri.mirror,a,c,"all")?await Vi(3e3):Bs(te,e,"failed to remix")),await yue(()=>Ri),await Vi(100),await tS(e,a,c);break}default:console.info("unknown remix",n);break}}async function tS(t,e,A){const n=await Mue();Ri={...Ri,...n};const r=Er(e,A);we(t,`selected: ${e.x},${e.y} - ${A.x},${A.y}`),we(t,St);function s(a){return Ri[a]}function i(a,c){(Ne(c)||xe(c))&&(Ri[a]=c)}Te(t,"remix","source board",["stat","text"],s,i),Te(t,"remix","patternsize",["patternsize","number","1","5"],s,i),Te(t,"remix","mirror",["mirror","number","1","8"],s,i),we(t,St),Te(t,"remix","run",[`remixrun:${r}`,"hk","r"," R "]);const o=Gt(t);o.scrollname="remix",o.scroll=Lt(t)}async function Mue(){return lu("remixconfig")}async function yue(t){return uu("remixconfig",t)}let Ri={stat:"",patternsize:2,mirror:1};var Ee=typeof Ee<"u"?Ee:{},hu={},Ii;for(Ii in Ee)Ee.hasOwnProperty(Ii)&&(hu[Ii]=Ee[Ii]);var mc=Ee.printErr||console.warn.bind(console);for(Ii in hu)hu.hasOwnProperty(Ii)&&(Ee[Ii]=hu[Ii]);var ux=(t,e)=>{throw e};hu=null,Ee.arguments&&Ee.arguments,Ee.thisProgram&&(thisProgram=Ee.thisProgram),Ee.quit&&(ux=Ee.quit),typeof WebAssembly!="object"&&hx("no native wasm support detected");var lm,um=!1,hm,AS;function nS(){var t=lm.buffer;Ee.HEAP8=new Int8Array(t),Ee.HEAPU8=AS=new Uint8Array(t)}var rS=[],sS=[],iS=[];function Due(){if(Ee.preRun)for(typeof Ee.preRun=="function"&&(Ee.preRun=[Ee.preRun]);Ee.preRun.length;)kue(Ee.preRun.shift());fx(rS)}function vue(){fx(sS)}function Bue(){if(Ee.postRun)for(typeof Ee.postRun=="function"&&(Ee.postRun=[Ee.postRun]);Ee.postRun.length;)Nue(Ee.postRun.shift());fx(iS)}function kue(t){rS.unshift(t)}function Eue(t){sS.unshift(t)}function Nue(t){iS.unshift(t)}var $o=0,fu=null;function Tue(t){var e;$o++,(e=Ee.monitorRunDependencies)===null||e===void 0||e.call(Ee,$o)}function Yue(t){var e;if($o--,(e=Ee.monitorRunDependencies)===null||e===void 0||e.call(Ee,$o),$o==0&&fu){var A=fu;fu=null,A()}}function hx(t){var e;(e=Ee.onAbort)===null||e===void 0||e.call(Ee,t),t="Aborted("+t+")",mc(t),um=!0,t+=". Build with -sASSERTIONS for more info.";var A=new WebAssembly.RuntimeError(t);throw A}function Oue(){return{a:Wue}}function Sue(t){return fetch(t,{credentials:"same-origin"}).then(function(e){if(!e.ok)throw"failed to load wasm binary file at '"+t+"'";return e.arrayBuffer()})}function Zue(t){var e=Oue();function A(o,a){return $A=o.exports,lm=$A.f,nS(),Eue($A.g),Yue(),$A}Tue();function n(o){A(o.instance)}function r(o){return Sue(t).then(function(a){var c=WebAssembly.instantiate(a,e);return c}).then(o,function(a){mc("failed to asynchronously prepare wasm: "+a),hx(a)})}function s(){return t&&t.byteLength>0?WebAssembly.instantiate(t,e).then(n,function(o){mc("wasm compile failed: "+o)}):typeof WebAssembly.instantiateStreaming=="function"&&typeof t=="string"&&typeof fetch=="function"?fetch(t,{credentials:"same-origin"}).then(function(o){var a=WebAssembly.instantiateStreaming(o,e);return a.then(n,function(c){return mc("wasm streaming compile failed: "+c),mc("falling back to ArrayBuffer instantiation"),r(n)})}):r(n)}if(Ee.instantiateWasm)try{var i=Ee.instantiateWasm(e,A);return i}catch(o){return mc("Module.instantiateWasm callback failed with error: "+o),!1}return s(),{}}class oS{constructor(e){this.name="ExitStatus",this.message=`Program terminated with exit(${e})`,this.status=e}}var fx=t=>{for(;t.length>0;)t.shift()(Ee)},aS=Ee.noExitRuntime||!0,Cue=()=>hx(""),cS=0,Pue=()=>{aS=!1,cS=0},du={},lS=t=>{if(t instanceof oS||t=="unwind")return hm;ux(1,t)},uS=()=>aS||cS>0,hS=t=>{var e;hm=t,uS()||((e=Ee.onExit)===null||e===void 0||e.call(Ee,t),um=!0),ux(t,new oS(t))},Rue=(t,e)=>{hm=t,hS(t)},Iue=Rue,jue=()=>{if(!uS())try{Iue(hm)}catch(t){lS(t)}},zue=t=>{if(!um)try{t(),jue()}catch(e){lS(e)}},Hue=()=>performance.now(),Lue=(t,e)=>{if(du[t]&&(clearTimeout(du[t].id),delete du[t]),!e)return 0;var A=setTimeout(()=>{delete du[t],zue(()=>fS(t,Hue()))},e);return du[t]={id:A,timeout_ms:e},0},Uue=()=>2147483648,$ue=(t,e)=>Math.ceil(t/e)*e,Fue=t=>{var e=lm.buffer,A=(t-e.byteLength+65535)/65536|0;try{return lm.grow(A),nS(),1}catch{}},Vue=t=>{var e=AS.length;t>>>=0;var A=Uue();if(t>A)return!1;for(var n=1;n<=4;n*=2){var r=e*(1+.2/n);r=Math.min(r,t+100663296);var s=Math.min(A,$ue(Math.max(t,r),65536)),i=Fue(s);if(i)return!0}return!1},Wue={c:Cue,b:Pue,d:Lue,e:Vue,a:hS},$A;Ee._ZSTD_isError=t=>(Ee._ZSTD_isError=$A.h)(t),Ee._ZSTD_compressBound=t=>(Ee._ZSTD_compressBound=$A.i)(t),Ee._ZSTD_createCCtx=()=>(Ee._ZSTD_createCCtx=$A.j)(),Ee._ZSTD_freeCCtx=t=>(Ee._ZSTD_freeCCtx=$A.k)(t),Ee._ZSTD_compress_usingDict=(t,e,A,n,r,s,i,o)=>(Ee._ZSTD_compress_usingDict=$A.l)(t,e,A,n,r,s,i,o),Ee._ZSTD_compress=(t,e,A,n,r)=>(Ee._ZSTD_compress=$A.m)(t,e,A,n,r),Ee._ZSTD_createDCtx=()=>(Ee._ZSTD_createDCtx=$A.n)(),Ee._ZSTD_freeDCtx=t=>(Ee._ZSTD_freeDCtx=$A.o)(t),Ee._ZSTD_getFrameContentSize=(t,e)=>(Ee._ZSTD_getFrameContentSize=$A.p)(t,e),Ee._ZSTD_decompress_usingDict=(t,e,A,n,r,s,i)=>(Ee._ZSTD_decompress_usingDict=$A.q)(t,e,A,n,r,s,i),Ee._ZSTD_decompress=(t,e,A,n)=>(Ee._ZSTD_decompress=$A.r)(t,e,A,n),Ee._malloc=t=>(Ee._malloc=$A.s)(t),Ee._free=t=>(Ee._free=$A.t)(t);var fS=(t,e)=>(fS=$A.v)(t,e),fm;fu=function t(){fm||dS(),fm||(fu=t)};function dS(){if($o>0||(Due(),$o>0))return;function t(){var e;fm||(fm=!0,Ee.calledRun=!0,!um&&(vue(),(e=Ee.onRuntimeInitialized)===null||e===void 0||e.call(Ee),Bue()))}Ee.setStatus?(Ee.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>Ee.setStatus(""),1),t()},1)):t()}if(Ee.run=dS,Ee.preInit)for(typeof Ee.preInit=="function"&&(Ee.preInit=[Ee.preInit]);Ee.preInit.length>0;)Ee.preInit.pop()();Ee.init=Zue;var Que=function(t,e,A,n){function r(s){return s instanceof A?s:new A(function(i){i(s)})}return new(A||(A=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(t,e||[])).next())})};const que=new Promise(t=>{Ee.onRuntimeInitialized=t}),Kue=()=>Que(void 0,void 0,void 0,function*(){yield que}),mS=t=>{const e=Ee._ZSTD_isError;return e(t)},Jue=(t,e)=>{const A=Ee._ZSTD_getFrameContentSize;return A(t,e)},Xue=(t,e={defaultHeapSize:1024*1024})=>{const A=Ee._malloc,n=A(t.byteLength);Ee.HEAP8.set(t,n);const r=Jue(n,t.byteLength),s=r===-1?e.defaultHeapSize:r,i=Ee._free,o=A(s);try{const a=Ee._ZSTD_decompress,c=a(o,s,n,t.byteLength);if(mS(c))throw new Error(`Failed to compress with code ${c}`);const l=new Uint8Array(Ee.HEAPU8.buffer,o,c).slice();return i(o,s),i(n,t.byteLength),l}catch(a){throw i(o,s),i(n,t.byteLength),a}},ehe=t=>{const e=Ee._ZSTD_compressBound;return e(t)},the=(t,e)=>{const A=ehe(t.byteLength),n=Ee._malloc,r=n(A),s=n(t.byteLength);Ee.HEAP8.set(t,s);const i=Ee._free;try{const o=Ee._ZSTD_compress,a=o(r,A,s,t.byteLength,e??3);if(mS(a))throw new Error(`Failed to compress with code ${a}`);const c=new Uint8Array(Ee.HEAPU8.buffer,r,a).slice();return i(r,A),i(s,t.byteLength),c}catch(o){throw i(r,A),i(s,t.byteLength),o}};var Ahe=function(t,e,A,n){function r(s){return s instanceof A?s:new A(function(i){i(s)})}return new(A||(A=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(t,e||[])).next())})};const nhe=t=>Ahe(void 0,void 0,void 0,function*(){const e=new URL("/assets/zstd-CV7N7xSg.wasm",self.location.href).href;Ee.init(e),yield Kue()});let pS=!1;async function gS(){pS||(await nhe(),pS=!0)}function rhe(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),A="=".repeat((4-e.length%4)%4);return e+A}function she(t){return t.replace(/\+/g,"-").replace(/\//g,"_")}function ihe(t){if(t===void 0)return"";const e=Math.floor((Date.now()-t)/1e3);if(e<60)return`${e}s`;const A=Math.floor(e/60);return A<60?`${A}m`:`${Math.floor(A/60)}h`}async function wS(t,e){const A=VF(t),n=bt(He.MAIN),r=new Set(n?.activelist??[]);r.add(gA());const s=[...r];we(t,"active player list"),we(t,St);for(let u=0;u<s.length;++u){const h=s[u],{user:f}=mn(h),d=xe(f)?f:"player",m=Et(h),p=hA(m,h),g=pA(p),w=`$${Xe[g.color]}$ON${Xe[g.bg]}$${g.char}$ONCLEAR$CYAN`,x=`$WHITEis on ${m?.name??"void board"}`,v=e?ihe(e[h]):"",b=v?` $GREY(idle ${v})`:"";A&&G(m)?Te(t,"admingoto",`${w} ${d} ${x}${b}`,[h]):we(t,`${w} ${d} ${A?x:""}${b}`)}we(t,""),we(t,"util list"),we(t,St),Te(t,"adminop","toggle #gadget inspector",["gadget"]);const i=Uw();we(t,`#dev mode is ${i?"on":"off"}`),A&&Te(t,"adminop",`turn ${i?"off":"on"} #dev mode`,["dev"]);const o=await Lle(),a={};we(t,""),we(t,"config list"),we(t,St);for(let u=0;u<o.length;++u){const[h,f]=o[u];Te(t,"admin",h,[h,"select","off","0","on","1"],d=>(a[d]??f??ix(d))==="on"?1:0,(d,m)=>{a[d]=m?"on":"off",Ht(te,t,async()=>{await Hle(d,a[d])})})}we(t,""),we(t,"multiplayer"),we(t,St);const c=QF();if(c){const u=WO()?location.href:`${location.origin}/join/#${c}`;Te(t,"adminop",c,["copyit",u]),we(t,"");const h=EO(u);for(let f=0;f<h.length;f++)we(t,h[f])}else we(t,"session not active"),WO()||Te(t,"adminop","open multiplayer session",["joincode"]),we(t,"");const l=Gt(t);l.scrollname="cpu #admin",l.scroll=Lt(t)}async function dx(t){await gS(),console.info("saved",t);const e=new __;for(let n=0;n<t.length;++n){const r=t[n],s=jF(r);if(s){const i=l2(s);if(G(i)){const o=the(i,15);e.file(r.id,o,{date:$2})}}}const A=await e.generateAsync({type:"base64"});return she(A)}async function ohe(t){await gS();const e=[],A=rhe(t),n=await __.loadAsync(A,{base64:!0}),r=[];n.forEach((s,i)=>r.push(i));for(let s=0;s<r.length;++s){const i=r[s],o=await i.async("string"),a=wg(o);if(G(a)){const f=jw(a);if(G(f)){e.push(f);continue}}const c=await i.async("uint8array"),l=wg(c);if(G(l)){const f=jw(l);if(G(f)){e.push(f);continue}}const u=Xue(c),h=wg(u);if(G(h)){const f=jw(h);G(f)&&e.push(f)}}return e}const ahe=16,ji={},dm={},pc={},che=60;let bS=0;const gc={},mm={},mu={};async function _S(t){const e=QA(),A=bt(He.MAIN);if(e.length&&G(A)){const n=await dx(e),r=`${t?"autosave ":""}${new Date().toISOString()} ${A.name} ${n.length} chars`;TZ(Le,gA(),r,n,e)}}async function lhe(t){const e=QA(),A=bt(He.MAIN);if(e.length&&G(A)){const n=await dx(e);YZ(Le,gA(),n,t)}}async function uhe(){const t=QA(),e=bt(He.MAIN);return t.length&&G(e)?await dx(t):""}const xS="$176$176$177$177$178 ZZT BRIDGE $178$177$177$176$176";function GS(t){we(t,`Searching ${"$6".repeat(ln(1,6))}`);const e=Gt(t);e.scrollname=xS,e.scroll=Lt(t)}function MS(t,e){for(let n=0;n<t.length;++n){const r=t[n],s=`pub: ${new Date(r.publish_date).toLocaleDateString()}`;we(e,`$white${r.title}`),we(e,`$yellow  ${r.author.join(", ")}`),we(e,`$dkgreen  ${r.genres.join(", ")}`),we(e,`$purple  ${s}`),r.screenshot&&Te(e,"zztbridge",r.screenshot,["viewit",Mae(r.screenshot)]),Te(e,"zztbridge",r.filename,["zztimport","",`${r.letter}/${r.filename}`]),we(e," ")}const A=Gt(e);A.scrollname=xS,A.scroll=Lt(e)}const Le=$i("vm",["tick","second"],t=>{if(!Le.session(t))return;const e=gA();switch(t.target){case"operator":WF(t.player),_A(Le,t.player,`operator set to ${t.player}`),Le.replynext(t,"ackoperator",!0);break;case"topic":xe(t.data)&&qF(t.data);break;case"admin":Ht(Le,t.player,async()=>{await wS(t.player,pc)});break;case"zsswords":{const A=bt(He.MAIN),n=["cw","ccw","oop","rndp","to","over","under","ground","within","awayby","elements"];Le.replynext(t,"ackzsswords",{cli:Z_(Zi.CLI),loader:Z_(Zi.LOADER),runtime:Z_(Zi.RUNTIME),flags:[...Mn(mn(t.player)),"inputmove","inputalt","inputctrl","inputshift","inputok","inputcancel","inputmenu","didshoot"],stats:["currenttick","boardid","isdark","notdark","startx","starty","over","under","camera","graphics","charset","palette","facing","exitnorth","exitsouth","exitwest","exiteast","timelimit","restartonzap","norestartonzap","maxplayershots","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","playerid","playerx","playery","thisid","thisx","thisy","senderid","senderx","sendery","item","group","party","player","pushable","collision","breakable","ispushable","notpushable","iswalk","iswalking","iswalkable","isswim","isswimming","isswimable","issolid","isbullet","isghost","isbreakable","notbreakable","p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","cycle","stepx","stepy","shootx","shooty","light","lightdir","arg"],kinds:[...go(A,Oe.OBJECT).map(r=>wt(r)),...Mn(a_)],altkinds:[...go(A,Oe.TERRAIN),...go(A,Oe.BOARD),...go(A,Oe.PALETTE),...go(A,Oe.CHARSET),...go(A,Oe.LOADER)].map(r=>wt(r)),colors:[...Mn(ol)],dirs:[...Mn(vg).filter(r=>n.includes(r)===!1)],dirmods:[...n,...Mn(i_)],exprs:["aligned","alligned","contact","blocked","any","countof","color","detect","rnd","abs","intceil","intfloor","intround","clamp","min","max","pick","pickwith","random","randomwith","run","runwith"]});break}case"books":t.player===e&&Ht(Le,t.player,async()=>{let A=[];st(t.data)?A=t.data:xe(t.data)&&(A=await ohe(t.data));const n=A.map(r=>r.name);_A(Le,t.player,`loading ${n.join(", ")}`),s7(A),Im(Le,t.player)});break;case"search":RJ(t.player)||Im(Le,t.player);break;case"logout":Jx(Le,t.player),CJ(t.player,!!t.data),delete ji[t.player],delete pc[t.player],_A(Le,e,`player ${t.player} logout`),Im(Le,t.player);break;case"login":cO(t.player,t.data)?(ji[t.player]=0,pc[t.player]=Date.now(),_A(Le,gA(),`login from ${t.player}`),Le.replynext(t,"acklogin",!0)):Le.replynext(t,"acklogin",!1);break;case"local":cO(t.player,{})?(ji[t.player]=0,pc[t.player]=Date.now(),_A(Le,gA(),`login from ${t.player}`),Le.replynext(t,"acklogin",!0)):Le.replynext(t,"acklogin",!1);break;case"doot":ji[t.player]=0,dm[t.player]=dm[t.player]??0,dm[t.player]%32===0&&_A(Le,t.player,`$whiteactive $blue${t.player}`),++dm[t.player];break;case"input":{if(t.player.includes("local")&&!U8(t.player)&&AC(Le,t.player),!t.player.includes("local")||U8(t.player)){pc[t.player]=Date.now();const A=mn(t.player),[n=$t.NONE,r=0]=t.data??[$t.NONE,0];st(A.inputqueue)||(A.inputqueue=[]),n!==$t.NONE&&A.inputqueue.push([n,r])}break}case"look":{const A=Et(t.player),n=Gt(t.player);Le.reply(t,"acklook",{board:A,tickers:n.tickers??[],scrollname:n.scrollname??"",scroll:n.scroll??[],sidebar:n.sidebar??[]});break}case"agentstart":{const A=Wce(),n=A.id();mu[n]=A,_t(Le,t.player,`agent ${n} started`),Hm(Le,t.player);break}case"agentstop":if(xe(t.data)){const A=t.data,n=mu[A];G(n)?(n.stop(),delete mu[A],_t(Le,t.player,`agent ${A} stopped`),Hm(Le,t.player)):Mt(Le,t.player,"vm",`agent ${A} not found`)}break;case"agentlist":{const A=Object.values(mu);if(A.length===0){_t(Le,t.player,"no agents running");return}else{Rd(Le,t.player,"agents");for(let n=0;n<A.length;++n){const r=A[n];_t(Le,t.player,`!copyit ${r.id()};agent ${r.id()}`)}}break}case"agentprompt":if(st(t.data)){const[A,n]=t.data,r=mu[A];G(r)?EZ(Le,t.player,A,n):Mt(Le,t.player,"vm",`agent ${A} not found`)}break;case"codewatch":if(st(t.data)){const[A,n]=t.data,r=xu(A,n);G(mm[r])||(mm[r]=nD(r,s=>{const[i,o]=n,a=Us(A),c=xi(a,i);if(G(c))if(dn(c)===Oe.BOARD&&G(o)){const l=pr(c),u=hA(l,o);G(u)&&(u.code=s,yf(vf(s),u))}else c.code=s,RF(c)})),gc[r]=gc[r]??new Set,gc[r].add(t.player)}break;case"coderelease":if(st(t.data)){const[A,n]=t.data,[,r]=n,s=xu(A,n);G(gc[s])&&(gc[s].delete(t.player),gc[s].size===0&&(mm[s]?.(),mm[s]=void 0,xe(r)&&tu(r)))}break;case"clearscroll":{const A=Et(t.player);if(G(A)){const n=Object.keys(A.objects);for(let r=0;r<n.length;++r)HJ(n[r],t.player)}break}case"halt":if(t.player===e){const A=!Uw();KF(A),_A(Le,t.player,`#dev mode is ${A?"$greenon":"$redoff"}`),Wx(Le,t.player,A)}break;case"tick":{zJ(Uw());break}case"second":{PJ(ji);const A=Object.keys(ji);for(let n=0;n<A.length;++n)++ji[A[n]];for(let n=0;n<A.length;++n){const r=A[n];ji[r]>=ahe&&Mc(Le,r,!1)}++bS>=che&&(bS=0,Ht(Le,t.player,async()=>{await _S(!0)}));break}case"makeitscroll":xe(t.data)&&xue(t.data,t.player);break;case"refscroll":{w_(Id("refscroll:menu"),n=>OO(t.player,n));const A=Gt(t.player);A.scrollname="#help or $meta+h",A.scroll=Lt(t.player);break}case"readzipfilelist":{const A=gae();we(t.player,"$CENTER Select Files"),Te(t.player,"zipfilelist","import selected",["importfiles"]);for(let r=0;r<A.length;++r){const[s,i]=A[r];s&&(we(t.player,i),Te(t.player,"zipfilelist",`[${s}]`,[je(i),"select","NO","0","YES","1"],o=>bae(o)?1:0,(o,a)=>{wae(o,!!a)}))}const n=Gt(t.player);n.scrollname="zipfilelist",n.scroll=Lt(t.player);break}case"fork":t.player===e&&Ht(Le,t.player,async()=>{await lhe(t.data)});break;case"zztsearch":Ht(Le,t.player,async()=>{if(st(t.data)){const[A,n]=t.data;let r=0;const s=[];for(;s.length<256;){GS(t.player);const i=await xae(A,n,r);if(r+=i.length,s.push(...i),i.length<25)break}MS(s,t.player)}});break;case"zztrandom":Ht(Le,t.player,async()=>{GS(t.player);const A=await Gae();MS(A,t.player)});break;case"publish":Ht(Le,t.player,async()=>{if(t.player===e&&st(t.data)){const A=await uhe();OZ(Le,t.player,A,...t.data)}});break;case"flush":t.player===e&&Ht(Le,t.player,async()=>{await _S()});break;case"cli":hO(t.player,t.data);break;case"clirepeatlast":jJ(t.player);break;case"restart":t.player===e&&(IJ(),Xx(Le,t.player));break;case"inspect":Ht(Le,t.player,async()=>{if(st(t.data)){const[A,n]=t.data;await Aue(t.player,A,n)}});break;case"findany":Ht(Le,t.player,async()=>{await due(t.player)});break;case"loader":if(st(t.data)){const[A,n,r,s]=t.data;switch(Ht(Le,t.player,async()=>{await zle("loaderlogging")==="on"&&(console.info("loader event",r,n,A,s),_A(Le,t.player,`loader event ${r} ${n}`))}),n){case"file":v_(t.player,s);break;case"json":if(/file:.*\.book.json/.test(r)){_A(Le,t.player,`loading ${r}`);const i=JSON.parse(s.json);G(i.data)&&xe(i.exported)&&(Bf(i.data),_A(Le,t.player,`loaded ${i.exported}`))}else if(/file:.*\..*\.codepage.json/.test(r)){_A(Le,t.player,`loading ${r}`);const i=JSON.parse(s.json),o=bt(He.MAIN);G(o)&&G(i.data)&&xe(i.exported)&&(_o(o,i.data),_A(Le,t.player,`loaded ${i.exported}`))}else tO(A,n,r,s,t.player);break;default:tO(A,n,r,s,t.player);break}}break;default:{const{target:A,path:n}=tr(t.target);switch(je(A)){case"adminop":{switch(n){case"dev":Fi(Le,t.player,"#dev");break;case"gadget":Fi(Le,t.player,"#gadget");break;case"joincode":Fi(Le,t.player,"#joincode");break}break}case"admingoto":{const r=bt(He.MAIN),s=Et(n),i=hA(s,n);if(G(s)&&G(i)){const o={x:i.x??0,y:i.y??0};Ti(r,t.player,s.id,o)}break}case"refscroll":switch(n){case"adminscroll":Ht(Le,t.player,async()=>{await wS(t.player,pc)});break;case"objectlistscroll":{const r=L8(Oe.OBJECT);for(let i=0;i<r.length;++i){const o=r[i],a=wt(o),c=o.code.split(`
`).slice(0,2);Te(t.player,"list",`@${a}$ltgrey ${c[1]??""}`,["copyit",a])}const s=Gt(t.player);s.scrollname="object list",s.scroll=Lt(t.player);break}case"terrainlistscroll":{const r=L8(Oe.TERRAIN);for(let i=0;i<r.length;++i){const o=r[i],a=wt(o),c=o.code.split(`
`).slice(0,2);Te(t.player,"list",`@${a}$ltgrey ${c[1]??""}`,["copyit",a])}const s=Gt(t.player);s.scrollname="terrain list",s.scroll=Lt(t.player);break}case"charscroll":{Te(t.player,"refscroll","char",["char","charedit"]);const r=Gt(t.player);r.scrollname="chars",r.scroll=Lt(t.player);break}case"colorscroll":{Te(t.player,"refscroll","color",["color","coloredit"]);const r=Gt(t.player);r.scrollname="colors",r.scroll=Lt(t.player);break}case"bgscroll":{Te(t.player,"refscroll","bg",["bg","bgedit"]);const r=Gt(t.player);r.scrollname="bgs",r.scroll=Lt(t.player);break}default:{Ht(Le,t.player,async()=>{const r=Id(`refscroll:${n}`);if(G(r))w_(Id(`refscroll:${n}`),i=>OO(t.player,i));else{const i=Gt(t.player);i.scrollname="$7$7$7 please wait",i.scroll=["loading $7$7$7"];const o=await Vce(n);Cle(t.player,o)}const s=Gt(t.player);s.scrollname=n,s.scroll=Lt(t.player)});break}}break;case"batch":Ht(Le,t.player,async()=>{await Qle(n,t.player)});break;case"remix":Ht(Le,t.player,async()=>{await Gue(n,t.player)});break;case"empty":{const r=tr(n);r.target==="copycoords"&&_u(Le,gA(),r.path.split(",").join(" "));break}case"inspect":cue(n,t.player);break;case"gadget":if(st(t.data)){const[r,s]=t.data;yc(Le,t.player,void 0,"text",r,s)}break;case"findany":Ht(Le,t.player,async()=>{await fue(n,t.player)});break;case"makeit":_ue(n,t.data??"",t.player);break;case"zztbridge":Ht(Le,t.player,async()=>{if(st(t.data)){const[r]=t.data;await yae(t.player,r)}});break;case"zipfilelist":Ht(Le,t.player,async()=>{await _ae(t.player)});break;default:{const r=tr(n);if(je(r.target)==="self"||!r.path)t.target=t.target.replace("self:",""),lO(t);else{const s=bt(He.MAIN);w4(r.target,r.path,void 0,Bd(s))}break}}break}}},FF());function hhe(){NZ(Le)}const{forward:fhe}=dC(t=>{mC(t)&&postMessage(t)});onmessage=function(e){fhe(e.data)},setTimeout(hhe,100)})();
