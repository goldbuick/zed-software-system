(function(){"use strict";const Sh=new Set,jo={emit(e,A,t,n,r){jo.invoke(o4(e,A,t,n,r))},invoke(e){Sh.forEach(A=>A.handle(e))},connect(e){Sh.add(e)},disconnect(e){Sh.delete(e)}};var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ps(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Uw(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var A=e.default;if(typeof A=="function"){var t=function n(){var r=!1;try{r=this instanceof n}catch{}return r?Reflect.construct(A,arguments,this.constructor):A.apply(this,arguments)};t.prototype=A.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var pc={exports:{}},BY=pc.exports,$w;function EY(){return $w||($w=1,(function(e,A){(function(t,n){e.exports=n()})(BY,function(){return t.importState=function(r){var s=new t;return s.importState(r),s},t;function t(){return(function(r){var s=0,i=0,o=0,a=1;r.length==0&&(r=[+new Date]);var c=n();s=c(" "),i=c(" "),o=c(" ");for(var l=0;l<r.length;l++)s-=c(r[l]),s<0&&(s+=1),i-=c(r[l]),i<0&&(i+=1),o-=c(r[l]),o<0&&(o+=1);c=null;var u=function(){var h=2091639*s+a*23283064365386963e-26;return s=i,i=o,o=h-(a=h|0)};return u.next=u,u.uint32=function(){return u()*4294967296},u.fract53=function(){return u()+(u()*2097152|0)*11102230246251565e-32},u.version="Alea 0.9",u.args=r,u.exportState=function(){return[s,i,o,a]},u.importState=function(h){s=+h[0]||0,i=+h[1]||0,o=+h[2]||0,a=+h[3]||0},u})(Array.prototype.slice.call(arguments))}function n(){var r=4022871197,s=function(i){i=i.toString();for(var o=0;o<i.length;o++){r+=i.charCodeAt(o);var a=.02519603282416938*r;r=a>>>0,a-=r,a*=r,r=a>>>0,a-=r,r+=a*4294967296}return(r>>>0)*23283064365386963e-26};return s.version="Mash 0.9",s}})})(pc)),pc.exports}var kY=EY(),Fw=Ps(kY),Ro={},Qw;function vY(){return Qw||(Qw=1,(function(e){var A=Ro&&Ro.__spreadArray||function(c,l,u){if(u||arguments.length===2)for(var h=0,f=l.length,m;h<f;h++)(m||!(h in l))&&(m||(m=Array.prototype.slice.call(l,0,h)),m[h]=l[h]);return c.concat(m||Array.prototype.slice.call(l))};Object.defineProperty(e,"__esModule",{value:!0}),e.minLength=e.maxLength=e.poolSize=e.humanId=e.adverbs=e.verbs=e.nouns=e.adjectives=void 0,e.adjectives=["afraid","all","beige","better","big","blue","bold","brave","breezy","bright","brown","bumpy","busy","calm","chatty","chilly","chubby","clean","clear","clever","cold","common","cool","cozy","crisp","cuddly","curly","curvy","cute","cyan","dark","deep","dirty","dry","dull","eager","early","easy","eight","eighty","eleven","empty","every","fair","famous","fancy","fast","few","fiery","fifty","fine","five","flat","floppy","fluffy","forty","four","frank","free","fresh","fruity","full","funky","funny","fuzzy","gentle","giant","gold","good","goofy","great","green","grumpy","happy","heavy","hip","honest","hot","huge","humble","hungry","icy","itchy","jolly","khaki","kind","large","late","lazy","legal","lemon","light","little","long","loose","loud","lovely","lucky","major","many","metal","mighty","modern","moody","neat","new","nice","nine","ninety","odd","old","olive","open","orange","perky","petite","pink","plain","plenty","polite","pretty","proud","public","puny","purple","quick","quiet","rare","ready","real","red","rich","ripe","salty","seven","shaggy","shaky","sharp","shiny","short","shy","silent","silly","silver","six","sixty","slick","slimy","slow","small","smart","smooth","social","soft","solid","some","sour","sparkly","spicy","spotty","stale","strict","strong","sunny","sweet","swift","tall","tame","tangy","tasty","ten","tender","thick","thin","thirty","three","tidy","tiny","tired","tough","tricky","true","twelve","twenty","two","upset","vast","violet","wacky","warm","wet","whole","wicked","wide","wild","wise","witty","yellow","young","yummy"],e.nouns=["actors","ads","adults","aliens","animals","ants","apes","apples","areas","baboons","badgers","bags","balloons","bananas","banks","bars","baths","bats","beans","bears","beds","beers","bees","berries","bikes","birds","boats","bobcats","books","bottles","boxes","breads","brooms","buckets","bugs","buses","bushes","buttons","camels","cameras","candies","candles","canyons","carpets","carrots","cars","cases","cats","chairs","chefs","chicken","cities","clocks","cloths","clouds","clowns","clubs","coats","cobras","coins","colts","comics","cooks","corners","cougars","cows","crabs","crews","cups","cycles","dancers","days","deer","deserts","dingos","dodos","dogs","dolls","donkeys","donuts","doodles","doors","dots","dragons","drinks","dryers","ducks","eagles","ears","eels","eggs","emus","ends","experts","eyes","facts","falcons","fans","feet","files","flies","flowers","forks","foxes","friends","frogs","games","garlics","geckos","geese","ghosts","gifts","glasses","goats","grapes","groups","guests","hairs","hands","hats","heads","hoops","hornets","horses","hotels","hounds","houses","humans","icons","ideas","impalas","insects","islands","items","jars","jeans","jobs","jokes","keys","kids","kings","kiwis","knives","lamps","lands","laws","lemons","lies","lights","lilies","lines","lions","lizards","llamas","loops","mails","mammals","mangos","maps","masks","meals","melons","memes","meteors","mice","mirrors","moles","moments","monkeys","months","moons","moose","mugs","nails","needles","news","nights","numbers","olives","onions","oranges","otters","owls","pandas","pans","pants","papayas","papers","parents","parks","parrots","parts","paths","paws","peaches","pears","peas","pens","pets","phones","pianos","pigs","pillows","places","planes","planets","plants","plums","poems","poets","points","pots","pugs","pumas","queens","rabbits","radios","rats","ravens","readers","regions","results","rice","rings","rivers","rockets","rocks","rooms","roses","rules","sails","schools","seals","seas","sheep","shirts","shoes","showers","shrimps","sides","signs","singers","sites","sloths","snails","snakes","socks","spiders","spies","spoons","squids","stamps","stars","states","steaks","streets","suits","suns","swans","symbols","tables","taxes","taxis","teams","teeth","terms","things","ties","tigers","times","tips","tires","toes","tools","towns","toys","trains","trams","trees","turkeys","turtles","vans","views","walls","wasps","waves","ways","webs","weeks","windows","wings","wolves","wombats","words","worlds","worms","yaks","years","zebras","zoos"],e.verbs=["accept","act","add","admire","agree","allow","appear","argue","arrive","ask","attack","attend","bake","bathe","battle","beam","beg","begin","behave","bet","boil","bow","brake","brush","build","burn","buy","call","camp","care","carry","change","cheat","check","cheer","chew","clap","clean","cough","count","cover","crash","create","cross","cry","cut","dance","decide","deny","design","dig","divide","do","double","doubt","draw","dream","dress","drive","drop","drum","eat","end","enjoy","enter","exist","fail","fall","feel","fetch","film","find","fix","flash","float","flow","fly","fold","follow","fry","give","glow","go","grab","greet","grin","grow","guess","hammer","hang","happen","heal","hear","help","hide","hope","hug","hunt","invent","invite","itch","jam","jog","join","joke","judge","juggle","jump","kick","kiss","kneel","knock","know","laugh","lay","lead","learn","leave","lick","lie","like","listen","live","look","lose","love","make","march","marry","mate","matter","melt","mix","move","nail","notice","obey","occur","open","own","pay","peel","pick","play","poke","post","press","prove","pull","pump","punch","push","raise","read","refuse","relate","relax","remain","repair","repeat","reply","report","rescue","rest","retire","return","rhyme","ring","roll","rule","run","rush","say","scream","search","see","sell","send","serve","shake","share","shave","shine","shop","shout","show","sin","sing","sink","sip","sit","sleep","slide","smash","smell","smile","smoke","sneeze","sniff","sort","speak","spend","stand","stare","start","stay","stick","stop","strive","study","swim","switch","take","talk","tan","tap","taste","teach","tease","tell","thank","think","throw","tickle","tie","trade","train","travel","try","turn","type","unite","vanish","visit","wait","walk","warn","wash","watch","wave","wear","win","wink","wish","wonder","work","worry","write","yawn","yell"],e.adverbs=["bravely","brightly","busily","daily","freely","hungrily","joyously","knowingly","lazily","noisily","oddly","politely","quickly","quietly","rapidly","safely","sleepily","slowly","truly","yearly"];function t(c){return c[Math.floor(Math.random()*c.length)]}function n(c){return c.reduce(function(l,u){return l.length>u.length?l:u})}function r(c){return c.reduce(function(l,u){return l.length<u.length?l:u})}function s(c){c===void 0&&(c={}),typeof c=="string"&&(c={separator:c}),typeof c=="boolean"&&(c={capitalize:c});var l=c.separator,u=l===void 0?"":l,h=c.capitalize,f=h===void 0?!0:h,m=c.adjectiveCount,d=m===void 0?1:m,g=c.addAdverb,p=g===void 0?!1:g,x=A(A(A([],A([],Array(d),!0).map(function(y){return t(e.adjectives)}),!0),[t(e.nouns),t(e.verbs)],!1),p?[t(e.adverbs)]:[],!0);return f&&(x=x.map(function(y){return y.charAt(0).toUpperCase()+y.substr(1)})),x.join(u)}e.humanId=s;function i(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h;return e.adjectives.length*u*e.nouns.length*e.verbs.length*(f?e.adverbs.length:1)}e.poolSize=i;function o(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h,m=c.separator,d=m===void 0?"":m;return n(e.adjectives).length*u+u*d.length+n(e.nouns).length+d.length+n(e.verbs).length+(f?n(e.adverbs).length+d.length:0)}e.maxLength=o;function a(c){c===void 0&&(c={});var l=c.adjectiveCount,u=l===void 0?1:l,h=c.addAdverb,f=h===void 0?!1:h,m=c.separator,d=m===void 0?"":m;return r(e.adjectives).length*u+u*d.length+r(e.nouns).length+d.length+r(e.verbs).length+(f?r(e.adverbs).length+d.length:0)}e.minLength=a,e.default=s})(Ro)),Ro}var YY=vY(),Kw=Ps(YY);const NY="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ZY=e=>crypto.getRandomValues(new Uint8Array(e)),OY=(e,A,t)=>{let n=(2<<Math.log2(e.length-1))-1,r=-~(1.6*n*A/e.length);return(s=A)=>{let i="";for(;;){let o=t(r),a=r|0;for(;a--;)if(i+=e[o[a]&n]||"",i.length>=s)return i}}},Ww=(e,A=21)=>OY(e,A|0,ZY),TY=(e=21)=>{let A="",t=crypto.getRandomValues(new Uint8Array(e|=0));for(;e--;)A+=NY[t[e]&63];return A};var Ph,Vw;function qw(){return Vw||(Vw=1,Ph="abcdefghijklmnopqrstuvwxyz"),Ph}var jh,Jw;function Xw(){return Jw||(Jw=1,jh="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),jh}var Rh,A0;function e0(){return A0||(A0=1,Rh="0123456789"),Rh}var Ih,t0;function SY(){return t0||(t0=1,Ih="346789ABCDEFGHJKLMNPQRTUVWXYabcdefghijkmnpqrtwxyz"),Ih}var Ch,n0;function PY(){return n0||(n0=1,Ch="6789BCDFGHJKLMNPQRTWbcdfghjkmnpqrtwz"),Ch}var zh,r0;function jY(){if(r0)return zh;r0=1;const e=e0(),A=qw(),t=Xw();return zh=e+A+t,zh}var Hh,s0;function RY(){return s0||(s0=1,Hh={lowercase:qw(),uppercase:Xw(),numbers:e0(),nolookalikes:SY(),nolookalikesSafe:PY(),alphanumeric:jY()}),Hh}var Lh=RY();function Ke(){return`sid_${TY(12).replaceAll("-",".")}`}const IY=Ww(Lh.numbers,4),CY=Ww(`${Lh.numbers}${Lh.lowercase}`,16);function zY(){return`pid_${IY()}_${CY()}`}function Ce(e){return e?.startsWith("pid_")??!1}function Uh(){return Kw({capitalize:!1,adjectiveCount:1})}function HY(){return Kw({addAdverb:!1,capitalize:!1,adjectiveCount:0})}var LY=(function(){var e=function(A,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)r.hasOwnProperty(s)&&(n[s]=r[s])},e(A,t)};return function(A,t){e(A,t);function n(){this.constructor=A}A.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}})(),UY=Object.prototype.hasOwnProperty;function $h(e,A){return UY.call(e,A)}function Fh(e){if(Array.isArray(e)){for(var A=new Array(e.length),t=0;t<A.length;t++)A[t]=""+t;return A}if(Object.keys)return Object.keys(e);var n=[];for(var r in e)$h(e,r)&&n.push(r);return n}function Kt(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}}function Qh(e){for(var A=0,t=e.length,n;A<t;){if(n=e.charCodeAt(A),n>=48&&n<=57){A++;continue}return!1}return!0}function js(e){return e.indexOf("/")===-1&&e.indexOf("~")===-1?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function i0(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}function Kh(e){if(e===void 0)return!0;if(e){if(Array.isArray(e)){for(var A=0,t=e.length;A<t;A++)if(Kh(e[A]))return!0}else if(typeof e=="object"){for(var n=Fh(e),r=n.length,s=0;s<r;s++)if(Kh(e[n[s]]))return!0}}return!1}function o0(e,A){var t=[e];for(var n in A){var r=typeof A[n]=="object"?JSON.stringify(A[n],null,2):A[n];typeof r<"u"&&t.push(n+": "+r)}return t.join(`
`)}var a0=(function(e){LY(A,e);function A(t,n,r,s,i){var o=this.constructor,a=e.call(this,o0(t,{name:n,index:r,operation:s,tree:i}))||this;return a.name=n,a.index=r,a.operation=s,a.tree=i,Object.setPrototypeOf(a,o.prototype),a.message=o0(t,{name:n,index:r,operation:s,tree:i}),a}return A})(Error),We=a0,$Y=Kt,Zi={add:function(e,A,t){return e[A]=this.value,{newDocument:t}},remove:function(e,A,t){var n=e[A];return delete e[A],{newDocument:t,removed:n}},replace:function(e,A,t){var n=e[A];return e[A]=this.value,{newDocument:t,removed:n}},move:function(e,A,t){var n=wc(t,this.path);n&&(n=Kt(n));var r=Rs(t,{op:"remove",path:this.from}).removed;return Rs(t,{op:"add",path:this.path,value:r}),{newDocument:t,removed:n}},copy:function(e,A,t){var n=wc(t,this.from);return Rs(t,{op:"add",path:this.path,value:Kt(n)}),{newDocument:t}},test:function(e,A,t){return{newDocument:t,test:Io(e[A],this.value)}},_get:function(e,A,t){return this.value=e[A],{newDocument:t}}},FY={add:function(e,A,t){return Qh(A)?e.splice(A,0,this.value):e[A]=this.value,{newDocument:t,index:A}},remove:function(e,A,t){var n=e.splice(A,1);return{newDocument:t,removed:n[0]}},replace:function(e,A,t){var n=e[A];return e[A]=this.value,{newDocument:t,removed:n}},move:Zi.move,copy:Zi.copy,test:Zi.test,_get:Zi._get};function wc(e,A){if(A=="")return e;var t={op:"_get",path:A};return Rs(e,t),t.value}function Rs(e,A,t,n,r,s){if(t===void 0&&(t=!1),n===void 0&&(n=!0),r===void 0&&(r=!0),s===void 0&&(s=0),t&&(typeof t=="function"?t(A,0,e,A.path):Gc(A,0)),A.path===""){var i={newDocument:e};if(A.op==="add")return i.newDocument=A.value,i;if(A.op==="replace")return i.newDocument=A.value,i.removed=e,i;if(A.op==="move"||A.op==="copy")return i.newDocument=wc(e,A.from),A.op==="move"&&(i.removed=e),i;if(A.op==="test"){if(i.test=Io(e,A.value),i.test===!1)throw new We("Test operation failed","TEST_OPERATION_FAILED",s,A,e);return i.newDocument=e,i}else{if(A.op==="remove")return i.removed=e,i.newDocument=null,i;if(A.op==="_get")return A.value=e,i;if(t)throw new We("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",s,A,e);return i}}else{n||(e=Kt(e));var o=A.path||"",a=o.split("/"),c=e,l=1,u=a.length,h=void 0,f=void 0,m=void 0;for(typeof t=="function"?m=t:m=Gc;;){if(f=a[l],f&&f.indexOf("~")!=-1&&(f=i0(f)),r&&(f=="__proto__"||f=="prototype"&&l>0&&a[l-1]=="constructor"))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(t&&h===void 0&&(c[f]===void 0?h=a.slice(0,l).join("/"):l==u-1&&(h=A.path),h!==void 0&&m(A,0,e,h)),l++,Array.isArray(c)){if(f==="-")f=c.length;else{if(t&&!Qh(f))throw new We("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",s,A,e);Qh(f)&&(f=~~f)}if(l>=u){if(t&&A.op==="add"&&f>c.length)throw new We("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",s,A,e);var i=FY[A.op].call(A,c,f,e);if(i.test===!1)throw new We("Test operation failed","TEST_OPERATION_FAILED",s,A,e);return i}}else if(l>=u){var i=Zi[A.op].call(A,c,f,e);if(i.test===!1)throw new We("Test operation failed","TEST_OPERATION_FAILED",s,A,e);return i}if(c=c[f],t&&l<u&&(!c||typeof c!="object"))throw new We("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",s,A,e)}}}function Wh(e,A,t,n,r){if(n===void 0&&(n=!0),r===void 0&&(r=!0),t&&!Array.isArray(A))throw new We("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");n||(e=Kt(e));for(var s=new Array(A.length),i=0,o=A.length;i<o;i++)s[i]=Rs(e,A[i],t,!0,r,i),e=s[i].newDocument;return s.newDocument=e,s}function QY(e,A,t){var n=Rs(e,A);if(n.test===!1)throw new We("Test operation failed","TEST_OPERATION_FAILED",t,A,e);return n.newDocument}function Gc(e,A,t,n){if(typeof e!="object"||e===null||Array.isArray(e))throw new We("Operation is not an object","OPERATION_NOT_AN_OBJECT",A,e,t);if(Zi[e.op]){if(typeof e.path!="string")throw new We("Operation `path` property is not a string","OPERATION_PATH_INVALID",A,e,t);if(e.path.indexOf("/")!==0&&e.path.length>0)throw new We('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",A,e,t);if((e.op==="move"||e.op==="copy")&&typeof e.from!="string")throw new We("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",A,e,t);if((e.op==="add"||e.op==="replace"||e.op==="test")&&e.value===void 0)throw new We("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",A,e,t);if((e.op==="add"||e.op==="replace"||e.op==="test")&&Kh(e.value))throw new We("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",A,e,t);if(t){if(e.op=="add"){var r=e.path.split("/").length,s=n.split("/").length;if(r!==s+1&&r!==s)throw new We("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",A,e,t)}else if(e.op==="replace"||e.op==="remove"||e.op==="_get"){if(e.path!==n)throw new We("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",A,e,t)}else if(e.op==="move"||e.op==="copy"){var i={op:"_get",path:e.from,value:void 0},o=c0([i],t);if(o&&o.name==="OPERATION_PATH_UNRESOLVABLE")throw new We("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",A,e,t)}}}else throw new We("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",A,e,t)}function c0(e,A,t){try{if(!Array.isArray(e))throw new We("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(A)Wh(Kt(A),Kt(e),t||!0);else{t=t||Gc;for(var n=0;n<e.length;n++)t(e[n],n,A,void 0)}}catch(r){if(r instanceof We)return r;throw r}}function Io(e,A){if(e===A)return!0;if(e&&A&&typeof e=="object"&&typeof A=="object"){var t=Array.isArray(e),n=Array.isArray(A),r,s,i;if(t&&n){if(s=e.length,s!=A.length)return!1;for(r=s;r--!==0;)if(!Io(e[r],A[r]))return!1;return!0}if(t!=n)return!1;var o=Object.keys(e);if(s=o.length,s!==Object.keys(A).length)return!1;for(r=s;r--!==0;)if(!A.hasOwnProperty(o[r]))return!1;for(r=s;r--!==0;)if(i=o[r],!Io(e[i],A[i]))return!1;return!0}return e!==e&&A!==A}var KY=Object.freeze({__proto__:null,JsonPatchError:We,_areEquals:Io,applyOperation:Rs,applyPatch:Wh,applyReducer:QY,deepClone:$Y,getValueByPointer:wc,validate:c0,validator:Gc});var Vh=new WeakMap,WY=(function(){function e(A){this.observers=new Map,this.obj=A}return e})(),VY=(function(){function e(A,t){this.callback=A,this.observer=t}return e})();function qY(e){return Vh.get(e)}function JY(e,A){return e.observers.get(A)}function XY(e,A){e.observers.delete(A.callback)}function A4(e,A){A.unobserve()}function e4(e,A){var t=[],n,r=qY(e);if(!r)r=new WY(e),Vh.set(e,r);else{var s=JY(r,A);n=s&&s.observer}if(n)return n;if(n={},r.value=Kt(e),A){n.callback=A,n.next=null;var i=function(){qh(n)},o=function(){clearTimeout(n.next),n.next=setTimeout(i)};typeof window<"u"&&(window.addEventListener("mouseup",o),window.addEventListener("keyup",o),window.addEventListener("mousedown",o),window.addEventListener("keydown",o),window.addEventListener("change",o))}return n.patches=t,n.object=e,n.unobserve=function(){qh(n),clearTimeout(n.next),XY(r,n),typeof window<"u"&&(window.removeEventListener("mouseup",o),window.removeEventListener("keyup",o),window.removeEventListener("mousedown",o),window.removeEventListener("keydown",o),window.removeEventListener("change",o))},r.observers.set(A,new VY(A,n)),n}function qh(e,A){A===void 0&&(A=!1);var t=Vh.get(e.object);Jh(t.value,e.object,e.patches,"",A),e.patches.length&&Wh(t.value,e.patches);var n=e.patches;return n.length>0&&(e.patches=[],e.callback&&e.callback(n)),n}function Jh(e,A,t,n,r){if(A!==e){typeof A.toJSON=="function"&&(A=A.toJSON());for(var s=Fh(A),i=Fh(e),o=!1,a=i.length-1;a>=0;a--){var c=i[a],l=e[c];if($h(A,c)&&!(A[c]===void 0&&l!==void 0&&Array.isArray(A)===!1)){var u=A[c];typeof l=="object"&&l!=null&&typeof u=="object"&&u!=null&&Array.isArray(l)===Array.isArray(u)?Jh(l,u,t,n+"/"+js(c),r):l!==u&&(r&&t.push({op:"test",path:n+"/"+js(c),value:Kt(l)}),t.push({op:"replace",path:n+"/"+js(c),value:Kt(u)}))}else Array.isArray(e)===Array.isArray(A)?(r&&t.push({op:"test",path:n+"/"+js(c),value:Kt(l)}),t.push({op:"remove",path:n+"/"+js(c)}),o=!0):(r&&t.push({op:"test",path:n,value:e}),t.push({op:"replace",path:n,value:A}))}if(!(!o&&s.length==i.length))for(var a=0;a<s.length;a++){var c=s[a];!$h(e,c)&&A[c]!==void 0&&t.push({op:"add",path:n+"/"+js(c),value:Kt(A[c])})}}}function l0(e,A,t){t===void 0&&(t=!1);var n=[];return Jh(e,A,n,"",t),n}var t4=Object.freeze({__proto__:null,compare:l0,generate:qh,observe:e4,unobserve:A4});Object.assign({},KY,t4,{JsonPatchError:a0,deepClone:Kt,escapePathComponent:js,unescapePathComponent:i0});var Xh,u0;function n4(){if(u0)return Xh;u0=1;var e=typeof Element<"u",A=typeof Map=="function",t=typeof Set=="function",n=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function r(s,i){if(s===i)return!0;if(s&&i&&typeof s=="object"&&typeof i=="object"){if(s.constructor!==i.constructor)return!1;var o,a,c;if(Array.isArray(s)){if(o=s.length,o!=i.length)return!1;for(a=o;a--!==0;)if(!r(s[a],i[a]))return!1;return!0}var l;if(A&&s instanceof Map&&i instanceof Map){if(s.size!==i.size)return!1;for(l=s.entries();!(a=l.next()).done;)if(!i.has(a.value[0]))return!1;for(l=s.entries();!(a=l.next()).done;)if(!r(a.value[1],i.get(a.value[0])))return!1;return!0}if(t&&s instanceof Set&&i instanceof Set){if(s.size!==i.size)return!1;for(l=s.entries();!(a=l.next()).done;)if(!i.has(a.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(i)){if(o=s.length,o!=i.length)return!1;for(a=o;a--!==0;)if(s[a]!==i[a])return!1;return!0}if(s.constructor===RegExp)return s.source===i.source&&s.flags===i.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof i.valueOf=="function")return s.valueOf()===i.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof i.toString=="function")return s.toString()===i.toString();if(c=Object.keys(s),o=c.length,o!==Object.keys(i).length)return!1;for(a=o;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,c[a]))return!1;if(e&&s instanceof Element)return!1;for(a=o;a--!==0;)if(!((c[a]==="_owner"||c[a]==="__v"||c[a]==="__o")&&s.$$typeof)&&!r(s[c[a]],i[c[a]]))return!1;return!0}return s!==s&&i!==i}return Xh=function(i,o){try{return r(i,o)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}},Xh}var r4=n4(),s4=Ps(r4);function G(e){return e!=null}const Wt=Object.keys;function Vt(e){return Kt(e)}function i4(e){return typeof e=="boolean"}function kA(e){return typeof e=="number"&&isNaN(e)===!1}function wA(e){return typeof e=="string"}function se(e){return Array.isArray(e)}function Af(e){return e}var XA=(e=>(e[e.BLACK=0]="BLACK",e[e.DKBLUE=1]="DKBLUE",e[e.DKGREEN=2]="DKGREEN",e[e.DKCYAN=3]="DKCYAN",e[e.DKRED=4]="DKRED",e[e.DKPURPLE=5]="DKPURPLE",e[e.DKYELLOW=6]="DKYELLOW",e[e.LTGRAY=7]="LTGRAY",e[e.DKGRAY=8]="DKGRAY",e[e.BLUE=9]="BLUE",e[e.GREEN=10]="GREEN",e[e.CYAN=11]="CYAN",e[e.RED=12]="RED",e[e.PURPLE=13]="PURPLE",e[e.YELLOW=14]="YELLOW",e[e.WHITE=15]="WHITE",e[e.ONBLACK=16]="ONBLACK",e[e.ONDKBLUE=17]="ONDKBLUE",e[e.ONDKGREEN=18]="ONDKGREEN",e[e.ONDKCYAN=19]="ONDKCYAN",e[e.ONDKRED=20]="ONDKRED",e[e.ONDKPURPLE=21]="ONDKPURPLE",e[e.ONDKYELLOW=22]="ONDKYELLOW",e[e.ONLTGRAY=23]="ONLTGRAY",e[e.ONDKGRAY=24]="ONDKGRAY",e[e.ONBLUE=25]="ONBLUE",e[e.ONGREEN=26]="ONGREEN",e[e.ONCYAN=27]="ONCYAN",e[e.ONRED=28]="ONRED",e[e.ONPURPLE=29]="ONPURPLE",e[e.ONYELLOW=30]="ONYELLOW",e[e.ONWHITE=31]="ONWHITE",e[e.ONCLEAR=32]="ONCLEAR",e[e.BLBLACK=33]="BLBLACK",e[e.BLDKBLUE=34]="BLDKBLUE",e[e.BLDKGREEN=35]="BLDKGREEN",e[e.BLDKCYAN=36]="BLDKCYAN",e[e.BLDKRED=37]="BLDKRED",e[e.BLDKPURPLE=38]="BLDKPURPLE",e[e.BLDKYELLOW=39]="BLDKYELLOW",e[e.BLLTGRAY=40]="BLLTGRAY",e[e.BLDKGRAY=41]="BLDKGRAY",e[e.BLBLUE=42]="BLBLUE",e[e.BLGREEN=43]="BLGREEN",e[e.BLCYAN=44]="BLCYAN",e[e.BLRED=45]="BLRED",e[e.BLPURPLE=46]="BLPURPLE",e[e.BLYELLOW=47]="BLYELLOW",e[e.BLWHITE=48]="BLWHITE",e))(XA||{}),$A=(e=>(e[e.ISWALK=0]="ISWALK",e[e.ISSOLID=1]="ISSOLID",e[e.ISSWIM=2]="ISSWIM",e[e.ISBULLET=3]="ISBULLET",e[e.ISGHOST=4]="ISGHOST",e))($A||{}),qt=(e=>(e[e.ISTERRAIN=0]="ISTERRAIN",e[e.ISOBJECT=1]="ISOBJECT",e))(qt||{}),bA=(e=>(e[e.IDLE=0]="IDLE",e[e.NORTH=1]="NORTH",e[e.SOUTH=2]="SOUTH",e[e.WEST=3]="WEST",e[e.EAST=4]="EAST",e[e.BY=5]="BY",e[e.AT=6]="AT",e[e.FLOW=7]="FLOW",e[e.SEEK=8]="SEEK",e[e.RNDNS=9]="RNDNS",e[e.RNDNE=10]="RNDNE",e[e.RND=11]="RND",e[e.CW=12]="CW",e[e.CCW=13]="CCW",e[e.OPP=14]="OPP",e[e.RNDP=15]="RNDP",e[e.AWAY=16]="AWAY",e[e.TOWARD=17]="TOWARD",e[e.FIND=18]="FIND",e[e.FLEE=19]="FLEE",e[e.TO=20]="TO",e[e.MID=21]="MID",e[e.OVER=22]="OVER",e[e.UNDER=23]="UNDER",e[e.GROUND=24]="GROUND",e[e.WITHIN=25]="WITHIN",e[e.AWAYBY=26]="AWAYBY",e[e.ELEMENTS=27]="ELEMENTS",e))(bA||{}),GA=(e=>(e[e.LOADER=0]="LOADER",e[e.BOARD=1]="BOARD",e[e.OBJECT=2]="OBJECT",e[e.TERRAIN=3]="TERRAIN",e[e.CHARSET=4]="CHARSET",e[e.PALETTE=5]="PALETTE",e[e.CONST=6]="CONST",e[e.RANGE=7]="RANGE",e[e.SELECT=8]="SELECT",e[e.NUMBER=9]="NUMBER",e[e.TEXT=10]="TEXT",e[e.HOTKEY=11]="HOTKEY",e[e.COPYIT=12]="COPYIT",e[e.OPENIT=13]="OPENIT",e[e.VIEWIT=14]="VIEWIT",e[e.RUNIT=15]="RUNIT",e[e.ZSSEDIT=16]="ZSSEDIT",e[e.CHAREDIT=17]="CHAREDIT",e[e.COLOREDIT=18]="COLOREDIT",e))(GA||{});function CA(e){return wA(e)?e.toLowerCase().trim():""}function o4(e,A,t,n,r){return{session:e,player:A,id:Ke(),sender:t,target:n,data:r}}function yn(e){const[A,...t]=e.split(":");return{target:A,path:t.join(":")}}function Is(e,A=[],t=Af,n=""){const r=Ke(),s=CA(e),i=A.map(CA);let o=n;const a={id(){return r},name(){return e},session(c){return G(c)?c.session===o?c.session:"":o},topics(){return A},emit(c,l,u){jo.emit(o,c,r,l,u)},reply(c,l,u){a.emit(c.player,`${c.sender}:${l}`,u)},replynext(c,l,u){setTimeout(()=>a.emit(c.player,`${c.sender}:${l}`,u),64)},handle(c){const{target:l,path:u}=yn(c.target),h=CA(l);!o&&h==="ready"&&(o=c.session),h==="sessionreset"&&(o=""),i.findIndex(f=>f==="all"||f===h)!==-1&&t(c),(r===l||h==="all"||s===h)&&t({...c,target:u})},disconnect(){jo.disconnect(a)}};return jo.connect(a),a}function a4(e){return typeof e=="object"&&wA(e.session)&&wA(e.player)&&wA(e.id)&&wA(e.sender)&&wA(e.target)}function we(e,A,t,...n){return e.emit(A,"log",[`$red${t}$blue>>`,...n]),!1}function st(e,A,...t){return e.emit(A,"log",t),!0}function ef(e,A,...t){return e.emit(A,"chat",t),!0}function Sr(e,A,t){e.emit(A,"toast",t)}function c4(e,A,t){e.emit(A,"bridge:streamstart",t)}function l4(e,A){e.emit(A,"bridge:streamstop",void 0)}function u4(e,A,t){e.emit(A,"bridge:chatstart",t)}function h4(e,A){e.emit(A,"bridge:chatstop")}function f4(e,A,t,n,r,s,i){e.emit(A,"bridge:fetch",[t,n,r,s,i])}function d4(e,A,t){e.emit(A,"bridge:start",t)}function m4(e,A,t){e.emit(A,"bridge:tab",t)}function g4(e,A,t){e.emit(A,"gadgetclient:paint",t)}function p4(e,A,t){e.emit(A,"gadgetclient:patch",t)}function w4(e,A){e.emit(A,"gadgetserver:clearscroll")}function G4(e,A,t,n){e.emit(A,"heavy:modelprompt",[t,n])}function x4(e){e.emit("","ready")}function cr(e,A,t,n){e.emit(A,"register:input",[t,n])}function tf(e,A){e.emit(A,"register:loginready",!0)}function M4(e,A,t,n,r){e.emit(A,"register:savemem",[t,n,r])}function b4(e,A,t,n){e.emit(A,"register:forkmem",[t,n])}function y4(e,A,t,...n){e.emit(A,"register:publishmem",[t,...n])}function xc(e,A,t){e.emit(A,"register:copy",t)}function _4(e,A){e.emit(A,"register:screenshot")}function h0(e,A,t,n){e.emit(A,"register:downloadjsonfile",[t,n])}function D4(e,A){e.emit(A,"register:share",void 0)}function B4(e,A){e.emit(A,"register:nuke",void 0)}function E4(e,A){e.emit(A,"synth:restart",void 0)}function k4(e,A,t,n){e.emit(A,"synth:play",[t,n])}function v4(e,A,t,n,r){e.emit(A,"synth:bgplay",[t,n,r])}function Y4(e,A,t){e.emit(A,"synth:bpm",t)}function N4(e,A,t){e.emit(A,"synth:playvolume",t)}function Z4(e,A,t){e.emit(A,"synth:bgplayvolume",t)}function O4(e,A,t){e.emit(A,"synth:ttsvolume",t)}function T4(e,A,t,n){e.emit(A,"synth:ttsengine",[t,n])}function S4(e,A,t,n,r){e.emit(A,"synth:tts",[t,n,r])}function P4(e,A,t){e.emit(A,"synth:ttsinfo",t)}function j4(e,A,t,n,r){e.emit(A,"synth:ttsqueue",[t,n,r])}function R4(e,A){e.emit(A,"synth:ttsclearqueue")}function nf(e,A,t,n,r){e.emit(A,"synth:voice",[t,n,r])}function f0(e,A,t,n,r,s){e.emit(A,"synth:voicefx",[t,n,r,s])}function I4(e,A,t){e.emit(A,"synth:record",t)}function C4(e,A){e.emit(A,"synth:flush")}function z4(e,A,t,n){e.emit(A,"register:store",[t,n])}function d0(e,A,t){e.emit(A,"register:inspector",t)}function m0(e,A,t){e.emit(A,"register:findany",t)}function H4(e,A){e.emit(A,"register:terminal:full")}function g0(e,A,t,n,r,s){e.emit(A,"register:editor:open",[t,n,r,s])}function L4(e,A){e.emit(A,"vm:admin")}function U4(e,A,t,n){e.emit(A,"vm:zztsearch",[t,n])}function $4(e,A){e.emit(A,"vm:zztrandom")}function F4(e,A){e.emit(A,"vm:halt")}function Q4(e,A,t){e.emit(A,"vm:login",t)}function K4(e,A){e.emit(A,"vm:local")}function Co(e,A,t){e.emit(A,"vm:logout",t)}function W4(e,A){e.emit(A,"vm:doot")}function V4(e,A){e.emit(A,"vm:agentstart")}function q4(e,A,t){e.emit(A,"vm:agentstop",t)}function rf(e,A){e.emit(A,"vm:agentlist")}function J4(e,A,t,n){e.emit(A,"vm:agentprompt",[t,n])}function X4(e,A,t){e.emit(A,"vm:makeitscroll",t)}function p0(e,A){e.emit(A,"vm:refscroll")}function AN(e,A){e.emit(A,"vm:readzipfilelist")}function Mc(e,A){const[t,n]=A;return`${e}:${[t,n].filter(G).join(":")}`}function w0(e,A){e.emit(A,"vm:clearscroll")}function Cs(e,A,t){e.emit(A,"vm:cli",t)}function eN(e,A){e.emit(A,"vm:restart")}function G0(e,A){e.emit(A,"vm:flush")}function tN(e,A,t){e.emit(A,"vm:fork",t)}function x0(e,A,t,...n){e.emit(A,"vm:publish",[t,...n])}function nN(e,A){return{filename:e,cursor:0,lines:A.split(`
`)}}function rN(e,A){return{filename:e,json:A}}function sN(e,A){return{filename:e,cursor:0,bytes:A,dataview:new DataView(A.buffer)}}function zo(e,A,t,n,r,s){let i;switch(n){case"file":i=s;break;case"text":i=nN(r,s);break;case"json":i=rN(r,s);break;case"binary":i=sN(r,s);break}setTimeout(()=>{e.emit(A,"vm:loader",[t,n,r,i])},1)}function iN(e){const A=new Set;function t(s){a4(s)&&s.target!=="tick"&&s.target!=="tock"&&A.has(s.id)===!1&&(A.add(s.id),jo.invoke(s))}const n=Is("forward",["all"],s=>{A.has(s.id)||(A.add(s.id),e(s))});function r(){n.disconnect()}return{forward:t,disconnect:r}}function oN(e){switch(e.target){case"log":case"chat":case"tick":case"tock":case"ready":case"toast":case"second":return!0;default:{const A=yn(e.target);switch(A.target){case"vm":case"heavy":case"synth":case"modem":case"bridge":case"register":case"gadgetclient":return!0}switch(A.path){case"sync":case"heavy":case"joinack":case"acklook":case"acklogin":case"ackoperator":case"ackzsswords":case"gadgetclient":return!0}break}}return!1}const sf=80,M0=1e3/sf,b0=3;function zs(e){return new Promise(A=>setTimeout(A,e))}const of=Is("clock");let bc=0,af=0,cf=0,y0=performance.now();function _0(){const e=performance.now(),A=e-y0;af+=A,af>=sf&&(af%=sf,of.emit("","tick",bc),of.emit("","tock",bc),++bc),cf+=A,cf>=1e3&&(cf-=1e3,of.emit("","second",bc)),y0=e,setTimeout(_0,2)}_0();var Ho={},D0={},yc={};yc.byteLength=lN,yc.toByteArray=hN,yc.fromByteArray=mN;for(var lr=[],_n=[],aN=typeof Uint8Array<"u"?Uint8Array:Array,lf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oi=0,cN=lf.length;Oi<cN;++Oi)lr[Oi]=lf[Oi],_n[lf.charCodeAt(Oi)]=Oi;_n[45]=62,_n[95]=63;function B0(e){var A=e.length;if(A%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=A);var n=t===A?0:4-t%4;return[t,n]}function lN(e){var A=B0(e),t=A[0],n=A[1];return(t+n)*3/4-n}function uN(e,A,t){return(A+t)*3/4-t}function hN(e){var A,t=B0(e),n=t[0],r=t[1],s=new aN(uN(e,n,r)),i=0,o=r>0?n-4:n,a;for(a=0;a<o;a+=4)A=_n[e.charCodeAt(a)]<<18|_n[e.charCodeAt(a+1)]<<12|_n[e.charCodeAt(a+2)]<<6|_n[e.charCodeAt(a+3)],s[i++]=A>>16&255,s[i++]=A>>8&255,s[i++]=A&255;return r===2&&(A=_n[e.charCodeAt(a)]<<2|_n[e.charCodeAt(a+1)]>>4,s[i++]=A&255),r===1&&(A=_n[e.charCodeAt(a)]<<10|_n[e.charCodeAt(a+1)]<<4|_n[e.charCodeAt(a+2)]>>2,s[i++]=A>>8&255,s[i++]=A&255),s}function fN(e){return lr[e>>18&63]+lr[e>>12&63]+lr[e>>6&63]+lr[e&63]}function dN(e,A,t){for(var n,r=[],s=A;s<t;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),r.push(fN(n));return r.join("")}function mN(e){for(var A,t=e.length,n=t%3,r=[],s=16383,i=0,o=t-n;i<o;i+=s)r.push(dN(e,i,i+s>o?o:i+s));return n===1?(A=e[t-1],r.push(lr[A>>2]+lr[A<<4&63]+"==")):n===2&&(A=(e[t-2]<<8)+e[t-1],r.push(lr[A>>10]+lr[A>>4&63]+lr[A<<2&63]+"=")),r.join("")}var uf={};uf.read=function(e,A,t,n,r){var s,i,o=r*8-n-1,a=(1<<o)-1,c=a>>1,l=-7,u=t?r-1:0,h=t?-1:1,f=e[A+u];for(u+=h,s=f&(1<<-l)-1,f>>=-l,l+=o;l>0;s=s*256+e[A+u],u+=h,l-=8);for(i=s&(1<<-l)-1,s>>=-l,l+=n;l>0;i=i*256+e[A+u],u+=h,l-=8);if(s===0)s=1-c;else{if(s===a)return i?NaN:(f?-1:1)*(1/0);i=i+Math.pow(2,n),s=s-c}return(f?-1:1)*i*Math.pow(2,s-n)},uf.write=function(e,A,t,n,r,s){var i,o,a,c=s*8-r-1,l=(1<<c)-1,u=l>>1,h=r===23?Math.pow(2,-24)-Math.pow(2,-77):0,f=n?0:s-1,m=n?1:-1,d=A<0||A===0&&1/A<0?1:0;for(A=Math.abs(A),isNaN(A)||A===1/0?(o=isNaN(A)?1:0,i=l):(i=Math.floor(Math.log(A)/Math.LN2),A*(a=Math.pow(2,-i))<1&&(i--,a*=2),i+u>=1?A+=h/a:A+=h*Math.pow(2,1-u),A*a>=2&&(i++,a/=2),i+u>=l?(o=0,i=l):i+u>=1?(o=(A*a-1)*Math.pow(2,r),i=i+u):(o=A*Math.pow(2,u-1)*Math.pow(2,r),i=0));r>=8;e[t+f]=o&255,f+=m,o/=256,r-=8);for(i=i<<r|o,c+=r;c>0;e[t+f]=i&255,f+=m,i/=256,c-=8);e[t+f-m]|=d*128};(function(e){const A=yc,t=uf,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=B,e.INSPECT_MAX_BYTES=50;const r=2147483647;e.kMaxLength=r;const{Uint8Array:s,ArrayBuffer:i,SharedArrayBuffer:o}=globalThis;l.TYPED_ARRAY_SUPPORT=a(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(){try{const O=new s(1),M={foo:function(){return 42}};return Object.setPrototypeOf(M,s.prototype),Object.setPrototypeOf(O,M),O.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function c(O){if(O>r)throw new RangeError('The value "'+O+'" is invalid for option "size"');const M=new s(O);return Object.setPrototypeOf(M,l.prototype),M}function l(O,M,_){if(typeof O=="number"){if(typeof M=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return m(O)}return u(O,M,_)}l.poolSize=8192;function u(O,M,_){if(typeof O=="string")return d(O,M);if(i.isView(O))return p(O);if(O==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O);if(DA(O,i)||O&&DA(O.buffer,i)||typeof o<"u"&&(DA(O,o)||O&&DA(O.buffer,o)))return x(O,M,_);if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const P=O.valueOf&&O.valueOf();if(P!=null&&P!==O)return l.from(P,M,_);const V=y(O);if(V)return V;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return l.from(O[Symbol.toPrimitive]("string"),M,_);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}l.from=function(O,M,_){return u(O,M,_)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function h(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function f(O,M,_){return h(O),O<=0?c(O):M!==void 0?typeof _=="string"?c(O).fill(M,_):c(O).fill(M):c(O)}l.alloc=function(O,M,_){return f(O,M,_)};function m(O){return h(O),c(O<0?0:E(O)|0)}l.allocUnsafe=function(O){return m(O)},l.allocUnsafeSlow=function(O){return m(O)};function d(O,M){if((typeof M!="string"||M==="")&&(M="utf8"),!l.isEncoding(M))throw new TypeError("Unknown encoding: "+M);const _=T(O,M)|0;let P=c(_);const V=P.write(O,M);return V!==_&&(P=P.slice(0,V)),P}function g(O){const M=O.length<0?0:E(O.length)|0,_=c(M);for(let P=0;P<M;P+=1)_[P]=O[P]&255;return _}function p(O){if(DA(O,s)){const M=new s(O);return x(M.buffer,M.byteOffset,M.byteLength)}return g(O)}function x(O,M,_){if(M<0||O.byteLength<M)throw new RangeError('"offset" is outside of buffer bounds');if(O.byteLength<M+(_||0))throw new RangeError('"length" is outside of buffer bounds');let P;return M===void 0&&_===void 0?P=new s(O):_===void 0?P=new s(O,M):P=new s(O,M,_),Object.setPrototypeOf(P,l.prototype),P}function y(O){if(l.isBuffer(O)){const M=E(O.length)|0,_=c(M);return _.length===0||O.copy(_,0,0,M),_}if(O.length!==void 0)return typeof O.length!="number"||UA(O.length)?c(0):g(O);if(O.type==="Buffer"&&Array.isArray(O.data))return g(O.data)}function E(O){if(O>=r)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return O|0}function B(O){return+O!=O&&(O=0),l.alloc(+O)}l.isBuffer=function(M){return M!=null&&M._isBuffer===!0&&M!==l.prototype},l.compare=function(M,_){if(DA(M,s)&&(M=l.from(M,M.offset,M.byteLength)),DA(_,s)&&(_=l.from(_,_.offset,_.byteLength)),!l.isBuffer(M)||!l.isBuffer(_))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(M===_)return 0;let P=M.length,V=_.length;for(let lA=0,z=Math.min(P,V);lA<z;++lA)if(M[lA]!==_[lA]){P=M[lA],V=_[lA];break}return P<V?-1:V<P?1:0},l.isEncoding=function(M){switch(String(M).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(M,_){if(!Array.isArray(M))throw new TypeError('"list" argument must be an Array of Buffers');if(M.length===0)return l.alloc(0);let P;if(_===void 0)for(_=0,P=0;P<M.length;++P)_+=M[P].length;const V=l.allocUnsafe(_);let lA=0;for(P=0;P<M.length;++P){let z=M[P];if(DA(z,s))lA+z.length>V.length?(l.isBuffer(z)||(z=l.from(z)),z.copy(V,lA)):s.prototype.set.call(V,z,lA);else if(l.isBuffer(z))z.copy(V,lA);else throw new TypeError('"list" argument must be an Array of Buffers');lA+=z.length}return V};function T(O,M){if(l.isBuffer(O))return O.length;if(i.isView(O)||DA(O,i))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);const _=O.length,P=arguments.length>2&&arguments[2]===!0;if(!P&&_===0)return 0;let V=!1;for(;;)switch(M){case"ascii":case"latin1":case"binary":return _;case"utf8":case"utf-8":return dA(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _*2;case"hex":return _>>>1;case"base64":return _A(O).length;default:if(V)return P?-1:dA(O).length;M=(""+M).toLowerCase(),V=!0}}l.byteLength=T;function D(O,M,_){let P=!1;if((M===void 0||M<0)&&(M=0),M>this.length||((_===void 0||_>this.length)&&(_=this.length),_<=0)||(_>>>=0,M>>>=0,_<=M))return"";for(O||(O="utf8");;)switch(O){case"hex":return S(this,M,_);case"utf8":case"utf-8":return U(this,M,_);case"ascii":return tA(this,M,_);case"latin1":case"binary":return N(this,M,_);case"base64":return $(this,M,_);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return AA(this,M,_);default:if(P)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),P=!0}}l.prototype._isBuffer=!0;function Z(O,M,_){const P=O[M];O[M]=O[_],O[_]=P}l.prototype.swap16=function(){const M=this.length;if(M%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let _=0;_<M;_+=2)Z(this,_,_+1);return this},l.prototype.swap32=function(){const M=this.length;if(M%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let _=0;_<M;_+=4)Z(this,_,_+3),Z(this,_+1,_+2);return this},l.prototype.swap64=function(){const M=this.length;if(M%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let _=0;_<M;_+=8)Z(this,_,_+7),Z(this,_+1,_+6),Z(this,_+2,_+5),Z(this,_+3,_+4);return this},l.prototype.toString=function(){const M=this.length;return M===0?"":arguments.length===0?U(this,0,M):D.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(M){if(!l.isBuffer(M))throw new TypeError("Argument must be a Buffer");return this===M?!0:l.compare(this,M)===0},l.prototype.inspect=function(){let M="";const _=e.INSPECT_MAX_BYTES;return M=this.toString("hex",0,_).replace(/(.{2})/g,"$1 ").trim(),this.length>_&&(M+=" ... "),"<Buffer "+M+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(M,_,P,V,lA){if(DA(M,s)&&(M=l.from(M,M.offset,M.byteLength)),!l.isBuffer(M))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof M);if(_===void 0&&(_=0),P===void 0&&(P=M?M.length:0),V===void 0&&(V=0),lA===void 0&&(lA=this.length),_<0||P>M.length||V<0||lA>this.length)throw new RangeError("out of range index");if(V>=lA&&_>=P)return 0;if(V>=lA)return-1;if(_>=P)return 1;if(_>>>=0,P>>>=0,V>>>=0,lA>>>=0,this===M)return 0;let z=lA-V,eA=P-_;const QA=Math.min(z,eA),WA=this.slice(V,lA),qA=M.slice(_,P);for(let RA=0;RA<QA;++RA)if(WA[RA]!==qA[RA]){z=WA[RA],eA=qA[RA];break}return z<eA?-1:eA<z?1:0};function R(O,M,_,P,V){if(O.length===0)return-1;if(typeof _=="string"?(P=_,_=0):_>2147483647?_=2147483647:_<-2147483648&&(_=-2147483648),_=+_,UA(_)&&(_=V?0:O.length-1),_<0&&(_=O.length+_),_>=O.length){if(V)return-1;_=O.length-1}else if(_<0)if(V)_=0;else return-1;if(typeof M=="string"&&(M=l.from(M,P)),l.isBuffer(M))return M.length===0?-1:j(O,M,_,P,V);if(typeof M=="number")return M=M&255,typeof s.prototype.indexOf=="function"?V?s.prototype.indexOf.call(O,M,_):s.prototype.lastIndexOf.call(O,M,_):j(O,[M],_,P,V);throw new TypeError("val must be string, number or Buffer")}function j(O,M,_,P,V){let lA=1,z=O.length,eA=M.length;if(P!==void 0&&(P=String(P).toLowerCase(),P==="ucs2"||P==="ucs-2"||P==="utf16le"||P==="utf-16le")){if(O.length<2||M.length<2)return-1;lA=2,z/=2,eA/=2,_/=2}function QA(qA,RA){return lA===1?qA[RA]:qA.readUInt16BE(RA*lA)}let WA;if(V){let qA=-1;for(WA=_;WA<z;WA++)if(QA(O,WA)===QA(M,qA===-1?0:WA-qA)){if(qA===-1&&(qA=WA),WA-qA+1===eA)return qA*lA}else qA!==-1&&(WA-=WA-qA),qA=-1}else for(_+eA>z&&(_=z-eA),WA=_;WA>=0;WA--){let qA=!0;for(let RA=0;RA<eA;RA++)if(QA(O,WA+RA)!==QA(M,RA)){qA=!1;break}if(qA)return WA}return-1}l.prototype.includes=function(M,_,P){return this.indexOf(M,_,P)!==-1},l.prototype.indexOf=function(M,_,P){return R(this,M,_,P,!0)},l.prototype.lastIndexOf=function(M,_,P){return R(this,M,_,P,!1)};function L(O,M,_,P){_=Number(_)||0;const V=O.length-_;P?(P=Number(P),P>V&&(P=V)):P=V;const lA=M.length;P>lA/2&&(P=lA/2);let z;for(z=0;z<P;++z){const eA=parseInt(M.substr(z*2,2),16);if(UA(eA))return z;O[_+z]=eA}return z}function v(O,M,_,P){return TA(dA(M,O.length-_),O,_,P)}function Y(O,M,_,P){return TA(pA(M),O,_,P)}function b(O,M,_,P){return TA(_A(M),O,_,P)}function I(O,M,_,P){return TA(iA(M,O.length-_),O,_,P)}l.prototype.write=function(M,_,P,V){if(_===void 0)V="utf8",P=this.length,_=0;else if(P===void 0&&typeof _=="string")V=_,P=this.length,_=0;else if(isFinite(_))_=_>>>0,isFinite(P)?(P=P>>>0,V===void 0&&(V="utf8")):(V=P,P=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const lA=this.length-_;if((P===void 0||P>lA)&&(P=lA),M.length>0&&(P<0||_<0)||_>this.length)throw new RangeError("Attempt to write outside buffer bounds");V||(V="utf8");let z=!1;for(;;)switch(V){case"hex":return L(this,M,_,P);case"utf8":case"utf-8":return v(this,M,_,P);case"ascii":case"latin1":case"binary":return Y(this,M,_,P);case"base64":return b(this,M,_,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,M,_,P);default:if(z)throw new TypeError("Unknown encoding: "+V);V=(""+V).toLowerCase(),z=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function $(O,M,_){return M===0&&_===O.length?A.fromByteArray(O):A.fromByteArray(O.slice(M,_))}function U(O,M,_){_=Math.min(O.length,_);const P=[];let V=M;for(;V<_;){const lA=O[V];let z=null,eA=lA>239?4:lA>223?3:lA>191?2:1;if(V+eA<=_){let QA,WA,qA,RA;switch(eA){case 1:lA<128&&(z=lA);break;case 2:QA=O[V+1],(QA&192)===128&&(RA=(lA&31)<<6|QA&63,RA>127&&(z=RA));break;case 3:QA=O[V+1],WA=O[V+2],(QA&192)===128&&(WA&192)===128&&(RA=(lA&15)<<12|(QA&63)<<6|WA&63,RA>2047&&(RA<55296||RA>57343)&&(z=RA));break;case 4:QA=O[V+1],WA=O[V+2],qA=O[V+3],(QA&192)===128&&(WA&192)===128&&(qA&192)===128&&(RA=(lA&15)<<18|(QA&63)<<12|(WA&63)<<6|qA&63,RA>65535&&RA<1114112&&(z=RA))}}z===null?(z=65533,eA=1):z>65535&&(z-=65536,P.push(z>>>10&1023|55296),z=56320|z&1023),P.push(z),V+=eA}return q(P)}const W=4096;function q(O){const M=O.length;if(M<=W)return String.fromCharCode.apply(String,O);let _="",P=0;for(;P<M;)_+=String.fromCharCode.apply(String,O.slice(P,P+=W));return _}function tA(O,M,_){let P="";_=Math.min(O.length,_);for(let V=M;V<_;++V)P+=String.fromCharCode(O[V]&127);return P}function N(O,M,_){let P="";_=Math.min(O.length,_);for(let V=M;V<_;++V)P+=String.fromCharCode(O[V]);return P}function S(O,M,_){const P=O.length;(!M||M<0)&&(M=0),(!_||_<0||_>P)&&(_=P);let V="";for(let lA=M;lA<_;++lA)V+=ye[O[lA]];return V}function AA(O,M,_){const P=O.slice(M,_);let V="";for(let lA=0;lA<P.length-1;lA+=2)V+=String.fromCharCode(P[lA]+P[lA+1]*256);return V}l.prototype.slice=function(M,_){const P=this.length;M=~~M,_=_===void 0?P:~~_,M<0?(M+=P,M<0&&(M=0)):M>P&&(M=P),_<0?(_+=P,_<0&&(_=0)):_>P&&(_=P),_<M&&(_=M);const V=this.subarray(M,_);return Object.setPrototypeOf(V,l.prototype),V};function Q(O,M,_){if(O%1!==0||O<0)throw new RangeError("offset is not uint");if(O+M>_)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(M,_,P){M=M>>>0,_=_>>>0,P||Q(M,_,this.length);let V=this[M],lA=1,z=0;for(;++z<_&&(lA*=256);)V+=this[M+z]*lA;return V},l.prototype.readUintBE=l.prototype.readUIntBE=function(M,_,P){M=M>>>0,_=_>>>0,P||Q(M,_,this.length);let V=this[M+--_],lA=1;for(;_>0&&(lA*=256);)V+=this[M+--_]*lA;return V},l.prototype.readUint8=l.prototype.readUInt8=function(M,_){return M=M>>>0,_||Q(M,1,this.length),this[M]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(M,_){return M=M>>>0,_||Q(M,2,this.length),this[M]|this[M+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(M,_){return M=M>>>0,_||Q(M,2,this.length),this[M]<<8|this[M+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),(this[M]|this[M+1]<<8|this[M+2]<<16)+this[M+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),this[M]*16777216+(this[M+1]<<16|this[M+2]<<8|this[M+3])},l.prototype.readBigUInt64LE=ee(function(M){M=M>>>0,sA(M,"offset");const _=this[M],P=this[M+7];(_===void 0||P===void 0)&&H(M,this.length-8);const V=_+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24,lA=this[++M]+this[++M]*2**8+this[++M]*2**16+P*2**24;return BigInt(V)+(BigInt(lA)<<BigInt(32))}),l.prototype.readBigUInt64BE=ee(function(M){M=M>>>0,sA(M,"offset");const _=this[M],P=this[M+7];(_===void 0||P===void 0)&&H(M,this.length-8);const V=_*2**24+this[++M]*2**16+this[++M]*2**8+this[++M],lA=this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+P;return(BigInt(V)<<BigInt(32))+BigInt(lA)}),l.prototype.readIntLE=function(M,_,P){M=M>>>0,_=_>>>0,P||Q(M,_,this.length);let V=this[M],lA=1,z=0;for(;++z<_&&(lA*=256);)V+=this[M+z]*lA;return lA*=128,V>=lA&&(V-=Math.pow(2,8*_)),V},l.prototype.readIntBE=function(M,_,P){M=M>>>0,_=_>>>0,P||Q(M,_,this.length);let V=_,lA=1,z=this[M+--V];for(;V>0&&(lA*=256);)z+=this[M+--V]*lA;return lA*=128,z>=lA&&(z-=Math.pow(2,8*_)),z},l.prototype.readInt8=function(M,_){return M=M>>>0,_||Q(M,1,this.length),this[M]&128?(255-this[M]+1)*-1:this[M]},l.prototype.readInt16LE=function(M,_){M=M>>>0,_||Q(M,2,this.length);const P=this[M]|this[M+1]<<8;return P&32768?P|4294901760:P},l.prototype.readInt16BE=function(M,_){M=M>>>0,_||Q(M,2,this.length);const P=this[M+1]|this[M]<<8;return P&32768?P|4294901760:P},l.prototype.readInt32LE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),this[M]|this[M+1]<<8|this[M+2]<<16|this[M+3]<<24},l.prototype.readInt32BE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),this[M]<<24|this[M+1]<<16|this[M+2]<<8|this[M+3]},l.prototype.readBigInt64LE=ee(function(M){M=M>>>0,sA(M,"offset");const _=this[M],P=this[M+7];(_===void 0||P===void 0)&&H(M,this.length-8);const V=this[M+4]+this[M+5]*2**8+this[M+6]*2**16+(P<<24);return(BigInt(V)<<BigInt(32))+BigInt(_+this[++M]*2**8+this[++M]*2**16+this[++M]*2**24)}),l.prototype.readBigInt64BE=ee(function(M){M=M>>>0,sA(M,"offset");const _=this[M],P=this[M+7];(_===void 0||P===void 0)&&H(M,this.length-8);const V=(_<<24)+this[++M]*2**16+this[++M]*2**8+this[++M];return(BigInt(V)<<BigInt(32))+BigInt(this[++M]*2**24+this[++M]*2**16+this[++M]*2**8+P)}),l.prototype.readFloatLE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),t.read(this,M,!0,23,4)},l.prototype.readFloatBE=function(M,_){return M=M>>>0,_||Q(M,4,this.length),t.read(this,M,!1,23,4)},l.prototype.readDoubleLE=function(M,_){return M=M>>>0,_||Q(M,8,this.length),t.read(this,M,!0,52,8)},l.prototype.readDoubleBE=function(M,_){return M=M>>>0,_||Q(M,8,this.length),t.read(this,M,!1,52,8)};function rA(O,M,_,P,V,lA){if(!l.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(M>V||M<lA)throw new RangeError('"value" argument is out of bounds');if(_+P>O.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(M,_,P,V){if(M=+M,_=_>>>0,P=P>>>0,!V){const eA=Math.pow(2,8*P)-1;rA(this,M,_,P,eA,0)}let lA=1,z=0;for(this[_]=M&255;++z<P&&(lA*=256);)this[_+z]=M/lA&255;return _+P},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(M,_,P,V){if(M=+M,_=_>>>0,P=P>>>0,!V){const eA=Math.pow(2,8*P)-1;rA(this,M,_,P,eA,0)}let lA=P-1,z=1;for(this[_+lA]=M&255;--lA>=0&&(z*=256);)this[_+lA]=M/z&255;return _+P},l.prototype.writeUint8=l.prototype.writeUInt8=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,1,255,0),this[_]=M&255,_+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,2,65535,0),this[_]=M&255,this[_+1]=M>>>8,_+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,2,65535,0),this[_]=M>>>8,this[_+1]=M&255,_+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,4,4294967295,0),this[_+3]=M>>>24,this[_+2]=M>>>16,this[_+1]=M>>>8,this[_]=M&255,_+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,4,4294967295,0),this[_]=M>>>24,this[_+1]=M>>>16,this[_+2]=M>>>8,this[_+3]=M&255,_+4};function gA(O,M,_,P,V){hA(M,P,V,O,_,7);let lA=Number(M&BigInt(4294967295));O[_++]=lA,lA=lA>>8,O[_++]=lA,lA=lA>>8,O[_++]=lA,lA=lA>>8,O[_++]=lA;let z=Number(M>>BigInt(32)&BigInt(4294967295));return O[_++]=z,z=z>>8,O[_++]=z,z=z>>8,O[_++]=z,z=z>>8,O[_++]=z,_}function EA(O,M,_,P,V){hA(M,P,V,O,_,7);let lA=Number(M&BigInt(4294967295));O[_+7]=lA,lA=lA>>8,O[_+6]=lA,lA=lA>>8,O[_+5]=lA,lA=lA>>8,O[_+4]=lA;let z=Number(M>>BigInt(32)&BigInt(4294967295));return O[_+3]=z,z=z>>8,O[_+2]=z,z=z>>8,O[_+1]=z,z=z>>8,O[_]=z,_+8}l.prototype.writeBigUInt64LE=ee(function(M,_=0){return gA(this,M,_,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=ee(function(M,_=0){return EA(this,M,_,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(M,_,P,V){if(M=+M,_=_>>>0,!V){const QA=Math.pow(2,8*P-1);rA(this,M,_,P,QA-1,-QA)}let lA=0,z=1,eA=0;for(this[_]=M&255;++lA<P&&(z*=256);)M<0&&eA===0&&this[_+lA-1]!==0&&(eA=1),this[_+lA]=(M/z>>0)-eA&255;return _+P},l.prototype.writeIntBE=function(M,_,P,V){if(M=+M,_=_>>>0,!V){const QA=Math.pow(2,8*P-1);rA(this,M,_,P,QA-1,-QA)}let lA=P-1,z=1,eA=0;for(this[_+lA]=M&255;--lA>=0&&(z*=256);)M<0&&eA===0&&this[_+lA+1]!==0&&(eA=1),this[_+lA]=(M/z>>0)-eA&255;return _+P},l.prototype.writeInt8=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,1,127,-128),M<0&&(M=255+M+1),this[_]=M&255,_+1},l.prototype.writeInt16LE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,2,32767,-32768),this[_]=M&255,this[_+1]=M>>>8,_+2},l.prototype.writeInt16BE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,2,32767,-32768),this[_]=M>>>8,this[_+1]=M&255,_+2},l.prototype.writeInt32LE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,4,2147483647,-2147483648),this[_]=M&255,this[_+1]=M>>>8,this[_+2]=M>>>16,this[_+3]=M>>>24,_+4},l.prototype.writeInt32BE=function(M,_,P){return M=+M,_=_>>>0,P||rA(this,M,_,4,2147483647,-2147483648),M<0&&(M=4294967295+M+1),this[_]=M>>>24,this[_+1]=M>>>16,this[_+2]=M>>>8,this[_+3]=M&255,_+4},l.prototype.writeBigInt64LE=ee(function(M,_=0){return gA(this,M,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=ee(function(M,_=0){return EA(this,M,_,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function OA(O,M,_,P,V,lA){if(_+P>O.length)throw new RangeError("Index out of range");if(_<0)throw new RangeError("Index out of range")}function yA(O,M,_,P,V){return M=+M,_=_>>>0,V||OA(O,M,_,4),t.write(O,M,_,P,23,4),_+4}l.prototype.writeFloatLE=function(M,_,P){return yA(this,M,_,!0,P)},l.prototype.writeFloatBE=function(M,_,P){return yA(this,M,_,!1,P)};function YA(O,M,_,P,V){return M=+M,_=_>>>0,V||OA(O,M,_,8),t.write(O,M,_,P,52,8),_+8}l.prototype.writeDoubleLE=function(M,_,P){return YA(this,M,_,!0,P)},l.prototype.writeDoubleBE=function(M,_,P){return YA(this,M,_,!1,P)},l.prototype.copy=function(M,_,P,V){if(!l.isBuffer(M))throw new TypeError("argument should be a Buffer");if(P||(P=0),!V&&V!==0&&(V=this.length),_>=M.length&&(_=M.length),_||(_=0),V>0&&V<P&&(V=P),V===P||M.length===0||this.length===0)return 0;if(_<0)throw new RangeError("targetStart out of bounds");if(P<0||P>=this.length)throw new RangeError("Index out of range");if(V<0)throw new RangeError("sourceEnd out of bounds");V>this.length&&(V=this.length),M.length-_<V-P&&(V=M.length-_+P);const lA=V-P;return this===M&&typeof s.prototype.copyWithin=="function"?this.copyWithin(_,P,V):s.prototype.set.call(M,this.subarray(P,V),_),lA},l.prototype.fill=function(M,_,P,V){if(typeof M=="string"){if(typeof _=="string"?(V=_,_=0,P=this.length):typeof P=="string"&&(V=P,P=this.length),V!==void 0&&typeof V!="string")throw new TypeError("encoding must be a string");if(typeof V=="string"&&!l.isEncoding(V))throw new TypeError("Unknown encoding: "+V);if(M.length===1){const z=M.charCodeAt(0);(V==="utf8"&&z<128||V==="latin1")&&(M=z)}}else typeof M=="number"?M=M&255:typeof M=="boolean"&&(M=Number(M));if(_<0||this.length<_||this.length<P)throw new RangeError("Out of range index");if(P<=_)return this;_=_>>>0,P=P===void 0?this.length:P>>>0,M||(M=0);let lA;if(typeof M=="number")for(lA=_;lA<P;++lA)this[lA]=M;else{const z=l.isBuffer(M)?M:l.from(M,V),eA=z.length;if(eA===0)throw new TypeError('The value "'+M+'" is invalid for argument "value"');for(lA=0;lA<P-_;++lA)this[lA+_]=z[lA%eA]}return this};const ZA={};function IA(O,M,_){ZA[O]=class extends _{constructor(){super(),Object.defineProperty(this,"message",{value:M.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${O}]`,this.stack,delete this.name}get code(){return O}set code(V){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:V,writable:!0})}toString(){return`${this.name} [${O}]: ${this.message}`}}}IA("ERR_BUFFER_OUT_OF_BOUNDS",function(O){return O?`${O} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),IA("ERR_INVALID_ARG_TYPE",function(O,M){return`The "${O}" argument must be of type number. Received type ${typeof M}`},TypeError),IA("ERR_OUT_OF_RANGE",function(O,M,_){let P=`The value of "${O}" is out of range.`,V=_;return Number.isInteger(_)&&Math.abs(_)>2**32?V=FA(String(_)):typeof _=="bigint"&&(V=String(_),(_>BigInt(2)**BigInt(32)||_<-(BigInt(2)**BigInt(32)))&&(V=FA(V)),V+="n"),P+=` It must be ${M}. Received ${V}`,P},RangeError);function FA(O){let M="",_=O.length;const P=O[0]==="-"?1:0;for(;_>=P+4;_-=3)M=`_${O.slice(_-3,_)}${M}`;return`${O.slice(0,_)}${M}`}function k(O,M,_){sA(M,"offset"),(O[M]===void 0||O[M+_]===void 0)&&H(M,O.length-(_+1))}function hA(O,M,_,P,V,lA){if(O>_||O<M){const z=typeof M=="bigint"?"n":"";let eA;throw M===0||M===BigInt(0)?eA=`>= 0${z} and < 2${z} ** ${(lA+1)*8}${z}`:eA=`>= -(2${z} ** ${(lA+1)*8-1}${z}) and < 2 ** ${(lA+1)*8-1}${z}`,new ZA.ERR_OUT_OF_RANGE("value",eA,O)}k(P,V,lA)}function sA(O,M){if(typeof O!="number")throw new ZA.ERR_INVALID_ARG_TYPE(M,"number",O)}function H(O,M,_){throw Math.floor(O)!==O?(sA(O,_),new ZA.ERR_OUT_OF_RANGE("offset","an integer",O)):M<0?new ZA.ERR_BUFFER_OUT_OF_BOUNDS:new ZA.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${M}`,O)}const C=/[^+/0-9A-Za-z-_]/g;function J(O){if(O=O.split("=")[0],O=O.trim().replace(C,""),O.length<2)return"";for(;O.length%4!==0;)O=O+"=";return O}function dA(O,M){M=M||1/0;let _;const P=O.length;let V=null;const lA=[];for(let z=0;z<P;++z){if(_=O.charCodeAt(z),_>55295&&_<57344){if(!V){if(_>56319){(M-=3)>-1&&lA.push(239,191,189);continue}else if(z+1===P){(M-=3)>-1&&lA.push(239,191,189);continue}V=_;continue}if(_<56320){(M-=3)>-1&&lA.push(239,191,189),V=_;continue}_=(V-55296<<10|_-56320)+65536}else V&&(M-=3)>-1&&lA.push(239,191,189);if(V=null,_<128){if((M-=1)<0)break;lA.push(_)}else if(_<2048){if((M-=2)<0)break;lA.push(_>>6|192,_&63|128)}else if(_<65536){if((M-=3)<0)break;lA.push(_>>12|224,_>>6&63|128,_&63|128)}else if(_<1114112){if((M-=4)<0)break;lA.push(_>>18|240,_>>12&63|128,_>>6&63|128,_&63|128)}else throw new Error("Invalid code point")}return lA}function pA(O){const M=[];for(let _=0;_<O.length;++_)M.push(O.charCodeAt(_)&255);return M}function iA(O,M){let _,P,V;const lA=[];for(let z=0;z<O.length&&!((M-=2)<0);++z)_=O.charCodeAt(z),P=_>>8,V=_%256,lA.push(V),lA.push(P);return lA}function _A(O){return A.toByteArray(J(O))}function TA(O,M,_,P){let V;for(V=0;V<P&&!(V+_>=M.length||V>=O.length);++V)M[V+_]=O[V];return V}function DA(O,M){return O instanceof M||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===M.name}function UA(O){return O!==O}const ye=(function(){const O="0123456789abcdef",M=new Array(256);for(let _=0;_<16;++_){const P=_*16;for(let V=0;V<16;++V)M[P+V]=O[_]+O[V]}return M})();function ee(O){return typeof BigInt>"u"?lt:O}function lt(){throw new Error("BigInt not supported")}})(D0);const je=D0.Buffer;var Lo={},Uo={},E0;function gN(){if(E0)return Uo;E0=1,Object.defineProperty(Uo,"__esModule",{value:!0}),Uo.Slice=void 0;let e=class{constructor(t,n,r,s){this.uint8=t,this.view=n,this.start=r,this.end=s}subarray(){return this.uint8.subarray(this.start,this.end)}};return Uo.Slice=e,Uo}var k0;function pN(){if(k0)return Lo;k0=1,Object.defineProperty(Lo,"__esModule",{value:!0}),Lo.Writer=void 0;const e=gN(),A=new Uint8Array([]),t=new DataView(A.buffer),n=typeof je=="function",r=n?je.prototype.utf8Write:null,s=n?je.from:null,i=typeof TextEncoder<"u"?new TextEncoder:null;let o=class{constructor(c=64*1024){this.allocSize=c,this.view=t,this.x0=0,this.x=0,this.uint8=new Uint8Array(c),this.size=c,this.view=new DataView(this.uint8.buffer)}grow(c){const l=this.x0,u=this.x,h=this.uint8,f=new Uint8Array(c),m=new DataView(f.buffer),d=h.subarray(l,u);f.set(d,0),this.x=u-l,this.x0=0,this.uint8=f,this.size=c,this.view=m}ensureCapacity(c){const l=this.size,u=l-this.x;if(u<c){const h=l-this.x0,f=c-u,m=h+f;this.grow(m<=this.allocSize?this.allocSize:m*2)}}move(c){this.ensureCapacity(c),this.x+=c}reset(){this.x0=this.x}newBuffer(c){const l=this.uint8=new Uint8Array(c);this.size=c,this.view=new DataView(l.buffer),this.x=this.x0=0}flush(){const c=this.uint8.subarray(this.x0,this.x);return this.x0=this.x,c}flushSlice(){const c=new e.Slice(this.uint8,this.view,this.x0,this.x);return this.x0=this.x,c}u8(c){this.ensureCapacity(1),this.uint8[this.x++]=c}u16(c){this.ensureCapacity(2),this.view.setUint16(this.x,c),this.x+=2}u32(c){this.ensureCapacity(4),this.view.setUint32(this.x,c),this.x+=4}i32(c){this.ensureCapacity(4),this.view.setInt32(this.x,c),this.x+=4}u64(c){this.ensureCapacity(8),this.view.setBigUint64(this.x,BigInt(c)),this.x+=8}f64(c){this.ensureCapacity(8),this.view.setFloat64(this.x,c),this.x+=8}u8u16(c,l){this.ensureCapacity(3);let u=this.x;this.uint8[u++]=c,this.uint8[u++]=l>>>8,this.uint8[u++]=l&255,this.x=u}u8u32(c,l){this.ensureCapacity(5);let u=this.x;this.uint8[u++]=c,this.view.setUint32(u,l),this.x=u+4}u8u64(c,l){this.ensureCapacity(9);let u=this.x;this.uint8[u++]=c,this.view.setBigUint64(u,BigInt(l)),this.x=u+8}u8f32(c,l){this.ensureCapacity(5);let u=this.x;this.uint8[u++]=c,this.view.setFloat32(u,l),this.x=u+4}u8f64(c,l){this.ensureCapacity(9);let u=this.x;this.uint8[u++]=c,this.view.setFloat64(u,l),this.x=u+8}buf(c,l){this.ensureCapacity(l);const u=this.x;this.uint8.set(c,u),this.x=u+l}utf8(c){const l=c.length*4;if(l<168)return this.utf8Native(c);this.ensureCapacity(l);const u=this.size-this.x;if(r){const h=r.call(this.uint8,c,this.x,u);return this.x+=h,h}else if(s){const h=this.uint8,f=h.byteOffset+this.x,d=s(h.buffer).subarray(f,f+u).write(c,0,u,"utf8");return this.x+=d,d}else if(l>1024&&i){const h=i.encodeInto(c,this.uint8.subarray(this.x,this.x+u)).written;return this.x+=h,h}return this.utf8Native(c)}utf8Native(c){const l=c.length,u=this.uint8;let h=this.x,f=0;for(;f<l;){let d=c.charCodeAt(f++);if((d&4294967168)===0){u[h++]=d;continue}else if((d&4294965248)===0)u[h++]=d>>6&31|192;else{if(d>=55296&&d<=56319&&f<l){const g=c.charCodeAt(f);(g&64512)===56320&&(f++,d=((d&1023)<<10)+(g&1023)+65536)}(d&4294901760)===0?(u[h++]=d>>12&15|224,u[h++]=d>>6&63|128):(u[h++]=d>>18&7|240,u[h++]=d>>12&63|128,u[h++]=d>>6&63|128)}u[h++]=d&63|128}const m=h-this.x;return this.x=h,m}ascii(c){const l=c.length;this.ensureCapacity(l);const u=this.uint8;let h=this.x,f=0;for(;f<l;)u[h++]=c.charCodeAt(f++);this.x=h}};return Lo.Writer=o,Lo}var v0;function wN(){if(v0)return Ho;v0=1,Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.MsgPackEncoderFast=void 0;const e=pN();let A=class{constructor(n=new e.Writer){this.writer=n}encode(n){return this.writer.reset(),this.writeAny(n),this.writer.flush()}encodeAny(n){this.writeAny(n)}writeAny(n){switch(n){case null:return this.writer.u8(192);case!1:return this.writer.u8(194);case!0:return this.writer.u8(195)}if(n instanceof Array)return this.writeArr(n);switch(typeof n){case"number":return this.writeNumber(n);case"string":return this.writeStr(n);case"object":return this.writeObj(n)}}encodeFloat64(n){this.writeFloat(n)}writeNull(){return this.writer.u8(192)}writeFloat(n){this.writer.u8f64(203,n)}u32(n){const r=this.writer;this.writer.ensureCapacity(5);const s=r.uint8;n<=127?s[r.x++]=n:n<=65535?(s[r.x++]=205,r.view.setUint16(r.x,n),r.x+=2):n<=4294967295?(s[r.x++]=206,r.view.setUint32(r.x,n),r.x+=4):this.writeFloat(n)}n32(n){const r=this.writer;this.writer.ensureCapacity(5);const s=r.uint8;n>=-32?s[r.x++]=256+n:n>=-32768?(s[r.x++]=209,r.view.setInt16(r.x,n),r.x+=2):n>=-2147483648?(s[r.x++]=210,r.view.setInt32(r.x,n),r.x+=4):this.writeFloat(n)}encodeNumber(n){this.writeNumber(n)}writeNumber(n){if(n>>>0===n)return this.u32(n);if(n>>0===n)return this.n32(n);this.writeFloat(n)}writeInteger(n){if(n>=0){if(n<=4294967295)return this.u32(n);if(n>-2147483648)return this.n32(n)}this.writeFloat(n)}writeUInteger(n){if(n<=4294967295)return this.u32(n);this.writeFloat(n)}encodeNull(){this.writer.u8(192)}encodeTrue(){this.writer.u8(195)}encodeFalse(){this.writer.u8(194)}encodeBoolean(n){this.writeBoolean(n)}writeBoolean(n){n?this.writer.u8(195):this.writer.u8(194)}encodeStringHeader(n){this.writeStrHdr(n)}writeStrHdr(n){n<=31?this.writer.u8(160|n):n<=255?this.writer.u16(55552+n):n<=65535?this.writer.u8u16(218,n):this.writer.u8u32(219,n)}encodeString(n){this.writeStr(n)}writeStr(n){const r=this.writer,i=n.length*4;r.ensureCapacity(5+i);const o=r.uint8;let a=r.x;i<=31?r.x++:i<=255?(o[r.x++]=217,a=r.x,r.x++):i<=65535?(o[r.x++]=218,a=r.x,r.x+=2):(o[r.x++]=219,a=r.x,r.x+=4);const c=this.writer.utf8(n);i<=31?o[a]=160|c:i<=255?o[a]=c:i<=65535?r.view.setUint16(a,c):r.view.setUint32(a,c)}encodeAsciiString(n){this.writeAsciiStr(n)}writeAsciiStr(n){this.writeStrHdr(n.length),this.writer.ascii(n)}encodeArrayHeader(n){this.writeArrHdr(n)}encodeArray(n){this.writeArr(n)}writeArrHdr(n){n<=15?this.writer.u8(144|n):n<=65535?this.writer.u8u16(220,n):n<=4294967295&&this.writer.u8u32(221,n)}writeArr(n){const r=n.length;r<=15?this.writer.u8(144|r):r<=65535?this.writer.u8u16(220,r):r<=4294967295&&this.writer.u8u32(221,r);for(let s=0;s<r;s++)this.writeAny(n[s])}encodeObjectHeader(n){this.writeObjHdr(n)}encodeObject(n){this.writeObj(n)}writeObjHdr(n){n<=15?this.writer.u8(128|n):n<=65535?this.writer.u8u16(222,n):n<=4294967295&&this.writer.u8u32(223,n)}writeObj(n){const r=Object.keys(n),s=r.length;this.writeObjHdr(s);for(let i=0;i<s;i++){const o=r[i];this.writeStr(o),this.writeAny(n[o])}}encodeExtHeader(n,r){switch(r){case 1:this.writer.u16(54272|n);break;case 2:this.writer.u16(54528|n);break;case 4:this.writer.u16(54784|n);break;case 8:this.writer.u16(55040|n);break;case 16:this.writer.u16(55296|n);break;default:r<=255?(this.writer.u16(50944|r),this.writer.u8(n)):r<=65535?(this.writer.u8u16(200,r),this.writer.u8(n)):r<=4294967295&&(this.writer.u8u32(201,r),this.writer.u8(n))}}encodeExt(n){const{tag:r,val:s}=n,i=s.length;this.encodeExtHeader(r,i),this.writer.buf(s,i)}encodeBinaryHeader(n){this.writeBinHdr(n)}encodeBinary(n){this.writeBin(n)}writeBinHdr(n){n<=255?this.writer.u16(50176|n):n<=65535?this.writer.u8u16(197,n):n<=4294967295&&this.writer.u8u32(198,n)}writeBin(n){const r=n.length;this.writeBinHdr(r),this.writer.buf(n,r)}};return Ho.MsgPackEncoderFast=A,Ho}var GN=wN(),fA;(function(e){e[e.add=0]="add",e[e.remove=1]="remove",e[e.replace=2]="replace",e[e.copy=3]="copy",e[e.move=4]="move",e[e.test=5]="test",e[e.str_ins=6]="str_ins",e[e.str_del=7]="str_del",e[e.flip=8]="flip",e[e.inc=9]="inc",e[e.split=10]="split",e[e.merge=11]="merge",e[e.extend=12]="extend",e[e.contains=30]="contains",e[e.defined=31]="defined",e[e.ends=32]="ends",e[e.in=33]="in",e[e.less=34]="less",e[e.matches=35]="matches",e[e.more=36]="more",e[e.starts=37]="starts",e[e.undefined=38]="undefined",e[e.test_type=39]="test_type",e[e.test_string=40]="test_string",e[e.test_string_len=41]="test_string_len",e[e.type=42]="type",e[e.and=43]="and",e[e.not=44]="not",e[e.or=45]="or"})(fA||(fA={}));let xN=class extends GN.MsgPackEncoderFast{encode(A){this.writer.reset(),this.encodeArrayHeader(A.length);const t=A.length;for(let n=0;n<t;n++)this.encodeOp(A[n]);return this.writer.flush()}encodeOp(A,t){switch(A.code()){case fA.add:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.add),this.encodeArray(n.path),this.encodeAny(n.value);break}case fA.remove:{const n=A,r=n.oldValue!==void 0;this.encodeArrayHeader(r?3:2),this.writer.u8(fA.remove),this.encodeArray(n.path),r&&this.encodeAny(n.oldValue);break}case fA.replace:{const n=A,r=n.oldValue!==void 0;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.replace),this.encodeArray(n.path),this.encodeAny(n.value),r&&this.encodeAny(n.oldValue);break}case fA.copy:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.copy),this.encodeArray(n.path),this.encodeArray(n.from);break}case fA.move:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.move),this.encodeArray(n.path),this.encodeArray(n.from);break}case fA.test:{const n=A;this.encodeArrayHeader(n.not?4:3),this.writer.u8(fA.test),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeAny(n.value),n.not&&this.writer.u8(1);break}case fA.str_ins:{const n=A;this.encodeArrayHeader(4),this.writer.u8(fA.str_ins),this.encodeArray(n.path),this.encodeNumber(n.pos),this.encodeString(n.str);break}case fA.str_del:{const n=A,r=typeof n.str=="string";this.encodeArrayHeader(r?4:5),this.writer.u8(fA.str_del),this.encodeArray(n.path),this.encodeNumber(n.pos),r?this.encodeString(n.str):(this.writer.u8(0),this.encodeNumber(n.len));break}case fA.flip:{const n=A;this.encodeArrayHeader(2),this.writer.u8(fA.flip),this.encodeArray(n.path);break}case fA.inc:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.inc),this.encodeArray(n.path),this.encodeNumber(n.inc);break}case fA.split:{const n=A;this.encodeArrayHeader(n.props?4:3),this.writer.u8(fA.split),this.encodeArray(n.path),this.encodeNumber(n.pos),n.props&&this.encodeObject(n.props);break}case fA.merge:{const n=A;this.encodeArrayHeader(n.props?4:3),this.writer.u8(fA.merge),this.encodeArray(n.path),this.encodeNumber(n.pos),n.props&&this.encodeAny(n.props);break}case fA.extend:{const n=A,{deleteNull:r}=n;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.extend),this.encodeArray(n.path),this.encodeObject(n.props),r&&this.writer.u8(1);break}case fA.contains:{const n=A,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.contains),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case fA.defined:{const n=A;this.encodeArrayHeader(2),this.writer.u8(fA.defined),this.encodeArray(t?n.path.slice(t.path.length):n.path);break}case fA.ends:{const n=A,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.ends),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case fA.in:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.in),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeArray(n.value);break}case fA.less:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.less),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeNumber(n.value);break}case fA.matches:{const n=A,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.matches),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case fA.more:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.more),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeNumber(n.value);break}case fA.starts:{const n=A,r=n.ignore_case;this.encodeArrayHeader(r?4:3),this.writer.u8(fA.starts),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeString(n.value),r&&this.writer.u8(1);break}case fA.test_type:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.test_type),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeArray(n.type);break}case fA.test_string:{const n=A;this.encodeArrayHeader(n.not?5:4),this.writer.u8(fA.test_string),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeNumber(n.pos),this.encodeString(n.str),n.not&&this.writer.u8(1);break}case fA.test_string_len:{const n=A;this.encodeArrayHeader(n.not?4:3),this.writer.u8(fA.test_string_len),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeNumber(n.len),n.not&&this.writer.u8(1);break}case fA.type:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.type),this.encodeArray(t?n.path.slice(t.path.length):n.path),this.encodeString(n.value);break}case fA.undefined:{const n=A;this.encodeArrayHeader(2),this.writer.u8(fA.undefined),this.encodeArray(t?n.path.slice(t.path.length):n.path);break}case fA.and:{const n=A,r=t?n.path.slice(t.path.length):n.path;this.encodeArrayHeader(3),this.writer.u8(fA.and),this.encodeArray(r);const s=n.ops.length;this.encodeArrayHeader(s);for(let i=0;i<s;i++)this.encodeOp(n.ops[i],n);break}case fA.not:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.not),this.encodeArray(t?n.path.slice(t.path.length):n.path);const r=n.ops.length;this.encodeArrayHeader(r);for(let s=0;s<r;s++)this.encodeOp(n.ops[s],n);break}case fA.or:{const n=A;this.encodeArrayHeader(3),this.writer.u8(fA.or),this.encodeArray(t?n.path.slice(t.path.length):n.path);const r=n.ops.length;this.encodeArrayHeader(r);for(let s=0;s<r;s++)this.encodeOp(n.ops[s],n);break}default:throw new Error(`Unknown operation code: ${A.code()}`)}}};class un{path;from;constructor(A){this.path=A}}var hf={},ff=function(e,A){return ff=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])},ff(e,A)};function Y0(e,A){if(typeof A!="function"&&A!==null)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");ff(e,A);function t(){this.constructor=e}e.prototype=A===null?Object.create(A):(t.prototype=A.prototype,new t)}var _c=function(){return _c=Object.assign||function(A){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(A[s]=t[s])}return A},_c.apply(this,arguments)};function N0(e,A){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&A.indexOf(n)<0&&(t[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(e);r<n.length;r++)A.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(t[n[r]]=e[n[r]]);return t}function Z0(e,A,t,n){var r=arguments.length,s=r<3?A:n===null?n=Object.getOwnPropertyDescriptor(A,t):n,i;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(e,A,t,n);else for(var o=e.length-1;o>=0;o--)(i=e[o])&&(s=(r<3?i(s):r>3?i(A,t,s):i(A,t))||s);return r>3&&s&&Object.defineProperty(A,t,s),s}function O0(e,A){return function(t,n){A(t,n,e)}}function T0(e,A,t,n,r,s){function i(p){if(p!==void 0&&typeof p!="function")throw new TypeError("Function expected");return p}for(var o=n.kind,a=o==="getter"?"get":o==="setter"?"set":"value",c=!A&&e?n.static?e:e.prototype:null,l=A||(c?Object.getOwnPropertyDescriptor(c,n.name):{}),u,h=!1,f=t.length-1;f>=0;f--){var m={};for(var d in n)m[d]=d==="access"?{}:n[d];for(var d in n.access)m.access[d]=n.access[d];m.addInitializer=function(p){if(h)throw new TypeError("Cannot add initializers after decoration has completed");s.push(i(p||null))};var g=(0,t[f])(o==="accessor"?{get:l.get,set:l.set}:l[a],m);if(o==="accessor"){if(g===void 0)continue;if(g===null||typeof g!="object")throw new TypeError("Object expected");(u=i(g.get))&&(l.get=u),(u=i(g.set))&&(l.set=u),(u=i(g.init))&&r.unshift(u)}else(u=i(g))&&(o==="field"?r.unshift(u):l[a]=u)}c&&Object.defineProperty(c,n.name,l),h=!0}function S0(e,A,t){for(var n=arguments.length>2,r=0;r<A.length;r++)t=n?A[r].call(e,t):A[r].call(e);return n?t:void 0}function P0(e){return typeof e=="symbol"?e:"".concat(e)}function j0(e,A,t){return typeof A=="symbol"&&(A=A.description?"[".concat(A.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:t?"".concat(t," ",A):A})}function R0(e,A){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,A)}function I0(e,A,t,n){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(e,A||[])).next())})}function C0(e,A){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,r,s,i=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return i.next=o(0),i.throw=o(1),i.return=o(2),typeof Symbol=="function"&&(i[Symbol.iterator]=function(){return this}),i;function o(c){return function(l){return a([c,l])}}function a(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(t=0)),t;)try{if(n=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=A.call(e,t)}catch(l){c=[6,l],r=0}finally{n=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var Dc=Object.create?(function(e,A,t,n){n===void 0&&(n=t);var r=Object.getOwnPropertyDescriptor(A,t);(!r||("get"in r?!A.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return A[t]}}),Object.defineProperty(e,n,r)}):(function(e,A,t,n){n===void 0&&(n=t),e[n]=A[t]});function z0(e,A){for(var t in e)t!=="default"&&!Object.prototype.hasOwnProperty.call(A,t)&&Dc(A,e,t)}function Bc(e){var A=typeof Symbol=="function"&&Symbol.iterator,t=A&&e[A],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(A?"Object is not iterable.":"Symbol.iterator is not defined.")}function df(e,A){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),r,s=[],i;try{for(;(A===void 0||A-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(o){i={error:o}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(i)throw i.error}}return s}function H0(){for(var e=[],A=0;A<arguments.length;A++)e=e.concat(df(arguments[A]));return e}function L0(){for(var e=0,A=0,t=arguments.length;A<t;A++)e+=arguments[A].length;for(var n=Array(e),r=0,A=0;A<t;A++)for(var s=arguments[A],i=0,o=s.length;i<o;i++,r++)n[r]=s[i];return n}function U0(e,A,t){if(t||arguments.length===2)for(var n=0,r=A.length,s;n<r;n++)(s||!(n in A))&&(s||(s=Array.prototype.slice.call(A,0,n)),s[n]=A[n]);return e.concat(s||Array.prototype.slice.call(A))}function Ti(e){return this instanceof Ti?(this.v=e,this):new Ti(e)}function $0(e,A,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,A||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",i),r[Symbol.asyncIterator]=function(){return this},r;function i(f){return function(m){return Promise.resolve(m).then(f,u)}}function o(f,m){n[f]&&(r[f]=function(d){return new Promise(function(g,p){s.push([f,d,g,p])>1||a(f,d)})},m&&(r[f]=m(r[f])))}function a(f,m){try{c(n[f](m))}catch(d){h(s[0][3],d)}}function c(f){f.value instanceof Ti?Promise.resolve(f.value.v).then(l,u):h(s[0][2],f)}function l(f){a("next",f)}function u(f){a("throw",f)}function h(f,m){f(m),s.shift(),s.length&&a(s[0][0],s[0][1])}}function F0(e){var A,t;return A={},n("next"),n("throw",function(r){throw r}),n("return"),A[Symbol.iterator]=function(){return this},A;function n(r,s){A[r]=e[r]?function(i){return(t=!t)?{value:Ti(e[r](i)),done:!1}:s?s(i):i}:s}}function Q0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var A=e[Symbol.asyncIterator],t;return A?A.call(e):(e=typeof Bc=="function"?Bc(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(s){t[s]=e[s]&&function(i){return new Promise(function(o,a){i=e[s](i),r(o,a,i.done,i.value)})}}function r(s,i,o,a){Promise.resolve(a).then(function(c){s({value:c,done:o})},i)}}function K0(e,A){return Object.defineProperty?Object.defineProperty(e,"raw",{value:A}):e.raw=A,e}var MN=Object.create?(function(e,A){Object.defineProperty(e,"default",{enumerable:!0,value:A})}):function(e,A){e.default=A},mf=function(e){return mf=Object.getOwnPropertyNames||function(A){var t=[];for(var n in A)Object.prototype.hasOwnProperty.call(A,n)&&(t[t.length]=n);return t},mf(e)};function W0(e){if(e&&e.__esModule)return e;var A={};if(e!=null)for(var t=mf(e),n=0;n<t.length;n++)t[n]!=="default"&&Dc(A,e,t[n]);return MN(A,e),A}function V0(e){return e&&e.__esModule?e:{default:e}}function q0(e,A,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof A=="function"?e!==A||!n:!A.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:A.get(e)}function J0(e,A,t,n,r){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof A=="function"?e!==A||!r:!A.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?r.call(e,t):r?r.value=t:A.set(e,t),t}function X0(e,A){if(A===null||typeof A!="object"&&typeof A!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof e=="function"?A===e:e.has(A)}function AG(e,A,t){if(A!=null){if(typeof A!="object"&&typeof A!="function")throw new TypeError("Object expected.");var n,r;if(t){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=A[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=A[Symbol.dispose],t&&(r=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");r&&(n=function(){try{r.call(this)}catch(s){return Promise.reject(s)}}),e.stack.push({value:A,dispose:n,async:t})}else t&&e.stack.push({async:!0});return A}var bN=typeof SuppressedError=="function"?SuppressedError:function(e,A,t){var n=new Error(t);return n.name="SuppressedError",n.error=e,n.suppressed=A,n};function eG(e){function A(s){e.error=e.hasError?new bN(s,e.error,"An error was suppressed during disposal."):s,e.hasError=!0}var t,n=0;function r(){for(;t=e.stack.pop();)try{if(!t.async&&n===1)return n=0,e.stack.push(t),Promise.resolve().then(r);if(t.dispose){var s=t.dispose.call(t.value);if(t.async)return n|=2,Promise.resolve(s).then(r,function(i){return A(i),r()})}else n|=1}catch(i){A(i)}if(n===1)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return r()}function tG(e,A){return typeof e=="string"&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(t,n,r,s,i){return n?A?".jsx":".js":r&&(!s||!i)?t:r+s+"."+i.toLowerCase()+"js"}):e}var yN={__extends:Y0,__assign:_c,__rest:N0,__decorate:Z0,__param:O0,__esDecorate:T0,__runInitializers:S0,__propKey:P0,__setFunctionName:j0,__metadata:R0,__awaiter:I0,__generator:C0,__createBinding:Dc,__exportStar:z0,__values:Bc,__read:df,__spread:H0,__spreadArrays:L0,__spreadArray:U0,__await:Ti,__asyncGenerator:$0,__asyncDelegator:F0,__asyncValues:Q0,__makeTemplateObject:K0,__importStar:W0,__importDefault:V0,__classPrivateFieldGet:q0,__classPrivateFieldSet:J0,__classPrivateFieldIn:X0,__addDisposableResource:AG,__disposeResources:eG,__rewriteRelativeImportExtension:tG},_N=Object.freeze({__proto__:null,__addDisposableResource:AG,get __assign(){return _c},__asyncDelegator:F0,__asyncGenerator:$0,__asyncValues:Q0,__await:Ti,__awaiter:I0,__classPrivateFieldGet:q0,__classPrivateFieldIn:X0,__classPrivateFieldSet:J0,__createBinding:Dc,__decorate:Z0,__disposeResources:eG,__esDecorate:T0,__exportStar:z0,__extends:Y0,__generator:C0,__importDefault:V0,__importStar:W0,__makeTemplateObject:K0,__metadata:R0,__param:O0,__propKey:P0,__read:df,__rest:N0,__rewriteRelativeImportExtension:tG,__runInitializers:S0,__setFunctionName:j0,__spread:H0,__spreadArray:U0,__spreadArrays:L0,__values:Bc,default:yN}),Hs=Uw(_N),gf={},nG;function DN(){return nG||(nG=1,Object.defineProperty(gf,"__esModule",{value:!0})),gf}var pf={},rG;function sG(){return rG||(rG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.isInteger=e.isRoot=e.toPath=void 0,e.unescapeComponent=s,e.escapeComponent=i,e.parseJsonPointer=o,e.formatJsonPointer=a,e.isChild=l,e.isPathEqual=u,e.parent=f,e.isValidIndex=m;const A=/~1/g,t=/~0/g,n=/~/g,r=/\//g;function s(g){return g.indexOf("~")===-1?g:g.replace(A,"/").replace(t,"~")}function i(g){return g.indexOf("/")===-1&&g.indexOf("~")===-1?g:g.replace(n,"~0").replace(r,"~1")}function o(g){return g?g.slice(1).split("/").map(s):[]}function a(g){return(0,e.isRoot)(g)?"":"/"+g.map(p=>i(String(p))).join("/")}const c=g=>typeof g=="string"?o(g):g;e.toPath=c;function l(g,p){if(g.length>=p.length)return!1;for(let x=0;x<g.length;x++)if(g[x]!==p[x])return!1;return!0}function u(g,p){if(g.length!==p.length)return!1;for(let x=0;x<g.length;x++)if(g[x]!==p[x])return!1;return!0}const h=g=>!g.length;e.isRoot=h;function f(g){if(g.length<1)throw new Error("NO_PARENT");return g.slice(0,g.length-1)}function m(g){if(typeof g=="number")return!0;const p=Number.parseInt(g,10);return String(p)===g&&p>=0}const d=g=>{const p=g.length;let x=0,y;for(;x<p;){if(y=g.charCodeAt(x),y>=48&&y<=57){x++;continue}return!1}return!0};e.isInteger=d})(pf)),pf}var wf={},iG;function BN(){return iG||(iG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validatePath=e.validateJsonPointer=void 0;const A=r=>{if(typeof r=="string"){if(r){if(r[0]!=="/")throw new Error("POINTER_INVALID");if(r.length>1024)throw new Error("POINTER_TOO_LONG")}}else(0,e.validatePath)(r)};e.validateJsonPointer=A;const{isArray:t}=Array,n=r=>{if(!t(r))throw new Error("Invalid path.");if(r.length>256)throw new Error("Path too long.");for(const s of r)switch(typeof s){case"string":case"number":continue;default:throw new Error("Invalid path step.")}};e.validatePath=n})(wf)),wf}var $o={},Ec={},oG;function Gf(){if(oG)return Ec;oG=1,Object.defineProperty(Ec,"__esModule",{value:!0}),Ec.hasOwnProperty=A;const e=Object.prototype.hasOwnProperty;function A(t,n){return e.call(t,n)}return Ec}var aG;function EN(){if(aG)return $o;aG=1,Object.defineProperty($o,"__esModule",{value:!0}),$o.get=void 0;const e=Gf(),A=(t,n)=>{const r=n.length;let s;if(!r)return t;for(let i=0;i<r;i++)if(s=n[i],t instanceof Array){if(typeof s!="number"){if(s==="-")return;const o=~~s;if(""+o!==s)return;s=o}t=t[s]}else if(typeof t=="object"){if(!t||!(0,e.hasOwnProperty)(t,s))return;t=t[s]}else return;return t};return $o.get=A,$o}var Hn={},cG;function kN(){if(cG)return Hn;cG=1,Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.isObjectReference=Hn.isArrayEnd=Hn.isArrayReference=Hn.find=void 0;const e=Gf(),{isArray:A}=Array,t=(i,o)=>{const a=o.length;if(!a)return{val:i};let c,l;for(let h=0;h<a;h++)if(c=i,l=o[h],A(c)){const f=c.length;if(l==="-")l=f;else if(typeof l=="string"){const m=~~l;if(""+m!==l)throw new Error("INVALID_INDEX");if(l=m,l<0)throw new Error("INVALID_INDEX")}i=c[l]}else if(typeof c=="object"&&c)i=(0,e.hasOwnProperty)(c,l)?c[l]:void 0;else throw new Error("NOT_FOUND");return{val:i,obj:c,key:l}};Hn.find=t;const n=i=>A(i.obj)&&typeof i.key=="number";Hn.isArrayReference=n;const r=i=>i.obj.length===i.key;Hn.isArrayEnd=r;const s=i=>typeof i.obj=="object"&&typeof i.key=="string";return Hn.isObjectReference=s,Hn}var xf={},Fo={},lG;function vN(){if(lG)return Fo;lG=1,Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.findByPointer=void 0;const e=Gf(),A=sG(),{isArray:t}=Array,n=(r,s)=>{if(!r)return{val:s};let i,o,a=0,c=1;for(;a>-1;)if(a=r.indexOf("/",c),o=a>-1?r.substring(c,a):r.substring(c),c=a+1,i=s,t(i)){const l=i.length;if(o==="-")o=l;else{const u=~~o;if(""+u!==o)throw new Error("INVALID_INDEX");if(o=u,o<0)throw"INVALID_INDEX"}s=i[o]}else if(typeof i=="object"&&i)o=(0,A.unescapeComponent)(o),s=(0,e.hasOwnProperty)(i,o)?i[o]:void 0;else throw"NOT_FOUND";return{val:s,obj:i,key:o}};return Fo.findByPointer=n,Fo}var uG;function YN(){return uG||(uG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Hs.__exportStar(vN(),e)})(xf)),xf}var hG;function NN(){return hG||(hG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0});const A=Hs;A.__exportStar(DN(),e),A.__exportStar(sG(),e),A.__exportStar(BN(),e),A.__exportStar(EN(),e),A.__exportStar(kN(),e),A.__exportStar(YN(),e)})(hf)),hf}var MA=NN(),Mf={},fG;function ZN(){return fG||(fG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.clone=void 0;const{isArray:A}=Array,t=Object.keys,n=r=>{if(!r)return r;if(A(r)){const s=[],i=r.length;for(let o=0;o<i;o++)s.push((0,e.clone)(r[o]));return s}else if(typeof r=="object"){const s=t(r),i=s.length,o={};for(let a=0;a<i;a++){const c=s[a];o[c]=(0,e.clone)(r[c])}return o}return r};e.clone=n})(Mf)),Mf}var bf=ZN();class yf extends un{value;constructor(A,t){super(A),this.value=t}op(){return"add"}code(){return fA.add}apply(A){const{val:t,key:n,obj:r}=MA.find(A,this.path),s=bf.clone(this.value);if(!r)A=s;else if(typeof n=="string")r[n]=s;else{const i=r.length;if(n<i)r.splice(n,0,s);else{if(n>i)throw new Error("INVALID_INDEX");r.push(s)}}return{doc:A,old:t}}toJson(A){return{op:"add",path:MA.formatJsonPointer(this.path),value:this.value}}toCompact(A,t){return[t?"add":fA.add,this.path,this.value]}}class dG extends un{oldValue;constructor(A,t){super(A),this.oldValue=t}op(){return"remove"}code(){return fA.remove}apply(A){const t=MA.find(A,this.path);if(t.val===void 0)throw new Error("NOT_FOUND");return MA.isObjectReference(t)?delete t.obj[t.key]:MA.isArrayReference(t)?t.val!==void 0&&t.obj.splice(t.key,1):A=null,{doc:A,old:t.val}}toJson(A){const t={op:"remove",path:MA.formatJsonPointer(this.path)};return this.oldValue!==void 0&&(t.oldValue=this.oldValue),t}toCompact(A,t){const n=t?"remove":fA.remove;return this.oldValue===void 0?[n,this.path]:[n,this.path,this.oldValue]}}class ON extends un{value;oldValue;constructor(A,t,n){super(A),this.value=t,this.oldValue=n}op(){return"replace"}code(){return fA.replace}apply(A){const t=MA.find(A,this.path);if(t.val===void 0)throw new Error("NOT_FOUND");const n=bf.clone(this.value);return MA.isObjectReference(t)||MA.isArrayReference(t)?t.obj[t.key]=n:A=n,{doc:A,old:t.val}}toJson(A){const t={op:"replace",path:MA.formatJsonPointer(this.path),value:this.value};return this.oldValue!==void 0&&(t.oldValue=this.oldValue),t}toCompact(A,t){const n=t?"replace":fA.replace;return this.oldValue===void 0?[n,this.path,this.value]:[n,this.path,this.value,this.oldValue]}}class TN extends un{from;constructor(A,t){super(A),this.from=t}op(){return"move"}code(){return fA.move}apply(A){const t=new dG(MA.toPath(this.from),void 0).apply(A);return new yf(this.path,t.old).apply(t.doc)}toJson(A){return{op:"move",path:MA.formatJsonPointer(this.path),from:MA.formatJsonPointer(this.from)}}toCompact(A,t){return[t?"move":fA.move,this.path,this.from]}}class SN extends un{from;constructor(A,t){super(A),this.from=t}op(){return"copy"}code(){return fA.copy}apply(A){const{val:t}=MA.find(A,this.from);if(t===void 0)throw new Error("NOT_FOUND");return new yf(this.path,bf.clone(t)).apply(A)}toJson(A){return{op:"copy",path:MA.formatJsonPointer(this.path),from:MA.formatJsonPointer(this.from)}}toCompact(A,t){return[t?"copy":fA.copy,this.path,this.from]}}class jt extends un{apply(A){if(!this.test(A))throw new Error("TEST");return{doc:A}}}var _f={},Df={},mG;function PN(){return mG||(mG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.deepEqual=void 0;const A=Array.isArray,t=Object.prototype,n=(r,s)=>{if(r===s)return!0;let i=0,o=0;if(A(r)){if(!A(s)||(i=r.length,i!==s.length))return!1;for(o=i;o--!==0;)if(!(0,e.deepEqual)(r[o],s[o]))return!1;return!0}if(r&&s&&typeof r=="object"&&typeof s=="object"){A:{if(r.__proto__===t)break A;if(r instanceof Uint8Array){if(!(s instanceof Uint8Array))return!1;const c=r.length;if(c!==s.length)return!1;for(let l=0;l<c;l++)if(r[l]!==s[l])return!1;return!0}}const a=Object.keys(r);if(i=a.length,i!==Object.keys(s).length||A(s))return!1;for(o=i;o--!==0;){const c=a[o];if(!(0,e.deepEqual)(r[c],s[c]))return!1}return!0}return!1};e.deepEqual=n})(Df)),Df}var gG;function jN(){return gG||(gG=1,(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Hs.__exportStar(PN(),e)})(_f)),_f}var pG=jN();class RN extends jt{value;not;constructor(A,t,n){super(A),this.value=t,this.not=n}op(){return"test"}code(){return fA.test}test(A){const{val:t}=MA.find(A,this.path);if(t===void 0)return!!this.not;const n=pG.deepEqual(t,this.value);return this.not?!n:n}toJson(A){const t={op:"test",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value};return this.not&&(t.not=this.not),t}toCompact(A,t){const n=A?this.path.slice(A.path.length):this.path,r=t?"test":fA.test;return this.not?[r,n,this.value,1]:[r,n,this.value]}}class IN extends un{op(){return"flip"}code(){return fA.flip}apply(A){const t=MA.find(A,this.path);return t.obj?t.obj[t.key]=!t.val:A=!t.val,{doc:A,old:t.val}}toJson(A){return{op:"flip",path:MA.formatJsonPointer(this.path)}}toCompact(A,t){return[t?"flip":fA.flip,this.path]}}class CN extends un{inc;constructor(A,t){super(A),this.inc=t}op(){return"inc"}code(){return fA.inc}apply(A){const t=MA.find(A,this.path),n=this.inc+Number(t.val);return t.obj?t.obj[t.key]=n:A=n,{doc:A,old:t.val}}toJson(A){return{op:"inc",path:MA.formatJsonPointer(this.path),inc:this.inc}}toCompact(A,t){return[t?"inc":fA.inc,this.path,this.inc]}}class zN extends un{pos;str;constructor(A,t,n){super(A),this.pos=t,this.str=n}op(){return"str_ins"}code(){return fA.str_ins}apply(A){const{val:t,key:n,obj:r}=MA.find(A,this.path);if(typeof t!="string"){if(t!==void 0)throw new Error("NOT_A_STRING");if(this.pos!==0)throw new Error("POS")}const s=typeof t=="string"?t:"",i=Math.min(this.pos,s.length),o=s.slice(0,i),a=s.slice(i),c=o+this.str+a;return r?r[n]=c:A=c,{doc:A,old:t}}toJson(A){return{op:"str_ins",path:MA.formatJsonPointer(this.path),pos:this.pos,str:this.str}}toCompact(A,t){return[t?"str_ins":fA.str_ins,this.path,this.pos,this.str]}}class HN extends un{pos;str;len;constructor(A,t,n,r){super(A),this.pos=t,this.str=n,this.len=r}op(){return"str_del"}code(){return fA.str_del}deleteLength(){return typeof this.str=="string"?this.str.length:this.len}apply(A){const{val:t,key:n,obj:r}=MA.find(A,this.path);if(typeof t!="string")throw new Error("NOT_A_STRING");const s=t.length,i=Math.min(this.pos,t.length),o=Math.min(i,s),a=this.str!==void 0?this.str.length:this.len,c=Math.min(i+a,s),l=t.slice(0,o),u=t.substr(c),h=l+u;return r?r[n]=h:A=h,{doc:A,old:t}}toJson(A){return typeof this.str=="string"?{op:"str_del",path:MA.formatJsonPointer(this.path),pos:this.pos,str:this.str}:{op:"str_del",path:MA.formatJsonPointer(this.path),pos:this.pos,len:this.len}}toCompact(A,t){const n=t?"str_del":fA.str_del;return typeof this.str=="string"?[n,this.path,this.pos,this.str]:[n,this.path,this.pos,0,this.len]}}const{isArray:LN}=Array,Bf=e=>!!e&&typeof e=="object"&&typeof e.text=="string",Ef=e=>!!e&&typeof e=="object"&&LN(e.children),UN=(e,A)=>{const t=new RegExp(e,A?"i":void 0);return n=>t.test(n)};class $N extends un{pos;props;constructor(A,t,n){super(A),this.pos=t,this.props=n}op(){return"split"}code(){return fA.split}apply(A){const t=MA.find(A,this.path);if(t.val===void 0)throw new Error("NOT_FOUND");const n=this.split(t.val);return MA.isObjectReference(t)?t.obj[t.key]=n:MA.isArrayReference(t)?(t.obj[t.key]=n[0],t.obj.splice(t.key+1,0,n[1])):A=n,{doc:A,old:t.val}}split(A){if(typeof A=="string"){const{pos:t,props:n}=this,r=A.slice(0,t),s=A.slice(t);return n?[{...n,text:r},{...n,text:s}]:[r,s]}else if(Bf(A)){const{pos:t,props:n}=this,r=A.text.slice(0,t),s=A.text.slice(t);return[{...A,...n,text:r},{...A,...n,text:s}]}else if(Ef(A)){const{pos:t,props:n}=this,r=A.children.slice(0,t),s=A.children.slice(t);return[{...A,...n,children:r},{...A,...n,children:s}]}else if(typeof A=="number"){const{pos:t}=this;return[t,A-t]}else return[A,A]}toJson(A){const t={op:"split",path:MA.formatJsonPointer(this.path),pos:this.pos};return this.props&&(t.props=this.props),t}toCompact(A,t){const n=t?"split":fA.split;return this.props?[n,this.path,this.pos,this.props]:[n,this.path,this.pos]}}class FN extends un{pos;props;constructor(A,t,n){super(A),this.pos=t,this.props=n}op(){return"merge"}code(){return fA.merge}apply(A){const t=MA.find(A,this.path);if(!MA.isArrayReference(t))throw new Error("INVALID_TARGET");if(t.key<=0)throw new Error("INVALID_KEY");const n=t.obj[t.key-1],r=t.obj[t.key],s=this.merge(n,r);return t.obj[t.key-1]=s,t.obj.splice(t.key,1),{doc:A,old:[n,r]}}merge(A,t){return typeof A=="string"&&typeof t=="string"||typeof A=="number"&&typeof t=="number"?A+t:Bf(A)&&Bf(t)?{...A,...t,text:A.text+t.text}:Ef(A)&&Ef(t)?{...A,...t,children:[...A.children,...t.children]}:[A,t]}toJson(A){const t={op:"merge",path:MA.formatJsonPointer(this.path),pos:this.pos};return this.props&&(t.props=this.props),t}toCompact(A,t){const n=t?"merge":fA.merge;return this.props?[n,this.path,this.pos,this.props]:[n,this.path,this.pos]}}const{isArray:QN}=Array;class KN extends un{props;deleteNull;constructor(A,t,n){super(A),this.props=t,this.deleteNull=n}op(){return"extend"}code(){return fA.extend}apply(A){const t=MA.find(A,this.path);return MA.isArrayReference(t)?t.val!==void 0&&(t.obj[t.key]=this.extend(t.val)):MA.isObjectReference(t)?t.obj[t.key]=this.extend(t.val):A=this.extend(A),{doc:A}}extend(A){if(QN(A)||typeof A!="object"||!A)return A;for(const[t,n]of Object.entries(this.props)){if(t==="__proto__")throw new Error("NO_PROTO");if(n===null&&this.deleteNull){delete A[t];continue}A[t]=n}return A}toJson(A){const t={op:"extend",path:MA.formatJsonPointer(this.path),props:this.props};return this.deleteNull&&(t.deleteNull=this.deleteNull),t}toCompact(A,t){const n=t?"extend":fA.extend;return this.deleteNull?[n,this.path,this.props,1]:[n,this.path,this.props]}}class WN extends jt{op(){return"defined"}code(){return fA.defined}test(A){const{val:t}=MA.find(A,this.path);return t!==void 0}toJson(A){return{op:"defined",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path)}}toCompact(A,t){return[t?"defined":fA.defined,A?this.path.slice(A.path.length):this.path]}}class VN extends jt{op(){return"undefined"}code(){return fA.undefined}test(A){try{const{val:t}=MA.find(A,this.path);return t===void 0}catch(t){if(t.message==="NOT_FOUND")return!0;throw t}}toJson(A){return{op:"undefined",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path)}}toCompact(A,t){return[t?"undefined":fA.undefined,A?this.path.slice(A.path.length):this.path]}}const{isArray:qN}=Array;class JN extends jt{type;constructor(A,t){super(A),this.type=t}op(){return"test_type"}code(){return fA.test_type}test(A){const{val:t}=MA.find(A,this.path);return t===null?this.type.indexOf("null")>-1:qN(t)?this.type.indexOf("array")>-1:this.type.indexOf(typeof t)>-1||typeof t=="number"&&t===Math.round(t)&&this.type.indexOf("integer")>-1}toJson(A){return{op:"test_type",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),type:this.type}}toCompact(A,t){return[t?"test_type":fA.test_type,A?this.path.slice(A.path.length):this.path,this.type]}}class XN extends jt{pos;str;not;constructor(A,t,n,r){super(A),this.pos=t,this.str=n,this.not=r}op(){return"test_string"}code(){return fA.test_string}test(A){const{val:t}=MA.find(A,this.path);if(typeof t!="string")return!1;const n=t.length,r=Math.min(this.pos,n),s=Math.min(this.pos+this.str.length,n),i=t.substring(r,s)===this.str;return this.not?!i:i}toJson(A){const t={op:"test_string",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),pos:this.pos,str:this.str};return this.not&&(t.not=this.not),t}toCompact(A,t){const n=t?"test_string":fA.test_string,r=A?this.path.slice(A.path.length):this.path;return this.not?[n,r,this.pos,this.str,1]:[n,r,this.pos,this.str]}}class AZ extends jt{len;not;constructor(A,t,n){super(A),this.len=t,this.not=n}op(){return"test_string_len"}code(){return fA.test_string_len}test(A){const{val:t}=MA.find(A,this.path);if(typeof t!="string")return!1;const r=t.length>=this.len;return this.not?!r:r}toJson(A){const t={op:"test_string_len",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),len:this.len};return this.not&&(t.not=this.not),t}toCompact(A,t){const n=t?"test_string_len":fA.test_string_len,r=A?this.path.slice(A.path.length):this.path;return this.not?[n,r,this.len,1]:[n,r,this.len]}}class eZ extends jt{value;ignore_case;constructor(A,t,n){super(A),this.value=t,this.ignore_case=n}op(){return"contains"}code(){return fA.contains}test(A){const{val:t}=MA.find(A,this.path);if(typeof t!="string")return!1;const n=this.ignore_case?t.toLowerCase():t,r=this.ignore_case?this.value.toLowerCase():this.value;return n.indexOf(r)>-1}toJson(A){const t={op:"contains",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value};return this.ignore_case&&(t.ignore_case=this.ignore_case),t}toCompact(A,t){const n=t?"contains":fA.contains;return this.ignore_case?[n,A?this.path.slice(A.path.length):this.path,this.value,1]:[n,A?this.path.slice(A.path.length):this.path,this.value]}}class tZ extends jt{value;ignore_case;constructor(A,t,n){super(A),this.value=t,this.ignore_case=n}op(){return"ends"}code(){return fA.ends}test(A){const{val:t}=MA.find(A,this.path);if(typeof t!="string")return!1;const n=this.ignore_case?t.toLowerCase():t,r=this.ignore_case?this.value.toLowerCase():this.value;return n.endsWith(r)}toJson(A){const t={op:"ends",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value};return this.ignore_case&&(t.ignore_case=this.ignore_case),t}toCompact(A,t){const n=t?"ends":fA.ends;return this.ignore_case?[n,A?this.path.slice(A.path.length):this.path,this.value,1]:[n,A?this.path.slice(A.path.length):this.path,this.value]}}class nZ extends jt{value;ignore_case;constructor(A,t,n){super(A),this.value=t,this.ignore_case=n}op(){return"starts"}code(){return fA.starts}test(A){const{val:t}=MA.find(A,this.path);if(typeof t!="string")return!1;const n=this.ignore_case?t.toLowerCase():t,r=this.ignore_case?this.value.toLowerCase():this.value;return n.startsWith(r)}toJson(A){const t={op:"starts",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value};return this.ignore_case&&(t.ignore_case=this.ignore_case),t}toCompact(A,t){const n=t?"starts":fA.starts;return this.ignore_case?[n,A?this.path.slice(A.path.length):this.path,this.value,1]:[n,A?this.path.slice(A.path.length):this.path,this.value]}}class rZ extends jt{value;constructor(A,t){super(A),this.value=t}op(){return"in"}code(){return fA.in}test(A){const{val:t}=MA.find(A,this.path);for(const n of this.value)if(pG.deepEqual(t,n))return!0;return!1}toJson(A){return{op:"in",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value}}toCompact(A,t){return[t?"in":fA.in,A?this.path.slice(A.path.length):this.path,this.value]}}class sZ extends jt{value;constructor(A,t){super(A),this.value=t}op(){return"less"}code(){return fA.less}test(A){const{val:t}=MA.find(A,this.path);return typeof t!="number"?!1:t<this.value}toJson(A){return{op:"less",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value}}toCompact(A,t){return[t?"less":fA.less,A?this.path.slice(A.path.length):this.path,this.value]}}class iZ extends jt{value;constructor(A,t){super(A),this.value=t}op(){return"more"}code(){return fA.more}test(A){const{val:t}=MA.find(A,this.path);return typeof t!="number"?!1:t>this.value}toJson(A){return{op:"more",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value}}toCompact(A,t){return[t?"more":fA.more,A?this.path.slice(A.path.length):this.path,this.value]}}class kf extends jt{ops;constructor(A,t){super(A),this.ops=t}}class oZ extends kf{ops;constructor(A,t){super(A,t),this.ops=t}op(){return"and"}code(){return fA.and}test(A){for(const t of this.ops)if(!t.test(A))return!1;return!0}toJson(A){return{op:"and",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(A,t){return[t?"and":fA.and,A?this.path.slice(A.path.length):this.path,this.ops.map(r=>r.toCompact(this,t))]}}class aZ extends kf{ops;constructor(A,t){super(A,t),this.ops=t}op(){return"or"}code(){return fA.or}test(A){for(const t of this.ops)if(t.test(A))return!0;return!1}toJson(A){return{op:"or",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(A,t){return[t?"or":fA.or,A?this.path.slice(A.path.length):this.path,this.ops.map(r=>r.toCompact(this,t))]}}class cZ extends kf{ops;constructor(A,t){super(A,t),this.ops=t}op(){return"not"}code(){return fA.not}test(A){for(const t of this.ops)if(t.test(A))return!1;return!0}toJson(A){return{op:"not",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),apply:this.ops.map(n=>n.toJson(this))}}toCompact(A,t){return[t?"not":fA.not,A?this.path.slice(A.path.length):this.path,this.ops.map(r=>r.toCompact(this,t))]}}class lZ extends jt{value;ignore_case;matcher;constructor(A,t,n,r){super(A),this.value=t,this.ignore_case=n,this.matcher=r(t,n)}op(){return"matches"}code(){return fA.matches}test(A){const{val:t}=MA.find(A,this.path);return typeof t!="string"?!1:this.matcher(t)}toJson(A){const t={op:"matches",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value};return this.ignore_case&&(t.ignore_case=this.ignore_case),t}toCompact(A,t){const n=t?"matches":fA.matches;return this.ignore_case?[n,A?this.path.slice(A.path.length):this.path,this.value,1]:[n,A?this.path.slice(A.path.length):this.path,this.value]}}const{isArray:uZ}=Array;class hZ extends jt{value;constructor(A,t){super(A),this.value=t}op(){return"type"}code(){return fA.type}test(A){const{val:t}=MA.find(A,this.path);return t===null?this.value==="null":uZ(t)?this.value==="array":typeof t===this.value||typeof t=="number"&&t===Math.round(t)&&this.value==="integer"}toJson(A){return{op:"type",path:MA.formatJsonPointer(A?this.path.slice(A.path.length):this.path),value:this.value}}toCompact(A,t){return[t?"type":fA.type,A?this.path.slice(A.path.length):this.path,this.value]}}var Qo={},Ko={},Wo={},kc={},Ls={},wG;function fZ(){if(wG)return Ls;wG=1,Object.defineProperty(Ls,"__esModule",{value:!0}),Ls.decodeAsciiMax15=Ls.decodeAscii=void 0;const e=String.fromCharCode,A=(n,r,s)=>{const i=[];for(let o=0;o<s;o++){const a=n[r++];if(a&128)return;i.push(a)}return e.apply(String,i)};Ls.decodeAscii=A;const t=(n,r,s)=>{if(s<4)if(s<2){if(s===0)return"";{const i=n[r++];if((i&128)>1){r-=1;return}return e(i)}}else{const i=n[r++],o=n[r++];if((i&128)>0||(o&128)>0){r-=2;return}if(s<3)return e(i,o);const a=n[r++];if((a&128)>0){r-=3;return}return e(i,o,a)}else{const i=n[r++],o=n[r++],a=n[r++],c=n[r++];if((i&128)>0||(o&128)>0||(a&128)>0||(c&128)>0){r-=4;return}if(s<6){if(s===4)return e(i,o,a,c);{const l=n[r++];if((l&128)>0){r-=5;return}return e(i,o,a,c,l)}}else if(s<8){const l=n[r++],u=n[r++];if((l&128)>0||(u&128)>0){r-=6;return}if(s<7)return e(i,o,a,c,l,u);const h=n[r++];if((h&128)>0){r-=7;return}return e(i,o,a,c,l,u,h)}else{const l=n[r++],u=n[r++],h=n[r++],f=n[r++];if((l&128)>0||(u&128)>0||(h&128)>0||(f&128)>0){r-=8;return}if(s<10){if(s===8)return e(i,o,a,c,l,u,h,f);{const m=n[r++];if((m&128)>0){r-=9;return}return e(i,o,a,c,l,u,h,f,m)}}else if(s<12){const m=n[r++],d=n[r++];if((m&128)>0||(d&128)>0){r-=10;return}if(s<11)return e(i,o,a,c,l,u,h,f,m,d);const g=n[r++];if((g&128)>0){r-=11;return}return e(i,o,a,c,l,u,h,f,m,d,g)}else{const m=n[r++],d=n[r++],g=n[r++],p=n[r++];if((m&128)>0||(d&128)>0||(g&128)>0||(p&128)>0){r-=12;return}if(s<14){if(s===12)return e(i,o,a,c,l,u,h,f,m,d,g,p);{const x=n[r++];if((x&128)>0){r-=13;return}return e(i,o,a,c,l,u,h,f,m,d,g,p,x)}}else{const x=n[r++],y=n[r++];if((x&128)>0||(y&128)>0){r-=14;return}if(s<15)return e(i,o,a,c,l,u,h,f,m,d,g,p,x,y);const E=n[r++];if((E&128)>0){r-=15;return}return e(i,o,a,c,l,u,h,f,m,d,g,p,x,y,E)}}}}};return Ls.decodeAsciiMax15=t,Ls}var vc={},GG;function dZ(){if(GG)return vc;GG=1,Object.defineProperty(vc,"__esModule",{value:!0});const e=String.fromCharCode;return vc.default=(A,t,n)=>{let r=t;const s=r+n,i=[];for(;r<s;){let o=A[r++];if((o&128)!==0){const a=A[r++]&63;if((o&224)===192)o=(o&31)<<6|a;else{const c=A[r++]&63;if((o&240)===224)o=(o&31)<<12|a<<6|c;else if((o&248)===240){const l=A[r++]&63;let u=(o&7)<<18|a<<12|c<<6|l;if(u>65535){u-=65536;const h=u>>>10&1023|55296;o=56320|u&1023,i.push(h)}else o=u}}}i.push(o)}return e.apply(String,i)},vc}var xG;function mZ(){if(xG)return kc;xG=1,Object.defineProperty(kc,"__esModule",{value:!0});const e=Hs,A=fZ(),t=e.__importDefault(dZ()),n=typeof je<"u",r=n?je.prototype.utf8Slice:null,s=n?je.from:null,i=(l,u,h)=>(0,A.decodeAsciiMax15)(l,u,h)??(0,t.default)(l,u,h),o=(l,u,h)=>(0,A.decodeAscii)(l,u,h)??(0,t.default)(l,u,h),a=r?(l,u,h)=>r.call(l,u,u+h):s?(l,u,h)=>s(l).subarray(u,u+h).toString("utf8"):t.default,c=(l,u,h)=>h<16?i(l,u,h):h<32?o(l,u,h):a(l,u,h);return kc.default=c,kc}var MG;function gZ(){if(MG)return Wo;MG=1,Object.defineProperty(Wo,"__esModule",{value:!0}),Wo.decodeUtf8=void 0;const A=Hs.__importDefault(mZ());return Wo.decodeUtf8=A.default,Wo}var bG;function pZ(){if(bG)return Ko;bG=1,Object.defineProperty(Ko,"__esModule",{value:!0}),Ko.Reader=void 0;const e=gZ();let A=class _Y{constructor(n=new Uint8Array([]),r=new DataView(n.buffer,n.byteOffset,n.length),s=0,i=n.length){this.uint8=n,this.view=r,this.x=s,this.end=i}reset(n){this.x=0,this.uint8=n,this.view=new DataView(n.buffer,n.byteOffset,n.length)}size(){return this.end-this.x}peek(){return this.view.getUint8(this.x)}peak(){return this.peek()}skip(n){this.x+=n}buf(n=this.size()){const r=this.x,s=r+n,i=this.uint8.subarray(r,s);return this.x=s,i}subarray(n=0,r){const s=this.x,i=s+n,o=typeof r=="number"?s+r:this.end;return this.uint8.subarray(i,o)}slice(n=0,r){const s=this.x,i=s+n,o=typeof r=="number"?s+r:this.end;return new _Y(this.uint8,this.view,i,o)}cut(n=this.size()){const r=this.slice(0,n);return this.skip(n),r}u8(){return this.uint8[this.x++]}i8(){return this.view.getInt8(this.x++)}u16(){let n=this.x;const r=(this.uint8[n++]<<8)+this.uint8[n++];return this.x=n,r}i16(){const n=this.view.getInt16(this.x);return this.x+=2,n}u32(){const n=this.view.getUint32(this.x);return this.x+=4,n}i32(){const n=this.view.getInt32(this.x);return this.x+=4,n}u64(){const n=this.view.getBigUint64(this.x);return this.x+=8,n}i64(){const n=this.view.getBigInt64(this.x);return this.x+=8,n}f32(){const n=this.x;return this.x+=4,this.view.getFloat32(n)}f64(){const n=this.x;return this.x+=8,this.view.getFloat64(n)}utf8(n){const r=this.x;return this.x+=n,(0,e.decodeUtf8)(this.uint8,r,n)}ascii(n){const r=this.uint8;let s="";const i=this.x+n;for(let o=this.x;o<i;o++)s+=String.fromCharCode(r[o]);return this.x=i,s}};return Ko.Reader=A,Ko}var Yc={},Vo={},Nc={},yG;function wZ(){if(yG)return Nc;yG=1,Object.defineProperty(Nc,"__esModule",{value:!0});const e=String.fromCharCode;return Nc.default=(A,t,n)=>{let r=t;const s=r+n;let i="";for(;r<s;){const o=A[r++];if((o&128)===0){i+=e(o);continue}const a=A[r++]&63;if((o&224)===192){i+=e((o&31)<<6|a);continue}const c=A[r++]&63;if((o&240)===224){i+=e((o&31)<<12|a<<6|c);continue}if((o&248)===240){const l=A[r++]&63;let u=(o&7)<<18|a<<12|c<<6|l;if(u>65535){u-=65536;const h=u>>>10&1023|55296;u=56320|u&1023,i+=e(h,u)}else i+=e(u)}else i+=e(o)}return i},Nc}var _G;function GZ(){if(_G)return Vo;_G=1,Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.CachedUtf8Decoder=void 0;const A=Hs.__importDefault(wZ());let t=1+Math.round(Math.random()*((-1>>>0)-1));function n(i,o){return t^=t<<13,t^=t>>>17,t^=t<<5,(t>>>0)%(o-i+1)+i}class r{constructor(o,a){this.bytes=o,this.value=a}}let s=class{constructor(){this.caches=[];for(let o=0;o<31;o++)this.caches.push([])}get(o,a,c){const l=this.caches[c-1],u=l.length;A:for(let h=0;h<u;h++){const f=l[h],m=f.bytes;for(let d=0;d<c;d++)if(m[d]!==o[a+d])continue A;return f.value}return null}store(o,a){const c=this.caches[o.length-1],l=new r(o,a);c.length>=16?c[n(0,15)]=l:c.push(l)}decode(o,a,c){if(!c)return"";const l=this.get(o,a,c);if(l!==null)return l;const u=(0,A.default)(o,a,c),h=Uint8Array.prototype.slice.call(o,a,a+c);return this.store(h,u),u}};return Vo.CachedUtf8Decoder=s,Vo}var DG;function xZ(){if(DG)return Yc;DG=1,Object.defineProperty(Yc,"__esModule",{value:!0});const e=GZ();return Yc.default=new e.CachedUtf8Decoder,Yc}var qo={},BG;function MZ(){if(BG)return qo;BG=1,Object.defineProperty(qo,"__esModule",{value:!0}),qo.JsonPackExtension=void 0;let e=class{constructor(t,n){this.tag=t,this.val=n}};return qo.JsonPackExtension=e,qo}var EG;function bZ(){if(EG)return Qo;EG=1,Object.defineProperty(Qo,"__esModule",{value:!0}),Qo.MsgPackDecoderFast=void 0;const e=Hs,A=pZ(),t=e.__importDefault(xZ()),n=MZ();let r=class{constructor(i=new A.Reader,o=t.default){this.reader=i,this.keyDecoder=o}decode(i){return this.reader.reset(i),this.readAny()}read(i){return this.reader.reset(i),this.readAny()}val(){return this.readAny()}readAny(){const i=this.reader,o=i.u8();if(o>=224)return o-256;if(o<=191)return o<144?o<=127?o:this.obj(o&15):o<160?this.arr(o&15):i.utf8(o&31);if(o<=208)return o<=200?o<=196?o<=194?o===194?!1:o===192?null:void 0:o===196?i.buf(i.u8()):!0:o<=198?o===198?i.buf(i.u32()):i.buf(i.u16()):o===200?this.ext(i.u16()):this.ext(i.u8()):o<=204?o<=202?o===202?i.f32():this.ext(i.u32()):o===204?i.u8():i.f64():o<=206?o===206?i.u32():i.u16():o===208?i.i8():i.u32()*4294967296+i.u32();if(o<=216)return o<=212?o<=210?o===210?i.i32():i.i16():o===212?this.ext(1):i.i32()*4294967296+i.u32():o<=214?o===214?this.ext(4):this.ext(2):o===216?this.ext(16):this.ext(8);switch(o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32());case 220:return this.arr(i.u16());case 221:return this.arr(i.u32());case 222:return this.obj(i.u16());case 223:return this.obj(i.u32())}}str(){const i=this.reader,o=i.u8();if(o>>5===5)return i.utf8(o&31);switch(o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32())}}obj(i){const o={};for(let a=0;a<i;a++){const c=this.key();if(c==="__proto__")throw 6;o[c]=this.readAny()}return o}key(){const i=this.reader,o=i.view.getUint8(i.x);if(o>=160&&o<=191){const a=o&31,c=this.keyDecoder.decode(i.uint8,i.x+1,a);return i.x+=1+a,c}else if(o===217){const a=i.view.getUint8(i.x+1);if(a<32){const c=this.keyDecoder.decode(i.uint8,i.x+2,a);return i.x+=2+a,c}}switch(i.x++,o){case 217:return i.utf8(i.u8());case 218:return i.utf8(i.u16());case 219:return i.utf8(i.u32());default:return""}}arr(i){const o=[];for(let a=0;a<i;a++)o.push(this.readAny());return o}ext(i){const o=this.reader,a=o.u8(),c=o.x+i,l=o.uint8.subarray(o.x,c);return o.x=c,new n.JsonPackExtension(a,l)}back(i){this.reader.x-=i}};return Qo.MsgPackDecoderFast=r,Qo}bZ();const yZ=(e,A)=>{switch(e.op){case"add":return new yf(MA.toPath(e.path),e.value);case"remove":return new dG(MA.toPath(e.path),e.oldValue);case"replace":return new ON(MA.toPath(e.path),e.value,e.oldValue);case"move":return new TN(MA.toPath(e.path),MA.toPath(e.from));case"copy":return new SN(MA.toPath(e.path),MA.toPath(e.from));case"flip":return new IN(MA.toPath(e.path));case"inc":return new CN(MA.toPath(e.path),e.inc);case"str_ins":return new zN(MA.toPath(e.path),e.pos,e.str);case"str_del":return new HN(MA.toPath(e.path),e.pos,e.str,e.len);case"split":return new $N(MA.toPath(e.path),e.pos,e.props||null);case"merge":return new FN(MA.toPath(e.path),e.pos,e.props||null);case"extend":return new KN(MA.toPath(e.path),e.props,!!e.deleteNull);default:return Zc(e,A)}},Zc=(e,A)=>{switch(e.op){case"test":return new RN(MA.toPath(e.path),e.value,!!e.not);case"defined":return new WN(MA.toPath(e.path));case"undefined":return new VN(MA.toPath(e.path));case"type":return new hZ(MA.toPath(e.path),e.value);case"test_type":return new JN(MA.toPath(e.path),e.type);case"test_string":return new XN(MA.toPath(e.path),e.pos,e.str,!!e.not);case"test_string_len":return new AZ(MA.toPath(e.path),e.len,!!e.not);case"contains":return new eZ(MA.toPath(e.path),e.value,!!e.ignore_case);case"ends":return new tZ(MA.toPath(e.path),e.value,!!e.ignore_case);case"starts":return new nZ(MA.toPath(e.path),e.value,!!e.ignore_case);case"matches":return new lZ(MA.toPath(e.path),e.value,!!e.ignore_case,A.createMatcher||UN);case"in":return new rZ(MA.toPath(e.path),e.value);case"less":return new sZ(MA.toPath(e.path),e.value);case"more":return new iZ(MA.toPath(e.path),e.value);case"and":{const t=MA.toPath(e.path);return new oZ(t,e.apply.map(n=>Zc({...n,path:[...t,...MA.toPath(n.path)]},A)))}case"or":{const t=MA.toPath(e.path);return new aZ(t,e.apply.map(n=>Zc({...n,path:[...t,...MA.toPath(n.path)]},A)))}case"not":{const t=MA.toPath(e.path);return new cZ(t,e.apply.map(n=>Zc({...n,path:[...t,...MA.toPath(n.path)]},A)))}default:throw new Error("OP_UNKNOWN")}};function _Z(e,A){const t=[],n=e.length;for(let r=0;r<n;r++){const s=yZ(e[r],A);t.push(s)}return t}var vf={exports:{}};function DZ(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kG={exports:{}},Xe=kG.exports={},ur,hr;function Yf(){throw new Error("setTimeout has not been defined")}function Nf(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?ur=setTimeout:ur=Yf}catch{ur=Yf}try{typeof clearTimeout=="function"?hr=clearTimeout:hr=Nf}catch{hr=Nf}})();function vG(e){if(ur===setTimeout)return setTimeout(e,0);if((ur===Yf||!ur)&&setTimeout)return ur=setTimeout,setTimeout(e,0);try{return ur(e,0)}catch{try{return ur.call(null,e,0)}catch{return ur.call(this,e,0)}}}function BZ(e){if(hr===clearTimeout)return clearTimeout(e);if((hr===Nf||!hr)&&clearTimeout)return hr=clearTimeout,clearTimeout(e);try{return hr(e)}catch{try{return hr.call(null,e)}catch{return hr.call(this,e)}}}var Pr=[],Si=!1,Us,Oc=-1;function EZ(){!Si||!Us||(Si=!1,Us.length?Pr=Us.concat(Pr):Oc=-1,Pr.length&&YG())}function YG(){if(!Si){var e=vG(EZ);Si=!0;for(var A=Pr.length;A;){for(Us=Pr,Pr=[];++Oc<A;)Us&&Us[Oc].run();Oc=-1,A=Pr.length}Us=null,Si=!1,BZ(e)}}Xe.nextTick=function(e){var A=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)A[t-1]=arguments[t];Pr.push(new NG(e,A)),Pr.length===1&&!Si&&vG(YG)};function NG(e,A){this.fun=e,this.array=A}NG.prototype.run=function(){this.fun.apply(null,this.array)},Xe.title="browser",Xe.browser=!0,Xe.env={},Xe.argv=[],Xe.version="",Xe.versions={};function jr(){}Xe.on=jr,Xe.addListener=jr,Xe.once=jr,Xe.off=jr,Xe.removeListener=jr,Xe.removeAllListeners=jr,Xe.emit=jr,Xe.prependListener=jr,Xe.prependOnceListener=jr,Xe.listeners=function(e){return[]},Xe.binding=function(e){throw new Error("process.binding is not supported")},Xe.cwd=function(){return"/"},Xe.chdir=function(e){throw new Error("process.chdir is not supported")},Xe.umask=function(){return 0};var kZ=kG.exports;const Ln=DZ(kZ);var te={},ZG;function vZ(){if(ZG)return te;ZG=1;var e=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),i=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),a=Symbol.for("react.suspense"),c=Symbol.for("react.memo"),l=Symbol.for("react.lazy"),u=Symbol.for("react.activity"),h=Symbol.iterator;function f(N){return N===null||typeof N!="object"?null:(N=h&&N[h]||N["@@iterator"],typeof N=="function"?N:null)}var m={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d=Object.assign,g={};function p(N,S,AA){this.props=N,this.context=S,this.refs=g,this.updater=AA||m}p.prototype.isReactComponent={},p.prototype.setState=function(N,S){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,S,"setState")},p.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function x(){}x.prototype=p.prototype;function y(N,S,AA){this.props=N,this.context=S,this.refs=g,this.updater=AA||m}var E=y.prototype=new x;E.constructor=y,d(E,p.prototype),E.isPureReactComponent=!0;var B=Array.isArray;function T(){}var D={H:null,A:null,T:null,S:null},Z=Object.prototype.hasOwnProperty;function R(N,S,AA){var Q=AA.ref;return{$$typeof:e,type:N,key:S,ref:Q!==void 0?Q:null,props:AA}}function j(N,S){return R(N.type,S,N.props)}function L(N){return typeof N=="object"&&N!==null&&N.$$typeof===e}function v(N){var S={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(AA){return S[AA]})}var Y=/\/+/g;function b(N,S){return typeof N=="object"&&N!==null&&N.key!=null?v(""+N.key):S.toString(36)}function I(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(T,T):(N.status="pending",N.then(function(S){N.status==="pending"&&(N.status="fulfilled",N.value=S)},function(S){N.status==="pending"&&(N.status="rejected",N.reason=S)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function $(N,S,AA,Q,rA){var gA=typeof N;(gA==="undefined"||gA==="boolean")&&(N=null);var EA=!1;if(N===null)EA=!0;else switch(gA){case"bigint":case"string":case"number":EA=!0;break;case"object":switch(N.$$typeof){case e:case A:EA=!0;break;case l:return EA=N._init,$(EA(N._payload),S,AA,Q,rA)}}if(EA)return rA=rA(N),EA=Q===""?"."+b(N,0):Q,B(rA)?(AA="",EA!=null&&(AA=EA.replace(Y,"$&/")+"/"),$(rA,S,AA,"",function(YA){return YA})):rA!=null&&(L(rA)&&(rA=j(rA,AA+(rA.key==null||N&&N.key===rA.key?"":(""+rA.key).replace(Y,"$&/")+"/")+EA)),S.push(rA)),1;EA=0;var OA=Q===""?".":Q+":";if(B(N))for(var yA=0;yA<N.length;yA++)Q=N[yA],gA=OA+b(Q,yA),EA+=$(Q,S,AA,gA,rA);else if(yA=f(N),typeof yA=="function")for(N=yA.call(N),yA=0;!(Q=N.next()).done;)Q=Q.value,gA=OA+b(Q,yA++),EA+=$(Q,S,AA,gA,rA);else if(gA==="object"){if(typeof N.then=="function")return $(I(N),S,AA,Q,rA);throw S=String(N),Error("Objects are not valid as a React child (found: "+(S==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":S)+"). If you meant to render a collection of children, use an array instead.")}return EA}function U(N,S,AA){if(N==null)return N;var Q=[],rA=0;return $(N,Q,"","",function(gA){return S.call(AA,gA,rA++)}),Q}function W(N){if(N._status===-1){var S=N._result;S=S(),S.then(function(AA){(N._status===0||N._status===-1)&&(N._status=1,N._result=AA)},function(AA){(N._status===0||N._status===-1)&&(N._status=2,N._result=AA)}),N._status===-1&&(N._status=0,N._result=S)}if(N._status===1)return N._result.default;throw N._result}var q=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var S=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(S))return}else if(typeof Ln=="object"&&typeof Ln.emit=="function"){Ln.emit("uncaughtException",N);return}console.error(N)},tA={map:U,forEach:function(N,S,AA){U(N,function(){S.apply(this,arguments)},AA)},count:function(N){var S=0;return U(N,function(){S++}),S},toArray:function(N){return U(N,function(S){return S})||[]},only:function(N){if(!L(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return te.Activity=u,te.Children=tA,te.Component=p,te.Fragment=t,te.Profiler=r,te.PureComponent=y,te.StrictMode=n,te.Suspense=a,te.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,te.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},te.cache=function(N){return function(){return N.apply(null,arguments)}},te.cacheSignal=function(){return null},te.cloneElement=function(N,S,AA){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var Q=d({},N.props),rA=N.key;if(S!=null)for(gA in S.key!==void 0&&(rA=""+S.key),S)!Z.call(S,gA)||gA==="key"||gA==="__self"||gA==="__source"||gA==="ref"&&S.ref===void 0||(Q[gA]=S[gA]);var gA=arguments.length-2;if(gA===1)Q.children=AA;else if(1<gA){for(var EA=Array(gA),OA=0;OA<gA;OA++)EA[OA]=arguments[OA+2];Q.children=EA}return R(N.type,rA,Q)},te.createContext=function(N){return N={$$typeof:i,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:s,_context:N},N},te.createElement=function(N,S,AA){var Q,rA={},gA=null;if(S!=null)for(Q in S.key!==void 0&&(gA=""+S.key),S)Z.call(S,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(rA[Q]=S[Q]);var EA=arguments.length-2;if(EA===1)rA.children=AA;else if(1<EA){for(var OA=Array(EA),yA=0;yA<EA;yA++)OA[yA]=arguments[yA+2];rA.children=OA}if(N&&N.defaultProps)for(Q in EA=N.defaultProps,EA)rA[Q]===void 0&&(rA[Q]=EA[Q]);return R(N,gA,rA)},te.createRef=function(){return{current:null}},te.forwardRef=function(N){return{$$typeof:o,render:N}},te.isValidElement=L,te.lazy=function(N){return{$$typeof:l,_payload:{_status:-1,_result:N},_init:W}},te.memo=function(N,S){return{$$typeof:c,type:N,compare:S===void 0?null:S}},te.startTransition=function(N){var S=D.T,AA={};D.T=AA;try{var Q=N(),rA=D.S;rA!==null&&rA(AA,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(T,q)}catch(gA){q(gA)}finally{S!==null&&AA.types!==null&&(S.types=AA.types),D.T=S}},te.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},te.use=function(N){return D.H.use(N)},te.useActionState=function(N,S,AA){return D.H.useActionState(N,S,AA)},te.useCallback=function(N,S){return D.H.useCallback(N,S)},te.useContext=function(N){return D.H.useContext(N)},te.useDebugValue=function(){},te.useDeferredValue=function(N,S){return D.H.useDeferredValue(N,S)},te.useEffect=function(N,S){return D.H.useEffect(N,S)},te.useEffectEvent=function(N){return D.H.useEffectEvent(N)},te.useId=function(){return D.H.useId()},te.useImperativeHandle=function(N,S,AA){return D.H.useImperativeHandle(N,S,AA)},te.useInsertionEffect=function(N,S){return D.H.useInsertionEffect(N,S)},te.useLayoutEffect=function(N,S){return D.H.useLayoutEffect(N,S)},te.useMemo=function(N,S){return D.H.useMemo(N,S)},te.useOptimistic=function(N,S){return D.H.useOptimistic(N,S)},te.useReducer=function(N,S,AA){return D.H.useReducer(N,S,AA)},te.useRef=function(N){return D.H.useRef(N)},te.useState=function(N){return D.H.useState(N)},te.useSyncExternalStore=function(N,S,AA){return D.H.useSyncExternalStore(N,S,AA)},te.useTransition=function(){return D.H.useTransition()},te.version="19.2.4",te}var OG;function YZ(){return OG||(OG=1,vf.exports=vZ()),vf.exports}YZ();const TG="0123456789abcdef",SG=[],Tc=[];for(let e=0;e<256;e++)SG[e]=TG[e>>4&15]+TG[e&15],e<16&&(e<10?Tc[48+e]=e:Tc[87+e]=e);const PG=e=>{const A=e.length;let t="",n=0;for(;n<A;)t+=SG[e[n++]];return t},Sc=e=>{const A=e.length>>1,t=A<<1,n=new Uint8Array(A);let r=0,s=0;for(;s<t;)n[r++]=Tc[e.charCodeAt(s++)]<<4|Tc[e.charCodeAt(s++)];return n};for(var jG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",NZ=typeof Uint8Array>"u"?[]:new Uint8Array(256),Pc=0;Pc<jG.length;Pc++)NZ[jG.charCodeAt(Pc)]=Pc;new TextDecoder,new TextEncoder;const RG=typeof window<"u"?window:self,IG=RG.crypto||RG.msCrypto||{};IG.subtle||IG.webkitSubtle;const Pi=globalThis||void 0||self,Un=()=>new Map,Zf=e=>{const A=Un();return e.forEach((t,n)=>{A.set(n,t)}),A},os=(e,A,t)=>{let n=e.get(A);return n===void 0&&e.set(A,n=t()),n},ZZ=(e,A)=>{const t=[];for(const[n,r]of e)t.push(A(r,n));return t},OZ=(e,A)=>{for(const[t,n]of e)if(A(n,t))return!0;return!1},ji=()=>new Set,Of=e=>e[e.length-1],TZ=(e,A)=>{for(let t=0;t<A.length;t++)e.push(A[t])},$s=Array.from,Tf=(e,A)=>{for(let t=0;t<e.length;t++)if(!A(e[t],t,e))return!1;return!0},CG=(e,A)=>{for(let t=0;t<e.length;t++)if(A(e[t],t,e))return!0;return!1},SZ=(e,A)=>{const t=new Array(e);for(let n=0;n<e;n++)t[n]=A(n,t);return t},jc=Array.isArray;class PZ{constructor(){this._observers=Un()}on(A,t){return os(this._observers,A,ji).add(t),t}once(A,t){const n=(...r)=>{this.off(A,n),t(...r)};this.on(A,n)}off(A,t){const n=this._observers.get(A);n!==void 0&&(n.delete(t),n.size===0&&this._observers.delete(A))}emit(A,t){return $s((this._observers.get(A)||Un()).values()).forEach(n=>n(...t))}destroy(){this._observers=Un()}}const fr=Math.floor,Rc=Math.abs,zG=(e,A)=>e<A?e:A,Fs=(e,A)=>e>A?e:A,HG=e=>e!==0?e<0:1/e<0,LG=1,UG=2,Sf=4,Pf=8,Jo=32,Rr=64,hn=128,Ic=31,jf=63,Qs=127,jZ=2147483647,Cc=Number.MAX_SAFE_INTEGER,$G=Number.MIN_SAFE_INTEGER,RZ=Number.isInteger||(e=>typeof e=="number"&&isFinite(e)&&fr(e)===e),IZ=String.fromCharCode,CZ=e=>e.toLowerCase(),zZ=/^\s*/g,HZ=e=>e.replace(zZ,""),LZ=/([A-Z])/g,FG=(e,A)=>HZ(e.replace(LZ,t=>`${A}${CZ(t)}`)),UZ=e=>{const A=unescape(encodeURIComponent(e)),t=A.length,n=new Uint8Array(t);for(let r=0;r<t;r++)n[r]=A.codePointAt(r);return n},Xo=typeof TextEncoder<"u"?new TextEncoder:null,$Z=Xo?e=>Xo.encode(e):UZ;let Aa=typeof TextDecoder>"u"?null:new TextDecoder("utf-8",{fatal:!0,ignoreBOM:!0});Aa&&Aa.decode(new Uint8Array).length===1&&(Aa=null);const FZ=(e,A)=>SZ(A,()=>e).join("");class ea{constructor(){this.cpos=0,this.cbuf=new Uint8Array(100),this.bufs=[]}}const zc=()=>new ea,QZ=e=>{let A=e.cpos;for(let t=0;t<e.bufs.length;t++)A+=e.bufs[t].length;return A},dr=e=>{const A=new Uint8Array(QZ(e));let t=0;for(let n=0;n<e.bufs.length;n++){const r=e.bufs[n];A.set(r,t),t+=r.length}return A.set(new Uint8Array(e.cbuf.buffer,0,e.cpos),t),A},KZ=(e,A)=>{const t=e.cbuf.length;t-e.cpos<A&&(e.bufs.push(new Uint8Array(e.cbuf.buffer,0,e.cpos)),e.cbuf=new Uint8Array(Fs(t,A)*2),e.cpos=0)},pt=(e,A)=>{const t=e.cbuf.length;e.cpos===t&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(t*2),e.cpos=0),e.cbuf[e.cpos++]=A},Rf=pt,ge=(e,A)=>{for(;A>Qs;)pt(e,hn|Qs&A),A=fr(A/128);pt(e,Qs&A)},If=(e,A)=>{const t=HG(A);for(t&&(A=-A),pt(e,(A>jf?hn:0)|(t?Rr:0)|jf&A),A=fr(A/64);A>0;)pt(e,(A>Qs?hn:0)|Qs&A),A=fr(A/128)},Cf=new Uint8Array(3e4),WZ=Cf.length/3,VZ=(e,A)=>{if(A.length<WZ){const t=Xo.encodeInto(A,Cf).written||0;ge(e,t);for(let n=0;n<t;n++)pt(e,Cf[n])}else fn(e,$Z(A))},qZ=(e,A)=>{const t=unescape(encodeURIComponent(A)),n=t.length;ge(e,n);for(let r=0;r<n;r++)pt(e,t.codePointAt(r))},Ri=Xo&&Xo.encodeInto?VZ:qZ,Hc=(e,A)=>{const t=e.cbuf.length,n=e.cpos,r=zG(t-n,A.length),s=A.length-r;e.cbuf.set(A.subarray(0,r),n),e.cpos+=r,s>0&&(e.bufs.push(e.cbuf),e.cbuf=new Uint8Array(Fs(t*2,s)),e.cbuf.set(A.subarray(r)),e.cpos=s)},fn=(e,A)=>{ge(e,A.byteLength),Hc(e,A)},zf=(e,A)=>{KZ(e,A);const t=new DataView(e.cbuf.buffer,e.cpos,A);return e.cpos+=A,t},JZ=(e,A)=>zf(e,4).setFloat32(0,A,!1),XZ=(e,A)=>zf(e,8).setFloat64(0,A,!1),AO=(e,A)=>zf(e,8).setBigInt64(0,A,!1),QG=new DataView(new ArrayBuffer(4)),eO=e=>(QG.setFloat32(0,e),QG.getFloat32(0)===e),ta=(e,A)=>{switch(typeof A){case"string":pt(e,119),Ri(e,A);break;case"number":RZ(A)&&Rc(A)<=jZ?(pt(e,125),If(e,A)):eO(A)?(pt(e,124),JZ(e,A)):(pt(e,123),XZ(e,A));break;case"bigint":pt(e,122),AO(e,A);break;case"object":if(A===null)pt(e,126);else if(jc(A)){pt(e,117),ge(e,A.length);for(let t=0;t<A.length;t++)ta(e,A[t])}else if(A instanceof Uint8Array)pt(e,116),fn(e,A);else{pt(e,118);const t=Object.keys(A);ge(e,t.length);for(let n=0;n<t.length;n++){const r=t[n];Ri(e,r),ta(e,A[r])}}break;case"boolean":pt(e,A?120:121);break;default:pt(e,127)}};class KG extends ea{constructor(A){super(),this.w=A,this.s=null,this.count=0}write(A){this.s===A?this.count++:(this.count>0&&ge(this,this.count-1),this.count=1,this.w(this,A),this.s=A)}}const WG=e=>{e.count>0&&(If(e.encoder,e.count===1?e.s:-e.s),e.count>1&&ge(e.encoder,e.count-2))};class Lc{constructor(){this.encoder=new ea,this.s=0,this.count=0}write(A){this.s===A?this.count++:(WG(this),this.count=1,this.s=A)}toUint8Array(){return WG(this),dr(this.encoder)}}const VG=e=>{if(e.count>0){const A=e.diff*2+(e.count===1?0:1);If(e.encoder,A),e.count>1&&ge(e.encoder,e.count-2)}};class Hf{constructor(){this.encoder=new ea,this.s=0,this.count=0,this.diff=0}write(A){this.diff===A-this.s?(this.s=A,this.count++):(VG(this),this.count=1,this.diff=A-this.s,this.s=A)}toUint8Array(){return VG(this),dr(this.encoder)}}class tO{constructor(){this.sarr=[],this.s="",this.lensE=new Lc}write(A){this.s+=A,this.s.length>19&&(this.sarr.push(this.s),this.s=""),this.lensE.write(A.length)}toUint8Array(){const A=new ea;return this.sarr.push(this.s),this.s="",Ri(A,this.sarr.join("")),Hc(A,this.lensE.toUint8Array()),dr(A)}}const mr=e=>new Error(e),$n=()=>{throw mr("Method unimplemented")},Dn=()=>{throw mr("Unexpected case")},qG=mr("Unexpected end of array"),JG=mr("Integer out of Range");class Uc{constructor(A){this.arr=A,this.pos=0}}const Ii=e=>new Uc(e),nO=e=>e.pos!==e.arr.length,rO=(e,A)=>{const t=new Uint8Array(e.arr.buffer,e.pos+e.arr.byteOffset,A);return e.pos+=A,t},dn=e=>rO(e,oe(e)),Ci=e=>e.arr[e.pos++],oe=e=>{let A=0,t=1;const n=e.arr.length;for(;e.pos<n;){const r=e.arr[e.pos++];if(A=A+(r&Qs)*t,t*=128,r<hn)return A;if(A>Cc)throw JG}throw qG},Lf=e=>{let A=e.arr[e.pos++],t=A&jf,n=64;const r=(A&Rr)>0?-1:1;if((A&hn)===0)return r*t;const s=e.arr.length;for(;e.pos<s;){if(A=e.arr[e.pos++],t=t+(A&Qs)*n,n*=128,A<hn)return r*t;if(t>Cc)throw JG}throw qG},zi=Aa?e=>Aa.decode(dn(e)):e=>{let A=oe(e);if(A===0)return"";{let t=String.fromCodePoint(Ci(e));if(--A<100)for(;A--;)t+=String.fromCodePoint(Ci(e));else for(;A>0;){const n=A<1e4?A:1e4,r=e.arr.subarray(e.pos,e.pos+n);e.pos+=n,t+=String.fromCodePoint.apply(null,r),A-=n}return decodeURIComponent(escape(t))}},Uf=(e,A)=>{const t=new DataView(e.arr.buffer,e.arr.byteOffset+e.pos,A);return e.pos+=A,t},sO=[e=>{},e=>null,Lf,e=>Uf(e,4).getFloat32(0,!1),e=>Uf(e,8).getFloat64(0,!1),e=>Uf(e,8).getBigInt64(0,!1),e=>!1,e=>!0,zi,e=>{const A=oe(e),t={};for(let n=0;n<A;n++){const r=zi(e);t[r]=na(e)}return t},e=>{const A=oe(e),t=[];for(let n=0;n<A;n++)t.push(na(e));return t},dn],na=e=>sO[127-Ci(e)](e);class XG extends Uc{constructor(A,t){super(A),this.reader=t,this.s=null,this.count=0}read(){return this.count===0&&(this.s=this.reader(this),nO(this)?this.count=oe(this)+1:this.count=-1),this.count--,this.s}}class $c extends Uc{constructor(A){super(A),this.s=0,this.count=0}read(){if(this.count===0){this.s=Lf(this);const A=HG(this.s);this.count=1,A&&(this.s=-this.s,this.count=oe(this)+2)}return this.count--,this.s}}class $f extends Uc{constructor(A){super(A),this.s=0,this.count=0,this.diff=0}read(){if(this.count===0){const A=Lf(this),t=A&1;this.diff=fr(A/2),this.count=1,t&&(this.count=oe(this)+2)}return this.s+=this.diff,this.count--,this.s}}class iO{constructor(A){this.decoder=new $c(A),this.str=zi(this.decoder),this.spos=0}read(){const A=this.spos+this.decoder.read(),t=this.str.slice(this.spos,A);return this.spos=A,t}}const oO=crypto.getRandomValues.bind(crypto),Ax=()=>oO(new Uint32Array(1))[0],aO="10000000-1000-4000-8000"+-1e11,cO=()=>aO.replace(/[018]/g,e=>(e^Ax()&15>>e/4).toString(16)),ex=e=>new Promise(e);Promise.all.bind(Promise);const tx=e=>e===void 0?null:e;class lO{constructor(){this.map=new Map}setItem(A,t){this.map.set(A,t)}getItem(A){return this.map.get(A)}}let nx=new lO,uO=!0;try{typeof localStorage<"u"&&localStorage&&(nx=localStorage,uO=!1)}catch{}const hO=nx,ra=Symbol("Equality"),rx=(e,A)=>e===A||!!e?.[ra]?.(A)||!1,fO=e=>typeof e=="object",dO=Object.assign,mO=Object.keys,gO=(e,A)=>{for(const t in e)A(e[t],t)},Fc=e=>mO(e).length,pO=e=>{for(const A in e)return!1;return!0},sa=(e,A)=>{for(const t in e)if(!A(e[t],t))return!1;return!0},Ff=(e,A)=>Object.prototype.hasOwnProperty.call(e,A),wO=(e,A)=>e===A||Fc(e)===Fc(A)&&sa(e,(t,n)=>(t!==void 0||Ff(A,n))&&rx(A[n],t)),GO=Object.freeze,sx=e=>{for(const A in e){const t=e[A];(typeof t=="object"||typeof t=="function")&&sx(e[A])}return GO(e)},Qf=(e,A,t=0)=>{try{for(;t<e.length;t++)e[t](...A)}finally{t<e.length&&Qf(e,A,t+1)}},xO=e=>e,Qc=(e,A)=>{if(e===A)return!0;if(e==null||A==null||e.constructor!==A.constructor&&(e.constructor||Object)!==(A.constructor||Object))return!1;if(e[ra]!=null)return e[ra](A);switch(e.constructor){case ArrayBuffer:e=new Uint8Array(e),A=new Uint8Array(A);case Uint8Array:{if(e.byteLength!==A.byteLength)return!1;for(let t=0;t<e.length;t++)if(e[t]!==A[t])return!1;break}case Set:{if(e.size!==A.size)return!1;for(const t of e)if(!A.has(t))return!1;break}case Map:{if(e.size!==A.size)return!1;for(const t of e.keys())if(!A.has(t)||!Qc(e.get(t),A.get(t)))return!1;break}case void 0:case Object:if(Fc(e)!==Fc(A))return!1;for(const t in e)if(!Ff(e,t)||!Qc(e[t],A[t]))return!1;break;case Array:if(e.length!==A.length)return!1;for(let t=0;t<e.length;t++)if(!Qc(e[t],A[t]))return!1;break;default:return!1}return!0},MO=(e,A)=>A.includes(e);var ix={};const ia=typeof Ln<"u"&&Ln.release&&/node|io\.js/.test(Ln.release.name)&&Object.prototype.toString.call(typeof Ln<"u"?Ln:0)==="[object process]";let gr;const bO=()=>{if(gr===void 0)if(ia){gr=Un();const e=Ln.argv;let A=null;for(let t=0;t<e.length;t++){const n=e[t];n[0]==="-"?(A!==null&&gr.set(A,""),A=n):A!==null&&(gr.set(A,n),A=null)}A!==null&&gr.set(A,"")}else typeof location=="object"?(gr=Un(),(location.search||"?").slice(1).split("&").forEach(e=>{if(e.length!==0){const[A,t]=e.split("=");gr.set(`--${FG(A,"-")}`,t),gr.set(`-${FG(A,"-")}`,t)}})):gr=Un();return gr},Kf=e=>bO().has(e),Kc=e=>tx(ia?ix[e.toUpperCase().replaceAll("-","_")]:hO.getItem(e)),ox=e=>Kf("--"+e)||Kc(e)!==null,yO=ox("production"),_O=ia&&MO(ix.FORCE_COLOR,["true","1","2"])||!Kf("--no-colors")&&!ox("no-color")&&(!ia||Ln.stdout.isTTY)&&(!ia||Kf("--color")||Kc("COLORTERM")!==null||(Kc("TERM")||"").includes("color")),DO=e=>new Uint8Array(e),BO=e=>{const A=DO(e.byteLength);return A.set(e),A};class EO{constructor(A,t){this.left=A,this.right=t}}const Ir=(e,A)=>new EO(e,A),ax=e=>e.next()>=.5,Wf=(e,A,t)=>fr(e.next()*(t+1-A)+A),cx=(e,A,t)=>fr(e.next()*(t+1-A)+A),Vf=(e,A,t)=>cx(e,A,t),kO=e=>IZ(Vf(e,97,122)),vO=(e,A=0,t=20)=>{const n=Vf(e,A,t);let r="";for(let s=0;s<n;s++)r+=kO(e);return r},qf=(e,A)=>A[Vf(e,0,A.length-1)],YO=Symbol("0schema");class NO{constructor(){this._rerrs=[]}extend(A,t,n,r=null){this._rerrs.push({path:A,expected:t,has:n,message:r})}toString(){const A=[];for(let t=this._rerrs.length-1;t>0;t--){const n=this._rerrs[t];A.push(FZ(" ",(this._rerrs.length-t)*2)+`${n.path!=null?`[${n.path}] `:""}${n.has} doesn't match ${n.expected}. ${n.message}`)}return A.join(`
`)}}const Jf=(e,A)=>e===A?!0:e==null||A==null||e.constructor!==A.constructor?!1:e[ra]?rx(e,A):jc(e)?Tf(e,t=>CG(A,n=>Jf(t,n))):fO(e)?sa(e,(t,n)=>Jf(t,A[n])):!1;class Rt{static _dilutes=!1;extends(A){let[t,n]=[this.shape,A.shape];return this.constructor._dilutes&&([n,t]=[t,n]),Jf(t,n)}equals(A){return this.constructor===A.constructor&&Qc(this.shape,A.shape)}[YO](){return!0}[ra](A){return this.equals(A)}validate(A){return this.check(A)}check(A,t){$n()}get nullable(){return Hi(this,el)}get optional(){return new hx(this)}cast(A){return _x(A,this),A}expect(A){return _x(A,this),A}}class Xf extends Rt{constructor(A,t){super(),this.shape=A,this._c=t}check(A,t=void 0){const n=A?.constructor===this.shape&&(this._c==null||this._c(A));return!n&&t?.extend(null,this.shape.name,A?.constructor.name,A?.constructor!==this.shape?"Constructor match failed":"Check failed"),n}}const it=(e,A=null)=>new Xf(e,A);it(Xf);class Ad extends Rt{constructor(A){super(),this.shape=A}check(A,t){const n=this.shape(A);return!n&&t?.extend(null,"custom prop",A?.constructor.name,"failed to check custom prop"),n}}const wt=e=>new Ad(e);it(Ad);class Wc extends Rt{constructor(A){super(),this.shape=A}check(A,t){const n=this.shape.some(r=>r===A);return!n&&t?.extend(null,this.shape.join(" | "),A.toString()),n}}const Vc=(...e)=>new Wc(e),lx=it(Wc),ZO=RegExp.escape||(e=>e.replace(/[().|&,$^[\]]/g,A=>"\\"+A)),ux=e=>{if(Ui.check(e))return[ZO(e)];if(lx.check(e))return e.shape.map(A=>A+"");if(Mx.check(e))return["[+-]?\\d+.?\\d*"];if(bx.check(e))return[".*"];if(Jc.check(e))return e.shape.map(ux).flat(1);Dn()};class OO extends Rt{constructor(A){super(),this.shape=A,this._r=new RegExp("^"+A.map(ux).map(t=>`(${t.join("|")})`).join("")+"$")}check(A,t){const n=this._r.exec(A)!=null;return!n&&t?.extend(null,this._r.toString(),A.toString(),"String doesn't match string template."),n}}it(OO);const TO=Symbol("optional");class hx extends Rt{constructor(A){super(),this.shape=A}check(A,t){const n=A===void 0||this.shape.check(A);return!n&&t?.extend(null,"undefined (optional)","()"),n}get[TO](){return!0}}const SO=it(hx);class PO extends Rt{check(A,t){return t?.extend(null,"never",typeof A),!1}}it(PO);class qc extends Rt{constructor(A,t=!1){super(),this.shape=A,this._isPartial=t}static _dilutes=!0;get partial(){return new qc(this.shape,!0)}check(A,t){return A==null?(t?.extend(null,"object","null"),!1):sa(this.shape,(n,r)=>{const s=this._isPartial&&!Ff(A,r)||n.check(A[r],t);return!s&&t?.extend(r.toString(),n.toString(),typeof A[r],"Object property does not match"),s})}}const jO=e=>new qc(e),RO=it(qc),IO=wt(e=>e!=null&&(e.constructor===Object||e.constructor==null));class fx extends Rt{constructor(A,t){super(),this.shape={keys:A,values:t}}check(A,t){return A!=null&&sa(A,(n,r)=>{const s=this.shape.keys.check(r,t);return!s&&t?.extend(r+"","Record",typeof A,s?"Key doesn't match schema":"Value doesn't match value"),s&&this.shape.values.check(n,t)})}}const dx=(e,A)=>new fx(e,A),CO=it(fx);class mx extends Rt{constructor(A){super(),this.shape=A}check(A,t){return A!=null&&sa(this.shape,(n,r)=>{const s=n.check(A[r],t);return!s&&t?.extend(r.toString(),"Tuple",typeof n),s})}}const zO=(...e)=>new mx(e);it(mx);class gx extends Rt{constructor(A){super(),this.shape=A.length===1?A[0]:new ed(A)}check(A,t){const n=jc(A)&&Tf(A,r=>this.shape.check(r));return!n&&t?.extend(null,"Array",""),n}}const px=(...e)=>new gx(e),HO=it(gx),LO=wt(e=>jc(e));class wx extends Rt{constructor(A,t){super(),this.shape=A,this._c=t}check(A,t){const n=A instanceof this.shape&&(this._c==null||this._c(A));return!n&&t?.extend(null,this.shape.name,A?.constructor.name),n}}const UO=(e,A=null)=>new wx(e,A);it(wx);const $O=UO(Rt);class FO extends Rt{constructor(A){super(),this.len=A.length-1,this.args=zO(...A.slice(-1)),this.res=A[this.len]}check(A,t){const n=A.constructor===Function&&A.length<=this.len;return!n&&t?.extend(null,"function",typeof A),n}}const QO=it(FO),KO=wt(e=>typeof e=="function");class WO extends Rt{constructor(A){super(),this.shape=A}check(A,t){const n=Tf(this.shape,r=>r.check(A,t));return!n&&t?.extend(null,"Intersectinon",typeof A),n}}it(WO,e=>e.shape.length>0);class ed extends Rt{static _dilutes=!0;constructor(A){super(),this.shape=A}check(A,t){const n=CG(this.shape,r=>r.check(A,t));return t?.extend(null,"Union",typeof A),n}}const Hi=(...e)=>e.findIndex(A=>Jc.check(A))>=0?Hi(...e.map(A=>oa(A)).map(A=>Jc.check(A)?A.shape:[A]).flat(1)):e.length===1?e[0]:new ed(e),Jc=it(ed),Gx=()=>!0,Xc=wt(Gx),VO=it(Ad,e=>e.shape===Gx),td=wt(e=>typeof e=="bigint"),qO=wt(e=>e===td),xx=wt(e=>typeof e=="symbol");wt(e=>e===xx);const Li=wt(e=>typeof e=="number"),Mx=wt(e=>e===Li),Ui=wt(e=>typeof e=="string"),bx=wt(e=>e===Ui),Al=wt(e=>typeof e=="boolean"),JO=wt(e=>e===Al),yx=Vc(void 0);it(Wc,e=>e.shape.length===1&&e.shape[0]===void 0),Vc(void 0);const el=Vc(null),XO=it(Wc,e=>e.shape.length===1&&e.shape[0]===null);it(Uint8Array),it(Xf,e=>e.shape===Uint8Array);const AT=Hi(Li,Ui,el,yx,td,Al,xx);(()=>{const e=px(Xc),A=dx(Ui,Xc),t=Hi(Li,Ui,el,Al,e,A);return e.shape=t,A.shape.values=t,t})();const oa=e=>{if($O.check(e))return e;if(IO.check(e)){const A={};for(const t in e)A[t]=oa(e[t]);return jO(A)}else{if(LO.check(e))return Hi(...e.map(oa));if(AT.check(e))return Vc(e);if(KO.check(e))return it(e)}Dn()},_x=yO?()=>{}:(e,A)=>{const t=new NO;if(!A.check(e,t))throw mr(`Expected value to be of type ${A.constructor.name}.
${t.toString()}`)};class eT{constructor(A){this.patterns=[],this.$state=A}if(A,t){return this.patterns.push({if:oa(A),h:t}),this}else(A){return this.if(Xc,A)}done(){return(A,t)=>{for(let n=0;n<this.patterns.length;n++){const r=this.patterns[n];if(r.if.check(A))return r.h(A,t)}throw mr("Unhandled pattern")}}}const Dx=(e=>new eT(e))(Xc).if(Mx,(e,A)=>Wf(A,$G,Cc)).if(bx,(e,A)=>vO(A)).if(JO,(e,A)=>ax(A)).if(qO,(e,A)=>BigInt(Wf(A,$G,Cc))).if(Jc,(e,A)=>$i(A,qf(A,e.shape))).if(RO,(e,A)=>{const t={};for(const n in e.shape){let r=e.shape[n];if(SO.check(r)){if(ax(A))continue;r=r.shape}t[n]=Dx(r,A)}return t}).if(HO,(e,A)=>{const t=[],n=cx(A,0,42);for(let r=0;r<n;r++)t.push($i(A,e.shape));return t}).if(lx,(e,A)=>qf(A,e.shape)).if(XO,(e,A)=>null).if(QO,(e,A)=>{const t=$i(A,e.res);return()=>t}).if(VO,(e,A)=>$i(A,qf(A,[Li,Ui,el,yx,td,Al,px(Li),dx(Hi("a","b","c"),Li)]))).if(CO,(e,A)=>{const t={},n=Wf(A,0,3);for(let r=0;r<n;r++){const s=$i(A,e.shape.keys),i=$i(A,e.shape.values);t[s]=i}return t}).done(),$i=(e,A)=>Dx(oa(A),e),tl=typeof document<"u"?document:{};wt(e=>e.nodeType===iT),typeof DOMParser<"u"&&new DOMParser,wt(e=>e.nodeType===nT),wt(e=>e.nodeType===rT);const tT=e=>ZZ(e,(A,t)=>`${t}:${A};`).join(""),nT=tl.ELEMENT_NODE,rT=tl.TEXT_NODE,sT=tl.DOCUMENT_NODE,iT=tl.DOCUMENT_FRAGMENT_NODE;wt(e=>e.nodeType===sT);const Cr=Symbol,Bx=Cr(),Ex=Cr(),oT=Cr(),aT=Cr(),cT=Cr(),kx=Cr(),lT=Cr(),nd=Cr(),uT=Cr(),hT=e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const A=[],t=[];let n=0;for(;n<e.length;n++){const r=e[n];if(r===void 0)break;if(r.constructor===String||r.constructor===Number)A.push(r);else if(r.constructor===Object)break}for(n>0&&t.push(A.join(""));n<e.length;n++){const r=e[n];r instanceof Symbol||t.push(r)}return t},fT={[Bx]:Ir("font-weight","bold"),[Ex]:Ir("font-weight","normal"),[oT]:Ir("color","blue"),[cT]:Ir("color","green"),[aT]:Ir("color","grey"),[kx]:Ir("color","red"),[lT]:Ir("color","purple"),[nd]:Ir("color","orange"),[uT]:Ir("color","black")},vx=_O?e=>{e.length===1&&e[0]?.constructor===Function&&(e=e[0]());const A=[],t=[],n=Un();let r=[],s=0;for(;s<e.length;s++){const i=e[s],o=fT[i];if(o!==void 0)n.set(o.left,o.right);else{if(i===void 0)break;if(i.constructor===String||i.constructor===Number){const a=tT(n);s>0||a.length>0?(A.push("%c"+i),t.push(a)):A.push(i)}else break}}for(s>0&&(r=t,r.unshift(A.join("")));s<e.length;s++){const i=e[s];i instanceof Symbol||r.push(i)}return r}:hT,dT=(...e)=>{console.log(...vx(e)),Yx.forEach(A=>A.print(e))},mT=(...e)=>{console.warn(...vx(e)),e.unshift(nd),Yx.forEach(A=>A.print(e))},Yx=ji(),Nx=e=>({[Symbol.iterator](){return this},next:e}),gT=(e,A)=>Nx(()=>{let t;do t=e.next();while(!t.done&&!A(t.value));return t}),rd=(e,A)=>Nx(()=>{const{done:t,value:n}=e.next();return{done:t,value:t?void 0:A(n)}});class sd{constructor(A,t){this.clock=A,this.len=t}}class aa{constructor(){this.clients=new Map}}const Zx=(e,A,t)=>A.clients.forEach((n,r)=>{const s=e.doc.store.clients.get(r);if(s!=null){const i=s[s.length-1],o=i.id.clock+i.length;for(let a=0,c=n[a];a<n.length&&c.clock<o;c=n[++a])Kx(e,s,c.clock,c.len,t)}}),pT=(e,A)=>{let t=0,n=e.length-1;for(;t<=n;){const r=fr((t+n)/2),s=e[r],i=s.clock;if(i<=A){if(A<i+s.len)return r;t=r+1}else n=r-1}return null},Ox=(e,A)=>{const t=e.clients.get(A.client);return t!==void 0&&pT(t,A.clock)!==null},id=e=>{e.clients.forEach(A=>{A.sort((r,s)=>r.clock-s.clock);let t,n;for(t=1,n=1;t<A.length;t++){const r=A[n-1],s=A[t];r.clock+r.len>=s.clock?r.len=Fs(r.len,s.clock+s.len-r.clock):(n<t&&(A[n]=s),n++)}A.length=n})},wT=e=>{const A=new aa;for(let t=0;t<e.length;t++)e[t].clients.forEach((n,r)=>{if(!A.clients.has(r)){const s=n.slice();for(let i=t+1;i<e.length;i++)TZ(s,e[i].clients.get(r)||[]);A.clients.set(r,s)}});return id(A),A},nl=(e,A,t,n)=>{os(e.clients,A,()=>[]).push(new sd(t,n))},GT=()=>new aa,xT=e=>{const A=GT();return e.clients.forEach((t,n)=>{const r=[];for(let s=0;s<t.length;s++){const i=t[s];if(i.deleted){const o=i.id.clock;let a=i.length;if(s+1<t.length)for(let c=t[s+1];s+1<t.length&&c.deleted;c=t[++s+1])a+=c.length;r.push(new sd(o,a))}}r.length>0&&A.clients.set(n,r)}),A},Fi=(e,A)=>{ge(e.restEncoder,A.clients.size),$s(A.clients.entries()).sort((t,n)=>n[0]-t[0]).forEach(([t,n])=>{e.resetDsCurVal(),ge(e.restEncoder,t);const r=n.length;ge(e.restEncoder,r);for(let s=0;s<r;s++){const i=n[s];e.writeDsClock(i.clock),e.writeDsLen(i.len)}})},od=e=>{const A=new aa,t=oe(e.restDecoder);for(let n=0;n<t;n++){e.resetDsCurVal();const r=oe(e.restDecoder),s=oe(e.restDecoder);if(s>0){const i=os(A.clients,r,()=>[]);for(let o=0;o<s;o++)i.push(new sd(e.readDsClock(),e.readDsLen()))}}return A},Tx=(e,A,t)=>{const n=new aa,r=oe(e.restDecoder);for(let s=0;s<r;s++){e.resetDsCurVal();const i=oe(e.restDecoder),o=oe(e.restDecoder),a=t.clients.get(i)||[],c=Gt(t,i);for(let l=0;l<o;l++){const u=e.readDsClock(),h=u+e.readDsLen();if(u<c){c<h&&nl(n,i,c,h-c);let f=pr(a,u),m=a[f];for(!m.deleted&&m.id.clock<u&&(a.splice(f+1,0,pl(A,m,u-m.id.clock)),f++);f<a.length&&(m=a[f++],m.id.clock<h);)m.deleted||(h<m.id.clock+m.length&&a.splice(f,0,pl(A,m,h-m.id.clock)),m.delete(A))}else nl(n,i,u,h-u)}}if(n.clients.size>0){const s=new Ks;return ge(s.restEncoder,0),Fi(s,n),s.toUint8Array()}return null},Sx=Ax;class Qi extends PZ{constructor({guid:A=cO(),collectionid:t=null,gc:n=!0,gcFilter:r=()=>!0,meta:s=null,autoLoad:i=!1,shouldLoad:o=!0}={}){super(),this.gc=n,this.gcFilter=r,this.clientID=Sx(),this.guid=A,this.collectionid=t,this.share=new Map,this.store=new $x,this._transaction=null,this._transactionCleanups=[],this.subdocs=new Set,this._item=null,this.shouldLoad=o,this.autoLoad=i,this.meta=s,this.isLoaded=!1,this.isSynced=!1,this.isDestroyed=!1,this.whenLoaded=ex(c=>{this.on("load",()=>{this.isLoaded=!0,c(this)})});const a=()=>ex(c=>{const l=u=>{(u===void 0||u===!0)&&(this.off("sync",l),c())};this.on("sync",l)});this.on("sync",c=>{c===!1&&this.isSynced&&(this.whenSynced=a()),this.isSynced=c===void 0||c===!0,this.isSynced&&!this.isLoaded&&this.emit("load",[this])}),this.whenSynced=a()}load(){const A=this._item;A!==null&&!this.shouldLoad&&ve(A.parent.doc,t=>{t.subdocsLoaded.add(this)},null,!0),this.shouldLoad=!0}getSubdocs(){return this.subdocs}getSubdocGuids(){return new Set($s(this.subdocs).map(A=>A.guid))}transact(A,t=null){return ve(this,A,t)}get(A,t=Bt){const n=os(this.share,A,()=>{const s=new t;return s._integrate(this,null),s}),r=n.constructor;if(t!==Bt&&r!==t)if(r===Bt){const s=new t;s._map=n._map,n._map.forEach(i=>{for(;i!==null;i=i.left)i.parent=s}),s._start=n._start;for(let i=s._start;i!==null;i=i.right)i.parent=s;return s._length=n._length,this.share.set(A,s),s._integrate(this,null),s}else throw new Error(`Type with the name ${A} has already been defined with a different constructor`);return n}getArray(A=""){return this.get(A,qi)}getText(A=""){return this.get(A,zr)}getMap(A=""){return this.get(A,Ji)}getXmlElement(A=""){return this.get(A,Ao)}getXmlFragment(A=""){return this.get(A,Ws)}toJSON(){const A={};return this.share.forEach((t,n)=>{A[n]=t.toJSON()}),A}destroy(){this.isDestroyed=!0,$s(this.subdocs).forEach(t=>t.destroy());const A=this._item;if(A!==null){this._item=null;const t=A.content;t.doc=new Qi({guid:this.guid,...t.opts,shouldLoad:!1}),t.doc._item=A,ve(A.parent.doc,n=>{const r=t.doc;A.deleted||n.subdocsAdded.add(r),n.subdocsRemoved.add(this)},null,!0)}this.emit("destroyed",[!0]),this.emit("destroy",[this]),super.destroy()}}class Px{constructor(A){this.restDecoder=A}resetDsCurVal(){}readDsClock(){return oe(this.restDecoder)}readDsLen(){return oe(this.restDecoder)}}class jx extends Px{readLeftID(){return le(oe(this.restDecoder),oe(this.restDecoder))}readRightID(){return le(oe(this.restDecoder),oe(this.restDecoder))}readClient(){return oe(this.restDecoder)}readInfo(){return Ci(this.restDecoder)}readString(){return zi(this.restDecoder)}readParentInfo(){return oe(this.restDecoder)===1}readTypeRef(){return oe(this.restDecoder)}readLen(){return oe(this.restDecoder)}readAny(){return na(this.restDecoder)}readBuf(){return BO(dn(this.restDecoder))}readJSON(){return JSON.parse(zi(this.restDecoder))}readKey(){return zi(this.restDecoder)}}class MT{constructor(A){this.dsCurrVal=0,this.restDecoder=A}resetDsCurVal(){this.dsCurrVal=0}readDsClock(){return this.dsCurrVal+=oe(this.restDecoder),this.dsCurrVal}readDsLen(){const A=oe(this.restDecoder)+1;return this.dsCurrVal+=A,A}}class Ki extends MT{constructor(A){super(A),this.keys=[],oe(A),this.keyClockDecoder=new $f(dn(A)),this.clientDecoder=new $c(dn(A)),this.leftClockDecoder=new $f(dn(A)),this.rightClockDecoder=new $f(dn(A)),this.infoDecoder=new XG(dn(A),Ci),this.stringDecoder=new iO(dn(A)),this.parentInfoDecoder=new XG(dn(A),Ci),this.typeRefDecoder=new $c(dn(A)),this.lenDecoder=new $c(dn(A))}readLeftID(){return new Wi(this.clientDecoder.read(),this.leftClockDecoder.read())}readRightID(){return new Wi(this.clientDecoder.read(),this.rightClockDecoder.read())}readClient(){return this.clientDecoder.read()}readInfo(){return this.infoDecoder.read()}readString(){return this.stringDecoder.read()}readParentInfo(){return this.parentInfoDecoder.read()===1}readTypeRef(){return this.typeRefDecoder.read()}readLen(){return this.lenDecoder.read()}readAny(){return na(this.restDecoder)}readBuf(){return dn(this.restDecoder)}readJSON(){return na(this.restDecoder)}readKey(){const A=this.keyClockDecoder.read();if(A<this.keys.length)return this.keys[A];{const t=this.stringDecoder.read();return this.keys.push(t),t}}}class bT{constructor(){this.restEncoder=zc()}toUint8Array(){return dr(this.restEncoder)}resetDsCurVal(){}writeDsClock(A){ge(this.restEncoder,A)}writeDsLen(A){ge(this.restEncoder,A)}}class ca extends bT{writeLeftID(A){ge(this.restEncoder,A.client),ge(this.restEncoder,A.clock)}writeRightID(A){ge(this.restEncoder,A.client),ge(this.restEncoder,A.clock)}writeClient(A){ge(this.restEncoder,A)}writeInfo(A){Rf(this.restEncoder,A)}writeString(A){Ri(this.restEncoder,A)}writeParentInfo(A){ge(this.restEncoder,A?1:0)}writeTypeRef(A){ge(this.restEncoder,A)}writeLen(A){ge(this.restEncoder,A)}writeAny(A){ta(this.restEncoder,A)}writeBuf(A){fn(this.restEncoder,A)}writeJSON(A){Ri(this.restEncoder,JSON.stringify(A))}writeKey(A){Ri(this.restEncoder,A)}}class yT{constructor(){this.restEncoder=zc(),this.dsCurrVal=0}toUint8Array(){return dr(this.restEncoder)}resetDsCurVal(){this.dsCurrVal=0}writeDsClock(A){const t=A-this.dsCurrVal;this.dsCurrVal=A,ge(this.restEncoder,t)}writeDsLen(A){A===0&&Dn(),ge(this.restEncoder,A-1),this.dsCurrVal+=A}}class Ks extends yT{constructor(){super(),this.keyMap=new Map,this.keyClock=0,this.keyClockEncoder=new Hf,this.clientEncoder=new Lc,this.leftClockEncoder=new Hf,this.rightClockEncoder=new Hf,this.infoEncoder=new KG(Rf),this.stringEncoder=new tO,this.parentInfoEncoder=new KG(Rf),this.typeRefEncoder=new Lc,this.lenEncoder=new Lc}toUint8Array(){const A=zc();return ge(A,0),fn(A,this.keyClockEncoder.toUint8Array()),fn(A,this.clientEncoder.toUint8Array()),fn(A,this.leftClockEncoder.toUint8Array()),fn(A,this.rightClockEncoder.toUint8Array()),fn(A,dr(this.infoEncoder)),fn(A,this.stringEncoder.toUint8Array()),fn(A,dr(this.parentInfoEncoder)),fn(A,this.typeRefEncoder.toUint8Array()),fn(A,this.lenEncoder.toUint8Array()),Hc(A,dr(this.restEncoder)),dr(A)}writeLeftID(A){this.clientEncoder.write(A.client),this.leftClockEncoder.write(A.clock)}writeRightID(A){this.clientEncoder.write(A.client),this.rightClockEncoder.write(A.clock)}writeClient(A){this.clientEncoder.write(A)}writeInfo(A){this.infoEncoder.write(A)}writeString(A){this.stringEncoder.write(A)}writeParentInfo(A){this.parentInfoEncoder.write(A?1:0)}writeTypeRef(A){this.typeRefEncoder.write(A)}writeLen(A){this.lenEncoder.write(A)}writeAny(A){ta(this.restEncoder,A)}writeBuf(A){fn(this.restEncoder,A)}writeJSON(A){ta(this.restEncoder,A)}writeKey(A){const t=this.keyMap.get(A);t===void 0?(this.keyClockEncoder.write(this.keyClock++),this.stringEncoder.write(A)):this.keyClockEncoder.write(t)}}const _T=(e,A,t,n)=>{n=Fs(n,A[0].id.clock);const r=pr(A,n);ge(e.restEncoder,A.length-r),e.writeClient(t),ge(e.restEncoder,n);const s=A[r];s.write(e,n-s.id.clock);for(let i=r+1;i<A.length;i++)A[i].write(e,0)},ad=(e,A,t)=>{const n=new Map;t.forEach((r,s)=>{Gt(A,s)>r&&n.set(s,r)}),ld(A).forEach((r,s)=>{t.has(s)||n.set(s,0)}),ge(e.restEncoder,n.size),$s(n.entries()).sort((r,s)=>s[0]-r[0]).forEach(([r,s])=>{_T(e,A.clients.get(r),r,s)})},DT=(e,A)=>{const t=Un(),n=oe(e.restDecoder);for(let r=0;r<n;r++){const s=oe(e.restDecoder),i=new Array(s),o=e.readClient();let a=oe(e.restDecoder);t.set(o,{i:0,refs:i});for(let c=0;c<s;c++){const l=e.readInfo();switch(Ic&l){case 0:{const u=e.readLen();i[c]=new Bn(le(o,a),u),a+=u;break}case 10:{const u=oe(e.restDecoder);i[c]=new En(le(o,a),u),a+=u;break}default:{const u=(l&(Rr|hn))===0,h=new ht(le(o,a),null,(l&hn)===hn?e.readLeftID():null,null,(l&Rr)===Rr?e.readRightID():null,u?e.readParentInfo()?A.get(e.readString()):e.readLeftID():null,u&&(l&Jo)===Jo?e.readString():null,GM(e,l));i[c]=h,a+=h.length}}}}return t},BT=(e,A,t)=>{const n=[];let r=$s(t.keys()).sort((f,m)=>f-m);if(r.length===0)return null;const s=()=>{if(r.length===0)return null;let f=t.get(r[r.length-1]);for(;f.refs.length===f.i;)if(r.pop(),r.length>0)f=t.get(r[r.length-1]);else return null;return f};let i=s();if(i===null)return null;const o=new $x,a=new Map,c=(f,m)=>{const d=a.get(f);(d==null||d>m)&&a.set(f,m)};let l=i.refs[i.i++];const u=new Map,h=()=>{for(const f of n){const m=f.id.client,d=t.get(m);d?(d.i--,o.clients.set(m,d.refs.slice(d.i)),t.delete(m),d.i=0,d.refs=[]):o.clients.set(m,[f]),r=r.filter(g=>g!==m)}n.length=0};for(;;){if(l.constructor!==En){const m=os(u,l.id.client,()=>Gt(A,l.id.client))-l.id.clock;if(m<0)n.push(l),c(l.id.client,l.id.clock-1),h();else{const d=l.getMissing(e,A);if(d!==null){n.push(l);const g=t.get(d)||{refs:[],i:0};if(g.refs.length===g.i)c(d,Gt(A,d)),h();else{l=g.refs[g.i++];continue}}else(m===0||m<l.length)&&(l.integrate(e,m),u.set(l.id.client,l.id.clock+l.length))}}if(n.length>0)l=n.pop();else if(i!==null&&i.i<i.refs.length)l=i.refs[i.i++];else{if(i=s(),i===null)break;l=i.refs[i.i++]}}if(o.clients.size>0){const f=new Ks;return ad(f,o,new Map),ge(f.restEncoder,0),{missing:a,update:f.toUint8Array()}}return null},ET=(e,A)=>ad(e,A.doc.store,A.beforeState),kT=(e,A,t,n=new Ki(e))=>ve(A,r=>{r.local=!1;let s=!1;const i=r.doc,o=i.store,a=DT(n,i),c=BT(r,o,a),l=o.pendingStructs;if(l){for(const[h,f]of l.missing)if(f<Gt(o,h)){s=!0;break}if(c){for(const[h,f]of c.missing){const m=l.missing.get(h);(m==null||m>f)&&l.missing.set(h,f)}l.update=il([l.update,c.update])}}else o.pendingStructs=c;const u=Tx(n,r,o);if(o.pendingDs){const h=new Ki(Ii(o.pendingDs));oe(h.restDecoder);const f=Tx(h,r,o);u&&f?o.pendingDs=il([u,f]):o.pendingDs=u||f}else o.pendingDs=u;if(s){const h=o.pendingStructs.update;o.pendingStructs=null,Rx(r.doc,h)}},t,!1),Rx=(e,A,t,n=Ki)=>{const r=Ii(A);kT(r,e,t,new n(r))},Ix=(e,A,t)=>Rx(e,A,t,jx),vT=(e,A,t=new Map)=>{ad(e,A.store,t),Fi(e,xT(A.store))},YT=(e,A=new Uint8Array([0]),t=new Ks)=>{const n=Cx(A);vT(t,e,n);const r=[t.toUint8Array()];if(e.store.pendingDs&&r.push(e.store.pendingDs),e.store.pendingStructs&&r.push(HT(e.store.pendingStructs.update,A)),r.length>1){if(t.constructor===ca)return CT(r.map((s,i)=>i===0?s:UT(s)));if(t.constructor===Ks)return il(r)}return r[0]},NT=(e,A)=>YT(e,A,new ca),ZT=e=>{const A=new Map,t=oe(e.restDecoder);for(let n=0;n<t;n++){const r=oe(e.restDecoder),s=oe(e.restDecoder);A.set(r,s)}return A},Cx=e=>ZT(new Px(Ii(e)));class OT{constructor(){this.l=[]}}const zx=()=>new OT,Hx=(e,A)=>e.l.push(A),Lx=(e,A)=>{const t=e.l,n=t.length;e.l=t.filter(r=>A!==r),n===e.l.length&&console.error("[yjs] Tried to remove event handler that doesn't exist.")},Ux=(e,A,t)=>Qf(e.l,[A,t]);class Wi{constructor(A,t){this.client=A,this.clock=t}}const rl=(e,A)=>e===A||e!==null&&A!==null&&e.client===A.client&&e.clock===A.clock,le=(e,A)=>new Wi(e,A),TT=e=>{for(const[A,t]of e.doc.share.entries())if(t===e)return A;throw Dn()},Vi=(e,A)=>A===void 0?!e.deleted:A.sv.has(e.id.client)&&(A.sv.get(e.id.client)||0)>e.id.clock&&!Ox(A.ds,e.id),cd=(e,A)=>{const t=os(e.meta,cd,ji),n=e.doc.store;t.has(A)||(A.sv.forEach((r,s)=>{r<Gt(n,s)&&as(e,le(s,r))}),Zx(e,A.ds,r=>{}),t.add(A))};class $x{constructor(){this.clients=new Map,this.pendingStructs=null,this.pendingDs=null}}const ld=e=>{const A=new Map;return e.clients.forEach((t,n)=>{const r=t[t.length-1];A.set(n,r.id.clock+r.length)}),A},Gt=(e,A)=>{const t=e.clients.get(A);if(t===void 0)return 0;const n=t[t.length-1];return n.id.clock+n.length},Fx=(e,A)=>{let t=e.clients.get(A.id.client);if(t===void 0)t=[],e.clients.set(A.id.client,t);else{const n=t[t.length-1];if(n.id.clock+n.length!==A.id.clock)throw Dn()}t.push(A)},pr=(e,A)=>{let t=0,n=e.length-1,r=e[n],s=r.id.clock;if(s===A)return n;let i=fr(A/(s+r.length-1)*n);for(;t<=n;){if(r=e[i],s=r.id.clock,s<=A){if(A<s+r.length)return i;t=i+1}else n=i-1;i=fr((t+n)/2)}throw Dn()},ud=(e,A)=>{const t=e.clients.get(A.client);return t[pr(t,A.clock)]},hd=(e,A,t)=>{const n=pr(A,t),r=A[n];return r.id.clock<t&&r instanceof ht?(A.splice(n+1,0,pl(e,r,t-r.id.clock)),n+1):n},as=(e,A)=>{const t=e.doc.store.clients.get(A.client);return t[hd(e,t,A.clock)]},Qx=(e,A,t)=>{const n=A.clients.get(t.client),r=pr(n,t.clock),s=n[r];return t.clock!==s.id.clock+s.length-1&&s.constructor!==Bn&&n.splice(r+1,0,pl(e,s,t.clock-s.id.clock+1)),s},ST=(e,A,t)=>{const n=e.clients.get(A.id.client);n[pr(n,A.id.clock)]=t},Kx=(e,A,t,n,r)=>{if(n===0)return;const s=t+n;let i=hd(e,A,t),o;do o=A[i++],s<o.id.clock+o.length&&hd(e,A,s),r(o);while(i<A.length&&A[i].id.clock<s)};class PT{constructor(A,t,n){this.doc=A,this.deleteSet=new aa,this.beforeState=ld(A.store),this.afterState=new Map,this.changed=new Map,this.changedParentTypes=new Map,this._mergeStructs=[],this.origin=t,this.meta=new Map,this.local=n,this.subdocsAdded=new Set,this.subdocsRemoved=new Set,this.subdocsLoaded=new Set,this._needFormattingCleanup=!1}}const Wx=(e,A)=>A.deleteSet.clients.size===0&&!OZ(A.afterState,(t,n)=>A.beforeState.get(n)!==t)?!1:(id(A.deleteSet),ET(e,A),Fi(e,A.deleteSet),!0),Vx=(e,A,t)=>{const n=A._item;(n===null||n.id.clock<(e.beforeState.get(n.id.client)||0)&&!n.deleted)&&os(e.changed,A,ji).add(t)},sl=(e,A)=>{let t=e[A],n=e[A-1],r=A;for(;r>0;t=n,n=e[--r-1]){if(n.deleted===t.deleted&&n.constructor===t.constructor&&n.mergeWith(t)){t instanceof ht&&t.parentSub!==null&&t.parent._map.get(t.parentSub)===t&&t.parent._map.set(t.parentSub,n);continue}break}const s=A-r;return s&&e.splice(A+1-s,s),s},jT=(e,A,t)=>{for(const[n,r]of e.clients.entries()){const s=A.clients.get(n);for(let i=r.length-1;i>=0;i--){const o=r[i],a=o.clock+o.len;for(let c=pr(s,o.clock),l=s[c];c<s.length&&l.id.clock<a;l=s[++c]){const u=s[c];if(o.clock+o.len<=u.id.clock)break;u instanceof ht&&u.deleted&&!u.keep&&t(u)&&u.gc(A,!1)}}}},RT=(e,A)=>{e.clients.forEach((t,n)=>{const r=A.clients.get(n);for(let s=t.length-1;s>=0;s--){const i=t[s],o=zG(r.length-1,1+pr(r,i.clock+i.len-1));for(let a=o,c=r[a];a>0&&c.id.clock>=i.clock;c=r[a])a-=1+sl(r,a)}})},qx=(e,A)=>{if(A<e.length){const t=e[A],n=t.doc,r=n.store,s=t.deleteSet,i=t._mergeStructs;try{id(s),t.afterState=ld(t.doc.store),n.emit("beforeObserverCalls",[t,n]);const o=[];t.changed.forEach((a,c)=>o.push(()=>{(c._item===null||!c._item.deleted)&&c._callObserver(t,a)})),o.push(()=>{t.changedParentTypes.forEach((a,c)=>{c._dEH.l.length>0&&(c._item===null||!c._item.deleted)&&(a=a.filter(l=>l.target._item===null||!l.target._item.deleted),a.forEach(l=>{l.currentTarget=c,l._path=null}),a.sort((l,u)=>l.path.length-u.path.length),o.push(()=>{Ux(c._dEH,a,t)}))}),o.push(()=>n.emit("afterTransaction",[t,n])),o.push(()=>{t._needFormattingCleanup&&rS(t)})}),Qf(o,[])}finally{n.gc&&jT(s,r,n.gcFilter),RT(s,r),t.afterState.forEach((l,u)=>{const h=t.beforeState.get(u)||0;if(h!==l){const f=r.clients.get(u),m=Fs(pr(f,h),1);for(let d=f.length-1;d>=m;)d-=1+sl(f,d)}});for(let l=i.length-1;l>=0;l--){const{client:u,clock:h}=i[l].id,f=r.clients.get(u),m=pr(f,h);m+1<f.length&&sl(f,m+1)>1||m>0&&sl(f,m)}if(!t.local&&t.afterState.get(n.clientID)!==t.beforeState.get(n.clientID)&&(dT(nd,Bx,"[yjs] ",Ex,kx,"Changed the client-id because another client seems to be using it."),n.clientID=Sx()),n.emit("afterTransactionCleanup",[t,n]),n._observers.has("update")){const l=new ca;Wx(l,t)&&n.emit("update",[l.toUint8Array(),t.origin,n,t])}if(n._observers.has("updateV2")){const l=new Ks;Wx(l,t)&&n.emit("updateV2",[l.toUint8Array(),t.origin,n,t])}const{subdocsAdded:o,subdocsLoaded:a,subdocsRemoved:c}=t;(o.size>0||c.size>0||a.size>0)&&(o.forEach(l=>{l.clientID=n.clientID,l.collectionid==null&&(l.collectionid=n.collectionid),n.subdocs.add(l)}),c.forEach(l=>n.subdocs.delete(l)),n.emit("subdocs",[{loaded:a,added:o,removed:c},n,t]),c.forEach(l=>l.destroy())),e.length<=A+1?(n._transactionCleanups=[],n.emit("afterAllTransactions",[n,e])):qx(e,A+1)}}},ve=(e,A,t=null,n=!0)=>{const r=e._transactionCleanups;let s=!1,i=null;e._transaction===null&&(s=!0,e._transaction=new PT(e,t,n),r.push(e._transaction),r.length===1&&e.emit("beforeAllTransactions",[e]),e.emit("beforeTransaction",[e._transaction,e]));try{i=A(e._transaction)}finally{if(s){const o=e._transaction===r[0];e._transaction=null,o&&qx(r,0)}}return i};function*IT(e){const A=oe(e.restDecoder);for(let t=0;t<A;t++){const n=oe(e.restDecoder),r=e.readClient();let s=oe(e.restDecoder);for(let i=0;i<n;i++){const o=e.readInfo();if(o===10){const a=oe(e.restDecoder);yield new En(le(r,s),a),s+=a}else if((Ic&o)!==0){const a=(o&(Rr|hn))===0,c=new ht(le(r,s),null,(o&hn)===hn?e.readLeftID():null,null,(o&Rr)===Rr?e.readRightID():null,a?e.readParentInfo()?e.readString():e.readLeftID():null,a&&(o&Jo)===Jo?e.readString():null,GM(e,o));yield c,s+=c.length}else{const a=e.readLen();yield new Bn(le(r,s),a),s+=a}}}}class fd{constructor(A,t){this.gen=IT(A),this.curr=null,this.done=!1,this.filterSkips=t,this.next()}next(){do this.curr=this.gen.next().value||null;while(this.filterSkips&&this.curr!==null&&this.curr.constructor===En);return this.curr}}class dd{constructor(A){this.currClient=0,this.startClock=0,this.written=0,this.encoder=A,this.clientStructs=[]}}const CT=e=>il(e,jx,ca),zT=(e,A)=>{if(e.constructor===Bn){const{client:t,clock:n}=e.id;return new Bn(le(t,n+A),e.length-A)}else if(e.constructor===En){const{client:t,clock:n}=e.id;return new En(le(t,n+A),e.length-A)}else{const t=e,{client:n,clock:r}=t.id;return new ht(le(n,r+A),null,le(n,r+A-1),null,t.rightOrigin,t.parent,t.parentSub,t.content.splice(A))}},il=(e,A=Ki,t=Ks)=>{if(e.length===1)return e[0];const n=e.map(l=>new A(Ii(l)));let r=n.map(l=>new fd(l,!0)),s=null;const i=new t,o=new dd(i);for(;r=r.filter(h=>h.curr!==null),r.sort((h,f)=>{if(h.curr.id.client===f.curr.id.client){const m=h.curr.id.clock-f.curr.id.clock;return m===0?h.curr.constructor===f.curr.constructor?0:h.curr.constructor===En?1:-1:m}else return f.curr.id.client-h.curr.id.client}),r.length!==0;){const l=r[0],u=l.curr.id.client;if(s!==null){let h=l.curr,f=!1;for(;h!==null&&h.id.clock+h.length<=s.struct.id.clock+s.struct.length&&h.id.client>=s.struct.id.client;)h=l.next(),f=!0;if(h===null||h.id.client!==u||f&&h.id.clock>s.struct.id.clock+s.struct.length)continue;if(u!==s.struct.id.client)cs(o,s.struct,s.offset),s={struct:h,offset:0},l.next();else if(s.struct.id.clock+s.struct.length<h.id.clock)if(s.struct.constructor===En)s.struct.length=h.id.clock+h.length-s.struct.id.clock;else{cs(o,s.struct,s.offset);const m=h.id.clock-s.struct.id.clock-s.struct.length;s={struct:new En(le(u,s.struct.id.clock+s.struct.length),m),offset:0}}else{const m=s.struct.id.clock+s.struct.length-h.id.clock;m>0&&(s.struct.constructor===En?s.struct.length-=m:h=zT(h,m)),s.struct.mergeWith(h)||(cs(o,s.struct,s.offset),s={struct:h,offset:0},l.next())}}else s={struct:l.curr,offset:0},l.next();for(let h=l.curr;h!==null&&h.id.client===u&&h.id.clock===s.struct.id.clock+s.struct.length&&h.constructor!==En;h=l.next())cs(o,s.struct,s.offset),s={struct:h,offset:0}}s!==null&&(cs(o,s.struct,s.offset),s=null),md(o);const a=n.map(l=>od(l)),c=wT(a);return Fi(i,c),i.toUint8Array()},HT=(e,A,t=Ki,n=Ks)=>{const r=Cx(A),s=new n,i=new dd(s),o=new t(Ii(e)),a=new fd(o,!1);for(;a.curr;){const l=a.curr,u=l.id.client,h=r.get(u)||0;if(a.curr.constructor===En){a.next();continue}if(l.id.clock+l.length>h)for(cs(i,l,Fs(h-l.id.clock,0)),a.next();a.curr&&a.curr.id.client===u;)cs(i,a.curr,0),a.next();else for(;a.curr&&a.curr.id.client===u&&a.curr.id.clock+a.curr.length<=h;)a.next()}md(i);const c=od(o);return Fi(s,c),s.toUint8Array()},Jx=e=>{e.written>0&&(e.clientStructs.push({written:e.written,restEncoder:dr(e.encoder.restEncoder)}),e.encoder.restEncoder=zc(),e.written=0)},cs=(e,A,t)=>{e.written>0&&e.currClient!==A.id.client&&Jx(e),e.written===0&&(e.currClient=A.id.client,e.encoder.writeClient(A.id.client),ge(e.encoder.restEncoder,A.id.clock+t)),A.write(e.encoder,t),e.written++},md=e=>{Jx(e);const A=e.encoder.restEncoder;ge(A,e.clientStructs.length);for(let t=0;t<e.clientStructs.length;t++){const n=e.clientStructs[t];ge(A,n.written),Hc(A,n.restEncoder)}},LT=(e,A,t,n)=>{const r=new t(Ii(e)),s=new fd(r,!1),i=new n,o=new dd(i);for(let c=s.curr;c!==null;c=s.next())cs(o,A(c),0);md(o);const a=od(r);return Fi(i,a),i.toUint8Array()},UT=e=>LT(e,xO,Ki,ca),Xx="You must not compute changes after the event-handler fired.";class ol{constructor(A,t){this.target=A,this.currentTarget=A,this.transaction=t,this._changes=null,this._keys=null,this._delta=null,this._path=null}get path(){return this._path||(this._path=$T(this.currentTarget,this.target))}deletes(A){return Ox(this.transaction.deleteSet,A.id)}get keys(){if(this._keys===null){if(this.transaction.doc._transactionCleanups.length===0)throw mr(Xx);const A=new Map,t=this.target;this.transaction.changed.get(t).forEach(r=>{if(r!==null){const s=t._map.get(r);let i,o;if(this.adds(s)){let a=s.left;for(;a!==null&&this.adds(a);)a=a.left;if(this.deletes(s))if(a!==null&&this.deletes(a))i="delete",o=Of(a.content.getContent());else return;else a!==null&&this.deletes(a)?(i="update",o=Of(a.content.getContent())):(i="add",o=void 0)}else if(this.deletes(s))i="delete",o=Of(s.content.getContent());else return;A.set(r,{action:i,oldValue:o})}}),this._keys=A}return this._keys}get delta(){return this.changes.delta}adds(A){return A.id.clock>=(this.transaction.beforeState.get(A.id.client)||0)}get changes(){let A=this._changes;if(A===null){if(this.transaction.doc._transactionCleanups.length===0)throw mr(Xx);const t=this.target,n=ji(),r=ji(),s=[];if(A={added:n,deleted:r,delta:s,keys:this.keys},this.transaction.changed.get(t).has(null)){let o=null;const a=()=>{o&&s.push(o)};for(let c=t._start;c!==null;c=c.right)c.deleted?this.deletes(c)&&!this.adds(c)&&((o===null||o.delete===void 0)&&(a(),o={delete:0}),o.delete+=c.length,r.add(c)):this.adds(c)?((o===null||o.insert===void 0)&&(a(),o={insert:[]}),o.insert=o.insert.concat(c.content.getContent()),n.add(c)):((o===null||o.retain===void 0)&&(a(),o={retain:0}),o.retain+=c.length);o!==null&&o.retain===void 0&&a()}this._changes=A}return A}}const $T=(e,A)=>{const t=[];for(;A._item!==null&&A!==e;){if(A._item.parentSub!==null)t.unshift(A._item.parentSub);else{let n=0,r=A._item.parent._start;for(;r!==A._item&&r!==null;)!r.deleted&&r.countable&&(n+=r.length),r=r.right;t.unshift(n)}A=A._item.parent}return t},Nt=()=>{mT("Invalid access: Add Yjs type to a document before reading data.")},AM=80;let gd=0;class FT{constructor(A,t){A.marker=!0,this.p=A,this.index=t,this.timestamp=gd++}}const QT=e=>{e.timestamp=gd++},eM=(e,A,t)=>{e.p.marker=!1,e.p=A,A.marker=!0,e.index=t,e.timestamp=gd++},KT=(e,A,t)=>{if(e.length>=AM){const n=e.reduce((r,s)=>r.timestamp<s.timestamp?r:s);return eM(n,A,t),n}else{const n=new FT(A,t);return e.push(n),n}},al=(e,A)=>{if(e._start===null||A===0||e._searchMarker===null)return null;const t=e._searchMarker.length===0?null:e._searchMarker.reduce((s,i)=>Rc(A-s.index)<Rc(A-i.index)?s:i);let n=e._start,r=0;for(t!==null&&(n=t.p,r=t.index,QT(t));n.right!==null&&r<A;){if(!n.deleted&&n.countable){if(A<r+n.length)break;r+=n.length}n=n.right}for(;n.left!==null&&r>A;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);for(;n.left!==null&&n.left.id.client===n.id.client&&n.left.id.clock+n.left.length===n.id.clock;)n=n.left,!n.deleted&&n.countable&&(r-=n.length);return t!==null&&Rc(t.index-r)<n.parent.length/AM?(eM(t,n,r),t):KT(e._searchMarker,n,r)},la=(e,A,t)=>{for(let n=e.length-1;n>=0;n--){const r=e[n];if(t>0){let s=r.p;for(s.marker=!1;s&&(s.deleted||!s.countable);)s=s.left,s&&!s.deleted&&s.countable&&(r.index-=s.length);if(s===null||s.marker===!0){e.splice(n,1);continue}r.p=s,s.marker=!0}(A<r.index||t>0&&A===r.index)&&(r.index=Fs(A,r.index+t))}},cl=(e,A,t)=>{const n=e,r=A.changedParentTypes;for(;os(r,e,()=>[]).push(t),e._item!==null;)e=e._item.parent;Ux(n._eH,t,A)};class Bt{constructor(){this._item=null,this._map=new Map,this._start=null,this.doc=null,this._length=0,this._eH=zx(),this._dEH=zx(),this._searchMarker=null}get parent(){return this._item?this._item.parent:null}_integrate(A,t){this.doc=A,this._item=t}_copy(){throw $n()}clone(){throw $n()}_write(A){}get _first(){let A=this._start;for(;A!==null&&A.deleted;)A=A.right;return A}_callObserver(A,t){!A.local&&this._searchMarker&&(this._searchMarker.length=0)}observe(A){Hx(this._eH,A)}observeDeep(A){Hx(this._dEH,A)}unobserve(A){Lx(this._eH,A)}unobserveDeep(A){Lx(this._dEH,A)}toJSON(){}}const tM=(e,A,t)=>{e.doc??Nt(),A<0&&(A=e._length+A),t<0&&(t=e._length+t);let n=t-A;const r=[];let s=e._start;for(;s!==null&&n>0;){if(s.countable&&!s.deleted){const i=s.content.getContent();if(i.length<=A)A-=i.length;else{for(let o=A;o<i.length&&n>0;o++)r.push(i[o]),n--;A=0}}s=s.right}return r},nM=e=>{e.doc??Nt();const A=[];let t=e._start;for(;t!==null;){if(t.countable&&!t.deleted){const n=t.content.getContent();for(let r=0;r<n.length;r++)A.push(n[r])}t=t.right}return A},ua=(e,A)=>{let t=0,n=e._start;for(e.doc??Nt();n!==null;){if(n.countable&&!n.deleted){const r=n.content.getContent();for(let s=0;s<r.length;s++)A(r[s],t++,e)}n=n.right}},rM=(e,A)=>{const t=[];return ua(e,(n,r)=>{t.push(A(n,r,e))}),t},WT=e=>{let A=e._start,t=null,n=0;return{[Symbol.iterator](){return this},next:()=>{if(t===null){for(;A!==null&&A.deleted;)A=A.right;if(A===null)return{done:!0,value:void 0};t=A.content.getContent(),n=0,A=A.right}const r=t[n++];return t.length<=n&&(t=null),{done:!1,value:r}}}},sM=(e,A)=>{e.doc??Nt();const t=al(e,A);let n=e._start;for(t!==null&&(n=t.p,A-=t.index);n!==null;n=n.right)if(!n.deleted&&n.countable){if(A<n.length)return n.content.getContent()[A];A-=n.length}},ll=(e,A,t,n)=>{let r=t;const s=e.doc,i=s.clientID,o=s.store,a=t===null?A._start:t.right;let c=[];const l=()=>{c.length>0&&(r=new ht(le(i,Gt(o,i)),r,r&&r.lastId,a,a&&a.id,A,null,new qs(c)),r.integrate(e,0),c=[])};n.forEach(u=>{if(u===null)c.push(u);else switch(u.constructor){case Number:case Object:case Boolean:case Array:case String:c.push(u);break;default:switch(l(),u.constructor){case Uint8Array:case ArrayBuffer:r=new ht(le(i,Gt(o,i)),r,r&&r.lastId,a,a&&a.id,A,null,new ha(new Uint8Array(u))),r.integrate(e,0);break;case Qi:r=new ht(le(i,Gt(o,i)),r,r&&r.lastId,a,a&&a.id,A,null,new da(u)),r.integrate(e,0);break;default:if(u instanceof Bt)r=new ht(le(i,Gt(o,i)),r,r&&r.lastId,a,a&&a.id,A,null,new Hr(u)),r.integrate(e,0);else throw new Error("Unexpected content type in insert operation")}}}),l()},iM=()=>mr("Length exceeded!"),oM=(e,A,t,n)=>{if(t>A._length)throw iM();if(t===0)return A._searchMarker&&la(A._searchMarker,t,n.length),ll(e,A,null,n);const r=t,s=al(A,t);let i=A._start;for(s!==null&&(i=s.p,t-=s.index,t===0&&(i=i.prev,t+=i&&i.countable&&!i.deleted?i.length:0));i!==null;i=i.right)if(!i.deleted&&i.countable){if(t<=i.length){t<i.length&&as(e,le(i.id.client,i.id.clock+t));break}t-=i.length}return A._searchMarker&&la(A._searchMarker,r,n.length),ll(e,A,i,n)},VT=(e,A,t)=>{let r=(A._searchMarker||[]).reduce((s,i)=>i.index>s.index?i:s,{index:0,p:A._start}).p;if(r)for(;r.right;)r=r.right;return ll(e,A,r,t)},aM=(e,A,t,n)=>{if(n===0)return;const r=t,s=n,i=al(A,t);let o=A._start;for(i!==null&&(o=i.p,t-=i.index);o!==null&&t>0;o=o.right)!o.deleted&&o.countable&&(t<o.length&&as(e,le(o.id.client,o.id.clock+t)),t-=o.length);for(;n>0&&o!==null;)o.deleted||(n<o.length&&as(e,le(o.id.client,o.id.clock+n)),o.delete(e),n-=o.length),o=o.right;if(n>0)throw iM();A._searchMarker&&la(A._searchMarker,r,-s+n)},ul=(e,A,t)=>{const n=A._map.get(t);n!==void 0&&n.delete(e)},pd=(e,A,t,n)=>{const r=A._map.get(t)||null,s=e.doc,i=s.clientID;let o;if(n==null)o=new qs([n]);else switch(n.constructor){case Number:case Object:case Boolean:case Array:case String:case Date:case BigInt:o=new qs([n]);break;case Uint8Array:o=new ha(n);break;case Qi:o=new da(n);break;default:if(n instanceof Bt)o=new Hr(n);else throw new Error("Unexpected content type")}new ht(le(i,Gt(s.store,i)),r,r&&r.lastId,null,null,A,t,o).integrate(e,0)},wd=(e,A)=>{e.doc??Nt();const t=e._map.get(A);return t!==void 0&&!t.deleted?t.content.getContent()[t.length-1]:void 0},cM=e=>{const A={};return e.doc??Nt(),e._map.forEach((t,n)=>{t.deleted||(A[n]=t.content.getContent()[t.length-1])}),A},lM=(e,A)=>{e.doc??Nt();const t=e._map.get(A);return t!==void 0&&!t.deleted},qT=(e,A)=>{const t={};return e._map.forEach((n,r)=>{let s=n;for(;s!==null&&(!A.sv.has(s.id.client)||s.id.clock>=(A.sv.get(s.id.client)||0));)s=s.left;s!==null&&Vi(s,A)&&(t[r]=s.content.getContent()[s.length-1])}),t},hl=e=>(e.doc??Nt(),gT(e._map.entries(),A=>!A[1].deleted));class JT extends ol{}class qi extends Bt{constructor(){super(),this._prelimContent=[],this._searchMarker=[]}static from(A){const t=new qi;return t.push(A),t}_integrate(A,t){super._integrate(A,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new qi}clone(){const A=new qi;return A.insert(0,this.toArray().map(t=>t instanceof Bt?t.clone():t)),A}get length(){return this.doc??Nt(),this._length}_callObserver(A,t){super._callObserver(A,t),cl(this,A,new JT(this,A))}insert(A,t){this.doc!==null?ve(this.doc,n=>{oM(n,this,A,t)}):this._prelimContent.splice(A,0,...t)}push(A){this.doc!==null?ve(this.doc,t=>{VT(t,this,A)}):this._prelimContent.push(...A)}unshift(A){this.insert(0,A)}delete(A,t=1){this.doc!==null?ve(this.doc,n=>{aM(n,this,A,t)}):this._prelimContent.splice(A,t)}get(A){return sM(this,A)}toArray(){return nM(this)}slice(A=0,t=this.length){return tM(this,A,t)}toJSON(){return this.map(A=>A instanceof Bt?A.toJSON():A)}map(A){return rM(this,A)}forEach(A){ua(this,A)}[Symbol.iterator](){return WT(this)}_write(A){A.writeTypeRef(yS)}}const XT=e=>new qi;class AS extends ol{constructor(A,t,n){super(A,t),this.keysChanged=n}}class Ji extends Bt{constructor(A){super(),this._prelimContent=null,A===void 0?this._prelimContent=new Map:this._prelimContent=new Map(A)}_integrate(A,t){super._integrate(A,t),this._prelimContent.forEach((n,r)=>{this.set(r,n)}),this._prelimContent=null}_copy(){return new Ji}clone(){const A=new Ji;return this.forEach((t,n)=>{A.set(n,t instanceof Bt?t.clone():t)}),A}_callObserver(A,t){cl(this,A,new AS(this,A,t))}toJSON(){this.doc??Nt();const A={};return this._map.forEach((t,n)=>{if(!t.deleted){const r=t.content.getContent()[t.length-1];A[n]=r instanceof Bt?r.toJSON():r}}),A}get size(){return[...hl(this)].length}keys(){return rd(hl(this),A=>A[0])}values(){return rd(hl(this),A=>A[1].content.getContent()[A[1].length-1])}entries(){return rd(hl(this),A=>[A[0],A[1].content.getContent()[A[1].length-1]])}forEach(A){this.doc??Nt(),this._map.forEach((t,n)=>{t.deleted||A(t.content.getContent()[t.length-1],n,this)})}[Symbol.iterator](){return this.entries()}delete(A){this.doc!==null?ve(this.doc,t=>{ul(t,this,A)}):this._prelimContent.delete(A)}set(A,t){return this.doc!==null?ve(this.doc,n=>{pd(n,this,A,t)}):this._prelimContent.set(A,t),t}get(A){return wd(this,A)}has(A){return lM(this,A)}clear(){this.doc!==null?ve(this.doc,A=>{this.forEach(function(t,n,r){ul(A,r,n)})}):this._prelimContent.clear()}_write(A){A.writeTypeRef(_S)}}const eS=e=>new Ji,ls=(e,A)=>e===A||typeof e=="object"&&typeof A=="object"&&e&&A&&wO(e,A);class Gd{constructor(A,t,n,r){this.left=A,this.right=t,this.index=n,this.currentAttributes=r}forward(){this.right===null&&Dn(),this.right.content.constructor===ut?this.right.deleted||Xi(this.currentAttributes,this.right.content):this.right.deleted||(this.index+=this.right.length),this.left=this.right,this.right=this.right.right}}const uM=(e,A,t)=>{for(;A.right!==null&&t>0;)A.right.content.constructor===ut?A.right.deleted||Xi(A.currentAttributes,A.right.content):A.right.deleted||(t<A.right.length&&as(e,le(A.right.id.client,A.right.id.clock+t)),A.index+=A.right.length,t-=A.right.length),A.left=A.right,A.right=A.right.right;return A},fl=(e,A,t,n)=>{const r=new Map,s=n?al(A,t):null;if(s){const i=new Gd(s.p.left,s.p,s.index,r);return uM(e,i,t-s.index)}else{const i=new Gd(null,A._start,0,r);return uM(e,i,t)}},hM=(e,A,t,n)=>{for(;t.right!==null&&(t.right.deleted===!0||t.right.content.constructor===ut&&ls(n.get(t.right.content.key),t.right.content.value));)t.right.deleted||n.delete(t.right.content.key),t.forward();const r=e.doc,s=r.clientID;n.forEach((i,o)=>{const a=t.left,c=t.right,l=new ht(le(s,Gt(r.store,s)),a,a&&a.lastId,c,c&&c.id,A,null,new ut(o,i));l.integrate(e,0),t.right=l,t.forward()})},Xi=(e,A)=>{const{key:t,value:n}=A;n===null?e.delete(t):e.set(t,n)},fM=(e,A)=>{for(;e.right!==null;){if(!(e.right.deleted||e.right.content.constructor===ut&&ls(A[e.right.content.key]??null,e.right.content.value)))break;e.forward()}},dM=(e,A,t,n)=>{const r=e.doc,s=r.clientID,i=new Map;for(const o in n){const a=n[o],c=t.currentAttributes.get(o)??null;if(!ls(c,a)){i.set(o,c);const{left:l,right:u}=t;t.right=new ht(le(s,Gt(r.store,s)),l,l&&l.lastId,u,u&&u.id,A,null,new ut(o,a)),t.right.integrate(e,0),t.forward()}}return i},xd=(e,A,t,n,r)=>{t.currentAttributes.forEach((h,f)=>{r[f]===void 0&&(r[f]=null)});const s=e.doc,i=s.clientID;fM(t,r);const o=dM(e,A,t,r),a=n.constructor===String?new wr(n):n instanceof Bt?new Hr(n):new Vs(n);let{left:c,right:l,index:u}=t;A._searchMarker&&la(A._searchMarker,t.index,a.getLength()),l=new ht(le(i,Gt(s.store,i)),c,c&&c.lastId,l,l&&l.id,A,null,a),l.integrate(e,0),t.right=l,t.index=u,t.forward(),hM(e,A,t,o)},mM=(e,A,t,n,r)=>{const s=e.doc,i=s.clientID;fM(t,r);const o=dM(e,A,t,r);A:for(;t.right!==null&&(n>0||o.size>0&&(t.right.deleted||t.right.content.constructor===ut));){if(!t.right.deleted)switch(t.right.content.constructor){case ut:{const{key:a,value:c}=t.right.content,l=r[a];if(l!==void 0){if(ls(l,c))o.delete(a);else{if(n===0)break A;o.set(a,c)}t.right.delete(e)}else t.currentAttributes.set(a,c);break}default:n<t.right.length&&as(e,le(t.right.id.client,t.right.id.clock+n)),n-=t.right.length;break}t.forward()}if(n>0){let a="";for(;n>0;n--)a+=`
`;t.right=new ht(le(i,Gt(s.store,i)),t.left,t.left&&t.left.lastId,t.right,t.right&&t.right.id,A,null,new wr(a)),t.right.integrate(e,0),t.forward()}hM(e,A,t,o)},gM=(e,A,t,n,r)=>{let s=A;const i=Un();for(;s&&(!s.countable||s.deleted);){if(!s.deleted&&s.content.constructor===ut){const c=s.content;i.set(c.key,c)}s=s.right}let o=0,a=!1;for(;A!==s;){if(t===A&&(a=!0),!A.deleted){const c=A.content;if(c.constructor===ut){const{key:l,value:u}=c,h=n.get(l)??null;(i.get(l)!==c||h===u)&&(A.delete(e),o++,!a&&(r.get(l)??null)===u&&h!==u&&(h===null?r.delete(l):r.set(l,h))),!a&&!A.deleted&&Xi(r,c)}}A=A.right}return o},tS=(e,A)=>{for(;A&&A.right&&(A.right.deleted||!A.right.countable);)A=A.right;const t=new Set;for(;A&&(A.deleted||!A.countable);){if(!A.deleted&&A.content.constructor===ut){const n=A.content.key;t.has(n)?A.delete(e):t.add(n)}A=A.left}},nS=e=>{let A=0;return ve(e.doc,t=>{let n=e._start,r=e._start,s=Un();const i=Zf(s);for(;r;)r.deleted===!1&&(r.content.constructor===ut?Xi(i,r.content):(A+=gM(t,n,r,s,i),s=Zf(i),n=r)),r=r.right}),A},rS=e=>{const A=new Set,t=e.doc;for(const[n,r]of e.afterState.entries()){const s=e.beforeState.get(n)||0;r!==s&&Kx(e,t.store.clients.get(n),s,r,i=>{!i.deleted&&i.content.constructor===ut&&i.constructor!==Bn&&A.add(i.parent)})}ve(t,n=>{Zx(e,e.deleteSet,r=>{if(r instanceof Bn||!r.parent._hasFormatting||A.has(r.parent))return;const s=r.parent;r.content.constructor===ut?A.add(s):tS(n,r)});for(const r of A)nS(r)})},pM=(e,A,t)=>{const n=t,r=Zf(A.currentAttributes),s=A.right;for(;t>0&&A.right!==null;){if(A.right.deleted===!1)switch(A.right.content.constructor){case Hr:case Vs:case wr:t<A.right.length&&as(e,le(A.right.id.client,A.right.id.clock+t)),t-=A.right.length,A.right.delete(e);break}A.forward()}s&&gM(e,s,A.right,r,A.currentAttributes);const i=(A.left||A.right).parent;return i._searchMarker&&la(i._searchMarker,A.index,-n+t),A};class sS extends ol{constructor(A,t,n){super(A,t),this.childListChanged=!1,this.keysChanged=new Set,n.forEach(r=>{r===null?this.childListChanged=!0:this.keysChanged.add(r)})}get changes(){if(this._changes===null){const A={keys:this.keys,delta:this.delta,added:new Set,deleted:new Set};this._changes=A}return this._changes}get delta(){if(this._delta===null){const A=this.target.doc,t=[];ve(A,n=>{const r=new Map,s=new Map;let i=this.target._start,o=null;const a={};let c="",l=0,u=0;const h=()=>{if(o!==null){let f=null;switch(o){case"delete":u>0&&(f={delete:u}),u=0;break;case"insert":(typeof c=="object"||c.length>0)&&(f={insert:c},r.size>0&&(f.attributes={},r.forEach((m,d)=>{m!==null&&(f.attributes[d]=m)}))),c="";break;case"retain":l>0&&(f={retain:l},pO(a)||(f.attributes=dO({},a))),l=0;break}f&&t.push(f),o=null}};for(;i!==null;){switch(i.content.constructor){case Hr:case Vs:this.adds(i)?this.deletes(i)||(h(),o="insert",c=i.content.getContent()[0],h()):this.deletes(i)?(o!=="delete"&&(h(),o="delete"),u+=1):i.deleted||(o!=="retain"&&(h(),o="retain"),l+=1);break;case wr:this.adds(i)?this.deletes(i)||(o!=="insert"&&(h(),o="insert"),c+=i.content.str):this.deletes(i)?(o!=="delete"&&(h(),o="delete"),u+=i.length):i.deleted||(o!=="retain"&&(h(),o="retain"),l+=i.length);break;case ut:{const{key:f,value:m}=i.content;if(this.adds(i)){if(!this.deletes(i)){const d=r.get(f)??null;ls(d,m)?m!==null&&i.delete(n):(o==="retain"&&h(),ls(m,s.get(f)??null)?delete a[f]:a[f]=m)}}else if(this.deletes(i)){s.set(f,m);const d=r.get(f)??null;ls(d,m)||(o==="retain"&&h(),a[f]=d)}else if(!i.deleted){s.set(f,m);const d=a[f];d!==void 0&&(ls(d,m)?d!==null&&i.delete(n):(o==="retain"&&h(),m===null?delete a[f]:a[f]=m))}i.deleted||(o==="insert"&&h(),Xi(r,i.content));break}}i=i.right}for(h();t.length>0;){const f=t[t.length-1];if(f.retain!==void 0&&f.attributes===void 0)t.pop();else break}}),this._delta=t}return this._delta}}class zr extends Bt{constructor(A){super(),this._pending=A!==void 0?[()=>this.insert(0,A)]:[],this._searchMarker=[],this._hasFormatting=!1}get length(){return this.doc??Nt(),this._length}_integrate(A,t){super._integrate(A,t);try{this._pending.forEach(n=>n())}catch(n){console.error(n)}this._pending=null}_copy(){return new zr}clone(){const A=new zr;return A.applyDelta(this.toDelta()),A}_callObserver(A,t){super._callObserver(A,t);const n=new sS(this,A,t);cl(this,A,n),!A.local&&this._hasFormatting&&(A._needFormattingCleanup=!0)}toString(){this.doc??Nt();let A="",t=this._start;for(;t!==null;)!t.deleted&&t.countable&&t.content.constructor===wr&&(A+=t.content.str),t=t.right;return A}toJSON(){return this.toString()}applyDelta(A,{sanitize:t=!0}={}){this.doc!==null?ve(this.doc,n=>{const r=new Gd(null,this._start,0,new Map);for(let s=0;s<A.length;s++){const i=A[s];if(i.insert!==void 0){const o=!t&&typeof i.insert=="string"&&s===A.length-1&&r.right===null&&i.insert.slice(-1)===`
`?i.insert.slice(0,-1):i.insert;(typeof o!="string"||o.length>0)&&xd(n,this,r,o,i.attributes||{})}else i.retain!==void 0?mM(n,this,r,i.retain,i.attributes||{}):i.delete!==void 0&&pM(n,r,i.delete)}}):this._pending.push(()=>this.applyDelta(A))}toDelta(A,t,n){this.doc??Nt();const r=[],s=new Map,i=this.doc;let o="",a=this._start;function c(){if(o.length>0){const u={};let h=!1;s.forEach((m,d)=>{h=!0,u[d]=m});const f={insert:o};h&&(f.attributes=u),r.push(f),o=""}}const l=()=>{for(;a!==null;){if(Vi(a,A)||t!==void 0&&Vi(a,t))switch(a.content.constructor){case wr:{const u=s.get("ychange");A!==void 0&&!Vi(a,A)?(u===void 0||u.user!==a.id.client||u.type!=="removed")&&(c(),s.set("ychange",n?n("removed",a.id):{type:"removed"})):t!==void 0&&!Vi(a,t)?(u===void 0||u.user!==a.id.client||u.type!=="added")&&(c(),s.set("ychange",n?n("added",a.id):{type:"added"})):u!==void 0&&(c(),s.delete("ychange")),o+=a.content.str;break}case Hr:case Vs:{c();const u={insert:a.content.getContent()[0]};if(s.size>0){const h={};u.attributes=h,s.forEach((f,m)=>{h[m]=f})}r.push(u);break}case ut:Vi(a,A)&&(c(),Xi(s,a.content));break}a=a.right}c()};return A||t?ve(i,u=>{A&&cd(u,A),t&&cd(u,t),l()},"cleanup"):l(),r}insert(A,t,n){if(t.length<=0)return;const r=this.doc;r!==null?ve(r,s=>{const i=fl(s,this,A,!n);n||(n={},i.currentAttributes.forEach((o,a)=>{n[a]=o})),xd(s,this,i,t,n)}):this._pending.push(()=>this.insert(A,t,n))}insertEmbed(A,t,n){const r=this.doc;r!==null?ve(r,s=>{const i=fl(s,this,A,!n);xd(s,this,i,t,n||{})}):this._pending.push(()=>this.insertEmbed(A,t,n||{}))}delete(A,t){if(t===0)return;const n=this.doc;n!==null?ve(n,r=>{pM(r,fl(r,this,A,!0),t)}):this._pending.push(()=>this.delete(A,t))}format(A,t,n){if(t===0)return;const r=this.doc;r!==null?ve(r,s=>{const i=fl(s,this,A,!1);i.right!==null&&mM(s,this,i,t,n)}):this._pending.push(()=>this.format(A,t,n))}removeAttribute(A){this.doc!==null?ve(this.doc,t=>{ul(t,this,A)}):this._pending.push(()=>this.removeAttribute(A))}setAttribute(A,t){this.doc!==null?ve(this.doc,n=>{pd(n,this,A,t)}):this._pending.push(()=>this.setAttribute(A,t))}getAttribute(A){return wd(this,A)}getAttributes(){return cM(this)}_write(A){A.writeTypeRef(DS)}}const iS=e=>new zr;class Md{constructor(A,t=()=>!0){this._filter=t,this._root=A,this._currentNode=A._start,this._firstCall=!0,A.doc??Nt()}[Symbol.iterator](){return this}next(){let A=this._currentNode,t=A&&A.content&&A.content.type;if(A!==null&&(!this._firstCall||A.deleted||!this._filter(t)))do if(t=A.content.type,!A.deleted&&(t.constructor===Ao||t.constructor===Ws)&&t._start!==null)A=t._start;else for(;A!==null;){const n=A.next;if(n!==null){A=n;break}else A.parent===this._root?A=null:A=A.parent._item}while(A!==null&&(A.deleted||!this._filter(A.content.type)));return this._firstCall=!1,A===null?{value:void 0,done:!0}:(this._currentNode=A,{value:A.content.type,done:!1})}}class Ws extends Bt{constructor(){super(),this._prelimContent=[]}get firstChild(){const A=this._first;return A?A.content.getContent()[0]:null}_integrate(A,t){super._integrate(A,t),this.insert(0,this._prelimContent),this._prelimContent=null}_copy(){return new Ws}clone(){const A=new Ws;return A.insert(0,this.toArray().map(t=>t instanceof Bt?t.clone():t)),A}get length(){return this.doc??Nt(),this._prelimContent===null?this._length:this._prelimContent.length}createTreeWalker(A){return new Md(this,A)}querySelector(A){A=A.toUpperCase();const n=new Md(this,r=>r.nodeName&&r.nodeName.toUpperCase()===A).next();return n.done?null:n.value}querySelectorAll(A){return A=A.toUpperCase(),$s(new Md(this,t=>t.nodeName&&t.nodeName.toUpperCase()===A))}_callObserver(A,t){cl(this,A,new cS(this,t,A))}toString(){return rM(this,A=>A.toString()).join("")}toJSON(){return this.toString()}toDOM(A=document,t={},n){const r=A.createDocumentFragment();return n!==void 0&&n._createAssociation(r,this),ua(this,s=>{r.insertBefore(s.toDOM(A,t,n),null)}),r}insert(A,t){this.doc!==null?ve(this.doc,n=>{oM(n,this,A,t)}):this._prelimContent.splice(A,0,...t)}insertAfter(A,t){if(this.doc!==null)ve(this.doc,n=>{const r=A&&A instanceof Bt?A._item:A;ll(n,this,r,t)});else{const n=this._prelimContent,r=A===null?0:n.findIndex(s=>s===A)+1;if(r===0&&A!==null)throw mr("Reference item not found");n.splice(r,0,...t)}}delete(A,t=1){this.doc!==null?ve(this.doc,n=>{aM(n,this,A,t)}):this._prelimContent.splice(A,t)}toArray(){return nM(this)}push(A){this.insert(this.length,A)}unshift(A){this.insert(0,A)}get(A){return sM(this,A)}slice(A=0,t=this.length){return tM(this,A,t)}forEach(A){ua(this,A)}_write(A){A.writeTypeRef(ES)}}const oS=e=>new Ws;class Ao extends Ws{constructor(A="UNDEFINED"){super(),this.nodeName=A,this._prelimAttrs=new Map}get nextSibling(){const A=this._item?this._item.next:null;return A?A.content.type:null}get prevSibling(){const A=this._item?this._item.prev:null;return A?A.content.type:null}_integrate(A,t){super._integrate(A,t),this._prelimAttrs.forEach((n,r)=>{this.setAttribute(r,n)}),this._prelimAttrs=null}_copy(){return new Ao(this.nodeName)}clone(){const A=new Ao(this.nodeName),t=this.getAttributes();return gO(t,(n,r)=>{A.setAttribute(r,n)}),A.insert(0,this.toArray().map(n=>n instanceof Bt?n.clone():n)),A}toString(){const A=this.getAttributes(),t=[],n=[];for(const o in A)n.push(o);n.sort();const r=n.length;for(let o=0;o<r;o++){const a=n[o];t.push(a+'="'+A[a]+'"')}const s=this.nodeName.toLocaleLowerCase(),i=t.length>0?" "+t.join(" "):"";return`<${s}${i}>${super.toString()}</${s}>`}removeAttribute(A){this.doc!==null?ve(this.doc,t=>{ul(t,this,A)}):this._prelimAttrs.delete(A)}setAttribute(A,t){this.doc!==null?ve(this.doc,n=>{pd(n,this,A,t)}):this._prelimAttrs.set(A,t)}getAttribute(A){return wd(this,A)}hasAttribute(A){return lM(this,A)}getAttributes(A){return A?qT(this,A):cM(this)}toDOM(A=document,t={},n){const r=A.createElement(this.nodeName),s=this.getAttributes();for(const i in s){const o=s[i];typeof o=="string"&&r.setAttribute(i,o)}return ua(this,i=>{r.appendChild(i.toDOM(A,t,n))}),n!==void 0&&n._createAssociation(r,this),r}_write(A){A.writeTypeRef(BS),A.writeKey(this.nodeName)}}const aS=e=>new Ao(e.readKey());class cS extends ol{constructor(A,t,n){super(A,n),this.childListChanged=!1,this.attributesChanged=new Set,t.forEach(r=>{r===null?this.childListChanged=!0:this.attributesChanged.add(r)})}}class dl extends Ji{constructor(A){super(),this.hookName=A}_copy(){return new dl(this.hookName)}clone(){const A=new dl(this.hookName);return this.forEach((t,n)=>{A.set(n,t)}),A}toDOM(A=document,t={},n){const r=t[this.hookName];let s;return r!==void 0?s=r.createDom(this):s=document.createElement(this.hookName),s.setAttribute("data-yjs-hook",this.hookName),n!==void 0&&n._createAssociation(s,this),s}_write(A){A.writeTypeRef(kS),A.writeKey(this.hookName)}}const lS=e=>new dl(e.readKey());class ml extends zr{get nextSibling(){const A=this._item?this._item.next:null;return A?A.content.type:null}get prevSibling(){const A=this._item?this._item.prev:null;return A?A.content.type:null}_copy(){return new ml}clone(){const A=new ml;return A.applyDelta(this.toDelta()),A}toDOM(A=document,t,n){const r=A.createTextNode(this.toString());return n!==void 0&&n._createAssociation(r,this),r}toString(){return this.toDelta().map(A=>{const t=[];for(const r in A.attributes){const s=[];for(const i in A.attributes[r])s.push({key:i,value:A.attributes[r][i]});s.sort((i,o)=>i.key<o.key?-1:1),t.push({nodeName:r,attrs:s})}t.sort((r,s)=>r.nodeName<s.nodeName?-1:1);let n="";for(let r=0;r<t.length;r++){const s=t[r];n+=`<${s.nodeName}`;for(let i=0;i<s.attrs.length;i++){const o=s.attrs[i];n+=` ${o.key}="${o.value}"`}n+=">"}n+=A.insert;for(let r=t.length-1;r>=0;r--)n+=`</${t[r].nodeName}>`;return n}).join("")}toJSON(){return this.toString()}_write(A){A.writeTypeRef(vS)}}const uS=e=>new ml;class bd{constructor(A,t){this.id=A,this.length=t}get deleted(){throw $n()}mergeWith(A){return!1}write(A,t,n){throw $n()}integrate(A,t){throw $n()}}const hS=0;class Bn extends bd{get deleted(){return!0}delete(){}mergeWith(A){return this.constructor!==A.constructor?!1:(this.length+=A.length,!0)}integrate(A,t){t>0&&(this.id.clock+=t,this.length-=t),Fx(A.doc.store,this)}write(A,t){A.writeInfo(hS),A.writeLen(this.length-t)}getMissing(A,t){return null}}class ha{constructor(A){this.content=A}getLength(){return 1}getContent(){return[this.content]}isCountable(){return!0}copy(){return new ha(this.content)}splice(A){throw $n()}mergeWith(A){return!1}integrate(A,t){}delete(A){}gc(A){}write(A,t){A.writeBuf(this.content)}getRef(){return 3}}const fS=e=>new ha(e.readBuf());class fa{constructor(A){this.len=A}getLength(){return this.len}getContent(){return[]}isCountable(){return!1}copy(){return new fa(this.len)}splice(A){const t=new fa(this.len-A);return this.len=A,t}mergeWith(A){return this.len+=A.len,!0}integrate(A,t){nl(A.deleteSet,t.id.client,t.id.clock,this.len),t.markDeleted()}delete(A){}gc(A){}write(A,t){A.writeLen(this.len-t)}getRef(){return 1}}const dS=e=>new fa(e.readLen()),wM=(e,A)=>new Qi({guid:e,...A,shouldLoad:A.shouldLoad||A.autoLoad||!1});class da{constructor(A){A._item&&console.error("This document was already integrated as a sub-document. You should create a second instance instead with the same guid."),this.doc=A;const t={};this.opts=t,A.gc||(t.gc=!1),A.autoLoad&&(t.autoLoad=!0),A.meta!==null&&(t.meta=A.meta)}getLength(){return 1}getContent(){return[this.doc]}isCountable(){return!0}copy(){return new da(wM(this.doc.guid,this.opts))}splice(A){throw $n()}mergeWith(A){return!1}integrate(A,t){this.doc._item=t,A.subdocsAdded.add(this.doc),this.doc.shouldLoad&&A.subdocsLoaded.add(this.doc)}delete(A){A.subdocsAdded.has(this.doc)?A.subdocsAdded.delete(this.doc):A.subdocsRemoved.add(this.doc)}gc(A){}write(A,t){A.writeString(this.doc.guid),A.writeAny(this.opts)}getRef(){return 9}}const mS=e=>new da(wM(e.readString(),e.readAny()));class Vs{constructor(A){this.embed=A}getLength(){return 1}getContent(){return[this.embed]}isCountable(){return!0}copy(){return new Vs(this.embed)}splice(A){throw $n()}mergeWith(A){return!1}integrate(A,t){}delete(A){}gc(A){}write(A,t){A.writeJSON(this.embed)}getRef(){return 5}}const gS=e=>new Vs(e.readJSON());class ut{constructor(A,t){this.key=A,this.value=t}getLength(){return 1}getContent(){return[]}isCountable(){return!1}copy(){return new ut(this.key,this.value)}splice(A){throw $n()}mergeWith(A){return!1}integrate(A,t){const n=t.parent;n._searchMarker=null,n._hasFormatting=!0}delete(A){}gc(A){}write(A,t){A.writeKey(this.key),A.writeJSON(this.value)}getRef(){return 6}}const pS=e=>new ut(e.readKey(),e.readJSON());class gl{constructor(A){this.arr=A}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new gl(this.arr)}splice(A){const t=new gl(this.arr.slice(A));return this.arr=this.arr.slice(0,A),t}mergeWith(A){return this.arr=this.arr.concat(A.arr),!0}integrate(A,t){}delete(A){}gc(A){}write(A,t){const n=this.arr.length;A.writeLen(n-t);for(let r=t;r<n;r++){const s=this.arr[r];A.writeString(s===void 0?"undefined":JSON.stringify(s))}}getRef(){return 2}}const wS=e=>{const A=e.readLen(),t=[];for(let n=0;n<A;n++){const r=e.readString();r==="undefined"?t.push(void 0):t.push(JSON.parse(r))}return new gl(t)},GS=Kc("node_env")==="development";class qs{constructor(A){this.arr=A,GS&&sx(A)}getLength(){return this.arr.length}getContent(){return this.arr}isCountable(){return!0}copy(){return new qs(this.arr)}splice(A){const t=new qs(this.arr.slice(A));return this.arr=this.arr.slice(0,A),t}mergeWith(A){return this.arr=this.arr.concat(A.arr),!0}integrate(A,t){}delete(A){}gc(A){}write(A,t){const n=this.arr.length;A.writeLen(n-t);for(let r=t;r<n;r++){const s=this.arr[r];A.writeAny(s)}}getRef(){return 8}}const xS=e=>{const A=e.readLen(),t=[];for(let n=0;n<A;n++)t.push(e.readAny());return new qs(t)};class wr{constructor(A){this.str=A}getLength(){return this.str.length}getContent(){return this.str.split("")}isCountable(){return!0}copy(){return new wr(this.str)}splice(A){const t=new wr(this.str.slice(A));this.str=this.str.slice(0,A);const n=this.str.charCodeAt(A-1);return n>=55296&&n<=56319&&(this.str=this.str.slice(0,A-1)+"",t.str=""+t.str.slice(1)),t}mergeWith(A){return this.str+=A.str,!0}integrate(A,t){}delete(A){}gc(A){}write(A,t){A.writeString(t===0?this.str:this.str.slice(t))}getRef(){return 4}}const MS=e=>new wr(e.readString()),bS=[XT,eS,iS,aS,oS,lS,uS],yS=0,_S=1,DS=2,BS=3,ES=4,kS=5,vS=6;class Hr{constructor(A){this.type=A}getLength(){return 1}getContent(){return[this.type]}isCountable(){return!0}copy(){return new Hr(this.type._copy())}splice(A){throw $n()}mergeWith(A){return!1}integrate(A,t){this.type._integrate(A.doc,t)}delete(A){let t=this.type._start;for(;t!==null;)t.deleted?t.id.clock<(A.beforeState.get(t.id.client)||0)&&A._mergeStructs.push(t):t.delete(A),t=t.right;this.type._map.forEach(n=>{n.deleted?n.id.clock<(A.beforeState.get(n.id.client)||0)&&A._mergeStructs.push(n):n.delete(A)}),A.changed.delete(this.type)}gc(A){let t=this.type._start;for(;t!==null;)t.gc(A,!0),t=t.right;this.type._start=null,this.type._map.forEach(n=>{for(;n!==null;)n.gc(A,!0),n=n.left}),this.type._map=new Map}write(A,t){this.type._write(A)}getRef(){return 7}}const YS=e=>new Hr(bS[e.readTypeRef()](e)),pl=(e,A,t)=>{const{client:n,clock:r}=A.id,s=new ht(le(n,r+t),A,le(n,r+t-1),A.right,A.rightOrigin,A.parent,A.parentSub,A.content.splice(t));return A.deleted&&s.markDeleted(),A.keep&&(s.keep=!0),A.redone!==null&&(s.redone=le(A.redone.client,A.redone.clock+t)),A.right=s,s.right!==null&&(s.right.left=s),e._mergeStructs.push(s),s.parentSub!==null&&s.right===null&&s.parent._map.set(s.parentSub,s),A.length=t,s};class ht extends bd{constructor(A,t,n,r,s,i,o,a){super(A,a.getLength()),this.origin=n,this.left=t,this.right=r,this.rightOrigin=s,this.parent=i,this.parentSub=o,this.redone=null,this.content=a,this.info=this.content.isCountable()?UG:0}set marker(A){(this.info&Pf)>0!==A&&(this.info^=Pf)}get marker(){return(this.info&Pf)>0}get keep(){return(this.info&LG)>0}set keep(A){this.keep!==A&&(this.info^=LG)}get countable(){return(this.info&UG)>0}get deleted(){return(this.info&Sf)>0}set deleted(A){this.deleted!==A&&(this.info^=Sf)}markDeleted(){this.info|=Sf}getMissing(A,t){if(this.origin&&this.origin.client!==this.id.client&&this.origin.clock>=Gt(t,this.origin.client))return this.origin.client;if(this.rightOrigin&&this.rightOrigin.client!==this.id.client&&this.rightOrigin.clock>=Gt(t,this.rightOrigin.client))return this.rightOrigin.client;if(this.parent&&this.parent.constructor===Wi&&this.id.client!==this.parent.client&&this.parent.clock>=Gt(t,this.parent.client))return this.parent.client;if(this.origin&&(this.left=Qx(A,t,this.origin),this.origin=this.left.lastId),this.rightOrigin&&(this.right=as(A,this.rightOrigin),this.rightOrigin=this.right.id),this.left&&this.left.constructor===Bn||this.right&&this.right.constructor===Bn)this.parent=null;else if(!this.parent)this.left&&this.left.constructor===ht?(this.parent=this.left.parent,this.parentSub=this.left.parentSub):this.right&&this.right.constructor===ht&&(this.parent=this.right.parent,this.parentSub=this.right.parentSub);else if(this.parent.constructor===Wi){const n=ud(t,this.parent);n.constructor===Bn?this.parent=null:this.parent=n.content.type}return null}integrate(A,t){if(t>0&&(this.id.clock+=t,this.left=Qx(A,A.doc.store,le(this.id.client,this.id.clock-1)),this.origin=this.left.lastId,this.content=this.content.splice(t),this.length-=t),this.parent){if(!this.left&&(!this.right||this.right.left!==null)||this.left&&this.left.right!==this.right){let n=this.left,r;if(n!==null)r=n.right;else if(this.parentSub!==null)for(r=this.parent._map.get(this.parentSub)||null;r!==null&&r.left!==null;)r=r.left;else r=this.parent._start;const s=new Set,i=new Set;for(;r!==null&&r!==this.right;){if(i.add(r),s.add(r),rl(this.origin,r.origin)){if(r.id.client<this.id.client)n=r,s.clear();else if(rl(this.rightOrigin,r.rightOrigin))break}else if(r.origin!==null&&i.has(ud(A.doc.store,r.origin)))s.has(ud(A.doc.store,r.origin))||(n=r,s.clear());else break;r=r.right}this.left=n}if(this.left!==null){const n=this.left.right;this.right=n,this.left.right=this}else{let n;if(this.parentSub!==null)for(n=this.parent._map.get(this.parentSub)||null;n!==null&&n.left!==null;)n=n.left;else n=this.parent._start,this.parent._start=this;this.right=n}this.right!==null?this.right.left=this:this.parentSub!==null&&(this.parent._map.set(this.parentSub,this),this.left!==null&&this.left.delete(A)),this.parentSub===null&&this.countable&&!this.deleted&&(this.parent._length+=this.length),Fx(A.doc.store,this),this.content.integrate(A,this),Vx(A,this.parent,this.parentSub),(this.parent._item!==null&&this.parent._item.deleted||this.parentSub!==null&&this.right!==null)&&this.delete(A)}else new Bn(this.id,this.length).integrate(A,0)}get next(){let A=this.right;for(;A!==null&&A.deleted;)A=A.right;return A}get prev(){let A=this.left;for(;A!==null&&A.deleted;)A=A.left;return A}get lastId(){return this.length===1?this.id:le(this.id.client,this.id.clock+this.length-1)}mergeWith(A){if(this.constructor===A.constructor&&rl(A.origin,this.lastId)&&this.right===A&&rl(this.rightOrigin,A.rightOrigin)&&this.id.client===A.id.client&&this.id.clock+this.length===A.id.clock&&this.deleted===A.deleted&&this.redone===null&&A.redone===null&&this.content.constructor===A.content.constructor&&this.content.mergeWith(A.content)){const t=this.parent._searchMarker;return t&&t.forEach(n=>{n.p===A&&(n.p=this,!this.deleted&&this.countable&&(n.index-=this.length))}),A.keep&&(this.keep=!0),this.right=A.right,this.right!==null&&(this.right.left=this),this.length+=A.length,!0}return!1}delete(A){if(!this.deleted){const t=this.parent;this.countable&&this.parentSub===null&&(t._length-=this.length),this.markDeleted(),nl(A.deleteSet,this.id.client,this.id.clock,this.length),Vx(A,t,this.parentSub),this.content.delete(A)}}gc(A,t){if(!this.deleted)throw Dn();this.content.gc(A),t?ST(A,this,new Bn(this.id,this.length)):this.content=new fa(this.length)}write(A,t){const n=t>0?le(this.id.client,this.id.clock+t-1):this.origin,r=this.rightOrigin,s=this.parentSub,i=this.content.getRef()&Ic|(n===null?0:hn)|(r===null?0:Rr)|(s===null?0:Jo);if(A.writeInfo(i),n!==null&&A.writeLeftID(n),r!==null&&A.writeRightID(r),n===null&&r===null){const o=this.parent;if(o._item!==void 0){const a=o._item;if(a===null){const c=TT(o);A.writeParentInfo(!0),A.writeString(c)}else A.writeParentInfo(!1),A.writeLeftID(a.id)}else o.constructor===String?(A.writeParentInfo(!0),A.writeString(o)):o.constructor===Wi?(A.writeParentInfo(!1),A.writeLeftID(o)):Dn();s!==null&&A.writeString(s)}this.content.write(A,t)}}const GM=(e,A)=>NS[A&Ic](e),NS=[()=>{Dn()},dS,wS,fS,MS,gS,pS,YS,xS,mS,()=>{Dn()}],ZS=10;class En extends bd{get deleted(){return!0}delete(){}mergeWith(A){return this.constructor!==A.constructor?!1:(this.length+=A.length,!0)}integrate(A,t){Dn()}write(A,t){A.writeInfo(ZS),ge(A.restEncoder,this.length-t)}getMissing(A,t){return null}}const xM=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof Pi<"u"?Pi:{},MM="__ $YJS$ __";xM[MM]===!0&&console.error("Yjs was already imported. This breaks constructor checks and will lead to issues! - https://github.com/yjs/yjs/issues/438"),xM[MM]=!0;let bM=!1;const mn=new Qi;function yM(e,A,t){const n=mn.getMap();if(!n.has(e))switch(A){case 0:case 1:n.set(e,t);break}}function OS(e,A){yM(e,0,A)}function yd(e,A){const t=new zr(A);yM(e,1,t)}function TS(e,A){mn.getMap().set(e,A)}function SS(e,A){const t=mn.getMap(),n=new zr(A);t.set(e,n)}function _M(e,A){const t=mn.getMap();function n(r){const s=t.get(e);for(let i=0;i<r.length;++i)(r[i].target===t||r[i].target===s)&&A(s)}return t.has(e)&&A(t.get(e)),t.observeDeep(n),()=>{t.observeDeep(n)}}function PS(e,A){return _M(e,t=>{kA(t)&&A(t)})}function DM(e,A){return _M(e,t=>{t instanceof zr&&A(t.toJSON())})}const Js=Is("modem",["second"],e=>{if(Js.session(e))switch(e.target){case"second":!bM&&e.data%2===0&&Js.emit(e.player,"modem:join");break;case"join":e.sender!==Js.id()&&Js.reply(e,"joinack",PG(NT(mn)));break;case"joinack":e.sender!==Js.id()&&(bM=!0,Ix(mn,Sc(e.data),mn));break;case"sync":{e.sender!==Js.id()&&G(e.data)&&Ix(mn,Sc(e.data),mn);break}}});function BM(e,A){A!==mn&&Js.emit("","modem:sync",PG(e))}mn.on("update",BM),mn.on("destroy",()=>{mn.off("update",BM)});function Ye(e){return`${e??""}`}function us(e,A){const t=parseFloat(Ye(e));return isNaN(t)?A:t}var _d;try{_d=new TextDecoder}catch{}var SA,Gr,X=0,Ne={},ue,hs,kn=0,xr=0,xt,Lr,Jt=[],ce,EM={useRecords:!1,mapsAsObjects:!0};class kM{}const vM=new kM;vM.name="MessagePack 0xC1";var fs=!1,YM=2,jS;try{new Function("")}catch{YM=1/0}class ma{constructor(A){A&&(A.useRecords===!1&&A.mapsAsObjects===void 0&&(A.mapsAsObjects=!0),A.sequential&&A.trusted!==!1&&(A.trusted=!0,!A.structures&&A.useRecords!=!1&&(A.structures=[],A.maxSharedStructures||(A.maxSharedStructures=0))),A.structures?A.structures.sharedLength=A.structures.length:A.getStructures&&((A.structures=[]).uninitialized=!0,A.structures.sharedLength=0),A.int64AsNumber&&(A.int64AsType="number")),Object.assign(this,A)}unpack(A,t){if(SA)return UM(()=>(vd(),this?this.unpack(A,t):ma.prototype.unpack.call(EM,A,t)));!A.buffer&&A.constructor===ArrayBuffer&&(A=typeof je<"u"?je.from(A):new Uint8Array(A)),typeof t=="object"?(Gr=t.end||A.length,X=t.start||0):(X=0,Gr=t>-1?t:A.length),xr=0,hs=null,xt=null,SA=A;try{ce=A.dataView||(A.dataView=new DataView(A.buffer,A.byteOffset,A.byteLength))}catch(n){throw SA=null,A instanceof Uint8Array?n:new Error("Source must be a Uint8Array or Buffer but was a "+(A&&typeof A=="object"?A.constructor.name:typeof A))}if(this instanceof ma){if(Ne=this,this.structures)return ue=this.structures,wl(t);(!ue||ue.length>0)&&(ue=[])}else Ne=EM,(!ue||ue.length>0)&&(ue=[]);return wl(t)}unpackMultiple(A,t){let n,r=0;try{fs=!0;let s=A.length,i=this?this.unpack(A,s):Gl.unpack(A,s);if(t){if(t(i,r,X)===!1)return;for(;X<s;)if(r=X,t(wl(),r,X)===!1)return}else{for(n=[i];X<s;)r=X,n.push(wl());return n}}catch(s){throw s.lastPosition=r,s.values=n,s}finally{fs=!1,vd()}}_mergeStructures(A,t){A=A||[],Object.isFrozen(A)&&(A=A.map(n=>n.slice(0)));for(let n=0,r=A.length;n<r;n++){let s=A[n];s&&(s.isShared=!0,n>=32&&(s.highByte=n-32>>5))}A.sharedLength=A.length;for(let n in t||[])if(n>=0){let r=A[n],s=t[n];s&&(r&&((A.restoreStructures||(A.restoreStructures=[]))[n]=r),A[n]=s)}return this.structures=A}decode(A,t){return this.unpack(A,t)}}function wl(e){try{if(!Ne.trusted&&!fs){let t=ue.sharedLength||0;t<ue.length&&(ue.length=t)}let A;if(Ne.randomAccessStructure&&SA[X]<64&&SA[X]>=32&&jS||(A=At()),xt&&(X=xt.postBundlePosition,xt=null),fs&&(ue.restoreStructures=null),X==Gr)ue&&ue.restoreStructures&&NM(),ue=null,SA=null,Lr&&(Lr=null);else{if(X>Gr)throw new Error("Unexpected end of MessagePack data");if(!fs){let t;try{t=JSON.stringify(A,(n,r)=>typeof r=="bigint"?`${r}n`:r).slice(0,100)}catch(n){t="(JSON view not available "+n+")"}throw new Error("Data read, but end of buffer not reached "+t)}}return A}catch(A){throw ue&&ue.restoreStructures&&NM(),vd(),(A instanceof RangeError||A.message.startsWith("Unexpected end of buffer")||X>Gr)&&(A.incomplete=!0),A}}function NM(){for(let e in ue.restoreStructures)ue[e]=ue.restoreStructures[e];ue.restoreStructures=null}function At(){let e=SA[X++];if(e<160)if(e<128){if(e<64)return e;{let A=ue[e&63]||Ne.getStructures&&OM()[e&63];return A?(A.read||(A.read=Dd(A,e&63)),A.read()):e}}else if(e<144)if(e-=128,Ne.mapsAsObjects){let A={};for(let t=0;t<e;t++){let n=IM();n==="__proto__"&&(n="__proto_"),A[n]=At()}return A}else{let A=new Map;for(let t=0;t<e;t++)A.set(At(),At());return A}else{e-=144;let A=new Array(e);for(let t=0;t<e;t++)A[t]=At();return Ne.freezeData?Object.freeze(A):A}else if(e<192){let A=e-160;if(xr>=X)return hs.slice(X-kn,(X+=A)-kn);if(xr==0&&Gr<140){let t=A<16?Ed(A):PM(A);if(t!=null)return t}return Bd(A)}else{let A;switch(e){case 192:return null;case 193:return xt?(A=At(),A>0?xt[1].slice(xt.position1,xt.position1+=A):xt[0].slice(xt.position0,xt.position0-=A)):vM;case 194:return!1;case 195:return!0;case 196:if(A=SA[X++],A===void 0)throw new Error("Unexpected end of buffer");return kd(A);case 197:return A=ce.getUint16(X),X+=2,kd(A);case 198:return A=ce.getUint32(X),X+=4,kd(A);case 199:return Xs(SA[X++]);case 200:return A=ce.getUint16(X),X+=2,Xs(A);case 201:return A=ce.getUint32(X),X+=4,Xs(A);case 202:if(A=ce.getFloat32(X),Ne.useFloat32>2){let t=Yd[(SA[X]&127)<<1|SA[X+1]>>7];return X+=4,(t*A+(A>0?.5:-.5)>>0)/t}return X+=4,A;case 203:return A=ce.getFloat64(X),X+=8,A;case 204:return SA[X++];case 205:return A=ce.getUint16(X),X+=2,A;case 206:return A=ce.getUint32(X),X+=4,A;case 207:return Ne.int64AsType==="number"?(A=ce.getUint32(X)*4294967296,A+=ce.getUint32(X+4)):Ne.int64AsType==="string"?A=ce.getBigUint64(X).toString():Ne.int64AsType==="auto"?(A=ce.getBigUint64(X),A<=BigInt(2)<<BigInt(52)&&(A=Number(A))):A=ce.getBigUint64(X),X+=8,A;case 208:return ce.getInt8(X++);case 209:return A=ce.getInt16(X),X+=2,A;case 210:return A=ce.getInt32(X),X+=4,A;case 211:return Ne.int64AsType==="number"?(A=ce.getInt32(X)*4294967296,A+=ce.getUint32(X+4)):Ne.int64AsType==="string"?A=ce.getBigInt64(X).toString():Ne.int64AsType==="auto"?(A=ce.getBigInt64(X),A>=BigInt(-2)<<BigInt(52)&&A<=BigInt(2)<<BigInt(52)&&(A=Number(A))):A=ce.getBigInt64(X),X+=8,A;case 212:if(A=SA[X++],A==114)return zM(SA[X++]&63);{let t=Jt[A];if(t)return t.read?(X++,t.read(At())):t.noBuffer?(X++,t()):t(SA.subarray(X,++X));throw new Error("Unknown extension "+A)}case 213:return A=SA[X],A==114?(X++,zM(SA[X++]&63,SA[X++])):Xs(2);case 214:return Xs(4);case 215:return Xs(8);case 216:return Xs(16);case 217:return A=SA[X++],xr>=X?hs.slice(X-kn,(X+=A)-kn):IS(A);case 218:return A=ce.getUint16(X),X+=2,xr>=X?hs.slice(X-kn,(X+=A)-kn):CS(A);case 219:return A=ce.getUint32(X),X+=4,xr>=X?hs.slice(X-kn,(X+=A)-kn):zS(A);case 220:return A=ce.getUint16(X),X+=2,TM(A);case 221:return A=ce.getUint32(X),X+=4,TM(A);case 222:return A=ce.getUint16(X),X+=2,SM(A);case 223:return A=ce.getUint32(X),X+=4,SM(A);default:if(e>=224)return e-256;if(e===void 0){let t=new Error("Unexpected end of MessagePack data");throw t.incomplete=!0,t}throw new Error("Unknown MessagePack token "+e)}}}const RS=/^[a-zA-Z_$][a-zA-Z\d_$]*$/;function Dd(e,A){function t(){if(t.count++>YM){let r=e.read=new Function("r","return function(){return "+(Ne.freezeData?"Object.freeze":"")+"({"+e.map(s=>s==="__proto__"?"__proto_:r()":RS.test(s)?s+":r()":"["+JSON.stringify(s)+"]:r()").join(",")+"})}")(At);return e.highByte===0&&(e.read=ZM(A,e.read)),r()}let n={};for(let r=0,s=e.length;r<s;r++){let i=e[r];i==="__proto__"&&(i="__proto_"),n[i]=At()}return Ne.freezeData?Object.freeze(n):n}return t.count=0,e.highByte===0?ZM(A,t):t}const ZM=(e,A)=>function(){let t=SA[X++];if(t===0)return A();let n=e<32?-(e+(t<<5)):e+(t<<5),r=ue[n]||OM()[n];if(!r)throw new Error("Record id is not defined for "+n);return r.read||(r.read=Dd(r,e)),r.read()};function OM(){let e=UM(()=>(SA=null,Ne.getStructures()));return ue=Ne._mergeStructures(e,ue)}var Bd=ga,IS=ga,CS=ga,zS=ga;function ga(e){let A;if(e<16&&(A=Ed(e)))return A;if(e>64&&_d)return _d.decode(SA.subarray(X,X+=e));const t=X+e,n=[];for(A="";X<t;){const r=SA[X++];if((r&128)===0)n.push(r);else if((r&224)===192){const s=SA[X++]&63;n.push((r&31)<<6|s)}else if((r&240)===224){const s=SA[X++]&63,i=SA[X++]&63;n.push((r&31)<<12|s<<6|i)}else if((r&248)===240){const s=SA[X++]&63,i=SA[X++]&63,o=SA[X++]&63;let a=(r&7)<<18|s<<12|i<<6|o;a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a)}else n.push(r);n.length>=4096&&(A+=Mt.apply(String,n),n.length=0)}return n.length>0&&(A+=Mt.apply(String,n)),A}function TM(e){let A=new Array(e);for(let t=0;t<e;t++)A[t]=At();return Ne.freezeData?Object.freeze(A):A}function SM(e){if(Ne.mapsAsObjects){let A={};for(let t=0;t<e;t++){let n=IM();n==="__proto__"&&(n="__proto_"),A[n]=At()}return A}else{let A=new Map;for(let t=0;t<e;t++)A.set(At(),At());return A}}var Mt=String.fromCharCode;function PM(e){let A=X,t=new Array(e);for(let n=0;n<e;n++){const r=SA[X++];if((r&128)>0){X=A;return}t[n]=r}return Mt.apply(String,t)}function Ed(e){if(e<4)if(e<2){if(e===0)return"";{let A=SA[X++];if((A&128)>1){X-=1;return}return Mt(A)}}else{let A=SA[X++],t=SA[X++];if((A&128)>0||(t&128)>0){X-=2;return}if(e<3)return Mt(A,t);let n=SA[X++];if((n&128)>0){X-=3;return}return Mt(A,t,n)}else{let A=SA[X++],t=SA[X++],n=SA[X++],r=SA[X++];if((A&128)>0||(t&128)>0||(n&128)>0||(r&128)>0){X-=4;return}if(e<6){if(e===4)return Mt(A,t,n,r);{let s=SA[X++];if((s&128)>0){X-=5;return}return Mt(A,t,n,r,s)}}else if(e<8){let s=SA[X++],i=SA[X++];if((s&128)>0||(i&128)>0){X-=6;return}if(e<7)return Mt(A,t,n,r,s,i);let o=SA[X++];if((o&128)>0){X-=7;return}return Mt(A,t,n,r,s,i,o)}else{let s=SA[X++],i=SA[X++],o=SA[X++],a=SA[X++];if((s&128)>0||(i&128)>0||(o&128)>0||(a&128)>0){X-=8;return}if(e<10){if(e===8)return Mt(A,t,n,r,s,i,o,a);{let c=SA[X++];if((c&128)>0){X-=9;return}return Mt(A,t,n,r,s,i,o,a,c)}}else if(e<12){let c=SA[X++],l=SA[X++];if((c&128)>0||(l&128)>0){X-=10;return}if(e<11)return Mt(A,t,n,r,s,i,o,a,c,l);let u=SA[X++];if((u&128)>0){X-=11;return}return Mt(A,t,n,r,s,i,o,a,c,l,u)}else{let c=SA[X++],l=SA[X++],u=SA[X++],h=SA[X++];if((c&128)>0||(l&128)>0||(u&128)>0||(h&128)>0){X-=12;return}if(e<14){if(e===12)return Mt(A,t,n,r,s,i,o,a,c,l,u,h);{let f=SA[X++];if((f&128)>0){X-=13;return}return Mt(A,t,n,r,s,i,o,a,c,l,u,h,f)}}else{let f=SA[X++],m=SA[X++];if((f&128)>0||(m&128)>0){X-=14;return}if(e<15)return Mt(A,t,n,r,s,i,o,a,c,l,u,h,f,m);let d=SA[X++];if((d&128)>0){X-=15;return}return Mt(A,t,n,r,s,i,o,a,c,l,u,h,f,m,d)}}}}}function jM(){let e=SA[X++],A;if(e<192)A=e-160;else switch(e){case 217:A=SA[X++];break;case 218:A=ce.getUint16(X),X+=2;break;case 219:A=ce.getUint32(X),X+=4;break;default:throw new Error("Expected string")}return ga(A)}function kd(e){return Ne.copyBuffers?Uint8Array.prototype.slice.call(SA,X,X+=e):SA.subarray(X,X+=e)}function Xs(e){let A=SA[X++];if(Jt[A]){let t;return Jt[A](SA.subarray(X,t=X+=e),n=>{X=n;try{return At()}finally{X=t}})}else throw new Error("Unknown extension type "+A)}var RM=new Array(4096);function IM(){let e=SA[X++];if(e>=160&&e<192){if(e=e-160,xr>=X)return hs.slice(X-kn,(X+=e)-kn);if(!(xr==0&&Gr<180))return Bd(e)}else return X--,CM(At());let A=(e<<5^(e>1?ce.getUint16(X):e>0?SA[X]:0))&4095,t=RM[A],n=X,r=X+e-3,s,i=0;if(t&&t.bytes==e){for(;n<r;){if(s=ce.getUint32(n),s!=t[i++]){n=1879048192;break}n+=4}for(r+=3;n<r;)if(s=SA[n++],s!=t[i++]){n=1879048192;break}if(n===r)return X=n,t.string;r-=3,n=X}for(t=[],RM[A]=t,t.bytes=e;n<r;)s=ce.getUint32(n),t.push(s),n+=4;for(r+=3;n<r;)s=SA[n++],t.push(s);let o=e<16?Ed(e):PM(e);return o!=null?t.string=o:t.string=Bd(e)}function CM(e){if(typeof e=="string")return e;if(typeof e=="number"||typeof e=="boolean"||typeof e=="bigint")return e.toString();if(e==null)return e+"";if(Ne.allowArraysInMapKeys&&Array.isArray(e)&&e.flat().every(A=>["string","number","boolean","bigint"].includes(typeof A)))return e.flat().toString();throw new Error(`Invalid property type for record: ${typeof e}`)}const zM=(e,A)=>{let t=At().map(CM),n=e;A!==void 0&&(e=e<32?-((A<<5)+e):(A<<5)+e,t.highByte=A);let r=ue[e];return r&&(r.isShared||fs)&&((ue.restoreStructures||(ue.restoreStructures=[]))[e]=r),ue[e]=t,t.read=Dd(t,n),t.read()};Jt[0]=()=>{},Jt[0].noBuffer=!0,Jt[66]=e=>{let A=e.byteLength%8||8,t=BigInt(e[0]&128?e[0]-256:e[0]);for(let n=1;n<A;n++)t<<=BigInt(8),t+=BigInt(e[n]);if(e.byteLength!==A){let n=new DataView(e.buffer,e.byteOffset,e.byteLength),r=(s,i)=>{let o=i-s;if(o<=40){let u=n.getBigUint64(s);for(let h=s+8;h<i;h+=8)u<<=64n,u|=n.getBigUint64(h);return u}let a=s+(o>>4<<3),c=r(s,a),l=r(a,i);return c<<BigInt((i-a)*8)|l};t=t<<BigInt((n.byteLength-A)*8)|r(A,n.byteLength)}return t};let HM={Error,EvalError,RangeError,ReferenceError,SyntaxError,TypeError,URIError,AggregateError:typeof AggregateError=="function"?AggregateError:null};Jt[101]=()=>{let e=At();if(!HM[e[0]]){let A=Error(e[1],{cause:e[2]});return A.name=e[0],A}return HM[e[0]](e[1],{cause:e[2]})},Jt[105]=e=>{if(Ne.structuredClone===!1)throw new Error("Structured clone extension is disabled");let A=ce.getUint32(X-4);Lr||(Lr=new Map);let t=SA[X],n;t>=144&&t<160||t==220||t==221?n=[]:t>=128&&t<144||t==222||t==223?n=new Map:(t>=199&&t<=201||t>=212&&t<=216)&&SA[X+1]===115?n=new Set:n={};let r={target:n};Lr.set(A,r);let s=At();if(r.used)Object.assign(n,s);else return r.target=s;if(n instanceof Map)for(let[i,o]of s.entries())n.set(i,o);if(n instanceof Set)for(let i of Array.from(s))n.add(i);return n},Jt[112]=e=>{if(Ne.structuredClone===!1)throw new Error("Structured clone extension is disabled");let A=ce.getUint32(X-4),t=Lr.get(A);return t.used=!0,t.target},Jt[115]=()=>new Set(At());const LM=["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64","BigInt64","BigUint64"].map(e=>e+"Array");let HS=typeof globalThis=="object"?globalThis:window;Jt[116]=e=>{let A=e[0],t=Uint8Array.prototype.slice.call(e,1).buffer,n=LM[A];if(!n){if(A===16)return t;if(A===17)return new DataView(t);throw new Error("Could not find typed array for code "+A)}return new HS[n](t)},Jt[120]=()=>{let e=At();return new RegExp(e[0],e[1])};const LS=[];Jt[98]=e=>{let A=(e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3],t=X;return X+=A-e.length,xt=LS,xt=[jM(),jM()],xt.position0=0,xt.position1=0,xt.postBundlePosition=X,X=t,At()},Jt[255]=e=>e.length==4?new Date((e[0]*16777216+(e[1]<<16)+(e[2]<<8)+e[3])*1e3):e.length==8?new Date(((e[0]<<22)+(e[1]<<14)+(e[2]<<6)+(e[3]>>2))/1e6+((e[3]&3)*4294967296+e[4]*16777216+(e[5]<<16)+(e[6]<<8)+e[7])*1e3):e.length==12?new Date(((e[0]<<24)+(e[1]<<16)+(e[2]<<8)+e[3])/1e6+((e[4]&128?-281474976710656:0)+e[6]*1099511627776+e[7]*4294967296+e[8]*16777216+(e[9]<<16)+(e[10]<<8)+e[11])*1e3):new Date("invalid");function UM(e){let A=Gr,t=X,n=kn,r=xr,s=hs,i=Lr,o=xt,a=new Uint8Array(SA.slice(0,Gr)),c=ue,l=ue.slice(0,ue.length),u=Ne,h=fs,f=e();return Gr=A,X=t,kn=n,xr=r,hs=s,Lr=i,xt=o,SA=a,fs=h,ue=c,ue.splice(0,ue.length,...l),Ne=u,ce=new DataView(SA.buffer,SA.byteOffset,SA.byteLength),f}function vd(){SA=null,Lr=null,ue=null}const Yd=new Array(147);for(let e=0;e<256;e++)Yd[e]=+("1e"+Math.floor(45.15-e*.30103));var Gl=new ma({useRecords:!1});const US=Gl.unpack;Gl.unpackMultiple,Gl.unpack;let $S=new Float32Array(1);new Uint8Array($S.buffer,0,4);let xl;try{xl=new TextEncoder}catch{}let Nd,Zd;const eo=typeof je<"u",Ml=eo?function(e){return je.allocUnsafeSlow(e)}:Uint8Array,$M=eo?je:Uint8Array,FM=eo?4294967296:2144337920;let cA,pa,Be,nA=0,Zt,He=null,FS;const QS=21760,KS=/[\u0080-\uFFFF]/,to=Symbol("record-id");class WS extends ma{constructor(A){super(A),this.offset=0;let t,n,r,s,i=$M.prototype.utf8Write?function(Y,b){return cA.utf8Write(Y,b,cA.byteLength-b)}:xl&&xl.encodeInto?function(Y,b){return xl.encodeInto(Y,cA.subarray(b)).written}:!1,o=this;A||(A={});let a=A&&A.sequential,c=A.structures||A.saveStructures,l=A.maxSharedStructures;if(l==null&&(l=c?32:0),l>8160)throw new Error("Maximum maxSharedStructure is 8160");A.structuredClone&&A.moreTypes==null&&(this.moreTypes=!0);let u=A.maxOwnStructures;u==null&&(u=c?32:64),!this.structures&&A.useRecords!=!1&&(this.structures=[]);let h=l>32||u+l>64,f=l+64,m=l+u+64;if(m>8256)throw new Error("Maximum maxSharedStructure + maxOwnStructure is 8192");let d=[],g=0,p=0;this.pack=this.encode=function(Y,b){if(cA||(cA=new Ml(8192),Be=cA.dataView||(cA.dataView=new DataView(cA.buffer,0,8192)),nA=0),Zt=cA.length-10,Zt-nA<2048?(cA=new Ml(cA.length),Be=cA.dataView||(cA.dataView=new DataView(cA.buffer,0,cA.length)),Zt=cA.length-10,nA=0):nA=nA+7&2147483640,t=nA,b&eP&&(nA+=b&255),s=o.structuredClone?new Map:null,o.bundleStrings&&typeof Y!="string"?(He=[],He.size=1/0):He=null,r=o.structures,r){r.uninitialized&&(r=o._mergeStructures(o.getStructures()));let $=r.sharedLength||0;if($>l)throw new Error("Shared structures is larger than maximum shared structures, try increasing maxSharedStructures to "+r.sharedLength);if(!r.transitions){r.transitions=Object.create(null);for(let U=0;U<$;U++){let W=r[U];if(!W)continue;let q,tA=r.transitions;for(let N=0,S=W.length;N<S;N++){let AA=W[N];q=tA[AA],q||(q=tA[AA]=Object.create(null)),tA=q}tA[to]=U+64}this.lastNamedStructuresLength=$}a||(r.nextId=$+64)}n&&(n=!1);let I;try{o.randomAccessStructure&&Y&&typeof Y=="object"?Y.constructor===Object?v(Y):Y.constructor!==Map&&!Array.isArray(Y)&&!Zd.some(U=>Y instanceof U)?v(Y.toJSON?Y.toJSON():Y):E(Y):E(Y);let $=He;if(He&&KM(t,E,0),s&&s.idsToInsert){let U=s.idsToInsert.sort((N,S)=>N.offset>S.offset?1:-1),W=U.length,q=-1;for(;$&&W>0;){let N=U[--W].offset+t;N<$.stringsPosition+t&&q===-1&&(q=0),N>$.position+t?q>=0&&(q+=6):(q>=0&&(Be.setUint32($.position+t,Be.getUint32($.position+t)+q),q=-1),$=$.previous,W++)}q>=0&&$&&Be.setUint32($.position+t,Be.getUint32($.position+t)+q),nA+=U.length*6,nA>Zt&&R(nA),o.offset=nA;let tA=VS(cA.subarray(t,nA),U);return s=null,tA}return o.offset=nA,b&XS?(cA.start=t,cA.end=nA,cA):cA.subarray(t,nA)}catch($){throw I=$,$}finally{if(r&&(x(),n&&o.saveStructures)){let $=r.sharedLength||0,U=cA.subarray(t,nA),W=qS(r,o);if(!I)return o.saveStructures(W,W.isCompatible)===!1?o.pack(Y,b):(o.lastNamedStructuresLength=$,cA.length>1073741824&&(cA=null),U)}cA.length>1073741824&&(cA=null),b&AP&&(nA=t)}};const x=()=>{p<10&&p++;let Y=r.sharedLength||0;if(r.length>Y&&!a&&(r.length=Y),g>1e4)r.transitions=null,p=0,g=0,d.length>0&&(d=[]);else if(d.length>0&&!a){for(let b=0,I=d.length;b<I;b++)d[b][to]=0;d=[]}},y=Y=>{var b=Y.length;b<16?cA[nA++]=144|b:b<65536?(cA[nA++]=220,cA[nA++]=b>>8,cA[nA++]=b&255):(cA[nA++]=221,Be.setUint32(nA,b),nA+=4);for(let I=0;I<b;I++)E(Y[I])},E=Y=>{nA>Zt&&(cA=R(nA));var b=typeof Y,I;if(b==="string"){let $=Y.length;if(He&&$>=4&&$<4096){if((He.size+=$)>QS){let tA,N=(He[0]?He[0].length*3+He[1].length:0)+10;nA+N>Zt&&(cA=R(nA+N));let S;He.position?(S=He,cA[nA]=200,nA+=3,cA[nA++]=98,tA=nA-t,nA+=4,KM(t,E,0),Be.setUint16(tA+t-3,nA-t-tA)):(cA[nA++]=214,cA[nA++]=98,tA=nA-t,nA+=4),He=["",""],He.previous=S,He.size=0,He.position=tA}let q=KS.test(Y);He[q?0:1]+=Y,cA[nA++]=193,E(q?-$:$);return}let U;$<32?U=1:$<256?U=2:$<65536?U=3:U=5;let W=$*3;if(nA+W>Zt&&(cA=R(nA+W)),$<64||!i){let q,tA,N,S=nA+U;for(q=0;q<$;q++)tA=Y.charCodeAt(q),tA<128?cA[S++]=tA:tA<2048?(cA[S++]=tA>>6|192,cA[S++]=tA&63|128):(tA&64512)===55296&&((N=Y.charCodeAt(q+1))&64512)===56320?(tA=65536+((tA&1023)<<10)+(N&1023),q++,cA[S++]=tA>>18|240,cA[S++]=tA>>12&63|128,cA[S++]=tA>>6&63|128,cA[S++]=tA&63|128):(cA[S++]=tA>>12|224,cA[S++]=tA>>6&63|128,cA[S++]=tA&63|128);I=S-nA-U}else I=i(Y,nA+U);I<32?cA[nA++]=160|I:I<256?(U<2&&cA.copyWithin(nA+2,nA+1,nA+1+I),cA[nA++]=217,cA[nA++]=I):I<65536?(U<3&&cA.copyWithin(nA+3,nA+2,nA+2+I),cA[nA++]=218,cA[nA++]=I>>8,cA[nA++]=I&255):(U<5&&cA.copyWithin(nA+5,nA+3,nA+3+I),cA[nA++]=219,Be.setUint32(nA,I),nA+=4),nA+=I}else if(b==="number")if(Y>>>0===Y)Y<32||Y<128&&this.useRecords===!1||Y<64&&!this.randomAccessStructure?cA[nA++]=Y:Y<256?(cA[nA++]=204,cA[nA++]=Y):Y<65536?(cA[nA++]=205,cA[nA++]=Y>>8,cA[nA++]=Y&255):(cA[nA++]=206,Be.setUint32(nA,Y),nA+=4);else if(Y>>0===Y)Y>=-32?cA[nA++]=256+Y:Y>=-128?(cA[nA++]=208,cA[nA++]=Y+256):Y>=-32768?(cA[nA++]=209,Be.setInt16(nA,Y),nA+=2):(cA[nA++]=210,Be.setInt32(nA,Y),nA+=4);else{let $;if(($=this.useFloat32)>0&&Y<4294967296&&Y>=-2147483648){cA[nA++]=202,Be.setFloat32(nA,Y);let U;if($<4||(U=Y*Yd[(cA[nA]&127)<<1|cA[nA+1]>>7])>>0===U){nA+=4;return}else nA--}cA[nA++]=203,Be.setFloat64(nA,Y),nA+=8}else if(b==="object"||b==="function")if(!Y)cA[nA++]=192;else{if(s){let U=s.get(Y);if(U){if(!U.id){let W=s.idsToInsert||(s.idsToInsert=[]);U.id=W.push(U)}cA[nA++]=214,cA[nA++]=112,Be.setUint32(nA,U.id),nA+=4;return}else s.set(Y,{offset:nA-t})}let $=Y.constructor;if($===Object)Z(Y);else if($===Array)y(Y);else if($===Map)if(this.mapAsEmptyObject)cA[nA++]=128;else{I=Y.size,I<16?cA[nA++]=128|I:I<65536?(cA[nA++]=222,cA[nA++]=I>>8,cA[nA++]=I&255):(cA[nA++]=223,Be.setUint32(nA,I),nA+=4);for(let[U,W]of Y)E(U),E(W)}else{for(let U=0,W=Nd.length;U<W;U++){let q=Zd[U];if(Y instanceof q){let tA=Nd[U];if(tA.write){tA.type&&(cA[nA++]=212,cA[nA++]=tA.type,cA[nA++]=0);let rA=tA.write.call(this,Y);rA===Y?Array.isArray(Y)?y(Y):Z(Y):E(rA);return}let N=cA,S=Be,AA=nA;cA=null;let Q;try{Q=tA.pack.call(this,Y,rA=>(cA=N,N=null,nA+=rA,nA>Zt&&R(nA),{target:cA,targetView:Be,position:nA-rA}),E)}finally{N&&(cA=N,Be=S,nA=AA,Zt=cA.length-10)}Q&&(Q.length+nA>Zt&&R(Q.length+nA),nA=QM(Q,cA,nA,tA.type));return}}if(Array.isArray(Y))y(Y);else{if(Y.toJSON){const U=Y.toJSON();if(U!==Y)return E(U)}if(b==="function")return E(this.writeFunction&&this.writeFunction(Y));Z(Y)}}}else if(b==="boolean")cA[nA++]=Y?195:194;else if(b==="bigint"){if(Y<9223372036854776e3&&Y>=-9223372036854776e3)cA[nA++]=211,Be.setBigInt64(nA,Y);else if(Y<18446744073709552e3&&Y>0)cA[nA++]=207,Be.setBigUint64(nA,Y);else if(this.largeBigIntToFloat)cA[nA++]=203,Be.setFloat64(nA,Number(Y));else{if(this.largeBigIntToString)return E(Y.toString());if(this.useBigIntExtension||this.moreTypes){let $=Y<0?BigInt(-1):BigInt(0),U;if(Y>>BigInt(65536)===$){let W=BigInt(18446744073709552e3)-BigInt(1),q=[];for(;q.push(Y&W),Y>>BigInt(63)!==$;)Y>>=BigInt(64);U=new Uint8Array(new BigUint64Array(q).buffer),U.reverse()}else{let W=Y<0,q=(W?~Y:Y).toString(16);if(q.length%2?q="0"+q:parseInt(q.charAt(0),16)>=8&&(q="00"+q),eo)U=je.from(q,"hex");else{U=new Uint8Array(q.length/2);for(let tA=0;tA<U.length;tA++)U[tA]=parseInt(q.slice(tA*2,tA*2+2),16)}if(W)for(let tA=0;tA<U.length;tA++)U[tA]=~U[tA]}U.length+nA>Zt&&R(U.length+nA),nA=QM(U,cA,nA,66);return}else throw new RangeError(Y+" was too large to fit in MessagePack 64-bit integer format, use useBigIntExtension, or set largeBigIntToFloat to convert to float-64, or set largeBigIntToString to convert to string")}nA+=8}else if(b==="undefined")this.encodeUndefinedAsNil?cA[nA++]=192:(cA[nA++]=212,cA[nA++]=0,cA[nA++]=0);else throw new Error("Unknown type: "+b)},B=this.variableMapSize||this.coercibleKeyAsNumber||this.skipValues?Y=>{let b;if(this.skipValues){b=[];for(let U in Y)(typeof Y.hasOwnProperty!="function"||Y.hasOwnProperty(U))&&!this.skipValues.includes(Y[U])&&b.push(U)}else b=Object.keys(Y);let I=b.length;I<16?cA[nA++]=128|I:I<65536?(cA[nA++]=222,cA[nA++]=I>>8,cA[nA++]=I&255):(cA[nA++]=223,Be.setUint32(nA,I),nA+=4);let $;if(this.coercibleKeyAsNumber)for(let U=0;U<I;U++){$=b[U];let W=Number($);E(isNaN(W)?$:W),E(Y[$])}else for(let U=0;U<I;U++)E($=b[U]),E(Y[$])}:Y=>{cA[nA++]=222;let b=nA-t;nA+=2;let I=0;for(let $ in Y)(typeof Y.hasOwnProperty!="function"||Y.hasOwnProperty($))&&(E($),E(Y[$]),I++);if(I>65535)throw new Error('Object is too large to serialize with fast 16-bit map size, use the "variableMapSize" option to serialize this object');cA[b+++t]=I>>8,cA[b+t]=I&255},T=this.useRecords===!1?B:A.progressiveRecords&&!h?Y=>{let b,I=r.transitions||(r.transitions=Object.create(null)),$=nA++-t,U;for(let W in Y)if(typeof Y.hasOwnProperty!="function"||Y.hasOwnProperty(W)){if(b=I[W],b)I=b;else{let q=Object.keys(Y),tA=I;I=r.transitions;let N=0;for(let S=0,AA=q.length;S<AA;S++){let Q=q[S];b=I[Q],b||(b=I[Q]=Object.create(null),N++),I=b}$+t+1==nA?(nA--,j(I,q,N)):L(I,q,$,N),U=!0,I=tA[W]}E(Y[W])}if(!U){let W=I[to];W?cA[$+t]=W:L(I,Object.keys(Y),$,0)}}:Y=>{let b,I=r.transitions||(r.transitions=Object.create(null)),$=0;for(let W in Y)(typeof Y.hasOwnProperty!="function"||Y.hasOwnProperty(W))&&(b=I[W],b||(b=I[W]=Object.create(null),$++),I=b);let U=I[to];U?U>=96&&h?(cA[nA++]=((U-=96)&31)+96,cA[nA++]=U>>5):cA[nA++]=U:j(I,I.__keys__||Object.keys(Y),$);for(let W in Y)(typeof Y.hasOwnProperty!="function"||Y.hasOwnProperty(W))&&E(Y[W])},D=typeof this.useRecords=="function"&&this.useRecords,Z=D?Y=>{D(Y)?T(Y):B(Y)}:T,R=Y=>{let b;if(Y>16777216){if(Y-t>FM)throw new Error("Packed buffer would be larger than maximum buffer size");b=Math.min(FM,Math.round(Math.max((Y-t)*(Y>67108864?1.25:2),4194304)/4096)*4096)}else b=(Math.max(Y-t<<2,cA.length-1)>>12)+1<<12;let I=new Ml(b);return Be=I.dataView||(I.dataView=new DataView(I.buffer,0,b)),Y=Math.min(Y,cA.length),cA.copy?cA.copy(I,0,t,Y):I.set(cA.slice(t,Y)),nA-=t,t=0,Zt=I.length-10,cA=I},j=(Y,b,I)=>{let $=r.nextId;$||($=64),$<f&&this.shouldShareStructure&&!this.shouldShareStructure(b)?($=r.nextOwnId,$<m||($=f),r.nextOwnId=$+1):($>=m&&($=f),r.nextId=$+1);let U=b.highByte=$>=96&&h?$-96>>5:-1;Y[to]=$,Y.__keys__=b,r[$-64]=b,$<f?(b.isShared=!0,r.sharedLength=$-63,n=!0,U>=0?(cA[nA++]=($&31)+96,cA[nA++]=U):cA[nA++]=$):(U>=0?(cA[nA++]=213,cA[nA++]=114,cA[nA++]=($&31)+96,cA[nA++]=U):(cA[nA++]=212,cA[nA++]=114,cA[nA++]=$),I&&(g+=p*I),d.length>=u&&(d.shift()[to]=0),d.push(Y),E(b))},L=(Y,b,I,$)=>{let U=cA,W=nA,q=Zt,tA=t;cA=pa,nA=0,t=0,cA||(pa=cA=new Ml(8192)),Zt=cA.length-10,j(Y,b,$),pa=cA;let N=nA;if(cA=U,nA=W,Zt=q,t=tA,N>1){let S=nA+N-1;S>Zt&&R(S);let AA=I+t;cA.copyWithin(AA+N,AA+1,nA),cA.set(pa.slice(0,N),AA),nA=S}else cA[I+t]=pa[0]},v=Y=>{let b=FS(Y,cA,t,nA,r,R,(I,$,U)=>{if(U)return n=!0;nA=$;let W=cA;return E(I),x(),W!==cA?{position:nA,targetView:Be,target:cA}:nA},this);if(b===0)return Z(Y);nA=b}}useBuffer(A){cA=A,cA.dataView||(cA.dataView=new DataView(cA.buffer,cA.byteOffset,cA.byteLength)),Be=cA.dataView,nA=0}set position(A){nA=A}get position(){return nA}clearSharedData(){this.structures&&(this.structures=[]),this.typedStructs&&(this.typedStructs=[])}}Zd=[Date,Set,Error,RegExp,ArrayBuffer,Object.getPrototypeOf(Uint8Array.prototype).constructor,DataView,kM],Nd=[{pack(e,A,t){let n=e.getTime()/1e3;if((this.useTimestamp32||e.getMilliseconds()===0)&&n>=0&&n<4294967296){let{target:r,targetView:s,position:i}=A(6);r[i++]=214,r[i++]=255,s.setUint32(i,n)}else if(n>0&&n<4294967296){let{target:r,targetView:s,position:i}=A(10);r[i++]=215,r[i++]=255,s.setUint32(i,e.getMilliseconds()*4e6+(n/1e3/4294967296>>0)),s.setUint32(i+4,n)}else if(isNaN(n)){if(this.onInvalidDate)return A(0),t(this.onInvalidDate());let{target:r,targetView:s,position:i}=A(3);r[i++]=212,r[i++]=255,r[i++]=255}else{let{target:r,targetView:s,position:i}=A(15);r[i++]=199,r[i++]=12,r[i++]=255,s.setUint32(i,e.getMilliseconds()*1e6),s.setBigInt64(i+4,BigInt(Math.floor(n)))}}},{pack(e,A,t){if(this.setAsEmptyObject)return A(0),t({});let n=Array.from(e),{target:r,position:s}=A(this.moreTypes?3:0);this.moreTypes&&(r[s++]=212,r[s++]=115,r[s++]=0),t(n)}},{pack(e,A,t){let{target:n,position:r}=A(this.moreTypes?3:0);this.moreTypes&&(n[r++]=212,n[r++]=101,n[r++]=0),t([e.name,e.message,e.cause])}},{pack(e,A,t){let{target:n,position:r}=A(this.moreTypes?3:0);this.moreTypes&&(n[r++]=212,n[r++]=120,n[r++]=0),t([e.source,e.flags])}},{pack(e,A){this.moreTypes?Od(e,16,A):Td(eo?je.from(e):new Uint8Array(e),A)}},{pack(e,A){let t=e.constructor;t!==$M&&this.moreTypes?Od(e,LM.indexOf(t.name),A):Td(e,A)}},{pack(e,A){this.moreTypes?Od(e,17,A):Td(eo?je.from(e):new Uint8Array(e),A)}},{pack(e,A){let{target:t,position:n}=A(1);t[n]=193}}];function Od(e,A,t,n){let r=e.byteLength;if(r+1<256){var{target:s,position:i}=t(4+r);s[i++]=199,s[i++]=r+1}else if(r+1<65536){var{target:s,position:i}=t(5+r);s[i++]=200,s[i++]=r+1>>8,s[i++]=r+1&255}else{var{target:s,position:i,targetView:o}=t(7+r);s[i++]=201,o.setUint32(i,r+1),i+=4}s[i++]=116,s[i++]=A,e.buffer||(e=new Uint8Array(e)),s.set(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),i)}function Td(e,A){let t=e.byteLength;var n,r;if(t<256){var{target:n,position:r}=A(t+2);n[r++]=196,n[r++]=t}else if(t<65536){var{target:n,position:r}=A(t+3);n[r++]=197,n[r++]=t>>8,n[r++]=t&255}else{var{target:n,position:r,targetView:s}=A(t+5);n[r++]=198,s.setUint32(r,t),r+=4}n.set(e,r)}function QM(e,A,t,n){let r=e.length;switch(r){case 1:A[t++]=212;break;case 2:A[t++]=213;break;case 4:A[t++]=214;break;case 8:A[t++]=215;break;case 16:A[t++]=216;break;default:r<256?(A[t++]=199,A[t++]=r):r<65536?(A[t++]=200,A[t++]=r>>8,A[t++]=r&255):(A[t++]=201,A[t++]=r>>24,A[t++]=r>>16&255,A[t++]=r>>8&255,A[t++]=r&255)}return A[t++]=n,A.set(e,t),t+=r,t}function VS(e,A){let t,n=A.length*6,r=e.length-n;for(;t=A.pop();){let s=t.offset,i=t.id;e.copyWithin(s+n,s,r),n-=6;let o=s+n;e[o++]=214,e[o++]=105,e[o++]=i>>24,e[o++]=i>>16&255,e[o++]=i>>8&255,e[o++]=i&255,r=s}return e}function KM(e,A,t){if(He.length>0){Be.setUint32(He.position+e,nA+t-He.position-e),He.stringsPosition=nA-e;let n=He;He=null,A(n[0]),A(n[1])}}function qS(e,A){return e.isCompatible=t=>{let n=!t||(A.lastNamedStructuresLength||0)===t.length;return n||A._mergeStructures(t),n},e}let WM=new WS({useRecords:!1});const JS=WM.pack;WM.pack;const XS=512,AP=1024,eP=2048,K=Is("SOFTWARE");function Ee(){return null}function Ur(e,A,t={}){if(!G(e))return;const n=[],r=Object.keys(e);for(let s=0;s<r.length;++s){let i=r[s],o=e[i];const a=t[i];G(a)&&(o=a(o));const c=A[i];G(c)&&(i=c),o!==null&&n.push(i,o)}return n}function wa(e,A,t={}){if(G(e))try{const n={};for(let r=0;r<e.length;r+=2){let s=e[r],i=e[r+1];const o=A[s];G(o)&&(s=o);const a=t[s];G(a)&&(i=a(i)),n[s]=i}return n}catch(n){we(K,"","format",n.message)}}function tP(e){try{return JS(e)}catch(A){we(K,"","format",A.message)}}function Sd(e){if(wA(e)){try{return JSON.parse(e)}catch(A){we(K,"","format",A.message)}return}try{return US(e)}catch(A){we(K,"","format",A.message)}}function VM(e,A){return e%A}function qM(e,A){return Math.floor(e/A)}function nP(e,A){return{x:VM(e,A),y:qM(e,A)}}function JM(e,A){const t=e.x-A.x,n=e.y-A.y;return Math.sqrt(t*t+n*n)}function Xt(e,A){return e.x+e.y*A}function Fn(e,A){return`${e.x},${e.y},${A.x},${A.y}`}function Pd(e,A,t,n,r,s){return e>=s&&e<=n&&A>=t&&A<=r}function jd(e,A,t,n){const r=[],s=Math.min(e,t),i=Math.max(e,t),o=Math.min(A,n),a=Math.max(A,n);for(let c=o;c<=a;++c)for(let l=s;l<=i;++l)r.push({x:l,y:c});return r}function XM(e,A,t,n){const r=[],s=Math.abs(t-e),i=Math.abs(n-A),o=e<t?1:-1,a=A<n?1:-1;let c=s-i;for(r.push({x:e,y:A});e!==t||A!==n;){const l=2*c;l>-i&&(c-=i,e+=o),l<s&&(c+=s,A+=a),r.push({x:e,y:A})}return r}const Ab="176",rP="",Qn="srgb",eb="srgb-linear",tb="linear",Rd="srgb",Ot=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let nb=1234567;const rb=Math.PI/180,sb=180/Math.PI;function sP(){const e=Math.random()*4294967295|0,A=Math.random()*4294967295|0,t=Math.random()*4294967295|0,n=Math.random()*4294967295|0;return(Ot[e&255]+Ot[e>>8&255]+Ot[e>>16&255]+Ot[e>>24&255]+"-"+Ot[A&255]+Ot[A>>8&255]+"-"+Ot[A>>16&15|64]+Ot[A>>24&255]+"-"+Ot[t&63|128]+Ot[t>>8&255]+"-"+Ot[t>>16&255]+Ot[t>>24&255]+Ot[n&255]+Ot[n>>8&255]+Ot[n>>16&255]+Ot[n>>24&255]).toLowerCase()}function vn(e,A,t){return Math.max(A,Math.min(t,e))}function Id(e,A){return(e%A+A)%A}function iP(e,A,t,n,r){return n+(e-A)*(r-n)/(t-A)}function oP(e,A,t){return e!==A?(t-e)/(A-e):0}function Ga(e,A,t){return(1-t)*e+t*A}function aP(e,A,t,n){return Ga(e,A,1-Math.exp(-t*n))}function cP(e,A=1){return A-Math.abs(Id(e,A*2)-A)}function lP(e,A,t){return e<=A?0:e>=t?1:(e=(e-A)/(t-A),e*e*(3-2*e))}function uP(e,A,t){return e<=A?0:e>=t?1:(e=(e-A)/(t-A),e*e*e*(e*(e*6-15)+10))}function hP(e,A){return e+Math.floor(Math.random()*(A-e+1))}function fP(e,A){return e+Math.random()*(A-e)}function dP(e){return e*(.5-Math.random())}function mP(e){e!==void 0&&(nb=e);let A=nb+=1831565813;return A=Math.imul(A^A>>>15,A|1),A^=A+Math.imul(A^A>>>7,A|61),((A^A>>>14)>>>0)/4294967296}function gP(e){return e*rb}function pP(e){return e*sb}function wP(e){return(e&e-1)===0&&e!==0}function GP(e){return Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))}function xP(e){return Math.pow(2,Math.floor(Math.log(e)/Math.LN2))}function MP(e,A,t,n,r){const s=Math.cos,i=Math.sin,o=s(t/2),a=i(t/2),c=s((A+n)/2),l=i((A+n)/2),u=s((A-n)/2),h=i((A-n)/2),f=s((n-A)/2),m=i((n-A)/2);switch(r){case"XYX":e.set(o*l,a*u,a*h,o*c);break;case"YZY":e.set(a*h,o*l,a*u,o*c);break;case"ZXZ":e.set(a*u,a*h,o*l,o*c);break;case"XZX":e.set(o*l,a*m,a*f,o*c);break;case"YXY":e.set(a*f,o*l,a*m,o*c);break;case"ZYZ":e.set(a*m,a*f,o*l,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function bP(e,A){switch(A.constructor){case Float32Array:return e;case Uint32Array:return e/4294967295;case Uint16Array:return e/65535;case Uint8Array:return e/255;case Int32Array:return Math.max(e/2147483647,-1);case Int16Array:return Math.max(e/32767,-1);case Int8Array:return Math.max(e/127,-1);default:throw new Error("Invalid component type.")}}function yP(e,A){switch(A.constructor){case Float32Array:return e;case Uint32Array:return Math.round(e*4294967295);case Uint16Array:return Math.round(e*65535);case Uint8Array:return Math.round(e*255);case Int32Array:return Math.round(e*2147483647);case Int16Array:return Math.round(e*32767);case Int8Array:return Math.round(e*127);default:throw new Error("Invalid component type.")}}const _P={DEG2RAD:rb,RAD2DEG:sb,generateUUID:sP,clamp:vn,euclideanModulo:Id,mapLinear:iP,inverseLerp:oP,lerp:Ga,damp:aP,pingpong:cP,smoothstep:lP,smootherstep:uP,randInt:hP,randFloat:fP,randFloatSpread:dP,seededRandom:mP,degToRad:gP,radToDeg:pP,isPowerOfTwo:wP,ceilPowerOfTwo:GP,floorPowerOfTwo:xP,setQuaternionFromProperEuler:MP,normalize:yP,denormalize:bP};class xa{constructor(A=0,t=0){xa.prototype.isVector2=!0,this.x=A,this.y=t}get width(){return this.x}set width(A){this.x=A}get height(){return this.y}set height(A){this.y=A}set(A,t){return this.x=A,this.y=t,this}setScalar(A){return this.x=A,this.y=A,this}setX(A){return this.x=A,this}setY(A){return this.y=A,this}setComponent(A,t){switch(A){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+A)}return this}getComponent(A){switch(A){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+A)}}clone(){return new this.constructor(this.x,this.y)}copy(A){return this.x=A.x,this.y=A.y,this}add(A){return this.x+=A.x,this.y+=A.y,this}addScalar(A){return this.x+=A,this.y+=A,this}addVectors(A,t){return this.x=A.x+t.x,this.y=A.y+t.y,this}addScaledVector(A,t){return this.x+=A.x*t,this.y+=A.y*t,this}sub(A){return this.x-=A.x,this.y-=A.y,this}subScalar(A){return this.x-=A,this.y-=A,this}subVectors(A,t){return this.x=A.x-t.x,this.y=A.y-t.y,this}multiply(A){return this.x*=A.x,this.y*=A.y,this}multiplyScalar(A){return this.x*=A,this.y*=A,this}divide(A){return this.x/=A.x,this.y/=A.y,this}divideScalar(A){return this.multiplyScalar(1/A)}applyMatrix3(A){const t=this.x,n=this.y,r=A.elements;return this.x=r[0]*t+r[3]*n+r[6],this.y=r[1]*t+r[4]*n+r[7],this}min(A){return this.x=Math.min(this.x,A.x),this.y=Math.min(this.y,A.y),this}max(A){return this.x=Math.max(this.x,A.x),this.y=Math.max(this.y,A.y),this}clamp(A,t){return this.x=vn(this.x,A.x,t.x),this.y=vn(this.y,A.y,t.y),this}clampScalar(A,t){return this.x=vn(this.x,A,t),this.y=vn(this.y,A,t),this}clampLength(A,t){const n=this.length();return this.divideScalar(n||1).multiplyScalar(vn(n,A,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(A){return this.x*A.x+this.y*A.y}cross(A){return this.x*A.y-this.y*A.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(A){const t=Math.sqrt(this.lengthSq()*A.lengthSq());if(t===0)return Math.PI/2;const n=this.dot(A)/t;return Math.acos(vn(n,-1,1))}distanceTo(A){return Math.sqrt(this.distanceToSquared(A))}distanceToSquared(A){const t=this.x-A.x,n=this.y-A.y;return t*t+n*n}manhattanDistanceTo(A){return Math.abs(this.x-A.x)+Math.abs(this.y-A.y)}setLength(A){return this.normalize().multiplyScalar(A)}lerp(A,t){return this.x+=(A.x-this.x)*t,this.y+=(A.y-this.y)*t,this}lerpVectors(A,t,n){return this.x=A.x+(t.x-A.x)*n,this.y=A.y+(t.y-A.y)*n,this}equals(A){return A.x===this.x&&A.y===this.y}fromArray(A,t=0){return this.x=A[t],this.y=A[t+1],this}toArray(A=[],t=0){return A[t]=this.x,A[t+1]=this.y,A}fromBufferAttribute(A,t){return this.x=A.getX(t),this.y=A.getY(t),this}rotateAround(A,t){const n=Math.cos(t),r=Math.sin(t),s=this.x-A.x,i=this.y-A.y;return this.x=s*n-i*r+A.x,this.y=s*r+i*n+A.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Ma{constructor(A,t,n,r,s,i,o,a,c){Ma.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],A!==void 0&&this.set(A,t,n,r,s,i,o,a,c)}set(A,t,n,r,s,i,o,a,c){const l=this.elements;return l[0]=A,l[1]=r,l[2]=o,l[3]=t,l[4]=s,l[5]=a,l[6]=n,l[7]=i,l[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(A){const t=this.elements,n=A.elements;return t[0]=n[0],t[1]=n[1],t[2]=n[2],t[3]=n[3],t[4]=n[4],t[5]=n[5],t[6]=n[6],t[7]=n[7],t[8]=n[8],this}extractBasis(A,t,n){return A.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),n.setFromMatrix3Column(this,2),this}setFromMatrix4(A){const t=A.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(A){return this.multiplyMatrices(this,A)}premultiply(A){return this.multiplyMatrices(A,this)}multiplyMatrices(A,t){const n=A.elements,r=t.elements,s=this.elements,i=n[0],o=n[3],a=n[6],c=n[1],l=n[4],u=n[7],h=n[2],f=n[5],m=n[8],d=r[0],g=r[3],p=r[6],x=r[1],y=r[4],E=r[7],B=r[2],T=r[5],D=r[8];return s[0]=i*d+o*x+a*B,s[3]=i*g+o*y+a*T,s[6]=i*p+o*E+a*D,s[1]=c*d+l*x+u*B,s[4]=c*g+l*y+u*T,s[7]=c*p+l*E+u*D,s[2]=h*d+f*x+m*B,s[5]=h*g+f*y+m*T,s[8]=h*p+f*E+m*D,this}multiplyScalar(A){const t=this.elements;return t[0]*=A,t[3]*=A,t[6]*=A,t[1]*=A,t[4]*=A,t[7]*=A,t[2]*=A,t[5]*=A,t[8]*=A,this}determinant(){const A=this.elements,t=A[0],n=A[1],r=A[2],s=A[3],i=A[4],o=A[5],a=A[6],c=A[7],l=A[8];return t*i*l-t*o*c-n*s*l+n*o*a+r*s*c-r*i*a}invert(){const A=this.elements,t=A[0],n=A[1],r=A[2],s=A[3],i=A[4],o=A[5],a=A[6],c=A[7],l=A[8],u=l*i-o*c,h=o*a-l*s,f=c*s-i*a,m=t*u+n*h+r*f;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const d=1/m;return A[0]=u*d,A[1]=(r*c-l*n)*d,A[2]=(o*n-r*i)*d,A[3]=h*d,A[4]=(l*t-r*a)*d,A[5]=(r*s-o*t)*d,A[6]=f*d,A[7]=(n*a-c*t)*d,A[8]=(i*t-n*s)*d,this}transpose(){let A;const t=this.elements;return A=t[1],t[1]=t[3],t[3]=A,A=t[2],t[2]=t[6],t[6]=A,A=t[5],t[5]=t[7],t[7]=A,this}getNormalMatrix(A){return this.setFromMatrix4(A).invert().transpose()}transposeIntoArray(A){const t=this.elements;return A[0]=t[0],A[1]=t[3],A[2]=t[6],A[3]=t[1],A[4]=t[4],A[5]=t[7],A[6]=t[2],A[7]=t[5],A[8]=t[8],this}setUvTransform(A,t,n,r,s,i,o){const a=Math.cos(s),c=Math.sin(s);return this.set(n*a,n*c,-n*(a*i+c*o)+i+A,-r*c,r*a,-r*(-c*i+a*o)+o+t,0,0,1),this}scale(A,t){return this.premultiply(Cd.makeScale(A,t)),this}rotate(A){return this.premultiply(Cd.makeRotation(-A)),this}translate(A,t){return this.premultiply(Cd.makeTranslation(A,t)),this}makeTranslation(A,t){return A.isVector2?this.set(1,0,A.x,0,1,A.y,0,0,1):this.set(1,0,A,0,1,t,0,0,1),this}makeRotation(A){const t=Math.cos(A),n=Math.sin(A);return this.set(t,-n,0,n,t,0,0,0,1),this}makeScale(A,t){return this.set(A,0,0,0,t,0,0,0,1),this}equals(A){const t=this.elements,n=A.elements;for(let r=0;r<9;r++)if(t[r]!==n[r])return!1;return!0}fromArray(A,t=0){for(let n=0;n<9;n++)this.elements[n]=A[n+t];return this}toArray(A=[],t=0){const n=this.elements;return A[t]=n[0],A[t+1]=n[1],A[t+2]=n[2],A[t+3]=n[3],A[t+4]=n[4],A[t+5]=n[5],A[t+6]=n[6],A[t+7]=n[7],A[t+8]=n[8],A}clone(){return new this.constructor().fromArray(this.elements)}}const Cd=new Ma,ib=new Ma().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),ob=new Ma().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function DP(){const e={enabled:!0,workingColorSpace:eb,spaces:{},convert:function(r,s,i){return this.enabled===!1||s===i||!s||!i||(this.spaces[s].transfer===Rd&&(r.r=no(r.r),r.g=no(r.g),r.b=no(r.b)),this.spaces[s].primaries!==this.spaces[i].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[i].fromXYZ)),this.spaces[i].transfer===Rd&&(r.r=ro(r.r),r.g=ro(r.g),r.b=ro(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===rP?tb:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,i){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[i].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},A=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],n=[.3127,.329];return e.define({[eb]:{primaries:A,whitePoint:n,transfer:tb,toXYZ:ib,fromXYZ:ob,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:Qn},outputColorSpaceConfig:{drawingBufferColorSpace:Qn}},[Qn]:{primaries:A,whitePoint:n,transfer:Rd,toXYZ:ib,fromXYZ:ob,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:Qn}}}),e}const Kn=DP();function no(e){return e<.04045?e*.0773993808:Math.pow(e*.9478672986+.0521327014,2.4)}function ro(e){return e<.0031308?e*12.92:1.055*Math.pow(e,.41666)-.055}const ab={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ds={h:0,s:0,l:0},bl={h:0,s:0,l:0};function zd(e,A,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?e+(A-e)*6*t:t<1/2?A:t<2/3?e+(A-e)*6*(2/3-t):e}class yl{constructor(A,t,n){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(A,t,n)}set(A,t,n){if(t===void 0&&n===void 0){const r=A;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(A,t,n);return this}setScalar(A){return this.r=A,this.g=A,this.b=A,this}setHex(A,t=Qn){return A=Math.floor(A),this.r=(A>>16&255)/255,this.g=(A>>8&255)/255,this.b=(A&255)/255,Kn.toWorkingColorSpace(this,t),this}setRGB(A,t,n,r=Kn.workingColorSpace){return this.r=A,this.g=t,this.b=n,Kn.toWorkingColorSpace(this,r),this}setHSL(A,t,n,r=Kn.workingColorSpace){if(A=Id(A,1),t=vn(t,0,1),n=vn(n,0,1),t===0)this.r=this.g=this.b=n;else{const s=n<=.5?n*(1+t):n+t-n*t,i=2*n-s;this.r=zd(i,s,A+1/3),this.g=zd(i,s,A),this.b=zd(i,s,A-1/3)}return Kn.toWorkingColorSpace(this,r),this}setStyle(A,t=Qn){function n(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+A+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(A)){let s;const i=r[1],o=r[2];switch(i){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return n(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+A)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(A)){const s=r[1],i=s.length;if(i===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(i===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+A)}else if(A&&A.length>0)return this.setColorName(A,t);return this}setColorName(A,t=Qn){const n=ab[A.toLowerCase()];return n!==void 0?this.setHex(n,t):console.warn("THREE.Color: Unknown color "+A),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(A){return this.r=A.r,this.g=A.g,this.b=A.b,this}copySRGBToLinear(A){return this.r=no(A.r),this.g=no(A.g),this.b=no(A.b),this}copyLinearToSRGB(A){return this.r=ro(A.r),this.g=ro(A.g),this.b=ro(A.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(A=Qn){return Kn.fromWorkingColorSpace(Tt.copy(this),A),Math.round(vn(Tt.r*255,0,255))*65536+Math.round(vn(Tt.g*255,0,255))*256+Math.round(vn(Tt.b*255,0,255))}getHexString(A=Qn){return("000000"+this.getHex(A).toString(16)).slice(-6)}getHSL(A,t=Kn.workingColorSpace){Kn.fromWorkingColorSpace(Tt.copy(this),t);const n=Tt.r,r=Tt.g,s=Tt.b,i=Math.max(n,r,s),o=Math.min(n,r,s);let a,c;const l=(o+i)/2;if(o===i)a=0,c=0;else{const u=i-o;switch(c=l<=.5?u/(i+o):u/(2-i-o),i){case n:a=(r-s)/u+(r<s?6:0);break;case r:a=(s-n)/u+2;break;case s:a=(n-r)/u+4;break}a/=6}return A.h=a,A.s=c,A.l=l,A}getRGB(A,t=Kn.workingColorSpace){return Kn.fromWorkingColorSpace(Tt.copy(this),t),A.r=Tt.r,A.g=Tt.g,A.b=Tt.b,A}getStyle(A=Qn){Kn.fromWorkingColorSpace(Tt.copy(this),A);const t=Tt.r,n=Tt.g,r=Tt.b;return A!==Qn?`color(${A} ${t.toFixed(3)} ${n.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(n*255)},${Math.round(r*255)})`}offsetHSL(A,t,n){return this.getHSL(ds),this.setHSL(ds.h+A,ds.s+t,ds.l+n)}add(A){return this.r+=A.r,this.g+=A.g,this.b+=A.b,this}addColors(A,t){return this.r=A.r+t.r,this.g=A.g+t.g,this.b=A.b+t.b,this}addScalar(A){return this.r+=A,this.g+=A,this.b+=A,this}sub(A){return this.r=Math.max(0,this.r-A.r),this.g=Math.max(0,this.g-A.g),this.b=Math.max(0,this.b-A.b),this}multiply(A){return this.r*=A.r,this.g*=A.g,this.b*=A.b,this}multiplyScalar(A){return this.r*=A,this.g*=A,this.b*=A,this}lerp(A,t){return this.r+=(A.r-this.r)*t,this.g+=(A.g-this.g)*t,this.b+=(A.b-this.b)*t,this}lerpColors(A,t,n){return this.r=A.r+(t.r-A.r)*n,this.g=A.g+(t.g-A.g)*n,this.b=A.b+(t.b-A.b)*n,this}lerpHSL(A,t){this.getHSL(ds),A.getHSL(bl);const n=Ga(ds.h,bl.h,t),r=Ga(ds.s,bl.s,t),s=Ga(ds.l,bl.l,t);return this.setHSL(n,r,s),this}setFromVector3(A){return this.r=A.x,this.g=A.y,this.b=A.z,this}applyMatrix3(A){const t=this.r,n=this.g,r=this.b,s=A.elements;return this.r=s[0]*t+s[3]*n+s[6]*r,this.g=s[1]*t+s[4]*n+s[7]*r,this.b=s[2]*t+s[5]*n+s[8]*r,this}equals(A){return A.r===this.r&&A.g===this.g&&A.b===this.b}fromArray(A,t=0){return this.r=A[t],this.g=A[t+1],this.b=A[t+2],this}toArray(A=[],t=0){return A[t]=this.r,A[t+1]=this.g,A[t+2]=this.b,A}fromBufferAttribute(A,t){return this.r=A.getX(t),this.g=A.getY(t),this.b=A.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const Tt=new yl;yl.NAMES=ab,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Ab}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Ab),new xa,new xa;function Wn(e,A,t){return Math.max(A,Math.min(t,e))}function cb(e){return e/180*Math.PI}function lb(e){return e*180/Math.PI}const BP=Fw("089fad0j9awfem09wavefc09uwaef");function EP(){return BP()}function kP(e){return Fw(e)()}function It(e,A){const t=Math.min(e,A),r=Math.max(e,A)-t+1;return t+Math.floor(EP()*r)}function ub(e,A,t){const n=Math.min(A,t),s=Math.max(A,t)-n+1;return n+Math.floor(kP(e)*s)}function ba(e,A,t){typeof e!="number"&&(e=0,A=0,t=1),typeof A!="number"&&(A=e,e=0,t=1),typeof t!="number"&&(t=1);const n=[],r=Math.min(e,A),s=Math.max(e,A);for(let i=r;i<=s;i+=t)n.push(i);return n}function vP(e){return e[It(0,e.length-1)]}function YP(e,A){return A[ub(e,0,A.length-1)]}function Yn(...e){return vP(e.flat())}function NP(e,...A){return YP(e,A.flat())}function ZP(e){return[...new Set(e)].filter(G)}function ms(e){return G(e)&&G(e.x)&&G(e.y)}function Le(e,A){switch(A){case bA.NORTH:--e.y;break;case bA.SOUTH:++e.y;break;case bA.WEST:--e.x;break;case bA.EAST:++e.x;break}return e}function Hd(e,A){return e<0?bA.WEST:e>0?bA.EAST:A<0?bA.NORTH:A>0?bA.SOUTH:bA.IDLE}function Nn(e,A){return Hd(A.x-e.x,A.y-e.y)}const Ld={idle:"IDLE",up:"NORTH",down:"SOUTH",left:"WEST",right:"EAST",by:"BY",at:"AT",flow:"FLOW",seek:"SEEK",rndns:"RNDNS",rndne:"RNDNE",rnd:"RND",cw:"CW",ccw:"CCW",opp:"OPP",rndp:"RNDP",away:"AWAY",toward:"TOWARD",find:"FIND",flee:"FLEE",to:"TO",i:"IDLE",u:"NORTH",north:"NORTH",n:"NORTH",d:"SOUTH",south:"SOUTH",s:"SOUTH",l:"WEST",west:"WEST",w:"WEST",r:"EAST",east:"EAST",e:"EAST",over:"OVER",under:"UNDER",ground:"GROUND",within:"WITHIN",awayby:"AWAYBY",elements:"ELEMENTS"};function gn(e){return se(e)&&hb(e[0])}function hb(e){return G(bA[e])&&wA(e)}function fb(e){const A=bA[e];return G(A)?A:bA.IDLE}function ya(e){if(wA(e))return Ld[CA(e)]}function OP(e){if(gn(e))return e;if(hb(e))return[e];const A=ya(e);if(G(A))return[A]}function db(e){const A=w.words[e],t=OP(A);return gn(t)?[t,e+1]:[void 0,e]}function mb(e){const A=[];let[t,n]=db(e);for(;gn(t);){switch(A.push(...t),t[0]){case"AT":case"BY":case"AWAY":case"TOWARD":{const[o,a,c]=aA(w.words,n,[F.NUMBER,F.NUMBER]);A.push(o,a),n=c;break}case"FLEE":case"FIND":{const[o,a]=aA(w.words,n,[F.KIND]);console.info("kind",o),n=a;break}case"TO":{const[o,a,c]=aA(w.words,n,[F.DIR,F.DIR]),l=w.element?.x??0,u=w.element?.y??0;o.destpt.x-=l,o.destpt.y-=u,a.destpt.x-=l,a.destpt.y-=u,A.push(l+o.destpt.x+a.destpt.x,u+o.destpt.y+a.destpt.y),n=c;break}case"WITHIN":case"AWAYBY":{const[o,a]=aA(w.words,n,[F.NUMBER]);A.push(o),n=a;break}}const r=n;switch(t[0]){case"CW":case"CCW":case"OPP":case"RNDP":case"OVER":case"UNDER":case"WITHIN":case"AWAYBY":case"ELEMENTS":break;default:return[A,n]}const[s,i]=db(r);t=s,n=i}return A.length?[A,n]:[void 0,e]}function TP(e){if(G(e)&&(e<XA.ONBLACK||e>XA.ONCLEAR))return e}function Ud(e){return G(e)&&e>XA.WHITE&&e<XA.ONCLEAR?e-XA.ONBLACK:void 0}const _a={black:"BLACK",dkblue:"DKBLUE",dkgreen:"DKGREEN",dkcyan:"DKCYAN",dkred:"DKRED",dkpurple:"DKPURPLE",dkyellow:"DKYELLOW",ltgray:"LTGRAY",dkgray:"DKGRAY",blue:"BLUE",green:"GREEN",cyan:"CYAN",red:"RED",purple:"PURPLE",yellow:"YELLOW",white:"WHITE",brown:"DKYELLOW",dkwhite:"LTGRAY",ltgrey:"LTGRAY",gray:"LTGRAY",grey:"LTGRAY",dkgrey:"DKGRAY",ltblack:"DKGRAY",onblack:"ONBLACK",ondkblue:"ONDKBLUE",ondkgreen:"ONDKGREEN",ondkcyan:"ONDKCYAN",ondkred:"ONDKRED",ondkpurple:"ONDKPURPLE",ondkyellow:"ONDKYELLOW",onltgray:"ONLTGRAY",ondkgray:"ONDKGRAY",onblue:"ONBLUE",ongreen:"ONGREEN",oncyan:"ONCYAN",onred:"ONRED",onpurple:"ONPURPLE",onyellow:"ONYELLOW",onwhite:"ONWHITE",onbrown:"ONDKYELLOW",ondkwhite:"ONLTGRAY",onltgrey:"ONLTGRAY",ongray:"ONLTGRAY",ongrey:"ONLTGRAY",ondkgrey:"ONDKGRAY",onltblack:"ONDKGRAY",onclear:"ONCLEAR",blblack:"BLBLACK",bldkblue:"BLDKBLUE",bldkgreen:"BLDKGREEN",bldkcyan:"BLDKCYAN",bldkred:"BLDKRED",bldkpurple:"BLDKPURPLE",bldkyellow:"BLDKYELLOW",blltgray:"BLLTGRAY",bldkgray:"BLDKGRAY",blblue:"BLBLUE",blgreen:"BLGREEN",blcyan:"BLCYAN",blred:"BLRED",blpurple:"BLPURPLE",blyellow:"BLYELLOW",blwhite:"BLWHITE",blbrown:"BLDKYELLOW",bldkwhite:"BLLTGRAY",blltgrey:"BLLTGRAY",blgray:"BLLTGRAY",blgrey:"BLLTGRAY",bldkgrey:"BLDKGRAY",blltblack:"BLDKGRAY"};function ft(e){return se(e)&&gb(e[0])}function SP(e){return ft(e)&&e[0].startsWith("ON")}function gb(e){return G(XA[e])&&wA(e)}function so(e){if(wA(e))return _a[CA(e)]}function gs(e,A){return[G(e)?`${XA[e]}`:void 0,G(A)?`ON${XA[A]}`:void 0].filter(G)}function _l(e){return e.map(A=>XA[A]).find(A=>G(A)&&A<XA.ONBLACK)}function Dl(e){return e.map(A=>XA[A]).find(A=>G(A)&&A>=XA.ONBLACK)}function PP(e){if(ft(e))return e;if(gb(e))return[e];const A=so(e);if(G(A))return[A]}function pb(e){const A=w.words[e],t=PP(A);return ft(t)?[t,e+1]:[void 0,e]}function Bl(e){const A=[];let t=e;const n=parseFloat(w.words[e]);if(kA(n))return[gs(n,void 0),e+1];const[r,s]=pb(e);ft(r)&&(A.push(...r),t=s);const[i,o]=pb(s);return SP(i)&&(A.push(...i),t=o),A.length?[A,t]:[void 0,e]}function io(e){const A={};for(let t=0;t<e.length;++t){const n=e[t],r=XA[n];G(r)&&(r<XA.ONBLACK||r>XA.ONCLEAR?A.color=r:A.bg=Ud(r))}return A}const jA=60,re=25,$d=jA*re,ps=3,jP=new Date("1980/09/02");var Fd=(e=>(e[e.width=0]="width",e[e.height=1]="height",e[e.bits=2]="bits",e))(Fd||{}),El=(e=>(e[e.kind=0]="kind",e[e.id=1]="id",e[e.x=2]="x",e[e.y=3]="y",e[e.lx=4]="lx",e[e.ly=5]="ly",e[e.code=6]="code",e[e.name=7]="name",e[e.char=8]="char",e[e.color=9]="color",e[e.bg=10]="bg",e[e.light=11]="light",e[e.player=12]="player",e[e.bucket=13]="bucket",e[e.pushable=14]="pushable",e[e.collision=15]="collision",e[e.breakable=16]="breakable",e[e.tickertext=17]="tickertext",e[e.tickertime=18]="tickertime",e[e.p1=19]="p1",e[e.p2=20]="p2",e[e.p3=21]="p3",e[e.cycle=22]="cycle",e[e.stepx=23]="stepx",e[e.stepy=24]="stepy",e[e.sender=25]="sender",e[e.arg=26]="arg",e[e.stopped=27]="stopped",e[e.removed=28]="removed",e[e.party=29]="party",e[e.group=30]="group",e[e.lightdir=31]="lightdir",e[e.item=32]="item",e[e.p4=33]="p4",e[e.p5=34]="p5",e[e.p6=35]="p6",e[e.displaychar=36]="displaychar",e[e.displaycolor=37]="displaycolor",e[e.displaybg=38]="displaybg",e[e.shootx=39]="shootx",e[e.shooty=40]="shooty",e[e.p7=41]="p7",e[e.p8=42]="p8",e[e.p9=43]="p9",e[e.p10=44]="p10",e))(El||{}),Qd=(e=>(e[e.terrain=0]="terrain",e[e.objects=1]="objects",e[e.isdark=2]="isdark",e[e.over=3]="over",e[e.under=4]="under",e[e.exitnorth=5]="exitnorth",e[e.exitsouth=6]="exitsouth",e[e.exitwest=7]="exitwest",e[e.exiteast=8]="exiteast",e[e.timelimit=9]="timelimit",e[e.restartonzap=10]="restartonzap",e[e.maxplayershots=11]="maxplayershots",e[e.camera=12]="camera",e[e.graphics=13]="graphics",e[e.b1=14]="b1",e[e.b2=15]="b2",e[e.b3=16]="b3",e[e.b4=17]="b4",e[e.b5=18]="b5",e[e.b6=19]="b6",e[e.b7=20]="b7",e[e.b8=21]="b8",e[e.b9=22]="b9",e[e.b10=23]="b10",e[e.charset=24]="charset",e[e.palette=25]="palette",e))(Qd||{}),Kd=(e=>(e[e.id=0]="id",e[e.name=1]="name",e[e.timestamp=2]="timestamp",e[e.activelist=3]="activelist",e[e.pages=4]="pages",e[e.flags=5]="flags",e[e.token=6]="token",e))(Kd||{}),Wd=(e=>(e[e.id=0]="id",e[e.code=1]="code",e[e.board=2]="board",e[e.object=3]="object",e[e.terrain=4]="terrain",e[e.charset=5]="charset",e[e.palette=6]="palette",e[e.eighttrack=7]="eighttrack",e))(Wd||{}),NA=(e=>(e[e.ERROR=0]="ERROR",e[e.LOADER=1]="LOADER",e[e.BOARD=2]="BOARD",e[e.OBJECT=3]="OBJECT",e[e.TERRAIN=4]="TERRAIN",e[e.CHARSET=5]="CHARSET",e[e.PALETTE=6]="PALETTE",e))(NA||{}),LA=(e=>(e.MAIN="main",e.TEMP="temp",e.TITLE="title",e.PLAYER="player",e.GADGETSTORE="gadgetstore",e))(LA||{});function Ai(e,A){if(!G(e)||!ft(A))return;const{color:t,bg:n}=io(A);G(t)&&(e.color=t),G(n)&&(e.bg=n)}function kl(e){return G(e?.id)?Ur(e,El,{category:Ee,kinddata:Ee,stopped:Ee,removed:Ee,bucket:Ee}):Ur(e,El,{id:Ee,x:Ee,y:Ee,lx:Ee,ly:Ee,code:Ee,category:Ee,kinddata:Ee,stopped:Ee,removed:Ee,bucket:Ee})}function vl(e){return wa(e,El)}function Me(e){return e?.category===qt.ISOBJECT}function wb(){return{id:Ke()}}const Da=14,Yl=3,Mr=8,$r=14,oo=16;var Gb=(e=>(e[e.BLANK=0]="BLANK",e[e.TILES=1]="TILES",e[e.SPRITES=2]="SPRITES",e[e.DITHER=3]="DITHER",e[e.MEDIA=4]="MEDIA",e[e.CONTROL=5]="CONTROL",e))(Gb||{}),Nl=(e=>(e[e.FAR=1]="FAR",e[e.MID=1.5]="MID",e[e.NEAR=3]="NEAR",e))(Nl||{});function Ba(e,A){return new Array(e).fill(A)}function RP(e,A,t,n,r=0){const s=t*n;return{id:`t:${e}:${A}`,type:1,width:t,height:n,char:Ba(s,0),color:Ba(s,0),bg:Ba(s,r),stats:Ba(s,0)}}function IP(e,A,t,n=1,r=15){return{id:`s:${e}:${A}:${t}`,x:0,y:0,char:n,color:r,bg:XA.ONCLEAR,stat:0}}function CP(e,A){return{id:`${e}:${A}`,type:2,sprites:[]}}function zP(e,A,t,n,r=0){const s=t*n;return{id:`d:${e}:${A}`,type:3,width:t,height:n,alphas:Ba(s,r)}}function HP(e,A,t,n){return{id:`m:${e}:${A}`,type:4,mime:t,media:n}}function LP(e){return e.filter(A=>A.type===4)}function UP(e,A){return{id:`c:${e}:${A}`,type:5,focusx:0,focusy:0,focusid:e,viewscale:1.5,graphics:"flat",facing:0}}function xb(e,A){return`${e}:${A}`}const $P=1,FP=16,QP=256;var Re=(e=>(e[e.NONE=0]="NONE",e[e.ALT=1]="ALT",e[e.CTRL=2]="CTRL",e[e.SHIFT=3]="SHIFT",e[e.MOVE_UP=4]="MOVE_UP",e[e.MOVE_DOWN=5]="MOVE_DOWN",e[e.MOVE_LEFT=6]="MOVE_LEFT",e[e.MOVE_RIGHT=7]="MOVE_RIGHT",e[e.OK_BUTTON=8]="OK_BUTTON",e[e.CANCEL_BUTTON=9]="CANCEL_BUTTON",e[e.MENU_BUTTON=10]="MENU_BUTTON",e))(Re||{});function Mb(e,A){return{width:e,height:A,size:e*A,bits:new Uint8Array(e*A).fill(0)}}function bb(e){const A=Math.floor(e.length/Yl);if(A*Yl!==e.length)return;const t=Mb(3,A);for(let n=0;n<t.bits.length;++n)t.bits[n]=e[n];return t}function KP(e,A){return e&1<<A?255:0}function yb(e){const A=Math.floor(e.length/Da);if(A*Da!==e.length)return;const t=Math.ceil(A/oo),n=Mr*oo,r=Mb(n,$r*t);let s=0,i=0,o=0;for(let a=0;a<e.length;++a){const c=i*$r+o,l=e[a];for(let u=0;u<Mr;++u){const h=s*Mr+u;r.bits[h+c*n]=KP(l,7-u)}++o,o===$r&&(o=0,++s,s===oo&&(s=0,++i))}return r}function WP(e,A,t){if(!G(A))return;const n=Math.floor(A.bits.length/Da);if(t<0||t>255||e.length===Da||n*Da!==A.bits.length)return;const r=Mr*oo,s=t%oo*Mr,i=Math.floor(t/oo)*$r,o=0;for(let a=0;a<$r;++a)for(let c=0;c<Mr;++c){const l=s+c,u=i+a;A.bits[l+u*r]=e[o]?255:0}}const VP=Sc("000000000000000000000000000000007e81a58181bd99817e00000000007effdbffffc3e7ff7e0000000000006cfefefefe7c381000000000000010387cfe7c3810000000000000183c3ce7e7e718183c0000000000183c7effff7e18183c0000000000000000183c3c180000000000ffffffffffe7c3c3e7ffffffffff000000003c664242663c00000000ffffffffc399bdbd99c3ffffffff00001e0e1a3278cccccc7800000000003c6666663c187e181800000000003f333f30303070f0e000000000007f637f63636367e7e6c0000000001818db3ce73cdb1818000000000080c0e0f8fef8e0c080000000000002060e3efe3e0e06020000000000183c7e1818187e3c18000000000066666666666600666600000000007fdbdbdb7b1b1b1b1b000000007cc660386cc6c66c380cc67c000000000000000000fefefe0000000000183c7e1818187e3c187e00000000183c7e18181818181800000000001818181818187e3c1800000000000000180cfe0c180000000000000000003060fe603000000000000000000000c0c0c0fe000000000000000000286cfe6c2800000000000000001038387c7cfefe00000000000000fefe7c7c3838100000000000000000000000000000000000000000183c3c3c1818001818000000006666662400000000000000000000006c6cfe6c6c6cfe6c6c00000018187cc6c2c07c0686c67c18180000000000c2c60c183066c60000000000386c6c3876dccccc76000000003030306000000000000000000000000c183030303030180c000000000030180c0c0c0c0c183000000000000000663cff3c6600000000000000000018187e181800000000000000000000000000181818300000000000000000fe000000000000000000000000000000001818000000000002060c183060c0800000000000007cc6cedef6e6c6c67c000000000018387818181818187e00000000007cc6060c183060c6fe00000000007cc606063c0606c67c00000000000c1c3c6cccfe0c0c1e0000000000fec0c0c0fc0606c67c00000000003860c0c0fcc6c6c67c0000000000fec6060c183030303000000000007cc6c6c67cc6c6c67c00000000007cc6c6c67e06060c78000000000000181800000018180000000000000018180000001818300000000000060c18306030180c0600000000000000007e00007e000000000000006030180c060c18306000000000007cc6c60c181800181800000000007cc6c6dedededcc07c000000000010386cc6c6fec6c6c60000000000fc6666667c666666fc00000000003c66c2c0c0c0c2663c0000000000f86c66666666666cf80000000000fe66626878686266fe0000000000fe66626878686060f000000000003c66c2c0c0dec6663a0000000000c6c6c6c6fec6c6c6c600000000003c181818181818183c00000000001e0c0c0c0c0ccccc780000000000e6666c6c786c6c66e60000000000f060606060606266fe0000000000c6eefefed6c6c6c6c60000000000c6e6f6fedecec6c6c60000000000386cc6c6c6c6c66c380000000000fc6666667c606060f000000000007cc6c6c6c6d6de7c0c0e00000000fc6666667c6c6666e600000000007cc6c660380cc6c67c00000000007e7e5a18181818183c0000000000c6c6c6c6c6c6c6c67c0000000000c6c6c6c6c6c66c38100000000000c6c6c6c6d6d6fe7c6c0000000000c6c66c3838386cc6c60000000000666666663c1818183c0000000000fec68c183060c2c6fe00000000003c303030303030303c000000000080c0e070381c0e060200000000003c0c0c0c0c0c0c0c3c00000010386cc600000000000000000000000000000000000000000000ff0030301800000000000000000000000000000000780c7ccccc760000000000e06060786c6666667c00000000000000007cc6c0c0c67c00000000001c0c0c3c6ccccccc7600000000000000007cc6fec0c67c0000000000386c6460f0606060f0000000000000000076cccccc7c0ccc78000000e060606c76666666e6000000000018180038181818183c00000000000606000e0606060666663c000000e06060666c786c66e6000000000038181818181818183c0000000000000000ecfed6d6d6c60000000000000000dc666666666600000000000000007cc6c6c6c67c0000000000000000dc6666667c6060f000000000000076cccccc7c0c0c1e000000000000dc76666060f000000000000000007cc6701cc67c0000000000103030fc303030361c0000000000000000cccccccccc760000000000000000666666663c180000000000000000c6c6d6d6fe6c0000000000000000c66c38386cc60000000000000000c6c6c6c67e060cf8000000000000fecc183066fe00000000000e181818701818180e00000000001818181800181818180000000000701818180e18181870000000000076dc000000000000000000000000000010386cc6c6fe0000000000003c66c2c0c0c2663c0c067c000000cccc00cccccccccc76000000000c1830007cc6fec0c67c0000000010386c00780c7ccccc760000000000cccc00780c7ccccc760000000060301800780c7ccccc7600000000386c3800780c7ccccc76000000000000003c6660663c0c063c00000010386c007cc6fec0c67c0000000000cccc007cc6fec0c67c00000000603018007cc6fec0c67c000000000066660038181818183c00000000183c660038181818183c000000006030180038181818183c00000000c6c610386cc6c6fec6c6000000386c3800386cc6c6fec6c600000018306000fe66607c6066fe00000000000000cc76367ed8d86e00000000003e6cccccfeccccccce0000000010386c007cc6c6c6c67c0000000000c6c6007cc6c6c6c67c00000000603018007cc6c6c6c67c000000003078cc00cccccccccc760000000060301800cccccccccc760000000000c6c600c6c6c6c67e060c780000c6c6386cc6c6c6c66c3800000000c6c600c6c6c6c6c6c67c0000000018183c666060663c181800000000386c6460f0606060e6fc000000000066663c187e187e181800000000f8ccccf8c4ccdeccccc6000000000e1b1818187e18181818d870000018306000780c7ccccc76000000000c18300038181818183c00000000183060007cc6c6c6c67c0000000018306000cccccccccc76000000000076dc00dc666666666600000076dc00c6e6f6fedecec6c6000000003c6c6c3e007e0000000000000000386c6c38007c000000000000000000303000303060c6c67c000000000000000000fec0c0c000000000000000000000fe0606060000000000c0c0c6ccd83060dc860c183e0000c0c0c6ccd83066ce9e3e060600000018180018183c3c3c1800000000000000366cd86c36000000000000000000d86c366cd80000000000114411441144114411441144114455aa55aa55aa55aa55aa55aa55aadd77dd77dd77dd77dd77dd77dd77181818181818181818181818181818181818181818f81818181818181818181818f818f818181818181836363636363636f636363636363600000000000000fe3636363636360000000000f818f81818181818183636363636f606f636363636363636363636363636363636363636360000000000fe06f63636363636363636363636f606fe00000000000036363636363636fe0000000000001818181818f818f800000000000000000000000000f8181818181818181818181818181f00000000000018181818181818ff00000000000000000000000000ff181818181818181818181818181f18181818181800000000000000ff00000000000018181818181818ff18181818181818181818181f181f1818181818183636363636363637363636363636363636363637303f00000000000000000000003f30373636363636363636363636f700ff0000000000000000000000ff00f736363636363636363636363730373636363636360000000000ff00ff0000000000003636363636f700f73636363636361818181818ff00ff00000000000036363636363636ff0000000000000000000000ff00ff18181818181800000000000000ff363636363636363636363636363f00000000000018181818181f181f00000000000000000000001f181f181818181818000000000000003f36363636363636363636363636ff3636363636361818181818ff18ff18181818181818181818181818f8000000000000000000000000001f181818181818ffffffffffffffffffffffffffff00000000000000fffffffffffffff0f0f0f0f0f0f0f0f0f0f0f0f0f00f0f0f0f0f0f0f0f0f0f0f0f0f0fffffffffffffff00000000000000000000000076dcd8d8dc76000000000000007cc6fcc6c6fcc0c040000000fec6c6c0c0c0c0c0c000000000000000fe6c6c6c6c6c6c0000000000fec66030183060c6fe00000000000000007ed8d8d8d87000000000000000666666667c6060c000000000000076dc181818181800000000007e183c6666663c187e0000000000386cc6c6fec6c66c380000000000386cc6c6c66c6c6cee00000000001e30180c3e6666663c00000000000000007edbdb7e0000000000000003067edbdbf37e60c000000000001c3060607c6060301c0000000000007cc6c6c6c6c6c6c6000000000000fe0000fe0000fe0000000000000018187e18180000ff000000000030180c060c1830007e00000000000c18306030180c007e00000000000e1b1b1818181818181818181818181818181818d8d8700000000000001818007e001818000000000000000076dc0076dc000000000000386c6c3800000000000000000000000000000018180000000000000000000000000018000000000000000f0c0c0c0c0cec6c3c1c00000000d86c6c6c6c6c000000000000000070d83060c8f800000000000000000000007c7c7c7c7c7c000000000000000000000000000000000000"),_b=Sc("00000000002a002a00002a2a2a00002a002a2a15002a2a2a15151515153f153f15153f3f3f15153f153f3f3f153f3f3f");var Db=typeof Pi=="object"&&Pi&&Pi.Object===Object&&Pi,qP=typeof self=="object"&&self&&self.Object===Object&&self,br=Db||qP||Function("return this")(),Zn=br.Symbol,Bb=Object.prototype,JP=Bb.hasOwnProperty,XP=Bb.toString,Ea=Zn?Zn.toStringTag:void 0;function Aj(e){var A=JP.call(e,Ea),t=e[Ea];try{e[Ea]=void 0;var n=!0}catch{}var r=XP.call(e);return n&&(A?e[Ea]=t:delete e[Ea]),r}var ej=Object.prototype,tj=ej.toString;function nj(e){return tj.call(e)}var rj="[object Null]",sj="[object Undefined]",Eb=Zn?Zn.toStringTag:void 0;function ws(e){return e==null?e===void 0?sj:rj:Eb&&Eb in Object(e)?Aj(e):nj(e)}function Vn(e){return e!=null&&typeof e=="object"}var ij="[object Symbol]";function Zl(e){return typeof e=="symbol"||Vn(e)&&ws(e)==ij}function Ol(e,A){for(var t=-1,n=e==null?0:e.length,r=Array(n);++t<n;)r[t]=A(e[t],t,e);return r}var fe=Array.isArray,kb=Zn?Zn.prototype:void 0,vb=kb?kb.toString:void 0;function Yb(e){if(typeof e=="string")return e;if(fe(e))return Ol(e,Yb)+"";if(Zl(e))return vb?vb.call(e):"";var A=e+"";return A=="0"&&1/e==-1/0?"-0":A}var oj=/\s/;function aj(e){for(var A=e.length;A--&&oj.test(e.charAt(A)););return A}var cj=/^\s+/;function lj(e){return e&&e.slice(0,aj(e)+1).replace(cj,"")}function On(e){var A=typeof e;return e!=null&&(A=="object"||A=="function")}var Nb=NaN,uj=/^[-+]0x[0-9a-f]+$/i,hj=/^0b[01]+$/i,fj=/^0o[0-7]+$/i,dj=parseInt;function mj(e){if(typeof e=="number")return e;if(Zl(e))return Nb;if(On(e)){var A=typeof e.valueOf=="function"?e.valueOf():e;e=On(A)?A+"":A}if(typeof e!="string")return e===0?e:+e;e=lj(e);var t=hj.test(e);return t||fj.test(e)?dj(e.slice(2),t?2:8):uj.test(e)?Nb:+e}var Zb=1/0,gj=17976931348623157e292;function pj(e){if(!e)return e===0?e:0;if(e=mj(e),e===Zb||e===-Zb){var A=e<0?-1:1;return A*gj}return e===e?e:0}function Tl(e){var A=pj(e),t=A%1;return A===A?t?A-t:A:0}function ao(e){return e}var wj="[object AsyncFunction]",Gj="[object Function]",xj="[object GeneratorFunction]",Mj="[object Proxy]";function Fr(e){if(!On(e))return!1;var A=ws(e);return A==Gj||A==xj||A==wj||A==Mj}var Vd=br["__core-js_shared__"],Ob=(function(){var e=/[^.]+$/.exec(Vd&&Vd.keys&&Vd.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();function bj(e){return!!Ob&&Ob in e}var yj=Function.prototype,_j=yj.toString;function ei(e){if(e!=null){try{return _j.call(e)}catch{}try{return e+""}catch{}}return""}var Dj=/[\\^$.*+?()[\]{}|]/g,Bj=/^\[object .+?Constructor\]$/,Ej=Function.prototype,kj=Object.prototype,vj=Ej.toString,Yj=kj.hasOwnProperty,Nj=RegExp("^"+vj.call(Yj).replace(Dj,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Zj(e){if(!On(e)||bj(e))return!1;var A=Fr(e)?Nj:Bj;return A.test(ei(e))}function Oj(e,A){return e?.[A]}function ti(e,A){var t=Oj(e,A);return Zj(t)?t:void 0}var qd=ti(br,"WeakMap"),Tb=Object.create,Tj=(function(){function e(){}return function(A){if(!On(A))return{};if(Tb)return Tb(A);e.prototype=A;var t=new e;return e.prototype=void 0,t}})();function Sj(e,A,t){switch(t.length){case 0:return e.call(A);case 1:return e.call(A,t[0]);case 2:return e.call(A,t[0],t[1]);case 3:return e.call(A,t[0],t[1],t[2])}return e.apply(A,t)}function dt(){}function Pj(e,A){var t=-1,n=e.length;for(A||(A=Array(n));++t<n;)A[t]=e[t];return A}var jj=800,Rj=16,Ij=Date.now;function Cj(e){var A=0,t=0;return function(){var n=Ij(),r=Rj-(n-t);if(t=n,r>0){if(++A>=jj)return arguments[0]}else A=0;return e.apply(void 0,arguments)}}function zj(e){return function(){return e}}var Sl=(function(){try{var e=ti(Object,"defineProperty");return e({},"",{}),e}catch{}})(),Hj=Sl?function(e,A){return Sl(e,"toString",{configurable:!0,enumerable:!1,value:zj(A),writable:!0})}:ao,Lj=Cj(Hj);function Sb(e,A){for(var t=-1,n=e==null?0:e.length;++t<n&&A(e[t],t,e)!==!1;);return e}function Pb(e,A,t,n){for(var r=e.length,s=t+-1;++s<r;)if(A(e[s],s,e))return s;return-1}function Uj(e){return e!==e}function $j(e,A,t){for(var n=t-1,r=e.length;++n<r;)if(e[n]===A)return n;return-1}function Jd(e,A,t){return A===A?$j(e,A,t):Pb(e,Uj,t)}function jb(e,A){var t=e==null?0:e.length;return!!t&&Jd(e,A,0)>-1}var Fj=9007199254740991,Qj=/^(?:0|[1-9]\d*)$/;function Pl(e,A){var t=typeof e;return A=A??Fj,!!A&&(t=="number"||t!="symbol"&&Qj.test(e))&&e>-1&&e%1==0&&e<A}function Xd(e,A,t){A=="__proto__"&&Sl?Sl(e,A,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[A]=t}function ka(e,A){return e===A||e!==e&&A!==A}var Kj=Object.prototype,Wj=Kj.hasOwnProperty;function jl(e,A,t){var n=e[A];(!(Wj.call(e,A)&&ka(n,t))||t===void 0&&!(A in e))&&Xd(e,A,t)}function Am(e,A,t,n){var r=!t;t||(t={});for(var s=-1,i=A.length;++s<i;){var o=A[s],a=void 0;a===void 0&&(a=e[o]),r?Xd(t,o,a):jl(t,o,a)}return t}var Rb=Math.max;function Vj(e,A,t){return A=Rb(A===void 0?e.length-1:A,0),function(){for(var n=arguments,r=-1,s=Rb(n.length-A,0),i=Array(s);++r<s;)i[r]=n[A+r];r=-1;for(var o=Array(A+1);++r<A;)o[r]=n[r];return o[A]=t(i),Sj(e,this,o)}}function em(e,A){return Lj(Vj(e,A,ao),e+"")}var qj=9007199254740991;function tm(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=qj}function yr(e){return e!=null&&tm(e.length)&&!Fr(e)}function Ib(e,A,t){if(!On(t))return!1;var n=typeof A;return(n=="number"?yr(t)&&Pl(A,t.length):n=="string"&&A in t)?ka(t[A],e):!1}function Jj(e){return em(function(A,t){var n=-1,r=t.length,s=r>1?t[r-1]:void 0,i=r>2?t[2]:void 0;for(s=e.length>3&&typeof s=="function"?(r--,s):void 0,i&&Ib(t[0],t[1],i)&&(s=r<3?void 0:s,r=1),A=Object(A);++n<r;){var o=t[n];o&&e(A,o,n,s)}return A})}var Xj=Object.prototype;function va(e){var A=e&&e.constructor,t=typeof A=="function"&&A.prototype||Xj;return e===t}function AR(e,A){for(var t=-1,n=Array(e);++t<e;)n[t]=A(t);return n}var eR="[object Arguments]";function Cb(e){return Vn(e)&&ws(e)==eR}var zb=Object.prototype,tR=zb.hasOwnProperty,nR=zb.propertyIsEnumerable,Rl=Cb((function(){return arguments})())?Cb:function(e){return Vn(e)&&tR.call(e,"callee")&&!nR.call(e,"callee")};function rR(){return!1}var Hb=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Lb=Hb&&typeof module=="object"&&module&&!module.nodeType&&module,sR=Lb&&Lb.exports===Hb,Ub=sR?br.Buffer:void 0,iR=Ub?Ub.isBuffer:void 0,Ya=iR||rR,oR="[object Arguments]",aR="[object Array]",cR="[object Boolean]",lR="[object Date]",uR="[object Error]",hR="[object Function]",fR="[object Map]",dR="[object Number]",mR="[object Object]",gR="[object RegExp]",pR="[object Set]",wR="[object String]",GR="[object WeakMap]",xR="[object ArrayBuffer]",MR="[object DataView]",bR="[object Float32Array]",yR="[object Float64Array]",_R="[object Int8Array]",DR="[object Int16Array]",BR="[object Int32Array]",ER="[object Uint8Array]",kR="[object Uint8ClampedArray]",vR="[object Uint16Array]",YR="[object Uint32Array]",Ie={};Ie[bR]=Ie[yR]=Ie[_R]=Ie[DR]=Ie[BR]=Ie[ER]=Ie[kR]=Ie[vR]=Ie[YR]=!0,Ie[oR]=Ie[aR]=Ie[xR]=Ie[cR]=Ie[MR]=Ie[lR]=Ie[uR]=Ie[hR]=Ie[fR]=Ie[dR]=Ie[mR]=Ie[gR]=Ie[pR]=Ie[wR]=Ie[GR]=!1;function NR(e){return Vn(e)&&tm(e.length)&&!!Ie[ws(e)]}function Il(e){return function(A){return e(A)}}var $b=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Na=$b&&typeof module=="object"&&module&&!module.nodeType&&module,ZR=Na&&Na.exports===$b,nm=ZR&&Db.process,Gs=(function(){try{var e=Na&&Na.require&&Na.require("util").types;return e||nm&&nm.binding&&nm.binding("util")}catch{}})(),Fb=Gs&&Gs.isTypedArray,rm=Fb?Il(Fb):NR,OR=Object.prototype,TR=OR.hasOwnProperty;function Qb(e,A){var t=fe(e),n=!t&&Rl(e),r=!t&&!n&&Ya(e),s=!t&&!n&&!r&&rm(e),i=t||n||r||s,o=i?AR(e.length,String):[],a=o.length;for(var c in e)(A||TR.call(e,c))&&!(i&&(c=="length"||r&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Pl(c,a)))&&o.push(c);return o}function Kb(e,A){return function(t){return e(A(t))}}var SR=Kb(Object.keys,Object),PR=Object.prototype,jR=PR.hasOwnProperty;function Wb(e){if(!va(e))return SR(e);var A=[];for(var t in Object(e))jR.call(e,t)&&t!="constructor"&&A.push(t);return A}function Tn(e){return yr(e)?Qb(e):Wb(e)}var RR=Object.prototype,IR=RR.hasOwnProperty,An=Jj(function(e,A){if(va(A)||yr(A)){Am(A,Tn(A),e);return}for(var t in A)IR.call(A,t)&&jl(e,t,A[t])});function CR(e){var A=[];if(e!=null)for(var t in Object(e))A.push(t);return A}var zR=Object.prototype,HR=zR.hasOwnProperty;function LR(e){if(!On(e))return CR(e);var A=va(e),t=[];for(var n in e)n=="constructor"&&(A||!HR.call(e,n))||t.push(n);return t}function Vb(e){return yr(e)?Qb(e,!0):LR(e)}var UR=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$R=/^\w*$/;function sm(e,A){if(fe(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Zl(e)?!0:$R.test(e)||!UR.test(e)||A!=null&&e in Object(A)}var Za=ti(Object,"create");function FR(){this.__data__=Za?Za(null):{},this.size=0}function QR(e){var A=this.has(e)&&delete this.__data__[e];return this.size-=A?1:0,A}var KR="__lodash_hash_undefined__",WR=Object.prototype,VR=WR.hasOwnProperty;function qR(e){var A=this.__data__;if(Za){var t=A[e];return t===KR?void 0:t}return VR.call(A,e)?A[e]:void 0}var JR=Object.prototype,XR=JR.hasOwnProperty;function AI(e){var A=this.__data__;return Za?A[e]!==void 0:XR.call(A,e)}var eI="__lodash_hash_undefined__";function tI(e,A){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Za&&A===void 0?eI:A,this}function ni(e){var A=-1,t=e==null?0:e.length;for(this.clear();++A<t;){var n=e[A];this.set(n[0],n[1])}}ni.prototype.clear=FR,ni.prototype.delete=QR,ni.prototype.get=qR,ni.prototype.has=AI,ni.prototype.set=tI;function nI(){this.__data__=[],this.size=0}function Cl(e,A){for(var t=e.length;t--;)if(ka(e[t][0],A))return t;return-1}var rI=Array.prototype,sI=rI.splice;function iI(e){var A=this.__data__,t=Cl(A,e);if(t<0)return!1;var n=A.length-1;return t==n?A.pop():sI.call(A,t,1),--this.size,!0}function oI(e){var A=this.__data__,t=Cl(A,e);return t<0?void 0:A[t][1]}function aI(e){return Cl(this.__data__,e)>-1}function cI(e,A){var t=this.__data__,n=Cl(t,e);return n<0?(++this.size,t.push([e,A])):t[n][1]=A,this}function Qr(e){var A=-1,t=e==null?0:e.length;for(this.clear();++A<t;){var n=e[A];this.set(n[0],n[1])}}Qr.prototype.clear=nI,Qr.prototype.delete=iI,Qr.prototype.get=oI,Qr.prototype.has=aI,Qr.prototype.set=cI;var Oa=ti(br,"Map");function lI(){this.size=0,this.__data__={hash:new ni,map:new(Oa||Qr),string:new ni}}function uI(e){var A=typeof e;return A=="string"||A=="number"||A=="symbol"||A=="boolean"?e!=="__proto__":e===null}function zl(e,A){var t=e.__data__;return uI(A)?t[typeof A=="string"?"string":"hash"]:t.map}function hI(e){var A=zl(this,e).delete(e);return this.size-=A?1:0,A}function fI(e){return zl(this,e).get(e)}function dI(e){return zl(this,e).has(e)}function mI(e,A){var t=zl(this,e),n=t.size;return t.set(e,A),this.size+=t.size==n?0:1,this}function Kr(e){var A=-1,t=e==null?0:e.length;for(this.clear();++A<t;){var n=e[A];this.set(n[0],n[1])}}Kr.prototype.clear=lI,Kr.prototype.delete=hI,Kr.prototype.get=fI,Kr.prototype.has=dI,Kr.prototype.set=mI;var gI="Expected a function";function im(e,A){if(typeof e!="function"||A!=null&&typeof A!="function")throw new TypeError(gI);var t=function(){var n=arguments,r=A?A.apply(this,n):n[0],s=t.cache;if(s.has(r))return s.get(r);var i=e.apply(this,n);return t.cache=s.set(r,i)||s,i};return t.cache=new(im.Cache||Kr),t}im.Cache=Kr;var pI=500;function wI(e){var A=im(e,function(n){return t.size===pI&&t.clear(),n}),t=A.cache;return A}var GI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xI=/\\(\\)?/g,MI=wI(function(e){var A=[];return e.charCodeAt(0)===46&&A.push(""),e.replace(GI,function(t,n,r,s){A.push(r?s.replace(xI,"$1"):n||t)}),A});function qb(e){return e==null?"":Yb(e)}function Hl(e,A){return fe(e)?e:sm(e,A)?[e]:MI(qb(e))}function Ta(e){if(typeof e=="string"||Zl(e))return e;var A=e+"";return A=="0"&&1/e==-1/0?"-0":A}function om(e,A){A=Hl(A,e);for(var t=0,n=A.length;e!=null&&t<n;)e=e[Ta(A[t++])];return t&&t==n?e:void 0}function bI(e,A,t){var n=e==null?void 0:om(e,A);return n===void 0?t:n}function am(e,A){for(var t=-1,n=A.length,r=e.length;++t<n;)e[r+t]=A[t];return e}var Jb=Zn?Zn.isConcatSpreadable:void 0;function yI(e){return fe(e)||Rl(e)||!!(Jb&&e&&e[Jb])}function cm(e,A,t,n,r){var s=-1,i=e.length;for(t||(t=yI),r||(r=[]);++s<i;){var o=e[s];t(o)?am(r,o):n||(r[r.length]=o)}return r}function pn(e){var A=e==null?0:e.length;return A?cm(e):[]}var Xb=Kb(Object.getPrototypeOf,Object);function lm(e,A,t){var n=-1,r=e.length;A<0&&(A=-A>r?0:r+A),t=t>r?r:t,t<0&&(t+=r),r=A>t?0:t-A>>>0,A>>>=0;for(var s=Array(r);++n<r;)s[n]=e[n+A];return s}function _I(e,A,t){var n=e.length;return t=t===void 0?n:t,!A&&t>=n?e:lm(e,A,t)}var DI="\\ud800-\\udfff",BI="\\u0300-\\u036f",EI="\\ufe20-\\ufe2f",kI="\\u20d0-\\u20ff",vI=BI+EI+kI,YI="\\ufe0e\\ufe0f",NI="\\u200d",ZI=RegExp("["+NI+DI+vI+YI+"]");function Ay(e){return ZI.test(e)}function OI(e){return e.split("")}var ey="\\ud800-\\udfff",TI="\\u0300-\\u036f",SI="\\ufe20-\\ufe2f",PI="\\u20d0-\\u20ff",jI=TI+SI+PI,RI="\\ufe0e\\ufe0f",II="["+ey+"]",um="["+jI+"]",hm="\\ud83c[\\udffb-\\udfff]",CI="(?:"+um+"|"+hm+")",ty="[^"+ey+"]",ny="(?:\\ud83c[\\udde6-\\uddff]){2}",ry="[\\ud800-\\udbff][\\udc00-\\udfff]",zI="\\u200d",sy=CI+"?",iy="["+RI+"]?",HI="(?:"+zI+"(?:"+[ty,ny,ry].join("|")+")"+iy+sy+")*",LI=iy+sy+HI,UI="(?:"+[ty+um+"?",um,ny,ry,II].join("|")+")",$I=RegExp(hm+"(?="+hm+")|"+UI+LI,"g");function FI(e){return e.match($I)||[]}function QI(e){return Ay(e)?FI(e):OI(e)}function KI(e){return function(A){A=qb(A);var t=Ay(A)?QI(A):void 0,n=t?t[0]:A.charAt(0),r=t?_I(t,1).join(""):A.slice(1);return n[e]()+r}}var oy=KI("toUpperCase");function WI(e,A,t,n){var r=-1,s=e==null?0:e.length;for(n&&s&&(t=e[++r]);++r<s;)t=A(t,e[r],r,e);return t}function VI(){this.__data__=new Qr,this.size=0}function qI(e){var A=this.__data__,t=A.delete(e);return this.size=A.size,t}function JI(e){return this.__data__.get(e)}function XI(e){return this.__data__.has(e)}var AC=200;function eC(e,A){var t=this.__data__;if(t instanceof Qr){var n=t.__data__;if(!Oa||n.length<AC-1)return n.push([e,A]),this.size=++t.size,this;t=this.__data__=new Kr(n)}return t.set(e,A),this.size=t.size,this}function _r(e){var A=this.__data__=new Qr(e);this.size=A.size}_r.prototype.clear=VI,_r.prototype.delete=qI,_r.prototype.get=JI,_r.prototype.has=XI,_r.prototype.set=eC;function tC(e,A){return e&&Am(A,Tn(A),e)}var ay=typeof exports=="object"&&exports&&!exports.nodeType&&exports,cy=ay&&typeof module=="object"&&module&&!module.nodeType&&module,nC=cy&&cy.exports===ay,ly=nC?br.Buffer:void 0,uy=ly?ly.allocUnsafe:void 0;function rC(e,A){var t=e.length,n=uy?uy(t):new e.constructor(t);return e.copy(n),n}function fm(e,A){for(var t=-1,n=e==null?0:e.length,r=0,s=[];++t<n;){var i=e[t];A(i,t,e)&&(s[r++]=i)}return s}function hy(){return[]}var sC=Object.prototype,iC=sC.propertyIsEnumerable,fy=Object.getOwnPropertySymbols,dm=fy?function(e){return e==null?[]:(e=Object(e),fm(fy(e),function(A){return iC.call(e,A)}))}:hy;function oC(e,A){return Am(e,dm(e),A)}var aC=Object.getOwnPropertySymbols,cC=aC?function(e){for(var A=[];e;)am(A,dm(e)),e=Xb(e);return A}:hy;function dy(e,A,t){var n=A(e);return fe(e)?n:am(n,t(e))}function mm(e){return dy(e,Tn,dm)}function lC(e){return dy(e,Vb,cC)}var gm=ti(br,"DataView"),pm=ti(br,"Promise"),co=ti(br,"Set"),my="[object Map]",uC="[object Object]",gy="[object Promise]",py="[object Set]",wy="[object WeakMap]",Gy="[object DataView]",hC=ei(gm),fC=ei(Oa),dC=ei(pm),mC=ei(co),gC=ei(qd),Sn=ws;(gm&&Sn(new gm(new ArrayBuffer(1)))!=Gy||Oa&&Sn(new Oa)!=my||pm&&Sn(pm.resolve())!=gy||co&&Sn(new co)!=py||qd&&Sn(new qd)!=wy)&&(Sn=function(e){var A=ws(e),t=A==uC?e.constructor:void 0,n=t?ei(t):"";if(n)switch(n){case hC:return Gy;case fC:return my;case dC:return gy;case mC:return py;case gC:return wy}return A});var pC=Object.prototype,wC=pC.hasOwnProperty;function GC(e){var A=e.length,t=new e.constructor(A);return A&&typeof e[0]=="string"&&wC.call(e,"index")&&(t.index=e.index,t.input=e.input),t}var Ll=br.Uint8Array;function xC(e){var A=new e.constructor(e.byteLength);return new Ll(A).set(new Ll(e)),A}function MC(e,A){var t=e.buffer;return new e.constructor(t,e.byteOffset,e.byteLength)}var bC=/\w*$/;function yC(e){var A=new e.constructor(e.source,bC.exec(e));return A.lastIndex=e.lastIndex,A}var xy=Zn?Zn.prototype:void 0,My=xy?xy.valueOf:void 0;function _C(e){return My?Object(My.call(e)):{}}function DC(e,A){var t=e.buffer;return new e.constructor(t,e.byteOffset,e.length)}var BC="[object Boolean]",EC="[object Date]",kC="[object Map]",vC="[object Number]",YC="[object RegExp]",NC="[object Set]",ZC="[object String]",OC="[object Symbol]",TC="[object ArrayBuffer]",SC="[object DataView]",PC="[object Float32Array]",jC="[object Float64Array]",RC="[object Int8Array]",IC="[object Int16Array]",CC="[object Int32Array]",zC="[object Uint8Array]",HC="[object Uint8ClampedArray]",LC="[object Uint16Array]",UC="[object Uint32Array]";function $C(e,A,t){var n=e.constructor;switch(A){case TC:return xC(e);case BC:case EC:return new n(+e);case SC:return MC(e);case PC:case jC:case RC:case IC:case CC:case zC:case HC:case LC:case UC:return DC(e);case kC:return new n;case vC:case ZC:return new n(e);case YC:return yC(e);case NC:return new n;case OC:return _C(e)}}function FC(e){return typeof e.constructor=="function"&&!va(e)?Tj(Xb(e)):{}}var QC="[object Map]";function KC(e){return Vn(e)&&Sn(e)==QC}var by=Gs&&Gs.isMap,WC=by?Il(by):KC,VC="[object Set]";function qC(e){return Vn(e)&&Sn(e)==VC}var yy=Gs&&Gs.isSet,JC=yy?Il(yy):qC,_y="[object Arguments]",XC="[object Array]",A3="[object Boolean]",e3="[object Date]",t3="[object Error]",Dy="[object Function]",n3="[object GeneratorFunction]",r3="[object Map]",s3="[object Number]",By="[object Object]",i3="[object RegExp]",o3="[object Set]",a3="[object String]",c3="[object Symbol]",l3="[object WeakMap]",u3="[object ArrayBuffer]",h3="[object DataView]",f3="[object Float32Array]",d3="[object Float64Array]",m3="[object Int8Array]",g3="[object Int16Array]",p3="[object Int32Array]",w3="[object Uint8Array]",G3="[object Uint8ClampedArray]",x3="[object Uint16Array]",M3="[object Uint32Array]",Ze={};Ze[_y]=Ze[XC]=Ze[u3]=Ze[h3]=Ze[A3]=Ze[e3]=Ze[f3]=Ze[d3]=Ze[m3]=Ze[g3]=Ze[p3]=Ze[r3]=Ze[s3]=Ze[By]=Ze[i3]=Ze[o3]=Ze[a3]=Ze[c3]=Ze[w3]=Ze[G3]=Ze[x3]=Ze[M3]=!0,Ze[t3]=Ze[Dy]=Ze[l3]=!1;function Ul(e,A,t,n,r,s){var i;if(i!==void 0)return i;if(!On(e))return e;var o=fe(e);if(o)return i=GC(e),Pj(e,i);var a=Sn(e),c=a==Dy||a==n3;if(Ya(e))return rC(e);if(a==By||a==_y||c&&!r)return i=c?{}:FC(e),oC(e,tC(i,e));if(!Ze[a])return r?e:{};i=$C(e,a),s||(s=new _r);var l=s.get(e);if(l)return l;s.set(e,i),JC(e)?e.forEach(function(f){i.add(Ul(f,A,t,f,e,s))}):WC(e)&&e.forEach(function(f,m){i.set(m,Ul(f,A,t,m,e,s))});var u=mm,h=o?void 0:u(e);return Sb(h||e,function(f,m){h&&(m=f,f=e[m]),jl(i,m,Ul(f,A,t,m,e,s))}),i}var b3=4;function Et(e){return Ul(e,b3)}function Sa(e){for(var A=-1,t=e==null?0:e.length,n=0,r=[];++A<t;){var s=e[A];s&&(r[n++]=s)}return r}var y3="__lodash_hash_undefined__";function _3(e){return this.__data__.set(e,y3),this}function D3(e){return this.__data__.has(e)}function lo(e){var A=-1,t=e==null?0:e.length;for(this.__data__=new Kr;++A<t;)this.add(e[A])}lo.prototype.add=lo.prototype.push=_3,lo.prototype.has=D3;function Ey(e,A){for(var t=-1,n=e==null?0:e.length;++t<n;)if(A(e[t],t,e))return!0;return!1}function wm(e,A){return e.has(A)}var B3=1,E3=2;function ky(e,A,t,n,r,s){var i=t&B3,o=e.length,a=A.length;if(o!=a&&!(i&&a>o))return!1;var c=s.get(e),l=s.get(A);if(c&&l)return c==A&&l==e;var u=-1,h=!0,f=t&E3?new lo:void 0;for(s.set(e,A),s.set(A,e);++u<o;){var m=e[u],d=A[u];if(n)var g=i?n(d,m,u,A,e,s):n(m,d,u,e,A,s);if(g!==void 0){if(g)continue;h=!1;break}if(f){if(!Ey(A,function(p,x){if(!wm(f,x)&&(m===p||r(m,p,t,n,s)))return f.push(x)})){h=!1;break}}else if(!(m===d||r(m,d,t,n,s))){h=!1;break}}return s.delete(e),s.delete(A),h}function k3(e){var A=-1,t=Array(e.size);return e.forEach(function(n,r){t[++A]=[r,n]}),t}function Gm(e){var A=-1,t=Array(e.size);return e.forEach(function(n){t[++A]=n}),t}var v3=1,Y3=2,N3="[object Boolean]",Z3="[object Date]",O3="[object Error]",T3="[object Map]",S3="[object Number]",P3="[object RegExp]",j3="[object Set]",R3="[object String]",I3="[object Symbol]",C3="[object ArrayBuffer]",z3="[object DataView]",vy=Zn?Zn.prototype:void 0,xm=vy?vy.valueOf:void 0;function H3(e,A,t,n,r,s,i){switch(t){case z3:if(e.byteLength!=A.byteLength||e.byteOffset!=A.byteOffset)return!1;e=e.buffer,A=A.buffer;case C3:return!(e.byteLength!=A.byteLength||!s(new Ll(e),new Ll(A)));case N3:case Z3:case S3:return ka(+e,+A);case O3:return e.name==A.name&&e.message==A.message;case P3:case R3:return e==A+"";case T3:var o=k3;case j3:var a=n&v3;if(o||(o=Gm),e.size!=A.size&&!a)return!1;var c=i.get(e);if(c)return c==A;n|=Y3,i.set(e,A);var l=ky(o(e),o(A),n,r,s,i);return i.delete(e),l;case I3:if(xm)return xm.call(e)==xm.call(A)}return!1}var L3=1,U3=Object.prototype,$3=U3.hasOwnProperty;function F3(e,A,t,n,r,s){var i=t&L3,o=mm(e),a=o.length,c=mm(A),l=c.length;if(a!=l&&!i)return!1;for(var u=a;u--;){var h=o[u];if(!(i?h in A:$3.call(A,h)))return!1}var f=s.get(e),m=s.get(A);if(f&&m)return f==A&&m==e;var d=!0;s.set(e,A),s.set(A,e);for(var g=i;++u<a;){h=o[u];var p=e[h],x=A[h];if(n)var y=i?n(x,p,h,A,e,s):n(p,x,h,e,A,s);if(!(y===void 0?p===x||r(p,x,t,n,s):y)){d=!1;break}g||(g=h=="constructor")}if(d&&!g){var E=e.constructor,B=A.constructor;E!=B&&"constructor"in e&&"constructor"in A&&!(typeof E=="function"&&E instanceof E&&typeof B=="function"&&B instanceof B)&&(d=!1)}return s.delete(e),s.delete(A),d}var Q3=1,Yy="[object Arguments]",Ny="[object Array]",$l="[object Object]",K3=Object.prototype,Zy=K3.hasOwnProperty;function W3(e,A,t,n,r,s){var i=fe(e),o=fe(A),a=i?Ny:Sn(e),c=o?Ny:Sn(A);a=a==Yy?$l:a,c=c==Yy?$l:c;var l=a==$l,u=c==$l,h=a==c;if(h&&Ya(e)){if(!Ya(A))return!1;i=!0,l=!1}if(h&&!l)return s||(s=new _r),i||rm(e)?ky(e,A,t,n,r,s):H3(e,A,a,t,n,r,s);if(!(t&Q3)){var f=l&&Zy.call(e,"__wrapped__"),m=u&&Zy.call(A,"__wrapped__");if(f||m){var d=f?e.value():e,g=m?A.value():A;return s||(s=new _r),r(d,g,t,n,s)}}return h?(s||(s=new _r),F3(e,A,t,n,r,s)):!1}function Mm(e,A,t,n,r){return e===A?!0:e==null||A==null||!Vn(e)&&!Vn(A)?e!==e&&A!==A:W3(e,A,t,n,Mm,r)}var V3=1,q3=2;function J3(e,A,t,n){var r=t.length,s=r;if(e==null)return!s;for(e=Object(e);r--;){var i=t[r];if(i[2]?i[1]!==e[i[0]]:!(i[0]in e))return!1}for(;++r<s;){i=t[r];var o=i[0],a=e[o],c=i[1];if(i[2]){if(a===void 0&&!(o in e))return!1}else{var l=new _r,u;if(!(u===void 0?Mm(c,a,V3|q3,n,l):u))return!1}}return!0}function Oy(e){return e===e&&!On(e)}function X3(e){for(var A=Tn(e),t=A.length;t--;){var n=A[t],r=e[n];A[t]=[n,r,Oy(r)]}return A}function Ty(e,A){return function(t){return t==null?!1:t[e]===A&&(A!==void 0||e in Object(t))}}function A2(e){var A=X3(e);return A.length==1&&A[0][2]?Ty(A[0][0],A[0][1]):function(t){return t===e||J3(t,e,A)}}function e2(e,A){return e!=null&&A in Object(e)}function Sy(e,A,t){A=Hl(A,e);for(var n=-1,r=A.length,s=!1;++n<r;){var i=Ta(A[n]);if(!(s=e!=null&&t(e,i)))break;e=e[i]}return s||++n!=r?s:(r=e==null?0:e.length,!!r&&tm(r)&&Pl(i,r)&&(fe(e)||Rl(e)))}function t2(e,A){return e!=null&&Sy(e,A,e2)}var n2=1,r2=2;function s2(e,A){return sm(e)&&Oy(A)?Ty(Ta(e),A):function(t){var n=bI(t,e);return n===void 0&&n===A?t2(t,e):Mm(A,n,n2|r2)}}function i2(e){return function(A){return A?.[e]}}function o2(e){return function(A){return om(A,e)}}function a2(e){return sm(e)?i2(Ta(e)):o2(e)}function Dr(e){return typeof e=="function"?e:e==null?ao:typeof e=="object"?fe(e)?s2(e[0],e[1]):A2(e):a2(e)}function c2(e,A,t,n){for(var r=-1,s=e==null?0:e.length;++r<s;){var i=e[r];A(n,i,t(i),e)}return n}function l2(e){return function(A,t,n){for(var r=-1,s=Object(A),i=n(A),o=i.length;o--;){var a=i[++r];if(t(s[a],a,s)===!1)break}return A}}var u2=l2();function h2(e,A){return e&&u2(e,A,Tn)}function f2(e,A){return function(t,n){if(t==null)return t;if(!yr(t))return e(t,n);for(var r=t.length,s=-1,i=Object(t);++s<r&&n(i[s],s,i)!==!1;);return t}}var ri=f2(h2);function d2(e,A,t,n){return ri(e,function(r,s,i){A(n,r,t(r),i)}),n}function m2(e,A){return function(t,n){var r=fe(t)?c2:d2,s=A?A():{};return r(t,e,Dr(n),s)}}var Py=Object.prototype,g2=Py.hasOwnProperty,bm=em(function(e,A){e=Object(e);var t=-1,n=A.length,r=n>2?A[2]:void 0;for(r&&Ib(A[0],A[1],r)&&(n=1);++t<n;)for(var s=A[t],i=Vb(s),o=-1,a=i.length;++o<a;){var c=i[o],l=e[c];(l===void 0||ka(l,Py[c])&&!g2.call(e,c))&&(e[c]=s[c])}return e});function jy(e){return Vn(e)&&yr(e)}var p2=200;function w2(e,A,t,n){var r=-1,s=jb,i=!0,o=e.length,a=[],c=A.length;if(!o)return a;A.length>=p2&&(s=wm,i=!1,A=new lo(A));A:for(;++r<o;){var l=e[r],u=l;if(l=l!==0?l:0,i&&u===u){for(var h=c;h--;)if(A[h]===u)continue A;a.push(l)}else s(A,u,n)||a.push(l)}return a}var Fl=em(function(e,A){return jy(e)?w2(e,cm(A,1,jy,!0)):[]});function si(e){var A=e==null?0:e.length;return A?e[A-1]:void 0}function kt(e,A,t){var n=e==null?0:e.length;return n?(A=A===void 0?1:Tl(A),lm(e,A<0?0:A,n)):[]}function Pa(e,A,t){var n=e==null?0:e.length;return n?(A=A===void 0?1:Tl(A),A=n-A,lm(e,0,A<0?0:A)):[]}function G2(e){return typeof e=="function"?e:ao}function JA(e,A){var t=fe(e)?Sb:ri;return t(e,G2(A))}function x2(e,A){for(var t=-1,n=e==null?0:e.length;++t<n;)if(!A(e[t],t,e))return!1;return!0}function M2(e,A){var t=!0;return ri(e,function(n,r,s){return t=!!A(n,r,s),t}),t}function qn(e,A,t){var n=fe(e)?x2:M2;return n(e,Dr(A))}function Ry(e,A){var t=[];return ri(e,function(n,r,s){A(n,r,s)&&t.push(n)}),t}function Pn(e,A){var t=fe(e)?fm:Ry;return t(e,Dr(A))}function b2(e){return function(A,t,n){var r=Object(A);if(!yr(A)){var s=Dr(t);A=Tn(A),t=function(o){return s(r[o],o,r)}}var i=e(A,t,n);return i>-1?r[s?A[i]:i]:void 0}}var y2=Math.max;function _2(e,A,t){var n=e==null?0:e.length;if(!n)return-1;var r=t==null?0:Tl(t);return r<0&&(r=y2(n+r,0)),Pb(e,Dr(A),r)}var uo=b2(_2);function Jn(e){return e&&e.length?e[0]:void 0}function D2(e,A){var t=-1,n=yr(e)?Array(e.length):[];return ri(e,function(r,s,i){n[++t]=A(r,s,i)}),n}function zA(e,A){var t=fe(e)?Ol:D2;return t(e,Dr(A))}function jn(e,A){return cm(zA(e,A))}var B2=Object.prototype,E2=B2.hasOwnProperty,Iy=m2(function(e,A,t){E2.call(e,t)?e[t].push(A):Xd(e,t,[A])}),k2=Object.prototype,v2=k2.hasOwnProperty;function Y2(e,A){return e!=null&&v2.call(e,A)}function VA(e,A){return e!=null&&Sy(e,A,Y2)}var N2="[object String]";function en(e){return typeof e=="string"||!fe(e)&&Vn(e)&&ws(e)==N2}function Z2(e,A){return Ol(A,function(t){return e[t]})}function ot(e){return e==null?[]:Z2(e,Tn(e))}var O2=Math.max;function Ct(e,A,t,n){e=yr(e)?e:ot(e),t=t?Tl(t):0;var r=e.length;return t<0&&(t=O2(r+t,0)),en(e)?t<=r&&e.indexOf(A,t)>-1:!!r&&Jd(e,A,t)>-1}function Cy(e,A,t){var n=e==null?0:e.length;if(!n)return-1;var r=0;return Jd(e,A,r)}var T2="[object Map]",S2="[object Set]",P2=Object.prototype,j2=P2.hasOwnProperty;function Oe(e){if(e==null)return!0;if(yr(e)&&(fe(e)||typeof e=="string"||typeof e.splice=="function"||Ya(e)||rm(e)||Rl(e)))return!e.length;var A=Sn(e);if(A==T2||A==S2)return!e.size;if(va(e))return!Wb(e).length;for(var t in e)if(j2.call(e,t))return!1;return!0}var R2="[object RegExp]";function I2(e){return Vn(e)&&ws(e)==R2}var zy=Gs&&Gs.isRegExp,Wr=zy?Il(zy):I2;function Vr(e){return e===void 0}var C2="Expected a function";function z2(e){if(typeof e!="function")throw new TypeError(C2);return function(){var A=arguments;switch(A.length){case 0:return!e.call(this);case 1:return!e.call(this,A[0]);case 2:return!e.call(this,A[0],A[1]);case 3:return!e.call(this,A[0],A[1],A[2])}return!e.apply(this,A)}}function H2(e,A,t,n){if(!On(e))return e;A=Hl(A,e);for(var r=-1,s=A.length,i=s-1,o=e;o!=null&&++r<s;){var a=Ta(A[r]),c=t;if(a==="__proto__"||a==="constructor"||a==="prototype")return e;if(r!=i){var l=o[a];c=void 0,c===void 0&&(c=On(l)?l:Pl(A[r+1])?[]:{})}jl(o,a,c),o=o[a]}return e}function L2(e,A,t){for(var n=-1,r=A.length,s={};++n<r;){var i=A[n],o=om(e,i);t(o,i)&&H2(s,Hl(i,e),o)}return s}function Xn(e,A){if(e==null)return{};var t=Ol(lC(e),function(n){return[n]});return A=Dr(A),L2(e,t,function(n,r){return A(n,r[0])})}function U2(e,A,t,n,r){return r(e,function(s,i,o){t=n?(n=!1,s):A(t,s,i,o)}),t}function tn(e,A,t){var n=fe(e)?WI:U2,r=arguments.length<3;return n(e,Dr(A),t,r,ri)}function Ql(e,A){var t=fe(e)?fm:Ry;return t(e,z2(Dr(A)))}function $2(e,A){var t;return ri(e,function(n,r,s){return t=A(n,r,s),!t}),!!t}function ym(e,A,t){var n=fe(e)?Ey:$2;return n(e,Dr(A))}var F2=1/0,Q2=co&&1/Gm(new co([,-0]))[1]==F2?function(e){return new co(e)}:dt,K2=200;function W2(e,A,t){var n=-1,r=jb,s=e.length,i=!0,o=[],a=o;if(s>=K2){var c=Q2(e);if(c)return Gm(c);i=!1,r=wm,a=new lo}else a=o;A:for(;++n<s;){var l=e[n],u=l;if(l=l!==0?l:0,i&&u===u){for(var h=a.length;h--;)if(a[h]===u)continue A;o.push(l)}else r(a,u,t)||(a!==o&&a.push(u),o.push(l))}return o}function Kl(e){return e&&e.length?W2(e):[]}function _m(e){console&&console.error&&console.error(`Error: ${e}`)}function Hy(e){console&&console.warn&&console.warn(`Warning: ${e}`)}function Ly(e){const A=new Date().getTime(),t=e();return{time:new Date().getTime()-A,value:t}}function Uy(e){function A(){}A.prototype=e;const t=new A;function n(){return typeof t.bar}return n(),n(),e}function V2(e){return q2(e)?e.LABEL:e.name}function q2(e){return en(e.LABEL)&&e.LABEL!==""}class Br{get definition(){return this._definition}set definition(A){this._definition=A}constructor(A){this._definition=A}accept(A){A.visit(this),JA(this.definition,t=>{t.accept(A)})}}class nn extends Br{constructor(A){super([]),this.idx=1,An(this,Xn(A,t=>t!==void 0))}set definition(A){}get definition(){return this.referencedRule!==void 0?this.referencedRule.definition:[]}accept(A){A.visit(this)}}class ho extends Br{constructor(A){super(A.definition),this.orgText="",An(this,Xn(A,t=>t!==void 0))}}class rn extends Br{constructor(A){super(A.definition),this.ignoreAmbiguities=!1,An(this,Xn(A,t=>t!==void 0))}}class sn extends Br{constructor(A){super(A.definition),this.idx=1,An(this,Xn(A,t=>t!==void 0))}}class Er extends Br{constructor(A){super(A.definition),this.idx=1,An(this,Xn(A,t=>t!==void 0))}}class kr extends Br{constructor(A){super(A.definition),this.idx=1,An(this,Xn(A,t=>t!==void 0))}}class mt extends Br{constructor(A){super(A.definition),this.idx=1,An(this,Xn(A,t=>t!==void 0))}}class Ar extends Br{constructor(A){super(A.definition),this.idx=1,An(this,Xn(A,t=>t!==void 0))}}class er extends Br{get definition(){return this._definition}set definition(A){this._definition=A}constructor(A){super(A.definition),this.idx=1,this.ignoreAmbiguities=!1,this.hasPredicates=!1,An(this,Xn(A,t=>t!==void 0))}}class Ue{constructor(A){this.idx=1,An(this,Xn(A,t=>t!==void 0))}accept(A){A.visit(this)}}function J2(e){return zA(e,Wl)}function Wl(e){function A(t){return zA(t,Wl)}if(e instanceof nn){const t={type:"NonTerminal",name:e.nonTerminalName,idx:e.idx};return en(e.label)&&(t.label=e.label),t}else{if(e instanceof rn)return{type:"Alternative",definition:A(e.definition)};if(e instanceof sn)return{type:"Option",idx:e.idx,definition:A(e.definition)};if(e instanceof Er)return{type:"RepetitionMandatory",idx:e.idx,definition:A(e.definition)};if(e instanceof kr)return{type:"RepetitionMandatoryWithSeparator",idx:e.idx,separator:Wl(new Ue({terminalType:e.separator})),definition:A(e.definition)};if(e instanceof Ar)return{type:"RepetitionWithSeparator",idx:e.idx,separator:Wl(new Ue({terminalType:e.separator})),definition:A(e.definition)};if(e instanceof mt)return{type:"Repetition",idx:e.idx,definition:A(e.definition)};if(e instanceof er)return{type:"Alternation",idx:e.idx,definition:A(e.definition)};if(e instanceof Ue){const t={type:"Terminal",name:e.terminalType.name,label:V2(e.terminalType),idx:e.idx};en(e.label)&&(t.terminalLabel=e.label);const n=e.terminalType.PATTERN;return e.terminalType.PATTERN&&(t.pattern=Wr(n)?n.source:n),t}else{if(e instanceof ho)return{type:"Rule",name:e.name,orgText:e.orgText,definition:A(e.definition)};throw Error("non exhaustive match")}}}class ii{visit(A){const t=A;switch(t.constructor){case nn:return this.visitNonTerminal(t);case rn:return this.visitAlternative(t);case sn:return this.visitOption(t);case Er:return this.visitRepetitionMandatory(t);case kr:return this.visitRepetitionMandatoryWithSeparator(t);case Ar:return this.visitRepetitionWithSeparator(t);case mt:return this.visitRepetition(t);case er:return this.visitAlternation(t);case Ue:return this.visitTerminal(t);case ho:return this.visitRule(t);default:throw Error("non exhaustive match")}}visitNonTerminal(A){}visitAlternative(A){}visitOption(A){}visitRepetition(A){}visitRepetitionMandatory(A){}visitRepetitionMandatoryWithSeparator(A){}visitRepetitionWithSeparator(A){}visitAlternation(A){}visitTerminal(A){}visitRule(A){}}function X2(e){return e instanceof rn||e instanceof sn||e instanceof mt||e instanceof Er||e instanceof kr||e instanceof Ar||e instanceof Ue||e instanceof ho}function Vl(e,A=[]){return e instanceof sn||e instanceof mt||e instanceof Ar?!0:e instanceof er?ym(e.definition,n=>Vl(n,A)):e instanceof nn&&Ct(A,e)?!1:e instanceof Br?(e instanceof nn&&A.push(e),qn(e.definition,n=>Vl(n,A))):!1}function Az(e){return e instanceof er}function vr(e){if(e instanceof nn)return"SUBRULE";if(e instanceof sn)return"OPTION";if(e instanceof er)return"OR";if(e instanceof Er)return"AT_LEAST_ONE";if(e instanceof kr)return"AT_LEAST_ONE_SEP";if(e instanceof Ar)return"MANY_SEP";if(e instanceof mt)return"MANY";if(e instanceof Ue)return"CONSUME";throw Error("non exhaustive match")}class ql{walk(A,t=[]){JA(A.definition,(n,r)=>{const s=kt(A.definition,r+1);if(n instanceof nn)this.walkProdRef(n,s,t);else if(n instanceof Ue)this.walkTerminal(n,s,t);else if(n instanceof rn)this.walkFlat(n,s,t);else if(n instanceof sn)this.walkOption(n,s,t);else if(n instanceof Er)this.walkAtLeastOne(n,s,t);else if(n instanceof kr)this.walkAtLeastOneSep(n,s,t);else if(n instanceof Ar)this.walkManySep(n,s,t);else if(n instanceof mt)this.walkMany(n,s,t);else if(n instanceof er)this.walkOr(n,s,t);else throw Error("non exhaustive match")})}walkTerminal(A,t,n){}walkProdRef(A,t,n){}walkFlat(A,t,n){const r=t.concat(n);this.walk(A,r)}walkOption(A,t,n){const r=t.concat(n);this.walk(A,r)}walkAtLeastOne(A,t,n){const r=[new sn({definition:A.definition})].concat(t,n);this.walk(A,r)}walkAtLeastOneSep(A,t,n){const r=$y(A,t,n);this.walk(A,r)}walkMany(A,t,n){const r=[new sn({definition:A.definition})].concat(t,n);this.walk(A,r)}walkManySep(A,t,n){const r=$y(A,t,n);this.walk(A,r)}walkOr(A,t,n){const r=t.concat(n);JA(A.definition,s=>{const i=new rn({definition:[s]});this.walk(i,r)})}}function $y(e,A,t){return[new sn({definition:[new Ue({terminalType:e.separator})].concat(e.definition)})].concat(A,t)}function ja(e){if(e instanceof nn)return ja(e.referencedRule);if(e instanceof Ue)return nz(e);if(X2(e))return ez(e);if(Az(e))return tz(e);throw Error("non exhaustive match")}function ez(e){let A=[];const t=e.definition;let n=0,r=t.length>n,s,i=!0;for(;r&&i;)s=t[n],i=Vl(s),A=A.concat(ja(s)),n=n+1,r=t.length>n;return Kl(A)}function tz(e){const A=zA(e.definition,t=>ja(t));return Kl(pn(A))}function nz(e){return[e.terminalType]}const Fy="_~IN~_";class rz extends ql{constructor(A){super(),this.topProd=A,this.follows={}}startWalking(){return this.walk(this.topProd),this.follows}walkTerminal(A,t,n){}walkProdRef(A,t,n){const r=iz(A.referencedRule,A.idx)+this.topProd.name,s=t.concat(n),i=new rn({definition:s}),o=ja(i);this.follows[r]=o}}function sz(e){const A={};return JA(e,t=>{const n=new rz(t).startWalking();An(A,n)}),A}function iz(e,A){return e.name+A+Fy}function Ae(e){return e.charCodeAt(0)}function Dm(e,A){Array.isArray(e)?e.forEach(function(t){A.push(t)}):A.push(e)}function Ra(e,A){if(e[A]===!0)throw"duplicate flag "+A;e[A],e[A]=!0}function fo(e){if(e===void 0)throw Error("Internal Error - Should never get here!");return!0}function oz(){throw Error("Internal Error - Should never get here!")}function Qy(e){return e.type==="Character"}const Jl=[];for(let e=Ae("0");e<=Ae("9");e++)Jl.push(e);const Xl=[Ae("_")].concat(Jl);for(let e=Ae("a");e<=Ae("z");e++)Xl.push(e);for(let e=Ae("A");e<=Ae("Z");e++)Xl.push(e);const Ky=[Ae(" "),Ae("\f"),Ae(`
`),Ae("\r"),Ae("	"),Ae("\v"),Ae("	"),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae(""),Ae("\u2028"),Ae("\u2029"),Ae(""),Ae(""),Ae(""),Ae("\uFEFF")],az=/[0-9a-fA-F]/,Au=/[0-9]/,cz=/[1-9]/;class lz{constructor(){this.idx=0,this.input="",this.groupIdx=0}saveState(){return{idx:this.idx,input:this.input,groupIdx:this.groupIdx}}restoreState(A){this.idx=A.idx,this.input=A.input,this.groupIdx=A.groupIdx}pattern(A){this.idx=0,this.input=A,this.groupIdx=0,this.consumeChar("/");const t=this.disjunction();this.consumeChar("/");const n={type:"Flags",loc:{begin:this.idx,end:A.length},global:!1,ignoreCase:!1,multiLine:!1,unicode:!1,sticky:!1};for(;this.isRegExpFlag();)switch(this.popChar()){case"g":Ra(n,"global");break;case"i":Ra(n,"ignoreCase");break;case"m":Ra(n,"multiLine");break;case"u":Ra(n,"unicode");break;case"y":Ra(n,"sticky");break}if(this.idx!==this.input.length)throw Error("Redundant input: "+this.input.substring(this.idx));return{type:"Pattern",flags:n,value:t,loc:this.loc(0)}}disjunction(){const A=[],t=this.idx;for(A.push(this.alternative());this.peekChar()==="|";)this.consumeChar("|"),A.push(this.alternative());return{type:"Disjunction",value:A,loc:this.loc(t)}}alternative(){const A=[],t=this.idx;for(;this.isTerm();)A.push(this.term());return{type:"Alternative",value:A,loc:this.loc(t)}}term(){return this.isAssertion()?this.assertion():this.atom()}assertion(){const A=this.idx;switch(this.popChar()){case"^":return{type:"StartAnchor",loc:this.loc(A)};case"$":return{type:"EndAnchor",loc:this.loc(A)};case"\\":switch(this.popChar()){case"b":return{type:"WordBoundary",loc:this.loc(A)};case"B":return{type:"NonWordBoundary",loc:this.loc(A)}}throw Error("Invalid Assertion Escape");case"(":this.consumeChar("?");let t;switch(this.popChar()){case"=":t="Lookahead";break;case"!":t="NegativeLookahead";break;case"<":{switch(this.popChar()){case"=":t="Lookbehind";break;case"!":t="NegativeLookbehind"}break}}fo(t);const n=this.disjunction();return this.consumeChar(")"),{type:t,value:n,loc:this.loc(A)}}return oz()}quantifier(A=!1){let t;const n=this.idx;switch(this.popChar()){case"*":t={atLeast:0,atMost:1/0};break;case"+":t={atLeast:1,atMost:1/0};break;case"?":t={atLeast:0,atMost:1};break;case"{":const r=this.integerIncludingZero();switch(this.popChar()){case"}":t={atLeast:r,atMost:r};break;case",":let s;this.isDigit()?(s=this.integerIncludingZero(),t={atLeast:r,atMost:s}):t={atLeast:r,atMost:1/0},this.consumeChar("}");break}if(A===!0&&t===void 0)return;fo(t);break}if(!(A===!0&&t===void 0)&&fo(t))return this.peekChar(0)==="?"?(this.consumeChar("?"),t.greedy=!1):t.greedy=!0,t.type="Quantifier",t.loc=this.loc(n),t}atom(){let A;const t=this.idx;switch(this.peekChar()){case".":A=this.dotAll();break;case"\\":A=this.atomEscape();break;case"[":A=this.characterClass();break;case"(":A=this.group();break}if(A===void 0&&this.isPatternCharacter()&&(A=this.patternCharacter()),fo(A))return A.loc=this.loc(t),this.isQuantifier()&&(A.quantifier=this.quantifier()),A}dotAll(){return this.consumeChar("."),{type:"Set",complement:!0,value:[Ae(`
`),Ae("\r"),Ae("\u2028"),Ae("\u2029")]}}atomEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return this.decimalEscapeAtom();case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}decimalEscapeAtom(){return{type:"GroupBackReference",value:this.positiveInteger()}}characterClassEscape(){let A,t=!1;switch(this.popChar()){case"d":A=Jl;break;case"D":A=Jl,t=!0;break;case"s":A=Ky;break;case"S":A=Ky,t=!0;break;case"w":A=Xl;break;case"W":A=Xl,t=!0;break}if(fo(A))return{type:"Set",value:A,complement:t}}controlEscapeAtom(){let A;switch(this.popChar()){case"f":A=Ae("\f");break;case"n":A=Ae(`
`);break;case"r":A=Ae("\r");break;case"t":A=Ae("	");break;case"v":A=Ae("\v");break}if(fo(A))return{type:"Character",value:A}}controlLetterEscapeAtom(){this.consumeChar("c");const A=this.popChar();if(/[a-zA-Z]/.test(A)===!1)throw Error("Invalid ");return{type:"Character",value:A.toUpperCase().charCodeAt(0)-64}}nulCharacterAtom(){return this.consumeChar("0"),{type:"Character",value:Ae("\0")}}hexEscapeSequenceAtom(){return this.consumeChar("x"),this.parseHexDigits(2)}regExpUnicodeEscapeSequenceAtom(){return this.consumeChar("u"),this.parseHexDigits(4)}identityEscapeAtom(){const A=this.popChar();return{type:"Character",value:Ae(A)}}classPatternCharacterAtom(){switch(this.peekChar()){case`
`:case"\r":case"\u2028":case"\u2029":case"\\":case"]":throw Error("TBD");default:const A=this.popChar();return{type:"Character",value:Ae(A)}}}characterClass(){const A=[];let t=!1;for(this.consumeChar("["),this.peekChar(0)==="^"&&(this.consumeChar("^"),t=!0);this.isClassAtom();){const n=this.classAtom();if(n.type,Qy(n)&&this.isRangeDash()){this.consumeChar("-");const r=this.classAtom();if(r.type,Qy(r)){if(r.value<n.value)throw Error("Range out of order in character class");A.push({from:n.value,to:r.value})}else Dm(n.value,A),A.push(Ae("-")),Dm(r.value,A)}else Dm(n.value,A)}return this.consumeChar("]"),{type:"Set",complement:t,value:A}}classAtom(){switch(this.peekChar()){case"]":case`
`:case"\r":case"\u2028":case"\u2029":throw Error("TBD");case"\\":return this.classEscape();default:return this.classPatternCharacterAtom()}}classEscape(){switch(this.consumeChar("\\"),this.peekChar()){case"b":return this.consumeChar("b"),{type:"Character",value:Ae("\b")};case"d":case"D":case"s":case"S":case"w":case"W":return this.characterClassEscape();case"f":case"n":case"r":case"t":case"v":return this.controlEscapeAtom();case"c":return this.controlLetterEscapeAtom();case"0":return this.nulCharacterAtom();case"x":return this.hexEscapeSequenceAtom();case"u":return this.regExpUnicodeEscapeSequenceAtom();default:return this.identityEscapeAtom()}}group(){let A=!0;this.consumeChar("("),this.peekChar(0)==="?"?(this.consumeChar("?"),this.consumeChar(":"),A=!1):this.groupIdx++;const t=this.disjunction();this.consumeChar(")");const n={type:"Group",capturing:A,value:t};return A&&(n.idx=this.groupIdx),n}positiveInteger(){let A=this.popChar();if(cz.test(A)===!1)throw Error("Expecting a positive integer");for(;Au.test(this.peekChar(0));)A+=this.popChar();return parseInt(A,10)}integerIncludingZero(){let A=this.popChar();if(Au.test(A)===!1)throw Error("Expecting an integer");for(;Au.test(this.peekChar(0));)A+=this.popChar();return parseInt(A,10)}patternCharacter(){const A=this.popChar();switch(A){case`
`:case"\r":case"\u2028":case"\u2029":case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":throw Error("TBD");default:return{type:"Character",value:Ae(A)}}}isRegExpFlag(){switch(this.peekChar(0)){case"g":case"i":case"m":case"u":case"y":return!0;default:return!1}}isRangeDash(){return this.peekChar()==="-"&&this.isClassAtom(1)}isDigit(){return Au.test(this.peekChar(0))}isClassAtom(A=0){switch(this.peekChar(A)){case"]":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}isTerm(){return this.isAtom()||this.isAssertion()}isAtom(){if(this.isPatternCharacter())return!0;switch(this.peekChar(0)){case".":case"\\":case"[":case"(":return!0;default:return!1}}isAssertion(){switch(this.peekChar(0)){case"^":case"$":return!0;case"\\":switch(this.peekChar(1)){case"b":case"B":return!0;default:return!1}case"(":return this.peekChar(1)==="?"&&(this.peekChar(2)==="="||this.peekChar(2)==="!"||this.peekChar(2)==="<"&&(this.peekChar(3)==="="||this.peekChar(3)==="!"));default:return!1}}isQuantifier(){const A=this.saveState();try{return this.quantifier(!0)!==void 0}catch{return!1}finally{this.restoreState(A)}}isPatternCharacter(){switch(this.peekChar()){case"^":case"$":case"\\":case".":case"*":case"+":case"?":case"(":case")":case"[":case"|":case"/":case`
`:case"\r":case"\u2028":case"\u2029":return!1;default:return!0}}parseHexDigits(A){let t="";for(let r=0;r<A;r++){const s=this.popChar();if(az.test(s)===!1)throw Error("Expecting a HexDecimal digits");t+=s}return{type:"Character",value:parseInt(t,16)}}peekChar(A=0){return this.input[this.idx+A]}popChar(){const A=this.peekChar(0);return this.consumeChar(void 0),A}consumeChar(A){if(A!==void 0&&this.input[this.idx]!==A)throw Error("Expected: '"+A+"' but found: '"+this.input[this.idx]+"' at offset: "+this.idx);if(this.idx>=this.input.length)throw Error("Unexpected end of input");this.idx++}loc(A){return{begin:A,end:this.idx}}}class Bm{visitChildren(A){for(const t in A){const n=A[t];A.hasOwnProperty(t)&&(n.type!==void 0?this.visit(n):Array.isArray(n)&&n.forEach(r=>{this.visit(r)},this))}}visit(A){switch(A.type){case"Pattern":this.visitPattern(A);break;case"Flags":this.visitFlags(A);break;case"Disjunction":this.visitDisjunction(A);break;case"Alternative":this.visitAlternative(A);break;case"StartAnchor":this.visitStartAnchor(A);break;case"EndAnchor":this.visitEndAnchor(A);break;case"WordBoundary":this.visitWordBoundary(A);break;case"NonWordBoundary":this.visitNonWordBoundary(A);break;case"Lookahead":this.visitLookahead(A);break;case"NegativeLookahead":this.visitNegativeLookahead(A);break;case"Lookbehind":this.visitLookbehind(A);break;case"NegativeLookbehind":this.visitNegativeLookbehind(A);break;case"Character":this.visitCharacter(A);break;case"Set":this.visitSet(A);break;case"Group":this.visitGroup(A);break;case"GroupBackReference":this.visitGroupBackReference(A);break;case"Quantifier":this.visitQuantifier(A);break}this.visitChildren(A)}visitPattern(A){}visitFlags(A){}visitDisjunction(A){}visitAlternative(A){}visitStartAnchor(A){}visitEndAnchor(A){}visitWordBoundary(A){}visitNonWordBoundary(A){}visitLookahead(A){}visitNegativeLookahead(A){}visitLookbehind(A){}visitNegativeLookbehind(A){}visitCharacter(A){}visitSet(A){}visitGroup(A){}visitGroupBackReference(A){}visitQuantifier(A){}}let eu={};const uz=new lz;function tu(e){const A=e.toString();if(eu.hasOwnProperty(A))return eu[A];{const t=uz.pattern(A);return eu[A]=t,t}}function hz(){eu={}}const Wy="Complement Sets are not supported for first char optimization",nu=`Unable to use "first char" lexer optimizations:
`;function fz(e,A=!1){try{const t=tu(e);return Em(t.value,{},t.flags.ignoreCase)}catch(t){if(t.message===Wy)A&&Hy(`${nu}	Unable to optimize: < ${e.toString()} >
	Complement Sets cannot be automatically optimized.
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#COMPLEMENT for details.`);else{let n="";A&&(n=`
	This will disable the lexer's first char optimizations.
	See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#REGEXP_PARSING for details.`),_m(`${nu}
	Failed parsing: < ${e.toString()} >
	Using the @chevrotain/regexp-to-ast library
	Please open an issue at: https://github.com/chevrotain/chevrotain/issues`+n)}}return[]}function Em(e,A,t){switch(e.type){case"Disjunction":for(let r=0;r<e.value.length;r++)Em(e.value[r],A,t);break;case"Alternative":const n=e.value;for(let r=0;r<n.length;r++){const s=n[r];switch(s.type){case"EndAnchor":case"GroupBackReference":case"Lookahead":case"NegativeLookahead":case"Lookbehind":case"NegativeLookbehind":case"StartAnchor":case"WordBoundary":case"NonWordBoundary":continue}const i=s;switch(i.type){case"Character":ru(i.value,A,t);break;case"Set":if(i.complement===!0)throw Error(Wy);JA(i.value,a=>{if(typeof a=="number")ru(a,A,t);else{const c=a;if(t===!0)for(let l=c.from;l<=c.to;l++)ru(l,A,t);else{for(let l=c.from;l<=c.to&&l<Ca;l++)ru(l,A,t);if(c.to>=Ca){const l=c.from>=Ca?c.from:Ca,u=c.to,h=xs(l),f=xs(u);for(let m=h;m<=f;m++)A[m]=m}}}});break;case"Group":Em(i.value,A,t);break;default:throw Error("Non Exhaustive Match")}const o=i.quantifier!==void 0&&i.quantifier.atLeast===0;if(i.type==="Group"&&km(i)===!1||i.type!=="Group"&&o===!1)break}break;default:throw Error("non exhaustive match!")}return ot(A)}function ru(e,A,t){const n=xs(e);A[n]=n,t===!0&&dz(e,A)}function dz(e,A){const t=String.fromCharCode(e),n=t.toUpperCase();if(n!==t){const r=xs(n.charCodeAt(0));A[r]=r}else{const r=t.toLowerCase();if(r!==t){const s=xs(r.charCodeAt(0));A[s]=s}}}function Vy(e,A){return uo(e.value,t=>{if(typeof t=="number")return Ct(A,t);{const n=t;return uo(A,r=>n.from<=r&&r<=n.to)!==void 0}})}function km(e){const A=e.quantifier;return A&&A.atLeast===0?!0:e.value?fe(e.value)?qn(e.value,km):km(e.value):!1}class mz extends Bm{constructor(A){super(),this.targetCharCodes=A,this.found=!1}visitChildren(A){if(this.found!==!0){switch(A.type){case"Lookahead":this.visitLookahead(A);return;case"NegativeLookahead":this.visitNegativeLookahead(A);return;case"Lookbehind":this.visitLookbehind(A);return;case"NegativeLookbehind":this.visitNegativeLookbehind(A);return}super.visitChildren(A)}}visitCharacter(A){Ct(this.targetCharCodes,A.value)&&(this.found=!0)}visitSet(A){A.complement?Vy(A,this.targetCharCodes)===void 0&&(this.found=!0):Vy(A,this.targetCharCodes)!==void 0&&(this.found=!0)}}function vm(e,A){if(A instanceof RegExp){const t=tu(A),n=new mz(e);return n.visit(t),n.found}else return uo(A,t=>Ct(e,t.charCodeAt(0)))!==void 0}const oi="PATTERN",Ia="defaultMode",su="modes";let qy=typeof new RegExp("(?:)").sticky=="boolean";function gz(e,A){A=bm(A,{useSticky:qy,debug:!1,safeMode:!1,positionTracking:"full",lineTerminatorCharacters:["\r",`
`],tracer:(x,y)=>y()});const t=A.tracer;t("initCharCodeToOptimizedIndexMap",()=>{Cz()});let n;t("Reject Lexer.NA",()=>{n=Ql(e,x=>x[oi]===bt.NA)});let r=!1,s;t("Transform Patterns",()=>{r=!1,s=zA(n,x=>{const y=x[oi];if(Wr(y)){const E=y.source;return E.length===1&&E!=="^"&&E!=="$"&&E!=="."&&!y.ignoreCase?E:E.length===2&&E[0]==="\\"&&!Ct(["d","D","s","S","t","r","n","t","0","c","b","B","f","v","w","W"],E[1])?E[1]:A.useSticky?Xy(y):Jy(y)}else{if(Fr(y))return r=!0,{exec:y};if(typeof y=="object")return r=!0,y;if(typeof y=="string"){if(y.length===1)return y;{const E=y.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),B=new RegExp(E);return A.useSticky?Xy(B):Jy(B)}}else throw Error("non exhaustive match")}})});let i,o,a,c,l;t("misc mapping",()=>{i=zA(n,x=>x.tokenTypeIdx),o=zA(n,x=>{const y=x.GROUP;if(y!==bt.SKIPPED){if(en(y))return y;if(Vr(y))return!1;throw Error("non exhaustive match")}}),a=zA(n,x=>{const y=x.LONGER_ALT;if(y)return fe(y)?zA(y,B=>Cy(n,B)):[Cy(n,y)]}),c=zA(n,x=>x.PUSH_MODE),l=zA(n,x=>VA(x,"POP_MODE"))});let u;t("Line Terminator Handling",()=>{const x=t_(A.lineTerminatorCharacters);u=zA(n,y=>!1),A.positionTracking!=="onlyOffset"&&(u=zA(n,y=>VA(y,"LINE_BREAKS")?!!y.LINE_BREAKS:e_(y,x)===!1&&vm(x,y.PATTERN)))});let h,f,m,d;t("Misc Mapping #2",()=>{h=zA(n,A_),f=zA(s,jz),m=tn(n,(x,y)=>{const E=y.GROUP;return en(E)&&E!==bt.SKIPPED&&(x[E]=[]),x},{}),d=zA(s,(x,y)=>({pattern:s[y],longerAlt:a[y],canLineTerminator:u[y],isCustom:h[y],short:f[y],group:o[y],push:c[y],pop:l[y],tokenTypeIdx:i[y],tokenType:n[y]}))});let g=!0,p=[];return A.safeMode||t("First Char Optimization",()=>{p=tn(n,(x,y,E)=>{if(typeof y.PATTERN=="string"){const B=y.PATTERN.charCodeAt(0),T=xs(B);Ym(x,T,d[E])}else if(fe(y.START_CHARS_HINT)){let B;JA(y.START_CHARS_HINT,T=>{const D=typeof T=="string"?T.charCodeAt(0):T,Z=xs(D);B!==Z&&(B=Z,Ym(x,Z,d[E]))})}else if(Wr(y.PATTERN))if(y.PATTERN.unicode)g=!1,A.ensureOptimizations&&_m(`${nu}	Unable to analyze < ${y.PATTERN.toString()} > pattern.
	The regexp unicode flag is not currently supported by the regexp-to-ast library.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNICODE_OPTIMIZE`);else{const B=fz(y.PATTERN,A.ensureOptimizations);Oe(B)&&(g=!1),JA(B,T=>{Ym(x,T,d[E])})}else A.ensureOptimizations&&_m(`${nu}	TokenType: <${y.name}> is using a custom token pattern without providing <start_chars_hint> parameter.
	This will disable the lexer's first char optimizations.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_OPTIMIZE`),g=!1;return x},[])}),{emptyGroups:m,patternIdxToConfig:d,charCodeToPatternIdxToConfig:p,hasCustom:r,canBeOptimized:g}}function pz(e,A){let t=[];const n=Gz(e);t=t.concat(n.errors);const r=xz(n.valid),s=r.valid;return t=t.concat(r.errors),t=t.concat(wz(s)),t=t.concat(kz(s)),t=t.concat(vz(s,A)),t=t.concat(Yz(s)),t}function wz(e){let A=[];const t=Pn(e,n=>Wr(n[oi]));return A=A.concat(bz(t)),A=A.concat(Dz(t)),A=A.concat(Bz(t)),A=A.concat(Ez(t)),A=A.concat(yz(t)),A}function Gz(e){const A=Pn(e,r=>!VA(r,oi)),t=zA(A,r=>({message:"Token Type: ->"+r.name+"<- missing static 'PATTERN' property",type:Ve.MISSING_PATTERN,tokenTypes:[r]})),n=Fl(e,A);return{errors:t,valid:n}}function xz(e){const A=Pn(e,r=>{const s=r[oi];return!Wr(s)&&!Fr(s)&&!VA(s,"exec")&&!en(s)}),t=zA(A,r=>({message:"Token Type: ->"+r.name+"<- static 'PATTERN' can only be a RegExp, a Function matching the {CustomPatternMatcherFunc} type or an Object matching the {ICustomPattern} interface.",type:Ve.INVALID_PATTERN,tokenTypes:[r]})),n=Fl(e,A);return{errors:t,valid:n}}const Mz=/[^\\][$]/;function bz(e){class A extends Bm{constructor(){super(...arguments),this.found=!1}visitEndAnchor(s){this.found=!0}}const t=Pn(e,r=>{const s=r.PATTERN;try{const i=tu(s),o=new A;return o.visit(i),o.found}catch{return Mz.test(s.source)}});return zA(t,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain end of input anchor '$'
	See chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ve.EOI_ANCHOR_FOUND,tokenTypes:[r]}))}function yz(e){const A=Pn(e,n=>n.PATTERN.test(""));return zA(A,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' must not match an empty string",type:Ve.EMPTY_MATCH_PATTERN,tokenTypes:[n]}))}const _z=/[^\\[][\^]|^\^/;function Dz(e){class A extends Bm{constructor(){super(...arguments),this.found=!1}visitStartAnchor(s){this.found=!0}}const t=Pn(e,r=>{const s=r.PATTERN;try{const i=tu(s),o=new A;return o.visit(i),o.found}catch{return _z.test(s.source)}});return zA(t,r=>({message:`Unexpected RegExp Anchor Error:
	Token Type: ->`+r.name+`<- static 'PATTERN' cannot contain start of input anchor '^'
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#ANCHORS	for details.`,type:Ve.SOI_ANCHOR_FOUND,tokenTypes:[r]}))}function Bz(e){const A=Pn(e,n=>{const r=n[oi];return r instanceof RegExp&&(r.multiline||r.global)});return zA(A,n=>({message:"Token Type: ->"+n.name+"<- static 'PATTERN' may NOT contain global('g') or multiline('m')",type:Ve.UNSUPPORTED_FLAGS_FOUND,tokenTypes:[n]}))}function Ez(e){const A=[];let t=zA(e,s=>tn(e,(i,o)=>(s.PATTERN.source===o.PATTERN.source&&!Ct(A,o)&&o.PATTERN!==bt.NA&&(A.push(o),i.push(o)),i),[]));t=Sa(t);const n=Pn(t,s=>s.length>1);return zA(n,s=>{const i=zA(s,a=>a.name);return{message:`The same RegExp pattern ->${Jn(s).PATTERN}<-has been used in all of the following Token Types: ${i.join(", ")} <-`,type:Ve.DUPLICATE_PATTERNS_FOUND,tokenTypes:s}})}function kz(e){const A=Pn(e,n=>{if(!VA(n,"GROUP"))return!1;const r=n.GROUP;return r!==bt.SKIPPED&&r!==bt.NA&&!en(r)});return zA(A,n=>({message:"Token Type: ->"+n.name+"<- static 'GROUP' can only be Lexer.SKIPPED/Lexer.NA/A String",type:Ve.INVALID_GROUP_TYPE_FOUND,tokenTypes:[n]}))}function vz(e,A){const t=Pn(e,r=>r.PUSH_MODE!==void 0&&!Ct(A,r.PUSH_MODE));return zA(t,r=>({message:`Token Type: ->${r.name}<- static 'PUSH_MODE' value cannot refer to a Lexer Mode ->${r.PUSH_MODE}<-which does not exist`,type:Ve.PUSH_MODE_DOES_NOT_EXIST,tokenTypes:[r]}))}function Yz(e){const A=[],t=tn(e,(n,r,s)=>{const i=r.PATTERN;return i===bt.NA||(en(i)?n.push({str:i,idx:s,tokenType:r}):Wr(i)&&Zz(i)&&n.push({str:i.source,idx:s,tokenType:r})),n},[]);return JA(e,(n,r)=>{JA(t,({str:s,idx:i,tokenType:o})=>{if(r<i&&Nz(s,n.PATTERN)){const a=`Token: ->${o.name}<- can never be matched.
Because it appears AFTER the Token Type ->${n.name}<-in the lexer's definition.
See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#UNREACHABLE`;A.push({message:a,type:Ve.UNREACHABLE_PATTERN,tokenTypes:[n,o]})}})}),A}function Nz(e,A){if(Wr(A)){if(Oz(A))return!1;const t=A.exec(e);return t!==null&&t.index===0}else{if(Fr(A))return A(e,0,[],{});if(VA(A,"exec"))return A.exec(e,0,[],{});if(typeof A=="string")return A===e;throw Error("non exhaustive match")}}function Zz(e){return uo([".","\\","[","]","|","^","$","(",")","?","*","+","{"],t=>e.source.indexOf(t)!==-1)===void 0}function Oz(e){return/(\(\?=)|(\(\?!)|(\(\?<=)|(\(\?<!)/.test(e.source)}function Jy(e){const A=e.ignoreCase?"i":"";return new RegExp(`^(?:${e.source})`,A)}function Xy(e){const A=e.ignoreCase?"iy":"y";return new RegExp(`${e.source}`,A)}function Tz(e,A,t){const n=[];return VA(e,Ia)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+Ia+`> property in its definition
`,type:Ve.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE}),VA(e,su)||n.push({message:"A MultiMode Lexer cannot be initialized without a <"+su+`> property in its definition
`,type:Ve.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY}),VA(e,su)&&VA(e,Ia)&&!VA(e.modes,e.defaultMode)&&n.push({message:`A MultiMode Lexer cannot be initialized with a ${Ia}: <${e.defaultMode}>which does not exist
`,type:Ve.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST}),VA(e,su)&&JA(e.modes,(r,s)=>{JA(r,(i,o)=>{if(Vr(i))n.push({message:`A Lexer cannot be initialized using an undefined Token Type. Mode:<${s}> at index: <${o}>
`,type:Ve.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED});else if(VA(i,"LONGER_ALT")){const a=fe(i.LONGER_ALT)?i.LONGER_ALT:[i.LONGER_ALT];JA(a,c=>{!Vr(c)&&!Ct(r,c)&&n.push({message:`A MultiMode Lexer cannot be initialized with a longer_alt <${c.name}> on token <${i.name}> outside of mode <${s}>
`,type:Ve.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE})})}})}),n}function Sz(e,A,t){const n=[];let r=!1;const s=Sa(pn(ot(e.modes))),i=Ql(s,a=>a[oi]===bt.NA),o=t_(t);return A&&JA(i,a=>{const c=e_(a,o);if(c!==!1){const u={message:Iz(a,c),type:c.issue,tokenType:a};n.push(u)}else VA(a,"LINE_BREAKS")?a.LINE_BREAKS===!0&&(r=!0):vm(o,a.PATTERN)&&(r=!0)}),A&&!r&&n.push({message:`Warning: No LINE_BREAKS Found.
	This Lexer has been defined to track line and column information,
	But none of the Token Types can be identified as matching a line terminator.
	See https://chevrotain.io/docs/guide/resolving_lexer_errors.html#LINE_BREAKS 
	for details.`,type:Ve.NO_LINE_BREAKS_FLAGS}),n}function Pz(e){const A={},t=Tn(e);return JA(t,n=>{const r=e[n];if(fe(r))A[n]=[];else throw Error("non exhaustive match")}),A}function A_(e){const A=e.PATTERN;if(Wr(A))return!1;if(Fr(A))return!0;if(VA(A,"exec"))return!0;if(en(A))return!1;throw Error("non exhaustive match")}function jz(e){return en(e)&&e.length===1?e.charCodeAt(0):!1}const Rz={test:function(e){const A=e.length;for(let t=this.lastIndex;t<A;t++){const n=e.charCodeAt(t);if(n===10)return this.lastIndex=t+1,!0;if(n===13)return e.charCodeAt(t+1)===10?this.lastIndex=t+2:this.lastIndex=t+1,!0}return!1},lastIndex:0};function e_(e,A){if(VA(e,"LINE_BREAKS"))return!1;if(Wr(e.PATTERN)){try{vm(A,e.PATTERN)}catch(t){return{issue:Ve.IDENTIFY_TERMINATOR,errMsg:t.message}}return!1}else{if(en(e.PATTERN))return!1;if(A_(e))return{issue:Ve.CUSTOM_LINE_BREAK};throw Error("non exhaustive match")}}function Iz(e,A){if(A.issue===Ve.IDENTIFY_TERMINATOR)return`Warning: unable to identify line terminator usage in pattern.
	The problem is in the <${e.name}> Token Type
	 Root cause: ${A.errMsg}.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#IDENTIFY_TERMINATOR`;if(A.issue===Ve.CUSTOM_LINE_BREAK)return`Warning: A Custom Token Pattern should specify the <line_breaks> option.
	The problem is in the <${e.name}> Token Type
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#CUSTOM_LINE_BREAK`;throw Error("non exhaustive match")}function t_(e){return zA(e,t=>en(t)?t.charCodeAt(0):t)}function Ym(e,A,t){e[A]===void 0?e[A]=[t]:e[A].push(t)}const Ca=256;let iu=[];function xs(e){return e<Ca?e:iu[e]}function Cz(){if(Oe(iu)){iu=new Array(65536);for(let e=0;e<65536;e++)iu[e]=e>255?255+~~(e/255):e}}function za(e,A){const t=e.tokenTypeIdx;return t===A.tokenTypeIdx?!0:A.isParent===!0&&A.categoryMatchesMap[t]===!0}function ou(e,A){return e.tokenTypeIdx===A.tokenTypeIdx}let n_=1;const r_={};function Ha(e){const A=zz(e);Hz(A),Uz(A),Lz(A),JA(A,t=>{t.isParent=t.categoryMatches.length>0})}function zz(e){let A=Et(e),t=e,n=!0;for(;n;){t=Sa(pn(zA(t,s=>s.CATEGORIES)));const r=Fl(t,A);A=A.concat(r),Oe(r)?n=!1:t=r}return A}function Hz(e){JA(e,A=>{i_(A)||(r_[n_]=A,A.tokenTypeIdx=n_++),o_(A)&&!fe(A.CATEGORIES)&&(A.CATEGORIES=[A.CATEGORIES]),o_(A)||(A.CATEGORIES=[]),$z(A)||(A.categoryMatches=[]),Fz(A)||(A.categoryMatchesMap={})})}function Lz(e){JA(e,A=>{A.categoryMatches=[],JA(A.categoryMatchesMap,(t,n)=>{A.categoryMatches.push(r_[n].tokenTypeIdx)})})}function Uz(e){JA(e,A=>{s_([],A)})}function s_(e,A){JA(e,t=>{A.categoryMatchesMap[t.tokenTypeIdx]=!0}),JA(A.CATEGORIES,t=>{const n=e.concat(A);Ct(n,t)||s_(n,t)})}function i_(e){return VA(e,"tokenTypeIdx")}function o_(e){return VA(e,"CATEGORIES")}function $z(e){return VA(e,"categoryMatches")}function Fz(e){return VA(e,"categoryMatchesMap")}function Qz(e){return VA(e,"tokenTypeIdx")}const Kz={buildUnableToPopLexerModeMessage(e){return`Unable to pop Lexer Mode after encountering Token ->${e.image}<- The Mode Stack is empty`},buildUnexpectedCharactersMessage(e,A,t,n,r,s){return`unexpected character: ->${e.charAt(A)}<- at offset: ${A}, skipped ${t} characters.`}};var Ve;(function(e){e[e.MISSING_PATTERN=0]="MISSING_PATTERN",e[e.INVALID_PATTERN=1]="INVALID_PATTERN",e[e.EOI_ANCHOR_FOUND=2]="EOI_ANCHOR_FOUND",e[e.UNSUPPORTED_FLAGS_FOUND=3]="UNSUPPORTED_FLAGS_FOUND",e[e.DUPLICATE_PATTERNS_FOUND=4]="DUPLICATE_PATTERNS_FOUND",e[e.INVALID_GROUP_TYPE_FOUND=5]="INVALID_GROUP_TYPE_FOUND",e[e.PUSH_MODE_DOES_NOT_EXIST=6]="PUSH_MODE_DOES_NOT_EXIST",e[e.MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE=7]="MULTI_MODE_LEXER_WITHOUT_DEFAULT_MODE",e[e.MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY=8]="MULTI_MODE_LEXER_WITHOUT_MODES_PROPERTY",e[e.MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST=9]="MULTI_MODE_LEXER_DEFAULT_MODE_VALUE_DOES_NOT_EXIST",e[e.LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED=10]="LEXER_DEFINITION_CANNOT_CONTAIN_UNDEFINED",e[e.SOI_ANCHOR_FOUND=11]="SOI_ANCHOR_FOUND",e[e.EMPTY_MATCH_PATTERN=12]="EMPTY_MATCH_PATTERN",e[e.NO_LINE_BREAKS_FLAGS=13]="NO_LINE_BREAKS_FLAGS",e[e.UNREACHABLE_PATTERN=14]="UNREACHABLE_PATTERN",e[e.IDENTIFY_TERMINATOR=15]="IDENTIFY_TERMINATOR",e[e.CUSTOM_LINE_BREAK=16]="CUSTOM_LINE_BREAK",e[e.MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE=17]="MULTI_MODE_LEXER_LONGER_ALT_NOT_IN_CURRENT_MODE"})(Ve||(Ve={}));const La={deferDefinitionErrorsHandling:!1,positionTracking:"full",lineTerminatorsPattern:/\n|\r\n?/g,lineTerminatorCharacters:[`
`,"\r"],ensureOptimizations:!1,safeMode:!1,errorMessageProvider:Kz,traceInitPerf:!1,skipValidations:!1,recoveryEnabled:!0};Object.freeze(La);let bt=class{constructor(A,t=La){if(this.lexerDefinition=A,this.lexerDefinitionErrors=[],this.lexerDefinitionWarning=[],this.patternIdxToConfig={},this.charCodeToPatternIdxToConfig={},this.modes=[],this.emptyGroups={},this.trackStartLines=!0,this.trackEndLines=!0,this.hasCustom=!1,this.canModeBeOptimized={},this.TRACE_INIT=(r,s)=>{if(this.traceInitPerf===!0){this.traceInitIndent++;const i=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${i}--> <${r}>`);const{time:o,value:a}=Ly(s),c=o>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&c(`${i}<-- <${r}> time: ${o}ms`),this.traceInitIndent--,a}else return s()},typeof t=="boolean")throw Error(`The second argument to the Lexer constructor is now an ILexerConfig Object.
a boolean 2nd argument is no longer supported`);this.config=An({},La,t);const n=this.config.traceInitPerf;n===!0?(this.traceInitMaxIdent=1/0,this.traceInitPerf=!0):typeof n=="number"&&(this.traceInitMaxIdent=n,this.traceInitPerf=!0),this.traceInitIndent=-1,this.TRACE_INIT("Lexer Constructor",()=>{let r,s=!0;this.TRACE_INIT("Lexer Config handling",()=>{if(this.config.lineTerminatorsPattern===La.lineTerminatorsPattern)this.config.lineTerminatorsPattern=Rz;else if(this.config.lineTerminatorCharacters===La.lineTerminatorCharacters)throw Error(`Error: Missing <lineTerminatorCharacters> property on the Lexer config.
	For details See: https://chevrotain.io/docs/guide/resolving_lexer_errors.html#MISSING_LINE_TERM_CHARS`);if(t.safeMode&&t.ensureOptimizations)throw Error('"safeMode" and "ensureOptimizations" flags are mutually exclusive.');this.trackStartLines=/full|onlyStart/i.test(this.config.positionTracking),this.trackEndLines=/full/i.test(this.config.positionTracking),fe(A)?r={modes:{defaultMode:Et(A)},defaultMode:Ia}:(s=!1,r=Et(A))}),this.config.skipValidations===!1&&(this.TRACE_INIT("performRuntimeChecks",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(Tz(r,this.trackStartLines,this.config.lineTerminatorCharacters))}),this.TRACE_INIT("performWarningRuntimeChecks",()=>{this.lexerDefinitionWarning=this.lexerDefinitionWarning.concat(Sz(r,this.trackStartLines,this.config.lineTerminatorCharacters))})),r.modes=r.modes?r.modes:{},JA(r.modes,(o,a)=>{r.modes[a]=Ql(o,c=>Vr(c))});const i=Tn(r.modes);if(JA(r.modes,(o,a)=>{this.TRACE_INIT(`Mode: <${a}> processing`,()=>{if(this.modes.push(a),this.config.skipValidations===!1&&this.TRACE_INIT("validatePatterns",()=>{this.lexerDefinitionErrors=this.lexerDefinitionErrors.concat(pz(o,i))}),Oe(this.lexerDefinitionErrors)){Ha(o);let c;this.TRACE_INIT("analyzeTokenTypes",()=>{c=gz(o,{lineTerminatorCharacters:this.config.lineTerminatorCharacters,positionTracking:t.positionTracking,ensureOptimizations:t.ensureOptimizations,safeMode:t.safeMode,tracer:this.TRACE_INIT})}),this.patternIdxToConfig[a]=c.patternIdxToConfig,this.charCodeToPatternIdxToConfig[a]=c.charCodeToPatternIdxToConfig,this.emptyGroups=An({},this.emptyGroups,c.emptyGroups),this.hasCustom=c.hasCustom||this.hasCustom,this.canModeBeOptimized[a]=c.canBeOptimized}})}),this.defaultMode=r.defaultMode,!Oe(this.lexerDefinitionErrors)&&!this.config.deferDefinitionErrorsHandling){const a=zA(this.lexerDefinitionErrors,c=>c.message).join(`-----------------------
`);throw new Error(`Errors detected in definition of Lexer:
`+a)}JA(this.lexerDefinitionWarning,o=>{Hy(o.message)}),this.TRACE_INIT("Choosing sub-methods implementations",()=>{if(qy?(this.chopInput=ao,this.match=this.matchWithTest):(this.updateLastIndex=dt,this.match=this.matchWithExec),s&&(this.handleModes=dt),this.trackStartLines===!1&&(this.computeNewColumn=ao),this.trackEndLines===!1&&(this.updateTokenEndLineColumnLocation=dt),/full/i.test(this.config.positionTracking))this.createTokenInstance=this.createFullToken;else if(/onlyStart/i.test(this.config.positionTracking))this.createTokenInstance=this.createStartOnlyToken;else if(/onlyOffset/i.test(this.config.positionTracking))this.createTokenInstance=this.createOffsetOnlyToken;else throw Error(`Invalid <positionTracking> config option: "${this.config.positionTracking}"`);this.hasCustom?(this.addToken=this.addTokenUsingPush,this.handlePayload=this.handlePayloadWithCustom):(this.addToken=this.addTokenUsingMemberAccess,this.handlePayload=this.handlePayloadNoCustom)}),this.TRACE_INIT("Failed Optimization Warnings",()=>{const o=tn(this.canModeBeOptimized,(a,c,l)=>(c===!1&&a.push(l),a),[]);if(t.ensureOptimizations&&!Oe(o))throw Error(`Lexer Modes: < ${o.join(", ")} > cannot be optimized.
	 Disable the "ensureOptimizations" lexer config flag to silently ignore this and run the lexer in an un-optimized mode.
	 Or inspect the console log for details on how to resolve these issues.`)}),this.TRACE_INIT("clearRegExpParserCache",()=>{hz()}),this.TRACE_INIT("toFastProperties",()=>{Uy(this)})})}tokenize(A,t=this.defaultMode){if(!Oe(this.lexerDefinitionErrors)){const r=zA(this.lexerDefinitionErrors,s=>s.message).join(`-----------------------
`);throw new Error(`Unable to Tokenize because Errors detected in definition of Lexer:
`+r)}return this.tokenizeInternal(A,t)}tokenizeInternal(A,t){let n,r,s,i,o,a,c,l,u,h,f,m,d,g,p;const x=A,y=x.length;let E=0,B=0;const T=this.hasCustom?0:Math.floor(A.length/10),D=new Array(T),Z=[];let R=this.trackStartLines?1:void 0,j=this.trackStartLines?1:void 0;const L=Pz(this.emptyGroups),v=this.trackStartLines,Y=this.config.lineTerminatorsPattern;let b=0,I=[],$=[];const U=[],W=[];Object.freeze(W);let q;function tA(){return I}function N(gA){const EA=xs(gA),OA=$[EA];return OA===void 0?W:OA}const S=gA=>{if(U.length===1&&gA.tokenType.PUSH_MODE===void 0){const EA=this.config.errorMessageProvider.buildUnableToPopLexerModeMessage(gA);Z.push({offset:gA.startOffset,line:gA.startLine,column:gA.startColumn,length:gA.image.length,message:EA})}else{U.pop();const EA=si(U);I=this.patternIdxToConfig[EA],$=this.charCodeToPatternIdxToConfig[EA],b=I.length;const OA=this.canModeBeOptimized[EA]&&this.config.safeMode===!1;$&&OA?q=N:q=tA}};function AA(gA){U.push(gA),$=this.charCodeToPatternIdxToConfig[gA],I=this.patternIdxToConfig[gA],b=I.length,b=I.length;const EA=this.canModeBeOptimized[gA]&&this.config.safeMode===!1;$&&EA?q=N:q=tA}AA.call(this,t);let Q;const rA=this.config.recoveryEnabled;for(;E<y;){a=null;const gA=x.charCodeAt(E),EA=q(gA),OA=EA.length;for(n=0;n<OA;n++){Q=EA[n];const yA=Q.pattern;c=null;const YA=Q.short;if(YA!==!1?gA===YA&&(a=yA):Q.isCustom===!0?(p=yA.exec(x,E,D,L),p!==null?(a=p[0],p.payload!==void 0&&(c=p.payload)):a=null):(this.updateLastIndex(yA,E),a=this.match(yA,A,E)),a!==null){if(o=Q.longerAlt,o!==void 0){const ZA=o.length;for(s=0;s<ZA;s++){const IA=I[o[s]],FA=IA.pattern;if(l=null,IA.isCustom===!0?(p=FA.exec(x,E,D,L),p!==null?(i=p[0],p.payload!==void 0&&(l=p.payload)):i=null):(this.updateLastIndex(FA,E),i=this.match(FA,A,E)),i&&i.length>a.length){a=i,c=l,Q=IA;break}}}break}}if(a!==null){if(u=a.length,h=Q.group,h!==void 0&&(f=Q.tokenTypeIdx,m=this.createTokenInstance(a,E,f,Q.tokenType,R,j,u),this.handlePayload(m,c),h===!1?B=this.addToken(D,B,m):L[h].push(m)),A=this.chopInput(A,u),E=E+u,j=this.computeNewColumn(j,u),v===!0&&Q.canLineTerminator===!0){let yA=0,YA,ZA;Y.lastIndex=0;do YA=Y.test(a),YA===!0&&(ZA=Y.lastIndex-1,yA++);while(YA===!0);yA!==0&&(R=R+yA,j=u-ZA,this.updateTokenEndLineColumnLocation(m,h,ZA,yA,R,j,u))}this.handleModes(Q,S,AA,m)}else{const yA=E,YA=R,ZA=j;let IA=rA===!1;for(;IA===!1&&E<y;)for(A=this.chopInput(A,1),E++,r=0;r<b;r++){const FA=I[r],k=FA.pattern,hA=FA.short;if(hA!==!1?x.charCodeAt(E)===hA&&(IA=!0):FA.isCustom===!0?IA=k.exec(x,E,D,L)!==null:(this.updateLastIndex(k,E),IA=k.exec(A)!==null),IA===!0)break}if(d=E-yA,j=this.computeNewColumn(j,d),g=this.config.errorMessageProvider.buildUnexpectedCharactersMessage(x,yA,d,YA,ZA,si(U)),Z.push({offset:yA,line:YA,column:ZA,length:d,message:g}),rA===!1)break}}return this.hasCustom||(D.length=B),{tokens:D,groups:L,errors:Z}}handleModes(A,t,n,r){if(A.pop===!0){const s=A.push;t(r),s!==void 0&&n.call(this,s)}else A.push!==void 0&&n.call(this,A.push)}chopInput(A,t){return A.substring(t)}updateLastIndex(A,t){A.lastIndex=t}updateTokenEndLineColumnLocation(A,t,n,r,s,i,o){let a,c;t!==void 0&&(a=n===o-1,c=a?-1:0,r===1&&a===!0||(A.endLine=s+c,A.endColumn=i-1+-c))}computeNewColumn(A,t){return A+t}createOffsetOnlyToken(A,t,n,r){return{image:A,startOffset:t,tokenTypeIdx:n,tokenType:r}}createStartOnlyToken(A,t,n,r,s,i){return{image:A,startOffset:t,startLine:s,startColumn:i,tokenTypeIdx:n,tokenType:r}}createFullToken(A,t,n,r,s,i,o){return{image:A,startOffset:t,endOffset:t+o-1,startLine:s,endLine:s,startColumn:i,endColumn:i+o-1,tokenTypeIdx:n,tokenType:r}}addTokenUsingPush(A,t,n){return A.push(n),t}addTokenUsingMemberAccess(A,t,n){return A[t]=n,t++,t}handlePayloadNoCustom(A,t){}handlePayloadWithCustom(A,t){t!==null&&(A.payload=t)}matchWithTest(A,t,n){return A.test(t)===!0?t.substring(n,A.lastIndex):null}matchWithExec(A,t){const n=A.exec(t);return n!==null?n[0]:null}};bt.SKIPPED="This marks a skipped Token pattern, this means each token identified by it will be consumed and then thrown into oblivion, this can be used to for example to completely ignore whitespace.",bt.NA=/NOT_APPLICABLE/;function Ua(e){return a_(e)?e.LABEL:e.name}function a_(e){return en(e.LABEL)&&e.LABEL!==""}const Wz="parent",c_="categories",l_="label",u_="group",h_="push_mode",f_="pop_mode",d_="longer_alt",m_="line_breaks",g_="start_chars_hint";function zt(e){return Vz(e)}function Vz(e){const A=e.pattern,t={};if(t.name=e.name,Vr(A)||(t.PATTERN=A),VA(e,Wz))throw`The parent property is no longer supported.
See: https://github.com/chevrotain/chevrotain/issues/564#issuecomment-349062346 for details.`;return VA(e,c_)&&(t.CATEGORIES=e[c_]),Ha([t]),VA(e,l_)&&(t.LABEL=e[l_]),VA(e,u_)&&(t.GROUP=e[u_]),VA(e,f_)&&(t.POP_MODE=e[f_]),VA(e,h_)&&(t.PUSH_MODE=e[h_]),VA(e,d_)&&(t.LONGER_ALT=e[d_]),VA(e,m_)&&(t.LINE_BREAKS=e[m_]),VA(e,g_)&&(t.START_CHARS_HINT=e[g_]),t}const ai=zt({name:"EOF",pattern:bt.NA});Ha([ai]);function au(e,A,t,n,r,s,i,o){return{image:A,startOffset:t,endOffset:n,startLine:r,endLine:s,startColumn:i,endColumn:o,tokenTypeIdx:e.tokenTypeIdx,tokenType:e}}function qz(e,A){return za(e,A)}const p_={buildMismatchTokenMessage({expected:e,actual:A,previous:t,ruleName:n}){return`Expecting ${a_(e)?`--> ${Ua(e)} <--`:`token of type --> ${e.name} <--`} but found --> '${A.image}' <--`},buildNotAllInputParsedMessage({firstRedundant:e,ruleName:A}){return"Redundant input, expecting EOF but found: "+e.image},buildNoViableAltMessage({expectedPathsPerAlt:e,actual:A,previous:t,customUserDescription:n,ruleName:r}){const s="Expecting: ",o=`
but found: '`+Jn(A).image+"'";if(n)return s+n+o;{const a=tn(e,(h,f)=>h.concat(f),[]),c=zA(a,h=>`[${zA(h,f=>Ua(f)).join(", ")}]`),u=`one of these possible Token sequences:
${zA(c,(h,f)=>`  ${f+1}. ${h}`).join(`
`)}`;return s+u+o}},buildEarlyExitMessage({expectedIterationPaths:e,actual:A,customUserDescription:t,ruleName:n}){const r="Expecting: ",i=`
but found: '`+Jn(A).image+"'";if(t)return r+t+i;{const a=`expecting at least one iteration which starts with one of these possible Token sequences::
  <${zA(e,c=>`[${zA(c,l=>Ua(l)).join(",")}]`).join(" ,")}>`;return r+a+i}}};Object.freeze(p_);const Jz={buildRuleNotFoundError(e,A){return"Invalid grammar, reference to a rule which is not defined: ->"+A.nonTerminalName+`<-
inside top level rule: ->`+e.name+"<-"}},ci={buildDuplicateFoundError(e,A){function t(l){return l instanceof Ue?l.terminalType.name:l instanceof nn?l.nonTerminalName:""}const n=e.name,r=Jn(A),s=r.idx,i=vr(r),o=t(r),a=s>0;let c=`->${i}${a?s:""}<- ${o?`with argument: ->${o}<-`:""}
                  appears more than once (${A.length} times) in the top level rule: ->${n}<-.                  
                  For further details see: https://chevrotain.io/docs/FAQ.html#NUMERICAL_SUFFIXES 
                  `;return c=c.replace(/[ \t]+/g," "),c=c.replace(/\s\s+/g,`
`),c},buildNamespaceConflictError(e){return`Namespace conflict found in grammar.
The grammar has both a Terminal(Token) and a Non-Terminal(Rule) named: <${e.name}>.
To resolve this make sure each Terminal and Non-Terminal names are unique
This is easy to accomplish by using the convention that Terminal names start with an uppercase letter
and Non-Terminal names start with a lower case letter.`},buildAlternationPrefixAmbiguityError(e){const A=zA(e.prefixPath,r=>Ua(r)).join(", "),t=e.alternation.idx===0?"":e.alternation.idx;return`Ambiguous alternatives: <${e.ambiguityIndices.join(" ,")}> due to common lookahead prefix
in <OR${t}> inside <${e.topLevelRule.name}> Rule,
<${A}> may appears as a prefix path in all these alternatives.
See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#COMMON_PREFIX
For Further details.`},buildAlternationAmbiguityError(e){const A=zA(e.prefixPath,r=>Ua(r)).join(", "),t=e.alternation.idx===0?"":e.alternation.idx;let n=`Ambiguous Alternatives Detected: <${e.ambiguityIndices.join(" ,")}> in <OR${t}> inside <${e.topLevelRule.name}> Rule,
<${A}> may appears as a prefix path in all these alternatives.
`;return n=n+`See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#AMBIGUOUS_ALTERNATIVES
For Further details.`,n},buildEmptyRepetitionError(e){let A=vr(e.repetition);return e.repetition.idx!==0&&(A+=e.repetition.idx),`The repetition <${A}> within Rule <${e.topLevelRule.name}> can never consume any tokens.
This could lead to an infinite loop.`},buildTokenNameError(e){return"deprecated"},buildEmptyAlternationError(e){return`Ambiguous empty alternative: <${e.emptyChoiceIdx+1}> in <OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
Only the last alternative may be an empty alternative.`},buildTooManyAlternativesError(e){return`An Alternation cannot have more than 256 alternatives:
<OR${e.alternation.idx}> inside <${e.topLevelRule.name}> Rule.
 has ${e.alternation.definition.length+1} alternatives.`},buildLeftRecursionError(e){const A=e.topLevelRule.name,t=zA(e.leftRecursionPath,s=>s.name),n=`${A} --> ${t.concat([A]).join(" --> ")}`;return`Left Recursion found in grammar.
rule: <${A}> can be invoked from itself (directly or indirectly)
without consuming any Tokens. The grammar path that causes this is: 
 ${n}
 To fix this refactor your grammar to remove the left recursion.
see: https://en.wikipedia.org/wiki/LL_parser#Left_factoring.`},buildInvalidRuleNameError(e){return"deprecated"},buildDuplicateRuleNameError(e){let A;return e.topLevelRule instanceof ho?A=e.topLevelRule.name:A=e.topLevelRule,`Duplicate definition, rule: ->${A}<- is already defined in the grammar: ->${e.grammarName}<-`}};function Xz(e,A){const t=new AH(e,A);return t.resolveRefs(),t.errors}class AH extends ii{constructor(A,t){super(),this.nameToTopRule=A,this.errMsgProvider=t,this.errors=[]}resolveRefs(){JA(ot(this.nameToTopRule),A=>{this.currTopLevel=A,A.accept(this)})}visitNonTerminal(A){const t=this.nameToTopRule[A.nonTerminalName];if(t)A.referencedRule=t;else{const n=this.errMsgProvider.buildRuleNotFoundError(this.currTopLevel,A);this.errors.push({message:n,type:Ht.UNRESOLVED_SUBRULE_REF,ruleName:this.currTopLevel.name,unresolvedRefName:A.nonTerminalName})}}}class eH extends ql{constructor(A,t){super(),this.topProd=A,this.path=t,this.possibleTokTypes=[],this.nextProductionName="",this.nextProductionOccurrence=0,this.found=!1,this.isAtEndOfPath=!1}startWalking(){if(this.found=!1,this.path.ruleStack[0]!==this.topProd.name)throw Error("The path does not start with the walker's top Rule!");return this.ruleStack=Et(this.path.ruleStack).reverse(),this.occurrenceStack=Et(this.path.occurrenceStack).reverse(),this.ruleStack.pop(),this.occurrenceStack.pop(),this.updateExpectedNext(),this.walk(this.topProd),this.possibleTokTypes}walk(A,t=[]){this.found||super.walk(A,t)}walkProdRef(A,t,n){if(A.referencedRule.name===this.nextProductionName&&A.idx===this.nextProductionOccurrence){const r=t.concat(n);this.updateExpectedNext(),this.walk(A.referencedRule,r)}}updateExpectedNext(){Oe(this.ruleStack)?(this.nextProductionName="",this.nextProductionOccurrence=0,this.isAtEndOfPath=!0):(this.nextProductionName=this.ruleStack.pop(),this.nextProductionOccurrence=this.occurrenceStack.pop())}}class tH extends eH{constructor(A,t){super(A,t),this.path=t,this.nextTerminalName="",this.nextTerminalOccurrence=0,this.nextTerminalName=this.path.lastTok.name,this.nextTerminalOccurrence=this.path.lastTokOccurrence}walkTerminal(A,t,n){if(this.isAtEndOfPath&&A.terminalType.name===this.nextTerminalName&&A.idx===this.nextTerminalOccurrence&&!this.found){const r=t.concat(n),s=new rn({definition:r});this.possibleTokTypes=ja(s),this.found=!0}}}class cu extends ql{constructor(A,t){super(),this.topRule=A,this.occurrence=t,this.result={token:void 0,occurrence:void 0,isEndOfRule:void 0}}startWalking(){return this.walk(this.topRule),this.result}}class nH extends cu{walkMany(A,t,n){if(A.idx===this.occurrence){const r=Jn(t.concat(n));this.result.isEndOfRule=r===void 0,r instanceof Ue&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkMany(A,t,n)}}class w_ extends cu{walkManySep(A,t,n){if(A.idx===this.occurrence){const r=Jn(t.concat(n));this.result.isEndOfRule=r===void 0,r instanceof Ue&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkManySep(A,t,n)}}class rH extends cu{walkAtLeastOne(A,t,n){if(A.idx===this.occurrence){const r=Jn(t.concat(n));this.result.isEndOfRule=r===void 0,r instanceof Ue&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOne(A,t,n)}}class G_ extends cu{walkAtLeastOneSep(A,t,n){if(A.idx===this.occurrence){const r=Jn(t.concat(n));this.result.isEndOfRule=r===void 0,r instanceof Ue&&(this.result.token=r.terminalType,this.result.occurrence=r.idx)}else super.walkAtLeastOneSep(A,t,n)}}function Nm(e,A,t=[]){t=Et(t);let n=[],r=0;function s(o){return o.concat(kt(e,r+1))}function i(o){const a=Nm(s(o),A,t);return n.concat(a)}for(;t.length<A&&r<e.length;){const o=e[r];if(o instanceof rn)return i(o.definition);if(o instanceof nn)return i(o.definition);if(o instanceof sn)n=i(o.definition);else if(o instanceof Er){const a=o.definition.concat([new mt({definition:o.definition})]);return i(a)}else if(o instanceof kr){const a=[new rn({definition:o.definition}),new mt({definition:[new Ue({terminalType:o.separator})].concat(o.definition)})];return i(a)}else if(o instanceof Ar){const a=o.definition.concat([new mt({definition:[new Ue({terminalType:o.separator})].concat(o.definition)})]);n=i(a)}else if(o instanceof mt){const a=o.definition.concat([new mt({definition:o.definition})]);n=i(a)}else{if(o instanceof er)return JA(o.definition,a=>{Oe(a.definition)===!1&&(n=i(a.definition))}),n;if(o instanceof Ue)t.push(o.terminalType);else throw Error("non exhaustive match")}r++}return n.push({partialPath:t,suffixDef:kt(e,r)}),n}function x_(e,A,t,n){const r="EXIT_NONE_TERMINAL",s=[r],i="EXIT_ALTERNATIVE";let o=!1;const a=A.length,c=a-n-1,l=[],u=[];for(u.push({idx:-1,def:e,ruleStack:[],occurrenceStack:[]});!Oe(u);){const h=u.pop();if(h===i){o&&si(u).idx<=c&&u.pop();continue}const f=h.def,m=h.idx,d=h.ruleStack,g=h.occurrenceStack;if(Oe(f))continue;const p=f[0];if(p===r){const x={idx:m,def:kt(f),ruleStack:Pa(d),occurrenceStack:Pa(g)};u.push(x)}else if(p instanceof Ue)if(m<a-1){const x=m+1,y=A[x];if(t(y,p.terminalType)){const E={idx:x,def:kt(f),ruleStack:d,occurrenceStack:g};u.push(E)}}else if(m===a-1)l.push({nextTokenType:p.terminalType,nextTokenOccurrence:p.idx,ruleStack:d,occurrenceStack:g}),o=!0;else throw Error("non exhaustive match");else if(p instanceof nn){const x=Et(d);x.push(p.nonTerminalName);const y=Et(g);y.push(p.idx);const E={idx:m,def:p.definition.concat(s,kt(f)),ruleStack:x,occurrenceStack:y};u.push(E)}else if(p instanceof sn){const x={idx:m,def:kt(f),ruleStack:d,occurrenceStack:g};u.push(x),u.push(i);const y={idx:m,def:p.definition.concat(kt(f)),ruleStack:d,occurrenceStack:g};u.push(y)}else if(p instanceof Er){const x=new mt({definition:p.definition,idx:p.idx}),y=p.definition.concat([x],kt(f)),E={idx:m,def:y,ruleStack:d,occurrenceStack:g};u.push(E)}else if(p instanceof kr){const x=new Ue({terminalType:p.separator}),y=new mt({definition:[x].concat(p.definition),idx:p.idx}),E=p.definition.concat([y],kt(f)),B={idx:m,def:E,ruleStack:d,occurrenceStack:g};u.push(B)}else if(p instanceof Ar){const x={idx:m,def:kt(f),ruleStack:d,occurrenceStack:g};u.push(x),u.push(i);const y=new Ue({terminalType:p.separator}),E=new mt({definition:[y].concat(p.definition),idx:p.idx}),B=p.definition.concat([E],kt(f)),T={idx:m,def:B,ruleStack:d,occurrenceStack:g};u.push(T)}else if(p instanceof mt){const x={idx:m,def:kt(f),ruleStack:d,occurrenceStack:g};u.push(x),u.push(i);const y=new mt({definition:p.definition,idx:p.idx}),E=p.definition.concat([y],kt(f)),B={idx:m,def:E,ruleStack:d,occurrenceStack:g};u.push(B)}else if(p instanceof er)for(let x=p.definition.length-1;x>=0;x--){const y=p.definition[x],E={idx:m,def:y.definition.concat(kt(f)),ruleStack:d,occurrenceStack:g};u.push(E),u.push(i)}else if(p instanceof rn)u.push({idx:m,def:p.definition.concat(kt(f)),ruleStack:d,occurrenceStack:g});else if(p instanceof ho)u.push(sH(p,m,d,g));else throw Error("non exhaustive match")}return l}function sH(e,A,t,n){const r=Et(t);r.push(e.name);const s=Et(n);return s.push(1),{idx:A,def:e.definition,ruleStack:r,occurrenceStack:s}}var qe;(function(e){e[e.OPTION=0]="OPTION",e[e.REPETITION=1]="REPETITION",e[e.REPETITION_MANDATORY=2]="REPETITION_MANDATORY",e[e.REPETITION_MANDATORY_WITH_SEPARATOR=3]="REPETITION_MANDATORY_WITH_SEPARATOR",e[e.REPETITION_WITH_SEPARATOR=4]="REPETITION_WITH_SEPARATOR",e[e.ALTERNATION=5]="ALTERNATION"})(qe||(qe={}));function M_(e){if(e instanceof sn||e==="Option")return qe.OPTION;if(e instanceof mt||e==="Repetition")return qe.REPETITION;if(e instanceof Er||e==="RepetitionMandatory")return qe.REPETITION_MANDATORY;if(e instanceof kr||e==="RepetitionMandatoryWithSeparator")return qe.REPETITION_MANDATORY_WITH_SEPARATOR;if(e instanceof Ar||e==="RepetitionWithSeparator")return qe.REPETITION_WITH_SEPARATOR;if(e instanceof er||e==="Alternation")return qe.ALTERNATION;throw Error("non exhaustive match")}function iH(e,A,t,n,r,s){const i=Om(e,A,t),o=D_(i)?ou:za;return s(i,n,o,r)}function oH(e,A,t,n,r,s){const i=Tm(e,A,r,t),o=D_(i)?ou:za;return s(i[0],o,n)}function aH(e,A,t,n){const r=e.length,s=qn(e,i=>qn(i,o=>o.length===1));if(A)return function(i){const o=zA(i,a=>a.GATE);for(let a=0;a<r;a++){const c=e[a],l=c.length,u=o[a];if(!(u!==void 0&&u.call(this)===!1))A:for(let h=0;h<l;h++){const f=c[h],m=f.length;for(let d=0;d<m;d++){const g=this.LA(d+1);if(t(g,f[d])===!1)continue A}return a}}};if(s&&!n){const i=zA(e,a=>pn(a)),o=tn(i,(a,c,l)=>(JA(c,u=>{VA(a,u.tokenTypeIdx)||(a[u.tokenTypeIdx]=l),JA(u.categoryMatches,h=>{VA(a,h)||(a[h]=l)})}),a),{});return function(){const a=this.LA(1);return o[a.tokenTypeIdx]}}else return function(){for(let i=0;i<r;i++){const o=e[i],a=o.length;A:for(let c=0;c<a;c++){const l=o[c],u=l.length;for(let h=0;h<u;h++){const f=this.LA(h+1);if(t(f,l[h])===!1)continue A}return i}}}}function cH(e,A,t){const n=qn(e,s=>s.length===1),r=e.length;if(n&&!t){const s=pn(e);if(s.length===1&&Oe(s[0].categoryMatches)){const o=s[0].tokenTypeIdx;return function(){return this.LA(1).tokenTypeIdx===o}}else{const i=tn(s,(o,a,c)=>(o[a.tokenTypeIdx]=!0,JA(a.categoryMatches,l=>{o[l]=!0}),o),[]);return function(){const o=this.LA(1);return i[o.tokenTypeIdx]===!0}}}else return function(){A:for(let s=0;s<r;s++){const i=e[s],o=i.length;for(let a=0;a<o;a++){const c=this.LA(a+1);if(A(c,i[a])===!1)continue A}return!0}return!1}}class lH extends ql{constructor(A,t,n){super(),this.topProd=A,this.targetOccurrence=t,this.targetProdType=n}startWalking(){return this.walk(this.topProd),this.restDef}checkIsTarget(A,t,n,r){return A.idx===this.targetOccurrence&&this.targetProdType===t?(this.restDef=n.concat(r),!0):!1}walkOption(A,t,n){this.checkIsTarget(A,qe.OPTION,t,n)||super.walkOption(A,t,n)}walkAtLeastOne(A,t,n){this.checkIsTarget(A,qe.REPETITION_MANDATORY,t,n)||super.walkOption(A,t,n)}walkAtLeastOneSep(A,t,n){this.checkIsTarget(A,qe.REPETITION_MANDATORY_WITH_SEPARATOR,t,n)||super.walkOption(A,t,n)}walkMany(A,t,n){this.checkIsTarget(A,qe.REPETITION,t,n)||super.walkOption(A,t,n)}walkManySep(A,t,n){this.checkIsTarget(A,qe.REPETITION_WITH_SEPARATOR,t,n)||super.walkOption(A,t,n)}}class b_ extends ii{constructor(A,t,n){super(),this.targetOccurrence=A,this.targetProdType=t,this.targetRef=n,this.result=[]}checkIsTarget(A,t){A.idx===this.targetOccurrence&&this.targetProdType===t&&(this.targetRef===void 0||A===this.targetRef)&&(this.result=A.definition)}visitOption(A){this.checkIsTarget(A,qe.OPTION)}visitRepetition(A){this.checkIsTarget(A,qe.REPETITION)}visitRepetitionMandatory(A){this.checkIsTarget(A,qe.REPETITION_MANDATORY)}visitRepetitionMandatoryWithSeparator(A){this.checkIsTarget(A,qe.REPETITION_MANDATORY_WITH_SEPARATOR)}visitRepetitionWithSeparator(A){this.checkIsTarget(A,qe.REPETITION_WITH_SEPARATOR)}visitAlternation(A){this.checkIsTarget(A,qe.ALTERNATION)}}function y_(e){const A=new Array(e);for(let t=0;t<e;t++)A[t]=[];return A}function Zm(e){let A=[""];for(let t=0;t<e.length;t++){const n=e[t],r=[];for(let s=0;s<A.length;s++){const i=A[s];r.push(i+"_"+n.tokenTypeIdx);for(let o=0;o<n.categoryMatches.length;o++){const a="_"+n.categoryMatches[o];r.push(i+a)}}A=r}return A}function uH(e,A,t){for(let n=0;n<e.length;n++){if(n===t)continue;const r=e[n];for(let s=0;s<A.length;s++){const i=A[s];if(r[i]===!0)return!1}}return!0}function __(e,A){const t=zA(e,i=>Nm([i],1)),n=y_(t.length),r=zA(t,i=>{const o={};return JA(i,a=>{const c=Zm(a.partialPath);JA(c,l=>{o[l]=!0})}),o});let s=t;for(let i=1;i<=A;i++){const o=s;s=y_(o.length);for(let a=0;a<o.length;a++){const c=o[a];for(let l=0;l<c.length;l++){const u=c[l].partialPath,h=c[l].suffixDef,f=Zm(u);if(uH(r,f,a)||Oe(h)||u.length===A){const d=n[a];if(Sm(d,u)===!1){d.push(u);for(let g=0;g<f.length;g++){const p=f[g];r[a][p]=!0}}}else{const d=Nm(h,i+1,u);s[a]=s[a].concat(d),JA(d,g=>{const p=Zm(g.partialPath);JA(p,x=>{r[a][x]=!0})})}}}}return n}function Om(e,A,t,n){const r=new b_(e,qe.ALTERNATION,n);return A.accept(r),__(r.result,t)}function Tm(e,A,t,n){const r=new b_(e,t);A.accept(r);const s=r.result,o=new lH(A,e,t).startWalking(),a=new rn({definition:s}),c=new rn({definition:o});return __([a,c],n)}function Sm(e,A){A:for(let t=0;t<e.length;t++){const n=e[t];if(n.length===A.length){for(let r=0;r<n.length;r++){const s=A[r],i=n[r];if((s===i||i.categoryMatchesMap[s.tokenTypeIdx]!==void 0)===!1)continue A}return!0}}return!1}function hH(e,A){return e.length<A.length&&qn(e,(t,n)=>{const r=A[n];return t===r||r.categoryMatchesMap[t.tokenTypeIdx]})}function D_(e){return qn(e,A=>qn(A,t=>qn(t,n=>Oe(n.categoryMatches))))}function fH(e){const A=e.lookaheadStrategy.validate({rules:e.rules,tokenTypes:e.tokenTypes,grammarName:e.grammarName});return zA(A,t=>Object.assign({type:Ht.CUSTOM_LOOKAHEAD_VALIDATION},t))}function dH(e,A,t,n){const r=jn(e,a=>mH(a,t)),s=EH(e,A,t),i=jn(e,a=>yH(a,t)),o=jn(e,a=>wH(a,e,n,t));return r.concat(s,i,o)}function mH(e,A){const t=new pH;e.accept(t);const n=t.allProductions,r=Iy(n,gH),s=Xn(r,o=>o.length>1);return zA(ot(s),o=>{const a=Jn(o),c=A.buildDuplicateFoundError(e,o),l=vr(a),u={message:c,type:Ht.DUPLICATE_PRODUCTIONS,ruleName:e.name,dslName:l,occurrence:a.idx},h=B_(a);return h&&(u.parameter=h),u})}function gH(e){return`${vr(e)}_#_${e.idx}_#_${B_(e)}`}function B_(e){return e instanceof Ue?e.terminalType.name:e instanceof nn?e.nonTerminalName:""}class pH extends ii{constructor(){super(...arguments),this.allProductions=[]}visitNonTerminal(A){this.allProductions.push(A)}visitOption(A){this.allProductions.push(A)}visitRepetitionWithSeparator(A){this.allProductions.push(A)}visitRepetitionMandatory(A){this.allProductions.push(A)}visitRepetitionMandatoryWithSeparator(A){this.allProductions.push(A)}visitRepetition(A){this.allProductions.push(A)}visitAlternation(A){this.allProductions.push(A)}visitTerminal(A){this.allProductions.push(A)}}function wH(e,A,t,n){const r=[];if(tn(A,(i,o)=>o.name===e.name?i+1:i,0)>1){const i=n.buildDuplicateRuleNameError({topLevelRule:e,grammarName:t});r.push({message:i,type:Ht.DUPLICATE_RULE_NAME,ruleName:e.name})}return r}function GH(e,A,t){const n=[];let r;return Ct(A,e)||(r=`Invalid rule override, rule: ->${e}<- cannot be overridden in the grammar: ->${t}<-as it is not defined in any of the super grammars `,n.push({message:r,type:Ht.INVALID_RULE_OVERRIDE,ruleName:e})),n}function E_(e,A,t,n=[]){const r=[],s=lu(A.definition);if(Oe(s))return[];{const i=e.name;Ct(s,e)&&r.push({message:t.buildLeftRecursionError({topLevelRule:e,leftRecursionPath:n}),type:Ht.LEFT_RECURSION,ruleName:i});const a=Fl(s,n.concat([e])),c=jn(a,l=>{const u=Et(n);return u.push(l),E_(e,l,t,u)});return r.concat(c)}}function lu(e){let A=[];if(Oe(e))return A;const t=Jn(e);if(t instanceof nn)A.push(t.referencedRule);else if(t instanceof rn||t instanceof sn||t instanceof Er||t instanceof kr||t instanceof Ar||t instanceof mt)A=A.concat(lu(t.definition));else if(t instanceof er)A=pn(zA(t.definition,s=>lu(s.definition)));else if(!(t instanceof Ue))throw Error("non exhaustive match");const n=Vl(t),r=e.length>1;if(n&&r){const s=kt(e);return A.concat(lu(s))}else return A}class Pm extends ii{constructor(){super(...arguments),this.alternations=[]}visitAlternation(A){this.alternations.push(A)}}function xH(e,A){const t=new Pm;e.accept(t);const n=t.alternations;return jn(n,s=>{const i=Pa(s.definition);return jn(i,(o,a)=>{const c=x_([o],[],za,1);return Oe(c)?[{message:A.buildEmptyAlternationError({topLevelRule:e,alternation:s,emptyChoiceIdx:a}),type:Ht.NONE_LAST_EMPTY_ALT,ruleName:e.name,occurrence:s.idx,alternative:a+1}]:[]})})}function MH(e,A,t){const n=new Pm;e.accept(n);let r=n.alternations;return r=Ql(r,i=>i.ignoreAmbiguities===!0),jn(r,i=>{const o=i.idx,a=i.maxLookahead||A,c=Om(o,e,a,i),l=DH(c,i,e,t),u=BH(c,i,e,t);return l.concat(u)})}class bH extends ii{constructor(){super(...arguments),this.allProductions=[]}visitRepetitionWithSeparator(A){this.allProductions.push(A)}visitRepetitionMandatory(A){this.allProductions.push(A)}visitRepetitionMandatoryWithSeparator(A){this.allProductions.push(A)}visitRepetition(A){this.allProductions.push(A)}}function yH(e,A){const t=new Pm;e.accept(t);const n=t.alternations;return jn(n,s=>s.definition.length>255?[{message:A.buildTooManyAlternativesError({topLevelRule:e,alternation:s}),type:Ht.TOO_MANY_ALTS,ruleName:e.name,occurrence:s.idx}]:[])}function _H(e,A,t){const n=[];return JA(e,r=>{const s=new bH;r.accept(s);const i=s.allProductions;JA(i,o=>{const a=M_(o),c=o.maxLookahead||A,l=o.idx,h=Tm(l,r,a,c)[0];if(Oe(pn(h))){const f=t.buildEmptyRepetitionError({topLevelRule:r,repetition:o});n.push({message:f,type:Ht.NO_NON_EMPTY_LOOKAHEAD,ruleName:r.name})}})}),n}function DH(e,A,t,n){const r=[],s=tn(e,(o,a,c)=>(A.definition[c].ignoreAmbiguities===!0||JA(a,l=>{const u=[c];JA(e,(h,f)=>{c!==f&&Sm(h,l)&&A.definition[f].ignoreAmbiguities!==!0&&u.push(f)}),u.length>1&&!Sm(r,l)&&(r.push(l),o.push({alts:u,path:l}))}),o),[]);return zA(s,o=>{const a=zA(o.alts,l=>l+1);return{message:n.buildAlternationAmbiguityError({topLevelRule:t,alternation:A,ambiguityIndices:a,prefixPath:o.path}),type:Ht.AMBIGUOUS_ALTS,ruleName:t.name,occurrence:A.idx,alternatives:o.alts}})}function BH(e,A,t,n){const r=tn(e,(i,o,a)=>{const c=zA(o,l=>({idx:a,path:l}));return i.concat(c)},[]);return Sa(jn(r,i=>{if(A.definition[i.idx].ignoreAmbiguities===!0)return[];const a=i.idx,c=i.path,l=Pn(r,h=>A.definition[h.idx].ignoreAmbiguities!==!0&&h.idx<a&&hH(h.path,c));return zA(l,h=>{const f=[h.idx+1,a+1],m=A.idx===0?"":A.idx;return{message:n.buildAlternationPrefixAmbiguityError({topLevelRule:t,alternation:A,ambiguityIndices:f,prefixPath:h.path}),type:Ht.AMBIGUOUS_PREFIX_ALTS,ruleName:t.name,occurrence:m,alternatives:f}})}))}function EH(e,A,t){const n=[],r=zA(A,s=>s.name);return JA(e,s=>{const i=s.name;if(Ct(r,i)){const o=t.buildNamespaceConflictError(s);n.push({message:o,type:Ht.CONFLICT_TOKENS_RULES_NAMESPACE,ruleName:i})}}),n}function kH(e){const A=bm(e,{errMsgProvider:Jz}),t={};return JA(e.rules,n=>{t[n.name]=n}),Xz(t,A.errMsgProvider)}function vH(e){return e=bm(e,{errMsgProvider:ci}),dH(e.rules,e.tokenTypes,e.errMsgProvider,e.grammarName)}const k_="MismatchedTokenException",v_="NoViableAltException",Y_="EarlyExitException",N_="NotAllInputParsedException",Z_=[k_,v_,Y_,N_];Object.freeze(Z_);function uu(e){return Ct(Z_,e.name)}class hu extends Error{constructor(A,t){super(A),this.token=t,this.resyncedTokens=[],Object.setPrototypeOf(this,new.target.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)}}class O_ extends hu{constructor(A,t,n){super(A,t),this.previousToken=n,this.name=k_}}class YH extends hu{constructor(A,t,n){super(A,t),this.previousToken=n,this.name=v_}}class NH extends hu{constructor(A,t){super(A,t),this.name=N_}}class ZH extends hu{constructor(A,t,n){super(A,t),this.previousToken=n,this.name=Y_}}const jm={},T_="InRuleRecoveryException";class OH extends Error{constructor(A){super(A),this.name=T_}}class TH{initRecoverable(A){this.firstAfterRepMap={},this.resyncFollows={},this.recoveryEnabled=VA(A,"recoveryEnabled")?A.recoveryEnabled:qr.recoveryEnabled,this.recoveryEnabled&&(this.attemptInRepetitionRecovery=SH)}getTokenToInsert(A){const t=au(A,"",NaN,NaN,NaN,NaN,NaN,NaN);return t.isInsertedInRecovery=!0,t}canTokenTypeBeInsertedInRecovery(A){return!0}canTokenTypeBeDeletedInRecovery(A){return!0}tryInRepetitionRecovery(A,t,n,r){const s=this.findReSyncTokenType(),i=this.exportLexerState(),o=[];let a=!1;const c=this.LA(1);let l=this.LA(1);const u=()=>{const h=this.LA(0),f=this.errorMessageProvider.buildMismatchTokenMessage({expected:r,actual:c,previous:h,ruleName:this.getCurrRuleFullName()}),m=new O_(f,c,this.LA(0));m.resyncedTokens=Pa(o),this.SAVE_ERROR(m)};for(;!a;)if(this.tokenMatcher(l,r)){u();return}else if(n.call(this)){u(),A.apply(this,t);return}else this.tokenMatcher(l,s)?a=!0:(l=this.SKIP_TOKEN(),this.addToResyncTokens(l,o));this.importLexerState(i)}shouldInRepetitionRecoveryBeTried(A,t,n){return!(n===!1||this.tokenMatcher(this.LA(1),A)||this.isBackTracking()||this.canPerformInRuleRecovery(A,this.getFollowsForInRuleRecovery(A,t)))}getFollowsForInRuleRecovery(A,t){const n=this.getCurrentGrammarPath(A,t);return this.getNextPossibleTokenTypes(n)}tryInRuleRecovery(A,t){if(this.canRecoverWithSingleTokenInsertion(A,t))return this.getTokenToInsert(A);if(this.canRecoverWithSingleTokenDeletion(A)){const n=this.SKIP_TOKEN();return this.consumeToken(),n}throw new OH("sad sad panda")}canPerformInRuleRecovery(A,t){return this.canRecoverWithSingleTokenInsertion(A,t)||this.canRecoverWithSingleTokenDeletion(A)}canRecoverWithSingleTokenInsertion(A,t){if(!this.canTokenTypeBeInsertedInRecovery(A)||Oe(t))return!1;const n=this.LA(1);return uo(t,s=>this.tokenMatcher(n,s))!==void 0}canRecoverWithSingleTokenDeletion(A){return this.canTokenTypeBeDeletedInRecovery(A)?this.tokenMatcher(this.LA(2),A):!1}isInCurrentRuleReSyncSet(A){const t=this.getCurrFollowKey(),n=this.getFollowSetFromFollowKey(t);return Ct(n,A)}findReSyncTokenType(){const A=this.flattenFollowSet();let t=this.LA(1),n=2;for(;;){const r=uo(A,s=>qz(t,s));if(r!==void 0)return r;t=this.LA(n),n++}}getCurrFollowKey(){if(this.RULE_STACK.length===1)return jm;const A=this.getLastExplicitRuleShortName(),t=this.getLastExplicitRuleOccurrenceIndex(),n=this.getPreviousExplicitRuleShortName();return{ruleName:this.shortRuleNameToFullName(A),idxInCallingRule:t,inRule:this.shortRuleNameToFullName(n)}}buildFullFollowKeyStack(){const A=this.RULE_STACK,t=this.RULE_OCCURRENCE_STACK;return zA(A,(n,r)=>r===0?jm:{ruleName:this.shortRuleNameToFullName(n),idxInCallingRule:t[r],inRule:this.shortRuleNameToFullName(A[r-1])})}flattenFollowSet(){const A=zA(this.buildFullFollowKeyStack(),t=>this.getFollowSetFromFollowKey(t));return pn(A)}getFollowSetFromFollowKey(A){if(A===jm)return[ai];const t=A.ruleName+A.idxInCallingRule+Fy+A.inRule;return this.resyncFollows[t]}addToResyncTokens(A,t){return this.tokenMatcher(A,ai)||t.push(A),t}reSyncTo(A){const t=[];let n=this.LA(1);for(;this.tokenMatcher(n,A)===!1;)n=this.SKIP_TOKEN(),this.addToResyncTokens(n,t);return Pa(t)}attemptInRepetitionRecovery(A,t,n,r,s,i,o){}getCurrentGrammarPath(A,t){const n=this.getHumanReadableRuleStack(),r=Et(this.RULE_OCCURRENCE_STACK);return{ruleStack:n,occurrenceStack:r,lastTok:A,lastTokOccurrence:t}}getHumanReadableRuleStack(){return zA(this.RULE_STACK,A=>this.shortRuleNameToFullName(A))}}function SH(e,A,t,n,r,s,i){const o=this.getKeyForAutomaticLookahead(n,r);let a=this.firstAfterRepMap[o];if(a===void 0){const h=this.getCurrRuleFullName(),f=this.getGAstProductions()[h];a=new s(f,r).startWalking(),this.firstAfterRepMap[o]=a}let c=a.token,l=a.occurrence;const u=a.isEndOfRule;this.RULE_STACK.length===1&&u&&c===void 0&&(c=ai,l=1),!(c===void 0||l===void 0)&&this.shouldInRepetitionRecoveryBeTried(c,l,i)&&this.tryInRepetitionRecovery(e,A,t,c)}const PH=4,Ms=8,S_=1<<Ms,P_=2<<Ms,Rm=3<<Ms,Im=4<<Ms,Cm=5<<Ms,fu=6<<Ms;function zm(e,A,t){return t|A|e}class jH{constructor(A){var t;this.maxLookahead=(t=A?.maxLookahead)!==null&&t!==void 0?t:qr.maxLookahead}validate(A){const t=this.validateNoLeftRecursion(A.rules);if(Oe(t)){const n=this.validateEmptyOrAlternatives(A.rules),r=this.validateAmbiguousAlternationAlternatives(A.rules,this.maxLookahead),s=this.validateSomeNonEmptyLookaheadPath(A.rules,this.maxLookahead);return[...t,...n,...r,...s]}return t}validateNoLeftRecursion(A){return jn(A,t=>E_(t,t,ci))}validateEmptyOrAlternatives(A){return jn(A,t=>xH(t,ci))}validateAmbiguousAlternationAlternatives(A,t){return jn(A,n=>MH(n,t,ci))}validateSomeNonEmptyLookaheadPath(A,t){return _H(A,t,ci)}buildLookaheadForAlternation(A){return iH(A.prodOccurrence,A.rule,A.maxLookahead,A.hasPredicates,A.dynamicTokensEnabled,aH)}buildLookaheadForOptional(A){return oH(A.prodOccurrence,A.rule,A.maxLookahead,A.dynamicTokensEnabled,M_(A.prodType),cH)}}class RH{initLooksAhead(A){this.dynamicTokensEnabled=VA(A,"dynamicTokensEnabled")?A.dynamicTokensEnabled:qr.dynamicTokensEnabled,this.maxLookahead=VA(A,"maxLookahead")?A.maxLookahead:qr.maxLookahead,this.lookaheadStrategy=VA(A,"lookaheadStrategy")?A.lookaheadStrategy:new jH({maxLookahead:this.maxLookahead}),this.lookAheadFuncsCache=new Map}preComputeLookaheadFunctions(A){JA(A,t=>{this.TRACE_INIT(`${t.name} Rule Lookahead`,()=>{const{alternation:n,repetition:r,option:s,repetitionMandatory:i,repetitionMandatoryWithSeparator:o,repetitionWithSeparator:a}=CH(t);JA(n,c=>{const l=c.idx===0?"":c.idx;this.TRACE_INIT(`${vr(c)}${l}`,()=>{const u=this.lookaheadStrategy.buildLookaheadForAlternation({prodOccurrence:c.idx,rule:t,maxLookahead:c.maxLookahead||this.maxLookahead,hasPredicates:c.hasPredicates,dynamicTokensEnabled:this.dynamicTokensEnabled}),h=zm(this.fullRuleNameToShort[t.name],S_,c.idx);this.setLaFuncCache(h,u)})}),JA(r,c=>{this.computeLookaheadFunc(t,c.idx,Rm,"Repetition",c.maxLookahead,vr(c))}),JA(s,c=>{this.computeLookaheadFunc(t,c.idx,P_,"Option",c.maxLookahead,vr(c))}),JA(i,c=>{this.computeLookaheadFunc(t,c.idx,Im,"RepetitionMandatory",c.maxLookahead,vr(c))}),JA(o,c=>{this.computeLookaheadFunc(t,c.idx,fu,"RepetitionMandatoryWithSeparator",c.maxLookahead,vr(c))}),JA(a,c=>{this.computeLookaheadFunc(t,c.idx,Cm,"RepetitionWithSeparator",c.maxLookahead,vr(c))})})})}computeLookaheadFunc(A,t,n,r,s,i){this.TRACE_INIT(`${i}${t===0?"":t}`,()=>{const o=this.lookaheadStrategy.buildLookaheadForOptional({prodOccurrence:t,rule:A,maxLookahead:s||this.maxLookahead,dynamicTokensEnabled:this.dynamicTokensEnabled,prodType:r}),a=zm(this.fullRuleNameToShort[A.name],n,t);this.setLaFuncCache(a,o)})}getKeyForAutomaticLookahead(A,t){const n=this.getLastExplicitRuleShortName();return zm(n,A,t)}getLaFuncFromCache(A){return this.lookAheadFuncsCache.get(A)}setLaFuncCache(A,t){this.lookAheadFuncsCache.set(A,t)}}class IH extends ii{constructor(){super(...arguments),this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}reset(){this.dslMethods={option:[],alternation:[],repetition:[],repetitionWithSeparator:[],repetitionMandatory:[],repetitionMandatoryWithSeparator:[]}}visitOption(A){this.dslMethods.option.push(A)}visitRepetitionWithSeparator(A){this.dslMethods.repetitionWithSeparator.push(A)}visitRepetitionMandatory(A){this.dslMethods.repetitionMandatory.push(A)}visitRepetitionMandatoryWithSeparator(A){this.dslMethods.repetitionMandatoryWithSeparator.push(A)}visitRepetition(A){this.dslMethods.repetition.push(A)}visitAlternation(A){this.dslMethods.alternation.push(A)}}const du=new IH;function CH(e){du.reset(),e.accept(du);const A=du.dslMethods;return du.reset(),A}function j_(e,A){isNaN(e.startOffset)===!0?(e.startOffset=A.startOffset,e.endOffset=A.endOffset):e.endOffset<A.endOffset&&(e.endOffset=A.endOffset)}function R_(e,A){isNaN(e.startOffset)===!0?(e.startOffset=A.startOffset,e.startColumn=A.startColumn,e.startLine=A.startLine,e.endOffset=A.endOffset,e.endColumn=A.endColumn,e.endLine=A.endLine):e.endOffset<A.endOffset&&(e.endOffset=A.endOffset,e.endColumn=A.endColumn,e.endLine=A.endLine)}function zH(e,A,t){e.children[t]===void 0?e.children[t]=[A]:e.children[t].push(A)}function HH(e,A,t){e.children[A]===void 0?e.children[A]=[t]:e.children[A].push(t)}const LH="name";function I_(e,A){Object.defineProperty(e,LH,{enumerable:!1,configurable:!0,writable:!1,value:A})}function UH(e,A){const t=Tn(e),n=t.length;for(let r=0;r<n;r++){const s=t[r],i=e[s],o=i.length;for(let a=0;a<o;a++){const c=i[a];c.tokenTypeIdx===void 0&&this[c.name](c.children,A)}}}function $H(e,A){const t=function(){};I_(t,e+"BaseSemantics");const n={visit:function(r,s){if(fe(r)&&(r=r[0]),!Vr(r))return this[r.name](r.children,s)},validateVisitor:function(){const r=QH(this,A);if(!Oe(r)){const s=zA(r,i=>i.msg);throw Error(`Errors Detected in CST Visitor <${this.constructor.name}>:
	${s.join(`

`).replace(/\n/g,`
	`)}`)}}};return t.prototype=n,t.prototype.constructor=t,t._RULE_NAMES=A,t}function FH(e,A,t){const n=function(){};I_(n,e+"BaseSemanticsWithDefaults");const r=Object.create(t.prototype);return JA(A,s=>{r[s]=UH}),n.prototype=r,n.prototype.constructor=n,n}var Hm;(function(e){e[e.REDUNDANT_METHOD=0]="REDUNDANT_METHOD",e[e.MISSING_METHOD=1]="MISSING_METHOD"})(Hm||(Hm={}));function QH(e,A){return KH(e,A)}function KH(e,A){const t=Pn(A,r=>Fr(e[r])===!1),n=zA(t,r=>({msg:`Missing visitor method: <${r}> on ${e.constructor.name} CST Visitor.`,type:Hm.MISSING_METHOD,methodName:r}));return Sa(n)}class WH{initTreeBuilder(A){if(this.CST_STACK=[],this.outputCst=A.outputCst,this.nodeLocationTracking=VA(A,"nodeLocationTracking")?A.nodeLocationTracking:qr.nodeLocationTracking,!this.outputCst)this.cstInvocationStateUpdate=dt,this.cstFinallyStateUpdate=dt,this.cstPostTerminal=dt,this.cstPostNonTerminal=dt,this.cstPostRule=dt;else if(/full/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=R_,this.setNodeLocationFromNode=R_,this.cstPostRule=dt,this.setInitialNodeLocation=this.setInitialNodeLocationFullRecovery):(this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=this.cstPostRuleFull,this.setInitialNodeLocation=this.setInitialNodeLocationFullRegular);else if(/onlyOffset/i.test(this.nodeLocationTracking))this.recoveryEnabled?(this.setNodeLocationFromToken=j_,this.setNodeLocationFromNode=j_,this.cstPostRule=dt,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRecovery):(this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=this.cstPostRuleOnlyOffset,this.setInitialNodeLocation=this.setInitialNodeLocationOnlyOffsetRegular);else if(/none/i.test(this.nodeLocationTracking))this.setNodeLocationFromToken=dt,this.setNodeLocationFromNode=dt,this.cstPostRule=dt,this.setInitialNodeLocation=dt;else throw Error(`Invalid <nodeLocationTracking> config option: "${A.nodeLocationTracking}"`)}setInitialNodeLocationOnlyOffsetRecovery(A){A.location={startOffset:NaN,endOffset:NaN}}setInitialNodeLocationOnlyOffsetRegular(A){A.location={startOffset:this.LA(1).startOffset,endOffset:NaN}}setInitialNodeLocationFullRecovery(A){A.location={startOffset:NaN,startLine:NaN,startColumn:NaN,endOffset:NaN,endLine:NaN,endColumn:NaN}}setInitialNodeLocationFullRegular(A){const t=this.LA(1);A.location={startOffset:t.startOffset,startLine:t.startLine,startColumn:t.startColumn,endOffset:NaN,endLine:NaN,endColumn:NaN}}cstInvocationStateUpdate(A){const t={name:A,children:Object.create(null)};this.setInitialNodeLocation(t),this.CST_STACK.push(t)}cstFinallyStateUpdate(){this.CST_STACK.pop()}cstPostRuleFull(A){const t=this.LA(0),n=A.location;n.startOffset<=t.startOffset?(n.endOffset=t.endOffset,n.endLine=t.endLine,n.endColumn=t.endColumn):(n.startOffset=NaN,n.startLine=NaN,n.startColumn=NaN)}cstPostRuleOnlyOffset(A){const t=this.LA(0),n=A.location;n.startOffset<=t.startOffset?n.endOffset=t.endOffset:n.startOffset=NaN}cstPostTerminal(A,t){const n=this.CST_STACK[this.CST_STACK.length-1];zH(n,t,A),this.setNodeLocationFromToken(n.location,t)}cstPostNonTerminal(A,t){const n=this.CST_STACK[this.CST_STACK.length-1];HH(n,t,A),this.setNodeLocationFromNode(n.location,A.location)}getBaseCstVisitorConstructor(){if(Vr(this.baseCstVisitorConstructor)){const A=$H(this.className,Tn(this.gastProductionsCache));return this.baseCstVisitorConstructor=A,A}return this.baseCstVisitorConstructor}getBaseCstVisitorConstructorWithDefaults(){if(Vr(this.baseCstVisitorWithDefaultsConstructor)){const A=FH(this.className,Tn(this.gastProductionsCache),this.getBaseCstVisitorConstructor());return this.baseCstVisitorWithDefaultsConstructor=A,A}return this.baseCstVisitorWithDefaultsConstructor}getLastExplicitRuleShortName(){const A=this.RULE_STACK;return A[A.length-1]}getPreviousExplicitRuleShortName(){const A=this.RULE_STACK;return A[A.length-2]}getLastExplicitRuleOccurrenceIndex(){const A=this.RULE_OCCURRENCE_STACK;return A[A.length-1]}}class VH{initLexerAdapter(){this.tokVector=[],this.tokVectorLength=0,this.currIdx=-1}set input(A){if(this.selfAnalysisDone!==!0)throw Error("Missing <performSelfAnalysis> invocation at the end of the Parser's constructor.");this.reset(),this.tokVector=A,this.tokVectorLength=A.length}get input(){return this.tokVector}SKIP_TOKEN(){return this.currIdx<=this.tokVector.length-2?(this.consumeToken(),this.LA(1)):pu}LA(A){const t=this.currIdx+A;return t<0||this.tokVectorLength<=t?pu:this.tokVector[t]}consumeToken(){this.currIdx++}exportLexerState(){return this.currIdx}importLexerState(A){this.currIdx=A}resetLexerState(){this.currIdx=-1}moveToTerminatedState(){this.currIdx=this.tokVector.length-1}getLexerPosition(){return this.exportLexerState()}}class qH{ACTION(A){return A.call(this)}consume(A,t,n){return this.consumeInternal(t,A,n)}subrule(A,t,n){return this.subruleInternal(t,A,n)}option(A,t){return this.optionInternal(t,A)}or(A,t){return this.orInternal(t,A)}many(A,t){return this.manyInternal(A,t)}atLeastOne(A,t){return this.atLeastOneInternal(A,t)}CONSUME(A,t){return this.consumeInternal(A,0,t)}CONSUME1(A,t){return this.consumeInternal(A,1,t)}CONSUME2(A,t){return this.consumeInternal(A,2,t)}CONSUME3(A,t){return this.consumeInternal(A,3,t)}CONSUME4(A,t){return this.consumeInternal(A,4,t)}CONSUME5(A,t){return this.consumeInternal(A,5,t)}CONSUME6(A,t){return this.consumeInternal(A,6,t)}CONSUME7(A,t){return this.consumeInternal(A,7,t)}CONSUME8(A,t){return this.consumeInternal(A,8,t)}CONSUME9(A,t){return this.consumeInternal(A,9,t)}SUBRULE(A,t){return this.subruleInternal(A,0,t)}SUBRULE1(A,t){return this.subruleInternal(A,1,t)}SUBRULE2(A,t){return this.subruleInternal(A,2,t)}SUBRULE3(A,t){return this.subruleInternal(A,3,t)}SUBRULE4(A,t){return this.subruleInternal(A,4,t)}SUBRULE5(A,t){return this.subruleInternal(A,5,t)}SUBRULE6(A,t){return this.subruleInternal(A,6,t)}SUBRULE7(A,t){return this.subruleInternal(A,7,t)}SUBRULE8(A,t){return this.subruleInternal(A,8,t)}SUBRULE9(A,t){return this.subruleInternal(A,9,t)}OPTION(A){return this.optionInternal(A,0)}OPTION1(A){return this.optionInternal(A,1)}OPTION2(A){return this.optionInternal(A,2)}OPTION3(A){return this.optionInternal(A,3)}OPTION4(A){return this.optionInternal(A,4)}OPTION5(A){return this.optionInternal(A,5)}OPTION6(A){return this.optionInternal(A,6)}OPTION7(A){return this.optionInternal(A,7)}OPTION8(A){return this.optionInternal(A,8)}OPTION9(A){return this.optionInternal(A,9)}OR(A){return this.orInternal(A,0)}OR1(A){return this.orInternal(A,1)}OR2(A){return this.orInternal(A,2)}OR3(A){return this.orInternal(A,3)}OR4(A){return this.orInternal(A,4)}OR5(A){return this.orInternal(A,5)}OR6(A){return this.orInternal(A,6)}OR7(A){return this.orInternal(A,7)}OR8(A){return this.orInternal(A,8)}OR9(A){return this.orInternal(A,9)}MANY(A){this.manyInternal(0,A)}MANY1(A){this.manyInternal(1,A)}MANY2(A){this.manyInternal(2,A)}MANY3(A){this.manyInternal(3,A)}MANY4(A){this.manyInternal(4,A)}MANY5(A){this.manyInternal(5,A)}MANY6(A){this.manyInternal(6,A)}MANY7(A){this.manyInternal(7,A)}MANY8(A){this.manyInternal(8,A)}MANY9(A){this.manyInternal(9,A)}MANY_SEP(A){this.manySepFirstInternal(0,A)}MANY_SEP1(A){this.manySepFirstInternal(1,A)}MANY_SEP2(A){this.manySepFirstInternal(2,A)}MANY_SEP3(A){this.manySepFirstInternal(3,A)}MANY_SEP4(A){this.manySepFirstInternal(4,A)}MANY_SEP5(A){this.manySepFirstInternal(5,A)}MANY_SEP6(A){this.manySepFirstInternal(6,A)}MANY_SEP7(A){this.manySepFirstInternal(7,A)}MANY_SEP8(A){this.manySepFirstInternal(8,A)}MANY_SEP9(A){this.manySepFirstInternal(9,A)}AT_LEAST_ONE(A){this.atLeastOneInternal(0,A)}AT_LEAST_ONE1(A){return this.atLeastOneInternal(1,A)}AT_LEAST_ONE2(A){this.atLeastOneInternal(2,A)}AT_LEAST_ONE3(A){this.atLeastOneInternal(3,A)}AT_LEAST_ONE4(A){this.atLeastOneInternal(4,A)}AT_LEAST_ONE5(A){this.atLeastOneInternal(5,A)}AT_LEAST_ONE6(A){this.atLeastOneInternal(6,A)}AT_LEAST_ONE7(A){this.atLeastOneInternal(7,A)}AT_LEAST_ONE8(A){this.atLeastOneInternal(8,A)}AT_LEAST_ONE9(A){this.atLeastOneInternal(9,A)}AT_LEAST_ONE_SEP(A){this.atLeastOneSepFirstInternal(0,A)}AT_LEAST_ONE_SEP1(A){this.atLeastOneSepFirstInternal(1,A)}AT_LEAST_ONE_SEP2(A){this.atLeastOneSepFirstInternal(2,A)}AT_LEAST_ONE_SEP3(A){this.atLeastOneSepFirstInternal(3,A)}AT_LEAST_ONE_SEP4(A){this.atLeastOneSepFirstInternal(4,A)}AT_LEAST_ONE_SEP5(A){this.atLeastOneSepFirstInternal(5,A)}AT_LEAST_ONE_SEP6(A){this.atLeastOneSepFirstInternal(6,A)}AT_LEAST_ONE_SEP7(A){this.atLeastOneSepFirstInternal(7,A)}AT_LEAST_ONE_SEP8(A){this.atLeastOneSepFirstInternal(8,A)}AT_LEAST_ONE_SEP9(A){this.atLeastOneSepFirstInternal(9,A)}RULE(A,t,n=wu){if(Ct(this.definedRulesNames,A)){const i={message:ci.buildDuplicateRuleNameError({topLevelRule:A,grammarName:this.className}),type:Ht.DUPLICATE_RULE_NAME,ruleName:A};this.definitionErrors.push(i)}this.definedRulesNames.push(A);const r=this.defineRule(A,t,n);return this[A]=r,r}OVERRIDE_RULE(A,t,n=wu){const r=GH(A,this.definedRulesNames,this.className);this.definitionErrors=this.definitionErrors.concat(r);const s=this.defineRule(A,t,n);return this[A]=s,s}BACKTRACK(A,t){return function(){this.isBackTrackingStack.push(1);const n=this.saveRecogState();try{return A.apply(this,t),!0}catch(r){if(uu(r))return!1;throw r}finally{this.reloadRecogState(n),this.isBackTrackingStack.pop()}}}getGAstProductions(){return this.gastProductionsCache}getSerializedGastProductions(){return J2(ot(this.gastProductionsCache))}}class JH{initRecognizerEngine(A,t){if(this.className=this.constructor.name,this.shortRuleNameToFull={},this.fullRuleNameToShort={},this.ruleShortNameIdx=256,this.tokenMatcher=ou,this.subruleIdx=0,this.definedRulesNames=[],this.tokensMap={},this.isBackTrackingStack=[],this.RULE_STACK=[],this.RULE_OCCURRENCE_STACK=[],this.gastProductionsCache={},VA(t,"serializedGrammar"))throw Error(`The Parser's configuration can no longer contain a <serializedGrammar> property.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_6-0-0
	For Further details.`);if(fe(A)){if(Oe(A))throw Error(`A Token Vocabulary cannot be empty.
	Note that the first argument for the parser constructor
	is no longer a Token vector (since v4.0).`);if(typeof A[0].startOffset=="number")throw Error(`The Parser constructor no longer accepts a token vector as the first argument.
	See: https://chevrotain.io/docs/changes/BREAKING_CHANGES.html#_4-0-0
	For Further details.`)}if(fe(A))this.tokensMap=tn(A,(s,i)=>(s[i.name]=i,s),{});else if(VA(A,"modes")&&qn(pn(ot(A.modes)),Qz)){const s=pn(ot(A.modes)),i=Kl(s);this.tokensMap=tn(i,(o,a)=>(o[a.name]=a,o),{})}else if(On(A))this.tokensMap=Et(A);else throw new Error("<tokensDictionary> argument must be An Array of Token constructors, A dictionary of Token constructors or an IMultiModeLexerDefinition");this.tokensMap.EOF=ai;const n=VA(A,"modes")?pn(ot(A.modes)):ot(A),r=qn(n,s=>Oe(s.categoryMatches));this.tokenMatcher=r?ou:za,Ha(ot(this.tokensMap))}defineRule(A,t,n){if(this.selfAnalysisDone)throw Error(`Grammar rule <${A}> may not be defined after the 'performSelfAnalysis' method has been called'
Make sure that all grammar rule definitions are done before 'performSelfAnalysis' is called.`);const r=VA(n,"resyncEnabled")?n.resyncEnabled:wu.resyncEnabled,s=VA(n,"recoveryValueFunc")?n.recoveryValueFunc:wu.recoveryValueFunc,i=this.ruleShortNameIdx<<PH+Ms;this.ruleShortNameIdx++,this.shortRuleNameToFull[i]=A,this.fullRuleNameToShort[A]=i;let o;return this.outputCst===!0?o=function(...l){try{this.ruleInvocationStateUpdate(i,A,this.subruleIdx),t.apply(this,l);const u=this.CST_STACK[this.CST_STACK.length-1];return this.cstPostRule(u),u}catch(u){return this.invokeRuleCatch(u,r,s)}finally{this.ruleFinallyStateUpdate()}}:o=function(...l){try{return this.ruleInvocationStateUpdate(i,A,this.subruleIdx),t.apply(this,l)}catch(u){return this.invokeRuleCatch(u,r,s)}finally{this.ruleFinallyStateUpdate()}},Object.assign(o,{ruleName:A,originalGrammarAction:t})}invokeRuleCatch(A,t,n){const r=this.RULE_STACK.length===1,s=t&&!this.isBackTracking()&&this.recoveryEnabled;if(uu(A)){const i=A;if(s){const o=this.findReSyncTokenType();if(this.isInCurrentRuleReSyncSet(o))if(i.resyncedTokens=this.reSyncTo(o),this.outputCst){const a=this.CST_STACK[this.CST_STACK.length-1];return a.recoveredNode=!0,a}else return n(A);else{if(this.outputCst){const a=this.CST_STACK[this.CST_STACK.length-1];a.recoveredNode=!0,i.partialCstResult=a}throw i}}else{if(r)return this.moveToTerminatedState(),n(A);throw i}}else throw A}optionInternal(A,t){const n=this.getKeyForAutomaticLookahead(P_,t);return this.optionInternalLogic(A,t,n)}optionInternalLogic(A,t,n){let r=this.getLaFuncFromCache(n),s;if(typeof A!="function"){s=A.DEF;const i=A.GATE;if(i!==void 0){const o=r;r=()=>i.call(this)&&o.call(this)}}else s=A;if(r.call(this)===!0)return s.call(this)}atLeastOneInternal(A,t){const n=this.getKeyForAutomaticLookahead(Im,A);return this.atLeastOneInternalLogic(A,t,n)}atLeastOneInternalLogic(A,t,n){let r=this.getLaFuncFromCache(n),s;if(typeof t!="function"){s=t.DEF;const i=t.GATE;if(i!==void 0){const o=r;r=()=>i.call(this)&&o.call(this)}}else s=t;if(r.call(this)===!0){let i=this.doSingleRepetition(s);for(;r.call(this)===!0&&i===!0;)i=this.doSingleRepetition(s)}else throw this.raiseEarlyExitException(A,qe.REPETITION_MANDATORY,t.ERR_MSG);this.attemptInRepetitionRecovery(this.atLeastOneInternal,[A,t],r,Im,A,rH)}atLeastOneSepFirstInternal(A,t){const n=this.getKeyForAutomaticLookahead(fu,A);this.atLeastOneSepFirstInternalLogic(A,t,n)}atLeastOneSepFirstInternalLogic(A,t,n){const r=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){r.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[A,s,o,r,G_],o,fu,A,G_)}else throw this.raiseEarlyExitException(A,qe.REPETITION_MANDATORY_WITH_SEPARATOR,t.ERR_MSG)}manyInternal(A,t){const n=this.getKeyForAutomaticLookahead(Rm,A);return this.manyInternalLogic(A,t,n)}manyInternalLogic(A,t,n){let r=this.getLaFuncFromCache(n),s;if(typeof t!="function"){s=t.DEF;const o=t.GATE;if(o!==void 0){const a=r;r=()=>o.call(this)&&a.call(this)}}else s=t;let i=!0;for(;r.call(this)===!0&&i===!0;)i=this.doSingleRepetition(s);this.attemptInRepetitionRecovery(this.manyInternal,[A,t],r,Rm,A,nH,i)}manySepFirstInternal(A,t){const n=this.getKeyForAutomaticLookahead(Cm,A);this.manySepFirstInternalLogic(A,t,n)}manySepFirstInternalLogic(A,t,n){const r=t.DEF,s=t.SEP;if(this.getLaFuncFromCache(n).call(this)===!0){r.call(this);const o=()=>this.tokenMatcher(this.LA(1),s);for(;this.tokenMatcher(this.LA(1),s)===!0;)this.CONSUME(s),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[A,s,o,r,w_],o,Cm,A,w_)}}repetitionSepSecondInternal(A,t,n,r,s){for(;n();)this.CONSUME(t),r.call(this);this.attemptInRepetitionRecovery(this.repetitionSepSecondInternal,[A,t,n,r,s],n,fu,A,s)}doSingleRepetition(A){const t=this.getLexerPosition();return A.call(this),this.getLexerPosition()>t}orInternal(A,t){const n=this.getKeyForAutomaticLookahead(S_,t),r=fe(A)?A:A.DEF,i=this.getLaFuncFromCache(n).call(this,r);if(i!==void 0)return r[i].ALT.call(this);this.raiseNoAltException(t,A.ERR_MSG)}ruleFinallyStateUpdate(){if(this.RULE_STACK.pop(),this.RULE_OCCURRENCE_STACK.pop(),this.cstFinallyStateUpdate(),this.RULE_STACK.length===0&&this.isAtEndOfInput()===!1){const A=this.LA(1),t=this.errorMessageProvider.buildNotAllInputParsedMessage({firstRedundant:A,ruleName:this.getCurrRuleFullName()});this.SAVE_ERROR(new NH(t,A))}}subruleInternal(A,t,n){let r;try{const s=n!==void 0?n.ARGS:void 0;return this.subruleIdx=t,r=A.apply(this,s),this.cstPostNonTerminal(r,n!==void 0&&n.LABEL!==void 0?n.LABEL:A.ruleName),r}catch(s){throw this.subruleInternalError(s,n,A.ruleName)}}subruleInternalError(A,t,n){throw uu(A)&&A.partialCstResult!==void 0&&(this.cstPostNonTerminal(A.partialCstResult,t!==void 0&&t.LABEL!==void 0?t.LABEL:n),delete A.partialCstResult),A}consumeInternal(A,t,n){let r;try{const s=this.LA(1);this.tokenMatcher(s,A)===!0?(this.consumeToken(),r=s):this.consumeInternalError(A,s,n)}catch(s){r=this.consumeInternalRecovery(A,t,s)}return this.cstPostTerminal(n!==void 0&&n.LABEL!==void 0?n.LABEL:A.name,r),r}consumeInternalError(A,t,n){let r;const s=this.LA(0);throw n!==void 0&&n.ERR_MSG?r=n.ERR_MSG:r=this.errorMessageProvider.buildMismatchTokenMessage({expected:A,actual:t,previous:s,ruleName:this.getCurrRuleFullName()}),this.SAVE_ERROR(new O_(r,t,s))}consumeInternalRecovery(A,t,n){if(this.recoveryEnabled&&n.name==="MismatchedTokenException"&&!this.isBackTracking()){const r=this.getFollowsForInRuleRecovery(A,t);try{return this.tryInRuleRecovery(A,r)}catch(s){throw s.name===T_?n:s}}else throw n}saveRecogState(){const A=this.errors,t=Et(this.RULE_STACK);return{errors:A,lexerState:this.exportLexerState(),RULE_STACK:t,CST_STACK:this.CST_STACK}}reloadRecogState(A){this.errors=A.errors,this.importLexerState(A.lexerState),this.RULE_STACK=A.RULE_STACK}ruleInvocationStateUpdate(A,t,n){this.RULE_OCCURRENCE_STACK.push(n),this.RULE_STACK.push(A),this.cstInvocationStateUpdate(t)}isBackTracking(){return this.isBackTrackingStack.length!==0}getCurrRuleFullName(){const A=this.getLastExplicitRuleShortName();return this.shortRuleNameToFull[A]}shortRuleNameToFullName(A){return this.shortRuleNameToFull[A]}isAtEndOfInput(){return this.tokenMatcher(this.LA(1),ai)}reset(){this.resetLexerState(),this.subruleIdx=0,this.isBackTrackingStack=[],this.errors=[],this.RULE_STACK=[],this.CST_STACK=[],this.RULE_OCCURRENCE_STACK=[]}}class XH{initErrorHandler(A){this._errors=[],this.errorMessageProvider=VA(A,"errorMessageProvider")?A.errorMessageProvider:qr.errorMessageProvider}SAVE_ERROR(A){if(uu(A))return A.context={ruleStack:this.getHumanReadableRuleStack(),ruleOccurrenceStack:Et(this.RULE_OCCURRENCE_STACK)},this._errors.push(A),A;throw Error("Trying to save an Error which is not a RecognitionException")}get errors(){return Et(this._errors)}set errors(A){this._errors=A}raiseEarlyExitException(A,t,n){const r=this.getCurrRuleFullName(),s=this.getGAstProductions()[r],o=Tm(A,s,t,this.maxLookahead)[0],a=[];for(let l=1;l<=this.maxLookahead;l++)a.push(this.LA(l));const c=this.errorMessageProvider.buildEarlyExitMessage({expectedIterationPaths:o,actual:a,previous:this.LA(0),customUserDescription:n,ruleName:r});throw this.SAVE_ERROR(new ZH(c,this.LA(1),this.LA(0)))}raiseNoAltException(A,t){const n=this.getCurrRuleFullName(),r=this.getGAstProductions()[n],s=Om(A,r,this.maxLookahead),i=[];for(let c=1;c<=this.maxLookahead;c++)i.push(this.LA(c));const o=this.LA(0),a=this.errorMessageProvider.buildNoViableAltMessage({expectedPathsPerAlt:s,actual:i,previous:o,customUserDescription:t,ruleName:this.getCurrRuleFullName()});throw this.SAVE_ERROR(new YH(a,this.LA(1),o))}}class A6{initContentAssist(){}computeContentAssist(A,t){const n=this.gastProductionsCache[A];if(Vr(n))throw Error(`Rule ->${A}<- does not exist in this grammar.`);return x_([n],t,this.tokenMatcher,this.maxLookahead)}getNextPossibleTokenTypes(A){const t=Jn(A.ruleStack),r=this.getGAstProductions()[t];return new tH(r,A).startWalking()}}const mu={description:"This Object indicates the Parser is during Recording Phase"};Object.freeze(mu);const C_=!0,z_=Math.pow(2,Ms)-1,H_=zt({name:"RECORDING_PHASE_TOKEN",pattern:bt.NA});Ha([H_]);const L_=au(H_,`This IToken indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,-1,-1,-1,-1,-1,-1);Object.freeze(L_);const e6={name:`This CSTNode indicates the Parser is in Recording Phase
	See: https://chevrotain.io/docs/guide/internals.html#grammar-recording for details`,children:{}};class t6{initGastRecorder(A){this.recordingProdStack=[],this.RECORDING_PHASE=!1}enableRecording(){this.RECORDING_PHASE=!0,this.TRACE_INIT("Enable Recording",()=>{for(let A=0;A<10;A++){const t=A>0?A:"";this[`CONSUME${t}`]=function(n,r){return this.consumeInternalRecord(n,A,r)},this[`SUBRULE${t}`]=function(n,r){return this.subruleInternalRecord(n,A,r)},this[`OPTION${t}`]=function(n){return this.optionInternalRecord(n,A)},this[`OR${t}`]=function(n){return this.orInternalRecord(n,A)},this[`MANY${t}`]=function(n){this.manyInternalRecord(A,n)},this[`MANY_SEP${t}`]=function(n){this.manySepFirstInternalRecord(A,n)},this[`AT_LEAST_ONE${t}`]=function(n){this.atLeastOneInternalRecord(A,n)},this[`AT_LEAST_ONE_SEP${t}`]=function(n){this.atLeastOneSepFirstInternalRecord(A,n)}}this.consume=function(A,t,n){return this.consumeInternalRecord(t,A,n)},this.subrule=function(A,t,n){return this.subruleInternalRecord(t,A,n)},this.option=function(A,t){return this.optionInternalRecord(t,A)},this.or=function(A,t){return this.orInternalRecord(t,A)},this.many=function(A,t){this.manyInternalRecord(A,t)},this.atLeastOne=function(A,t){this.atLeastOneInternalRecord(A,t)},this.ACTION=this.ACTION_RECORD,this.BACKTRACK=this.BACKTRACK_RECORD,this.LA=this.LA_RECORD})}disableRecording(){this.RECORDING_PHASE=!1,this.TRACE_INIT("Deleting Recording methods",()=>{const A=this;for(let t=0;t<10;t++){const n=t>0?t:"";delete A[`CONSUME${n}`],delete A[`SUBRULE${n}`],delete A[`OPTION${n}`],delete A[`OR${n}`],delete A[`MANY${n}`],delete A[`MANY_SEP${n}`],delete A[`AT_LEAST_ONE${n}`],delete A[`AT_LEAST_ONE_SEP${n}`]}delete A.consume,delete A.subrule,delete A.option,delete A.or,delete A.many,delete A.atLeastOne,delete A.ACTION,delete A.BACKTRACK,delete A.LA})}ACTION_RECORD(A){}BACKTRACK_RECORD(A,t){return()=>!0}LA_RECORD(A){return pu}topLevelRuleRecord(A,t){try{const n=new ho({definition:[],name:A});return n.name=A,this.recordingProdStack.push(n),t.call(this),this.recordingProdStack.pop(),n}catch(n){if(n.KNOWN_RECORDER_ERROR!==!0)try{n.message=n.message+`
	 This error was thrown during the "grammar recording phase" For more info see:
	https://chevrotain.io/docs/guide/internals.html#grammar-recording`}catch{throw n}throw n}}optionInternalRecord(A,t){return $a.call(this,sn,A,t)}atLeastOneInternalRecord(A,t){$a.call(this,Er,t,A)}atLeastOneSepFirstInternalRecord(A,t){$a.call(this,kr,t,A,C_)}manyInternalRecord(A,t){$a.call(this,mt,t,A)}manySepFirstInternalRecord(A,t){$a.call(this,Ar,t,A,C_)}orInternalRecord(A,t){return n6.call(this,A,t)}subruleInternalRecord(A,t,n){if(gu(t),!A||VA(A,"ruleName")===!1){const o=new Error(`<SUBRULE${U_(t)}> argument is invalid expecting a Parser method reference but got: <${JSON.stringify(A)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw o.KNOWN_RECORDER_ERROR=!0,o}const r=si(this.recordingProdStack),s=A.ruleName,i=new nn({idx:t,nonTerminalName:s,label:n?.LABEL,referencedRule:void 0});return r.definition.push(i),this.outputCst?e6:mu}consumeInternalRecord(A,t,n){if(gu(t),!i_(A)){const i=new Error(`<CONSUME${U_(t)}> argument is invalid expecting a TokenType reference but got: <${JSON.stringify(A)}>
 inside top level rule: <${this.recordingProdStack[0].name}>`);throw i.KNOWN_RECORDER_ERROR=!0,i}const r=si(this.recordingProdStack),s=new Ue({idx:t,terminalType:A,label:n?.LABEL});return r.definition.push(s),L_}}function $a(e,A,t,n=!1){gu(t);const r=si(this.recordingProdStack),s=Fr(A)?A:A.DEF,i=new e({definition:[],idx:t});return n&&(i.separator=A.SEP),VA(A,"MAX_LOOKAHEAD")&&(i.maxLookahead=A.MAX_LOOKAHEAD),this.recordingProdStack.push(i),s.call(this),r.definition.push(i),this.recordingProdStack.pop(),mu}function n6(e,A){gu(A);const t=si(this.recordingProdStack),n=fe(e)===!1,r=n===!1?e:e.DEF,s=new er({definition:[],idx:A,ignoreAmbiguities:n&&e.IGNORE_AMBIGUITIES===!0});VA(e,"MAX_LOOKAHEAD")&&(s.maxLookahead=e.MAX_LOOKAHEAD);const i=ym(r,o=>Fr(o.GATE));return s.hasPredicates=i,t.definition.push(s),JA(r,o=>{const a=new rn({definition:[]});s.definition.push(a),VA(o,"IGNORE_AMBIGUITIES")?a.ignoreAmbiguities=o.IGNORE_AMBIGUITIES:VA(o,"GATE")&&(a.ignoreAmbiguities=!0),this.recordingProdStack.push(a),o.ALT.call(this),this.recordingProdStack.pop()}),mu}function U_(e){return e===0?"":`${e}`}function gu(e){if(e<0||e>z_){const A=new Error(`Invalid DSL Method idx value: <${e}>
	Idx value must be a none negative value smaller than ${z_+1}`);throw A.KNOWN_RECORDER_ERROR=!0,A}}class r6{initPerformanceTracer(A){if(VA(A,"traceInitPerf")){const t=A.traceInitPerf,n=typeof t=="number";this.traceInitMaxIdent=n?t:1/0,this.traceInitPerf=n?t>0:t}else this.traceInitMaxIdent=0,this.traceInitPerf=qr.traceInitPerf;this.traceInitIndent=-1}TRACE_INIT(A,t){if(this.traceInitPerf===!0){this.traceInitIndent++;const n=new Array(this.traceInitIndent+1).join("	");this.traceInitIndent<this.traceInitMaxIdent&&console.log(`${n}--> <${A}>`);const{time:r,value:s}=Ly(t),i=r>10?console.warn:console.log;return this.traceInitIndent<this.traceInitMaxIdent&&i(`${n}<-- <${A}> time: ${r}ms`),this.traceInitIndent--,s}else return t()}}function s6(e,A){A.forEach(t=>{const n=t.prototype;Object.getOwnPropertyNames(n).forEach(r=>{if(r==="constructor")return;const s=Object.getOwnPropertyDescriptor(n,r);s&&(s.get||s.set)?Object.defineProperty(e.prototype,r,s):e.prototype[r]=t.prototype[r]})})}const pu=au(ai,"",NaN,NaN,NaN,NaN,NaN,NaN);Object.freeze(pu);const qr=Object.freeze({recoveryEnabled:!1,maxLookahead:3,dynamicTokensEnabled:!1,outputCst:!0,errorMessageProvider:p_,nodeLocationTracking:"none",traceInitPerf:!1,skipValidations:!1}),wu=Object.freeze({recoveryValueFunc:()=>{},resyncEnabled:!0});var Ht;(function(e){e[e.INVALID_RULE_NAME=0]="INVALID_RULE_NAME",e[e.DUPLICATE_RULE_NAME=1]="DUPLICATE_RULE_NAME",e[e.INVALID_RULE_OVERRIDE=2]="INVALID_RULE_OVERRIDE",e[e.DUPLICATE_PRODUCTIONS=3]="DUPLICATE_PRODUCTIONS",e[e.UNRESOLVED_SUBRULE_REF=4]="UNRESOLVED_SUBRULE_REF",e[e.LEFT_RECURSION=5]="LEFT_RECURSION",e[e.NONE_LAST_EMPTY_ALT=6]="NONE_LAST_EMPTY_ALT",e[e.AMBIGUOUS_ALTS=7]="AMBIGUOUS_ALTS",e[e.CONFLICT_TOKENS_RULES_NAMESPACE=8]="CONFLICT_TOKENS_RULES_NAMESPACE",e[e.INVALID_TOKEN_NAME=9]="INVALID_TOKEN_NAME",e[e.NO_NON_EMPTY_LOOKAHEAD=10]="NO_NON_EMPTY_LOOKAHEAD",e[e.AMBIGUOUS_PREFIX_ALTS=11]="AMBIGUOUS_PREFIX_ALTS",e[e.TOO_MANY_ALTS=12]="TOO_MANY_ALTS",e[e.CUSTOM_LOOKAHEAD_VALIDATION=13]="CUSTOM_LOOKAHEAD_VALIDATION"})(Ht||(Ht={}));let Lm=class DY{static performSelfAnalysis(A){throw Error("The **static** `performSelfAnalysis` method has been deprecated.	\nUse the **instance** method with the same name instead.")}performSelfAnalysis(){this.TRACE_INIT("performSelfAnalysis",()=>{let A;this.selfAnalysisDone=!0;const t=this.className;this.TRACE_INIT("toFastProps",()=>{Uy(this)}),this.TRACE_INIT("Grammar Recording",()=>{try{this.enableRecording(),JA(this.definedRulesNames,r=>{const i=this[r].originalGrammarAction;let o;this.TRACE_INIT(`${r} Rule`,()=>{o=this.topLevelRuleRecord(r,i)}),this.gastProductionsCache[r]=o})}finally{this.disableRecording()}});let n=[];if(this.TRACE_INIT("Grammar Resolving",()=>{n=kH({rules:ot(this.gastProductionsCache)}),this.definitionErrors=this.definitionErrors.concat(n)}),this.TRACE_INIT("Grammar Validations",()=>{if(Oe(n)&&this.skipValidations===!1){const r=vH({rules:ot(this.gastProductionsCache),tokenTypes:ot(this.tokensMap),errMsgProvider:ci,grammarName:t}),s=fH({lookaheadStrategy:this.lookaheadStrategy,rules:ot(this.gastProductionsCache),tokenTypes:ot(this.tokensMap),grammarName:t});this.definitionErrors=this.definitionErrors.concat(r,s)}}),Oe(this.definitionErrors)&&(this.recoveryEnabled&&this.TRACE_INIT("computeAllProdsFollows",()=>{const r=sz(ot(this.gastProductionsCache));this.resyncFollows=r}),this.TRACE_INIT("ComputeLookaheadFunctions",()=>{var r,s;(s=(r=this.lookaheadStrategy).initialize)===null||s===void 0||s.call(r,{rules:ot(this.gastProductionsCache)}),this.preComputeLookaheadFunctions(ot(this.gastProductionsCache))})),!DY.DEFER_DEFINITION_ERRORS_HANDLING&&!Oe(this.definitionErrors))throw A=zA(this.definitionErrors,r=>r.message),new Error(`Parser Definition Errors detected:
 ${A.join(`
-------------------------------
`)}`)})}constructor(A,t){this.definitionErrors=[],this.selfAnalysisDone=!1;const n=this;if(n.initErrorHandler(t),n.initLexerAdapter(),n.initLooksAhead(t),n.initRecognizerEngine(A,t),n.initRecoverable(t),n.initTreeBuilder(t),n.initContentAssist(),n.initGastRecorder(t),n.initPerformanceTracer(t),VA(t,"ignoredIssues"))throw new Error(`The <ignoredIssues> IParserConfig property has been deprecated.
	Please use the <IGNORE_AMBIGUITIES> flag on the relevant DSL method instead.
	See: https://chevrotain.io/docs/guide/resolving_grammar_errors.html#IGNORING_AMBIGUITIES
	For further details.`);this.skipValidations=VA(t,"skipValidations")?t.skipValidations:qr.skipValidations}};Lm.DEFER_DEFINITION_ERRORS_HANDLING=!1,s6(Lm,[TH,RH,WH,VH,JH,qH,XH,A6,t6,r6]);class i6 extends Lm{constructor(A,t=qr){const n=Et(t);n.outputCst=!0,super(A,n)}}function o6(e){const A=new a6,t=ot(e);return zA(t,n=>A.visitRule(n))}class a6 extends ii{visitRule(A){const t=this.visitEach(A.definition),n=Iy(t,s=>s.propertyName),r=zA(n,(s,i)=>{const o=!ym(s,c=>!c.canBeNull);let a=s[0].type;return s.length>1&&(a=zA(s,c=>c.type)),{name:i,type:a,optional:o}});return{name:A.name,properties:r}}visitAlternative(A){return this.visitEachAndOverrideWith(A.definition,{canBeNull:!0})}visitOption(A){return this.visitEachAndOverrideWith(A.definition,{canBeNull:!0})}visitRepetition(A){return this.visitEachAndOverrideWith(A.definition,{canBeNull:!0})}visitRepetitionMandatory(A){return this.visitEach(A.definition)}visitRepetitionMandatoryWithSeparator(A){return this.visitEach(A.definition).concat({propertyName:A.separator.name,canBeNull:!0,type:Gu(A.separator)})}visitRepetitionWithSeparator(A){return this.visitEachAndOverrideWith(A.definition,{canBeNull:!0}).concat({propertyName:A.separator.name,canBeNull:!0,type:Gu(A.separator)})}visitAlternation(A){return this.visitEachAndOverrideWith(A.definition,{canBeNull:!0})}visitTerminal(A){return[{propertyName:A.label||A.terminalType.name,canBeNull:!1,type:Gu(A)}]}visitNonTerminal(A){return[{propertyName:A.label||A.nonTerminalName,canBeNull:!1,type:Gu(A)}]}visitEachAndOverrideWith(A,t){return zA(this.visitEach(A),n=>An({},n,t))}visitEach(A){return pn(zA(A,t=>this.visit(t)))}}function Gu(e){return e instanceof nn?{kind:"rule",name:e.referencedRule.name}:{kind:"token"}}function c6(e,A){let t=[];return t=t.concat('import type { CstNode, ICstVisitor, IToken } from "chevrotain";'),t=t.concat(pn(zA(e,n=>l6(n)))),A.includeVisitorInterface&&(t=t.concat(d6(A.visitorInterfaceName,e))),t.join(`

`)+`
`}function l6(e){const A=u6(e),t=h6(e);return[A,t]}function u6(e){const A=F_(e.name),t=Um(e.name);return`export interface ${A} extends CstNode {
  name: "${e.name}";
  children: ${t};
}`}function h6(e){return`export type ${Um(e.name)} = {
  ${zA(e.properties,t=>f6(t)).join(`
  `)}
};`}function f6(e){const A=g6(e.type);return`${e.name}${e.optional?"?":""}: ${A}[];`}function d6(e,A){return`export interface ${e}<IN, OUT> extends ICstVisitor<IN, OUT> {
  ${zA(A,t=>m6(t)).join(`
  `)}
}`}function m6(e){const A=Um(e.name);return`${e.name}(children: ${A}, param?: IN): OUT;`}function g6(e){if(fe(e)){const A=Kl(zA(e,n=>$_(n)));return"("+tn(A,(n,r)=>n+" | "+r)+")"}else return $_(e)}function $_(e){return e.kind==="token"?"IToken":F_(e.name)}function F_(e){return oy(e)+"CstNode"}function Um(e){return oy(e)+"CstChildren"}const p6={includeVisitorInterface:!0,visitorInterfaceName:"ICstNodeVisitor"};function w6(e,A){const t=Object.assign(Object.assign({},p6),A),n=o6(e);return c6(n,t)}const Yr=!!JSON.parse("false"),G6=!!JSON.parse("false");JSON.parse("false");const Q_=!!JSON.parse("false");JSON.parse("false"),JSON.parse("false"),JSON.parse("false"),JSON.parse("false");const x6={YIELD_AT_COUNT:512},Fa=ba(32,126).map(e=>String.fromCharCode(e));function ie(e){return zt({...e,name:`token_${e.name}`})}function uA(e){return ie({name:e,pattern:new RegExp(e.toLowerCase(),"i"),longer_alt:et})}const xu=ie({name:"newline",line_breaks:!0,start_chars_hint:[`
`,"\r"],pattern:/\n|\r\n?/}),M6=ie({name:"whitespace",pattern:/ +/,group:bt.SKIPPED}),b6=ie({name:"whitespace",pattern:/\s+/,line_breaks:!0,group:bt.SKIPPED}),$m=ie({name:"stat",pattern:/@.*/,start_chars_hint:["@"]}),mo=ie({name:"command",pattern:/#/,start_chars_hint:["#"]});let K_=!1;const y6="@#/?':!",_6=/^(by|at|away|toward|find|flee|to|cw|ccw|opp|rndp)/i;function D6(e,A){if(!K_)return null;let t=A;const n=e[t-1]??"";if(t>0&&n!==" "&&n!==`
`)return null;if(e[t]===" "){for(;e[t]===" ";)t++;if(y6.includes(e[t]))return null}for(;t>0&&`$"@#':!/?
`.includes(e[t])===!1;)t--;switch(e[t]){case"?":case"/":{const i=e.substring(t+1,A+1).toLowerCase();if(i.indexOf(" ")<1||_6.test(i))return null;break}case"#":return null;case'"':{for(t--;t>0&&e[t]===" ";)t--;if(!(t<1||e[t]===`
`))return null;break}case"@":case"'":case":":case"!":return null}let r=A;for(e[r]==='"'&&++r;r<e.length&&e[r]!==`
`;)r++;const s=e.substring(A,r);return s.trim().length===0||s.toLowerCase()==="do"?null:[s]}const W_=ie({name:"text",pattern:D6,line_breaks:!1,start_chars_hint:Fa}),V_=ie({name:"comment",pattern:/'.*/,start_chars_hint:["'"]}),Fm=ie({name:"label",pattern:/:[^;:\n]*/,start_chars_hint:[":"]}),q_=ie({name:"hyperlink",pattern:/![^;\n]*/,start_chars_hint:["!"]}),J_=ie({name:"hyperlinktext",pattern:/;[^;\n]*/,start_chars_hint:[";"]}),et=ie({name:"stringliteral",pattern:/[^-0-9"!:;@#/?()\s]+[^-"!:;@#/?()\s]*/,start_chars_hint:Fa}),Mu=ie({name:"stringliteraldouble",pattern:/"(?:[^\\"]|\\(?:[^\n\r]|u[0-9a-fA-F]{4}))*"/}),Qa=ie({name:"numberliteral",pattern:/-?(\d*\.)?\d+([eE][+-]?\d+)?[jJ]?[lL]?/}),X_=uA("isterrain"),AD=uA("isobject"),eD=uA("issolid"),tD=uA("iswalk"),nD=uA("isswim"),rD=uA("isbullet"),sD=uA("isghost"),iD=uA("iswalking"),oD=uA("iswalkable"),aD=uA("isswimming"),cD=uA("isswimmable"),lD=uA("black"),uD=uA("dkblue"),hD=uA("dkgreen"),fD=uA("dkcyan"),dD=uA("dkred"),mD=uA("dkpurple"),gD=uA("dkyellow"),pD=uA("ltgray"),wD=uA("dkgray"),GD=uA("blue"),xD=uA("green"),MD=uA("cyan"),bD=uA("red"),yD=uA("purple"),_D=uA("yellow"),DD=uA("white"),BD=uA("brown"),ED=uA("dkwhite"),kD=uA("ltgrey"),vD=uA("gray"),YD=uA("grey"),ND=uA("dkgrey"),ZD=uA("ltblack"),OD=uA("onblack"),TD=uA("ondkblue"),SD=uA("ondkgreen"),PD=uA("ondkcyan"),jD=uA("ondkred"),RD=uA("ondkpurple"),ID=uA("ondkyellow"),CD=uA("onltgray"),zD=uA("ondkgray"),HD=uA("onblue"),LD=uA("ongreen"),UD=uA("oncyan"),$D=uA("onred"),FD=uA("onpurple"),QD=uA("onyellow"),KD=uA("onwhite"),WD=uA("onbrown"),VD=uA("ondkwhite"),qD=uA("onltgrey"),JD=uA("ongray"),XD=uA("ongrey"),AB=uA("ondkgrey"),eB=uA("onltblack"),tB=uA("onclear"),nB=uA("blblack"),rB=uA("bldkblue"),sB=uA("bldkgreen"),iB=uA("bldkcyan"),oB=uA("bldkred"),aB=uA("bldkpurple"),cB=uA("bldkyellow"),lB=uA("blltgray"),uB=uA("bldkgray"),hB=uA("blblue"),fB=uA("blgreen"),dB=uA("blcyan"),mB=uA("blred"),gB=uA("blpurple"),pB=uA("blyellow"),wB=uA("blwhite"),GB=uA("blbrown"),xB=uA("bldkwhite"),MB=uA("blltgrey"),bB=uA("blgray"),yB=uA("blgrey"),_B=uA("bldkgrey"),DB=uA("blltblack"),BB=uA("idle"),EB=uA("up"),kB=uA("down"),vB=uA("left"),YB=uA("right"),NB=uA("by"),ZB=uA("at"),OB=uA("flow"),TB=uA("seek"),SB=uA("rndns"),PB=uA("rndne"),jB=uA("rnd"),RB=uA("cw"),IB=uA("ccw"),CB=uA("opp"),zB=uA("rndp"),HB=uA("away"),LB=uA("toward"),UB=uA("find"),$B=uA("flee"),FB=uA("to"),QB=uA("i"),KB=uA("u"),WB=uA("north"),VB=uA("n"),qB=uA("d"),JB=uA("south"),XB=uA("s"),A1=uA("l"),e1=uA("west"),t1=uA("w"),n1=uA("r"),r1=uA("east"),s1=uA("e"),i1=uA("over"),o1=uA("under"),a1=uA("ground"),c1=uA("within"),l1=uA("awayby"),u1=uA("elements"),h1=ie({name:"expr_aligned",pattern:/aligned|alligned/i,longer_alt:et}),f1=uA("contact"),d1=uA("blocked"),m1=uA("any"),g1=uA("countof"),p1=uA("abs"),w1=uA("intceil"),G1=uA("intfloor"),x1=uA("intround"),M1=uA("clamp"),b1=uA("min"),y1=uA("max"),_1=uA("pick"),D1=uA("pickwith"),B1=uA("random"),E1=uA("randomwith"),k1=uA("run"),v1=uA("runwith"),Y1=ie({name:"stop",pattern:/\|/,start_chars_hint:["|"]}),N1=ie({name:"iseq",pattern:/=|is|eq|equal/i,longer_alt:et}),Z1=ie({name:"isnoteq",pattern:/!=|not ?eq|not ?equal/i,longer_alt:et}),O1=ie({name:"islessthan",pattern:/<|below/i,longer_alt:et}),T1=ie({name:"isgreaterthan",pattern:/>|above/i,longer_alt:et}),S1=ie({name:"islessthanorequal",pattern:/<=|below ?or ?eq|below ?or ?equal/i,longer_alt:et}),P1=ie({name:"isgreaterthanorequal",pattern:/>=|above ?or ?eq|above ?or ?equal/i,longer_alt:et}),Qm=ie({name:"or",pattern:/or/i,longer_alt:et}),Km=ie({name:"not",pattern:/not/i,longer_alt:et}),Wm=ie({name:"and",pattern:/and/i,longer_alt:et}),Vm=ie({name:"plus",pattern:/\+/}),qm=ie({name:"minus",pattern:/-/}),j1=ie({name:"power",pattern:/\*\*/}),R1=ie({name:"multiply",pattern:/\*/}),Jm=ie({name:"divide",pattern:/\//}),I1=ie({name:"moddivide",pattern:/%/}),C1=ie({name:"floordivide",pattern:/%%/}),z1=ie({name:"query",pattern:/\?/}),H1=ie({name:"lparen",pattern:/\(/,push_mode:"ignore_newlines"}),L1=ie({name:"rparen",pattern:/\)/,pop_mode:!0}),U1=ie({name:"command_play",pattern:/(play|bgplay|bgplayon64n|bgplayon32n|bgplayon16n|bgplayon8n|bgplayon4n|bgplayon2n|bgplayon1n) .*/i,start_chars_hint:Fa,longer_alt:et}),$1=ie({name:"command_toast",pattern:/toast .*/i,start_chars_hint:Fa,longer_alt:et}),F1=ie({name:"command_ticker",pattern:/ticker .*/i,start_chars_hint:Fa,longer_alt:et}),Xm=ie({name:"if",pattern:/if|try|take|give|duplicate/i,longer_alt:et}),bu=ie({name:"do",pattern:new RegExp("(?<!(zap |send |restore ))(?<=\\s)do","i"),start_chars_hint:["d"],longer_alt:et}),Ag=uA("done"),eg=uA("else"),Q1=uA("while"),K1=uA("repeat"),W1=uA("waitfor"),V1=ie({name:"foreach",pattern:/foreach|for/i,longer_alt:et}),q1=uA("break"),J1=uA("continue");function X1(e,A){return[...e,kB,...A,Qa,X_,AD,eD,oD,iD,tD,cD,aD,nD,rD,sD,lD,uD,hD,fD,dD,mD,gD,pD,wD,GD,xD,MD,bD,yD,_D,DD,BD,ED,kD,vD,YD,ND,ZD,OD,TD,SD,PD,jD,RD,ID,CD,zD,HD,LD,UD,$D,FD,QD,KD,WD,VD,qD,JD,XD,AB,eB,tB,nB,rB,sB,iB,oB,aB,cB,lB,uB,hB,fB,dB,mB,gB,pB,wB,GB,xB,MB,bB,yB,_B,DB,BB,EB,vB,YB,NB,ZB,OB,TB,zB,SB,PB,jB,RB,IB,CB,c1,l1,u1,HB,LB,UB,$B,FB,WB,JB,e1,r1,i1,o1,a1,h1,f1,d1,m1,g1,p1,w1,G1,x1,M1,b1,y1,D1,_1,E1,B1,v1,k1,Y1,N1,Z1,S1,O1,P1,T1,Qm,Km,Wm,Vm,qm,j1,R1,Jm,C1,I1,z1,H1,L1,QB,KB,VB,qB,XB,A1,t1,n1,s1,Mu,et]}const AE=X1([W_,$m,U1,$1,F1,mo,V_,Fm,q_,J_,xu,M6],[q1,J1,Ag,bu,eg,V1,Xm,K1,W1,Q1]),B6=new bt({defaultMode:"use_newlines",modes:{use_newlines:AE,ignore_newlines:X1([b6],[])}},{skipValidations:!Yr,ensureOptimizations:Yr,positionTracking:"full"});function eE(e){K_=!0;const A=B6.tokenize(e||` 
`),[t]=(se(A.tokens)?A.tokens:[]).slice(-1);return t&&t.tokenType.name!=="Newline"&&A.tokens.push(au(xu,`
`,t.startOffset,t.endOffset??NaN,t.startLine??NaN,t.endLine??NaN,t.startColumn??NaN,t.endColumn??NaN)),A}function tg(e,A,t=!0){if(t){const[n,...r]=A;switch(CA(n??"")){default:return{type:GA.OBJECT,values:A};case"loader":return{type:GA.LOADER,values:r};case"board":return{type:GA.BOARD,values:r};case"object":return{type:GA.OBJECT,values:r};case"terrain":return{type:GA.TERRAIN,values:r};case"charset":return{type:GA.CHARSET,values:r};case"palette":return{type:GA.PALETTE,values:r}}}else{const[n,r,...s]=A,i=CA(r??""),o=[n,e,...s];switch(i){default:return{type:GA.CONST,values:A};case"rn":case"range":return{type:GA.RANGE,values:o};case"sl":case"select":return{type:GA.SELECT,values:o};case"nm":case"number":return{type:GA.NUMBER,values:o};case"tx":case"text":return{type:GA.TEXT,values:o};case"hk":case"hotkey":return{type:GA.HOTKEY,values:o};case"copyit":return{type:GA.COPYIT,values:o};case"openit":return{type:GA.OPENIT,values:o};case"viewit":return{type:GA.VIEWIT,values:o};case"runit":return{type:GA.RUNIT,values:o};case"zssedit":return{type:GA.ZSSEDIT,values:o};case"charedit":return{type:GA.CHAREDIT,values:o};case"coloredit":return{type:GA.COLOREDIT,values:o}}}}function on(e){switch(e){case GA.LOADER:return"loader";case GA.BOARD:return"board";case GA.OBJECT:return"object";case GA.TERRAIN:return"terrain";case GA.CHARSET:return"charset";case GA.PALETTE:return"palette";case GA.CONST:return"const";case GA.RANGE:return"range";case GA.SELECT:return"select";case GA.NUMBER:return"number";case GA.TEXT:return"text";case GA.HOTKEY:return"hotkey";case GA.COPYIT:return"copyit";case GA.OPENIT:return"openit";case GA.VIEWIT:return"viewit";case GA.RUNIT:return"runit";case GA.ZSSEDIT:return"zssedit";case GA.CHAREDIT:return"charedit";case GA.COLOREDIT:return"coloredit"}}function yu(e,A){const t=Object.keys(e);for(let n=0;n<t.length;++n){const r=t[n],s=e[r];if(se(s)){const[i,...o]=s;switch(i){case"text":G(A[r])||(A[r]="");break;case"range":G(A[r])||(A[r]=4);break;case"number":G(A[r])||(A[r]=0);break;case"select":if(!G(A[r])){const[,a]=o;A[r]=a}break}continue}switch(r){case"name":case"char":case"light":case"group":case"p1":case"p2":case"p3":case"p4":case"p5":case"p6":case"p7":case"p8":case"p9":case"p10":case"cycle":case"stepx":case"stepy":case"shootx":case"shooty":case"displaychar":A[r]=s;break;case"color":case"bg":case"lightdir":case"displaycolor":case"displaybg":A[r]=rE(s)??s;break;case"isitem":A.item=1;break;case"notitem":A.item=0;break;case"ispushable":A.pushable=s===""?1:s;break;case"notpushable":A.pushable=0;break;case"iswalk":case"iswalking":case"iswalkable":A.collision=$A.ISWALK;break;case"isswim":case"isswimming":case"isswimable":A.collision=$A.ISSWIM;break;case"issolid":A.collision=$A.ISSOLID;break;case"isbullet":A.collision=$A.ISBULLET;break;case"isghost":A.collision=$A.ISGHOST;break;case"isbreakable":A.breakable=1;break;case"notbreakable":A.breakable=0;break}}}function tE(e){return Ur(e,Fd,{bits:A=>Array.from(A)})}function nE(e){return wa(e,Fd,{bits:A=>new Uint8Array(A)})}function E6(e){return Ur(e,Wd,{board:yJ,object:kl,terrain:kl,charset:tE,palette:tE,stats:Ee})}function k6(e){return wa(e,Wd,{board:DJ,object:vl,terrain:vl,charset:nE,palette:nE})}function Rn(e){if(G(e))switch(Lt(e)){default:return;case NA.ERROR:return e.code??"";case NA.LOADER:return e.code??"";case NA.BOARD:{G(e.board)||(e.board=cw()),e.board.id=e.id,e.board.name=de(e);const A=go(e),t=Object.keys(A);for(let n=0;n<t.length;++n){const r=t[n],s=A[r];switch(r){case"isdark":e.board.isdark=1;break;case"notdark":e.board.isdark=0;break;case"restartonzap":e.board.restartonzap=1;break;case"norestartonzap":e.board.restartonzap=0;break;case"startx":case"starty":case"facing":case"timelimit":case"maxplayershots":kA(s)&&(e.board[r]=s);break;case"over":case"under":case"camera":case"graphics":case"charset":case"palette":case"exitnorth":case"exitsouth":case"exitwest":case"exiteast":wA(s)&&(CA(s)==="empty"?e.board[r]=void 0:e.board[r]=s);break;case"b1":case"b2":case"b3":case"b4":case"b5":case"b6":case"b7":case"b8":case"b9":case"b10":G(s)&&(e.board[r]=rE(s)??s);break}}return e.board}case NA.OBJECT:return G(e.object)||(e.object=wb()),e.object.id=e.id,e.object.code=e.code,e.object.name=de(e),e.object.category=qt.ISOBJECT,yu(go(e),e.object),e.object;case NA.TERRAIN:return G(e.terrain)||(e.terrain=wb()),e.terrain.id=e.id,e.terrain.name=de(e),e.terrain.category=qt.ISTERRAIN,yu(go(e),e.terrain),e.terrain;case NA.PALETTE:{if(G(e.palette)||(e.palette=bb(_b)),G(e.palette?.bits)){const A=go(e),t=Wt(A);for(let n=0;n<t.length;++n){const r=t[n].toLowerCase(),s=A[r];if(r.startsWith("color")&&wA(s)){const i=parseFloat(r.replace("color",""));if(i>=0&&i<=15){_u.set(s);const o=i*Yl,a=_u.r*63,c=_u.g*63,l=_u.b*63;e.palette.bits[o+0]=Wn(a,0,63),e.palette.bits[o+1]=Wn(c,0,63),e.palette.bits[o+2]=Wn(l,0,63)}}}}return e.palette}case NA.CHARSET:{if(G(e.charset)||(e.charset=yb(VP)),G(e.charset?.bits)){const A=go(e),t=Wt(A);for(let n=0;n<t.length;++n){const r=t[n].toLowerCase(),s=A[r];if(r.startsWith("char")&&wA(s)){const i=parseFloat(r.replace("char",""));if(i>=0&&i<=255){const a=[];for(let c=0;c<112;++c)switch(s[c]){case"-":case void 0:a.push(0);break;default:a.push(128);break}WP(Uint8Array.from(a),e.charset,i)}}}}return e.charset}}}function de(e){return bs(e).name??""}function v6(e,A){return bs(e)[A]}const _u=new yl;function rE(e){if(!wA(e))return;const A=so(e);if(G(A)&&G(XA[A]))return XA[A];const t=CA(e),n=bA[t];if(G(n))return n}function go(e){const A={...bs(e)};return Object.keys(A).forEach(t=>{switch(t){case"type":case"name":delete A[t];break}}),A}function bs(e){return G(e)?(G(e.stats?.type)||(e.stats=Du(e.code),G(e.stats.type)||(e.stats.type=NA.OBJECT)),e.stats):{}}function Du(e){const A=eE(e),t={};let n=!0;for(let r=0;r<A.tokens.length;++r){const s=A.tokens[r];if(s.tokenType===$m){const i=s.image.slice(1),[o,a]=i.split(";").map(h=>h.trim()),c=o.split(" "),l=tg(wA(a)?a:"",c,n),u=l.values.join(" ");switch(n=!1,l.type){case GA.LOADER:t.type=NA.LOADER,t.name=u;break;case GA.BOARD:t.type=NA.BOARD,t.name=u;break;case GA.OBJECT:t.type=NA.OBJECT,t.name=u||"object";break;case GA.TERRAIN:t.type=NA.TERRAIN,t.name=u;break;case GA.CHARSET:t.type=NA.CHARSET,t.name=u;break;case GA.PALETTE:t.type=NA.PALETTE,t.name=u;break;case GA.CONST:{const[h,...f]=l.values;if(wA(h)){const m=CA(h),d=f.join(" ");if(wA(d)){const g=parseFloat(d);kA(g)?t[m]=g:t[m]=`${Ye(t[m])}${d}`}else t[m]=1}break}case GA.RANGE:case GA.SELECT:case GA.NUMBER:case GA.TEXT:case GA.HOTKEY:case GA.ZSSEDIT:case GA.CHAREDIT:case GA.COLOREDIT:{const[h,...f]=l.values;if(wA(h)){const m=CA(h);t[m]=[on(l.type),...f]}break}}}}return t}function Lt(e){return bs(e).type??NA.ERROR}function Nr(e){return sE(Lt(e))}function Y6(e){return G(e)?(e.stats=void 0,bs(e)):{}}function sE(e){switch(e){default:case NA.ERROR:return"error";case NA.LOADER:return on(GA.LOADER);case NA.BOARD:return on(GA.BOARD);case NA.OBJECT:return on(GA.OBJECT);case NA.TERRAIN:return on(GA.TERRAIN);case NA.CHARSET:return on(GA.CHARSET);case NA.PALETTE:return on(GA.PALETTE)}}function po(e,A){return{id:Ke(),code:e,...A}}function iE(e,A){if(G(A)){const t=sg(e,NA.TERRAIN,A.kind??"");if(G(t))return t;const n=sg(e,NA.OBJECT,A.kind??"");if(G(n))return n}}function oE(e,A){const t=ys(e,A);if(G(e)&&G(t)){const n=CA(A);return e.pages=e.pages.filter(r=>r.id!==A&&n!==de(r)),cE(e),t}}function aE(e,A){e&&delete e.flags[A]}function tt(e,A=1,t=XA.WHITE,n=XA.BLACK){const r=e?.kinddata;return{name:CA(e?.name??r?.name),char:e?.displaychar??r?.displaychar??e?.char??r?.char??A,color:e?.displaycolor??r?.displaycolor??e?.color??r?.color??t,bg:e?.displaybg??r?.displaybg??e?.bg??r?.bg??n,light:e?.light??r?.light??0}}function N6(e,A,t){let n=sg(e,A,t);if(!G(n)){const r=sE(A);return n=po(r==="object"?`@${t||"object"}
`:`@${r} ${t}
`,{}),fi(e,n),[n,!0]}return[n,!1]}function Z6(e){return Ur(e,Kd,{pages:A=>A.map(E6),flags:A=>{const t=Object.keys(A);for(let n=0;n<t.length;++n){const r=t[n];Object.keys(A[r]).length===0&&delete A[r]}return A}})}function O6(e,A){return!!e?.flags[A]}function ng(e){const A=wa(e,Kd,{pages:t=>t.map(k6)});return G(A)&&delete A.flags.gadgetsync,A}function ys(e,A){if(!G(e))return;const t=CA(A);return e.pages.find(r=>r.id===A||t===de(r))}function T6(e,A){if(!G(e))return[];const t=CA(A);return e.pages.filter(r=>{const s=bs(r),i=CA(de(r));return r.id===A||t===i||G(s[A])})}function li(e,A){return G(e)?e.pages.filter(t=>Lt(t)===A):[]}function rg(e,A,t){if(!G(e))return[];const n=CA(t);return e.pages.filter(s=>Lt(s)===A).filter(s=>{const i=bs(s),o=CA(de(s));return s.id===t||n===o||G(i[t])})}function sg(e,A,t){if(!G(e))return;const n=CA(t);return e.pages.find(s=>Lt(s)===A&&(s.id===t||n===de(s)))}function Bu(e,A,t){return ui(e,A)?.[t]}function ui(e,A){return e?(e.flags[A]=e.flags[A]??{},e.flags[A]):{}}function hi(e){return G(e)?Vt(e.pages).sort((t,n)=>{const r=Lt(t),s=Lt(n);return r===s?de(t).localeCompare(de(n)):s-r}):[]}function S6(e){G(e)&&(e.name=Uh())}function cE(e){G(e)&&(e.token=`${HY()}${It(1111,9999)}`)}function fi(e,A){if(!G(e)||!G(A))return!1;const t=ys(e,A.id);return G(t)?!1:(e.pages.push(A),cE(e),!0)}function ig(e,A,t,n){const r=ui(e,A);return r&&(r[t]=n),n}function og(e){return{id:Ke(),name:Uh(),timestamp:0,activelist:[],pages:e,flags:{}}}const Te={halt:!1,session:Ke(),operator:"",software:{main:"",temp:""},books:new Map,loaders:new Map,topic:""};function P6(){return Te.loaders}function j6(e,A){Te.loaders.set(e,A)}function R6(){return Te.session}function nt(){return Te.operator}function I6(e){return Te.operator===e}function C6(e){Te.operator=e}function z6(){return Te.topic}function H6(e){Te.topic=e}function L6(e){Te.halt=e}function ag(){return Te.halt}function vt(){return[...Te.books.values()]}function U6(){const[e]=Te.books.values();return e}function Ka(){const e=vt(),A=be(LA.MAIN),[t]=e.filter(n=>n.id!==A?.id);return t??A}function Jr(e){const A=CA(e);return Te.books.get(e)??vt().find(t=>t.name===A)}function lE(e,A){G(Jr(A))&&(Te.software[e]=A)}function be(e){return Jr(Te.software[e])}function $6(e){const A=og([]);return wA(e)&&(A.name=e),Eu(A),st(K,Te.operator,`created [book] ${A.name}`),A}function F6(e){let A=Jr(e);return G(A)||(A=og([]),A.name=e),Eu(A),st(K,Te.operator,`created [book] ${A.name}`),A}function yt(e,A){let t=G(A)?F6(A):be(e);return G(t)||(G(t)||(t=U6()),G(t)||(t=$6(A)),G(t)&&st(K,Te.operator,`opened [book] ${t.name} for ${e}`)),lE(e,t.id),t}function di(e,A,t){return N6(yt(e),t,A)}function at(e,A){const t=be(LA.MAIN),n=Yn(rg(t,e,A));if(G(n))return n;const r=vt();for(let s=0;s<r.length;++s){const i=r[s];if(i.id!==t?.id){const o=Yn(rg(i,e,A));if(G(o))return o}}}function uE(e){const A=be(LA.MAIN),t=hi(A).filter(r=>Lt(r)===e),n=vt();for(let r=0;r<n.length;++r){const s=n[r];s.id!==A?.id&&t.push(...hi(s).filter(i=>Lt(i)===e))}return t}function wn(e){if(G(e?.kinddata))return e.kinddata;if(!wA(e?.kind)||!e.kind)return;const A=at(NA.OBJECT,e.kind);if(G(A))return e.kinddata=Rn(A),e.kinddata;const t=at(NA.TERRAIN,e.kind);if(G(t))return e.kinddata=Rn(t),e.kinddata}function KA(e,A){const t=e?.kinddata,n=t?.id??"",r=e?.[A];if(G(r))return r;const s=t?.[A];if(G(s))return s;const i=at(NA.OBJECT,n)??at(NA.TERRAIN,n),o=v6(i,A);if(G(o))return o;switch(A){case"group":return"";case"cycle":return b0;case"p1":case"p2":case"p3":case"p4":case"p5":case"p6":case"p7":case"p8":case"p9":case"p10":case"item":case"pushable":case"breakable":return 0;case"collision":return $A.ISWALK;default:return}}function cg(e,A){const t={x:e?.x??-1,y:e?.y??-1},n={x:A?.x??-1,y:A?.y??-1},r=Nn(t,n),s=KA(A,"pushable");return kA(s)?s!==0:wA(s)?s.trim().split(" ").map(i=>fb(ya(i))).some(i=>i===r):!1}function Gn(e,A,t,n){if(!G(e)||!G(A))return;const[r,s]=A,i=at(NA.OBJECT,r);if(G(i)){const a=aw(e,t,r,n);if(G(a))return Ai(a,s),wn(a),fE(e,a),lg(e,a),a}const o=at(NA.TERRAIN,r);if(G(o)){const a=EJ(e,t,r);if(G(a)){Ai(a,s),wn(a);const c=Xt(t,jA);return lg(e,a,c),a}}}function Q6(e,A,t){if(!G(e)||!G(A))return;const[n,r]=A,s=at(NA.OBJECT,n);if(G(s)){const i=aw(e,t,n);return Ai(i,r),i}}function ae(e){const A=at(NA.BOARD,e);return Rn(A)}function K6(e){if(!G(e))return;if(!wA(e.over)){delete e.overboard;return}if(wA(e.overboard)){const t=ae(e.overboard);if(G(t))return t;delete e.overboard;return}const A=ae(e.over);if(G(A))return e.overboard=A.id,A}function W6(e){if(!G(e))return;if(!wA(e.under)){delete e.underboard;return}if(wA(e.underboard)){const t=ae(e.underboard);if(G(t))return t;delete e.underboard;return}const A=ae(e.under);if(G(A))return e.underboard=A.id,A}function Ut(e){const A=yt(LA.MAIN);return ui(A,e)}function hE(e){const A=yt(LA.MAIN);return O6(A,e)}function V6(e){const A=yt(LA.MAIN);return aE(A,e)}function q6(e){if(Te.books.clear(),e.forEach(A=>{Te.books.set(A.id,A),A.name==="main"&&(Te.software.main=A.id)}),!Te.software.main){const A=Te.books.values().next();A.value&&(Te.software.main=A.value.id)}}function Eu(e){return Te.books.set(e.id,e),e.id}function J6(e){const A=Jr(e);A&&Te.books.delete(A.id)}function $e(e){if(!G(e))return;for(let t=0;t<e.terrain.length;++t)wn(e.terrain[t]);const A=Object.keys(e.objects);for(let t=0;t<A.length;++t){const n=A[t];wn(e.objects[n])}X6(e)}function lg(e,A,t){if(!G(e)||!G(e.named)||!G(A))return;const n=CA(A.name??A.kinddata?.name??"");e.named[n]||(e.named[n]=new Set),e.named[n].add(A?.id??t??"")}function fE(e,A){if(!(!G(e)||!G(e.lookup)||!G(A?.id))&&!G(A.removed)&&KA(A,"collision")!==$A.ISGHOST){const t=A.x??0,n=A.y??0;e.lookup[t+n*jA]=A.id}}function ku(e,A){if(G(e)&&G(A?.id)){if(G(e.lookup)&&G(A.x)&&G(A.y)){const n=A.x+A.y*jA;e.lookup[n]===A.id&&(e.lookup[n]=void 0)}const t=tt(A);G(e.named?.[t.name])&&G(A.id)&&e.named[t.name].delete(A.id)}}function X6(e){G(e)&&(delete e.named,delete e.lookup,AL(e))}function AL(e){if(!G(e)||G(e.lookup)&&G(e.named))return;const A=new Array(jA*re).fill(void 0),t={},n=Object.values(e.objects);for(let i=0;i<n.length;++i){const o=n[i];if(G(o.x)&&G(o.y)&&G(o.id)&&!G(o.removed)){o.category=qt.ISOBJECT,KA(o,"collision")!==$A.ISGHOST&&(A[o.x+o.y*jA]=o.id),wA(o.code)&&!G(o.name)&&yu(Du(o.code),o);const a=tt(o);t[a.name]||(t[a.name]=new Set),t[a.name].add(o.id)}}let r=0,s=0;for(let i=0;i<e.terrain.length;++i){const o=e.terrain[i];if(G(o)){o.x=r,o.y=s,o.category=qt.ISTERRAIN;const a=tt(wn(o));t[a.name]||(t[a.name]=new Set),t[a.name].add(i)}++r,r>=jA&&(r=0,++s)}e.lookup=A,e.named=t}function eL(e,A){if(G(e)&&G(A?.x)&&G(A.y)){const t=tt(A),n=ss(e,A);G(e.named?.[t.name])&&e.named[t.name].delete(n)}}var vu={exports:{}},Yu={exports:{}},tL=Yu.exports,dE;function nL(){return dE||(dE=1,(function(e,A){(function(t,n){e.exports=n()})(tL,function(){function t(d){return!isNaN(parseFloat(d))&&isFinite(d)}function n(d){return d.charAt(0).toUpperCase()+d.substring(1)}function r(d){return function(){return this[d]}}var s=["isConstructor","isEval","isNative","isToplevel"],i=["columnNumber","lineNumber"],o=["fileName","functionName","source"],a=["args"],c=["evalOrigin"],l=s.concat(i,o,a,c);function u(d){if(d)for(var g=0;g<l.length;g++)d[l[g]]!==void 0&&this["set"+n(l[g])](d[l[g]])}u.prototype={getArgs:function(){return this.args},setArgs:function(d){if(Object.prototype.toString.call(d)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=d},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(d){if(d instanceof u)this.evalOrigin=d;else if(d instanceof Object)this.evalOrigin=new u(d);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var d=this.getFileName()||"",g=this.getLineNumber()||"",p=this.getColumnNumber()||"",x=this.getFunctionName()||"";return this.getIsEval()?d?"[eval] ("+d+":"+g+":"+p+")":"[eval]:"+g+":"+p:x?x+" ("+d+":"+g+":"+p+")":d+":"+g+":"+p}},u.fromString=function(g){var p=g.indexOf("("),x=g.lastIndexOf(")"),y=g.substring(0,p),E=g.substring(p+1,x).split(","),B=g.substring(x+1);if(B.indexOf("@")===0)var T=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(B,""),D=T[1],Z=T[2],R=T[3];return new u({functionName:y,args:E||void 0,fileName:D,lineNumber:Z||void 0,columnNumber:R||void 0})};for(var h=0;h<s.length;h++)u.prototype["get"+n(s[h])]=r(s[h]),u.prototype["set"+n(s[h])]=(function(d){return function(g){this[d]=!!g}})(s[h]);for(var f=0;f<i.length;f++)u.prototype["get"+n(i[f])]=r(i[f]),u.prototype["set"+n(i[f])]=(function(d){return function(g){if(!t(g))throw new TypeError(d+" must be a Number");this[d]=Number(g)}})(i[f]);for(var m=0;m<o.length;m++)u.prototype["get"+n(o[m])]=r(o[m]),u.prototype["set"+n(o[m])]=(function(d){return function(g){this[d]=String(g)}})(o[m]);return u})})(Yu)),Yu.exports}var rL=vu.exports,mE;function sL(){return mE||(mE=1,(function(e,A){(function(t,n){e.exports=n(nL())})(rL,function(n){var r=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,i=/^(eval@)?(\[native code])?$/;return{parse:function(a){if(typeof a.stacktrace<"u"||typeof a["opera#sourceloc"]<"u")return this.parseOpera(a);if(a.stack&&a.stack.match(s))return this.parseV8OrIE(a);if(a.stack)return this.parseFFOrSafari(a);throw new Error("Cannot parse given Error object")},extractLocation:function(a){if(a.indexOf(":")===-1)return[a];var c=/(.+?)(?::(\d+))?(?::(\d+))?$/,l=c.exec(a.replace(/[()]/g,""));return[l[1],l[2]||void 0,l[3]||void 0]},parseV8OrIE:function(a){var c=a.stack.split(`
`).filter(function(l){return!!l.match(s)},this);return c.map(function(l){l.indexOf("(eval ")>-1&&(l=l.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(,.*$)/g,""));var u=l.replace(/^\s+/,"").replace(/\(eval code/g,"(").replace(/^.*?\s+/,""),h=u.match(/ (\(.+\)$)/);u=h?u.replace(h[0],""):u;var f=this.extractLocation(h?h[1]:u),m=h&&u||void 0,d=["eval","<anonymous>"].indexOf(f[0])>-1?void 0:f[0];return new n({functionName:m,fileName:d,lineNumber:f[1],columnNumber:f[2],source:l})},this)},parseFFOrSafari:function(a){var c=a.stack.split(`
`).filter(function(l){return!l.match(i)},this);return c.map(function(l){if(l.indexOf(" > eval")>-1&&(l=l.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),l.indexOf("@")===-1&&l.indexOf(":")===-1)return new n({functionName:l});var u=/((.*".+"[^@]*)?[^@]*)(?:@)/,h=l.match(u),f=h&&h[1]?h[1]:void 0,m=this.extractLocation(l.replace(u,""));return new n({functionName:f,fileName:m[0],lineNumber:m[1],columnNumber:m[2],source:l})},this)},parseOpera:function(a){return!a.stacktrace||a.message.indexOf(`
`)>-1&&a.message.split(`
`).length>a.stacktrace.split(`
`).length?this.parseOpera9(a):a.stack?this.parseOpera11(a):this.parseOpera10(a)},parseOpera9:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)/i,l=a.message.split(`
`),u=[],h=2,f=l.length;h<f;h+=2){var m=c.exec(l[h]);m&&u.push(new n({fileName:m[2],lineNumber:m[1],source:l[h]}))}return u},parseOpera10:function(a){for(var c=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,l=a.stacktrace.split(`
`),u=[],h=0,f=l.length;h<f;h+=2){var m=c.exec(l[h]);m&&u.push(new n({functionName:m[3]||void 0,fileName:m[2],lineNumber:m[1],source:l[h]}))}return u},parseOpera11:function(a){var c=a.stack.split(`
`).filter(function(l){return!!l.match(r)&&!l.match(/^Error created at/)},this);return c.map(function(l){var u=l.split("@"),h=this.extractLocation(u.pop()),f=u.shift()||"",m=f.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,d;f.match(/\(([^)]*)\)/)&&(d=f.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var g=d===void 0||d==="[arguments not available]"?void 0:d.split(",");return new n({functionName:m,args:g,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:l})},this)}}})})(vu)),vu.exports}var iL=sL(),oL=Ps(iL);function _s(e){const A={},t={everytick(){},aftertick(){},listcommands(){return Wt(A)},...e,getcommand(n){return A[n]},command(n,r){return A[n]=r,t}};return t}let gE=0;const pE=Yr,aL=["Command","lines"];class cL extends i6{constructor(){super(AE,{traceInitPerf:Yr,skipValidations:!Yr,maxLookahead:2,recoveryEnabled:!0,nodeLocationTracking:"full"}),this.performSelfAnalysis()}PEEK(A,t,...n){console.info(A,n.map(r=>[r.image,r.tokenType]),t)}RULED(A,t,n){const r=aL.some(s=>A.includes(s));return this.RULE(A,()=>{const i=(gE++).toString().padStart(3),o=r?"font-weight: bold;":"";if(pE&&!this.RECORDING_PHASE){const a=[this.LA(1),this.LA(2),this.LA(3)].map(c=>`[${c.tokenType.name} ${c.image.replaceAll(`
`,"\\n")}]`);console.info(`${i}%c> ${A} ${a.join(" ")}`,o)}t(),pE&&!this.RECORDING_PHASE&&console.info(`${i}%c< ${A} `,o),gE--},n)}program=this.RULED("program",()=>{this.MANY(()=>this.SUBRULE(this.line))});line=this.RULED("line",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt)},{ALT:()=>this.CONSUME(xu)}])});stmt=this.RULED("stmt",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt_label)},{ALT:()=>this.SUBRULE(this.stmt_stat)},{ALT:()=>this.SUBRULE(this.stmt_text)},{ALT:()=>this.SUBRULE(this.stmt_comment)},{ALT:()=>this.SUBRULE(this.stmt_hyperlink)},{ALT:()=>this.SUBRULE(this.stmt_command)},{ALT:()=>this.SUBRULE(this.short_go)},{ALT:()=>this.SUBRULE(this.short_try)}])});inline_go=this.RULED("inline_go",()=>{this.SUBRULE(this.short_go),this.OPTION(()=>this.SUBRULE(this.inline))});inline_try=this.RULED("inline_try",()=>{this.SUBRULE(this.short_try),this.OPTION(()=>this.SUBRULE(this.inline))});inline_command=this.RULED("inline_command",()=>{this.SUBRULE(this.stmt_command),this.OPTION(()=>this.SUBRULE(this.inline))});inline=this.RULED("inline",()=>{this.OR([{ALT:()=>this.SUBRULE(this.stmt_stat)},{ALT:()=>this.SUBRULE(this.stmt_text)},{ALT:()=>this.SUBRULE(this.stmt_comment)},{ALT:()=>this.SUBRULE(this.stmt_hyperlink)},{ALT:()=>this.SUBRULE(this.structured_cmd)},{ALT:()=>this.SUBRULE(this.inline_go)},{ALT:()=>this.SUBRULE(this.inline_try)},{ALT:()=>this.SUBRULE(this.inline_command)}])});stmt_label=this.RULED("stmt_label",()=>{this.CONSUME(Fm)});stmt_stat=this.RULED("stmt_stat",()=>{this.CONSUME($m)});stmt_text=this.RULED("stmt_text",()=>{this.OR([{ALT:()=>this.CONSUME(W_)}])});stmt_comment=this.RULED("stmt_comment",()=>{this.CONSUME(V_)});stmt_hyperlink=this.RULED("stmt_hyperlink",()=>{this.CONSUME(q_),this.CONSUME(J_)});stmt_command=this.RULED("stmt_command",()=>{this.CONSUME(mo),this.OR([{ALT:()=>this.SUBRULE(this.words)},{ALT:()=>this.SUBRULE(this.structured_cmd)}])});structured_cmd=this.RULED("structured_cmd",()=>{this.OR([{ALT:()=>this.SUBRULE(this.command_if)},{ALT:()=>this.SUBRULE(this.command_while)},{ALT:()=>this.SUBRULE(this.command_repeat)},{ALT:()=>this.SUBRULE(this.command_waitfor)},{ALT:()=>this.SUBRULE(this.command_foreach)},{ALT:()=>this.SUBRULE(this.command_break)},{ALT:()=>this.SUBRULE(this.command_continue)}])});short_go=this.RULED("short_go",()=>{this.CONSUME(Jm),this.OR([{ALT:()=>this.SUBRULE(this.string_token)},{ALT:()=>this.SUBRULE(this.dir)}])});short_try=this.RULED("short_try",()=>{this.CONSUME(z1),this.OR([{ALT:()=>this.SUBRULE(this.string_token)},{ALT:()=>this.SUBRULE(this.dir)}])});command_if=this.RULED("command_if",()=>{this.CONSUME(Xm),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_if_block))});command_if_block=this.RULED("command_if_block",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(bu),this.MANY(()=>this.SUBRULE(this.line)),this.MANY2({GATE:this.BACKTRACK(this.command_else_if),DEF:()=>this.SUBRULE(this.command_else_if)}),this.OPTION(()=>this.SUBRULE(this.command_else)),this.MANY3(()=>this.CONSUME3(xu)),this.CONSUME4(mo),this.CONSUME4(Ag)}}])});command_block=this.RULED("command_block",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(bu),this.MANY(()=>this.SUBRULE(this.line)),this.CONSUME(mo),this.CONSUME(Ag)}}])});command_fork=this.RULED("command_fork",()=>{this.OR([{ALT:()=>this.SUBRULE(this.inline)},{ALT:()=>{this.CONSUME(bu),this.MANY({GATE:this.BACKTRACK(this.line),DEF:()=>this.SUBRULE(this.line)})}}])});command_else_if=this.RULED("command_else_if",()=>{this.CONSUME(mo),this.CONSUME(eg),this.CONSUME(Xm),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_fork))});command_else=this.RULED("command_else",()=>{this.CONSUME(mo),this.CONSUME(eg),this.OPTION1(()=>this.SUBRULE(this.words)),this.OPTION2(()=>this.SUBRULE(this.command_fork))});command_while=this.RULED("command_while",()=>{this.CONSUME(Q1),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_repeat=this.RULED("command_repeat",()=>{this.CONSUME(K1),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_waitfor=this.RULED("command_waitfor",()=>{this.CONSUME(W1),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_foreach=this.RULED("command_foreach",()=>{this.CONSUME(V1),this.SUBRULE(this.words),this.OPTION(()=>this.SUBRULE(this.command_block))});command_break=this.RULED("command_break",()=>{this.CONSUME(q1)});command_continue=this.RULED("command_continue",()=>{this.CONSUME(J1)});command_play=this.RULED("command_play",()=>{this.CONSUME(U1)});command_toast=this.RULED("command_toast",()=>{this.CONSUME($1)});command_ticker=this.RULED("command_ticker",()=>{this.CONSUME(F1)});expr=this.RULED("expr",()=>{this.SUBRULE1(this.and_test,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Qm),this.SUBRULE2(this.and_test,{LABEL:"RHS"})})});and_test=this.RULED("and_test",()=>{this.SUBRULE1(this.not_test,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Wm),this.SUBRULE2(this.not_test,{LABEL:"RHS"})})});not_test=this.RULED("not_test",()=>{this.OR([{ALT:()=>{this.CONSUME(Km),this.SUBRULE1(this.not_test,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE2(this.comparison)}])});comparison=this.RULED("comparison",()=>{this.SUBRULE1(this.arith_expr,{LABEL:"LHS"}),this.MANY(()=>{this.SUBRULE(this.comp_op),this.SUBRULE2(this.arith_expr,{LABEL:"RHS"})})});comp_op=this.RULED("comp_op",()=>{this.OR([{ALT:()=>this.CONSUME(N1)},{ALT:()=>this.CONSUME(Z1)},{ALT:()=>this.CONSUME(O1)},{ALT:()=>this.CONSUME(T1)},{ALT:()=>this.CONSUME(S1)},{ALT:()=>this.CONSUME(P1)}])});expr_value=this.RULED("expr_value",()=>{this.SUBRULE1(this.and_test_value,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Qm),this.SUBRULE2(this.and_test_value,{LABEL:"RHS"})})});and_test_value=this.RULED("and_test_value",()=>{this.SUBRULE1(this.not_test_value,{LABEL:"LHS"}),this.MANY(()=>{this.CONSUME(Wm),this.SUBRULE2(this.not_test_value,{LABEL:"RHS"})})});not_test_value=this.RULED("not_test_value",()=>{this.OR([{ALT:()=>{this.CONSUME(Km),this.SUBRULE1(this.not_test_value,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE2(this.arith_expr)}])});arith_expr=this.RULED("arith_expr",()=>{this.OR([{ALT:()=>this.SUBRULE(this.token_expr,{LABEL:"LHS"})},{ALT:()=>{this.SUBRULE1(this.term),this.MANY(()=>this.SUBRULE2(this.arith_expr_item,{LABEL:"RHS"}))}}])});arith_expr_item=this.RULED("arith_expr_item",()=>{this.OR([{ALT:()=>this.CONSUME(Vm)},{ALT:()=>this.CONSUME(qm)}]),this.SUBRULE(this.term)});term=this.RULED("term",()=>{this.SUBRULE1(this.factor),this.MANY(()=>this.SUBRULE2(this.term_item))});term_item=this.RULED("term_item",()=>{this.OR([{ALT:()=>this.CONSUME(R1)},{ALT:()=>this.CONSUME(Jm)},{ALT:()=>this.CONSUME(I1)},{ALT:()=>this.CONSUME(C1)}]),this.SUBRULE(this.factor)});factor=this.RULED("factor",()=>{this.OR1([{ALT:()=>{this.OR2([{ALT:()=>this.CONSUME(Vm)},{ALT:()=>this.CONSUME(qm)}]),this.SUBRULE(this.factor,{LABEL:"LHS"})}},{ALT:()=>this.SUBRULE(this.power)}])});power=this.RULED("power",()=>{this.SUBRULE(this.token),this.OPTION(()=>{this.CONSUME(j1),this.SUBRULE(this.factor)})});words=this.RULED("words",()=>{this.AT_LEAST_ONE(()=>this.SUBRULE(this.expr))});kind=this.RULED("kind",()=>{this.OPTION(()=>this.SUBRULE(this.color)),this.SUBRULE(this.string_token)});category=this.RULED("category",()=>{this.OR([{ALT:()=>this.CONSUME(X_)},{ALT:()=>this.CONSUME(AD)}])});collision=this.RULED("collision",()=>{this.OR([{ALT:()=>this.CONSUME(eD)},{ALT:()=>this.CONSUME(tD)},{ALT:()=>this.CONSUME(nD)},{ALT:()=>this.CONSUME(rD)},{ALT:()=>this.CONSUME(sD)},{ALT:()=>this.CONSUME(iD)},{ALT:()=>this.CONSUME(oD)},{ALT:()=>this.CONSUME(aD)},{ALT:()=>this.CONSUME(cD)}])});color=this.RULED("color",()=>{this.OR([{ALT:()=>this.CONSUME(lD)},{ALT:()=>this.CONSUME(uD)},{ALT:()=>this.CONSUME(hD)},{ALT:()=>this.CONSUME(fD)},{ALT:()=>this.CONSUME(dD)},{ALT:()=>this.CONSUME(mD)},{ALT:()=>this.CONSUME(gD)},{ALT:()=>this.CONSUME(pD)},{ALT:()=>this.CONSUME(wD)},{ALT:()=>this.CONSUME(GD)},{ALT:()=>this.CONSUME(xD)},{ALT:()=>this.CONSUME(MD)},{ALT:()=>this.CONSUME(bD)},{ALT:()=>this.CONSUME(yD)},{ALT:()=>this.CONSUME(_D)},{ALT:()=>this.CONSUME(DD)},{ALT:()=>this.CONSUME(BD)},{ALT:()=>this.CONSUME(ED)},{ALT:()=>this.CONSUME(kD)},{ALT:()=>this.CONSUME(vD)},{ALT:()=>this.CONSUME(YD)},{ALT:()=>this.CONSUME(ND)},{ALT:()=>this.CONSUME(ZD)},{ALT:()=>this.CONSUME(OD)},{ALT:()=>this.CONSUME(TD)},{ALT:()=>this.CONSUME(SD)},{ALT:()=>this.CONSUME(PD)},{ALT:()=>this.CONSUME(jD)},{ALT:()=>this.CONSUME(RD)},{ALT:()=>this.CONSUME(ID)},{ALT:()=>this.CONSUME(CD)},{ALT:()=>this.CONSUME(zD)},{ALT:()=>this.CONSUME(HD)},{ALT:()=>this.CONSUME(LD)},{ALT:()=>this.CONSUME(UD)},{ALT:()=>this.CONSUME($D)},{ALT:()=>this.CONSUME(FD)},{ALT:()=>this.CONSUME(QD)},{ALT:()=>this.CONSUME(KD)},{ALT:()=>this.CONSUME(WD)},{ALT:()=>this.CONSUME(VD)},{ALT:()=>this.CONSUME(qD)},{ALT:()=>this.CONSUME(JD)},{ALT:()=>this.CONSUME(XD)},{ALT:()=>this.CONSUME(AB)},{ALT:()=>this.CONSUME(eB)},{ALT:()=>this.CONSUME(tB)},{ALT:()=>this.CONSUME(nB)},{ALT:()=>this.CONSUME(rB)},{ALT:()=>this.CONSUME(sB)},{ALT:()=>this.CONSUME(iB)},{ALT:()=>this.CONSUME(oB)},{ALT:()=>this.CONSUME(aB)},{ALT:()=>this.CONSUME(cB)},{ALT:()=>this.CONSUME(lB)},{ALT:()=>this.CONSUME(uB)},{ALT:()=>this.CONSUME(hB)},{ALT:()=>this.CONSUME(fB)},{ALT:()=>this.CONSUME(dB)},{ALT:()=>this.CONSUME(mB)},{ALT:()=>this.CONSUME(gB)},{ALT:()=>this.CONSUME(pB)},{ALT:()=>this.CONSUME(wB)},{ALT:()=>this.CONSUME(GB)},{ALT:()=>this.CONSUME(xB)},{ALT:()=>this.CONSUME(MB)},{ALT:()=>this.CONSUME(bB)},{ALT:()=>this.CONSUME(yB)},{ALT:()=>this.CONSUME(_B)},{ALT:()=>this.CONSUME(DB)}])});dir_mod=this.RULED("dir_mod",()=>{this.OR([{ALT:()=>this.CONSUME(RB)},{ALT:()=>this.CONSUME(IB)},{ALT:()=>this.CONSUME(CB)},{ALT:()=>this.CONSUME(zB)},{ALT:()=>this.CONSUME(i1)},{ALT:()=>this.CONSUME(o1)},{ALT:()=>this.CONSUME(a1)},{ALT:()=>this.SUBRULE(this.dir_within)},{ALT:()=>this.SUBRULE(this.dir_awayby)},{ALT:()=>this.CONSUME(u1)}])});dir_by=this.RULED("dir_by",()=>{this.CONSUME(NB),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_at=this.RULED("dir_at",()=>{this.CONSUME(ZB),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_away=this.RULED("dir_away",()=>{this.CONSUME(HB),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_toward=this.RULED("dir_toward",()=>{this.CONSUME(LB),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token)});dir_find=this.RULED("dir_find",()=>{this.CONSUME(UB),this.OR([{ALT:()=>this.SUBRULE(this.kind)},{ALT:()=>this.CONSUME(Qa)}])});dir_flee=this.RULED("dir_flee",()=>{this.CONSUME($B),this.OR([{ALT:()=>this.SUBRULE(this.kind)},{ALT:()=>this.CONSUME(Qa)}])});dir_to=this.RULED("dir_to",()=>{this.CONSUME(FB),this.SUBRULE1(this.dir),this.SUBRULE2(this.dir)});dir_within=this.RULED("dir_within",()=>{this.CONSUME(c1),this.SUBRULE1(this.simple_token)});dir_awayby=this.RULED("dir_awayby",()=>{this.CONSUME(l1),this.SUBRULE1(this.simple_token)});dir=this.RULED("dir",()=>{this.MANY(()=>this.SUBRULE(this.dir_mod)),this.OR([{ALT:()=>this.CONSUME(BB)},{ALT:()=>this.CONSUME(EB)},{ALT:()=>this.CONSUME(kB)},{ALT:()=>this.CONSUME(vB)},{ALT:()=>this.CONSUME(YB)},{ALT:()=>this.SUBRULE(this.dir_by)},{ALT:()=>this.SUBRULE(this.dir_at)},{ALT:()=>this.SUBRULE(this.dir_away)},{ALT:()=>this.SUBRULE(this.dir_toward)},{ALT:()=>this.CONSUME(OB)},{ALT:()=>this.CONSUME(TB)},{ALT:()=>this.CONSUME(SB)},{ALT:()=>this.CONSUME(PB)},{ALT:()=>this.CONSUME(jB)},{ALT:()=>this.SUBRULE(this.dir_find)},{ALT:()=>this.SUBRULE(this.dir_flee)},{ALT:()=>this.SUBRULE(this.dir_to)},{ALT:()=>this.CONSUME(QB)},{ALT:()=>this.CONSUME(KB)},{ALT:()=>this.CONSUME(WB)},{ALT:()=>this.CONSUME(VB)},{ALT:()=>this.CONSUME(qB)},{ALT:()=>this.CONSUME(JB)},{ALT:()=>this.CONSUME(XB)},{ALT:()=>this.CONSUME(A1)},{ALT:()=>this.CONSUME(e1)},{ALT:()=>this.CONSUME(t1)},{ALT:()=>this.CONSUME(n1)},{ALT:()=>this.CONSUME(r1)},{ALT:()=>this.CONSUME(s1)}])});expr_any=this.RULED("expr_any",()=>{this.OR1([{ALT:()=>this.SUBRULE1(this.kind)},{ALT:()=>this.SUBRULE1(this.color)},{ALT:()=>{this.SUBRULE(this.dir),this.OR2([{ALT:()=>this.SUBRULE2(this.kind)},{ALT:()=>this.SUBRULE2(this.color)}])}}])});token_expr_any=this.RULED("token_expr_any",()=>{this.CONSUME(m1),this.SUBRULE(this.expr_any)});token_expr_count=this.RULED("token_expr_count",()=>{this.CONSUME(g1),this.SUBRULE(this.expr_any)});token_expr_blocked=this.RULED("token_expr_blocked",()=>{this.CONSUME(d1),this.SUBRULE(this.dir)});token_expr_abs=this.RULED("token_expr_abs",()=>{this.CONSUME(p1),this.SUBRULE(this.simple_token)});token_expr_intceil=this.RULED("token_expr_intceil",()=>{this.CONSUME(w1),this.SUBRULE(this.simple_token)});token_expr_intfloor=this.RULED("token_expr_intfloor",()=>{this.CONSUME(G1),this.SUBRULE(this.simple_token)});token_expr_intround=this.RULED("token_expr_intround",()=>{this.CONSUME(x1),this.SUBRULE(this.simple_token)});token_expr_clamp=this.RULED("token_expr_clamp",()=>{this.CONSUME(M1),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token),this.SUBRULE3(this.simple_token)});token_expr_min=this.RULED("token_expr_min",()=>{this.CONSUME(b1),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_max=this.RULED("token_expr_max",()=>{this.CONSUME(y1),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_pick=this.RULED("token_expr_pick",()=>{this.CONSUME(_1),this.AT_LEAST_ONE(()=>this.SUBRULE1(this.simple_token))});token_expr_pickwith=this.RULED("token_expr_pickwith",()=>{this.CONSUME(D1),this.SUBRULE1(this.simple_token),this.AT_LEAST_ONE(()=>this.SUBRULE2(this.simple_token))});token_expr_random=this.RULED("token_expr_random",()=>{this.CONSUME(B1),this.SUBRULE1(this.simple_token),this.OPTION(()=>this.SUBRULE2(this.simple_token))});token_expr_randomwith=this.RULED("token_expr_randomwith",()=>{this.CONSUME(E1),this.SUBRULE1(this.simple_token),this.SUBRULE2(this.simple_token),this.OPTION(()=>this.SUBRULE3(this.simple_token))});token_expr_run=this.RULED("token_expr_run",()=>{this.CONSUME(k1),this.SUBRULE(this.string_token)});token_expr_runwith=this.RULED("token_expr_runwith",()=>{this.CONSUME(v1),this.SUBRULE(this.simple_token),this.SUBRULE(this.string_token)});token_expr=this.RULED("token_expr",()=>{this.OR([{ALT:()=>this.CONSUME(h1)},{ALT:()=>this.CONSUME(f1)},{ALT:()=>this.SUBRULE(this.token_expr_any)},{ALT:()=>this.SUBRULE(this.token_expr_count)},{ALT:()=>this.SUBRULE(this.token_expr_blocked)},{ALT:()=>this.SUBRULE(this.token_expr_abs)},{ALT:()=>this.SUBRULE(this.token_expr_intceil)},{ALT:()=>this.SUBRULE(this.token_expr_intfloor)},{ALT:()=>this.SUBRULE(this.token_expr_intround)},{ALT:()=>this.SUBRULE(this.token_expr_clamp)},{ALT:()=>this.SUBRULE(this.token_expr_min)},{ALT:()=>this.SUBRULE(this.token_expr_max)},{ALT:()=>this.SUBRULE(this.token_expr_pick)},{ALT:()=>this.SUBRULE(this.token_expr_pickwith)},{ALT:()=>this.SUBRULE(this.token_expr_random)},{ALT:()=>this.SUBRULE(this.token_expr_randomwith)},{ALT:()=>this.SUBRULE(this.token_expr_run)},{ALT:()=>this.SUBRULE(this.token_expr_runwith)}])});string_token=this.RULED("string_token",()=>{this.OR([{ALT:()=>this.CONSUME(et)},{ALT:()=>this.CONSUME(Mu)}])});simple_token=this.RULED("simple_token",()=>{this.OR([{ALT:()=>this.CONSUME(Qa)},{ALT:()=>this.CONSUME(et)},{ALT:()=>this.CONSUME(Mu)},{ALT:()=>this.SUBRULE(this.color)}])});token=this.RULED("token",()=>{this.OR([{ALT:()=>this.SUBRULE(this.category)},{ALT:()=>this.SUBRULE(this.collision)},{ALT:()=>this.SUBRULE(this.color)},{ALT:()=>this.SUBRULE(this.dir)},{ALT:()=>this.SUBRULE(this.command_play)},{ALT:()=>this.SUBRULE(this.command_toast)},{ALT:()=>this.SUBRULE(this.command_ticker)},{ALT:()=>this.CONSUME(Fm)},{ALT:()=>this.CONSUME(Mu)},{ALT:()=>this.CONSUME(et)},{ALT:()=>this.CONSUME(Qa)},{ALT:()=>this.CONSUME(Y1)},{ALT:()=>{this.CONSUME(H1),this.SUBRULE(this.expr),this.CONSUME(L1)}}])})}const wo=new cL;if(G6){const e=wo.getGAstProductions(),A=w6(e);console.info(A)}const lL=wo.getBaseCstVisitorConstructor();var PA=(e=>(e[e.PROGRAM=0]="PROGRAM",e[e.API=1]="API",e[e.LINE=2]="LINE",e[e.MARK=3]="MARK",e[e.GOTO=4]="GOTO",e[e.COUNT=5]="COUNT",e[e.TEXT=6]="TEXT",e[e.LABEL=7]="LABEL",e[e.HYPERLINK=8]="HYPERLINK",e[e.STAT=9]="STAT",e[e.MOVE=10]="MOVE",e[e.COMMAND=11]="COMMAND",e[e.LITERAL=12]="LITERAL",e[e.IF=13]="IF",e[e.IF_CHECK=14]="IF_CHECK",e[e.IF_BLOCK=15]="IF_BLOCK",e[e.ELSE_IF=16]="ELSE_IF",e[e.ELSE=17]="ELSE",e[e.WHILE=18]="WHILE",e[e.BREAK=19]="BREAK",e[e.CONTINUE=20]="CONTINUE",e[e.REPEAT=21]="REPEAT",e[e.WAITFOR=22]="WAITFOR",e[e.FOREACH=23]="FOREACH",e[e.OR=24]="OR",e[e.AND=25]="AND",e[e.NOT=26]="NOT",e[e.COMPARE=27]="COMPARE",e[e.COMPARE_ITEM=28]="COMPARE_ITEM",e[e.OPERATOR=29]="OPERATOR",e[e.OPERATOR_ITEM=30]="OPERATOR_ITEM",e[e.EXPR=31]="EXPR",e))(PA||{}),mi=(e=>(e[e.IS_EQ=0]="IS_EQ",e[e.IS_NOT_EQ=1]="IS_NOT_EQ",e[e.IS_LESS_THAN=2]="IS_LESS_THAN",e[e.IS_GREATER_THAN=3]="IS_GREATER_THAN",e[e.IS_LESS_THAN_OR_EQ=4]="IS_LESS_THAN_OR_EQ",e[e.IS_GREATER_THAN_OR_EQ=5]="IS_GREATER_THAN_OR_EQ",e))(mi||{}),Zr=(e=>(e[e.EMPTY=0]="EMPTY",e[e.PLUS=1]="PLUS",e[e.MINUS=2]="MINUS",e[e.POWER=3]="POWER",e[e.MULTIPLY=4]="MULTIPLY",e[e.DIVIDE=5]="DIVIDE",e[e.MOD_DIVIDE=6]="MOD_DIVIDE",e[e.FLOOR_DIVIDE=7]="FLOOR_DIVIDE",e[e.UNI_PLUS=8]="UNI_PLUS",e[e.UNI_MINUS=9]="UNI_MINUS",e))(Zr||{}),Nu=(e=>(e[e.NUMBER=0]="NUMBER",e[e.STRING=1]="STRING",e[e.TEMPLATE=2]="TEMPLATE",e))(Nu||{});function Fe(e,A){const[t]=e??[];return(t?.image??A).trimStart().replaceAll(/^"|"$/g,"")}class uL extends lL{unique=0;constructor(){super(),Yr&&this.validateVisitor()}visit(A){if(se(A)&&(A=A[0]),!!G(A))return this[A.name](A.children,A.location)}createcodenode(A,t){return[{...t,...A,lineindex:0}]}createstringnode(A,t){return this.createcodenode(A,{type:12,literal:1,value:t})}createtemplatenode(A,t){return this.createcodenode(A,{type:12,literal:2,value:t})}createmarknode(A,t,n){return this.createlinenode(A,this.createcodenode(A,{type:3,id:t,comment:n}))}creategotonode(A,t,n){return this.createlinenode(A,this.createcodenode(A,{type:4,id:t,comment:n}))}createlinenode(A,t){return this.createcodenode(A,{type:2,stmts:t})}createapinode(A,t,n){return this.createlinenode(A,this.createcodenode(A,{type:1,words:n,method:t}))}createlogicnode(A,t,n,r){return this.createlinenode(A,this.createcodenode(A,{type:14,skip:n,words:r,method:t}))}createcountnode(A){return this.createcodenode(A,{type:5,index:this.unique++})}createexprnodeondemand(A,t){return A.length===1?A[0]:this.createcodenode(t,{type:31,words:A})[0]}go(A){return Array.isArray(A)?A.map(t=>this.visit(t)).flat():G(A)?[this.visit(A)].flat():[]}program(A,t){return this.unique=0,this.createcodenode(t,{type:0,lines:[this.createlinenode(t,this.createcodenode(t,{type:7,active:!0,name:"restart"})),this.go(A.line)].flat()})}line(A){return A.stmt?this.go(A.stmt):[]}stmt(A){return A.stmt_label?this.go(A.stmt_label):A.stmt_stat?this.go(A.stmt_stat):A.stmt_text?this.go(A.stmt_text):A.stmt_comment?this.go(A.stmt_comment):A.stmt_hyperlink?this.go(A.stmt_hyperlink):A.stmt_command?this.go(A.stmt_command):A.short_go?this.go(A.short_go):A.short_try?this.go(A.short_try):[]}inline_go(A){const t=[];return A.short_go&&t.push(...this.go(A.short_go)),A.inline&&t.push(...this.go(A.inline)),t}inline_try(A){const t=[];return A.short_try&&t.push(...this.go(A.short_try)),A.inline&&t.push(...this.go(A.inline)),t}inline_command(A){const t=[];return A.stmt_command&&t.push(...this.go(A.stmt_command)),A.inline&&t.push(...this.go(A.inline)),t}inline(A){const t=[];return A.stmt_stat&&t.push(...this.go(A.stmt_stat)),A.stmt_text&&t.push(...this.go(A.stmt_text)),A.stmt_comment&&t.push(...this.go(A.stmt_comment)),A.stmt_hyperlink&&t.push(...this.go(A.stmt_hyperlink)),A.inline_go&&t.push(...this.go(A.inline_go)),A.inline_try&&t.push(...this.go(A.inline_try)),A.inline_command&&t.push(...this.go(A.inline_command)),A.structured_cmd&&t.push(...this.go(A.structured_cmd)),t}stmt_label(A,t){return this.createlinenode(t,this.createcodenode(t,{type:7,active:!0,name:Fe(A.token_label,":").slice(1).trim()}))}stmt_stat(A,t){return this.createlinenode(t,this.createcodenode(t,{type:9,value:Fe(A.token_stat,"@").slice(1)}))}stmt_text(A,t){const n=Fe(A.token_text,"");return this.createlinenode(t,this.createcodenode(t,{type:6,value:n}))}stmt_comment(A,t){return this.createlinenode(t,this.createcodenode(t,{type:7,active:!1,name:Fe(A.token_comment,"'").slice(1).trim()}))}stmt_hyperlink(A,t){return this.createlinenode(t,this.createcodenode(t,{type:8,link:Fe(A.token_hyperlink,"!").slice(1),text:Fe(A.token_hyperlinktext,";").slice(1)}))}stmt_command(A,t){return A.structured_cmd?this.go(A.structured_cmd):this.createlinenode(t,this.createcodenode(t,{type:11,words:this.go(A.words)}))}structured_cmd(A){return A.command_if?this.go(A.command_if):A.command_while?this.go(A.command_while):A.command_repeat?this.go(A.command_repeat):A.command_waitfor?this.go(A.command_waitfor):A.command_foreach?this.go(A.command_foreach):A.command_break?this.go(A.command_break):A.command_continue?this.go(A.command_continue):[]}short_go(A,t){return A.token_divide?this.createlinenode(t,this.createcodenode(t,{type:10,wait:!0,words:[this.go(A.string_token),this.go(A.dir)].flat()})):[]}short_try(A,t){return A.token_query?this.createlinenode(t,this.createcodenode(t,{type:10,wait:!1,words:[this.go(A.string_token),this.go(A.dir)].flat()})):[]}command_if(A,t){const[n]=this.createlogicnode(t,Fe(A.token_if,"if").toLowerCase(),"",this.go(A.words)),[r]=this.go(A.command_if_block)??[];return this.createcodenode(t,{type:13,check:n,block:r})}command_if_block(A,t){const n=Ke(),r=Ke();return this.createcodenode(t,{type:15,skip:n,done:r,lines:[this.go(A.inline),this.go(A.line),this.creategotonode(t,r,"end of if"),this.createmarknode(t,n,"alt logic")].flat(),altlines:[this.go(A.command_else_if),this.go(A.command_else),this.createmarknode(t,r,"end of if")].flat()})}command_block(A){return[this.go(A.inline),this.go(A.line)].flat()}command_fork(A){return[this.go(A.inline),this.go(A.line)].flat()}command_else_if(A,t){const n=Ke(),r=Ke();return this.createcodenode(t,{type:16,done:r,lines:[this.createlogicnode(t,Fe(A.token_if,"if"),n,this.go(A.words)),this.go(A.command_fork),this.creategotonode(t,r,"end of if"),this.createmarknode(t,n,"skip")].flat()})}command_else(A,t){const n=[];return A.words&&n.push(...this.createlinenode(t,this.createcodenode(t,{type:11,words:this.go(A.words)}))),A.command_fork&&n.push(...this.go(A.command_fork)),this.createcodenode(t,{type:17,lines:n})}command_while(A,t){const n=Ke(),r=Ke();return this.createcodenode(t,{type:18,loop:n,done:r,lines:[this.createmarknode(t,n,"start of while"),this.createlogicnode(t,"if",r,this.go(A.words)),this.go(A.command_block),this.creategotonode(t,n,"loop of while"),this.createmarknode(t,r,"end of while")].flat()})}command_repeat(A,t){const n=Ke(),r=Ke(),i=[this.createcountnode(t),this.go(A.words)].flat();return this.createcodenode(t,{type:21,loop:n,done:r,lines:[this.createapinode(t,"repeatstart",i),this.createmarknode(t,n,"start of repeat"),this.createlogicnode(t,"repeat",r,i),this.go(A.command_block),this.creategotonode(t,n,"loop of repeat"),this.createmarknode(t,r,"end of repeat")].flat()})}command_foreach(A,t){const n=Ke(),r=Ke(),i=[this.createcountnode(t),this.go(A.words)].flat();return this.createcodenode(t,{type:23,loop:n,done:r,lines:[this.createapinode(t,"foreachstart",i),this.createmarknode(t,n,"start of foreach"),this.createlogicnode(t,"foreach",r,i),this.go(A.command_block),this.creategotonode(t,n,"loop of foreach"),this.createmarknode(t,r,"end of foreach")].flat()})}command_waitfor(A,t){const n=Ke();return this.createcodenode(t,{type:22,loop:n,lines:[this.createmarknode(t,n,"start of waitfor"),this.createlogicnode(t,"waitfor",n,this.go(A.words))].flat()})}command_break(A,t){return this.createcodenode(t,{type:19,goto:0})}command_continue(A,t){return this.createcodenode(t,{type:20,goto:0})}command_play(A,t){const n=Fe(A.token_command_play,"").trim(),[r,...s]=n.split(" ");return[this.createstringnode(t,r),this.createstringnode(t,s.join(" "))].flat()}command_toast(A,t){const r=Fe(A.token_command_toast,"").replace("toast","").trim();return[this.createstringnode(t,"toast"),this.createtemplatenode(t,r)].flat()}command_ticker(A,t){const r=Fe(A.token_command_ticker,"").replace("ticker","").trim();return[this.createstringnode(t,"ticker"),this.createtemplatenode(t,r)].flat()}expr(A,t){return A.RHS?this.createcodenode(t,{type:24,items:[this.createexprnodeondemand(this.go(A.LHS),t),this.createexprnodeondemand(this.go(A.RHS),t)]}):this.go(A.LHS)}and_test(A,t){return A.RHS?this.createcodenode(t,{type:25,items:[this.createexprnodeondemand(this.go(A.LHS),t),this.createexprnodeondemand(this.go(A.RHS),t)]}):this.go(A.LHS)}not_test(A,t){return A.comparison?this.go(A.comparison):A.LHS?this.createcodenode(t,{type:26,items:this.go(A.LHS)}):[]}comparison(A,t){if(A.RHS){const[n]=this.go(A.comp_op);return this.createcodenode(t,{type:27,compare:n,lhs:this.createexprnodeondemand(this.go(A.LHS),t),rhs:this.createexprnodeondemand(this.go(A.RHS),t)})}return this.go(A.LHS)}comp_op(A,t){return A.token_iseq?this.createcodenode(t,{type:28,method:0}):A.token_isnoteq?this.createcodenode(t,{type:28,method:1}):A.token_islessthan?this.createcodenode(t,{type:28,method:2}):A.token_isgreaterthan?this.createcodenode(t,{type:28,method:3}):A.token_islessthanorequal?this.createcodenode(t,{type:28,method:4}):A.token_isgreaterthanorequal?this.createcodenode(t,{type:28,method:5}):[]}expr_value(A,t){return A.RHS?this.createcodenode(t,{type:24,items:[this.createexprnodeondemand(this.go(A.LHS),t),this.createexprnodeondemand(this.go(A.RHS),t)]}):this.go(A.LHS)}and_test_value(A,t){return A.RHS?this.createcodenode(t,{type:25,items:[this.createexprnodeondemand(this.go(A.LHS),t),this.createexprnodeondemand(this.go(A.RHS),t)]}):this.go(A.LHS)}not_test_value(A,t){return A.arith_expr?this.go(A.arith_expr):A.LHS?this.createcodenode(t,{type:26,items:this.go(A.LHS)}):[]}arith_expr(A,t){if(A.LHS)return this.go(A.LHS);const n=this.go(A.term);return A.RHS?this.createcodenode(t,{type:29,lhs:n[0],items:this.go(A.RHS)}):n}arith_expr_item(A,t){return this.createcodenode(t,{type:30,operator:A.token_plus?1:2,rhs:this.go(A.term)[0]})}term(A,t){return A.term_item?this.createcodenode(t,{type:29,lhs:this.go(A.factor)[0],items:this.go(A.term_item)}):this.go(A.factor)}term_item(A,t){let n=0;return A.token_multiply&&(n=4),A.token_divide&&(n=5),A.token_moddivide&&(n=6),A.token_floordivide&&(n=7),this.createcodenode(t,{type:30,operator:n,rhs:this.go(A.factor)[0]})}factor(A,t){if(A.power)return this.go(A.power);let n=0;return A.token_plus&&(n=8),A.token_minus&&(n=9),this.createcodenode(t,{type:29,lhs:void 0,items:this.createcodenode(t,{type:30,operator:n,rhs:this.go(A.LHS)[0]})})}power(A,t){const n=this.go(A.token);return A.factor?this.createcodenode(t,{type:29,lhs:n[0],items:this.createcodenode(t,{type:30,operator:3,rhs:this.go(A.factor)[0]})}):n}words(A){return this.go(A.expr)}kind(A){return[this.go(A.color),this.go(A.string_token)].flat()}category(A,t){return A.token_isterrain?this.createcodenode(t,{type:12,literal:1,value:"isterrain"}):A.token_isobject?this.createcodenode(t,{type:12,literal:1,value:"isobject"}):[]}collision(A,t){return A.token_iswalkable?this.createcodenode(t,{type:12,literal:1,value:"iswalkable"}):A.token_iswalking?this.createcodenode(t,{type:12,literal:1,value:"iswalking"}):A.token_iswalk?this.createcodenode(t,{type:12,literal:1,value:"iswalk"}):A.token_isswimmable?this.createcodenode(t,{type:12,literal:1,value:"isswimmable"}):A.token_isswimming?this.createcodenode(t,{type:12,literal:1,value:"isswimming"}):A.token_isswim?this.createcodenode(t,{type:12,literal:1,value:"isswim"}):A.token_issolid?this.createcodenode(t,{type:12,literal:1,value:"issolid"}):A.token_isbullet?this.createcodenode(t,{type:12,literal:1,value:"isbullet"}):A.token_isghost?this.createcodenode(t,{type:12,literal:1,value:"isghost"}):[]}color(A,t){let n="ERROR";return A.token_black&&(n="black"),A.token_dkblue&&(n="dkblue"),A.token_dkgreen&&(n="dkgreen"),A.token_dkcyan&&(n="dkcyan"),A.token_dkred&&(n="dkred"),A.token_dkpurple&&(n="dkpurple"),A.token_dkyellow&&(n="dkyellow"),A.token_ltgray&&(n="ltgray"),A.token_dkgray&&(n="dkgray"),A.token_blue&&(n="blue"),A.token_green&&(n="green"),A.token_cyan&&(n="cyan"),A.token_red&&(n="red"),A.token_purple&&(n="purple"),A.token_yellow&&(n="yellow"),A.token_white&&(n="white"),A.token_brown&&(n="brown"),A.token_dkwhite&&(n="dkwhite"),A.token_ltgrey&&(n="ltgrey"),A.token_gray&&(n="gray"),A.token_grey&&(n="grey"),A.token_dkgrey&&(n="dkgrey"),A.token_ltblack&&(n="ltblack"),A.token_onblack&&(n="onblack"),A.token_ondkblue&&(n="ondkblue"),A.token_ondkgreen&&(n="ondkgreen"),A.token_ondkcyan&&(n="ondkcyan"),A.token_ondkred&&(n="ondkred"),A.token_ondkpurple&&(n="ondkpurple"),A.token_ondkyellow&&(n="ondkyellow"),A.token_onltgray&&(n="onltgray"),A.token_ondkgray&&(n="ondkgray"),A.token_onblue&&(n="onblue"),A.token_ongreen&&(n="ongreen"),A.token_oncyan&&(n="oncyan"),A.token_onred&&(n="onred"),A.token_onpurple&&(n="onpurple"),A.token_onyellow&&(n="onyellow"),A.token_onwhite&&(n="onwhite"),A.token_onbrown&&(n="onbrown"),A.token_ondkwhite&&(n="ondkwhite"),A.token_onltgrey&&(n="onltgrey"),A.token_ongray&&(n="ongray"),A.token_ongrey&&(n="ongrey"),A.token_ondkgrey&&(n="ondkgrey"),A.token_onltblack&&(n="onltblack"),A.token_onclear&&(n="onclear"),A.token_blblack&&(n="blblack"),A.token_bldkblue&&(n="blblue"),A.token_bldkgreen&&(n="blgreen"),A.token_bldkcyan&&(n="bldkcyan"),A.token_bldkred&&(n="bldkred"),A.token_bldkpurple&&(n="bldkpurple"),A.token_bldkyellow&&(n="bldkyellow"),A.token_blltgray&&(n="blltgray"),A.token_bldkgray&&(n="bldkgray"),A.token_blblue&&(n="blblue"),A.token_blgreen&&(n="blgreen"),A.token_blcyan&&(n="blcyan"),A.token_blred&&(n="blred"),A.token_blpurple&&(n="blpurple"),A.token_blyellow&&(n="blyellow"),A.token_blwhite&&(n="blwhite"),A.token_blbrown&&(n="blbrown"),A.token_bldkwhite&&(n="bldkwhite"),A.token_blltgrey&&(n="blltgrey"),A.token_blgray&&(n="blgray"),A.token_blgrey&&(n="blgrey"),A.token_bldkgrey&&(n="bldkgrey"),A.token_blltblack&&(n="blltblack"),this.createcodenode(t,{type:12,literal:1,value:n})}dir_mod(A,t){if(A.dir_within)return this.go(A.dir_within);if(A.dir_awayby)return this.go(A.dir_awayby);let n="ERROR";return A.token_cw&&(n="cw"),A.token_ccw&&(n="ccw"),A.token_opp&&(n="opp"),A.token_rndp&&(n="rndp"),A.token_over&&(n="over"),A.token_under&&(n="under"),A.token_ground&&(n="ground"),A.token_elements&&(n="elements"),this.createcodenode(t,{type:12,literal:1,value:n})}dir_by(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"by"}),...this.go(A.simple_token)]}dir_at(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"at"}),...this.go(A.simple_token)]}dir_away(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"away"}),...this.go(A.simple_token)]}dir_toward(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"toward"}),...this.go(A.simple_token)]}dir_find(A,t){const n=this.go(A.kind);if(A.token_numberliteral){const r=parseFloat(Fe(A.token_numberliteral,"0"));n.push(...this.createcodenode(t,{type:12,literal:0,value:r}))}return[...this.createcodenode(t,{type:12,literal:1,value:"find"}),...n]}dir_flee(A,t){const n=this.go(A.kind);if(A.token_numberliteral){const r=parseFloat(Fe(A.token_numberliteral,"0"));n.push(...this.createcodenode(t,{type:12,literal:0,value:r}))}return[...this.createcodenode(t,{type:12,literal:1,value:"flee"}),...n]}dir_to(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"to"}),...this.go(A.dir)]}dir_within(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"within"}),...this.go(A.simple_token)]}dir_awayby(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"awayby"}),...this.go(A.simple_token)]}dir(A,t){const n=this.go(A.dir_mod)??[];return A.token_i&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"i"})),A.token_idle&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"idle"})),A.token_n&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"n"})),A.token_u&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"u"})),A.token_north&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"north"})),A.token_up&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"up"})),A.token_s&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"s"})),A.token_d&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"d"})),A.token_south&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"south"})),A.token_down&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"down"})),A.token_w&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"w"})),A.token_l&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"l"})),A.token_west&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"west"})),A.token_left&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"left"})),A.token_e&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"e"})),A.token_r&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"r"})),A.token_east&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"east"})),A.token_right&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"right"})),A.token_rnd&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"rnd"})),A.token_rndne&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"rndne"})),A.token_rndns&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"rndns"})),A.token_flow&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"flow"})),A.token_seek&&n.push(...this.createcodenode(t,{type:12,literal:1,value:"seek"})),A.dir_by&&n.push(...this.go(A.dir_by)),A.dir_at&&n.push(...this.go(A.dir_at)),A.dir_away&&n.push(...this.go(A.dir_away)),A.dir_toward&&n.push(...this.go(A.dir_toward)),A.dir_find&&n.push(...this.go(A.dir_find)),A.dir_flee&&n.push(...this.go(A.dir_flee)),A.dir_to&&n.push(...this.go(A.dir_to)),n.flat()}expr_any(A){return[this.go(A.dir),this.go(A.kind),this.go(A.color)].flat()}token_expr_any(A,t){return[this.createcodenode(t,{type:12,literal:1,value:"any"}),this.go(A.expr_any)].flat()}token_expr_count(A,t){return[this.createcodenode(t,{type:12,literal:1,value:"countof"}),this.go(A.expr_any)].flat()}token_expr_blocked(A,t){return[this.createcodenode(t,{type:12,literal:1,value:"blocked"}),this.go(A.dir)].flat()}token_expr_abs(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"abs"}),...this.go(A.simple_token)]}token_expr_intceil(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"intceil"}),...this.go(A.simple_token)]}token_expr_intfloor(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"intfloor"}),...this.go(A.simple_token)]}token_expr_intround(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"intround"}),...this.go(A.simple_token)]}token_expr_clamp(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"clamp"}),...this.go(A.simple_token)]}token_expr_min(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"min"}),...this.go(A.simple_token)]}token_expr_max(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"max"}),...this.go(A.simple_token)]}token_expr_pick(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"pick"}),...this.go(A.simple_token)]}token_expr_pickwith(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"pickwith"}),...this.go(A.simple_token)]}token_expr_random(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"random"}),...this.go(A.simple_token)]}token_expr_randomwith(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"randomwith"}),...this.go(A.simple_token)]}token_expr_run(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"run"}),...this.go(A.string_token)]}token_expr_runwith(A,t){return[...this.createcodenode(t,{type:12,literal:1,value:"runwith"}),...this.go(A.simple_token),...this.go(A.string_token)]}token_expr(A,t){return A.token_expr_aligned?this.createcodenode(t,{type:12,literal:1,value:"aligned"}):A.token_contact?this.createcodenode(t,{type:12,literal:1,value:"contact"}):A.token_expr_any?this.go(A.token_expr_any):A.token_expr_count?this.go(A.token_expr_count):A.token_expr_blocked?this.go(A.token_expr_blocked):A.token_expr_abs?this.go(A.token_expr_abs):A.token_expr_intceil?this.go(A.token_expr_intceil):A.token_expr_intfloor?this.go(A.token_expr_intfloor):A.token_expr_intround?this.go(A.token_expr_intround):A.token_expr_clamp?this.go(A.token_expr_clamp):A.token_expr_min?this.go(A.token_expr_min):A.token_expr_max?this.go(A.token_expr_max):A.token_expr_pick?this.go(A.token_expr_pick):A.token_expr_pickwith?this.go(A.token_expr_pickwith):A.token_expr_random?this.go(A.token_expr_random):A.token_expr_randomwith?this.go(A.token_expr_randomwith):A.token_expr_run?this.go(A.token_expr_run):A.token_expr_runwith?this.go(A.token_expr_runwith):[]}string_token(A,t){if(A.token_stringliteraldouble){const n=Fe(A.token_stringliteraldouble,"");return this.createcodenode(t,{type:12,literal:2,value:n})}if(A.token_stringliteral){const n=Fe(A.token_stringliteral,"");return this.createcodenode(t,{type:12,literal:1,value:n})}return[]}simple_token(A,t){if(A.token_stringliteraldouble){const n=Fe(A.token_stringliteraldouble,"");return this.createcodenode(t,{type:12,literal:2,value:n})}if(A.token_stringliteral){const n=Fe(A.token_stringliteral,"");return this.createcodenode(t,{type:12,literal:1,value:n})}if(A.token_numberliteral){const n=parseFloat(Fe(A.token_numberliteral,"0"));return this.createcodenode(t,{type:12,literal:0,value:n})}return A.color?this.go(A.color):[]}token(A,t){if(A.category)return this.go(A.category);if(A.collision)return this.go(A.collision);if(A.color)return this.go(A.color);if(A.dir)return this.go(A.dir);if(A.command_play)return this.go(A.command_play);if(A.command_toast)return this.go(A.command_toast);if(A.command_ticker)return this.go(A.command_ticker);if(A.token_label){const n=Fe(A.token_label,"");return this.createcodenode(t,{type:12,literal:1,value:n})}if(A.token_stringliteraldouble){const n=Fe(A.token_stringliteraldouble,"");return this.createcodenode(t,{type:12,literal:2,value:n})}if(A.token_stringliteral){const n=Fe(A.token_stringliteral,"");return this.createcodenode(t,{type:12,literal:1,value:n})}if(A.token_numberliteral){const n=parseFloat(Fe(A.token_numberliteral,"0"));return this.createcodenode(t,{type:12,literal:0,value:n})}if(A.token_lparen)return[this.createexprnodeondemand(this.go(A.expr),t)];if(A.token_stop){const n=Fe(A.token_stop,"");return this.createcodenode(t,{type:12,literal:1,value:n})}return[]}}const hL=new uL;function ug(e){if(!e||e.type===void 0)return;const A=[{start:e.startOffset,end:e.endOffset??0}];return Object.keys(e).forEach(t=>{if(t!=="parent"){const n=e[t];se(n)?n.forEach(r=>{A.push(ug(r))}):A.push(ug(n))}}),e.range={start:Math.min(...A.filter(t=>t).map(t=>t?.start??0)),end:Math.max(...A.filter(t=>t).map(t=>t?.end??0))},e.range}function fL(e){const A=eE(`${e}
`);if(A.errors.length>0)return A;wo.input=A.tokens;const t=wo.program();if(wo.errors.length>0)return{tokens:A.tokens,errors:wo.errors.map(r=>({offset:r.token.startOffset,line:r.token.startLine,column:r.token.startColumn,length:r.token.image.length,message:r.message}))};const[n]=hL.go(t);return n?(ug(n),{tokens:A.tokens,cst:t,ast:n}):{tokens:A.tokens,cst:t,errors:[{message:"no ast output",offset:0,line:0,column:0,length:0}]}}var Wa={},hg={},fg={},dg={},wE;function dL(){if(wE)return dg;wE=1;const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return dg.encode=function(A){if(0<=A&&A<e.length)return e[A];throw new TypeError("Must be between 0 and 63: "+A)},dg}var GE;function xE(){if(GE)return fg;GE=1;const e=dL(),A=5,t=1<<A,n=t-1,r=t;function s(i){return i<0?(-i<<1)+1:(i<<1)+0}return fg.encode=function(o){let a="",c,l=s(o);do c=l&n,l>>>=A,l>0&&(c|=r),a+=e.encode(c);while(l>0);return a},fg}var tr={},gi={},Va={exports:{}};var mL=Va.exports,ME;function gL(){return ME||(ME=1,(function(e,A){(function(t){var n=A&&!A.nodeType&&A,r=e&&!e.nodeType&&e,s=typeof is=="object"&&is;(s.global===s||s.window===s||s.self===s)&&(t=s);var i,o=2147483647,a=36,c=1,l=26,u=38,h=700,f=72,m=128,d="-",g=/^xn--/,p=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,y={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},E=a-c,B=Math.floor,T=String.fromCharCode,D;function Z(tA){throw new RangeError(y[tA])}function R(tA,N){for(var S=tA.length,AA=[];S--;)AA[S]=N(tA[S]);return AA}function j(tA,N){var S=tA.split("@"),AA="";S.length>1&&(AA=S[0]+"@",tA=S[1]),tA=tA.replace(x,".");var Q=tA.split("."),rA=R(Q,N).join(".");return AA+rA}function L(tA){for(var N=[],S=0,AA=tA.length,Q,rA;S<AA;)Q=tA.charCodeAt(S++),Q>=55296&&Q<=56319&&S<AA?(rA=tA.charCodeAt(S++),(rA&64512)==56320?N.push(((Q&1023)<<10)+(rA&1023)+65536):(N.push(Q),S--)):N.push(Q);return N}function v(tA){return R(tA,function(N){var S="";return N>65535&&(N-=65536,S+=T(N>>>10&1023|55296),N=56320|N&1023),S+=T(N),S}).join("")}function Y(tA){return tA-48<10?tA-22:tA-65<26?tA-65:tA-97<26?tA-97:a}function b(tA,N){return tA+22+75*(tA<26)-((N!=0)<<5)}function I(tA,N,S){var AA=0;for(tA=S?B(tA/h):tA>>1,tA+=B(tA/N);tA>E*l>>1;AA+=a)tA=B(tA/E);return B(AA+(E+1)*tA/(tA+u))}function $(tA){var N=[],S=tA.length,AA,Q=0,rA=m,gA=f,EA,OA,yA,YA,ZA,IA,FA,k,hA;for(EA=tA.lastIndexOf(d),EA<0&&(EA=0),OA=0;OA<EA;++OA)tA.charCodeAt(OA)>=128&&Z("not-basic"),N.push(tA.charCodeAt(OA));for(yA=EA>0?EA+1:0;yA<S;){for(YA=Q,ZA=1,IA=a;yA>=S&&Z("invalid-input"),FA=Y(tA.charCodeAt(yA++)),(FA>=a||FA>B((o-Q)/ZA))&&Z("overflow"),Q+=FA*ZA,k=IA<=gA?c:IA>=gA+l?l:IA-gA,!(FA<k);IA+=a)hA=a-k,ZA>B(o/hA)&&Z("overflow"),ZA*=hA;AA=N.length+1,gA=I(Q-YA,AA,YA==0),B(Q/AA)>o-rA&&Z("overflow"),rA+=B(Q/AA),Q%=AA,N.splice(Q++,0,rA)}return v(N)}function U(tA){var N,S,AA,Q,rA,gA,EA,OA,yA,YA,ZA,IA=[],FA,k,hA,sA;for(tA=L(tA),FA=tA.length,N=m,S=0,rA=f,gA=0;gA<FA;++gA)ZA=tA[gA],ZA<128&&IA.push(T(ZA));for(AA=Q=IA.length,Q&&IA.push(d);AA<FA;){for(EA=o,gA=0;gA<FA;++gA)ZA=tA[gA],ZA>=N&&ZA<EA&&(EA=ZA);for(k=AA+1,EA-N>B((o-S)/k)&&Z("overflow"),S+=(EA-N)*k,N=EA,gA=0;gA<FA;++gA)if(ZA=tA[gA],ZA<N&&++S>o&&Z("overflow"),ZA==N){for(OA=S,yA=a;YA=yA<=rA?c:yA>=rA+l?l:yA-rA,!(OA<YA);yA+=a)sA=OA-YA,hA=a-YA,IA.push(T(b(YA+sA%hA,0))),OA=B(sA/hA);IA.push(T(b(OA,0))),rA=I(S,k,AA==Q),S=0,++AA}++S,++N}return IA.join("")}function W(tA){return j(tA,function(N){return g.test(N)?$(N.slice(4).toLowerCase()):N})}function q(tA){return j(tA,function(N){return p.test(N)?"xn--"+U(N):N})}if(i={version:"1.4.1",ucs2:{decode:L,encode:v},decode:$,encode:U,toASCII:q,toUnicode:W},n&&r)if(e.exports==n)r.exports=i;else for(D in i)i.hasOwnProperty(D)&&(n[D]=i[D]);else t.punycode=i})(mL)})(Va,Va.exports)),Va.exports}var mg,bE;function Go(){return bE||(bE=1,mg=TypeError),mg}var pL={},wL=Object.freeze({__proto__:null,default:pL}),GL=Uw(wL),gg,yE;function Zu(){if(yE)return gg;yE=1;var e=typeof Map=="function"&&Map.prototype,A=Object.getOwnPropertyDescriptor&&e?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,t=e&&A&&typeof A.get=="function"?A.get:null,n=e&&Map.prototype.forEach,r=typeof Set=="function"&&Set.prototype,s=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,i=r&&s&&typeof s.get=="function"?s.get:null,o=r&&Set.prototype.forEach,a=typeof WeakMap=="function"&&WeakMap.prototype,c=a?WeakMap.prototype.has:null,l=typeof WeakSet=="function"&&WeakSet.prototype,u=l?WeakSet.prototype.has:null,h=typeof WeakRef=="function"&&WeakRef.prototype,f=h?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,d=Object.prototype.toString,g=Function.prototype.toString,p=String.prototype.match,x=String.prototype.slice,y=String.prototype.replace,E=String.prototype.toUpperCase,B=String.prototype.toLowerCase,T=RegExp.prototype.test,D=Array.prototype.concat,Z=Array.prototype.join,R=Array.prototype.slice,j=Math.floor,L=typeof BigInt=="function"?BigInt.prototype.valueOf:null,v=Object.getOwnPropertySymbols,Y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,b=typeof Symbol=="function"&&typeof Symbol.iterator=="object",I=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===b||!0)?Symbol.toStringTag:null,$=Object.prototype.propertyIsEnumerable,U=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(z){return z.__proto__}:null);function W(z,eA){if(z===1/0||z===-1/0||z!==z||z&&z>-1e3&&z<1e3||T.call(/e/,eA))return eA;var QA=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof z=="number"){var WA=z<0?-j(-z):j(z);if(WA!==z){var qA=String(WA),RA=x.call(eA,qA.length+1);return y.call(qA,QA,"$&_")+"."+y.call(y.call(RA,/([0-9]{3})/g,"$&_"),/_$/,"")}}return y.call(eA,QA,"$&_")}var q=GL,tA=q.custom,N=k(tA)?tA:null,S={__proto__:null,double:'"',single:"'"},AA={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};gg=function z(eA,QA,WA,qA){var RA=QA||{};if(H(RA,"quoteStyle")&&!H(S,RA.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if(H(RA,"maxStringLength")&&(typeof RA.maxStringLength=="number"?RA.maxStringLength<0&&RA.maxStringLength!==1/0:RA.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ln=H(RA,"customInspect")?RA.customInspect:!0;if(typeof ln!="boolean"&&ln!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(H(RA,"indent")&&RA.indent!==null&&RA.indent!=="	"&&!(parseInt(RA.indent,10)===RA.indent&&RA.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(H(RA,"numericSeparator")&&typeof RA.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var zn=RA.numericSeparator;if(typeof eA>"u")return"undefined";if(eA===null)return"null";if(typeof eA=="boolean")return eA?"true":"false";if(typeof eA=="string")return ye(eA,RA);if(typeof eA=="number"){if(eA===0)return 1/0/eA>0?"0":"-0";var bn=String(eA);return zn?W(eA,bn):bn}if(typeof eA=="bigint"){var Ss=String(eA)+"n";return zn?W(eA,Ss):Ss}var Sw=typeof RA.depth>"u"?5:RA.depth;if(typeof WA>"u"&&(WA=0),WA>=Sw&&Sw>0&&typeof eA=="object")return EA(eA)?"[Array]":"[Object]";var So=P(RA,WA);if(typeof qA>"u")qA=[];else if(dA(qA,eA)>=0)return"[Circular]";function ar(Po,Th,ieA){if(Th&&(qA=R.call(qA),qA.push(Th)),ieA){var yY={depth:RA.depth};return H(RA,"quoteStyle")&&(yY.quoteStyle=RA.quoteStyle),z(Po,yY,WA+1,qA)}return z(Po,RA,WA+1,qA)}if(typeof eA=="function"&&!yA(eA)){var gY=J(eA),pY=lA(eA,ar);return"[Function"+(gY?": "+gY:" (anonymous)")+"]"+(pY.length>0?" { "+Z.call(pY,", ")+" }":"")}if(k(eA)){var wY=b?y.call(String(eA),/^(Symbol\(.*\))_[^)]*$/,"$1"):Y.call(eA);return typeof eA=="object"&&!b?lt(wY):wY}if(UA(eA)){for(var gc="<"+B.call(String(eA.nodeName)),Pw=eA.attributes||[],Oh=0;Oh<Pw.length;Oh++)gc+=" "+Pw[Oh].name+"="+Q(rA(Pw[Oh].value),"double",RA);return gc+=">",eA.childNodes&&eA.childNodes.length&&(gc+="..."),gc+="</"+B.call(String(eA.nodeName))+">",gc}if(EA(eA)){if(eA.length===0)return"[]";var jw=lA(eA,ar);return So&&!_(jw)?"["+V(jw,So)+"]":"[ "+Z.call(jw,", ")+" ]"}if(YA(eA)){var Rw=lA(eA,ar);return!("cause"in Error.prototype)&&"cause"in eA&&!$.call(eA,"cause")?"{ ["+String(eA)+"] "+Z.call(D.call("[cause]: "+ar(eA.cause),Rw),", ")+" }":Rw.length===0?"["+String(eA)+"]":"{ ["+String(eA)+"] "+Z.call(Rw,", ")+" }"}if(typeof eA=="object"&&ln){if(N&&typeof eA[N]=="function"&&q)return q(eA,{depth:Sw-WA});if(ln!=="symbol"&&typeof eA.inspect=="function")return eA.inspect()}if(pA(eA)){var GY=[];return n&&n.call(eA,function(Po,Th){GY.push(ar(Th,eA,!0)+" => "+ar(Po,eA))}),M("Map",t.call(eA),GY,So)}if(TA(eA)){var xY=[];return o&&o.call(eA,function(Po){xY.push(ar(Po,eA))}),M("Set",i.call(eA),xY,So)}if(iA(eA))return O("WeakMap");if(DA(eA))return O("WeakSet");if(_A(eA))return O("WeakRef");if(IA(eA))return lt(ar(Number(eA)));if(hA(eA))return lt(ar(L.call(eA)));if(FA(eA))return lt(m.call(eA));if(ZA(eA))return lt(ar(String(eA)));if(typeof window<"u"&&eA===window)return"{ [object Window] }";if(typeof globalThis<"u"&&eA===globalThis||typeof is<"u"&&eA===is)return"{ [object globalThis] }";if(!OA(eA)&&!yA(eA)){var Iw=lA(eA,ar),MY=U?U(eA)===Object.prototype:eA instanceof Object||eA.constructor===Object,Cw=eA instanceof Object?"":"null prototype",bY=!MY&&I&&Object(eA)===eA&&I in eA?x.call(C(eA),8,-1):Cw?"Object":"",seA=MY||typeof eA.constructor!="function"?"":eA.constructor.name?eA.constructor.name+" ":"",zw=seA+(bY||Cw?"["+Z.call(D.call([],bY||[],Cw||[]),": ")+"] ":"");return Iw.length===0?zw+"{}":So?zw+"{"+V(Iw,So)+"}":zw+"{ "+Z.call(Iw,", ")+" }"}return String(eA)};function Q(z,eA,QA){var WA=QA.quoteStyle||eA,qA=S[WA];return qA+z+qA}function rA(z){return y.call(String(z),/"/g,"&quot;")}function gA(z){return!I||!(typeof z=="object"&&(I in z||typeof z[I]<"u"))}function EA(z){return C(z)==="[object Array]"&&gA(z)}function OA(z){return C(z)==="[object Date]"&&gA(z)}function yA(z){return C(z)==="[object RegExp]"&&gA(z)}function YA(z){return C(z)==="[object Error]"&&gA(z)}function ZA(z){return C(z)==="[object String]"&&gA(z)}function IA(z){return C(z)==="[object Number]"&&gA(z)}function FA(z){return C(z)==="[object Boolean]"&&gA(z)}function k(z){if(b)return z&&typeof z=="object"&&z instanceof Symbol;if(typeof z=="symbol")return!0;if(!z||typeof z!="object"||!Y)return!1;try{return Y.call(z),!0}catch{}return!1}function hA(z){if(!z||typeof z!="object"||!L)return!1;try{return L.call(z),!0}catch{}return!1}var sA=Object.prototype.hasOwnProperty||function(z){return z in this};function H(z,eA){return sA.call(z,eA)}function C(z){return d.call(z)}function J(z){if(z.name)return z.name;var eA=p.call(g.call(z),/^function\s*([\w$]+)/);return eA?eA[1]:null}function dA(z,eA){if(z.indexOf)return z.indexOf(eA);for(var QA=0,WA=z.length;QA<WA;QA++)if(z[QA]===eA)return QA;return-1}function pA(z){if(!t||!z||typeof z!="object")return!1;try{t.call(z);try{i.call(z)}catch{return!0}return z instanceof Map}catch{}return!1}function iA(z){if(!c||!z||typeof z!="object")return!1;try{c.call(z,c);try{u.call(z,u)}catch{return!0}return z instanceof WeakMap}catch{}return!1}function _A(z){if(!f||!z||typeof z!="object")return!1;try{return f.call(z),!0}catch{}return!1}function TA(z){if(!i||!z||typeof z!="object")return!1;try{i.call(z);try{t.call(z)}catch{return!0}return z instanceof Set}catch{}return!1}function DA(z){if(!u||!z||typeof z!="object")return!1;try{u.call(z,u);try{c.call(z,c)}catch{return!0}return z instanceof WeakSet}catch{}return!1}function UA(z){return!z||typeof z!="object"?!1:typeof HTMLElement<"u"&&z instanceof HTMLElement?!0:typeof z.nodeName=="string"&&typeof z.getAttribute=="function"}function ye(z,eA){if(z.length>eA.maxStringLength){var QA=z.length-eA.maxStringLength,WA="... "+QA+" more character"+(QA>1?"s":"");return ye(x.call(z,0,eA.maxStringLength),eA)+WA}var qA=AA[eA.quoteStyle||"single"];qA.lastIndex=0;var RA=y.call(y.call(z,qA,"\\$1"),/[\x00-\x1f]/g,ee);return Q(RA,"single",eA)}function ee(z){var eA=z.charCodeAt(0),QA={8:"b",9:"t",10:"n",12:"f",13:"r"}[eA];return QA?"\\"+QA:"\\x"+(eA<16?"0":"")+E.call(eA.toString(16))}function lt(z){return"Object("+z+")"}function O(z){return z+" { ? }"}function M(z,eA,QA,WA){var qA=WA?V(QA,WA):Z.call(QA,", ");return z+" ("+eA+") {"+qA+"}"}function _(z){for(var eA=0;eA<z.length;eA++)if(dA(z[eA],`
`)>=0)return!1;return!0}function P(z,eA){var QA;if(z.indent==="	")QA="	";else if(typeof z.indent=="number"&&z.indent>0)QA=Z.call(Array(z.indent+1)," ");else return null;return{base:QA,prev:Z.call(Array(eA+1),QA)}}function V(z,eA){if(z.length===0)return"";var QA=`
`+eA.prev+eA.base;return QA+Z.call(z,","+QA)+`
`+eA.prev}function lA(z,eA){var QA=EA(z),WA=[];if(QA){WA.length=z.length;for(var qA=0;qA<z.length;qA++)WA[qA]=H(z,qA)?eA(z[qA],z):""}var RA=typeof v=="function"?v(z):[],ln;if(b){ln={};for(var zn=0;zn<RA.length;zn++)ln["$"+RA[zn]]=RA[zn]}for(var bn in z)H(z,bn)&&(QA&&String(Number(bn))===bn&&bn<z.length||b&&ln["$"+bn]instanceof Symbol||(T.call(/[^\w$]/,bn)?WA.push(eA(bn,z)+": "+eA(z[bn],z)):WA.push(bn+": "+eA(z[bn],z))));if(typeof v=="function")for(var Ss=0;Ss<RA.length;Ss++)$.call(z,RA[Ss])&&WA.push("["+eA(RA[Ss])+"]: "+eA(z[RA[Ss]],z));return WA}return gg}var pg,_E;function xL(){if(_E)return pg;_E=1;var e=Zu(),A=Go(),t=function(o,a,c){for(var l=o,u;(u=l.next)!=null;l=u)if(u.key===a)return l.next=u.next,c||(u.next=o.next,o.next=u),u},n=function(o,a){if(o){var c=t(o,a);return c&&c.value}},r=function(o,a,c){var l=t(o,a);l?l.value=c:o.next={key:a,next:o.next,value:c}},s=function(o,a){return o?!!t(o,a):!1},i=function(o,a){if(o)return t(o,a,!0)};return pg=function(){var a,c={assert:function(l){if(!c.has(l))throw new A("Side channel does not contain "+e(l))},delete:function(l){var u=a&&a.next,h=i(a,l);return h&&u&&u===h&&(a=void 0),!!h},get:function(l){return n(a,l)},has:function(l){return s(a,l)},set:function(l,u){a||(a={next:void 0}),r(a,l,u)}};return c},pg}var wg,DE;function BE(){return DE||(DE=1,wg=Object),wg}var Gg,EE;function ML(){return EE||(EE=1,Gg=Error),Gg}var xg,kE;function bL(){return kE||(kE=1,xg=EvalError),xg}var Mg,vE;function yL(){return vE||(vE=1,Mg=RangeError),Mg}var bg,YE;function _L(){return YE||(YE=1,bg=ReferenceError),bg}var yg,NE;function DL(){return NE||(NE=1,yg=SyntaxError),yg}var _g,ZE;function BL(){return ZE||(ZE=1,_g=URIError),_g}var Dg,OE;function EL(){return OE||(OE=1,Dg=Math.abs),Dg}var Bg,TE;function kL(){return TE||(TE=1,Bg=Math.floor),Bg}var Eg,SE;function vL(){return SE||(SE=1,Eg=Math.max),Eg}var kg,PE;function YL(){return PE||(PE=1,kg=Math.min),kg}var vg,jE;function NL(){return jE||(jE=1,vg=Math.pow),vg}var Yg,RE;function ZL(){return RE||(RE=1,Yg=Math.round),Yg}var Ng,IE;function OL(){return IE||(IE=1,Ng=Number.isNaN||function(A){return A!==A}),Ng}var Zg,CE;function TL(){if(CE)return Zg;CE=1;var e=OL();return Zg=function(t){return e(t)||t===0?t:t<0?-1:1},Zg}var Og,zE;function SL(){return zE||(zE=1,Og=Object.getOwnPropertyDescriptor),Og}var Tg,HE;function LE(){if(HE)return Tg;HE=1;var e=SL();if(e)try{e([],"length")}catch{e=null}return Tg=e,Tg}var Sg,UE;function PL(){if(UE)return Sg;UE=1;var e=Object.defineProperty||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Sg=e,Sg}var Pg,$E;function jL(){return $E||($E=1,Pg=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var A={},t=Symbol("test"),n=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var r=42;A[t]=r;for(var s in A)return!1;if(typeof Object.keys=="function"&&Object.keys(A).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(A).length!==0)return!1;var i=Object.getOwnPropertySymbols(A);if(i.length!==1||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(A,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(A,t);if(o.value!==r||o.enumerable!==!0)return!1}return!0}),Pg}var jg,FE;function RL(){if(FE)return jg;FE=1;var e=typeof Symbol<"u"&&Symbol,A=jL();return jg=function(){return typeof e!="function"||typeof Symbol!="function"||typeof e("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:A()},jg}var Rg,QE;function KE(){return QE||(QE=1,Rg=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Rg}var Ig,WE;function VE(){if(WE)return Ig;WE=1;var e=BE();return Ig=e.getPrototypeOf||null,Ig}var Cg,qE;function IL(){if(qE)return Cg;qE=1;var e="Function.prototype.bind called on incompatible ",A=Object.prototype.toString,t=Math.max,n="[object Function]",r=function(a,c){for(var l=[],u=0;u<a.length;u+=1)l[u]=a[u];for(var h=0;h<c.length;h+=1)l[h+a.length]=c[h];return l},s=function(a,c){for(var l=[],u=c,h=0;u<a.length;u+=1,h+=1)l[h]=a[u];return l},i=function(o,a){for(var c="",l=0;l<o.length;l+=1)c+=o[l],l+1<o.length&&(c+=a);return c};return Cg=function(a){var c=this;if(typeof c!="function"||A.apply(c)!==n)throw new TypeError(e+c);for(var l=s(arguments,1),u,h=function(){if(this instanceof u){var p=c.apply(this,r(l,arguments));return Object(p)===p?p:this}return c.apply(a,r(l,arguments))},f=t(0,c.length-l.length),m=[],d=0;d<f;d++)m[d]="$"+d;if(u=Function("binder","return function ("+i(m,",")+"){ return binder.apply(this,arguments); }")(h),c.prototype){var g=function(){};g.prototype=c.prototype,u.prototype=new g,g.prototype=null}return u},Cg}var zg,JE;function Ou(){if(JE)return zg;JE=1;var e=IL();return zg=Function.prototype.bind||e,zg}var Hg,XE;function Lg(){return XE||(XE=1,Hg=Function.prototype.call),Hg}var Ug,Ak;function ek(){return Ak||(Ak=1,Ug=Function.prototype.apply),Ug}var $g,tk;function CL(){return tk||(tk=1,$g=typeof Reflect<"u"&&Reflect&&Reflect.apply),$g}var Fg,nk;function zL(){if(nk)return Fg;nk=1;var e=Ou(),A=ek(),t=Lg(),n=CL();return Fg=n||e.call(t,A),Fg}var Qg,rk;function sk(){if(rk)return Qg;rk=1;var e=Ou(),A=Go(),t=Lg(),n=zL();return Qg=function(s){if(s.length<1||typeof s[0]!="function")throw new A("a function is required");return n(e,t,s)},Qg}var Kg,ik;function HL(){if(ik)return Kg;ik=1;var e=sk(),A=LE(),t;try{t=[].__proto__===Array.prototype}catch(i){if(!i||typeof i!="object"||!("code"in i)||i.code!=="ERR_PROTO_ACCESS")throw i}var n=!!t&&A&&A(Object.prototype,"__proto__"),r=Object,s=r.getPrototypeOf;return Kg=n&&typeof n.get=="function"?e([n.get]):typeof s=="function"?function(o){return s(o==null?o:r(o))}:!1,Kg}var Wg,ok;function LL(){if(ok)return Wg;ok=1;var e=KE(),A=VE(),t=HL();return Wg=e?function(r){return e(r)}:A?function(r){if(!r||typeof r!="object"&&typeof r!="function")throw new TypeError("getProto: not an object");return A(r)}:t?function(r){return t(r)}:null,Wg}var Vg,ak;function UL(){if(ak)return Vg;ak=1;var e=Function.prototype.call,A=Object.prototype.hasOwnProperty,t=Ou();return Vg=t.call(e,A),Vg}var qg,ck;function Jg(){if(ck)return qg;ck=1;var e,A=BE(),t=ML(),n=bL(),r=yL(),s=_L(),i=DL(),o=Go(),a=BL(),c=EL(),l=kL(),u=vL(),h=YL(),f=NL(),m=ZL(),d=TL(),g=Function,p=function(yA){try{return g('"use strict"; return ('+yA+").constructor;")()}catch{}},x=LE(),y=PL(),E=function(){throw new o},B=x?(function(){try{return arguments.callee,E}catch{try{return x(arguments,"callee").get}catch{return E}}})():E,T=RL()(),D=LL(),Z=VE(),R=KE(),j=ek(),L=Lg(),v={},Y=typeof Uint8Array>"u"||!D?e:D(Uint8Array),b={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?e:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?e:ArrayBuffer,"%ArrayIteratorPrototype%":T&&D?D([][Symbol.iterator]()):e,"%AsyncFromSyncIteratorPrototype%":e,"%AsyncFunction%":v,"%AsyncGenerator%":v,"%AsyncGeneratorFunction%":v,"%AsyncIteratorPrototype%":v,"%Atomics%":typeof Atomics>"u"?e:Atomics,"%BigInt%":typeof BigInt>"u"?e:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?e:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?e:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?e:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?e:Float16Array,"%Float32Array%":typeof Float32Array>"u"?e:Float32Array,"%Float64Array%":typeof Float64Array>"u"?e:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?e:FinalizationRegistry,"%Function%":g,"%GeneratorFunction%":v,"%Int8Array%":typeof Int8Array>"u"?e:Int8Array,"%Int16Array%":typeof Int16Array>"u"?e:Int16Array,"%Int32Array%":typeof Int32Array>"u"?e:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&D?D(D([][Symbol.iterator]())):e,"%JSON%":typeof JSON=="object"?JSON:e,"%Map%":typeof Map>"u"?e:Map,"%MapIteratorPrototype%":typeof Map>"u"||!T||!D?e:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":A,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?e:Promise,"%Proxy%":typeof Proxy>"u"?e:Proxy,"%RangeError%":r,"%ReferenceError%":s,"%Reflect%":typeof Reflect>"u"?e:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?e:Set,"%SetIteratorPrototype%":typeof Set>"u"||!T||!D?e:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?e:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&D?D(""[Symbol.iterator]()):e,"%Symbol%":T?Symbol:e,"%SyntaxError%":i,"%ThrowTypeError%":B,"%TypedArray%":Y,"%TypeError%":o,"%Uint8Array%":typeof Uint8Array>"u"?e:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?e:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?e:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?e:Uint32Array,"%URIError%":a,"%WeakMap%":typeof WeakMap>"u"?e:WeakMap,"%WeakRef%":typeof WeakRef>"u"?e:WeakRef,"%WeakSet%":typeof WeakSet>"u"?e:WeakSet,"%Function.prototype.call%":L,"%Function.prototype.apply%":j,"%Object.defineProperty%":y,"%Object.getPrototypeOf%":Z,"%Math.abs%":c,"%Math.floor%":l,"%Math.max%":u,"%Math.min%":h,"%Math.pow%":f,"%Math.round%":m,"%Math.sign%":d,"%Reflect.getPrototypeOf%":R};if(D)try{null.error}catch(yA){var I=D(D(yA));b["%Error.prototype%"]=I}var $=function yA(YA){var ZA;if(YA==="%AsyncFunction%")ZA=p("async function () {}");else if(YA==="%GeneratorFunction%")ZA=p("function* () {}");else if(YA==="%AsyncGeneratorFunction%")ZA=p("async function* () {}");else if(YA==="%AsyncGenerator%"){var IA=yA("%AsyncGeneratorFunction%");IA&&(ZA=IA.prototype)}else if(YA==="%AsyncIteratorPrototype%"){var FA=yA("%AsyncGenerator%");FA&&D&&(ZA=D(FA.prototype))}return b[YA]=ZA,ZA},U={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},W=Ou(),q=UL(),tA=W.call(L,Array.prototype.concat),N=W.call(j,Array.prototype.splice),S=W.call(L,String.prototype.replace),AA=W.call(L,String.prototype.slice),Q=W.call(L,RegExp.prototype.exec),rA=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,gA=/\\(\\)?/g,EA=function(YA){var ZA=AA(YA,0,1),IA=AA(YA,-1);if(ZA==="%"&&IA!=="%")throw new i("invalid intrinsic syntax, expected closing `%`");if(IA==="%"&&ZA!=="%")throw new i("invalid intrinsic syntax, expected opening `%`");var FA=[];return S(YA,rA,function(k,hA,sA,H){FA[FA.length]=sA?S(H,gA,"$1"):hA||k}),FA},OA=function(YA,ZA){var IA=YA,FA;if(q(U,IA)&&(FA=U[IA],IA="%"+FA[0]+"%"),q(b,IA)){var k=b[IA];if(k===v&&(k=$(IA)),typeof k>"u"&&!ZA)throw new o("intrinsic "+YA+" exists, but is not available. Please file an issue!");return{alias:FA,name:IA,value:k}}throw new i("intrinsic "+YA+" does not exist!")};return qg=function(YA,ZA){if(typeof YA!="string"||YA.length===0)throw new o("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ZA!="boolean")throw new o('"allowMissing" argument must be a boolean');if(Q(/^%?[^%]*%?$/,YA)===null)throw new i("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var IA=EA(YA),FA=IA.length>0?IA[0]:"",k=OA("%"+FA+"%",ZA),hA=k.name,sA=k.value,H=!1,C=k.alias;C&&(FA=C[0],N(IA,tA([0,1],C)));for(var J=1,dA=!0;J<IA.length;J+=1){var pA=IA[J],iA=AA(pA,0,1),_A=AA(pA,-1);if((iA==='"'||iA==="'"||iA==="`"||_A==='"'||_A==="'"||_A==="`")&&iA!==_A)throw new i("property names with quotes must have matching quotes");if((pA==="constructor"||!dA)&&(H=!0),FA+="."+pA,hA="%"+FA+"%",q(b,hA))sA=b[hA];else if(sA!=null){if(!(pA in sA)){if(!ZA)throw new o("base intrinsic for "+YA+" exists, but the property is not available.");return}if(x&&J+1>=IA.length){var TA=x(sA,pA);dA=!!TA,dA&&"get"in TA&&!("originalValue"in TA.get)?sA=TA.get:sA=sA[pA]}else dA=q(sA,pA),sA=sA[pA];dA&&!H&&(b[hA]=sA)}}return sA},qg}var Xg,lk;function uk(){if(lk)return Xg;lk=1;var e=Jg(),A=sk(),t=A([e("%String.prototype.indexOf%")]);return Xg=function(r,s){var i=e(r,!!s);return typeof i=="function"&&t(r,".prototype.")>-1?A([i]):i},Xg}var Ap,hk;function fk(){if(hk)return Ap;hk=1;var e=Jg(),A=uk(),t=Zu(),n=Go(),r=e("%Map%",!0),s=A("Map.prototype.get",!0),i=A("Map.prototype.set",!0),o=A("Map.prototype.has",!0),a=A("Map.prototype.delete",!0),c=A("Map.prototype.size",!0);return Ap=!!r&&function(){var u,h={assert:function(f){if(!h.has(f))throw new n("Side channel does not contain "+t(f))},delete:function(f){if(u){var m=a(u,f);return c(u)===0&&(u=void 0),m}return!1},get:function(f){if(u)return s(u,f)},has:function(f){return u?o(u,f):!1},set:function(f,m){u||(u=new r),i(u,f,m)}};return h},Ap}var ep,dk;function $L(){if(dk)return ep;dk=1;var e=Jg(),A=uk(),t=Zu(),n=fk(),r=Go(),s=e("%WeakMap%",!0),i=A("WeakMap.prototype.get",!0),o=A("WeakMap.prototype.set",!0),a=A("WeakMap.prototype.has",!0),c=A("WeakMap.prototype.delete",!0);return ep=s?function(){var u,h,f={assert:function(m){if(!f.has(m))throw new r("Side channel does not contain "+t(m))},delete:function(m){if(s&&m&&(typeof m=="object"||typeof m=="function")){if(u)return c(u,m)}else if(n&&h)return h.delete(m);return!1},get:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&u?i(u,m):h&&h.get(m)},has:function(m){return s&&m&&(typeof m=="object"||typeof m=="function")&&u?a(u,m):!!h&&h.has(m)},set:function(m,d){s&&m&&(typeof m=="object"||typeof m=="function")?(u||(u=new s),o(u,m,d)):n&&(h||(h=n()),h.set(m,d))}};return f}:n,ep}var tp,mk;function gk(){if(mk)return tp;mk=1;var e=Go(),A=Zu(),t=xL(),n=fk(),r=$L(),s=r||n||t;return tp=function(){var o,a={assert:function(c){if(!a.has(c))throw new e("Side channel does not contain "+A(c))},delete:function(c){return!!o&&o.delete(c)},get:function(c){return o&&o.get(c)},has:function(c){return!!o&&o.has(c)},set:function(c,l){o||(o=s()),o.set(c,l)}};return a},tp}var np,pk;function rp(){if(pk)return np;pk=1;var e=String.prototype.replace,A=/%20/g,t={RFC1738:"RFC1738",RFC3986:"RFC3986"};return np={default:t.RFC3986,formatters:{RFC1738:function(n){return e.call(n,A,"+")},RFC3986:function(n){return String(n)}},RFC1738:t.RFC1738,RFC3986:t.RFC3986},np}var sp,wk;function Gk(){if(wk)return sp;wk=1;var e=rp(),A=gk(),t=Object.prototype.hasOwnProperty,n=Array.isArray,r=A(),s=function(D,Z){return r.set(D,Z),D},i=function(D){return r.has(D)},o=function(D){return r.get(D)},a=function(D,Z){r.set(D,Z)},c=(function(){for(var T=[],D=0;D<256;++D)T.push("%"+((D<16?"0":"")+D.toString(16)).toUpperCase());return T})(),l=function(D){for(;D.length>1;){var Z=D.pop(),R=Z.obj[Z.prop];if(n(R)){for(var j=[],L=0;L<R.length;++L)typeof R[L]<"u"&&j.push(R[L]);Z.obj[Z.prop]=j}}},u=function(D,Z){for(var R=Z&&Z.plainObjects?{__proto__:null}:{},j=0;j<D.length;++j)typeof D[j]<"u"&&(R[j]=D[j]);return R},h=function T(D,Z,R){if(!Z)return D;if(typeof Z!="object"&&typeof Z!="function"){if(n(D))D.push(Z);else if(D&&typeof D=="object")if(i(D)){var j=o(D)+1;D[j]=Z,a(D,j)}else(R&&(R.plainObjects||R.allowPrototypes)||!t.call(Object.prototype,Z))&&(D[Z]=!0);else return[D,Z];return D}if(!D||typeof D!="object"){if(i(Z)){for(var L=Object.keys(Z),v=R&&R.plainObjects?{__proto__:null,0:D}:{0:D},Y=0;Y<L.length;Y++){var b=parseInt(L[Y],10);v[b+1]=Z[L[Y]]}return s(v,o(Z)+1)}return[D].concat(Z)}var I=D;return n(D)&&!n(Z)&&(I=u(D,R)),n(D)&&n(Z)?(Z.forEach(function($,U){if(t.call(D,U)){var W=D[U];W&&typeof W=="object"&&$&&typeof $=="object"?D[U]=T(W,$,R):D.push($)}else D[U]=$}),D):Object.keys(Z).reduce(function($,U){var W=Z[U];return t.call($,U)?$[U]=T($[U],W,R):$[U]=W,$},I)},f=function(D,Z){return Object.keys(Z).reduce(function(R,j){return R[j]=Z[j],R},D)},m=function(T,D,Z){var R=T.replace(/\+/g," ");if(Z==="iso-8859-1")return R.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(R)}catch{return R}},d=1024,g=function(D,Z,R,j,L){if(D.length===0)return D;var v=D;if(typeof D=="symbol"?v=Symbol.prototype.toString.call(D):typeof D!="string"&&(v=String(D)),R==="iso-8859-1")return escape(v).replace(/%u[0-9a-f]{4}/gi,function(q){return"%26%23"+parseInt(q.slice(2),16)+"%3B"});for(var Y="",b=0;b<v.length;b+=d){for(var I=v.length>=d?v.slice(b,b+d):v,$=[],U=0;U<I.length;++U){var W=I.charCodeAt(U);if(W===45||W===46||W===95||W===126||W>=48&&W<=57||W>=65&&W<=90||W>=97&&W<=122||L===e.RFC1738&&(W===40||W===41)){$[$.length]=I.charAt(U);continue}if(W<128){$[$.length]=c[W];continue}if(W<2048){$[$.length]=c[192|W>>6]+c[128|W&63];continue}if(W<55296||W>=57344){$[$.length]=c[224|W>>12]+c[128|W>>6&63]+c[128|W&63];continue}U+=1,W=65536+((W&1023)<<10|I.charCodeAt(U)&1023),$[$.length]=c[240|W>>18]+c[128|W>>12&63]+c[128|W>>6&63]+c[128|W&63]}Y+=$.join("")}return Y},p=function(D){for(var Z=[{obj:{o:D},prop:"o"}],R=[],j=0;j<Z.length;++j)for(var L=Z[j],v=L.obj[L.prop],Y=Object.keys(v),b=0;b<Y.length;++b){var I=Y[b],$=v[I];typeof $=="object"&&$!==null&&R.indexOf($)===-1&&(Z.push({obj:v,prop:I}),R.push($))}return l(Z),D},x=function(D){return Object.prototype.toString.call(D)==="[object RegExp]"},y=function(D){return!D||typeof D!="object"?!1:!!(D.constructor&&D.constructor.isBuffer&&D.constructor.isBuffer(D))},E=function(D,Z,R,j){if(i(D)){var L=o(D)+1;return D[L]=Z,a(D,L),D}var v=[].concat(D,Z);return v.length>R?s(u(v,{plainObjects:j}),v.length-1):v},B=function(D,Z){if(n(D)){for(var R=[],j=0;j<D.length;j+=1)R.push(Z(D[j]));return R}return Z(D)};return sp={arrayToObject:u,assign:f,combine:E,compact:p,decode:m,encode:g,isBuffer:y,isOverflow:i,isRegExp:x,maybeMap:B,merge:h},sp}var ip,xk;function FL(){if(xk)return ip;xk=1;var e=gk(),A=Gk(),t=rp(),n=Object.prototype.hasOwnProperty,r={brackets:function(g){return g+"[]"},comma:"comma",indices:function(g,p){return g+"["+p+"]"},repeat:function(g){return g}},s=Array.isArray,i=Array.prototype.push,o=function(d,g){i.apply(d,s(g)?g:[g])},a=Date.prototype.toISOString,c=t.default,l={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:A.encode,encodeValuesOnly:!1,filter:void 0,format:c,formatter:t.formatters[c],indices:!1,serializeDate:function(g){return a.call(g)},skipNulls:!1,strictNullHandling:!1},u=function(g){return typeof g=="string"||typeof g=="number"||typeof g=="boolean"||typeof g=="symbol"||typeof g=="bigint"},h={},f=function d(g,p,x,y,E,B,T,D,Z,R,j,L,v,Y,b,I,$,U){for(var W=g,q=U,tA=0,N=!1;(q=q.get(h))!==void 0&&!N;){var S=q.get(g);if(tA+=1,typeof S<"u"){if(S===tA)throw new RangeError("Cyclic object value");N=!0}typeof q.get(h)>"u"&&(tA=0)}if(typeof R=="function"?W=R(p,W):W instanceof Date?W=v(W):x==="comma"&&s(W)&&(W=A.maybeMap(W,function(hA){return hA instanceof Date?v(hA):hA})),W===null){if(B)return Z&&!I?Z(p,l.encoder,$,"key",Y):p;W=""}if(u(W)||A.isBuffer(W)){if(Z){var AA=I?p:Z(p,l.encoder,$,"key",Y);return[b(AA)+"="+b(Z(W,l.encoder,$,"value",Y))]}return[b(p)+"="+b(String(W))]}var Q=[];if(typeof W>"u")return Q;var rA;if(x==="comma"&&s(W))I&&Z&&(W=A.maybeMap(W,Z)),rA=[{value:W.length>0?W.join(",")||null:void 0}];else if(s(R))rA=R;else{var gA=Object.keys(W);rA=j?gA.sort(j):gA}var EA=D?String(p).replace(/\./g,"%2E"):String(p),OA=y&&s(W)&&W.length===1?EA+"[]":EA;if(E&&s(W)&&W.length===0)return OA+"[]";for(var yA=0;yA<rA.length;++yA){var YA=rA[yA],ZA=typeof YA=="object"&&YA&&typeof YA.value<"u"?YA.value:W[YA];if(!(T&&ZA===null)){var IA=L&&D?String(YA).replace(/\./g,"%2E"):String(YA),FA=s(W)?typeof x=="function"?x(OA,IA):OA:OA+(L?"."+IA:"["+IA+"]");U.set(g,tA);var k=e();k.set(h,U),o(Q,d(ZA,FA,x,y,E,B,T,D,x==="comma"&&I&&s(W)?null:Z,R,j,L,v,Y,b,I,$,k))}}return Q},m=function(g){if(!g)return l;if(typeof g.allowEmptyArrays<"u"&&typeof g.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof g.encodeDotInKeys<"u"&&typeof g.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(g.encoder!==null&&typeof g.encoder<"u"&&typeof g.encoder!="function")throw new TypeError("Encoder has to be a function.");var p=g.charset||l.charset;if(typeof g.charset<"u"&&g.charset!=="utf-8"&&g.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var x=t.default;if(typeof g.format<"u"){if(!n.call(t.formatters,g.format))throw new TypeError("Unknown format option provided.");x=g.format}var y=t.formatters[x],E=l.filter;(typeof g.filter=="function"||s(g.filter))&&(E=g.filter);var B;if(g.arrayFormat in r?B=g.arrayFormat:"indices"in g?B=g.indices?"indices":"repeat":B=l.arrayFormat,"commaRoundTrip"in g&&typeof g.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var T=typeof g.allowDots>"u"?g.encodeDotInKeys===!0?!0:l.allowDots:!!g.allowDots;return{addQueryPrefix:typeof g.addQueryPrefix=="boolean"?g.addQueryPrefix:l.addQueryPrefix,allowDots:T,allowEmptyArrays:typeof g.allowEmptyArrays=="boolean"?!!g.allowEmptyArrays:l.allowEmptyArrays,arrayFormat:B,charset:p,charsetSentinel:typeof g.charsetSentinel=="boolean"?g.charsetSentinel:l.charsetSentinel,commaRoundTrip:!!g.commaRoundTrip,delimiter:typeof g.delimiter>"u"?l.delimiter:g.delimiter,encode:typeof g.encode=="boolean"?g.encode:l.encode,encodeDotInKeys:typeof g.encodeDotInKeys=="boolean"?g.encodeDotInKeys:l.encodeDotInKeys,encoder:typeof g.encoder=="function"?g.encoder:l.encoder,encodeValuesOnly:typeof g.encodeValuesOnly=="boolean"?g.encodeValuesOnly:l.encodeValuesOnly,filter:E,format:x,formatter:y,serializeDate:typeof g.serializeDate=="function"?g.serializeDate:l.serializeDate,skipNulls:typeof g.skipNulls=="boolean"?g.skipNulls:l.skipNulls,sort:typeof g.sort=="function"?g.sort:null,strictNullHandling:typeof g.strictNullHandling=="boolean"?g.strictNullHandling:l.strictNullHandling}};return ip=function(d,g){var p=d,x=m(g),y,E;typeof x.filter=="function"?(E=x.filter,p=E("",p)):s(x.filter)&&(E=x.filter,y=E);var B=[];if(typeof p!="object"||p===null)return"";var T=r[x.arrayFormat],D=T==="comma"&&x.commaRoundTrip;y||(y=Object.keys(p)),x.sort&&y.sort(x.sort);for(var Z=e(),R=0;R<y.length;++R){var j=y[R],L=p[j];x.skipNulls&&L===null||o(B,f(L,j,T,D,x.allowEmptyArrays,x.strictNullHandling,x.skipNulls,x.encodeDotInKeys,x.encode?x.encoder:null,x.filter,x.sort,x.allowDots,x.serializeDate,x.format,x.formatter,x.encodeValuesOnly,x.charset,Z))}var v=B.join(x.delimiter),Y=x.addQueryPrefix===!0?"?":"";return x.charsetSentinel&&(x.charset==="iso-8859-1"?Y+="utf8=%26%2310003%3B&":Y+="utf8=%E2%9C%93&"),v.length>0?Y+v:""},ip}var op,Mk;function QL(){if(Mk)return op;Mk=1;var e=Gk(),A=Object.prototype.hasOwnProperty,t=Array.isArray,n={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:e.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},r=function(f){return f.replace(/&#(\d+);/g,function(m,d){return String.fromCharCode(parseInt(d,10))})},s=function(f,m,d){if(f&&typeof f=="string"&&m.comma&&f.indexOf(",")>-1)return f.split(",");if(m.throwOnLimitExceeded&&d>=m.arrayLimit)throw new RangeError("Array limit exceeded. Only "+m.arrayLimit+" element"+(m.arrayLimit===1?"":"s")+" allowed in an array.");return f},i="utf8=%26%2310003%3B",o="utf8=%E2%9C%93",a=function(m,d){var g={__proto__:null},p=d.ignoreQueryPrefix?m.replace(/^\?/,""):m;p=p.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var x=d.parameterLimit===1/0?void 0:d.parameterLimit,y=p.split(d.delimiter,d.throwOnLimitExceeded?x+1:x);if(d.throwOnLimitExceeded&&y.length>x)throw new RangeError("Parameter limit exceeded. Only "+x+" parameter"+(x===1?"":"s")+" allowed.");var E=-1,B,T=d.charset;if(d.charsetSentinel)for(B=0;B<y.length;++B)y[B].indexOf("utf8=")===0&&(y[B]===o?T="utf-8":y[B]===i&&(T="iso-8859-1"),E=B,B=y.length);for(B=0;B<y.length;++B)if(B!==E){var D=y[B],Z=D.indexOf("]="),R=Z===-1?D.indexOf("="):Z+1,j,L;if(R===-1?(j=d.decoder(D,n.decoder,T,"key"),L=d.strictNullHandling?null:""):(j=d.decoder(D.slice(0,R),n.decoder,T,"key"),j!==null&&(L=e.maybeMap(s(D.slice(R+1),d,t(g[j])?g[j].length:0),function(Y){return d.decoder(Y,n.decoder,T,"value")}))),L&&d.interpretNumericEntities&&T==="iso-8859-1"&&(L=r(String(L))),D.indexOf("[]=")>-1&&(L=t(L)?[L]:L),j!==null){var v=A.call(g,j);v&&d.duplicates==="combine"?g[j]=e.combine(g[j],L,d.arrayLimit,d.plainObjects):(!v||d.duplicates==="last")&&(g[j]=L)}}return g},c=function(f,m,d,g){var p=0;if(f.length>0&&f[f.length-1]==="[]"){var x=f.slice(0,-1).join("");p=Array.isArray(m)&&m[x]?m[x].length:0}for(var y=g?m:s(m,d,p),E=f.length-1;E>=0;--E){var B,T=f[E];if(T==="[]"&&d.parseArrays)e.isOverflow(y)?B=y:B=d.allowEmptyArrays&&(y===""||d.strictNullHandling&&y===null)?[]:e.combine([],y,d.arrayLimit,d.plainObjects);else{B=d.plainObjects?{__proto__:null}:{};var D=T.charAt(0)==="["&&T.charAt(T.length-1)==="]"?T.slice(1,-1):T,Z=d.decodeDotInKeys?D.replace(/%2E/g,"."):D,R=parseInt(Z,10);!d.parseArrays&&Z===""?B={0:y}:!isNaN(R)&&T!==Z&&String(R)===Z&&R>=0&&d.parseArrays&&R<=d.arrayLimit?(B=[],B[R]=y):Z!=="__proto__"&&(B[Z]=y)}y=B}return y},l=function(m,d){var g=d.allowDots?m.replace(/\.([^.[]+)/g,"[$1]"):m;if(d.depth<=0)return!d.plainObjects&&A.call(Object.prototype,g)&&!d.allowPrototypes?void 0:[g];var p=/(\[[^[\]]*])/,x=/(\[[^[\]]*])/g,y=p.exec(g),E=y?g.slice(0,y.index):g,B=[];if(E){if(!d.plainObjects&&A.call(Object.prototype,E)&&!d.allowPrototypes)return;B.push(E)}for(var T=0;(y=x.exec(g))!==null&&T<d.depth;){T+=1;var D=y[1].slice(1,-1);if(!d.plainObjects&&A.call(Object.prototype,D)&&!d.allowPrototypes)return;B.push(y[1])}if(y){if(d.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+d.depth+" and strictDepth is true");B.push("["+g.slice(y.index)+"]")}return B},u=function(m,d,g,p){if(m){var x=l(m,g);if(x)return c(x,d,g,p)}},h=function(m){if(!m)return n;if(typeof m.allowEmptyArrays<"u"&&typeof m.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof m.decodeDotInKeys<"u"&&typeof m.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(m.decoder!==null&&typeof m.decoder<"u"&&typeof m.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof m.charset<"u"&&m.charset!=="utf-8"&&m.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if(typeof m.throwOnLimitExceeded<"u"&&typeof m.throwOnLimitExceeded!="boolean")throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var d=typeof m.charset>"u"?n.charset:m.charset,g=typeof m.duplicates>"u"?n.duplicates:m.duplicates;if(g!=="combine"&&g!=="first"&&g!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var p=typeof m.allowDots>"u"?m.decodeDotInKeys===!0?!0:n.allowDots:!!m.allowDots;return{allowDots:p,allowEmptyArrays:typeof m.allowEmptyArrays=="boolean"?!!m.allowEmptyArrays:n.allowEmptyArrays,allowPrototypes:typeof m.allowPrototypes=="boolean"?m.allowPrototypes:n.allowPrototypes,allowSparse:typeof m.allowSparse=="boolean"?m.allowSparse:n.allowSparse,arrayLimit:typeof m.arrayLimit=="number"?m.arrayLimit:n.arrayLimit,charset:d,charsetSentinel:typeof m.charsetSentinel=="boolean"?m.charsetSentinel:n.charsetSentinel,comma:typeof m.comma=="boolean"?m.comma:n.comma,decodeDotInKeys:typeof m.decodeDotInKeys=="boolean"?m.decodeDotInKeys:n.decodeDotInKeys,decoder:typeof m.decoder=="function"?m.decoder:n.decoder,delimiter:typeof m.delimiter=="string"||e.isRegExp(m.delimiter)?m.delimiter:n.delimiter,depth:typeof m.depth=="number"||m.depth===!1?+m.depth:n.depth,duplicates:g,ignoreQueryPrefix:m.ignoreQueryPrefix===!0,interpretNumericEntities:typeof m.interpretNumericEntities=="boolean"?m.interpretNumericEntities:n.interpretNumericEntities,parameterLimit:typeof m.parameterLimit=="number"?m.parameterLimit:n.parameterLimit,parseArrays:m.parseArrays!==!1,plainObjects:typeof m.plainObjects=="boolean"?m.plainObjects:n.plainObjects,strictDepth:typeof m.strictDepth=="boolean"?!!m.strictDepth:n.strictDepth,strictNullHandling:typeof m.strictNullHandling=="boolean"?m.strictNullHandling:n.strictNullHandling,throwOnLimitExceeded:typeof m.throwOnLimitExceeded=="boolean"?m.throwOnLimitExceeded:!1}};return op=function(f,m){var d=h(m);if(f===""||f===null||typeof f>"u")return d.plainObjects?{__proto__:null}:{};for(var g=typeof f=="string"?a(f,d):f,p=d.plainObjects?{__proto__:null}:{},x=Object.keys(g),y=0;y<x.length;++y){var E=x[y],B=u(E,g[E],d,typeof f=="string");p=e.merge(p,B,d)}return d.allowSparse===!0?p:e.compact(p)},op}var ap,bk;function KL(){if(bk)return ap;bk=1;var e=FL(),A=QL(),t=rp();return ap={formats:t,parse:A,stringify:e},ap}var yk;function WL(){if(yk)return gi;yk=1;var e=gL();function A(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var t=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,r=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,s=["<",">",'"',"`"," ","\r",`
`,"	"],i=["{","}","|","\\","^","`"].concat(s),o=["'"].concat(i),a=["%","/","?",";","#"].concat(o),c=["/","?","#"],l=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},d={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=KL();function p(B,T,D){if(B&&typeof B=="object"&&B instanceof A)return B;var Z=new A;return Z.parse(B,T,D),Z}A.prototype.parse=function(B,T,D){if(typeof B!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof B);var Z=B.indexOf("?"),R=Z!==-1&&Z<B.indexOf("#")?"?":"#",j=B.split(R),L=/\\/g;j[0]=j[0].replace(L,"/"),B=j.join(R);var v=B;if(v=v.trim(),!D&&B.split("#").length===1){var Y=r.exec(v);if(Y)return this.path=v,this.href=v,this.pathname=Y[1],Y[2]?(this.search=Y[2],T?this.query=g.parse(this.search.substr(1)):this.query=this.search.substr(1)):T&&(this.search="",this.query={}),this}var b=t.exec(v);if(b){b=b[0];var I=b.toLowerCase();this.protocol=I,v=v.substr(b.length)}if(D||b||v.match(/^\/\/[^@/]+@[^@/]+/)){var $=v.substr(0,2)==="//";$&&!(b&&m[b])&&(v=v.substr(2),this.slashes=!0)}if(!m[b]&&($||b&&!d[b])){for(var U=-1,W=0;W<c.length;W++){var q=v.indexOf(c[W]);q!==-1&&(U===-1||q<U)&&(U=q)}var tA,N;U===-1?N=v.lastIndexOf("@"):N=v.lastIndexOf("@",U),N!==-1&&(tA=v.slice(0,N),v=v.slice(N+1),this.auth=decodeURIComponent(tA)),U=-1;for(var W=0;W<a.length;W++){var q=v.indexOf(a[W]);q!==-1&&(U===-1||q<U)&&(U=q)}U===-1&&(U=v.length),this.host=v.slice(0,U),v=v.slice(U),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var AA=this.hostname.split(/\./),W=0,Q=AA.length;W<Q;W++){var rA=AA[W];if(rA&&!rA.match(u)){for(var gA="",EA=0,OA=rA.length;EA<OA;EA++)rA.charCodeAt(EA)>127?gA+="x":gA+=rA[EA];if(!gA.match(u)){var yA=AA.slice(0,W),YA=AA.slice(W+1),ZA=rA.match(h);ZA&&(yA.push(ZA[1]),YA.unshift(ZA[2])),YA.length&&(v="/"+YA.join(".")+v),this.hostname=yA.join(".");break}}}this.hostname.length>l?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=e.toASCII(this.hostname));var IA=this.port?":"+this.port:"",FA=this.hostname||"";this.host=FA+IA,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),v[0]!=="/"&&(v="/"+v))}if(!f[I])for(var W=0,Q=o.length;W<Q;W++){var k=o[W];if(v.indexOf(k)!==-1){var hA=encodeURIComponent(k);hA===k&&(hA=escape(k)),v=v.split(k).join(hA)}}var sA=v.indexOf("#");sA!==-1&&(this.hash=v.substr(sA),v=v.slice(0,sA));var H=v.indexOf("?");if(H!==-1?(this.search=v.substr(H),this.query=v.substr(H+1),T&&(this.query=g.parse(this.query)),v=v.slice(0,H)):T&&(this.search="",this.query={}),v&&(this.pathname=v),d[I]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var IA=this.pathname||"",C=this.search||"";this.path=IA+C}return this.href=this.format(),this};function x(B){return typeof B=="string"&&(B=p(B)),B instanceof A?B.format():A.prototype.format.call(B)}A.prototype.format=function(){var B=this.auth||"";B&&(B=encodeURIComponent(B),B=B.replace(/%3A/i,":"),B+="@");var T=this.protocol||"",D=this.pathname||"",Z=this.hash||"",R=!1,j="";this.host?R=B+this.host:this.hostname&&(R=B+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(R+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(j=g.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var L=this.search||j&&"?"+j||"";return T&&T.substr(-1)!==":"&&(T+=":"),this.slashes||(!T||d[T])&&R!==!1?(R="//"+(R||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):R||(R=""),Z&&Z.charAt(0)!=="#"&&(Z="#"+Z),L&&L.charAt(0)!=="?"&&(L="?"+L),D=D.replace(/[?#]/g,function(v){return encodeURIComponent(v)}),L=L.replace("#","%23"),T+R+D+L+Z};function y(B,T){return p(B,!1,!0).resolve(T)}A.prototype.resolve=function(B){return this.resolveObject(p(B,!1,!0)).format()};function E(B,T){return B?p(B,!1,!0).resolveObject(T):T}return A.prototype.resolveObject=function(B){if(typeof B=="string"){var T=new A;T.parse(B,!1,!0),B=T}for(var D=new A,Z=Object.keys(this),R=0;R<Z.length;R++){var j=Z[R];D[j]=this[j]}if(D.hash=B.hash,B.href==="")return D.href=D.format(),D;if(B.slashes&&!B.protocol){for(var L=Object.keys(B),v=0;v<L.length;v++){var Y=L[v];Y!=="protocol"&&(D[Y]=B[Y])}return d[D.protocol]&&D.hostname&&!D.pathname&&(D.pathname="/",D.path=D.pathname),D.href=D.format(),D}if(B.protocol&&B.protocol!==D.protocol){if(!d[B.protocol]){for(var b=Object.keys(B),I=0;I<b.length;I++){var $=b[I];D[$]=B[$]}return D.href=D.format(),D}if(D.protocol=B.protocol,!B.host&&!m[B.protocol]){for(var Q=(B.pathname||"").split("/");Q.length&&!(B.host=Q.shift()););B.host||(B.host=""),B.hostname||(B.hostname=""),Q[0]!==""&&Q.unshift(""),Q.length<2&&Q.unshift(""),D.pathname=Q.join("/")}else D.pathname=B.pathname;if(D.search=B.search,D.query=B.query,D.host=B.host||"",D.auth=B.auth,D.hostname=B.hostname||B.host,D.port=B.port,D.pathname||D.search){var U=D.pathname||"",W=D.search||"";D.path=U+W}return D.slashes=D.slashes||B.slashes,D.href=D.format(),D}var q=D.pathname&&D.pathname.charAt(0)==="/",tA=B.host||B.pathname&&B.pathname.charAt(0)==="/",N=tA||q||D.host&&B.pathname,S=N,AA=D.pathname&&D.pathname.split("/")||[],Q=B.pathname&&B.pathname.split("/")||[],rA=D.protocol&&!d[D.protocol];if(rA&&(D.hostname="",D.port=null,D.host&&(AA[0]===""?AA[0]=D.host:AA.unshift(D.host)),D.host="",B.protocol&&(B.hostname=null,B.port=null,B.host&&(Q[0]===""?Q[0]=B.host:Q.unshift(B.host)),B.host=null),N=N&&(Q[0]===""||AA[0]==="")),tA)D.host=B.host||B.host===""?B.host:D.host,D.hostname=B.hostname||B.hostname===""?B.hostname:D.hostname,D.search=B.search,D.query=B.query,AA=Q;else if(Q.length)AA||(AA=[]),AA.pop(),AA=AA.concat(Q),D.search=B.search,D.query=B.query;else if(B.search!=null){if(rA){D.host=AA.shift(),D.hostname=D.host;var gA=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;gA&&(D.auth=gA.shift(),D.hostname=gA.shift(),D.host=D.hostname)}return D.search=B.search,D.query=B.query,(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!AA.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var EA=AA.slice(-1)[0],OA=(D.host||B.host||AA.length>1)&&(EA==="."||EA==="..")||EA==="",yA=0,YA=AA.length;YA>=0;YA--)EA=AA[YA],EA==="."?AA.splice(YA,1):EA===".."?(AA.splice(YA,1),yA++):yA&&(AA.splice(YA,1),yA--);if(!N&&!S)for(;yA--;yA)AA.unshift("..");N&&AA[0]!==""&&(!AA[0]||AA[0].charAt(0)!=="/")&&AA.unshift(""),OA&&AA.join("/").substr(-1)!=="/"&&AA.push("");var ZA=AA[0]===""||AA[0]&&AA[0].charAt(0)==="/";if(rA){D.hostname=ZA?"":AA.length?AA.shift():"",D.host=D.hostname;var gA=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;gA&&(D.auth=gA.shift(),D.hostname=gA.shift(),D.host=D.hostname)}return N=N||D.host&&AA.length,N&&!ZA&&AA.unshift(""),AA.length>0?D.pathname=AA.join("/"):(D.pathname=null,D.path=null),(D.pathname!==null||D.search!==null)&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=B.auth||D.auth,D.slashes=D.slashes||B.slashes,D.href=D.format(),D},A.prototype.parseHost=function(){var B=this.host,T=n.exec(B);T&&(T=T[0],T!==":"&&(this.port=T.substr(1)),B=B.substr(0,B.length-T.length)),B&&(this.hostname=B)},gi.parse=p,gi.resolve=y,gi.resolveObject=E,gi.format=x,gi.Url=A,gi}var cp,_k;function VL(){return _k||(_k=1,cp=typeof URL=="function"?URL:WL().URL),cp}var Dk;function Tu(){if(Dk)return tr;Dk=1;const e=VL();function A(j,L,v){if(L in j)return j[L];if(arguments.length===3)return v;throw new Error('"'+L+'" is a required argument.')}tr.getArg=A;const t=(function(){return!("__proto__"in Object.create(null))})();function n(j){return j}function r(j){return i(j)?"$"+j:j}tr.toSetString=t?n:r;function s(j){return i(j)?j.slice(1):j}tr.fromSetString=t?n:s;function i(j){if(!j)return!1;const L=j.length;if(L<9||j.charCodeAt(L-1)!==95||j.charCodeAt(L-2)!==95||j.charCodeAt(L-3)!==111||j.charCodeAt(L-4)!==116||j.charCodeAt(L-5)!==111||j.charCodeAt(L-6)!==114||j.charCodeAt(L-7)!==112||j.charCodeAt(L-8)!==95||j.charCodeAt(L-9)!==95)return!1;for(let v=L-10;v>=0;v--)if(j.charCodeAt(v)!==36)return!1;return!0}function o(j,L){return j===L?0:j===null?1:L===null?-1:j>L?1:-1}function a(j,L){let v=j.generatedLine-L.generatedLine;return v!==0||(v=j.generatedColumn-L.generatedColumn,v!==0)||(v=o(j.source,L.source),v!==0)||(v=j.originalLine-L.originalLine,v!==0)||(v=j.originalColumn-L.originalColumn,v!==0)?v:o(j.name,L.name)}tr.compareByGeneratedPositionsInflated=a;function c(j){return JSON.parse(j.replace(/^\)]}'[^\n]*\n/,""))}tr.parseSourceMapInput=c;const l="http:",u=`${l}//host`;function h(j){return L=>{const v=p(L),Y=d(L),b=new e(L,Y);j(b);const I=b.toString();return v==="absolute"?I:v==="scheme-relative"?I.slice(l.length):v==="path-absolute"?I.slice(u.length):x(Y,I)}}function f(j,L){return new e(j,L).toString()}function m(j,L){let v=0;do{const Y=j+v++;if(L.indexOf(Y)===-1)return Y}while(!0)}function d(j){const L=j.split("..").length-1,v=m("p",j);let Y=`${u}/`;for(let b=0;b<L;b++)Y+=`${v}/`;return Y}const g=/^[A-Za-z0-9\+\-\.]+:/;function p(j){return j[0]==="/"?j[1]==="/"?"scheme-relative":"path-absolute":g.test(j)?"absolute":"path-relative"}function x(j,L){typeof j=="string"&&(j=new e(j)),typeof L=="string"&&(L=new e(L));const v=L.pathname.split("/"),Y=j.pathname.split("/");for(Y.length>0&&!Y[Y.length-1]&&Y.pop();v.length>0&&Y.length>0&&v[0]===Y[0];)v.shift(),Y.shift();return Y.map(()=>"..").concat(v).join("/")+L.search+L.hash}const y=h(j=>{j.pathname=j.pathname.replace(/\/?$/,"/")}),E=h(j=>{j.href=new e(".",j.toString()).toString()}),B=h(j=>{});tr.normalize=B;function T(j,L){const v=p(L),Y=p(j);if(j=y(j),v==="absolute")return f(L,void 0);if(Y==="absolute")return f(L,j);if(v==="scheme-relative")return B(L);if(Y==="scheme-relative")return f(L,f(j,u)).slice(l.length);if(v==="path-absolute")return B(L);if(Y==="path-absolute")return f(L,f(j,u)).slice(u.length);const b=d(L+j),I=f(L,f(j,b));return x(b,I)}tr.join=T;function D(j,L){const v=Z(j,L);return typeof v=="string"?v:B(L)}tr.relative=D;function Z(j,L){if(p(j)!==p(L))return null;const Y=d(j+L),b=new e(j,Y),I=new e(L,Y);try{new e("",I.toString())}catch{return null}return I.protocol!==b.protocol||I.user!==b.user||I.password!==b.password||I.hostname!==b.hostname||I.port!==b.port?null:x(b,I)}function R(j,L,v){j&&p(L)==="path-absolute"&&(L=L.replace(/^\//,""));let Y=B(L||"");return j&&(Y=T(j,Y)),v&&(Y=T(E(v),Y)),Y}return tr.computeSourceURL=R,tr}var lp={},Bk;function Ek(){if(Bk)return lp;Bk=1;class e{constructor(){this._array=[],this._set=new Map}static fromArray(t,n){const r=new e;for(let s=0,i=t.length;s<i;s++)r.add(t[s],n);return r}size(){return this._set.size}add(t,n){const r=this.has(t),s=this._array.length;(!r||n)&&this._array.push(t),r||this._set.set(t,s)}has(t){return this._set.has(t)}indexOf(t){const n=this._set.get(t);if(n>=0)return n;throw new Error('"'+t+'" is not in the set.')}at(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)}toArray(){return this._array.slice()}}return lp.ArraySet=e,lp}var up={},kk;function qL(){if(kk)return up;kk=1;const e=Tu();function A(n,r){const s=n.generatedLine,i=r.generatedLine,o=n.generatedColumn,a=r.generatedColumn;return i>s||i==s&&a>=o||e.compareByGeneratedPositionsInflated(n,r)<=0}class t{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(r,s){this._array.forEach(r,s)}add(r){A(this._last,r)?(this._last=r,this._array.push(r)):(this._sorted=!1,this._array.push(r))}toArray(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}return up.MappingList=t,up}var vk;function Yk(){if(vk)return hg;vk=1;const e=xE(),A=Tu(),t=Ek().ArraySet,n=qL().MappingList;class r{constructor(i){i||(i={}),this._file=A.getArg(i,"file",null),this._sourceRoot=A.getArg(i,"sourceRoot",null),this._skipValidation=A.getArg(i,"skipValidation",!1),this._sources=new t,this._names=new t,this._mappings=new n,this._sourcesContents=null}static fromSourceMap(i){const o=i.sourceRoot,a=new r({file:i.file,sourceRoot:o});return i.eachMapping(function(c){const l={generated:{line:c.generatedLine,column:c.generatedColumn}};c.source!=null&&(l.source=c.source,o!=null&&(l.source=A.relative(o,l.source)),l.original={line:c.originalLine,column:c.originalColumn},c.name!=null&&(l.name=c.name)),a.addMapping(l)}),i.sources.forEach(function(c){let l=c;o!=null&&(l=A.relative(o,c)),a._sources.has(l)||a._sources.add(l);const u=i.sourceContentFor(c);u!=null&&a.setSourceContent(c,u)}),a}addMapping(i){const o=A.getArg(i,"generated"),a=A.getArg(i,"original",null);let c=A.getArg(i,"source",null),l=A.getArg(i,"name",null);this._skipValidation||this._validateMapping(o,a,c,l),c!=null&&(c=String(c),this._sources.has(c)||this._sources.add(c)),l!=null&&(l=String(l),this._names.has(l)||this._names.add(l)),this._mappings.add({generatedLine:o.line,generatedColumn:o.column,originalLine:a&&a.line,originalColumn:a&&a.column,source:c,name:l})}setSourceContent(i,o){let a=i;this._sourceRoot!=null&&(a=A.relative(this._sourceRoot,a)),o!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[A.toSetString(a)]=o):this._sourcesContents&&(delete this._sourcesContents[A.toSetString(a)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(i,o,a){let c=o;if(o==null){if(i.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);c=i.file}const l=this._sourceRoot;l!=null&&(c=A.relative(l,c));const u=this._mappings.toArray().length>0?new t:this._sources,h=new t;this._mappings.unsortedForEach(function(f){if(f.source===c&&f.originalLine!=null){const g=i.originalPositionFor({line:f.originalLine,column:f.originalColumn});g.source!=null&&(f.source=g.source,a!=null&&(f.source=A.join(a,f.source)),l!=null&&(f.source=A.relative(l,f.source)),f.originalLine=g.line,f.originalColumn=g.column,g.name!=null&&(f.name=g.name))}const m=f.source;m!=null&&!u.has(m)&&u.add(m);const d=f.name;d!=null&&!h.has(d)&&h.add(d)},this),this._sources=u,this._names=h,i.sources.forEach(function(f){const m=i.sourceContentFor(f);m!=null&&(a!=null&&(f=A.join(a,f)),l!=null&&(f=A.relative(l,f)),this.setSourceContent(f,m))},this)}_validateMapping(i,o,a,c){if(o&&typeof o.line!="number"&&typeof o.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(i&&"line"in i&&"column"in i&&i.line>0&&i.column>=0&&!o&&!a&&!c)){if(!(i&&"line"in i&&"column"in i&&o&&"line"in o&&"column"in o&&i.line>0&&i.column>=0&&o.line>0&&o.column>=0&&a))throw new Error("Invalid mapping: "+JSON.stringify({generated:i,source:a,original:o,name:c}))}}_serializeMappings(){let i=0,o=1,a=0,c=0,l=0,u=0,h="",f,m,d,g;const p=this._mappings.toArray();for(let x=0,y=p.length;x<y;x++){if(m=p[x],f="",m.generatedLine!==o)for(i=0;m.generatedLine!==o;)f+=";",o++;else if(x>0){if(!A.compareByGeneratedPositionsInflated(m,p[x-1]))continue;f+=","}f+=e.encode(m.generatedColumn-i),i=m.generatedColumn,m.source!=null&&(g=this._sources.indexOf(m.source),f+=e.encode(g-u),u=g,f+=e.encode(m.originalLine-1-c),c=m.originalLine-1,f+=e.encode(m.originalColumn-a),a=m.originalColumn,m.name!=null&&(d=this._names.indexOf(m.name),f+=e.encode(d-l),l=d)),h+=f}return h}_generateSourcesContent(i,o){return i.map(function(a){if(!this._sourcesContents)return null;o!=null&&(a=A.relative(o,a));const c=A.toSetString(a);return Object.prototype.hasOwnProperty.call(this._sourcesContents,c)?this._sourcesContents[c]:null},this)}toJSON(){const i={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(i.file=this._file),this._sourceRoot!=null&&(i.sourceRoot=this._sourceRoot),this._sourcesContents&&(i.sourcesContent=this._generateSourcesContent(i.sources,i.sourceRoot)),i}toString(){return JSON.stringify(this.toJSON())}}return r.prototype._version=3,hg.SourceMapGenerator=r,hg}var qa={},hp={},Nk;function JL(){return Nk||(Nk=1,(function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function A(t,n,r,s,i,o){const a=Math.floor((n-t)/2)+t,c=i(r,s[a],!0);return c===0?a:c>0?n-a>1?A(a,n,r,s,i,o):o===e.LEAST_UPPER_BOUND?n<s.length?n:-1:a:a-t>1?A(t,a,r,s,i,o):o==e.LEAST_UPPER_BOUND?a:t<0?-1:t}e.search=function(n,r,s,i){if(r.length===0)return-1;let o=A(-1,r.length,n,r,s,i||e.GREATEST_LOWER_BOUND);if(o<0)return-1;for(;o-1>=0&&s(r[o],r[o-1],!0)===0;)--o;return o}})(hp)),hp}var Su={exports:{}},Zk;function Ok(){if(Zk)return Su.exports;Zk=1;let e=null;return Su.exports=function(){if(typeof e=="string")return fetch(e).then(t=>t.arrayBuffer());if(e instanceof ArrayBuffer)return Promise.resolve(e);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},Su.exports.initialize=A=>{e=A},Su.exports}var fp,Tk;function XL(){if(Tk)return fp;Tk=1;const e=Ok();function A(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let t=null;return fp=function(){if(t)return t;const r=[];return t=e().then(s=>WebAssembly.instantiate(s,{env:{mapping_callback(i,o,a,c,l,u,h,f,m,d){const g=new A;g.generatedLine=i+1,g.generatedColumn=o,a&&(g.lastGeneratedColumn=c-1),l&&(g.source=u,g.originalLine=h+1,g.originalColumn=f,m&&(g.name=d)),r[r.length-1](g)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(s=>({exports:s.instance.exports,withMappingCallback:(i,o)=>{r.push(i);try{o()}finally{r.pop()}}})).then(null,s=>{throw t=null,s}),t},fp}var Sk;function A5(){if(Sk)return qa;Sk=1;const e=Tu(),A=JL(),t=Ek().ArraySet;xE();const n=Ok(),r=XL(),s=Symbol("smcInternal");class i{constructor(h,f){return h==s?Promise.resolve(this):c(h,f)}static initialize(h){n.initialize(h["lib/mappings.wasm"])}static fromSourceMap(h,f){return l(h,f)}static async with(h,f,m){const d=await new i(h,f);try{return await m(d)}finally{d.destroy()}}eachMapping(h,f,m){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(h){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}i.prototype._version=3,i.GENERATED_ORDER=1,i.ORIGINAL_ORDER=2,i.GREATEST_LOWER_BOUND=1,i.LEAST_UPPER_BOUND=2,qa.SourceMapConsumer=i;class o extends i{constructor(h,f){return super(s).then(m=>{let d=h;typeof h=="string"&&(d=e.parseSourceMapInput(h));const g=e.getArg(d,"version"),p=e.getArg(d,"sources").map(String),x=e.getArg(d,"names",[]),y=e.getArg(d,"sourceRoot",null),E=e.getArg(d,"sourcesContent",null),B=e.getArg(d,"mappings"),T=e.getArg(d,"file",null),D=e.getArg(d,"x_google_ignoreList",null);if(g!=m._version)throw new Error("Unsupported version: "+g);return m._sourceLookupCache=new Map,m._names=t.fromArray(x.map(String),!0),m._sources=t.fromArray(p,!0),m._absoluteSources=t.fromArray(m._sources.toArray().map(function(Z){return e.computeSourceURL(y,Z,f)}),!0),m.sourceRoot=y,m.sourcesContent=E,m._mappings=B,m._sourceMapURL=f,m.file=T,m.x_google_ignoreList=D,m._computedColumnSpans=!1,m._mappingsPtr=0,m._wasm=null,r().then(Z=>(m._wasm=Z,m))})}_findSourceIndex(h){const f=this._sourceLookupCache.get(h);if(typeof f=="number")return f;const m=e.computeSourceURL(null,h,this._sourceMapURL);if(this._absoluteSources.has(m)){const g=this._absoluteSources.indexOf(m);return this._sourceLookupCache.set(h,g),g}const d=e.computeSourceURL(this.sourceRoot,h,this._sourceMapURL);if(this._absoluteSources.has(d)){const g=this._absoluteSources.indexOf(d);return this._sourceLookupCache.set(h,g),g}return-1}static fromSourceMap(h,f){return new o(h.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){const h=this._mappings,f=h.length,m=this._wasm.exports.allocate_mappings(f)>>>0,d=new Uint8Array(this._wasm.exports.memory.buffer,m,f);for(let p=0;p<f;p++)d[p]=h.charCodeAt(p);const g=this._wasm.exports.parse_mappings(m);if(!g){const p=this._wasm.exports.get_last_error();let x=`Error parsing mappings (code ${p}): `;switch(p){case 1:x+="the mappings contained a negative line, column, source index, or name index";break;case 2:x+="the mappings contained a number larger than 2**32";break;case 3:x+="reached EOF while in the middle of parsing a VLQ";break;case 4:x+="invalid base 64 character while parsing a VLQ";break;default:x+="unknown error code";break}throw new Error(x)}this._mappingsPtr=g}eachMapping(h,f,m){const d=f||null,g=m||i.GENERATED_ORDER;this._wasm.withMappingCallback(p=>{p.source!==null&&(p.source=this._absoluteSources.at(p.source),p.name!==null&&(p.name=this._names.at(p.name))),this._computedColumnSpans&&p.lastGeneratedColumn===null&&(p.lastGeneratedColumn=1/0),h.call(d,p)},()=>{switch(g){case i.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case i.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(h){let f=e.getArg(h,"source");const m=e.getArg(h,"line"),d=h.column||0;if(f=this._findSourceIndex(f),f<0)return[];if(m<1)throw new Error("Line numbers must be >= 1");if(d<0)throw new Error("Column numbers must be >= 0");const g=[];return this._wasm.withMappingCallback(p=>{let x=p.lastGeneratedColumn;this._computedColumnSpans&&x===null&&(x=1/0),g.push({line:p.generatedLine,column:p.generatedColumn,lastColumn:x})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),f,m-1,"column"in h,d)}),g}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(h){const f={generatedLine:e.getArg(h,"line"),generatedColumn:e.getArg(h,"column")};if(f.generatedLine<1)throw new Error("Line numbers must be >= 1");if(f.generatedColumn<0)throw new Error("Column numbers must be >= 0");let m=e.getArg(h,"bias",i.GREATEST_LOWER_BOUND);m==null&&(m=i.GREATEST_LOWER_BOUND);let d;if(this._wasm.withMappingCallback(g=>d=g,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),f.generatedLine-1,f.generatedColumn,m)}),d&&d.generatedLine===f.generatedLine){let g=e.getArg(d,"source",null);g!==null&&(g=this._absoluteSources.at(g));let p=e.getArg(d,"name",null);return p!==null&&(p=this._names.at(p)),{source:g,line:e.getArg(d,"originalLine",null),column:e.getArg(d,"originalColumn",null),name:p}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(h){return h==null}):!1}sourceContentFor(h,f){if(!this.sourcesContent)return null;const m=this._findSourceIndex(h);if(m>=0)return this.sourcesContent[m];if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')}generatedPositionFor(h){let f=e.getArg(h,"source");if(f=this._findSourceIndex(f),f<0)return{line:null,column:null,lastColumn:null};const m={source:f,originalLine:e.getArg(h,"line"),originalColumn:e.getArg(h,"column")};if(m.originalLine<1)throw new Error("Line numbers must be >= 1");if(m.originalColumn<0)throw new Error("Column numbers must be >= 0");let d=e.getArg(h,"bias",i.GREATEST_LOWER_BOUND);d==null&&(d=i.GREATEST_LOWER_BOUND);let g;if(this._wasm.withMappingCallback(p=>g=p,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),m.source,m.originalLine-1,m.originalColumn,d)}),g&&g.source===m.source){let p=g.lastGeneratedColumn;return this._computedColumnSpans&&p===null&&(p=1/0),{line:e.getArg(g,"generatedLine",null),column:e.getArg(g,"generatedColumn",null),lastColumn:p}}return{line:null,column:null,lastColumn:null}}}o.prototype.consumer=i,qa.BasicSourceMapConsumer=o;class a extends i{constructor(h,f){return super(s).then(m=>{let d=h;typeof h=="string"&&(d=e.parseSourceMapInput(h));const g=e.getArg(d,"version"),p=e.getArg(d,"sections");if(g!=m._version)throw new Error("Unsupported version: "+g);let x={line:-1,column:0};return Promise.all(p.map(y=>{if(y.url)throw new Error("Support for url field in sections not implemented.");const E=e.getArg(y,"offset"),B=e.getArg(E,"line"),T=e.getArg(E,"column");if(B<x.line||B===x.line&&T<x.column)throw new Error("Section offsets must be ordered and non-overlapping.");return x=E,new i(e.getArg(y,"map"),f).then(Z=>({generatedOffset:{generatedLine:B+1,generatedColumn:T+1},consumer:Z}))})).then(y=>(m._sections=y,m))})}get sources(){const h=[];for(let f=0;f<this._sections.length;f++)for(let m=0;m<this._sections[f].consumer.sources.length;m++)h.push(this._sections[f].consumer.sources[m]);return h}originalPositionFor(h){const f={generatedLine:e.getArg(h,"line"),generatedColumn:e.getArg(h,"column")},m=A.search(f,this._sections,function(g,p){const x=g.generatedLine-p.generatedOffset.generatedLine;return x||g.generatedColumn-(p.generatedOffset.generatedColumn-1)}),d=this._sections[m];return d?d.consumer.originalPositionFor({line:f.generatedLine-(d.generatedOffset.generatedLine-1),column:f.generatedColumn-(d.generatedOffset.generatedLine===f.generatedLine?d.generatedOffset.generatedColumn-1:0),bias:h.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(h){return h.consumer.hasContentsOfAllSources()})}sourceContentFor(h,f){for(let m=0;m<this._sections.length;m++){const g=this._sections[m].consumer.sourceContentFor(h,!0);if(g)return g}if(f)return null;throw new Error('"'+h+'" is not in the SourceMap.')}_findSectionIndex(h){for(let f=0;f<this._sections.length;f++){const{consumer:m}=this._sections[f];if(m._findSourceIndex(h)!==-1)return f}return-1}generatedPositionFor(h){const f=this._findSectionIndex(e.getArg(h,"source")),m=f>=0?this._sections[f]:null,d=f>=0&&f+1<this._sections.length?this._sections[f+1]:null,g=m&&m.consumer.generatedPositionFor(h);if(g&&g.line!==null){const p=m.generatedOffset.generatedLine-1,x=m.generatedOffset.generatedColumn-1;return g.line===1&&(g.column+=x,typeof g.lastColumn=="number"&&(g.lastColumn+=x)),g.lastColumn===1/0&&d&&g.line===d.generatedOffset.generatedLine&&(g.lastColumn=d.generatedOffset.generatedColumn-2),g.line+=p,g}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(h){const f=this._findSectionIndex(e.getArg(h,"source")),m=f>=0?this._sections[f]:null,d=f>=0&&f+1<this._sections.length?this._sections[f+1]:null;return m?m.consumer.allGeneratedPositionsFor(h).map(g=>{const p=m.generatedOffset.generatedLine-1,x=m.generatedOffset.generatedColumn-1;return g.line===1&&(g.column+=x,typeof g.lastColumn=="number"&&(g.lastColumn+=x)),g.lastColumn===1/0&&d&&g.line===d.generatedOffset.generatedLine&&(g.lastColumn=d.generatedOffset.generatedColumn-2),g.line+=p,g}):[]}eachMapping(h,f,m){this._sections.forEach((d,g)=>{const p=g+1<this._sections.length?this._sections[g+1]:null,{generatedOffset:x}=d,y=x.generatedLine-1,E=x.generatedColumn-1;d.consumer.eachMapping(function(B){B.generatedLine===1&&(B.generatedColumn+=E,typeof B.lastGeneratedColumn=="number"&&(B.lastGeneratedColumn+=E)),B.lastGeneratedColumn===1/0&&p&&B.generatedLine===p.generatedOffset.generatedLine&&(B.lastGeneratedColumn=p.generatedOffset.generatedColumn-2),B.generatedLine+=y,h.call(this,B)},f,m)})}computeColumnSpans(){for(let h=0;h<this._sections.length;h++)this._sections[h].consumer.computeColumnSpans()}destroy(){for(let h=0;h<this._sections.length;h++)this._sections[h].consumer.destroy()}}qa.IndexedSourceMapConsumer=a;function c(u,h){let f=u;typeof u=="string"&&(f=e.parseSourceMapInput(u));const m=f.sections!=null?new a(f,h):new o(f,h);return Promise.resolve(m)}function l(u,h){return o.fromSourceMap(u,h)}return qa}var dp={},Pk;function e5(){if(Pk)return dp;Pk=1;const e=Yk().SourceMapGenerator,A=Tu(),t=/(\r?\n)/,n=10,r="$$$isSourceNode$$$";class s{constructor(o,a,c,l,u){this.children=[],this.sourceContents={},this.line=o??null,this.column=a??null,this.source=c??null,this.name=u??null,this[r]=!0,l!=null&&this.add(l)}static fromStringWithSourceMap(o,a,c){const l=new s,u=o.split(t);let h=0;const f=function(){const y=B(),E=B()||"";return y+E;function B(){return h<u.length?u[h++]:void 0}};let m=1,d=0,g=null,p;return a.eachMapping(function(y){if(g!==null)if(m<y.generatedLine)x(g,f()),m++,d=0;else{p=u[h]||"";const E=p.substr(0,y.generatedColumn-d);u[h]=p.substr(y.generatedColumn-d),d=y.generatedColumn,x(g,E),g=y;return}for(;m<y.generatedLine;)l.add(f()),m++;d<y.generatedColumn&&(p=u[h]||"",l.add(p.substr(0,y.generatedColumn)),u[h]=p.substr(y.generatedColumn),d=y.generatedColumn),g=y},this),h<u.length&&(g&&x(g,f()),l.add(u.splice(h).join(""))),a.sources.forEach(function(y){const E=a.sourceContentFor(y);E!=null&&(c!=null&&(y=A.join(c,y)),l.setSourceContent(y,E))}),l;function x(y,E){if(y===null||y.source===void 0)l.add(E);else{const B=c?A.join(c,y.source):y.source;l.add(new s(y.originalLine,y.originalColumn,B,E,y.name))}}}add(o){if(Array.isArray(o))o.forEach(function(a){this.add(a)},this);else if(o[r]||typeof o=="string")o&&this.children.push(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this}prepend(o){if(Array.isArray(o))for(let a=o.length-1;a>=0;a--)this.prepend(o[a]);else if(o[r]||typeof o=="string")this.children.unshift(o);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+o);return this}walk(o){let a;for(let c=0,l=this.children.length;c<l;c++)a=this.children[c],a[r]?a.walk(o):a!==""&&o(a,{source:this.source,line:this.line,column:this.column,name:this.name})}join(o){let a,c;const l=this.children.length;if(l>0){for(a=[],c=0;c<l-1;c++)a.push(this.children[c]),a.push(o);a.push(this.children[c]),this.children=a}return this}replaceRight(o,a){const c=this.children[this.children.length-1];return c[r]?c.replaceRight(o,a):typeof c=="string"?this.children[this.children.length-1]=c.replace(o,a):this.children.push("".replace(o,a)),this}setSourceContent(o,a){this.sourceContents[A.toSetString(o)]=a}walkSourceContents(o){for(let c=0,l=this.children.length;c<l;c++)this.children[c][r]&&this.children[c].walkSourceContents(o);const a=Object.keys(this.sourceContents);for(let c=0,l=a.length;c<l;c++)o(A.fromSetString(a[c]),this.sourceContents[a[c]])}toString(){let o="";return this.walk(function(a){o+=a}),o}toStringWithSourceMap(o){const a={code:"",line:1,column:0},c=new e(o);let l=!1,u=null,h=null,f=null,m=null;return this.walk(function(d,g){a.code+=d,g.source!==null&&g.line!==null&&g.column!==null?((u!==g.source||h!==g.line||f!==g.column||m!==g.name)&&c.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:a.line,column:a.column},name:g.name}),u=g.source,h=g.line,f=g.column,m=g.name,l=!0):l&&(c.addMapping({generated:{line:a.line,column:a.column}}),u=null,l=!1);for(let p=0,x=d.length;p<x;p++)d.charCodeAt(p)===n?(a.line++,a.column=0,p+1===x?(u=null,l=!1):l&&c.addMapping({source:g.source,original:{line:g.line,column:g.column},generated:{line:a.line,column:a.column},name:g.name})):a.column++}),this.walkSourceContents(function(d,g){c.setSourceContent(d,g)}),{code:a.code,map:c}}}return dp.SourceNode=s,dp}var jk;function t5(){return jk||(jk=1,Wa.SourceMapGenerator=Yk().SourceMapGenerator,Wa.SourceMapConsumer=A5().SourceMapConsumer,Wa.SourceNode=e5().SourceNode),Wa}var n5=t5();const r5=navigator.userAgent.includes("Mac");navigator.userAgent.includes("Linux"),navigator.userAgent.includes("Firefox")||navigator.userAgent.includes("FxiOS");const s5=r5?"cmd":"ctrl",i5=ba(32,126).map(e=>String.fromCharCode(e)),o5=zt({name:"Whitespace",pattern:/ +/}),a5=zt({name:"WhitespaceSkipped",pattern:/ +/,group:bt.SKIPPED}),mp=zt({name:"Newline",line_breaks:!0,start_chars_hint:[`
`,"\r"],pattern:/\n|\r\n?/}),Rk=zt({name:"StringLiteral",pattern:/[^ $;\r\n]+/,start_chars_hint:i5}),gp=zt({name:"StringLiteralDouble",pattern:/"(?:[^\\"]|\\(?:[^\n\r]|u[0-9a-fA-F]{4}))*"/}),pp=zt({name:"EscapedDollar",pattern:"$$",start_chars_hint:["$"]}),Pu=zt({name:"MaybeFlag",pattern:/\$[^-0-9"!;@#/?\s]+[^-"!;@#/?\s]*/,start_chars_hint:["$"]}),wp=zt({name:"Center",pattern:/\$CENTER/i,start_chars_hint:["$"]}),Gp=zt({name:"MetaKey",pattern:/\$META/i,start_chars_hint:["$"]}),xp=zt({name:"NumberLiteral",pattern:/\$-?(\d*\.)?\d+([eE][+-]?\d+)?[jJ]?[lL]?\+?/}),Ik=zt({name:"HyperLinkText",pattern:/;[^;\r\n]*/,start_chars_hint:[";"]});function c5(e,A=""){return zt({name:A||e,pattern:new RegExp(e.toLowerCase(),"i")})}const Ck=Object.keys(_a).map(e=>c5(`\\$(${e})`,e)),l5=[o5,mp,...Ck,gp,Rk,xp,pp,Ik,wp,Gp,Pu],u5=new bt(l5,{skipValidations:!Yr,ensureOptimizations:Yr}),h5=new bt([a5,mp,...Ck,gp,Rk,xp,pp,Ik,wp,Gp,Pu],{skipValidations:!Yr,ensureOptimizations:Yr}),zk=/\$CENTER/i;function f5(e){if(zk.test(e))return e.replace(zk,"")}function ju(e,A=!1){return A?h5.tokenize(e):u5.tokenize(e)}function Hk(e,A,t,n,r,s,i,o){return{disablewrap:!1,measureonly:!1,measuredwidth:0,writefullwidth:void 0,x:0,y:0,iseven:!0,active:{color:t,bg:n,topedge:r,leftedge:s,rightedge:i,bottomedge:o},reset:{color:t,bg:n,topedge:r,leftedge:s,rightedge:i,bottomedge:o},width:e,height:A,char:[],color:[],bg:[],changed(){}}}function d5(e){e.active={...e.reset}}function Lk(e,A){const t=A.y;function n(){++A.x;const o=A.active.rightedge??A.width-1;!A.disablewrap&&A.x>o&&(A.x=A.active.leftedge??0,++A.y),A.x>A.measuredwidth&&(A.measuredwidth=A.x)}function r(){return A.x>=(A.active.leftedge??0)&&A.x<=(A.active.rightedge??A.width-1)&&A.y>=(A.active.topedge??0)&&A.y<=(A.active.bottomedge??A.height-1)}function s(o){for(let a=0;a<o.length;++a){if(A.measureonly!==!0&&r()){const c=A.x+A.y*A.width;A.char[c]=o.charCodeAt(a),A.active.color!==void 0&&(A.color[c]=A.active.color),A.active.bg!==void 0&&(A.bg[c]=A.active.bg)}n()}}for(let o=0;o<e.length;++o){const a=e[o];switch(a.tokenType){case pp:s("$");break;case xp:if(A.measureonly!==!0&&r()){const c=A.x+A.y*A.width;A.char[c]=parseFloat(a.image.replace("$","")),A.active.color!==void 0&&(A.color[c]=A.active.color),A.active.bg!==void 0&&(A.bg[c]=A.active.bg)}n();break;case gp:s(a.image.substring(1,a.image.length-1).replaceAll('\\"','"'));break;case mp:{A.x=A.active.leftedge??0,++A.y;break}case wp:break;case Gp:{s(s5);break}default:{const c=a.tokenType.name,l=_a[c],u=TP(XA[l]),h=Ud(XA[l]);l==="ONCLEAR"?(A.active.color=A.reset.color,A.active.bg=A.reset.bg):G(u)?A.active.color=u:G(h)?A.active.bg=h:s(a.image);break}}}A.x>A.measuredwidth&&(A.measuredwidth=A.x+1);const i=A.active.leftedge??0;if(G(A.writefullwidth)&&(A.x>i||A.y===t)){const a=(A.active.rightedge??A.width-1)-A.x;if(a>0){d5(A);const c=String.fromCharCode(A.writefullwidth).repeat(a),l=A.x+A.y*A.width;w5(l,l+c.length,A.active.color,A.active.bg,A),p5(l,c,A)}}}function m5(e,A,t){const n=ju(e);n.tokens&&(Lk(n.tokens,A),A.changed())}function g5(e,A,t){const n=ju(e);if(!n.tokens)return;const r=Hk(A,t,XA.WHITE,XA.BLACK);return r.measureonly=!0,Lk(n.tokens,r),r.x>0&&++r.y,r}function p5(e,A,t){let n=0;const r=e+A.length;for(let s=e;s<r;++s)t.char[s]=A.charCodeAt(n++);t.changed()}function w5(e,A,t,n,r){const s=Math.min(e,A),i=Math.max(e,A);for(let o=s;o<=i;++o)r.color[o]=t,r.bg[o]=n;r.changed()}const an={labels:{},internal:0,lineindex:0,linelookup:{},isfirststat:!1},Ru="zss.js";function he(e,A){return new n5.SourceNode(e.startLine??1,e.startColumn??1,Ru,A)}function Mp(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}function Iu(e){return`'${Mp(e)}'`}function bp(e){const A=ju(e);return A.errors.length?e:`['${A.tokens.map(n=>{if(n.tokenType===Pu){const r=Mp(n.image.substring(1));return CA(r)==="center"?"$CENTER":`', api.print(api.get('${r}')), '`}return Mp(n.image)}).join("")}'].join('')`}function Ja(e){return e.filter(A=>A!==void 0).map(Ge)}function Uk(e){return he(e,"")}function G5(e,A){const t=[];return e.forEach(n=>{t.push(n,A)}),t.pop(),t}function gt(e,A,t){return he(e,[`api.${A}(`,...G5(t,", "),")"])}function x5(e){if(e.type===PA.COMPARE&&e.compare.type===PA.COMPARE_ITEM)switch(e.compare.method){case mi.IS_EQ:return gt(e,"isEq",[Ge(e.lhs),Ge(e.rhs)]);case mi.IS_NOT_EQ:return gt(e,"isNotEq",[Ge(e.lhs),Ge(e.rhs)]);case mi.IS_LESS_THAN:return gt(e,"isLessThan",[Ge(e.lhs),Ge(e.rhs)]);case mi.IS_GREATER_THAN:return gt(e,"isGreaterThan",[Ge(e.lhs),Ge(e.rhs)]);case mi.IS_LESS_THAN_OR_EQ:return gt(e,"isLessThanOrEq",[Ge(e.lhs),Ge(e.rhs)]);case mi.IS_GREATER_THAN_OR_EQ:return gt(e,"isGreaterThanOrEq",[Ge(e.lhs),Ge(e.rhs)])}return he(e,"")}function pi(e,A,t){return e.prepend(`api.${A}(`),e.add([", ",Ge(t),")"])}function $k(e,A,t){return e.prepend(`api.${A}(`),e.add([Ge(t),")"])}function M5(e,A){if(e.type===PA.OPERATOR_ITEM)switch(e.operator){case Zr.PLUS:return pi(A,"opPlus",e.rhs);case Zr.MINUS:return pi(A,"opMinus",e.rhs);case Zr.POWER:return pi(A,"opPower",e.rhs);case Zr.MULTIPLY:return pi(A,"opMultiply",e.rhs);case Zr.DIVIDE:return pi(A,"opDivide",e.rhs);case Zr.MOD_DIVIDE:return pi(A,"opModDivide",e.rhs);case Zr.FLOOR_DIVIDE:return pi(A,"opFloorDivide",e.rhs);case Zr.UNI_PLUS:return $k(A,"opUniPlus",e.rhs);case Zr.UNI_MINUS:return $k(A,"opUniMinus",e.rhs)}return he(e,"")}function b5(e){if(e.type===PA.OPERATOR){const A=e.lhs?Ge(e.lhs):he(e,"");return e.items.forEach(t=>M5(t,A)),A}return he(e,"")}function Cu(e,A){return he(e,[gt(e,"jump",[`${A}`]),"; continue;"])}function Xr(e){return an.linelookup[e??""]??-1}function yp(e,A){an.linelookup[e]=A}function xo(e,A,t){for(let n=0;n<e.length;++n){const r=e[n];switch(r.type){case PA.WHILE:case PA.REPEAT:case PA.FOREACH:case PA.ELSE_IF:r.type===A&&(r.done=t);break;case PA.IF_BLOCK:case PA.IF_CHECK:r.type===A&&(r.skip=t);break;case PA.LINE:xo(r.stmts,A,t);break}}}function Fk(e,A,t){for(let n=0;n<e.length;++n){const r=e[n];switch(r.type){case PA.WHILE:case PA.REPEAT:case PA.FOREACH:case PA.ELSE_IF:r.type===A&&yp(r.done,t);break;case PA.IF_BLOCK:case PA.IF_CHECK:r.type===A&&yp(r.skip,t);break;case PA.LINE:Fk(r.stmts,A,t);break}}}function Ge(e){switch(e.type){case PA.PROGRAM:return he(e,[`try { // first-line
`,`while (true) {
`,`if (api.sy()) { return 1; }
`,`switch (api.getcase()) {
`,...e.lines.map(Ge).flat(),`default:
`,`  return 0;
`,`}
`,`api.nextcase();
`,`} // end of logic
`,`} catch (e) {
`,`console.error(e);
`,`const source = api.stacktrace(e);
`,`const err = new Error(e.message);
`,`err.name = 'GameError';
`,`err.meta = { line: source.line, column: source.column };
`,`throw err;
`,`}
`,`//# sourceURL=${Ru}`]);case PA.API:return he(e,["  ",gt(e,e.method,Ja(e.words)),`;
`]);case PA.LINE:return he(e,[`case ${e.lineindex}:
`,...e.stmts.map(Ge).flat(),`  break;
`]);case PA.MARK:return he(e,`  // ${e.comment}
`);case PA.GOTO:{const A=Xr(e.id);return he(e,["  ",Cu(e,A),`
`])}case PA.COUNT:return he(e,`${e.index}`);case PA.LITERAL:switch(e.literal){case Nu.NUMBER:return he(e,`${e.value}`);case Nu.STRING:return he(e,Iu(e.value));case Nu.TEMPLATE:return he(e,bp(e.value))}return Uk(e);case PA.TEXT:return he(e,["  ",gt(e,"text",[bp(e.value)]),`;
`]);case PA.STAT:if(an.isfirststat){an.isfirststat=!1;const A=e.value.trim().split(" ").map(Iu);return he(e,["  ",gt(e,"stat",A),`;
`])}return he(e,`  // skipped ${e.value}
`);case PA.LABEL:{const A=CA(e.name),t=e.active?"label":"comment";an.labels[A]||(an.labels[A]=[]);const n=(e.active?1:-1)*e.lineindex;return an.labels[A].push(n),he(e,`  // ${n} '${A}' ${t}
`)}case PA.HYPERLINK:return he(e,["  ",gt(e,"hyperlink",[bp(e.text),...e.link.split(" ").filter(A=>A.length>0).map(Iu)]),`;
`]);case PA.MOVE:{const A=gt(e,"command",[Iu("go"),Ja(e.words)].flat());return e.wait?he(e,["  if (",A,`) { continue; };
`]):he(e,["  ",A,`;
`])}case PA.COMMAND:return he(e,["  if (",gt(e,"command",Ja(e.words)),`) { continue; };
`]);case PA.IF:{const A=e.block?.type===PA.IF_BLOCK?e.block:void 0;if(G(A)){xo([e.check],PA.IF_CHECK,A.skip);const t=he(e,Ge(e.check));return A.lines.forEach(n=>t.add(Ge(n))),Fk(A.altlines,PA.ELSE_IF,Xr(A.done)),A.altlines.forEach(n=>t.add(Ge(n))),t}return he(e,Ge(e.check))}case PA.IF_CHECK:{const A=Xr(e.skip);return A===-1?he(e,["  ",gt(e,e.method,Ja(e.words)),`;
`]):he(e,["  if (!",gt(e,e.method,Ja(e.words)),") { ",Cu(e,A),` }
`])}case PA.ELSE_IF:case PA.ELSE:{const A=he(e,"");return e.lines.forEach(t=>A.add(Ge(t))),A}case PA.WHILE:{const A=Xr(e.loop),t=Xr(e.done),n=he(e,"");return xo(e.lines,PA.IF_CHECK,e.done),e.lines.forEach(r=>{switch(r.type){case PA.BREAK:r.goto=t;break;case PA.CONTINUE:r.goto=A;break}n.add(Ge(r))}),n}case PA.REPEAT:{const A=Xr(e.loop),t=Xr(e.done),n=he(e,"");return xo(e.lines,PA.IF_CHECK,e.done),e.lines.forEach(r=>{switch(r.type){case PA.BREAK:r.goto=t;break;case PA.CONTINUE:r.goto=A;break}n.add(Ge(r))}),n}case PA.WAITFOR:{const A=he(e,"");return xo(e.lines,PA.IF_CHECK,e.loop),e.lines.forEach(t=>{A.add(Ge(t))}),A}case PA.FOREACH:{const A=Xr(e.loop),t=Xr(e.done),n=he(e,"");return xo(e.lines,PA.IF_CHECK,e.done),e.lines.forEach(r=>{switch(r.type){case PA.BREAK:r.goto=t;break;case PA.CONTINUE:r.goto=A;break}n.add(Ge(r))}),n}case PA.BREAK:return he(e,["  ",Cu(e,e.goto),`
`]);case PA.CONTINUE:return he(e,["  ",Cu(e,e.goto),`
`]);case PA.OR:return gt(e,"or",e.items.map(Ge));case PA.AND:return gt(e,"and",e.items.map(Ge));case PA.NOT:return gt(e,"not",e.items.map(Ge));case PA.COMPARE:return x5(e);case PA.OPERATOR:return b5(e);case PA.EXPR:return gt(e,"expr",e.words.map(Ge));default:return console.error("<unsupported node>",e.type,e),Uk(e)}}function Or(e){if(G(e))switch(e.type===PA.LINE&&++an.lineindex,e.lineindex=an.lineindex,e.type){case PA.PROGRAM:e.lines.forEach(Or);break;case PA.LINE:e.stmts.forEach(Or);break;case PA.MARK:yp(e.id,e.lineindex);break;case PA.IF:Or(e.check),Or(e.block);break;case PA.IF_BLOCK:e.lines.forEach(Or),e.altlines.forEach(Or);break;case PA.ELSE_IF:e.lines.forEach(Or);break;case PA.ELSE:case PA.WHILE:case PA.REPEAT:case PA.FOREACH:case PA.WAITFOR:e.lines.forEach(Or);break;case PA.MOVE:case PA.COMMAND:case PA.IF_CHECK:e.words.forEach(Or);break}}function y5(e){an.labels={},an.internal=1,an.lineindex=0,an.isfirststat=!0,Or(e)}function _5(e){return y5(e),{...Ge(e).toStringWithSourceMap({file:`${Ru}.map`}),...an}}function D5(e,A){const t=`compile-${e}`;console.time(t);const n=fL(A);if(console.timeEnd(t),Q_&&console.info(A,n.errors),n.errors&&n.errors.length>0)return console.info(A,n.tokens,n.errors),n;if(!n.ast)return{...n,errors:[{message:"no ast output",offset:0,line:0,column:0,length:0}]};const r=_5(n.ast);if(r.code){Q_&&console.info(r.code);try{return{...n,...r,source:r.code,code:new Function("api",r.code)}}catch(s){return{errors:[{message:`unexpected error ${s.message}`,offset:0,line:0,column:0,length:0}],source:"",code:new Function("api"," ")}}}return{...n,...r,source:"",code:new Function("api"," ")}}function B5(){const e={},A={};function t(r,s){const i=e[s];if(i)return i;const o=D5(r,s);return e[s]=o,o}const n={ids(){return Object.keys(A)},isended(r){const s=A[r];return G(s)?s.isended():!0},scrollunlock(r,s){const i=A[r];G(i)&&i.scrollunlock(s)},halt(r){const s=A[r];return G(s)&&(s.halt(),delete A[r]),!!s},gc(){const r=n.ids();for(let s=0;s<r.length;++s)n.isended(r[s])&&n.halt(r[s])},arg(r,s){const i=A[r];G(i)&&i.set("arg",s)},boot(r,s,i,o){let a=A[r];if(!G(A[r])){const c=t(i,o);if(a=A[r]=GJ(r,s,c),c.errors?.length){const[l]=c.errors,u=(l?.line??2)-1,h=o.replaceAll(`\r
`,"").split(`
`).map((x,y)=>[x,y]),f=h.slice(u-2,u);for(let x=0;x<f.length;++x){const[y,E]=f[x];we(K,nt(),"build",`$grey${E+1} $grey${y}`)}const[m,d]=h[u]??[];if(wA(m)&&G(d)){const x=(l.column??1)-1,y=x+l.length,E=x<m.length?m:`${m}*`,B=E.substring(0,x),T=E.substring(x,y),D=E.substring(y);we(K,nt(),"build",`$red${d+1} $grey${B}$red${T}$grey${D}`)}const g=h.slice(u+1,u+3);for(let x=0;x<g.length;++x){const[y,E]=g[x];we(K,nt(),"build",`$grey${E+1} $grey${y}`)}const p=l.message.split(`
`).slice(0,4).join(" ");we(K,nt(),"build",p);return}}return a},tick(r,s,i,o,a){return!!n.boot(r,s,o,a)?.tick(i)},once(r,s,i,o){n.boot(r,s,i,o)?.once(),n.halt(r)},message(r){const{target:s,path:i}=yn(r.target),o=A[s];if(G(o)){const a={...r,target:i};o.message(a)}}};return n}const zu={};function Qk(e,A,t,n,r){const s=Kk(A,t);for(let i=0;i<s.length;++i){const o=`${Ke()}_loader`;zu[o]={arg:e,format:A,content:n,player:r},j6(o,s[i].code)}}function E5(e){return zu[e]?.arg}function Mo(e){return zu[e]?.content}function k5(e){return zu[e]?.format}function Kk(e,A){const t=be(LA.MAIN);if(!G(t))return[];const n=ys(t,A);return G(n)?[n]:li(t,NA.LOADER).filter(s=>{const i=bs(s),o=i.format,a=wA(o)?new RegExp(o).test(e):!1,c=i.event,l=wA(c)?new RegExp(c).test(A):!1;return wA(o)&&wA(c)?a&&l:wA(o)?a:wA(c)?l:!1})}function wi(e){return se(e)&&typeof e[0]=="string"}function v5(e){const A=w.words[e];return wA(A)?[A,e+1]:[void 0,e]}function _p(e){const A=w.words[e];if(wi(A))return[A,e+1];const[t,n]=Bl(e),[r,s]=v5(n);return wA(r)&&(r==="empty"||wn({kind:r}))?[[r,t],s]:[void 0,e]}function Xa(e){if(!wi(e))return;const[A]=e;return A}function Hu(e){if(!wi(e))return;const[,A]=e,t=G(A)?_l(A):void 0;return G(t)?t:void 0}function Wk(e){if(!wi(e))return;const[,A]=e,t=G(A)?Dl(A):void 0;return G(t)?Ud(t):void 0}function Dp(e,A,t,n){if(!G(e))return!1;const r=tt(e);return!(G(A)&&A!==r.name||G(t)&&t!==r.color||G(n)&&n!==r.bg)}function Gi(e,A){const t=e??$A.ISWALK,n=A??$A.ISWALK;if(t===$A.ISGHOST||n===$A.ISGHOST)return!1;switch(t){case $A.ISWALK:return n!==$A.ISWALK;case $A.ISSWIM:return n!==$A.ISSWIM;case $A.ISSOLID:return!0;case $A.ISBULLET:return n!==$A.ISWALK&&n!==$A.ISSWIM}}function Ac(e,A,t){const n=e?.objects[t];if(G(n))return n;const r=bo(e,"player");return G(A)?(A.x<0&&(A.x=It(0,jA-1)),A.y<0&&(A.y=It(0,re-1)),Xk(A,r)):Yn(...r)}function Vk(e,A){const t=G(A)?_l(A):void 0,n=G(A)?Dl(A):void 0,r=[];if(G(e)){for(let i=0;i<e.terrain.length;++i){const o=e.terrain[i];G(o)&&Dp(o,void 0,t,n)&&r.push(o)}const s=Object.values(e.objects);for(let i=0;i<s.length;++i){const o=s[i];Dp(o,void 0,t,n)&&r.push(o)}}return r}function qk(e,A){return G(e)?A.map(t=>{if(typeof t=="string"){const n=e.objects[t];if(G(n))return n;const r=bo(e,CA(t));if(r.length)return r}else if(ms(t)&&t.x>=0&&t.x<jA&&t.y>=0&&t.y<re){const n=t.x+t.y*jA,r=e.lookup?.[n];return G(r)?e.objects[r]:e.terrain[n]}}).flat().filter(G):[]}function Y5(e,A,t,n){if(!G(e))return;G(e.distmaps)||(e.distmaps={});const r=`${A}.${t.x}.${t.y}.${n.x}.${n.y}`;let s=e.distmaps[r];if(!G(s)){s=new Array($d).fill(-2);const i=[{...n}];let o=0;for(;i.length;){const a=i.shift();if(G(a)&&Ys(a)){const c=Xt(a,jA);if(s[c]===-2){const l=Cn(e,a.x,a.y);Gi(A,KA(l,"collision"))||(s[c]=o,i.push({x:a.x,y:a.y-1},{x:a.x,y:a.y+1},{x:a.x-1,y:a.y},{x:a.x+1,y:a.y})),++o}}}e.distmaps[r]=s}return s}function Jk(e,A){return Ys(e)?A[Xt(e,jA)]:-1}function Lu(e,A){const t=Xa(A),n=Hu(A),r=Wk(A);return bo(e,t??"").filter(s=>Dp(s,t,n,r))}function bo(e,A){const t=e?.named?.[A];return G(t)?[...t.values()].map(r=>typeof r=="string"?e?.objects[r]:e?.terrain[r]).filter(G):[]}function N5(e){const A=[];for(let t=0;t<re;++t)for(let n=0;n<jA;++n){const r={x:n,y:t},s=ne(e,r);!s?.name&&!s?.kind&&A.push(r)}return A}function Xk(e,A){let t=0,n;for(let r=0;r<A.length;++r){const s=A[r];if(s){const i=e.x-(s.x??0),o=e.y-(s.y??0),a=Math.sqrt(i*i+o*o);(n===void 0||a<t)&&(t=a,n=s)}}return n}function Av(e,A,t,n,r){if(!G(e))return;const s=Y5(e,A,t,n);if(!G(s))return;const i=[{x:t.x,y:t.y-1},{x:t.x,y:t.y+1},{x:t.x-1,y:t.y},{x:t.x+1,y:t.y}];let o;if(r){let a=r?0:1e4;for(let c=0;c<i.length;++c){const l=Jk(i[c],s);l>=0&&l>a&&(a=l,o=i[c])}}else{let a=1e5;for(let c=0;c<i.length;++c){const l=Jk(i[c],s);l>=0&&l<a&&(a=l,o=i[c])}}return o}function Ds(e,A,t,n){const r=De(A);if(!G(e)||!G(r))return!1;const s=Je(r,A);if(!Me(s)||!s?.id)return!1;const i=ae(t);if(!G(i))return!1;$e(i);const o=rw(i,$A.ISWALK,n,!0);if(!G(o)&&!Me(o)){const a=KA(o,"collision");if(Gi($A.ISWALK,a))return!1}return ku(r,s),delete r.objects[s.id],s.x=n.x,s.y=n.y,i.objects[s.id]=s,lg(i,s),fE(i,s),ig(e,A,"enterx",n.x),ig(e,A,"entery",n.y),$u(e,A,i.id),!0}function Z5(e){const t=(e?.activelist??[]).map(n=>{const r=Bu(e,n,"board");return wA(r)?r:""});return ZP(t)}function O5(e,A){return e?.activelist.includes(A)??!1}function Uu(e){const A=Z5(e),t=new Set,n=[];for(let r=0;r<A.length;++r){const s=ae(A[r]);if(G(s)&&!t.has(s.id)){d8(s);const i=ae(s.overboard??"");G(i)&&(t.has(i.id)||n.push(i)),n.push(s)}}return n}function $u(e,A,t){if(!G(e))return;ig(e,A,"board",t);const n=ae(t);G(n)?e.activelist.includes(A)||e.activelist.push(A):e.activelist=e.activelist.filter(r=>r!==A)}function ev(e,A){if(!wA(e)||!e)return we(K,e,"login",`failed for playerid ==>${e}<==`);const t=be(LA.MAIN);if(!G(t))return we(K,e,"login:main","login failed to find book 'main'","login",`failed for playerid ==>${e}<==`);let n=De(e);if(G(n?.objects[e]))return!0;if(!G(n)){const l=at(NA.BOARD,LA.TITLE);n=Rn(l)}if(!G(n))return we(K,e,"login:title",`login failed to find board with '${LA.TITLE}' stat`);const r=at(NA.OBJECT,LA.PLAYER);if(!G(r))return we(K,e,"login:player",`login failed to find object type '${LA.PLAYER}'`);const s=n.startx??0,i=n.starty??0,o=kA(s)?s:Math.round(jA*.5),a=kA(i)?i:Math.round(re*.5),c=aw(n,{x:o,y:a},LA.PLAYER,e);if(G(c?.id)){c.player=e;const l=ui(t,e);return Object.assign(l,A),l.enterx=o,l.entery=a,l.deaths=l.deaths??0,l.highscore=l.highscore??0,$u(t,e,n.id),!0}return!1}function T5(e,A){const t=be(LA.MAIN);if(!G(t))return;const n=[];for(let s=0;s<t.activelist.length;++s){const i=t.activelist[s];i.startsWith(e)&&n.push(i)}const r=De(e);for(let s=0;s<n.length;++s){const i=n[s],o=ui(t,i),a={};if(A&&(a.deaths=us(o.deaths,0)+1,a.highscore=Math.max(us(o.score,0),us(o.highscore,0))),$u(t,i,""),ku(r,Je(r,i)),u8(r,i),ec(i),aE(t,i),A){const c=ui(t,i);Object.assign(c,a)}}}function S5(e){const A=be(LA.MAIN),t=A?.activelist??[];for(let r=0;r<t.length;++r){const s=t[r];G(e[s])||(e[s]=0)}const n=Uu(A);for(let r=0;r<n.length;++r){const s=n[r],i=Object.keys(s.objects);for(let o=0;o<i.length;++o){const c=s.objects[i[o]].id;Ce(c)&&($u(A,c,s.id),G(e[c])||(e[c]=0))}}}function P5(e){const A=be(LA.MAIN),t=O5(A,e),n=De(e),r=Je(n,e);return t&&G(r)}function De(e){const A=be(LA.MAIN),t=Bu(A,e,"board"),n=at(NA.BOARD,t);return Rn(n)}const xn=B5();function ec(e){xn.halt(e)}function j5(){const e=xn.ids();for(let t=0;t<e.length;++t)xn.halt(e[t]);const A=be(LA.MAIN);G(A)&&(A.flags={})}function tv(e){xn.message(e)}function R5(e){const A=Ut(e),t=A.playbuffer=wA(A.playbuffer)?A.playbuffer:"";t&&rv(e,t,!1)}function I5(e=!1){const A=be(LA.MAIN);if(!G(A))return;const t=A.timestamp+1,n=P6();n.forEach((s,i)=>{const o={...w};w.timestamp=A.timestamp,w.book=A,w.board=void 0,w.element=void 0,w.elementid="",w.elementisplayer=!1,w.elementfocus=nt();const a=E5(i);G(a)&&xn.arg(i,a),xn.tick(i,vs.LOADER,1,"loader",s),xn.isended(i)&&(xn.halt(i),n.delete(i)),Wt(o).forEach(c=>{w[c]=o[c]})}),A.timestamp=t,w.timestamp=t;const r=Uu(A);for(let s=0;s<r.length;++s){const i=r[s];$e(i);const o=kJ(i,t);for(let a=0;a<o.length;++a){const{id:c,type:l,code:u,object:h}=o[a];l===NA.ERROR?xn.halt(c):(!e||Ce(h?.id??""))&&nv(A,i,h,u)}}}function nv(e,A,t,n){if(!G(e)||!G(A)||!G(t))return;const r={...w};w.book=e,w.board=A,w.element=t,w.elementid=t.id??"",w.elementisplayer=Ce(w.elementid);const s=w.element.player??nt();w.elementfocus=w.elementisplayer?w.elementid:s;const i=KA(t,"cycle"),o=t.id??"",a=CA(t.name??t.kinddata?.name??"");if(xn.tick(o,vs.RUNTIME,i,a,n),kA(t?.tickertime)&&w.timestamp-t.tickertime>M0*5&&(t.tickertime=0,t.tickertext=""),w.elementisplayer){const c=Ut(w.elementid);kA(c.inputcurrent)&&(c.inputcurrent=0)}Wt(r).forEach(c=>{w[c]=r[c]})}function rv(e,A,t=!0){const n=yt(LA.MAIN);if(!G(n))return;const r=`${e}_cli`;if(w.timestamp=n.timestamp,w.book=n,w.board=De(e),w.element=Je(w.board,e),w.elementid=w.element?.id??"",w.elementisplayer=!0,w.elementfocus=w.elementid||e,xn.once(r,vs.CLI,"cli",A),t){const s=Ut(e);s.playbuffer=A}}function Fu(e){const A=yt(LA.MAIN),t=ys(A,e);if(!G(A)||!G(t))return;const n={...w},r=`${e}_run`,s=w.element?.name??w.element?.kinddata?.name??"",i=t?.code??"";xn.once(r,vs.RUNTIME,CA(s),i),Wt(n).forEach(o=>{w[o]=n[o]})}function C5(e,A){xn.scrollunlock(e,A)}const Bp={issolid:"ISSOLID",iswalk:"ISWALK",isswim:"ISSWIM",isbullet:"ISBULLET",isghost:"ISGHOST",iswalking:"ISWALK",iswalkable:"ISWALK",isswimming:"ISSWIM",isswimmable:"ISSWIM"};$A.ISSOLID,$A.ISWALK,$A.ISSWIM,$A.ISBULLET,$A.ISGHOST,$A.ISWALK,$A.ISSWIM;function Qu(e){return se(e)&&Ep(e[0])}function Ep(e){return G($A[e])&&wA(e)}function sv(e){if(wA(e))return Bp[CA(e)]}function z5(e){const A=w.words[e];if(Qu(A))return[A,e+1];if(Ep(A))return[[A],e+1];const[t,n]=$t(e);return Qu(t)?[t,n]:Ep(t)?[[t],n]:[void 0,e]}function yo(e,A=0){const t=[];let n=e;for(;n<w.words.length;){const[r,s]=$t(n);if(se(r)&&!gn(r)&&!tc(r)&&!Qu(r)&&!ft(r)&&t.push(...r),r==="|")return[t,s];if(n=s,t.push(r),A>0&&t.length>=A)return[t,n]}return[t,n]}function $t(e){const A=w.words[e],t=e+1;if(vp(A)){const[n,r]=H5(e);if(G(n))return[n,r]}if(sv(A)){const[n,r]=z5(e);if(G(n))return[n,r]}if(so(A)){const[n,r]=Bl(e);if(G(n))return[n,r]}if(wA(A)&&CA(A)==="rnd"){const[n,r]=$t(t),[s,i]=$t(r);return kA(n)&&kA(s)?[It(n,s),i]:kA(n)?[It(0,n),r]:[It(0,1),t]}if(ya(A)){const[n,r]=mb(e);if(G(n))return[n,r]}if(!G(A))return[void 0,e];if(kA(A)||se(A))return[A,t];if(wA(A)){const n=CA(A),r=w.get?.(A);if(G(r))return[r,t];switch(n){case"aligned":case"alligned":{const s=Ac(w.board,{x:w.element?.x??-1,y:w.element?.y??-1},w.elementfocus);return!G(w.element)||!G(s)?[0,t]:[w.element.x===s.x||w.element.y===s.y?1:0,t]}case"contact":{const s=Ac(w.board,{x:w.element?.x??-1,y:w.element?.y??-1},w.elementfocus);if(!G(w.element)||!G(s))return[0,t];const i=(s.x??0)-(w.element?.x??0),o=(s.y??0)-(w.element?.y??0);return[i===0&&Math.abs(o)<2||o===0&&Math.abs(i)<2?1:0,t]}case"blocked":{const[s,i]=aA(w.words,t,[F.DIR]);return[xJ(w.board,w.element,s.destpt)?1:0,i]}case"any":{const[s]=aA(w.words,t,[F.ANY]);if(gn(s)){const[c,l,u]=aA(w.words,t,[F.DIR,F.COLOR_OR_KIND]);if(c.targets.length){const[f,m]=l,d=[];for(let g=0;g<c.targets.length;++g){const p=c.targets[g],x=["any","at",p.x,p.y,...se(m)?m:[],f].filter(E=>E!==void 0),[y]=aA(x,0,[F.ANY]);se(y)&&y.length&&d.push(...y)}return[d,u]}let h;switch(c.layer){default:case bA.MID:h=ne(w.board,c.destpt);break;case bA.GROUND:h=Cn(w.board,c.destpt.x,c.destpt.y);break}if(G(h)){const f=tt(h);if(ft(l))return[_l(l)===f.color||Dl(l)===f.bg?[h]:[],u];const m=CA(Xa(l)),d=Hu(l);if((m.length&&m!==f.name||G(d)&&d!==f.color)===!1)return[[h],u]}return[[],u]}const[i,o]=aA(w.words,t,[F.COLOR_OR_KIND]);return ft(i)?[Vk(w.board,i),o]:[Lu(w.board,i),o]}case"countof":{const[s]=aA(w.words,t,[F.ANY]);if(gn(s)){const[c,l,u]=aA(w.words,t,[F.DIR,F.COLOR_OR_KIND]);if(c.targets.length){let f=0;const[m,d]=l;for(let g=0;g<c.targets.length;++g){const p=c.targets[g],x=["countof","at",p.x,p.y,...se(d)?d:[],m].filter(E=>E!==void 0),[y]=aA(x,0,[F.ANY]);kA(y)&&(f+=y)}return[f,u]}let h;switch(c.layer){default:case bA.MID:h=ne(w.board,c.destpt);break;case bA.GROUND:h=Cn(w.board,c.destpt.x,c.destpt.y);break}if(G(h)){const f=tt(h);if(ft(l))return[_l(l)===f.color||Dl(l)===f.bg?1:0,u];const m=CA(Xa(l)),d=Hu(l),g=m.length?m===f.name:!0,p=G(d)?d===f.color:!0;if(g&&p)return[1,u]}return[0,u]}const[i,o]=aA(w.words,t,[F.COLOR_OR_KIND]);return ft(i)?[Vk(w.board,i).length,o]:[Lu(w.board,i).length,o]}case"rnd":return[It(0,1),t];case"abs":{const[s,i]=aA(w.words,t,[F.NUMBER]);return[Math.abs(s),i]}case"intceil":{const[s,i]=aA(w.words,t,[F.NUMBER]);return[Math.ceil(s),i]}case"intfloor":{const[s,i]=aA(w.words,t,[F.NUMBER]);return[Math.floor(s),i]}case"intround":{const[s,i]=aA(w.words,t,[F.NUMBER]);return[Math.round(s),i]}case"clamp":{const[s,i,o,a]=aA(w.words,t,[F.NUMBER,F.NUMBER,F.NUMBER]);return[Wn(s,i,o),a]}case"min":{const[s,i]=yo(t);return[Math.min(...s),i]}case"max":{const[s,i]=yo(t);return[Math.max(...s),i]}case"pick":{const[s,i]=yo(t);return[Yn(s),i]}case"pickwith":{const[s,i]=aA(w.words,t,[F.NUMBER_OR_STRING]),[o,a]=yo(i);return[NP(`${s}`,o),a]}case"random":{const[s,i]=yo(t,2),[o,a]=s;return[It(o,a??0),i]}case"randomwith":{const[s,i]=aA(w.words,t,[F.NUMBER_OR_STRING]),[o,a]=yo(i,2),[c,l]=o;return[ub(`${s}`,c,l??0),a]}case"run":{const[s,i]=aA(w.words,t,[F.NAME]);return Fu(s),[w.get?.("arg"),i]}case"runwith":{const[s,i,o]=aA(w.words,t,[F.ANY,F.NAME]);return G(w.element)&&(w.element.arg=s),Fu(i),[w.get?.("arg"),o]}}}return[A,t]}const kp={isterrain:"ISTERRAIN",isobject:"ISOBJECT"};function tc(e){return se(e)&&iv(e[0])}function iv(e){return G(qt[e])&&wA(e)}function vp(e){if(wA(e))return kp[CA(e)]}function ov(e){if(tc(e))return e;if(iv(e))return[e];const A=vp(e);if(G(A))return[A]}function H5(e){const A=w.words[e],t=ov(A);if(tc(t))return[t,e+1];const[n,r]=$t(e),s=ov(n);return tc(s)?[s,r]:[void 0,e]}function cn(e,A,t,n){const[r,s]=aA(n,0,[F.NUMBER_OR_STRING,F.MAYBE_NUMBER_OR_STRING]);f0(K,e,A,t,r,s)}const L5=["echo","reverb","autofilter","distortion","vibrato","fc","fcrush","autowah"];function Yp(e,A,t){const[n,r]=aA(t,0,[F.NUMBER_OR_STRING]);if(kA(n))nf(K,e,A,"volume",n);else if(L5.includes(CA(n))){const[s,i]=aA(t,r,[F.NUMBER_OR_STRING,F.MAYBE_NUMBER_OR_STRING]);f0(K,e,A,n,s,i)}else{const[s]=aA(t,r,[F.MAYBE_NUMBER_OR_STRING]);if(kA(s)){const i=t.length-r,o=new Array(i).fill(F.NUMBER),a=aA(t,r,o).slice(0,i),c=a.length===1?a[0]:a;nf(K,e,A,n,c)}else{const[i]=aA(t,r,[F.MAYBE_NUMBER_OR_STRING]);nf(K,e,A,n,i)}}}function av(e,A){const[t]=aA(A,0,[F.MAYBE_NAME]);let n="";if(wA(t)){const r=e.get(t);n=wA(r)&&!G(vp(r))&&!G(sv(r))&&!G(so(r))&&!G(ya(r))?r:t}return n}function Bs(e,A,t){v4(K,w.elementfocus,w.board?.id??"",av(e,A),t)}const Ku=_s().command("ttsengine",(e,A)=>{const[t,n]=aA(A,0,[F.STRING,F.MAYBE_STRING]);return T4(K,w.elementfocus,t,n??""),0}).command("tts",(e,A)=>{const[t,n]=aA(A,0,[F.MAYBE_NUMBER_OR_STRING,F.MAYBE_STRING]);return G(t)&&G(n)?S4(K,w.elementfocus,w.board?.id??"",t,n):wA(t)?P4(K,w.elementfocus,t):R4(K,w.elementfocus),0}).command("ttsqueue",(e,A)=>{const[t,n]=aA(A,0,[F.NUMBER_OR_STRING,F.STRING]);return j4(K,w.elementfocus,w.board?.id??"",t,n),0}).command("bpm",(e,A)=>{const[t]=aA(A,0,[F.NUMBER]);return Y4(K,w.elementfocus,t),0}).command("vol",(e,A)=>{const[t]=aA(A,0,[F.NUMBER]);return N4(K,w.elementfocus,t),0}).command("bgvol",(e,A)=>{const[t]=aA(A,0,[F.NUMBER]);return Z4(K,w.elementfocus,t),0}).command("ttsvol",(e,A)=>{const[t]=aA(A,0,[F.NUMBER]);return O4(K,w.elementfocus,t),0}).command("play",(e,A)=>(k4(K,w.elementfocus,w.board?.id??"",av(e,A)),0)).command("bgplay",(e,A)=>(Bs(e,A,""),0)).command("bgplayon64n",(e,A)=>(Bs(e,A,"@64n"),0)).command("bgplayon32n",(e,A)=>(Bs(e,A,"@32n"),0)).command("bgplayon16n",(e,A)=>(Bs(e,A,"@16n"),0)).command("bgplayon8n",(e,A)=>(Bs(e,A,"@8n"),0)).command("bgplayon4n",(e,A)=>(Bs(e,A,"@4n"),0)).command("bgplayon2n",(e,A)=>(Bs(e,A,"@2n"),0)).command("bgplayon1n",(e,A)=>(Bs(e,A,"@1m"),0)).command("synth",(e,A)=>{if(A.length===0)return E4(K,w.elementfocus),0;for(let t=0;t<4;++t)Yp(w.elementfocus,t,A);return 0}).command("synthrecord",(e,A)=>{const[t]=aA(A,0,[F.MAYBE_STRING]);return I4(K,w.elementfocus,t??""),0}).command("synthflush",()=>(C4(K,w.elementfocus),0)).command("echo",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"echo",A);return 0}).command("fcrush",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"fc",A);return 0}).command("autofilter",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"autofilter",A);return 0}).command("reverb",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"reverb",A);return 0}).command("distort",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"distort",A);return 0}).command("vibrato",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"vibrato",A);return 0}).command("autowah",(e,A)=>{for(let t=0;t<2;++t)cn(w.elementfocus,t,"autowah",A);return 0});for(let e=0;e<4;++e)Ku.command(`synth${e+1}`,(A,t)=>(Yp(w.elementfocus,e,t),0));Ku.command("synth5",(e,A)=>{for(let t=4;t<8;++t)Yp(w.elementfocus,t,A);return 0});for(let e=0;e<4;++e){const A=e+1;Ku.command(`echo${A}`,(t,n)=>(cn(w.elementfocus,e,"echo",n),0)).command(`fcrush${A}`,(t,n)=>(cn(w.elementfocus,e,"fcrush",n),0)).command(`autofilter${A}`,(t,n)=>(cn(w.elementfocus,e,"autofilter",n),0)).command(`reverb${A}`,(t,n)=>(cn(w.elementfocus,e,"reverb",n),0)).command(`distort${A}`,(t,n)=>(cn(w.elementfocus,e,"distort",n),0)).command(`vibrato${A}`,(t,n)=>(cn(w.elementfocus,e,"vibrato",n),0)).command(`autowah${A}`,(t,n)=>(cn(w.elementfocus,e,"autowah",n),0))}function cv(e,A,t,n){for(let r=t.y;r<=n.y;++r)for(let s=t.x;s<=n.x;++s){const i=ne(A,{x:s,y:r});Me(i)&&Yt(A,i,e.timestamp),ze(A,{x:s,y:r})}}function U5(e,A,t){for(let n=A.y;n<=t.y;++n)for(let r=A.x;r<=t.x;++r)ze(e,{x:r,y:n})}function lv(e,A,t,n){for(let r=t.y;r<=n.y;++r)for(let s=t.x;s<=n.x;++s){const i=ne(A,{x:s,y:r});Me(i)&&Yt(A,i,e.timestamp),ze(A,{x:s,y:r})}}function xi(e,A){G(e)&&(e.name=A.name,e.char=A.char,e.color=A.color,e.bg=A.bg,e.displaychar=A.displaychar,e.displaycolor=A.displaycolor,e.displaybg=A.displaybg,e.p1=A.p1,e.p2=A.p2,e.p3=A.p3,e.p4=A.p4,e.p5=A.p5,e.p6=A.p6,e.p7=A.p7,e.p8=A.p8,e.p9=A.p9,e.p10=A.p10,e.code=A.code,e.item=A.item,e.group=A.group,e.party=A.party,e.cycle=A.cycle,e.light=A.light,e.lightdir=A.lightdir,e.stepx=A.stepx,e.stepy=A.stepy,e.shootx=A.shootx,e.shooty=A.shooty,e.pushable=A.pushable,e.collision=A.collision,e.breakable=A.breakable,e.tickertext=A.tickertext,e.tickertime=A.tickertime)}function Wu(e,A,t,n,r){switch(r){case"all":case"object":case"terrain":break;default:return $5(e,A,t,"",r)}if(!G(w.book))return;const s=w.book,i=ae(e);if(!G(i))return;const o=ae(A);if(!G(o))return;$e(i),$e(o);let a=!1;if(G(i)&&G(o)){switch(r){case"all":cv(s,o,t,n);break;case"object":lv(s,o,t,n);break;case"terrain":U5(o,t,n);break;default:a=!0;break}for(let c=t.y;c<=n.y;++c)for(let l=t.x;l<=n.x;++l){let u=!1,h=!1;switch(r){case"all":u=!0,h=!0;break;case"object":u=!0;break;case"terrain":h=!0;break}const f={x:l,y:c};let m,d=ne(i,f);if(Me(d)?(m=Cn(i,l,c),Ce(d?.id)&&(d=void 0)):(m=d,d=void 0),G(m)&&(h||a&&KA(m,"group")===r)){a&&cv(s,o,f,f);const g=Gn(o,[m.kind??""],f);xi(g,m)}if(G(d)&&(u||a&&KA(d,"group")===r)){a&&lv(s,o,f,f);const g=Gn(o,[d.kind??""],f);xi(g,d)}}$e(o)}}function $5(e,A,t,n,r){if(!G(w.book))return;const s=w.book,i=ae(e);if(!G(i))return;const o=ae(A);if(G(o)&&($e(i),$e(o),G(i)&&G(o))){const{terrainelements:a,objectelements:c}=f8(i,n,r);if(a.length===0&&c.length===0)return;const l={x:jA,y:re};for(let u=0;u<a.length;++u){const h=a[u];kA(h.x)&&(l.x=Math.min(l.x,h.x)),kA(h.y)&&(l.y=Math.min(l.y,h.y))}for(let u=0;u<c.length;++u){const h=c[u];kA(h.x)&&(l.x=Math.min(l.x,h.x)),kA(h.y)&&(l.y=Math.min(l.y,h.y))}for(let u=0;u<a.length;++u){const h=a[u],f={x:t.x+(h.x??0)-l.x,y:t.y+(h.y??0)-l.y},m=ne(o,f);G(m)&&(Me(m)&&Yt(o,m,s.timestamp),ze(o,f));const d=Gn(o,[h.kind??""],f);xi(d,h)}for(let u=0;u<c.length;++u){const h=c[u],f={x:t.x+(h.x??0)-l.x,y:t.y+(h.y??0)-l.y},m=Gn(o,[h.kind??""],f);xi(m,h)}$e(o)}}function Vu(e,A,t){if(!G(w.element?.x)||!G(w.element.y))return 0;if(w.elementisplayer){const a=w.board?.maxplayershots??0;if(a>0&&BJ(w.board).filter(l=>!l.removed&&Ce(l.party)&&KA(l,"collision")===$A.ISBULLET).length>=a)return e.set("didshoot",0),e.yield(),0}const[n,r]=aA(A,0,[F.DIR,F.MAYBE_KIND]),[s]=r??[];if(CA(s)==="player")return e.set("didshoot",0),e.yield(),0;w.element.shootx=Wn(n.destpt.x-n.startpt.x,-1,1),w.element.shooty=Wn(n.destpt.y-n.startpt.y,-1,1);const i=r??["bullet"],o=Q6(w.board,i,{x:w.element.x,y:w.element.y});if(G(o)){G(t)&&(o.arg=t),o.cycle=1,o.party=w.element.party??w.element.id??"",o.collision=$A.ISBULLET,o.breakable=1,o.stepx=n.destpt.x-w.element.x,o.stepy=n.destpt.y-w.element.y,o.bg=XA.ONCLEAR;const a=wn(o),c=o.code??a?.code??"";nv(w.book,w.board,o,c)}return w.elementisplayer&&e.set("didshoot",G(o)?1:0),e.yield(),0}function nc(e,A,t){if(!ms(w.element)||!G(w.book)||!G(w.board)||!G(w.element))return 0;const[n,r]=aA(e,0,[F.DIR,F.KIND]),[s]=r;if(CA(s)==="player")return 0;if(n.targets.length){for(let h=0;h<n.targets.length;++h){const f=n.targets[h];nc(["at",f.x,f.y,...r],A,t)}return 0}const{destpt:i}=n;if(i.x<0||i.x>=jA||i.y<0||i.y>=re)return 0;const[o]=r,a={x:w.element?.x??0,y:w.element?.y??0},c=wn({kind:o});if(KA(c,"collision")===$A.ISGHOST)return Gn(w.board,r,n.destpt,A),0;let u=ne(w.board,n.destpt);if(Me(u)&&KA(u,"pushable")){const h=Vt(n.destpt),f=Le(h,Nn(a,h));Mn(w.book,w.board,u,f),u=ne(w.board,n.destpt)}if(o==="empty")return Yt(w.board,u,w.timestamp),0;if(u?.kind===o){const[,h]=r;return Ai(u,h),0}if(Me(u)&&Yt(w.board,u,w.timestamp),Me(c)||Gn(w.board,r,n.destpt,A),Me(c)){const h=Gn(w.board,r,n.destpt,A);G(h)&&G(t)&&(h.arg=t)}return 0}function qu(e,A,t){if(!G(w.book)||!G(w.board))return 1;const[n,r]=aA(A,0,[F.DIR,F.DIR]),s=ne(w.board,n.destpt);if(G(s)&&G(s.kind)){const[i]=s.kind;if(CA(i)==="player")return 1;const o=KA(s,"collision"),a=rw(w.board,o,r.destpt);if(G(a))return 1;const c=Gn(w.board,[s.kind],r.destpt);if(!G(c))return 1;xi(c,s),G(t)&&(c.arg=t)}else return 1;return 0}const F5={x:0,y:0},Q5={x:jA-1,y:re-1},K5="all",W5=_s().command("build",(e,A)=>{if(!G(w.book)||!G(w.board)||!G(w.element))return 0;const[t,n]=aA(A,0,[F.NAME,F.MAYBE_STRING]),[r]=di(LA.TEMP,Ke(),NA.BOARD);if(!G(r))return 0;const s=Rn(r);if(!G(s))return 0;if(wA(n)){const i=ae(n);if(G(i))switch(Wu(i.id,s.id,F5,Q5,K5),s.isdark=i.isdark,s.startx=i.startx,s.starty=i.starty,s.over=i.over,s.under=i.under,s.camera=i.camera,s.graphics=i.graphics,s.facing=i.facing,s.charset=i.charset,s.palette=i.palette,s.timelimit=i.timelimit,s.restartonzap=i.restartonzap,s.maxplayershots=i.maxplayershots,s.b1=i.b1,s.b2=i.b2,s.b3=i.b3,s.b4=i.b4,s.b5=i.b5,s.b6=i.b6,s.b7=i.b7,s.b8=i.b8,s.b9=i.b9,s.b10=i.b10,CA(t)){case"exitwest":s.exiteast=w.board.id;break;case"exiteast":s.exitwest=w.board.id;break;case"exitnorth":s.exitsouth=w.board.id;break;case"exitsouth":s.exitnorth=w.board.id;break}}return e.set(t,s.id),0}).command("goto",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.STRING]),[r,s]=aA(A,n,[F.MAYBE_NUMBER,F.MAYBE_NUMBER]),i=ae(t);if(!G(i))return 0;$e(i);const o={x:r??i.startx??Math.round(jA*.5),y:s??i.starty??Math.round(re*.5)},a=tt(w.element);if(a.name!=="player"){const c=KA(w.element,"color"),l=KA(w.element,"bg"),u=gs(c,l),h=Lu(i,[a.name,u]),[f]=h.sort((m,d)=>{const g=m.y??1e4,p=d.y??1e4,x=g-p;if(x!==0)return x;const y=m.x??1e4,E=d.x??1e4;return y-E});G(f)&&kA(f.x)&&kA(f.y)&&(o.x=f.x,o.y=f.y)}return Ds(w.book,w.elementfocus,i.id,o),0}).command("transport",(e,A)=>{if(!G(w.book)||!G(w.board)||!G(w.element))return 0;const[t]=aA(A,0,[F.STRING]),n=Je(w.board,t);if(G(w.element?.x)&&G(w.element.y)&&G(n?.x)&&G(n.y)){let r=!0;const s={x:w.element.x,y:w.element.y},i=s.x-n.x,o=s.y-n.y;if(KA(w.element,"shootx")!==i||KA(w.element,"shooty")!==o)return 0;for(;r&&(s.x+=i,s.y+=o,!(s.x<0||s.x>=jA||s.y<0||s.y>=re));){const a=ne(w.board,s);a?.kind===w.element.kind&&KA(a,"shootx")===-i&&KA(a,"shooty")===-o&&Mn(w.book,w.board,n,{x:s.x+i,y:s.y+o})&&(r=!1)}r&&Mn(w.book,w.board,n,{x:w.element.x+i,y:w.element.y+o})}return 0}).command("shove",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.DIR,F.DIR]),r=ne(w.board,t.destpt);if(Me(r)){const s=t.destpt.x+(n.destpt.x-n.startpt.x),i=t.destpt.y+(n.destpt.y-n.startpt.y);Mn(w.book,w.board,r,{x:s,y:i})}return 0}).command("push",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.DIR,F.DIR]),r=ne(w.board,t.destpt);if(Me(r)&&KA(r,"pushable")){const s=t.destpt.x+(n.destpt.x-n.startpt.x),i=t.destpt.y+(n.destpt.y-n.startpt.y);Mn(w.book,w.board,r,{x:s,y:i})}return 0}).command("duplicate",qu).command("duplicatewith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return qu(A.slice(n),t)}).command("dupe",qu).command("dupewith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return qu(A.slice(n),t)}).command("write",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n,r]=aA(A,0,[F.DIR,F.COLOR]),s=A.slice(r).map(Ye).join(" "),{color:i,bg:o}=io(n),a=g5(s,256,1)?.measuredwidth??1,c=Hk(256,1,i??XA.WHITE,o??XA.BLACK);m5(s,c);const l=a-1;switch(Nn(t.startpt,t.destpt)){case bA.EAST:for(let h=0;h<a;++h)ze(w.board,{x:t.destpt.x+h,y:t.destpt.y,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case bA.WEST:for(let h=0;h<a;++h)ze(w.board,{x:t.destpt.x+h-l,y:t.destpt.y,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case bA.NORTH:for(let h=0;h<a;++h)ze(w.board,{x:t.destpt.x,y:t.destpt.y+h-l,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break;case bA.SOUTH:for(let h=0;h<a;++h)ze(w.board,{x:t.destpt.x,y:t.destpt.y+h,name:"text",char:c.char[h],color:c.color[h],bg:c.bg[h]});break}return 0}).command("change",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.KIND,F.KIND]),[r]=t,[s]=n;if(CA(r)==="player"||CA(s)==="player")return 0;(Xa(t)??"")==="empty"&&N5(w.board).forEach(l=>{Gn(w.board,n,l)});const o=Xa(n),a=Hu(n),c=Wk(n);return Lu(w.board,t).forEach(l=>{if(G(a)&&(l.color=a),G(c)&&(l.bg=c),tt(l).name!==o){const h=KA(l,"color"),f=KA(l,"bg");if(Yt(w.board,l,w.timestamp),o!=="empty"){const m={x:l.x??0,y:l.y??0},d=Gn(w.board,n,m);G(d)&&(d.color=h,d.bg=f)}}}),0}).command("put",(e,A)=>nc(A)).command("putwith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return nc(A.slice(n),void 0,t)}).command("oneof",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return G(w.board)&&Je(w.board,t)?0:nc(A.slice(n),t)}).command("oneofwith",(e,A)=>{const[t,n,r]=aA(A,0,[F.ANY,F.ANY]);return G(w.board)&&Je(w.board,n)?0:nc(A.slice(r),n,t)}).command("shoot",Vu).command("shootwith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return Vu(e,A.slice(n),t)}).command("throwstar",(e,A)=>Vu(e,[...A,"star"])).command("throwstarwith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);return Vu(e,[...A.slice(n),"star"],t)});var V5=`desc;$DKGRAYname and type of codepage
`,q5=Object.freeze({__proto__:null,default:V5}),J5=`desc;$DKGRAYShow admin scroll
`,X5=Object.freeze({__proto__:null,default:J5}),AU=`desc;$DKGRAYCreate array variable
`,eU=Object.freeze({__proto__:null,default:AU}),tU=`desc;$DKGRAYApply autofilter to fx 0-1
`,nU=Object.freeze({__proto__:null,default:tU}),rU=`desc;$DKGRAYAutofilter for fx 0
`,sU=Object.freeze({__proto__:null,default:rU}),iU=`desc;$DKGRAYAutofilter for fx 1
`,oU=Object.freeze({__proto__:null,default:iU}),aU=`desc;$DKGRAYAutofilter for fx 2
`,cU=Object.freeze({__proto__:null,default:aU}),lU=`desc;$DKGRAYApply autowah to fx 0-1
`,uU=Object.freeze({__proto__:null,default:lU}),hU=`desc;$DKGRAYAutowah for fx 0
`,fU=Object.freeze({__proto__:null,default:hU}),dU=`desc;$DKGRAYAutowah for fx 1
`,mU=Object.freeze({__proto__:null,default:dU}),gU=`desc;$DKGRAYAutowah for fx 2
`,pU=Object.freeze({__proto__:null,default:gU}),wU=`desc;$DKGRAYBBS login/publish actions
`,GU=Object.freeze({__proto__:null,default:wU}),xU="desc;$DKGRAYchanges object into specified element",MU=Object.freeze({__proto__:null,default:xU}),bU="desc;$DKGRAYlike #play but for sound effects",yU=Object.freeze({__proto__:null,default:bU}),_U=`desc;$DKGRAYQuantized bgplay on 16n
`,DU=Object.freeze({__proto__:null,default:_U}),BU=`desc;$DKGRAYQuantized bgplay on 1m
`,EU=Object.freeze({__proto__:null,default:BU}),kU=`desc;$DKGRAYQuantized bgplay on 2n
`,vU=Object.freeze({__proto__:null,default:kU}),YU=`desc;$DKGRAYQuantized bgplay on 32n
`,NU=Object.freeze({__proto__:null,default:YU}),ZU=`desc;$DKGRAYQuantized bgplay on 4n
`,OU=Object.freeze({__proto__:null,default:ZU}),TU=`desc;$DKGRAYQuantized bgplay on 64n
`,SU=Object.freeze({__proto__:null,default:TU}),PU=`desc;$DKGRAYQuantized bgplay on 8n
`,jU=Object.freeze({__proto__:null,default:PU}),RU=`desc;$DKGRAYSet bgplay volume
`,IU=Object.freeze({__proto__:null,default:RU}),CU=`desc;$DKGRAYCopy code from named element
`,zU=Object.freeze({__proto__:null,default:CU}),HU=`desc;$DKGRAY
`,LU=Object.freeze({__proto__:null,default:HU}),UU=`desc;$DKGRAYUsed to move player to board
`,$U=Object.freeze({__proto__:null,default:UU}),FU=`desc;$DKGRAYList all boards as goto hyperlinks
`,QU=Object.freeze({__proto__:null,default:FU}),KU=`desc;$DKGRAYExport entire book as JSON (operator only)
`,WU=Object.freeze({__proto__:null,default:KU}),VU=`desc;$DKGRAYShow book export options (operator only)
`,qU=Object.freeze({__proto__:null,default:VU}),JU=`desc;$DKGRAYRename the main book (operator only)
`,XU=Object.freeze({__proto__:null,default:JU}),A$=`desc;$DKGRAYList all books
`,e$=Object.freeze({__proto__:null,default:A$}),t$=`desc;$DKGRAYTrash a book by address (operator only)
`,n$=Object.freeze({__proto__:null,default:t$}),r$=`desc;$DKGRAYSet BPM
`,s$=Object.freeze({__proto__:null,default:r$}),i$=`desc;$DKGRAY
`,o$=Object.freeze({__proto__:null,default:i$}),a$=`desc;$DKGRAYStart/stop stream broadcast (operator only)
`,c$=Object.freeze({__proto__:null,default:a$}),l$=`desc;$DKGRAYCreate new board and write id to stat
`,u$=Object.freeze({__proto__:null,default:l$}),h$=`desc;$DKGRAYChange elements of one kind to another
`,f$=Object.freeze({__proto__:null,default:h$}),d$=`desc;$DKGRAYSet character (self or at direction)
`,m$=Object.freeze({__proto__:null,default:d$}),g$=`desc;$DKGRAY
`,p$=Object.freeze({__proto__:null,default:g$}),w$=`desc;$DKGRAYStart/stop twitch chat integration (operator only)
`,G$=Object.freeze({__proto__:null,default:w$}),x$="desc;$DKGRAYClear variables (set to 0)",M$=Object.freeze({__proto__:null,default:x$}),b$=`desc;$DKGRAYSet color (self or at direction)
`,y$=Object.freeze({__proto__:null,default:b$}),_$=`desc;$DKGRAY
`,D$=Object.freeze({__proto__:null,default:_$}),B$=`desc;$DKGRAYCopy region from source to current board
`,E$=Object.freeze({__proto__:null,default:B$}),k$=`desc;$DKGRAYSet element cycle value (1-255)
`,v$=Object.freeze({__proto__:null,default:k$}),Y$=`desc;$DKGRAYEnter dev mode / halt execution (operator only)
`,N$=Object.freeze({__proto__:null,default:Y$}),Z$=`desc;$DKGRAYDelete element (halt execution unless @isitem)
`,O$=Object.freeze({__proto__:null,default:Z$}),T$=`desc;$DKGRAYApply distortion to fx 0-1
`,S$=Object.freeze({__proto__:null,default:T$}),P$=`desc;$DKGRAYDistortion for fx 0
`,j$=Object.freeze({__proto__:null,default:P$}),R$=`desc;$DKGRAYDistortion for fx 1
`,I$=Object.freeze({__proto__:null,default:R$}),C$=`desc;$DKGRAYDistortion for fx 2
`,z$=Object.freeze({__proto__:null,default:C$}),H$=`desc;$DKGRAYstarts a do-done block
`,L$=Object.freeze({__proto__:null,default:H$}),U$=`desc;$DKGRAYcompletes an if-do-done block
`,$$=Object.freeze({__proto__:null,default:U$}),F$=`desc;$DKGRAYDuplicate element at direction in given direction
`,Q$=Object.freeze({__proto__:null,default:F$}),K$=`desc;$DKGRAYDuplicate element with argument
`,W$=Object.freeze({__proto__:null,default:K$}),V$="desc;$DKGRAYDuplicate element at direction in given direction",q$=Object.freeze({__proto__:null,default:V$}),J$=`desc;$DKGRAYDuplicate element with argument
`,X$=Object.freeze({__proto__:null,default:J$}),AF="desc;$DKGRAYApply echo effect to fx 0-1",eF=Object.freeze({__proto__:null,default:AF}),tF=`desc;$DKGRAYEcho for fx 0
`,nF=Object.freeze({__proto__:null,default:tF}),rF=`desc;$DKGRAYEcho for fx 1
`,sF=Object.freeze({__proto__:null,default:rF}),iF=`desc;$DKGRAYEcho for fx 2
`,oF=Object.freeze({__proto__:null,default:iF}),aF=`desc;$DKGRAYelse logic in an if-do-done block
`,cF=Object.freeze({__proto__:null,default:aF}),lF=`desc;$DKGRAYconditional else logic in an if-do-done block
`,uF=Object.freeze({__proto__:null,default:lF}),hF="desc;$DKGRAYEnd program (optionally set 'arg' variable)",fF=Object.freeze({__proto__:null,default:hF}),dF="desc;$DKGRAYSet health to 0",mF=Object.freeze({__proto__:null,default:dF}),gF=`desc;$DKGRAY
`,pF=Object.freeze({__proto__:null,default:gF}),wF=`desc;$DKGRAYShow export menu (operator only)
`,GF=Object.freeze({__proto__:null,default:wF}),xF=`desc;$DKGRAYApply frequency crush to fx 0-1
`,MF=Object.freeze({__proto__:null,default:xF}),bF=`desc;$DKGRAYFrequency crush for fx 0
`,yF=Object.freeze({__proto__:null,default:bF}),_F=`desc;$DKGRAYFrequency crush for fx 1
`,DF=Object.freeze({__proto__:null,default:_F}),BF=`desc;$DKGRAYFrequency crush for fx 2
`,EF=Object.freeze({__proto__:null,default:BF}),kF=`desc;$DKGRAYFetch URL with label, method, and optional data
`,vF=Object.freeze({__proto__:null,default:kF}),YF=`desc;$DKGRAYFetch URL with argument, label, method, and optional data
`,NF=Object.freeze({__proto__:null,default:YF}),ZF=`desc;$DKGRAYHighlight matched elements
`,OF=Object.freeze({__proto__:null,default:ZF}),TF=`desc;$DKGRAY
`,SF=Object.freeze({__proto__:null,default:TF}),PF=`desc;$DKGRAYOpen tab with copy of state (operator only)
`,jF=Object.freeze({__proto__:null,default:PF}),RF=`desc;$DKGRAYToggle built-in inspector
`,IF=Object.freeze({__proto__:null,default:RF}),CF=`desc;$DKGRAYMove element in direction
`,zF=Object.freeze({__proto__:null,default:CF}),HF=`desc;$DKGRAYTeleport player to board by stat with optional x, y
`,LF=Object.freeze({__proto__:null,default:HF}),UF=`desc;$DKGRAYShow help scroll
`,$F=Object.freeze({__proto__:null,default:UF}),FF=`desc;$DKGRAYhyperlink
`,QF=Object.freeze({__proto__:null,default:FF}),KF=`desc;$DKGRAYYield execution until next tick
`,WF=Object.freeze({__proto__:null,default:KF}),VF=`desc;$DKGRAYevals condition for true or false
`,qF=Object.freeze({__proto__:null,default:VF}),JF=`desc;$DKGRAYExport zip file for itch.io (operator only)
`,XF=Object.freeze({__proto__:null,default:JF}),A7=`desc;$DKGRAYStart multiplayer session (operator only)
`,e7=Object.freeze({__proto__:null,default:A7}),t7=`desc;$DKGRAYOpen new tab with the join url (operator only)
`,n7=Object.freeze({__proto__:null,default:t7}),r7=`desc;$DKGRAYLoad code from object codepage into object at given direction
`,s7=Object.freeze({__proto__:null,default:r7}),i7=`desc;$DKGRAYLock against external messages
`,o7=Object.freeze({__proto__:null,default:i7}),a7=`desc;$DKGRAYDoes a countdown and reloads into an empty state (operator only)
`,c7=Object.freeze({__proto__:null,default:a7}),l7=`desc;$DKGRAYUses given id to ensure only one element of given kind is made
`,u7=Object.freeze({__proto__:null,default:l7}),h7=`desc;$DKGRAYPut element with argument and oneof logic
`,f7=Object.freeze({__proto__:null,default:h7}),d7=`desc;$DKGRAYExport code page as JSON (operator only)
`,m7=Object.freeze({__proto__:null,default:d7}),g7=`desc;$DKGRAYOpen a code page editor
`,p7=Object.freeze({__proto__:null,default:g7}),w7=`desc;$DKGRAYList all pages in main book
`,G7=Object.freeze({__proto__:null,default:w7}),x7=`desc;$DKGRAYTrash a code page (operator only)
`,M7=Object.freeze({__proto__:null,default:x7}),b7=`desc;$DKGRAY
`,y7=Object.freeze({__proto__:null,default:b7}),_7=`desc;$DKGRAYRotate board elements by degrees
`,D7=Object.freeze({__proto__:null,default:_7}),B7="desc;$DKGRAYPlay music notes",E7=Object.freeze({__proto__:null,default:B7}),k7=`desc;$DKGRAYShove target object in direction ONLY if pushable
`,v7=Object.freeze({__proto__:null,default:k7}),Y7="desc;$DKGRAYPut element in direction",N7=Object.freeze({__proto__:null,default:Y7}),Z7=`desc;$DKGRAYPut element with argument
`,O7=Object.freeze({__proto__:null,default:Z7}),T7=`desc;$DKGRAYRead property from object into variable
`,S7=Object.freeze({__proto__:null,default:T7}),P7=`desc;$DKGRAYParse binary data
`,j7=Object.freeze({__proto__:null,default:P7}),R7=`desc;$DKGRAYParse JSON data
`,I7=Object.freeze({__proto__:null,default:R7}),C7=`desc;$DKGRAYParse text data
`,z7=Object.freeze({__proto__:null,default:C7}),H7=`desc;$DKGRAY
`,L7=Object.freeze({__proto__:null,default:H7}),U7=`desc;$DKGRAYRemix from source with pattern size and mirror to current board
`,$7=Object.freeze({__proto__:null,default:U7}),F7=`desc;$DKGRAY
`,Q7=Object.freeze({__proto__:null,default:F7}),K7=`desc;$DKGRAYRestart software, deletes all chip and player state (operator only)
`,W7=Object.freeze({__proto__:null,default:K7}),V7=`desc;$DKGRAYRestore all labels of given name
`,q7=Object.freeze({__proto__:null,default:V7}),J7=`desc;$DKGRAYApply reverb to fx 0-1
`,X7=Object.freeze({__proto__:null,default:J7}),AQ=`desc;$DKGRAYReverb for fx 0
`,eQ=Object.freeze({__proto__:null,default:AQ}),tQ=`desc;$DKGRAYReverb for fx 1
`,nQ=Object.freeze({__proto__:null,default:tQ}),rQ=`desc;$DKGRAYReverb for fx 2
`,sQ=Object.freeze({__proto__:null,default:rQ}),iQ=`desc;$DKGRAYRevert board to snapshot state
`,oQ=Object.freeze({__proto__:null,default:iQ}),aQ=`desc;$DKGRAYRun object codepage of given name
`,cQ=Object.freeze({__proto__:null,default:aQ}),lQ=`desc;$DKGRAYRun function with argument
`,uQ=Object.freeze({__proto__:null,default:lQ}),hQ=`desc;$DKGRAYSave state to url (operator only)
`,fQ=Object.freeze({__proto__:null,default:hQ}),dQ=`desc;$DKGRAYsend
`,mQ=Object.freeze({__proto__:null,default:dQ}),gQ="desc;$DKGRAYSet variable to value",pQ=Object.freeze({__proto__:null,default:gQ}),wQ=`desc;$DKGRAYget share url (operator only)
`,GQ=Object.freeze({__proto__:null,default:wQ}),xQ=`desc;$DKGRAYShoot projectile, with optional kind
`,MQ=Object.freeze({__proto__:null,default:xQ}),bQ=`desc;$DKGRAYShoot projectile with argument
`,yQ=Object.freeze({__proto__:null,default:bQ}),_Q=`desc;$DKGRAYshortsend
`,DQ=Object.freeze({__proto__:null,default:_Q}),BQ=`desc;$DKGRAYShove target object in direction
`,EQ=Object.freeze({__proto__:null,default:BQ}),kQ=`desc;$DKGRAYCreate board snapshot
`,vQ=Object.freeze({__proto__:null,default:kQ}),YQ=`desc;$DKGRAYstat
`,NQ=Object.freeze({__proto__:null,default:YQ}),ZQ=`desc;$DKGRAYConfigure or restart 8track synth
`,OQ=Object.freeze({__proto__:null,default:ZQ}),TQ=`desc;$DKGRAYConfigure synth voice 1
`,SQ=Object.freeze({__proto__:null,default:TQ}),PQ=`desc;$DKGRAYConfigure synth voice 2
`,jQ=Object.freeze({__proto__:null,default:PQ}),RQ=`desc;$DKGRAYConfigure synth voice 3
`,IQ=Object.freeze({__proto__:null,default:RQ}),CQ=`desc;$DKGRAYConfigure synth voice 4
`,zQ=Object.freeze({__proto__:null,default:CQ}),HQ=`desc;$DKGRAYConfigure bgplay synth (voices 4-8)
`,LQ=Object.freeze({__proto__:null,default:HQ}),UQ=`desc;$DKGRAYClear buffer of played notes
`,$Q=Object.freeze({__proto__:null,default:UQ}),FQ=`desc;$DKGRAYRecord played note buffer to an mp3 file
`,QQ=Object.freeze({__proto__:null,default:FQ}),KQ=`desc;$DKGRAYtext
`,WQ=Object.freeze({__proto__:null,default:KQ}),VQ="desc;$DKGRAYThrow star projectile, shorthand for `#shoot <dir> star`\n",qQ=Object.freeze({__proto__:null,default:VQ}),JQ=`desc;$DKGRAYThrow star with argument
`,XQ=Object.freeze({__proto__:null,default:JQ}),A9=`desc;$DKGRAYSets element ticker text
`,e9=Object.freeze({__proto__:null,default:A9}),t9=`desc;$DKGRAYShow toast notification
`,n9=Object.freeze({__proto__:null,default:t9}),r9=`desc;$DKGRAYMove element across board with transporter logic
`,s9=Object.freeze({__proto__:null,default:r9}),i9=`desc;$DKGRAYList books/codepages to delete (operator only)
`,o9=Object.freeze({__proto__:null,default:i9}),a9=`desc;$DKGRAYSpeak text with voice (or clear queue)
`,c9=Object.freeze({__proto__:null,default:a9}),l9=`desc;$DKGRAYSet TTS engine and config
`,u9=Object.freeze({__proto__:null,default:l9}),h9=`desc;$DKGRAYQueue TTS phrase
`,f9=Object.freeze({__proto__:null,default:h9}),d9=`desc;$DKGRAYSet TTS volume
`,m9=Object.freeze({__proto__:null,default:d9}),g9=`desc;$DKGRAY
`,p9=Object.freeze({__proto__:null,default:g9}),w9=`desc;$DKGRAY
`,G9=Object.freeze({__proto__:null,default:w9}),x9=`desc;$DKGRAYUnlock against messages from others
`,M9=Object.freeze({__proto__:null,default:x9}),b9=`desc;$DKGRAYAutomate user input actions (up/down/left/right/etc)
`,y9=Object.freeze({__proto__:null,default:b9}),_9=`desc;$DKGRAYApply vibrato to fx 0-1
`,D9=Object.freeze({__proto__:null,default:_9}),B9=`desc;$DKGRAYVibrato for fx 0
`,E9=Object.freeze({__proto__:null,default:B9}),k9=`desc;$DKGRAYVibrato for fx 1
`,v9=Object.freeze({__proto__:null,default:k9}),Y9=`desc;$DKGRAYVibrato for fx 2
`,N9=Object.freeze({__proto__:null,default:Y9}),Z9="desc;$DKGRAYSet main volume",O9=Object.freeze({__proto__:null,default:Z9}),T9="desc;$DKGRAY",S9=Object.freeze({__proto__:null,default:T9}),P9="desc;$DKGRAYWill cause element to move in direction each tick",j9=Object.freeze({__proto__:null,default:P9}),R9="desc;$DKGRAYWeave board elements in direction",I9=Object.freeze({__proto__:null,default:R9}),C9="desc;$DKGRAYlooping do-done block",z9=Object.freeze({__proto__:null,default:C9}),H9="desc;$DKGRAYSwitch to target board by id, name, or stat",L9=Object.freeze({__proto__:null,default:H9}),U9="desc;$DKGRAYSwitch to target object id",$9=Object.freeze({__proto__:null,default:U9}),F9="desc;$DKGRAYWrite text to board at direction",Q9=Object.freeze({__proto__:null,default:F9}),K9="desc;$DKGRAYDe-activate first label of given name",W9=Object.freeze({__proto__:null,default:K9}),V9=`desc;$DKGRAYGet random ZZT content
`,q9=Object.freeze({__proto__:null,default:V9}),J9=`desc;$DKGRAYSearch ZZT content by field and text
`,X9=Object.freeze({__proto__:null,default:J9}),AK=`desc;$DKGRAYdesignates an inactive label or comment
`,eK=Object.freeze({__proto__:null,default:AK}),tK=`desc;$DKGRAYadds hyperlink text

`,nK=Object.freeze({__proto__:null,default:tK}),rK=`desc;$DKGRAYsends the given message when hotkey is pressed

`,sK=Object.freeze({__proto__:null,default:rK}),iK=`desc;$DKGRAYread number input into given stat/flag
`,oK=Object.freeze({__proto__:null,default:iK}),aK=`desc;$DKGRAYa slider input from 1 to 9 

`,cK=Object.freeze({__proto__:null,default:aK}),lK=`desc;$DKGRAYlist with label value pairs to pick from
`,uK=Object.freeze({__proto__:null,default:lK}),hK=`desc;$DKGRAYread text input into given stat/flag
`,fK=Object.freeze({__proto__:null,default:hK}),dK=`desc;$DKGRAYdesignates a starting point for running code
`,mK=Object.freeze({__proto__:null,default:dK}),gK=`desc;$DKGRAYwaits until the object can move in the given direction and moves
`,pK=Object.freeze({__proto__:null,default:gK}),wK=`desc;$DKGRAYwill move the object in the given direction
`,GK=Object.freeze({__proto__:null,default:wK}),xK=`desc;$DKGRAYcreates a 60x25 space for terrain and object elements
`,MK=Object.freeze({__proto__:null,default:xK}),bK=`desc;$DKGRAYcustom 8x14 charset
`,yK=Object.freeze({__proto__:null,default:bK}),_K=`desc;$DKGRAYsets stat to given value

`,DK=Object.freeze({__proto__:null,default:_K}),BK=`desc;$DKGRAYsends the given message when hotkey is pressed

`,EK=Object.freeze({__proto__:null,default:BK}),kK=`desc;$DKGRAYread external content and/or handle events
`,vK=Object.freeze({__proto__:null,default:kK}),YK=`desc;$DKGRAYread number input into given stat/flag
`,NK=Object.freeze({__proto__:null,default:YK}),ZK=`desc;$DKGRAYelements that can walk, swim, or be used with #shoot

`,OK=Object.freeze({__proto__:null,default:ZK}),TK=`desc;$DKGRAYcustom palette colors
`,SK=Object.freeze({__proto__:null,default:TK}),PK=`desc;$DKGRAYa slider input from 1 to 9 

`,jK=Object.freeze({__proto__:null,default:PK}),RK=`desc;$DKGRAYlist with label value pairs to pick from
`,IK=Object.freeze({__proto__:null,default:RK}),CK=`desc;$DKGRAYterrain for solid, walkable, swimable board elements
`,zK=Object.freeze({__proto__:null,default:CK}),HK=`desc;$DKGRAYread text input into given stat/flag
`,LK=Object.freeze({__proto__:null,default:HK}),UK=`desc;$DKGRAYadds text
`,$K=Object.freeze({__proto__:null,default:UK}),FK=`$white no pages found
$white use @ to create a page
$white @board name of board
$white @object name of object
$white @terrain name of terrain
$white You can omit the type and it will default to object
$white @object name of object
$white @name of object`,QK=Object.freeze({__proto__:null,default:FK}),KK=`section;legend
s1, s2, s3, s4 = sound sources/operators
m = modulator
c = carrier
--> = signal flow
section;algo0
S1 --> M --> S2 --> M --> S3 --> M --> S4 --> C
`,WK=Object.freeze({__proto__:null,default:KK}),VK=`section;#autofilter on
#autofilter <number>
$white 0-100, 0 is off, 100 is full volume
#autofilter depth <number>
$white Controls the intensity of the filter.
#autofilter frequency <number>
$white The rate of oscilation of the effect.
#autofilter octaves <number>
$white Controls the range of the effect.
#autofilter q <number>
$white Sets the intensity of the effect.
#autofilter type <lowpass, highpass, ...>
$white Sets the behavior of the filter.
!openit https://developer.mozilla.org/en-US/docs/Web/API/BiquadFilterNode/type;filter types`,qK=Object.freeze({__proto__:null,default:VK}),JK=`section;#autowah on
#autowah <number>
$white 0-100, 0 is off, 100 is full volume
#autowah basefrequency <frequency>
$white The frequency the filter is set to at the
$white low point of the wah.
#autowah octaves <number>
$white The number of octaves above the baseFrequency 
$white the filter will sweep to when fully open.
#autowah sensitivity <number>
$white The decibel threshold sensitivity for 
$white the incoming signal.
$white Normal range of -40 to 0.
#autowah gain <number>
$white Controls the loudness of the effect.
#autowah follower <seconds>
$white Sets the smoothing time for the effect.`,XK=Object.freeze({__proto__:null,default:JK}),AW=`press$white C$yellow to chat
press$white #$yellow to run a quick command
section;dev-tools
#gadget
$white toggles inspector tool on/off
#zztrandom
$white downloads random from the museumofzzt api
#zztsearch <field> <value>
$white searches the museumofzzt api for zzt games
section;multi-player
#set user <name>
$white sets your display name when talking to others
#joincode OR $meta+O 
$white starts a multi-player session showing a
$white QR code. It also provides are sharable link
$white you can give to other to join the game.`,eW=Object.freeze({__proto__:null,default:AW}),tW=`section;#distort on
#distort <number>
$white 0-100, 0 is off, 100 is full volume
#distort distortion <number>
$white 0 or higher, controls strength of effect.
#distort oversample <2x|4x|none>
$white oversample improves quality.`,nW=Object.freeze({__proto__:null,default:tW}),rW=`section;#echo on
#echo <number>
$white 0-100, 0 is off, 100 is full volume
#echo delaytime <seconds>
$white duration between echos.
#echo feedback <number>
$white A number that is between [0, 1]
$white 1 is forever feedback and 0 is none.`,sW=Object.freeze({__proto__:null,default:rW}),iW=`!fcrushscroll hk c C next;#fcrush on
!echoscroll hk e E next;#echo on
!reverbscroll hk r R next;#reverb on
!autofilterscroll hk f F next;#autofilter on
!distortscroll hk d D next;#distort on
!vibratoscroll hk v V next;#vibrato on
!autowahscroll hk w W next;#autowah on`,oW=Object.freeze({__proto__:null,default:iW}),aW=`section;#fcrush on
#fcrush <number>
$white 0-100, 0 is off, 100 is full volume
#fcrush rate <number>
$white 1 or higher, more rate, more crush`,cW=Object.freeze({__proto__:null,default:aW}),lW=`section;keyboard input
option;arrow keys;$greenmove
option;shift + arrow keys;$greenshoot
option;enter;$greenok / accept
option;escape;$greencancel / close
option;tab;$greenmenu / layout
section;controller input
option;left stick;$greenmove
option;right stick;$greenshoot
option;left trigger;$greenalt
option;right trigger;$green$meta
option;left shoulder;$greencancel / close
option;right shoulder;$greenok / accept
option;d-pad;$greenmove
option;a X;$greenshoot down
option;b $9;$greenshoot right
option;x $254;$greenshoot left
option;y $30;$greenshoot up
option;menu;$greenmenu / change layout
`,uW=Object.freeze({__proto__:null,default:lW}),hW=`option;#books;list books in memory
option;#pages;list pages in opened book
option;@[pagetype:]page name;create & edit a new codepage in the currently opened book
option;#trash;list books and pages from open book you can delete
option;#save;flush state to register
option;#share;creates a click to copy share url and QR code
`,fW=Object.freeze({__proto__:null,default:hW}),dW=`!helpcontrols hk c C next;read help on controls
!helptext hk t T next;read help on text and inputs
"
keyboard input
option;? or /;$greenopen cli
option;esc;$greenclose cli, scroll, or editor
option;tab;$greenchange layout
option;up or down arrow keys;$greennavigate cli lines
option;left or right arrow keys;$greenchange cli lines
option;enter;$greenaction on selected line
option;alt + arrow keys;$greenskip words and cli lines
option;$meta + up / down arrow keys;$greeninput history`,mW=Object.freeze({__proto__:null,default:dW}),gW=`player settings
$white#set user "name goes here"
`,pW=Object.freeze({__proto__:null,default:gW}),wW=`section;typography
plain text
use $34@quoted strings for special chars$34
$$0-255 for ascii chars $159$176$240
use color names like $RED$$red$yellow to change
 foreground color
use color names like $black$ONGREEN$$ongreen$ONCLEAR$yellow to change
 background color
use onclear $WHITE$$onclear$yellow to change
 background to transparent
section;hyperlinks
"
option;!message$59 Label;
send the given #message when the
<hyperlink> is pressed
"
option;!message hotkey <shortcut>$59 Label;
option;!message hk <shortcut>$59 Label;
send the given #message when the <shortcut>
is pressed. is-hotkey listens for <shortcut>
!openit https://github.com/ianstormtaylor/is-hotkey;$whiteis-hotkey on https://github.com/
"
option;!flagorstat range [minword] [maxword]$59 Label;
option;!flagorstat rn [minword] [maxword]$59 Label;
uses the standard 1 to 9 values input range
[minword] is the label for value 1
[maxword] is the label for value 9
write user range input into a flagorstat
"
option;!flagorstat select <choices>$59 Label;
option;!flagorstat sl <choices>$59 Label;
<choices> is a list of <word> <value> pairs
select gives a user a way to cycle through
preset choices
write user select input into a flagorstat
"
option;!flagorstat number$59 Label;
option;!flagorstat nm$59 Label;
write user number input into a flagorstat
"
option;!flagorstat text$59 Label;
option;!flagorstat tx$59 Label;
write user text input into a flagorstat
"
option;!copyit content goes here$59 Label;
copies given content into the clipboard
"
option;!openit url$59 Label;
opens the given url in a new browser tab
"
option;!runit content goes here$59 Label;
opens the cli, with the input filled out with 
the given content`,GW=Object.freeze({__proto__:null,default:wW}),xW=`!helpmenu hk 1 1 next;controls and $greenstart here
!objectlistscroll hk 2 2 next;list object elements
!terrainlistscroll hk 3 3 next;list terrain elements
!adminscroll hk 4 4 next;cpu #admin
!cliscroll hk t T next;cli commands
!dictionary hk d D next;dictionary of commands
!charscroll hk a A next;char
!colorscroll hk c C next;color
!bgscroll hk b B next;bg
!notesscroll hk n N next;notes
!synthscroll hk s S next;synth
!effectsscroll hk e E next;effects
!voicescroll hk v V next;tts voices
`,MW=Object.freeze({__proto__:null,default:xW}),bW=`"duration             cdefgab = notes 
"y = 64th note        x = rest
"t = 32nd note        
"s = 16th note        drums
"i = eight note       0 = hihat
"q = quarter note     1 = open hihat
"h = half note        2 = cowbell
"w = whole note       p = clap
"mods                 4 = high snare
"3 = triplet          5 = high woodblock
". = time and a half  6 = low snare
"# = sharp            7 = low tom
"! = flat             8 = low woodblock
"+ = increase octave  9 = bass drum
"- = decrease octave
helpful resource on scales
!openit https://www.pianoscales.org/;https://www.pianoscales.org/`,yW=Object.freeze({__proto__:null,default:bW}),_W=`section;sine, square, triangle, sawtooth
#synth phase <degrees>
$white The phase is the starting position within 
$white the oscillator's cycle. For example a phase 
$white of 180 would start halfway through the
$white oscillator's cycle.
section;amsine, amsquare, amtriangle, amsawtooth
#synth harmonicity <number>
$white Harmonicity is the frequency ratio between 
$white the carrier and the modulator oscillators.
$white A harmonicity of 1 gives both oscillators 
$white the same frequency. Harmonicity = 2 
$white means a change of an octave.
#synth modtype <sine, square, triangle, sawtooth>
#synth modenv <a> <d> <s> <r> - in seconds
section;fmsine, fmsquare, fmtriangle, fmsawtooth
#synth harmonicity <number>
$white Harmonicity is the frequency ratio between 
$white the carrier and the modulator oscillators.
$white A harmonicity of 1 gives both oscillators 
$white the same frequency. Harmonicity = 2 
$white means a change of an octave.
#synth modtype <sine, square, triangle, sawtooth>
#synth modenv <a> <d> <s> <r> - in seconds
#synth modindex <degrees>
$white The modulation index which is in essence
$white the depth or amount of the modulation.
$white In other terms it is the ratio of the 
$white frequency of the modulating signal (mf) 
$white to the amplitude of the modulating signal 
$white (ma) -- as in ma/mf
section;fatsine, fatsquare, fattriangle, fatsawtooth
#synth phase <degrees>
#synth count <number>
$white This sets the number of oscillators to 
$white spread along the given range.
#synth spread <cents>
$white This signals the number of cents between
$white oscillators.`,DW=Object.freeze({__proto__:null,default:_W}),BW=`section;pulse
#synth width <range>
$white A number that is between [-1, 1] altering
$white this value changes the shape of the square
$white wave`,EW=Object.freeze({__proto__:null,default:BW}),kW=`section;pwm
#synth modfreq <frequency>
$white This sets the frequency of change for the 
$white pulse width of this oscillator.`,vW=Object.freeze({__proto__:null,default:kW}),YW=`section;#reverb on
#reverb <number>
$white 0-100, 0 is off, 100 is full volume
#reverb predelay <seconds>
$white The amount of time before the reverb
$white is fully ramped in.
#reverb decay <seconds>
$white The duration of the reverb.
`,NW=Object.freeze({__proto__:null,default:YW}),ZW=`switching voices
#synth <sine, square, triangle, sawtooth> 
#synth <pwm, pulse, bells, doot>
#synth <retro, buzz, clang, metallic>
#synth <retro, buzz, clang, metallic>
#synth <algo0, algo1, ... ,algo7> 
voice settings
#synth restart - resets voice to default
#synth vol <db> - control volume
#synth port <seconds>
#synth env <attack> <delay> <sustain> <release>
voice specific 
!oscscroll hk o O next;sine, square, triangle, sawtooth
!pwmscroll hk m M next;pwm
!pulsescroll hk p P next;pulse
!algoscroll hk a A next;algo0 -> algo7
`,OW=Object.freeze({__proto__:null,default:ZW}),TW=`section;#vibrato on
#vibrato <number>
$white 0-100, 0 is off, 100 is full volume
#vibrato maxdelay <seconds>
$white longer delay increases the vibrato`,SW=Object.freeze({__proto__:null,default:TW}),PW=`update this to explain

#tts
#ttsqueue
#ttsengine
`,jW=Object.freeze({__proto__:null,default:PW}),Mi=(e=>(e[e.Border=-1]="Border",e[e.Data=0]="Data",e[e.Function=1]="Function",e[e.Position=2]="Position",e[e.Timing=3]="Timing",e[e.Alignment=4]="Alignment",e))(Mi||{}),RW=Object.defineProperty,IW=(e,A,t)=>A in e?RW(e,A,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[A]=t,Ju=(e,A,t)=>(IW(e,typeof A!="symbol"?A+"":A,t),t);const CW=[0,1],uv=[1,0],hv=[2,3],fv=[3,2],zW={L:CW,M:uv,Q:hv,H:fv},HW=/^[0-9]*$/,LW=/^[A-Z0-9 $%*+.\/:-]*$/,Np="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Zp=1,Op=40,dv=3,UW=3,Xu=40,$W=10,mv=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],gv=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]];class FW{constructor(A,t,n,r){if(this.version=A,this.ecc=t,Ju(this,"size"),Ju(this,"mask"),Ju(this,"modules",[]),Ju(this,"types",[]),A<Zp||A>Op)throw new RangeError("Version value out of range");if(r<-1||r>7)throw new RangeError("Mask value out of range");this.size=A*4+17;const s=Array.from({length:this.size},()=>!1);for(let o=0;o<this.size;o++)this.modules.push(s.slice()),this.types.push(s.map(()=>0));this.drawFunctionPatterns();const i=this.addEccAndInterleave(n);if(this.drawCodewords(i),r===-1){let o=1e9;for(let a=0;a<8;a++){this.applyMask(a),this.drawFormatBits(a);const c=this.getPenaltyScore();c<o&&(r=a,o=c),this.applyMask(a)}}this.mask=r,this.applyMask(r),this.drawFormatBits(r)}getModule(A,t){return A>=0&&A<this.size&&t>=0&&t<this.size&&this.modules[t][A]}drawFunctionPatterns(){for(let n=0;n<this.size;n++)this.setFunctionModule(6,n,n%2===0,Mi.Timing),this.setFunctionModule(n,6,n%2===0,Mi.Timing);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const A=this.getAlignmentPatternPositions(),t=A.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)n===0&&r===0||n===0&&r===t-1||n===t-1&&r===0||this.drawAlignmentPattern(A[n],A[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(A){const t=this.ecc[1]<<3|A;let n=t;for(let s=0;s<10;s++)n=n<<1^(n>>>9)*1335;const r=(t<<10|n)^21522;for(let s=0;s<=5;s++)this.setFunctionModule(8,s,es(r,s));this.setFunctionModule(8,7,es(r,6)),this.setFunctionModule(8,8,es(r,7)),this.setFunctionModule(7,8,es(r,8));for(let s=9;s<15;s++)this.setFunctionModule(14-s,8,es(r,s));for(let s=0;s<8;s++)this.setFunctionModule(this.size-1-s,8,es(r,s));for(let s=8;s<15;s++)this.setFunctionModule(8,this.size-15+s,es(r,s));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let A=this.version;for(let n=0;n<12;n++)A=A<<1^(A>>>11)*7973;const t=this.version<<12|A;for(let n=0;n<18;n++){const r=es(t,n),s=this.size-11+n%3,i=Math.floor(n/3);this.setFunctionModule(s,i,r),this.setFunctionModule(i,s,r)}}drawFinderPattern(A,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){const s=Math.max(Math.abs(r),Math.abs(n)),i=A+r,o=t+n;i>=0&&i<this.size&&o>=0&&o<this.size&&this.setFunctionModule(i,o,s!==2&&s!==4,Mi.Position)}}drawAlignmentPattern(A,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(A+r,t+n,Math.max(Math.abs(r),Math.abs(n))!==1,Mi.Alignment)}setFunctionModule(A,t,n,r=Mi.Function){this.modules[t][A]=n,this.types[t][A]=r}addEccAndInterleave(A){const t=this.version,n=this.ecc;if(A.length!==Ah(t,n))throw new RangeError("Invalid argument");const r=gv[n[0]][t],s=mv[n[0]][t],i=Math.floor(Sp(t)/8),o=r-i%r,a=Math.floor(i/r),c=[],l=eV(s);for(let h=0,f=0;h<r;h++){const m=A.slice(f,f+a-s+(h<o?0:1));f+=m.length;const d=tV(m,l);h<o&&m.push(0),c.push(m.concat(d))}const u=[];for(let h=0;h<c[0].length;h++)c.forEach((f,m)=>{(h!==a-s||m>=o)&&u.push(f[h])});return u}drawCodewords(A){if(A.length!==Math.floor(Sp(this.version)/8))throw new RangeError("Invalid argument");let t=0;for(let n=this.size-1;n>=1;n-=2){n===6&&(n=5);for(let r=0;r<this.size;r++)for(let s=0;s<2;s++){const i=n-s,a=(n+1&2)===0?this.size-1-r:r;!this.types[a][i]&&t<A.length*8&&(this.modules[a][i]=es(A[t>>>3],7-(t&7)),t++)}}}applyMask(A){if(A<0||A>7)throw new RangeError("Mask value out of range");for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(A){case 0:r=(n+t)%2===0;break;case 1:r=t%2===0;break;case 2:r=n%3===0;break;case 3:r=(n+t)%3===0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2===0;break;case 5:r=n*t%2+n*t%3===0;break;case 6:r=(n*t%2+n*t%3)%2===0;break;case 7:r=((n+t)%2+n*t%3)%2===0;break;default:throw new Error("Unreachable")}!this.types[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let A=0;for(let s=0;s<this.size;s++){let i=!1,o=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[s][c]===i?(o++,o===5?A+=dv:o>5&&A++):(this.finderPenaltyAddHistory(o,a),i||(A+=this.finderPenaltyCountPatterns(a)*Xu),i=this.modules[s][c],o=1);A+=this.finderPenaltyTerminateAndCount(i,o,a)*Xu}for(let s=0;s<this.size;s++){let i=!1,o=0;const a=[0,0,0,0,0,0,0];for(let c=0;c<this.size;c++)this.modules[c][s]===i?(o++,o===5?A+=dv:o>5&&A++):(this.finderPenaltyAddHistory(o,a),i||(A+=this.finderPenaltyCountPatterns(a)*Xu),i=this.modules[c][s],o=1);A+=this.finderPenaltyTerminateAndCount(i,o,a)*Xu}for(let s=0;s<this.size-1;s++)for(let i=0;i<this.size-1;i++){const o=this.modules[s][i];o===this.modules[s][i+1]&&o===this.modules[s+1][i]&&o===this.modules[s+1][i+1]&&(A+=UW)}let t=0;for(const s of this.modules)t=s.reduce((i,o)=>i+(o?1:0),t);const n=this.size*this.size,r=Math.ceil(Math.abs(t*20-n*10)/n)-1;return A+=r*$W,A}getAlignmentPatternPositions(){if(this.version===1)return[];{const A=Math.floor(this.version/7)+2,t=this.version===32?26:Math.ceil((this.version*4+4)/(A*2-2))*2,n=[6];for(let r=this.size-7;n.length<A;r-=t)n.splice(1,0,r);return n}}finderPenaltyCountPatterns(A){const t=A[1],n=t>0&&A[2]===t&&A[3]===t*3&&A[4]===t&&A[5]===t;return(n&&A[0]>=t*4&&A[6]>=t?1:0)+(n&&A[6]>=t*4&&A[0]>=t?1:0)}finderPenaltyTerminateAndCount(A,t,n){return A&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(A,t){t[0]===0&&(A+=this.size),t.pop(),t.unshift(A)}}function As(e,A,t){if(A<0||A>31||e>>>A)throw new RangeError("Value out of range");for(let n=A-1;n>=0;n--)t.push(e>>>n&1)}function es(e,A){return(e>>>A&1)!==0}class Tp{constructor(A,t,n){if(this.mode=A,this.numChars=t,this.bitData=n,t<0)throw new RangeError("Invalid argument");this.bitData=n.slice()}getData(){return this.bitData.slice()}}const QW=[1,10,12,14],KW=[2,9,11,13],WW=[4,8,16,16];function pv(e,A){return e[Math.floor((A+7)/17)+1]}function wv(e){const A=[];for(const t of e)As(t,8,A);return new Tp(WW,e.length,A)}function VW(e){if(!Gv(e))throw new RangeError("String contains non-numeric characters");const A=[];for(let t=0;t<e.length;){const n=Math.min(e.length-t,3);As(Number.parseInt(e.substring(t,t+n),10),n*3+1,A),t+=n}return new Tp(QW,e.length,A)}function qW(e){if(!xv(e))throw new RangeError("String contains unencodable characters in alphanumeric mode");const A=[];let t;for(t=0;t+2<=e.length;t+=2){let n=Np.indexOf(e.charAt(t))*45;n+=Np.indexOf(e.charAt(t+1)),As(n,11,A)}return t<e.length&&As(Np.indexOf(e.charAt(t)),6,A),new Tp(KW,e.length,A)}function JW(e){return e===""?[]:Gv(e)?[VW(e)]:xv(e)?[qW(e)]:[wv(AV(e))]}function Gv(e){return HW.test(e)}function xv(e){return LW.test(e)}function XW(e,A){let t=0;for(const n of e){const r=pv(n.mode,A);if(n.numChars>=1<<r)return Number.POSITIVE_INFINITY;t+=4+r+n.bitData.length}return t}function AV(e){e=encodeURI(e);const A=[];for(let t=0;t<e.length;t++)e.charAt(t)!=="%"?A.push(e.charCodeAt(t)):(A.push(Number.parseInt(e.substring(t+1,t+3),16)),t+=2);return A}function Sp(e){if(e<Zp||e>Op)throw new RangeError("Version number out of range");let A=(16*e+128)*e+64;if(e>=2){const t=Math.floor(e/7)+2;A-=(25*t-10)*t-55,e>=7&&(A-=36)}return A}function Ah(e,A){return Math.floor(Sp(e)/8)-mv[A[0]][e]*gv[A[0]][e]}function eV(e){if(e<1||e>255)throw new RangeError("Degree out of range");const A=[];for(let n=0;n<e-1;n++)A.push(0);A.push(1);let t=1;for(let n=0;n<e;n++){for(let r=0;r<A.length;r++)A[r]=Pp(A[r],t),r+1<A.length&&(A[r]^=A[r+1]);t=Pp(t,2)}return A}function tV(e,A){const t=A.map(n=>0);for(const n of e){const r=n^t.shift();t.push(0),A.forEach((s,i)=>t[i]^=Pp(s,r))}return t}function Pp(e,A){if(e>>>8||A>>>8)throw new RangeError("Byte out of range");let t=0;for(let n=7;n>=0;n--)t=t<<1^(t>>>7)*285,t^=(A>>>n&1)*e;return t}function nV(e,A,t=1,n=40,r=-1,s=!0){if(!(Zp<=t&&t<=n&&n<=Op)||r<-1||r>7)throw new RangeError("Invalid value");let i,o;for(i=t;;i++){const u=Ah(i,A)*8,h=XW(e,i);if(h<=u){o=h;break}if(i>=n)throw new RangeError("Data too long")}for(const u of[uv,hv,fv])s&&o<=Ah(i,u)*8&&(A=u);const a=[];for(const u of e){As(u.mode[0],4,a),As(u.numChars,pv(u.mode,i),a);for(const h of u.getData())a.push(h)}const c=Ah(i,A)*8;As(0,Math.min(4,c-a.length),a),As(0,(8-a.length%8)%8,a);for(let u=236;a.length<c;u^=253)As(u,8,a);const l=Array.from({length:Math.ceil(a.length/8)},()=>0);return a.forEach((u,h)=>l[h>>>3]|=u<<7-(h&7)),new FW(i,A,l,r)}function rV(e,A){const{ecc:t="L",boostEcc:n=!1,minVersion:r=1,maxVersion:s=40,maskPattern:i=-1,border:o=1}=A||{},a=typeof e=="string"?JW(e):Array.isArray(e)?[wv(e)]:void 0;if(!a)throw new Error(`uqr only supports encoding string and binary data, but got: ${typeof e}`);const c=nV(a,zW[t],r,s,i,n),l=sV({version:c.version,maskPattern:c.mask,size:c.size,data:c.modules,types:c.types},o);return A?.invert&&(l.data=l.data.map(u=>u.map(h=>!h))),A?.onEncoded?.(l),l}function sV(e,A=1){if(!A)return e;const{size:t}=e,n=t+A*2;e.size=n,e.data.forEach(s=>{for(let i=0;i<A;i++)s.unshift(!1),s.push(!1)});for(let s=0;s<A;s++)e.data.unshift(Array.from({length:n},i=>!1)),e.data.push(Array.from({length:n},i=>!1));const r=Mi.Border;e.types.forEach(s=>{for(let i=0;i<A;i++)s.unshift(r),s.push(r)});for(let s=0;s<A;s++)e.types.unshift(Array.from({length:n},i=>r)),e.types.push(Array.from({length:n},i=>r));return e}function iV(e,A,t,n=!1){return A<0||t<0||A>=e.length||t>=e.length?n:e[t][A]}function oV(e,A={}){const t={WHITE_ALL:"",WHITE_BLACK:"",BLACK_WHITE:"",BLACK_ALL:" "},n=rV(e,A),r=!1,s=!0,i=(c,l)=>iV(n.data,c,l,!0),o=[];let a="";for(let c=0;c<n.size;c+=2){for(let l=0;l<n.size;l++)i(l,c)===r&&i(l,c+1)===r?a+=t.WHITE_ALL:i(l,c)===r&&i(l,c+1)===s?a+=t.WHITE_BLACK:i(l,c)===s&&i(l,c+1)===r?a+=t.BLACK_WHITE:a+=t.BLACK_ALL;o.push(a),a=""}return o.join(`
`)}function Mv(e){const A=[],t=oV(e).split(`
`),n={32:32,9600:223,9604:220,9608:219};for(let r=0;r<t.length;r++){const s=[...t[r]].map(i=>`$${n[i.charCodeAt(0)]}`).join("");A.push(s)}return A}const bi="$dkpurple",aV="$196",cV="$205",ke="$yellow$205$205$205$196";function me(e,A,t){st(e,A,t)}function lV(e,A,t){const n=aV.repeat(t);me(e,A,`${bi}${n}`)}function jp(e,A,t){const n=cV.repeat(t);me(e,A,`${bi}${n}`)}function eh(e,A,t){lV(e,A,t.length+2),me(e,A,`${bi} $white${t} `),jp(e,A,t.length+2)}function yi(e,A,t){me(e,A,`${bi} ${" ".repeat(t.length)} `),me(e,A,`${bi} $gray${t} `),jp(e,A,t.length+2)}function Es(e,A,t,n){me(e,A,`${bi} $white${t} $blue${n}`)}function rt(e,A,t){me(e,A,`${bi}$blue${t}`)}function uV(e,A,t,n){me(e,A,`!${t};${n}`)}function hV(e,A,t){const n=Mv(t);for(let r=0;r<n.length;r++)me(e,A,n[r])}function fV(e,A,t,n,r=!0){r&&(hV(e,A,t),setTimeout(()=>H4(e,A),200)),me(e,A,`!copyit ${t};${n}`)}function dV(e,A,t,n){me(e,A,`!openit ${t};${n}`)}const bv=Object.assign({"./editor/codepagename.txt":q5,"./editor/command/admin.txt":X5,"./editor/command/array.txt":eU,"./editor/command/autofilter.txt":nU,"./editor/command/autofilter1.txt":sU,"./editor/command/autofilter2.txt":oU,"./editor/command/autofilter3.txt":cU,"./editor/command/autowah.txt":uU,"./editor/command/autowah1.txt":fU,"./editor/command/autowah2.txt":mU,"./editor/command/autowah3.txt":pU,"./editor/command/bbs.txt":GU,"./editor/command/become.txt":MU,"./editor/command/bgplay.txt":yU,"./editor/command/bgplayon16n.txt":DU,"./editor/command/bgplayon1n.txt":EU,"./editor/command/bgplayon2n.txt":vU,"./editor/command/bgplayon32n.txt":NU,"./editor/command/bgplayon4n.txt":OU,"./editor/command/bgplayon64n.txt":SU,"./editor/command/bgplayon8n.txt":jU,"./editor/command/bgvol.txt":IU,"./editor/command/bind.txt":zU,"./editor/command/board.txt":LU,"./editor/command/boardopen.txt":$U,"./editor/command/boards.txt":QU,"./editor/command/bookallexport.txt":WU,"./editor/command/bookexport.txt":qU,"./editor/command/bookrename.txt":XU,"./editor/command/books.txt":e$,"./editor/command/booktrash.txt":n$,"./editor/command/bpm.txt":s$,"./editor/command/break.txt":o$,"./editor/command/broadcast.txt":c$,"./editor/command/build.txt":u$,"./editor/command/change.txt":f$,"./editor/command/char.txt":m$,"./editor/command/charset.txt":p$,"./editor/command/chat.txt":G$,"./editor/command/clear.txt":M$,"./editor/command/color.txt":y$,"./editor/command/continue.txt":D$,"./editor/command/copy.txt":E$,"./editor/command/cycle.txt":v$,"./editor/command/dev.txt":N$,"./editor/command/die.txt":O$,"./editor/command/distort.txt":S$,"./editor/command/distort1.txt":j$,"./editor/command/distort2.txt":I$,"./editor/command/distort3.txt":z$,"./editor/command/do.txt":L$,"./editor/command/done.txt":$$,"./editor/command/dupe.txt":Q$,"./editor/command/dupewith.txt":W$,"./editor/command/duplicate.txt":q$,"./editor/command/duplicatewith.txt":X$,"./editor/command/echo.txt":eF,"./editor/command/echo1.txt":nF,"./editor/command/echo2.txt":sF,"./editor/command/echo3.txt":oF,"./editor/command/else.txt":cF,"./editor/command/elseif.txt":uF,"./editor/command/end.txt":fF,"./editor/command/endgame.txt":mF,"./editor/command/endwith.txt":pF,"./editor/command/export.txt":GF,"./editor/command/fcrush.txt":MF,"./editor/command/fcrush1.txt":yF,"./editor/command/fcrush2.txt":DF,"./editor/command/fcrush3.txt":EF,"./editor/command/fetch.txt":vF,"./editor/command/fetchwith.txt":NF,"./editor/command/findany.txt":OF,"./editor/command/foreach.txt":SF,"./editor/command/fork.txt":jF,"./editor/command/gadget.txt":IF,"./editor/command/go.txt":zF,"./editor/command/goto.txt":LF,"./editor/command/help.txt":$F,"./editor/command/hyperlink.txt":QF,"./editor/command/idle.txt":WF,"./editor/command/if.txt":qF,"./editor/command/itchiopublish.txt":XF,"./editor/command/joincode.txt":e7,"./editor/command/jointab.txt":n7,"./editor/command/load.txt":s7,"./editor/command/lock.txt":o7,"./editor/command/nuke.txt":c7,"./editor/command/oneof.txt":u7,"./editor/command/oneofwith.txt":f7,"./editor/command/pageexport.txt":m7,"./editor/command/pageopen.txt":p7,"./editor/command/pages.txt":G7,"./editor/command/pagetrash.txt":M7,"./editor/command/palette.txt":y7,"./editor/command/pivot.txt":D7,"./editor/command/play.txt":E7,"./editor/command/push.txt":v7,"./editor/command/put.txt":N7,"./editor/command/putwith.txt":O7,"./editor/command/read.txt":S7,"./editor/command/readbin.txt":j7,"./editor/command/readjson.txt":I7,"./editor/command/readline.txt":z7,"./editor/command/readrexpaint.txt":L7,"./editor/command/remix.txt":$7,"./editor/command/repeat.txt":Q7,"./editor/command/restart.txt":W7,"./editor/command/restore.txt":q7,"./editor/command/reverb.txt":X7,"./editor/command/reverb1.txt":eQ,"./editor/command/reverb2.txt":nQ,"./editor/command/reverb3.txt":sQ,"./editor/command/revert.txt":oQ,"./editor/command/run.txt":cQ,"./editor/command/runwith.txt":uQ,"./editor/command/save.txt":fQ,"./editor/command/send.txt":mQ,"./editor/command/set.txt":pQ,"./editor/command/share.txt":GQ,"./editor/command/shoot.txt":MQ,"./editor/command/shootwith.txt":yQ,"./editor/command/shortsend.txt":DQ,"./editor/command/shove.txt":EQ,"./editor/command/snapshot.txt":vQ,"./editor/command/stat.txt":NQ,"./editor/command/synth.txt":OQ,"./editor/command/synth1.txt":SQ,"./editor/command/synth2.txt":jQ,"./editor/command/synth3.txt":IQ,"./editor/command/synth4.txt":zQ,"./editor/command/synth5.txt":LQ,"./editor/command/synthflush.txt":$Q,"./editor/command/synthrecord.txt":QQ,"./editor/command/text.txt":WQ,"./editor/command/throwstar.txt":qQ,"./editor/command/throwstarwith.txt":XQ,"./editor/command/ticker.txt":e9,"./editor/command/toast.txt":n9,"./editor/command/transport.txt":s9,"./editor/command/trash.txt":o9,"./editor/command/tts.txt":c9,"./editor/command/ttsengine.txt":u9,"./editor/command/ttsqueue.txt":f9,"./editor/command/ttsvol.txt":m9,"./editor/command/twitchbroadcast.txt":p9,"./editor/command/twitchchat.txt":G9,"./editor/command/unlock.txt":M9,"./editor/command/userinput.txt":y9,"./editor/command/vibrato.txt":D9,"./editor/command/vibrato1.txt":E9,"./editor/command/vibrato2.txt":v9,"./editor/command/vibrato3.txt":N9,"./editor/command/vol.txt":O9,"./editor/command/waitfor.txt":S9,"./editor/command/walk.txt":j9,"./editor/command/weave.txt":I9,"./editor/command/while.txt":z9,"./editor/command/withboard.txt":L9,"./editor/command/withobject.txt":$9,"./editor/command/write.txt":Q9,"./editor/command/zap.txt":W9,"./editor/command/zztrandom.txt":q9,"./editor/command/zztsearch.txt":X9,"./editor/comment.txt":eK,"./editor/hyperlink.txt":nK,"./editor/hyperlink/hotkey.txt":sK,"./editor/hyperlink/number.txt":oK,"./editor/hyperlink/range.txt":cK,"./editor/hyperlink/select.txt":uK,"./editor/hyperlink/text.txt":fK,"./editor/label.txt":mK,"./editor/shortgo.txt":pK,"./editor/shorttry.txt":GK,"./editor/stat/board.txt":MK,"./editor/stat/charset.txt":yK,"./editor/stat/const.txt":DK,"./editor/stat/hotkey.txt":EK,"./editor/stat/loader.txt":vK,"./editor/stat/number.txt":NK,"./editor/stat/object.txt":OK,"./editor/stat/palette.txt":SK,"./editor/stat/range.txt":jK,"./editor/stat/select.txt":IK,"./editor/stat/terrain.txt":zK,"./editor/stat/text.txt":LK,"./editor/text.txt":$K,"./help/nopages.txt":QK,"./refscroll/algoscroll.txt":WK,"./refscroll/autofilterscroll.txt":qK,"./refscroll/autowahscroll.txt":XK,"./refscroll/cliscroll.txt":eW,"./refscroll/distortscroll.txt":nW,"./refscroll/echoscroll.txt":sW,"./refscroll/effectsscroll.txt":oW,"./refscroll/fcrushscroll.txt":cW,"./refscroll/helpcontrols.txt":uW,"./refscroll/helpdeveloper.txt":fW,"./refscroll/helpmenu.txt":mW,"./refscroll/helpplayer.txt":pW,"./refscroll/helptext.txt":GW,"./refscroll/menu.txt":MW,"./refscroll/notesscroll.txt":yW,"./refscroll/oscscroll.txt":DW,"./refscroll/pulsescroll.txt":EW,"./refscroll/pwmscroll.txt":vW,"./refscroll/reverbscroll.txt":NW,"./refscroll/synthscroll.txt":OW,"./refscroll/vibratoscroll.txt":SW,"./refscroll/voicescroll.txt":jW}),yv={};Wt(bv).forEach(e=>{const A=e.replace(".txt","").replace("./","").replaceAll("/",":");yv[A]=bv[e].default});function th(e){const A=CA(e.trim().replaceAll(`
`,"").replace(/:+$/,"")),t=yv[A];if(G(t))return t;const{target:n,path:r}=yn(A);switch(n){case"editor":{const s=yn(r);switch(s.target){case"command":if(s.path.length)return`desc;$DKGRAYsends the message ${s.path}`}break}}}function Rp(e,A){const t=(e??"").split(`
`);for(let n=0;n<t.length;++n)A(t[n].split(";"))}function mV(e,A){const[t,...n]=A,r=n[0]??"",s=n[1]??"";switch(CA(t.trim())){case"header":eh(K,e,r);break;case"section":yi(K,e,r);break;case"option":Es(K,e,r,s);break;default:t.trimStart().startsWith("!")?uV(K,e,t.trimStart().slice(1),r):me(K,e,t);break}}const _i="$dkpurple",gV="$196",pV="$205";function wV(e,A){const t=gV.repeat(A);mA(e,`${_i}${t}`)}function _v(e,A){const t=pV.repeat(A);mA(e,`${_i}${t}`)}function GV(e,A){mA(e,`${_i} ${" ".repeat(A.length)} `),wV(e,A.length+2),mA(e,`${_i} $white${A} `),_v(e,A.length+2)}function xV(e,A){mA(e,`${_i} ${" ".repeat(A.length)} `),mA(e,`${_i} $gray${A} `),_v(e,A.length+2)}function MV(e,A,t){mA(e,`${_i} $white${A} $blue${t}`)}function Dv(e,A){const[t,...n]=A,r=n[0]??"",s=n[1]??"";switch(CA(t.trim())){case"header":GV(e,r);break;case"section":xV(e,r);break;case"option":MV(e,r,s);break;default:if(t.trimStart().startsWith("!")){const i=t.trimStart().slice(1).split(" ");switch(CA(i[1]??"")){case"hk":case"hotkey":vA(e,"refscroll",r,[i[0]??"",i[1]??"",i[2]??"",` ${i[3]??""} `,i[4]??""]);break;default:vA(e,"refscroll",r,i);break}}else t.trimStart().startsWith('"')?mA(e,t.trimStart().slice(1)):mA(e,t);break}}function nh(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ip={exports:{}},Bv;function bV(){return Bv||(Bv=1,(function(e,A){(function(t){e.exports=t()})(function(){return(function t(n,r,s){function i(c,l){if(!r[c]){if(!n[c]){var u=typeof nh=="function"&&nh;if(!l&&u)return u(c,!0);if(o)return o(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var f=r[c]={exports:{}};n[c][0].call(f.exports,function(m){var d=n[c][1][m];return i(d||m)},f,f.exports,t,n,r,s)}return r[c].exports}for(var o=typeof nh=="function"&&nh,a=0;a<s.length;a++)i(s[a]);return i})({1:[function(t,n,r){var s=t("./utils"),i=t("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(a){for(var c,l,u,h,f,m,d,g=[],p=0,x=a.length,y=x,E=s.getTypeOf(a)!=="string";p<a.length;)y=x-p,u=E?(c=a[p++],l=p<x?a[p++]:0,p<x?a[p++]:0):(c=a.charCodeAt(p++),l=p<x?a.charCodeAt(p++):0,p<x?a.charCodeAt(p++):0),h=c>>2,f=(3&c)<<4|l>>4,m=1<y?(15&l)<<2|u>>6:64,d=2<y?63&u:64,g.push(o.charAt(h)+o.charAt(f)+o.charAt(m)+o.charAt(d));return g.join("")},r.decode=function(a){var c,l,u,h,f,m,d=0,g=0,p="data:";if(a.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var x,y=3*(a=a.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(a.charAt(a.length-1)===o.charAt(64)&&y--,a.charAt(a.length-2)===o.charAt(64)&&y--,y%1!=0)throw new Error("Invalid base64 input, bad content length.");for(x=i.uint8array?new Uint8Array(0|y):new Array(0|y);d<a.length;)c=o.indexOf(a.charAt(d++))<<2|(h=o.indexOf(a.charAt(d++)))>>4,l=(15&h)<<4|(f=o.indexOf(a.charAt(d++)))>>2,u=(3&f)<<6|(m=o.indexOf(a.charAt(d++))),x[g++]=c,f!==64&&(x[g++]=l),m!==64&&(x[g++]=u);return x}},{"./support":30,"./utils":32}],2:[function(t,n,r){var s=t("./external"),i=t("./stream/DataWorker"),o=t("./stream/Crc32Probe"),a=t("./stream/DataLengthProbe");function c(l,u,h,f,m){this.compressedSize=l,this.uncompressedSize=u,this.crc32=h,this.compression=f,this.compressedContent=m}c.prototype={getContentWorker:function(){var l=new i(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),u=this;return l.on("end",function(){if(this.streamInfo.data_length!==u.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),l},getCompressedWorker:function(){return new i(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(l,u,h){return l.pipe(new o).pipe(new a("uncompressedSize")).pipe(u.compressWorker(h)).pipe(new a("compressedSize")).withStreamInfo("compression",u)},n.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(t,n,r){var s=t("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},r.DEFLATE=t("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(t,n,r){var s=t("./utils"),i=(function(){for(var o,a=[],c=0;c<256;c++){o=c;for(var l=0;l<8;l++)o=1&o?3988292384^o>>>1:o>>>1;a[c]=o}return a})();n.exports=function(o,a){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?(function(c,l,u,h){var f=i,m=h+u;c^=-1;for(var d=h;d<m;d++)c=c>>>8^f[255&(c^l[d])];return-1^c})(0|a,o,o.length,0):(function(c,l,u,h){var f=i,m=h+u;c^=-1;for(var d=h;d<m;d++)c=c>>>8^f[255&(c^l.charCodeAt(d))];return-1^c})(0|a,o,o.length,0):0}},{"./utils":32}],5:[function(t,n,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(t,n,r){var s=null;s=typeof Promise<"u"?Promise:t("lie"),n.exports={Promise:s}},{lie:37}],7:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",i=t("pako"),o=t("./utils"),a=t("./stream/GenericWorker"),c=s?"uint8array":"array";function l(u,h){a.call(this,"FlateWorker/"+u),this._pako=null,this._pakoAction=u,this._pakoOptions=h,this.meta={}}r.magic="\b\0",o.inherits(l,a),l.prototype.processChunk=function(u){this.meta=u.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(c,u.data),!1)},l.prototype.flush=function(){a.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},l.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},l.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var u=this;this._pako.onData=function(h){u.push({data:h,meta:u.meta})}},r.compressWorker=function(u){return new l("Deflate",u)},r.uncompressWorker=function(){return new l("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(t,n,r){function s(f,m){var d,g="";for(d=0;d<m;d++)g+=String.fromCharCode(255&f),f>>>=8;return g}function i(f,m,d,g,p,x){var y,E,B=f.file,T=f.compression,D=x!==c.utf8encode,Z=o.transformTo("string",x(B.name)),R=o.transformTo("string",c.utf8encode(B.name)),j=B.comment,L=o.transformTo("string",x(j)),v=o.transformTo("string",c.utf8encode(j)),Y=R.length!==B.name.length,b=v.length!==j.length,I="",$="",U="",W=B.dir,q=B.date,tA={crc32:0,compressedSize:0,uncompressedSize:0};m&&!d||(tA.crc32=f.crc32,tA.compressedSize=f.compressedSize,tA.uncompressedSize=f.uncompressedSize);var N=0;m&&(N|=8),D||!Y&&!b||(N|=2048);var S=0,AA=0;W&&(S|=16),p==="UNIX"?(AA=798,S|=(function(rA,gA){var EA=rA;return rA||(EA=gA?16893:33204),(65535&EA)<<16})(B.unixPermissions,W)):(AA=20,S|=(function(rA){return 63&(rA||0)})(B.dosPermissions)),y=q.getUTCHours(),y<<=6,y|=q.getUTCMinutes(),y<<=5,y|=q.getUTCSeconds()/2,E=q.getUTCFullYear()-1980,E<<=4,E|=q.getUTCMonth()+1,E<<=5,E|=q.getUTCDate(),Y&&($=s(1,1)+s(l(Z),4)+R,I+="up"+s($.length,2)+$),b&&(U=s(1,1)+s(l(L),4)+v,I+="uc"+s(U.length,2)+U);var Q="";return Q+=`
\0`,Q+=s(N,2),Q+=T.magic,Q+=s(y,2),Q+=s(E,2),Q+=s(tA.crc32,4),Q+=s(tA.compressedSize,4),Q+=s(tA.uncompressedSize,4),Q+=s(Z.length,2),Q+=s(I.length,2),{fileRecord:u.LOCAL_FILE_HEADER+Q+Z+I,dirRecord:u.CENTRAL_FILE_HEADER+s(AA,2)+Q+s(L.length,2)+"\0\0\0\0"+s(S,4)+s(g,4)+Z+I+L}}var o=t("../utils"),a=t("../stream/GenericWorker"),c=t("../utf8"),l=t("../crc32"),u=t("../signature");function h(f,m,d,g){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=m,this.zipPlatform=d,this.encodeFileName=g,this.streamFiles=f,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,a),h.prototype.push=function(f){var m=f.meta.percent||0,d=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(f):(this.bytesWritten+=f.data.length,a.prototype.push.call(this,{data:f.data,meta:{currentFile:this.currentFile,percent:d?(m+100*(d-g-1))/d:100}}))},h.prototype.openedSource=function(f){this.currentSourceOffset=this.bytesWritten,this.currentFile=f.file.name;var m=this.streamFiles&&!f.file.dir;if(m){var d=i(f,m,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(f){this.accumulate=!1;var m=this.streamFiles&&!f.file.dir,d=i(f,m,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),m)this.push({data:(function(g){return u.DATA_DESCRIPTOR+s(g.crc32,4)+s(g.compressedSize,4)+s(g.uncompressedSize,4)})(f),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var f=this.bytesWritten,m=0;m<this.dirRecords.length;m++)this.push({data:this.dirRecords[m],meta:{percent:100}});var d=this.bytesWritten-f,g=(function(p,x,y,E,B){var T=o.transformTo("string",B(E));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(p,2)+s(p,2)+s(x,4)+s(y,4)+s(T.length,2)+T})(this.dirRecords.length,d,f,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(f){this._sources.push(f);var m=this;return f.on("data",function(d){m.processChunk(d)}),f.on("end",function(){m.closedSource(m.previous.streamInfo),m._sources.length?m.prepareNextSource():m.end()}),f.on("error",function(d){m.error(d)}),this},h.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(f){var m=this._sources;if(!a.prototype.error.call(this,f))return!1;for(var d=0;d<m.length;d++)try{m[d].error(f)}catch{}return!0},h.prototype.lock=function(){a.prototype.lock.call(this);for(var f=this._sources,m=0;m<f.length;m++)f[m].lock()},n.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(t,n,r){var s=t("../compressions"),i=t("./ZipFileWorker");r.generateWorker=function(o,a,c){var l=new i(a.streamFiles,c,a.platform,a.encodeFileName),u=0;try{o.forEach(function(h,f){u++;var m=(function(x,y){var E=x||y,B=s[E];if(!B)throw new Error(E+" is not a valid compression method !");return B})(f.options.compression,a.compression),d=f.options.compressionOptions||a.compressionOptions||{},g=f.dir,p=f.date;f._compressWorker(m,d).withStreamInfo("file",{name:h,dir:g,date:p,comment:f.comment||"",unixPermissions:f.unixPermissions,dosPermissions:f.dosPermissions}).pipe(l)}),l.entriesCount=u}catch(h){l.error(h)}return l}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(t,n,r){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var i=new s;for(var o in this)typeof this[o]!="function"&&(i[o]=this[o]);return i}}(s.prototype=t("./object")).loadAsync=t("./load"),s.support=t("./support"),s.defaults=t("./defaults"),s.version="3.10.1",s.loadAsync=function(i,o){return new s().loadAsync(i,o)},s.external=t("./external"),n.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(t,n,r){var s=t("./utils"),i=t("./external"),o=t("./utf8"),a=t("./zipEntries"),c=t("./stream/Crc32Probe"),l=t("./nodejsUtils");function u(h){return new i.Promise(function(f,m){var d=h.decompressed.getContentWorker().pipe(new c);d.on("error",function(g){m(g)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?m(new Error("Corrupted zip : CRC32 mismatch")):f()}).resume()})}n.exports=function(h,f){var m=this;return f=s.extend(f||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),l.isNode&&l.isStream(h)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",h,!0,f.optimizedBinaryString,f.base64).then(function(d){var g=new a(f);return g.load(d),g}).then(function(d){var g=[i.Promise.resolve(d)],p=d.files;if(f.checkCRC32)for(var x=0;x<p.length;x++)g.push(u(p[x]));return i.Promise.all(g)}).then(function(d){for(var g=d.shift(),p=g.files,x=0;x<p.length;x++){var y=p[x],E=y.fileNameStr,B=s.resolve(y.fileNameStr);m.file(B,y.decompressed,{binary:!0,optimizedBinaryString:!0,date:y.date,dir:y.dir,comment:y.fileCommentStr.length?y.fileCommentStr:null,unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions,createFolders:f.createFolders}),y.dir||(m.file(B).unsafeOriginalName=E)}return g.zipComment.length&&(m.comment=g.zipComment),m})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(t,n,r){var s=t("../utils"),i=t("../stream/GenericWorker");function o(a,c){i.call(this,"Nodejs stream input adapter for "+a),this._upstreamEnded=!1,this._bindStream(c)}s.inherits(o,i),o.prototype._bindStream=function(a){var c=this;(this._stream=a).pause(),a.on("data",function(l){c.push({data:l,meta:{percent:0}})}).on("error",function(l){c.isPaused?this.generatedError=l:c.error(l)}).on("end",function(){c.isPaused?c._upstreamEnded=!0:c.end()})},o.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(t,n,r){var s=t("readable-stream").Readable;function i(o,a,c){s.call(this,a),this._helper=o;var l=this;o.on("data",function(u,h){l.push(u)||l._helper.pause(),c&&c(h)}).on("error",function(u){l.emit("error",u)}).on("end",function(){l.push(null)})}t("../utils").inherits(i,s),i.prototype._read=function(){this._helper.resume()},n.exports=i},{"../utils":32,"readable-stream":16}],14:[function(t,n,r){n.exports={isNode:typeof je<"u",newBufferFrom:function(s,i){if(je.from&&je.from!==Uint8Array.from)return je.from(s,i);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new je(s,i)},allocBuffer:function(s){if(je.alloc)return je.alloc(s);var i=new je(s);return i.fill(0),i},isBuffer:function(s){return je.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(t,n,r){function s(B,T,D){var Z,R=o.getTypeOf(T),j=o.extend(D||{},l);j.date=j.date||new Date,j.compression!==null&&(j.compression=j.compression.toUpperCase()),typeof j.unixPermissions=="string"&&(j.unixPermissions=parseInt(j.unixPermissions,8)),j.unixPermissions&&16384&j.unixPermissions&&(j.dir=!0),j.dosPermissions&&16&j.dosPermissions&&(j.dir=!0),j.dir&&(B=p(B)),j.createFolders&&(Z=g(B))&&x.call(this,Z,!0);var L=R==="string"&&j.binary===!1&&j.base64===!1;D&&D.binary!==void 0||(j.binary=!L),(T instanceof u&&T.uncompressedSize===0||j.dir||!T||T.length===0)&&(j.base64=!1,j.binary=!0,T="",j.compression="STORE",R="string");var v=null;v=T instanceof u||T instanceof a?T:m.isNode&&m.isStream(T)?new d(B,T):o.prepareContent(B,T,j.binary,j.optimizedBinaryString,j.base64);var Y=new h(B,v,j);this.files[B]=Y}var i=t("./utf8"),o=t("./utils"),a=t("./stream/GenericWorker"),c=t("./stream/StreamHelper"),l=t("./defaults"),u=t("./compressedObject"),h=t("./zipObject"),f=t("./generate"),m=t("./nodejsUtils"),d=t("./nodejs/NodejsStreamInputAdapter"),g=function(B){B.slice(-1)==="/"&&(B=B.substring(0,B.length-1));var T=B.lastIndexOf("/");return 0<T?B.substring(0,T):""},p=function(B){return B.slice(-1)!=="/"&&(B+="/"),B},x=function(B,T){return T=T!==void 0?T:l.createFolders,B=p(B),this.files[B]||s.call(this,B,null,{dir:!0,createFolders:T}),this.files[B]};function y(B){return Object.prototype.toString.call(B)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(B){var T,D,Z;for(T in this.files)Z=this.files[T],(D=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&B(D,Z)},filter:function(B){var T=[];return this.forEach(function(D,Z){B(D,Z)&&T.push(Z)}),T},file:function(B,T,D){if(arguments.length!==1)return B=this.root+B,s.call(this,B,T,D),this;if(y(B)){var Z=B;return this.filter(function(j,L){return!L.dir&&Z.test(j)})}var R=this.files[this.root+B];return R&&!R.dir?R:null},folder:function(B){if(!B)return this;if(y(B))return this.filter(function(R,j){return j.dir&&B.test(R)});var T=this.root+B,D=x.call(this,T),Z=this.clone();return Z.root=D.name,Z},remove:function(B){B=this.root+B;var T=this.files[B];if(T||(B.slice(-1)!=="/"&&(B+="/"),T=this.files[B]),T&&!T.dir)delete this.files[B];else for(var D=this.filter(function(R,j){return j.name.slice(0,B.length)===B}),Z=0;Z<D.length;Z++)delete this.files[D[Z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(B){var T,D={};try{if((D=o.extend(B||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=D.type.toLowerCase(),D.compression=D.compression.toUpperCase(),D.type==="binarystring"&&(D.type="string"),!D.type)throw new Error("No output type specified.");o.checkSupport(D.type),D.platform!=="darwin"&&D.platform!=="freebsd"&&D.platform!=="linux"&&D.platform!=="sunos"||(D.platform="UNIX"),D.platform==="win32"&&(D.platform="DOS");var Z=D.comment||this.comment||"";T=f.generateWorker(this,D,Z)}catch(R){(T=new a("error")).error(R)}return new c(T,D.type||"string",D.mimeType)},generateAsync:function(B,T){return this.generateInternalStream(B).accumulate(T)},generateNodeStream:function(B,T){return(B=B||{}).type||(B.type="nodebuffer"),this.generateInternalStream(B).toNodejsStream(T)}};n.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(t,n,r){n.exports=t("stream")},{stream:void 0}],17:[function(t,n,r){var s=t("./DataReader");function i(o){s.call(this,o);for(var a=0;a<this.data.length;a++)o[a]=255&o[a]}t("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data[this.zero+o]},i.prototype.lastIndexOfSignature=function(o){for(var a=o.charCodeAt(0),c=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===a&&this.data[h+1]===c&&this.data[h+2]===l&&this.data[h+3]===u)return h-this.zero;return-1},i.prototype.readAndCheckSignature=function(o){var a=o.charCodeAt(0),c=o.charCodeAt(1),l=o.charCodeAt(2),u=o.charCodeAt(3),h=this.readData(4);return a===h[0]&&c===h[1]&&l===h[2]&&u===h[3]},i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./DataReader":18}],18:[function(t,n,r){var s=t("../utils");function i(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var a,c=0;for(this.checkOffset(o),a=this.index+o-1;a>=this.index;a--)c=(c<<8)+this.byteAt(a);return this.index+=o,c},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},n.exports=i},{"../utils":32}],19:[function(t,n,r){var s=t("./Uint8ArrayReader");function i(o){s.call(this,o)}t("../utils").inherits(i,s),i.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(t,n,r){var s=t("./DataReader");function i(o){s.call(this,o)}t("../utils").inherits(i,s),i.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},i.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},i.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},i.prototype.readData=function(o){this.checkOffset(o);var a=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./DataReader":18}],21:[function(t,n,r){var s=t("./ArrayReader");function i(o){s.call(this,o)}t("../utils").inherits(i,s),i.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var a=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,a},n.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(t,n,r){var s=t("../utils"),i=t("../support"),o=t("./ArrayReader"),a=t("./StringReader"),c=t("./NodeBufferReader"),l=t("./Uint8ArrayReader");n.exports=function(u){var h=s.getTypeOf(u);return s.checkSupport(h),h!=="string"||i.uint8array?h==="nodebuffer"?new c(u):i.uint8array?new l(s.transformTo("uint8array",u)):new o(s.transformTo("array",u)):new a(u)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(t,n,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(t,n,r){var s=t("./GenericWorker"),i=t("../utils");function o(a){s.call(this,"ConvertWorker to "+a),this.destType=a}i.inherits(o,s),o.prototype.processChunk=function(a){this.push({data:i.transformTo(this.destType,a.data),meta:a.meta})},n.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(t,n,r){var s=t("./GenericWorker"),i=t("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}t("../utils").inherits(o,s),o.prototype.processChunk=function(a){this.streamInfo.crc32=i(a.data,this.streamInfo.crc32||0),this.push(a)},n.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(t,n,r){var s=t("../utils"),i=t("./GenericWorker");function o(a){i.call(this,"DataLengthProbe for "+a),this.propName=a,this.withStreamInfo(a,0)}s.inherits(o,i),o.prototype.processChunk=function(a){if(a){var c=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=c+a.data.length}i.prototype.processChunk.call(this,a)},n.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(t,n,r){var s=t("../utils"),i=t("./GenericWorker");function o(a){i.call(this,"DataWorker");var c=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,a.then(function(l){c.dataIsReady=!0,c.data=l,c.max=l&&l.length||0,c.type=s.getTypeOf(l),c.isPaused||c._tickAndRepeat()},function(l){c.error(l)})}s.inherits(o,i),o.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var a=null,c=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":a=this.data.substring(this.index,c);break;case"uint8array":a=this.data.subarray(this.index,c);break;case"array":case"nodebuffer":a=this.data.slice(this.index,c)}return this.index=c,this.push({data:a,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(t,n,r){function s(i){this.name=i||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(i){this.emit("data",i)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(i){this.emit("error",i)}return!0},error:function(i){return!this.isFinished&&(this.isPaused?this.generatedError=i:(this.isFinished=!0,this.emit("error",i),this.previous&&this.previous.error(i),this.cleanUp()),!0)},on:function(i,o){return this._listeners[i].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(i,o){if(this._listeners[i])for(var a=0;a<this._listeners[i].length;a++)this._listeners[i][a].call(this,o)},pipe:function(i){return i.registerPrevious(this)},registerPrevious:function(i){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=i.streamInfo,this.mergeStreamInfo(),this.previous=i;var o=this;return i.on("data",function(a){o.processChunk(a)}),i.on("end",function(){o.end()}),i.on("error",function(a){o.error(a)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var i=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),i=!0),this.previous&&this.previous.resume(),!i},flush:function(){},processChunk:function(i){this.push(i)},withStreamInfo:function(i,o){return this.extraStreamInfo[i]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var i in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,i)&&(this.streamInfo[i]=this.extraStreamInfo[i])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var i="Worker "+this.name;return this.previous?this.previous+" -> "+i:i}},n.exports=s},{}],29:[function(t,n,r){var s=t("../utils"),i=t("./ConvertWorker"),o=t("./GenericWorker"),a=t("../base64"),c=t("../support"),l=t("../external"),u=null;if(c.nodestream)try{u=t("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(m,d){return new l.Promise(function(g,p){var x=[],y=m._internalType,E=m._outputType,B=m._mimeType;m.on("data",function(T,D){x.push(T),d&&d(D)}).on("error",function(T){x=[],p(T)}).on("end",function(){try{var T=(function(D,Z,R){switch(D){case"blob":return s.newBlob(s.transformTo("arraybuffer",Z),R);case"base64":return a.encode(Z);default:return s.transformTo(D,Z)}})(E,(function(D,Z){var R,j=0,L=null,v=0;for(R=0;R<Z.length;R++)v+=Z[R].length;switch(D){case"string":return Z.join("");case"array":return Array.prototype.concat.apply([],Z);case"uint8array":for(L=new Uint8Array(v),R=0;R<Z.length;R++)L.set(Z[R],j),j+=Z[R].length;return L;case"nodebuffer":return je.concat(Z);default:throw new Error("concat : unsupported type '"+D+"'")}})(y,x),B);g(T)}catch(D){p(D)}x=[]}).resume()})}function f(m,d,g){var p=d;switch(d){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=d,this._mimeType=g,s.checkSupport(p),this._worker=m.pipe(new i(p)),m.lock()}catch(x){this._worker=new o("error"),this._worker.error(x)}}f.prototype={accumulate:function(m){return h(this,m)},on:function(m,d){var g=this;return m==="data"?this._worker.on(m,function(p){d.call(g,p.data,p.meta)}):this._worker.on(m,function(){s.delay(d,arguments,g)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(m){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:this._outputType!=="nodebuffer"},m)}},n.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(t,n,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof je<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var s=new ArrayBuffer(0);try{r.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(s),r.blob=i.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!t("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(t,n,r){for(var s=t("./utils"),i=t("./support"),o=t("./nodejsUtils"),a=t("./stream/GenericWorker"),c=new Array(256),l=0;l<256;l++)c[l]=252<=l?6:248<=l?5:240<=l?4:224<=l?3:192<=l?2:1;c[254]=c[254]=1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function h(){a.call(this,"utf-8 encode")}r.utf8encode=function(f){return i.nodebuffer?o.newBufferFrom(f,"utf-8"):(function(m){var d,g,p,x,y,E=m.length,B=0;for(x=0;x<E;x++)(64512&(g=m.charCodeAt(x)))==55296&&x+1<E&&(64512&(p=m.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(p-56320),x++),B+=g<128?1:g<2048?2:g<65536?3:4;for(d=i.uint8array?new Uint8Array(B):new Array(B),x=y=0;y<B;x++)(64512&(g=m.charCodeAt(x)))==55296&&x+1<E&&(64512&(p=m.charCodeAt(x+1)))==56320&&(g=65536+(g-55296<<10)+(p-56320),x++),g<128?d[y++]=g:(g<2048?d[y++]=192|g>>>6:(g<65536?d[y++]=224|g>>>12:(d[y++]=240|g>>>18,d[y++]=128|g>>>12&63),d[y++]=128|g>>>6&63),d[y++]=128|63&g);return d})(f)},r.utf8decode=function(f){return i.nodebuffer?s.transformTo("nodebuffer",f).toString("utf-8"):(function(m){var d,g,p,x,y=m.length,E=new Array(2*y);for(d=g=0;d<y;)if((p=m[d++])<128)E[g++]=p;else if(4<(x=c[p]))E[g++]=65533,d+=x-1;else{for(p&=x===2?31:x===3?15:7;1<x&&d<y;)p=p<<6|63&m[d++],x--;1<x?E[g++]=65533:p<65536?E[g++]=p:(p-=65536,E[g++]=55296|p>>10&1023,E[g++]=56320|1023&p)}return E.length!==g&&(E.subarray?E=E.subarray(0,g):E.length=g),s.applyFromCharCode(E)})(f=s.transformTo(i.uint8array?"uint8array":"array",f))},s.inherits(u,a),u.prototype.processChunk=function(f){var m=s.transformTo(i.uint8array?"uint8array":"array",f.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var d=m;(m=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),m.set(d,this.leftOver.length)}else m=this.leftOver.concat(m);this.leftOver=null}var g=(function(x,y){var E;for((y=y||x.length)>x.length&&(y=x.length),E=y-1;0<=E&&(192&x[E])==128;)E--;return E<0||E===0?y:E+c[x[E]]>y?E:y})(m),p=m;g!==m.length&&(i.uint8array?(p=m.subarray(0,g),this.leftOver=m.subarray(g,m.length)):(p=m.slice(0,g),this.leftOver=m.slice(g,m.length))),this.push({data:r.utf8decode(p),meta:f.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,s.inherits(h,a),h.prototype.processChunk=function(f){this.push({data:r.utf8encode(f.data),meta:f.meta})},r.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(t,n,r){var s=t("./support"),i=t("./base64"),o=t("./nodejsUtils"),a=t("./external");function c(d){return d}function l(d,g){for(var p=0;p<d.length;++p)g[p]=255&d.charCodeAt(p);return g}t("setimmediate"),r.newBlob=function(d,g){r.checkSupport("blob");try{return new Blob([d],{type:g})}catch{try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(d),p.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(d,g,p){var x=[],y=0,E=d.length;if(E<=p)return String.fromCharCode.apply(null,d);for(;y<E;)g==="array"||g==="nodebuffer"?x.push(String.fromCharCode.apply(null,d.slice(y,Math.min(y+p,E)))):x.push(String.fromCharCode.apply(null,d.subarray(y,Math.min(y+p,E)))),y+=p;return x.join("")},stringifyByChar:function(d){for(var g="",p=0;p<d.length;p++)g+=String.fromCharCode(d[p]);return g},applyCanBeUsed:{uint8array:(function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}})()}};function h(d){var g=65536,p=r.getTypeOf(d),x=!0;if(p==="uint8array"?x=u.applyCanBeUsed.uint8array:p==="nodebuffer"&&(x=u.applyCanBeUsed.nodebuffer),x)for(;1<g;)try{return u.stringifyByChunk(d,p,g)}catch{g=Math.floor(g/2)}return u.stringifyByChar(d)}function f(d,g){for(var p=0;p<d.length;p++)g[p]=d[p];return g}r.applyFromCharCode=h;var m={};m.string={string:c,array:function(d){return l(d,new Array(d.length))},arraybuffer:function(d){return m.string.uint8array(d).buffer},uint8array:function(d){return l(d,new Uint8Array(d.length))},nodebuffer:function(d){return l(d,o.allocBuffer(d.length))}},m.array={string:h,array:c,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(d)}},m.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return f(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:c,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(new Uint8Array(d))}},m.uint8array={string:h,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:c,nodebuffer:function(d){return o.newBufferFrom(d)}},m.nodebuffer={string:h,array:function(d){return f(d,new Array(d.length))},arraybuffer:function(d){return m.nodebuffer.uint8array(d).buffer},uint8array:function(d){return f(d,new Uint8Array(d.length))},nodebuffer:c},r.transformTo=function(d,g){if(g=g||"",!d)return g;r.checkSupport(d);var p=r.getTypeOf(g);return m[p][d](g)},r.resolve=function(d){for(var g=d.split("/"),p=[],x=0;x<g.length;x++){var y=g[x];y==="."||y===""&&x!==0&&x!==g.length-1||(y===".."?p.pop():p.push(y))}return p.join("/")},r.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(d)?"nodebuffer":s.uint8array&&d instanceof Uint8Array?"uint8array":s.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(d){if(!s[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(d){var g,p,x="";for(p=0;p<(d||"").length;p++)x+="\\x"+((g=d.charCodeAt(p))<16?"0":"")+g.toString(16).toUpperCase();return x},r.delay=function(d,g,p){setImmediate(function(){d.apply(p||null,g||[])})},r.inherits=function(d,g){function p(){}p.prototype=g.prototype,d.prototype=new p},r.extend=function(){var d,g,p={};for(d=0;d<arguments.length;d++)for(g in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],g)&&p[g]===void 0&&(p[g]=arguments[d][g]);return p},r.prepareContent=function(d,g,p,x,y){return a.Promise.resolve(g).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new a.Promise(function(B,T){var D=new FileReader;D.onload=function(Z){B(Z.target.result)},D.onerror=function(Z){T(Z.target.error)},D.readAsArrayBuffer(E)}):E}).then(function(E){var B=r.getTypeOf(E);return B?(B==="arraybuffer"?E=r.transformTo("uint8array",E):B==="string"&&(y?E=i.decode(E):p&&x!==!0&&(E=(function(T){return l(T,s.uint8array?new Uint8Array(T.length):new Array(T.length))})(E))),E):a.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(t,n,r){var s=t("./reader/readerFor"),i=t("./utils"),o=t("./signature"),a=t("./zipEntry"),c=t("./support");function l(u){this.files=[],this.loadOptions=u}l.prototype={checkSignature:function(u){if(!this.reader.readAndCheckSignature(u)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(h)+", expected "+i.pretty(u)+")")}},isSignature:function(u,h){var f=this.reader.index;this.reader.setIndex(u);var m=this.reader.readString(4)===h;return this.reader.setIndex(f),m},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var u=this.reader.readData(this.zipCommentLength),h=c.uint8array?"uint8array":"array",f=i.transformTo(h,u);this.zipComment=this.loadOptions.decodeFileName(f)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var u,h,f,m=this.zip64EndOfCentralSize-44;0<m;)u=this.reader.readInt(2),h=this.reader.readInt(4),f=this.reader.readData(h),this.zip64ExtensibleData[u]={id:u,length:h,value:f}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var u,h;for(u=0;u<this.files.length;u++)h=this.files[u],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var u;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(u=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(u);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var u=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(u<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(u);var h=u;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(u=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(u),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var f=this.centralDirOffset+this.centralDirSize;this.zip64&&(f+=20,f+=12+this.zip64EndOfCentralSize);var m=h-f;if(0<m)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=m);else if(m<0)throw new Error("Corrupted zip: missing "+Math.abs(m)+" bytes.")},prepareReader:function(u){this.reader=s(u)},load:function(u){this.prepareReader(u),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=l},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(t,n,r){var s=t("./reader/readerFor"),i=t("./utils"),o=t("./compressedObject"),a=t("./crc32"),c=t("./utf8"),l=t("./compressions"),u=t("./support");function h(f,m){this.options=f,this.loadOptions=m}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(f){var m,d;if(f.skip(22),this.fileNameLength=f.readInt(2),d=f.readInt(2),this.fileName=f.readData(this.fileNameLength),f.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((m=(function(g){for(var p in l)if(Object.prototype.hasOwnProperty.call(l,p)&&l[p].magic===g)return l[p];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,m,f.readData(this.compressedSize))},readCentralPart:function(f){this.versionMadeBy=f.readInt(2),f.skip(2),this.bitFlag=f.readInt(2),this.compressionMethod=f.readString(2),this.date=f.readDate(),this.crc32=f.readInt(4),this.compressedSize=f.readInt(4),this.uncompressedSize=f.readInt(4);var m=f.readInt(2);if(this.extraFieldsLength=f.readInt(2),this.fileCommentLength=f.readInt(2),this.diskNumberStart=f.readInt(2),this.internalFileAttributes=f.readInt(2),this.externalFileAttributes=f.readInt(4),this.localHeaderOffset=f.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");f.skip(m),this.readExtraFields(f),this.parseZIP64ExtraField(f),this.fileComment=f.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var f=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),f==0&&(this.dosPermissions=63&this.externalFileAttributes),f==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var f=s(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=f.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=f.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=f.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=f.readInt(4))}},readExtraFields:function(f){var m,d,g,p=f.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});f.index+4<p;)m=f.readInt(2),d=f.readInt(2),g=f.readData(d),this.extraFields[m]={id:m,length:d,value:g};f.setIndex(p)},handleUTF8:function(){var f=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var m=this.findExtraFieldUnicodePath();if(m!==null)this.fileNameStr=m;else{var d=i.transformTo(f,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var p=i.transformTo(f,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(p)}}},findExtraFieldUnicodePath:function(){var f=this.extraFields[28789];if(f){var m=s(f.value);return m.readInt(1)!==1||a(this.fileName)!==m.readInt(4)?null:c.utf8decode(m.readData(f.length-5))}return null},findExtraFieldUnicodeComment:function(){var f=this.extraFields[25461];if(f){var m=s(f.value);return m.readInt(1)!==1||a(this.fileComment)!==m.readInt(4)?null:c.utf8decode(m.readData(f.length-5))}return null}},n.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(t,n,r){function s(m,d,g){this.name=m,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=d,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var i=t("./stream/StreamHelper"),o=t("./stream/DataWorker"),a=t("./utf8"),c=t("./compressedObject"),l=t("./stream/GenericWorker");s.prototype={internalStream:function(m){var d=null,g="string";try{if(!m)throw new Error("No output type specified.");var p=(g=m.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),d=this._decompressWorker();var x=!this._dataBinary;x&&!p&&(d=d.pipe(new a.Utf8EncodeWorker)),!x&&p&&(d=d.pipe(new a.Utf8DecodeWorker))}catch(y){(d=new l("error")).error(y)}return new i(d,g,"")},async:function(m,d){return this.internalStream(m).accumulate(d)},nodeStream:function(m,d){return this.internalStream(m||"nodebuffer").toNodejsStream(d)},_compressWorker:function(m,d){if(this._data instanceof c&&this._data.compression.magic===m.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new a.Utf8EncodeWorker)),c.createWorkerFrom(g,m,d)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof l?this._data:new o(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)s.prototype[u[f]]=h;n.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(t,n,r){(function(s){var i,o,a=s.MutationObserver||s.WebKitMutationObserver;if(a){var c=0,l=new a(m),u=s.document.createTextNode("");l.observe(u,{characterData:!0}),i=function(){u.data=c=++c%2}}else if(s.setImmediate||s.MessageChannel===void 0)i="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var d=s.document.createElement("script");d.onreadystatechange=function(){m(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},s.document.documentElement.appendChild(d)}:function(){setTimeout(m,0)};else{var h=new s.MessageChannel;h.port1.onmessage=m,i=function(){h.port2.postMessage(0)}}var f=[];function m(){var d,g;o=!0;for(var p=f.length;p;){for(g=f,f=[],d=-1;++d<p;)g[d]();p=f.length}o=!1}n.exports=function(d){f.push(d)!==1||o||i()}}).call(this,typeof is<"u"?is:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(t,n,r){var s=t("immediate");function i(){}var o={},a=["REJECTED"],c=["FULFILLED"],l=["PENDING"];function u(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=l,this.queue=[],this.outcome=void 0,p!==i&&d(this,p)}function h(p,x,y){this.promise=p,typeof x=="function"&&(this.onFulfilled=x,this.callFulfilled=this.otherCallFulfilled),typeof y=="function"&&(this.onRejected=y,this.callRejected=this.otherCallRejected)}function f(p,x,y){s(function(){var E;try{E=x(y)}catch(B){return o.reject(p,B)}E===p?o.reject(p,new TypeError("Cannot resolve promise with itself")):o.resolve(p,E)})}function m(p){var x=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof x=="function")return function(){x.apply(p,arguments)}}function d(p,x){var y=!1;function E(D){y||(y=!0,o.reject(p,D))}function B(D){y||(y=!0,o.resolve(p,D))}var T=g(function(){x(B,E)});T.status==="error"&&E(T.value)}function g(p,x){var y={};try{y.value=p(x),y.status="success"}catch(E){y.status="error",y.value=E}return y}(n.exports=u).prototype.finally=function(p){if(typeof p!="function")return this;var x=this.constructor;return this.then(function(y){return x.resolve(p()).then(function(){return y})},function(y){return x.resolve(p()).then(function(){throw y})})},u.prototype.catch=function(p){return this.then(null,p)},u.prototype.then=function(p,x){if(typeof p!="function"&&this.state===c||typeof x!="function"&&this.state===a)return this;var y=new this.constructor(i);return this.state!==l?f(y,this.state===c?p:x,this.outcome):this.queue.push(new h(y,p,x)),y},h.prototype.callFulfilled=function(p){o.resolve(this.promise,p)},h.prototype.otherCallFulfilled=function(p){f(this.promise,this.onFulfilled,p)},h.prototype.callRejected=function(p){o.reject(this.promise,p)},h.prototype.otherCallRejected=function(p){f(this.promise,this.onRejected,p)},o.resolve=function(p,x){var y=g(m,x);if(y.status==="error")return o.reject(p,y.value);var E=y.value;if(E)d(p,E);else{p.state=c,p.outcome=x;for(var B=-1,T=p.queue.length;++B<T;)p.queue[B].callFulfilled(x)}return p},o.reject=function(p,x){p.state=a,p.outcome=x;for(var y=-1,E=p.queue.length;++y<E;)p.queue[y].callRejected(x);return p},u.resolve=function(p){return p instanceof this?p:o.resolve(new this(i),p)},u.reject=function(p){var x=new this(i);return o.reject(x,p)},u.all=function(p){var x=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=p.length,E=!1;if(!y)return this.resolve([]);for(var B=new Array(y),T=0,D=-1,Z=new this(i);++D<y;)R(p[D],D);return Z;function R(j,L){x.resolve(j).then(function(v){B[L]=v,++T!==y||E||(E=!0,o.resolve(Z,B))},function(v){E||(E=!0,o.reject(Z,v))})}},u.race=function(p){var x=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var y=p.length,E=!1;if(!y)return this.resolve([]);for(var B=-1,T=new this(i);++B<y;)D=p[B],x.resolve(D).then(function(Z){E||(E=!0,o.resolve(T,Z))},function(Z){E||(E=!0,o.reject(T,Z))});var D;return T}},{immediate:36}],38:[function(t,n,r){var s={};(0,t("./lib/utils/common").assign)(s,t("./lib/deflate"),t("./lib/inflate"),t("./lib/zlib/constants")),n.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(t,n,r){var s=t("./zlib/deflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/messages"),c=t("./zlib/zstream"),l=Object.prototype.toString,u=0,h=-1,f=0,m=8;function d(p){if(!(this instanceof d))return new d(p);this.options=i.assign({level:h,method:m,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},p||{});var x=this.options;x.raw&&0<x.windowBits?x.windowBits=-x.windowBits:x.gzip&&0<x.windowBits&&x.windowBits<16&&(x.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var y=s.deflateInit2(this.strm,x.level,x.method,x.windowBits,x.memLevel,x.strategy);if(y!==u)throw new Error(a[y]);if(x.header&&s.deflateSetHeader(this.strm,x.header),x.dictionary){var E;if(E=typeof x.dictionary=="string"?o.string2buf(x.dictionary):l.call(x.dictionary)==="[object ArrayBuffer]"?new Uint8Array(x.dictionary):x.dictionary,(y=s.deflateSetDictionary(this.strm,E))!==u)throw new Error(a[y]);this._dict_set=!0}}function g(p,x){var y=new d(x);if(y.push(p,!0),y.err)throw y.msg||a[y.err];return y.result}d.prototype.push=function(p,x){var y,E,B=this.strm,T=this.options.chunkSize;if(this.ended)return!1;E=x===~~x?x:x===!0?4:0,typeof p=="string"?B.input=o.string2buf(p):l.call(p)==="[object ArrayBuffer]"?B.input=new Uint8Array(p):B.input=p,B.next_in=0,B.avail_in=B.input.length;do{if(B.avail_out===0&&(B.output=new i.Buf8(T),B.next_out=0,B.avail_out=T),(y=s.deflate(B,E))!==1&&y!==u)return this.onEnd(y),!(this.ended=!0);B.avail_out!==0&&(B.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(i.shrinkBuf(B.output,B.next_out))):this.onData(i.shrinkBuf(B.output,B.next_out)))}while((0<B.avail_in||B.avail_out===0)&&y!==1);return E===4?(y=s.deflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===u):E!==2||(this.onEnd(u),!(B.avail_out=0))},d.prototype.onData=function(p){this.chunks.push(p)},d.prototype.onEnd=function(p){p===u&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},r.Deflate=d,r.deflate=g,r.deflateRaw=function(p,x){return(x=x||{}).raw=!0,g(p,x)},r.gzip=function(p,x){return(x=x||{}).gzip=!0,g(p,x)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(t,n,r){var s=t("./zlib/inflate"),i=t("./utils/common"),o=t("./utils/strings"),a=t("./zlib/constants"),c=t("./zlib/messages"),l=t("./zlib/zstream"),u=t("./zlib/gzheader"),h=Object.prototype.toString;function f(d){if(!(this instanceof f))return new f(d);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},d||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||d&&d.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new l,this.strm.avail_out=0;var p=s.inflateInit2(this.strm,g.windowBits);if(p!==a.Z_OK)throw new Error(c[p]);this.header=new u,s.inflateGetHeader(this.strm,this.header)}function m(d,g){var p=new f(g);if(p.push(d,!0),p.err)throw p.msg||c[p.err];return p.result}f.prototype.push=function(d,g){var p,x,y,E,B,T,D=this.strm,Z=this.options.chunkSize,R=this.options.dictionary,j=!1;if(this.ended)return!1;x=g===~~g?g:g===!0?a.Z_FINISH:a.Z_NO_FLUSH,typeof d=="string"?D.input=o.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?D.input=new Uint8Array(d):D.input=d,D.next_in=0,D.avail_in=D.input.length;do{if(D.avail_out===0&&(D.output=new i.Buf8(Z),D.next_out=0,D.avail_out=Z),(p=s.inflate(D,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&R&&(T=typeof R=="string"?o.string2buf(R):h.call(R)==="[object ArrayBuffer]"?new Uint8Array(R):R,p=s.inflateSetDictionary(this.strm,T)),p===a.Z_BUF_ERROR&&j===!0&&(p=a.Z_OK,j=!1),p!==a.Z_STREAM_END&&p!==a.Z_OK)return this.onEnd(p),!(this.ended=!0);D.next_out&&(D.avail_out!==0&&p!==a.Z_STREAM_END&&(D.avail_in!==0||x!==a.Z_FINISH&&x!==a.Z_SYNC_FLUSH)||(this.options.to==="string"?(y=o.utf8border(D.output,D.next_out),E=D.next_out-y,B=o.buf2string(D.output,y),D.next_out=E,D.avail_out=Z-E,E&&i.arraySet(D.output,D.output,y,E,0),this.onData(B)):this.onData(i.shrinkBuf(D.output,D.next_out)))),D.avail_in===0&&D.avail_out===0&&(j=!0)}while((0<D.avail_in||D.avail_out===0)&&p!==a.Z_STREAM_END);return p===a.Z_STREAM_END&&(x=a.Z_FINISH),x===a.Z_FINISH?(p=s.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===a.Z_OK):x!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(D.avail_out=0))},f.prototype.onData=function(d){this.chunks.push(d)},f.prototype.onEnd=function(d){d===a.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},r.Inflate=f,r.inflate=m,r.inflateRaw=function(d,g){return(g=g||{}).raw=!0,m(d,g)},r.ungzip=m},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(t,n,r){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(a){for(var c=Array.prototype.slice.call(arguments,1);c.length;){var l=c.shift();if(l){if(typeof l!="object")throw new TypeError(l+"must be non-object");for(var u in l)l.hasOwnProperty(u)&&(a[u]=l[u])}}return a},r.shrinkBuf=function(a,c){return a.length===c?a:a.subarray?a.subarray(0,c):(a.length=c,a)};var i={arraySet:function(a,c,l,u,h){if(c.subarray&&a.subarray)a.set(c.subarray(l,l+u),h);else for(var f=0;f<u;f++)a[h+f]=c[l+f]},flattenChunks:function(a){var c,l,u,h,f,m;for(c=u=0,l=a.length;c<l;c++)u+=a[c].length;for(m=new Uint8Array(u),c=h=0,l=a.length;c<l;c++)f=a[c],m.set(f,h),h+=f.length;return m}},o={arraySet:function(a,c,l,u,h){for(var f=0;f<u;f++)a[h+f]=c[l+f]},flattenChunks:function(a){return[].concat.apply([],a)}};r.setTyped=function(a){a?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,o))},r.setTyped(s)},{}],42:[function(t,n,r){var s=t("./common"),i=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var a=new s.Buf8(256),c=0;c<256;c++)a[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(u,h){if(h<65537&&(u.subarray&&o||!u.subarray&&i))return String.fromCharCode.apply(null,s.shrinkBuf(u,h));for(var f="",m=0;m<h;m++)f+=String.fromCharCode(u[m]);return f}a[254]=a[254]=1,r.string2buf=function(u){var h,f,m,d,g,p=u.length,x=0;for(d=0;d<p;d++)(64512&(f=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(m=u.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),d++),x+=f<128?1:f<2048?2:f<65536?3:4;for(h=new s.Buf8(x),d=g=0;g<x;d++)(64512&(f=u.charCodeAt(d)))==55296&&d+1<p&&(64512&(m=u.charCodeAt(d+1)))==56320&&(f=65536+(f-55296<<10)+(m-56320),d++),f<128?h[g++]=f:(f<2048?h[g++]=192|f>>>6:(f<65536?h[g++]=224|f>>>12:(h[g++]=240|f>>>18,h[g++]=128|f>>>12&63),h[g++]=128|f>>>6&63),h[g++]=128|63&f);return h},r.buf2binstring=function(u){return l(u,u.length)},r.binstring2buf=function(u){for(var h=new s.Buf8(u.length),f=0,m=h.length;f<m;f++)h[f]=u.charCodeAt(f);return h},r.buf2string=function(u,h){var f,m,d,g,p=h||u.length,x=new Array(2*p);for(f=m=0;f<p;)if((d=u[f++])<128)x[m++]=d;else if(4<(g=a[d]))x[m++]=65533,f+=g-1;else{for(d&=g===2?31:g===3?15:7;1<g&&f<p;)d=d<<6|63&u[f++],g--;1<g?x[m++]=65533:d<65536?x[m++]=d:(d-=65536,x[m++]=55296|d>>10&1023,x[m++]=56320|1023&d)}return l(x,m)},r.utf8border=function(u,h){var f;for((h=h||u.length)>u.length&&(h=u.length),f=h-1;0<=f&&(192&u[f])==128;)f--;return f<0||f===0?h:f+a[u[f]]>h?f:h}},{"./common":41}],43:[function(t,n,r){n.exports=function(s,i,o,a){for(var c=65535&s|0,l=s>>>16&65535|0,u=0;o!==0;){for(o-=u=2e3<o?2e3:o;l=l+(c=c+i[a++]|0)|0,--u;);c%=65521,l%=65521}return c|l<<16|0}},{}],44:[function(t,n,r){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(t,n,r){var s=(function(){for(var i,o=[],a=0;a<256;a++){i=a;for(var c=0;c<8;c++)i=1&i?3988292384^i>>>1:i>>>1;o[a]=i}return o})();n.exports=function(i,o,a,c){var l=s,u=c+a;i^=-1;for(var h=c;h<u;h++)i=i>>>8^l[255&(i^o[h])];return-1^i}},{}],46:[function(t,n,r){var s,i=t("../utils/common"),o=t("./trees"),a=t("./adler32"),c=t("./crc32"),l=t("./messages"),u=0,h=4,f=0,m=-2,d=-1,g=4,p=2,x=8,y=9,E=286,B=30,T=19,D=2*E+1,Z=15,R=3,j=258,L=j+R+1,v=42,Y=113,b=1,I=2,$=3,U=4;function W(k,hA){return k.msg=l[hA],hA}function q(k){return(k<<1)-(4<k?9:0)}function tA(k){for(var hA=k.length;0<=--hA;)k[hA]=0}function N(k){var hA=k.state,sA=hA.pending;sA>k.avail_out&&(sA=k.avail_out),sA!==0&&(i.arraySet(k.output,hA.pending_buf,hA.pending_out,sA,k.next_out),k.next_out+=sA,hA.pending_out+=sA,k.total_out+=sA,k.avail_out-=sA,hA.pending-=sA,hA.pending===0&&(hA.pending_out=0))}function S(k,hA){o._tr_flush_block(k,0<=k.block_start?k.block_start:-1,k.strstart-k.block_start,hA),k.block_start=k.strstart,N(k.strm)}function AA(k,hA){k.pending_buf[k.pending++]=hA}function Q(k,hA){k.pending_buf[k.pending++]=hA>>>8&255,k.pending_buf[k.pending++]=255&hA}function rA(k,hA){var sA,H,C=k.max_chain_length,J=k.strstart,dA=k.prev_length,pA=k.nice_match,iA=k.strstart>k.w_size-L?k.strstart-(k.w_size-L):0,_A=k.window,TA=k.w_mask,DA=k.prev,UA=k.strstart+j,ye=_A[J+dA-1],ee=_A[J+dA];k.prev_length>=k.good_match&&(C>>=2),pA>k.lookahead&&(pA=k.lookahead);do if(_A[(sA=hA)+dA]===ee&&_A[sA+dA-1]===ye&&_A[sA]===_A[J]&&_A[++sA]===_A[J+1]){J+=2,sA++;do;while(_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&_A[++J]===_A[++sA]&&J<UA);if(H=j-(UA-J),J=UA-j,dA<H){if(k.match_start=hA,pA<=(dA=H))break;ye=_A[J+dA-1],ee=_A[J+dA]}}while((hA=DA[hA&TA])>iA&&--C!=0);return dA<=k.lookahead?dA:k.lookahead}function gA(k){var hA,sA,H,C,J,dA,pA,iA,_A,TA,DA=k.w_size;do{if(C=k.window_size-k.lookahead-k.strstart,k.strstart>=DA+(DA-L)){for(i.arraySet(k.window,k.window,DA,DA,0),k.match_start-=DA,k.strstart-=DA,k.block_start-=DA,hA=sA=k.hash_size;H=k.head[--hA],k.head[hA]=DA<=H?H-DA:0,--sA;);for(hA=sA=DA;H=k.prev[--hA],k.prev[hA]=DA<=H?H-DA:0,--sA;);C+=DA}if(k.strm.avail_in===0)break;if(dA=k.strm,pA=k.window,iA=k.strstart+k.lookahead,_A=C,TA=void 0,TA=dA.avail_in,_A<TA&&(TA=_A),sA=TA===0?0:(dA.avail_in-=TA,i.arraySet(pA,dA.input,dA.next_in,TA,iA),dA.state.wrap===1?dA.adler=a(dA.adler,pA,TA,iA):dA.state.wrap===2&&(dA.adler=c(dA.adler,pA,TA,iA)),dA.next_in+=TA,dA.total_in+=TA,TA),k.lookahead+=sA,k.lookahead+k.insert>=R)for(J=k.strstart-k.insert,k.ins_h=k.window[J],k.ins_h=(k.ins_h<<k.hash_shift^k.window[J+1])&k.hash_mask;k.insert&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[J+R-1])&k.hash_mask,k.prev[J&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=J,J++,k.insert--,!(k.lookahead+k.insert<R)););}while(k.lookahead<L&&k.strm.avail_in!==0)}function EA(k,hA){for(var sA,H;;){if(k.lookahead<L){if(gA(k),k.lookahead<L&&hA===u)return b;if(k.lookahead===0)break}if(sA=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,sA=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),sA!==0&&k.strstart-sA<=k.w_size-L&&(k.match_length=rA(k,sA)),k.match_length>=R)if(H=o._tr_tally(k,k.strstart-k.match_start,k.match_length-R),k.lookahead-=k.match_length,k.match_length<=k.max_lazy_match&&k.lookahead>=R){for(k.match_length--;k.strstart++,k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,sA=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart,--k.match_length!=0;);k.strstart++}else k.strstart+=k.match_length,k.match_length=0,k.ins_h=k.window[k.strstart],k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+1])&k.hash_mask;else H=o._tr_tally(k,0,k.window[k.strstart]),k.lookahead--,k.strstart++;if(H&&(S(k,!1),k.strm.avail_out===0))return b}return k.insert=k.strstart<R-1?k.strstart:R-1,hA===h?(S(k,!0),k.strm.avail_out===0?$:U):k.last_lit&&(S(k,!1),k.strm.avail_out===0)?b:I}function OA(k,hA){for(var sA,H,C;;){if(k.lookahead<L){if(gA(k),k.lookahead<L&&hA===u)return b;if(k.lookahead===0)break}if(sA=0,k.lookahead>=R&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,sA=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),k.prev_length=k.match_length,k.prev_match=k.match_start,k.match_length=R-1,sA!==0&&k.prev_length<k.max_lazy_match&&k.strstart-sA<=k.w_size-L&&(k.match_length=rA(k,sA),k.match_length<=5&&(k.strategy===1||k.match_length===R&&4096<k.strstart-k.match_start)&&(k.match_length=R-1)),k.prev_length>=R&&k.match_length<=k.prev_length){for(C=k.strstart+k.lookahead-R,H=o._tr_tally(k,k.strstart-1-k.prev_match,k.prev_length-R),k.lookahead-=k.prev_length-1,k.prev_length-=2;++k.strstart<=C&&(k.ins_h=(k.ins_h<<k.hash_shift^k.window[k.strstart+R-1])&k.hash_mask,sA=k.prev[k.strstart&k.w_mask]=k.head[k.ins_h],k.head[k.ins_h]=k.strstart),--k.prev_length!=0;);if(k.match_available=0,k.match_length=R-1,k.strstart++,H&&(S(k,!1),k.strm.avail_out===0))return b}else if(k.match_available){if((H=o._tr_tally(k,0,k.window[k.strstart-1]))&&S(k,!1),k.strstart++,k.lookahead--,k.strm.avail_out===0)return b}else k.match_available=1,k.strstart++,k.lookahead--}return k.match_available&&(H=o._tr_tally(k,0,k.window[k.strstart-1]),k.match_available=0),k.insert=k.strstart<R-1?k.strstart:R-1,hA===h?(S(k,!0),k.strm.avail_out===0?$:U):k.last_lit&&(S(k,!1),k.strm.avail_out===0)?b:I}function yA(k,hA,sA,H,C){this.good_length=k,this.max_lazy=hA,this.nice_length=sA,this.max_chain=H,this.func=C}function YA(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=x,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*D),this.dyn_dtree=new i.Buf16(2*(2*B+1)),this.bl_tree=new i.Buf16(2*(2*T+1)),tA(this.dyn_ltree),tA(this.dyn_dtree),tA(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(Z+1),this.heap=new i.Buf16(2*E+1),tA(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*E+1),tA(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ZA(k){var hA;return k&&k.state?(k.total_in=k.total_out=0,k.data_type=p,(hA=k.state).pending=0,hA.pending_out=0,hA.wrap<0&&(hA.wrap=-hA.wrap),hA.status=hA.wrap?v:Y,k.adler=hA.wrap===2?0:1,hA.last_flush=u,o._tr_init(hA),f):W(k,m)}function IA(k){var hA=ZA(k);return hA===f&&(function(sA){sA.window_size=2*sA.w_size,tA(sA.head),sA.max_lazy_match=s[sA.level].max_lazy,sA.good_match=s[sA.level].good_length,sA.nice_match=s[sA.level].nice_length,sA.max_chain_length=s[sA.level].max_chain,sA.strstart=0,sA.block_start=0,sA.lookahead=0,sA.insert=0,sA.match_length=sA.prev_length=R-1,sA.match_available=0,sA.ins_h=0})(k.state),hA}function FA(k,hA,sA,H,C,J){if(!k)return m;var dA=1;if(hA===d&&(hA=6),H<0?(dA=0,H=-H):15<H&&(dA=2,H-=16),C<1||y<C||sA!==x||H<8||15<H||hA<0||9<hA||J<0||g<J)return W(k,m);H===8&&(H=9);var pA=new YA;return(k.state=pA).strm=k,pA.wrap=dA,pA.gzhead=null,pA.w_bits=H,pA.w_size=1<<pA.w_bits,pA.w_mask=pA.w_size-1,pA.hash_bits=C+7,pA.hash_size=1<<pA.hash_bits,pA.hash_mask=pA.hash_size-1,pA.hash_shift=~~((pA.hash_bits+R-1)/R),pA.window=new i.Buf8(2*pA.w_size),pA.head=new i.Buf16(pA.hash_size),pA.prev=new i.Buf16(pA.w_size),pA.lit_bufsize=1<<C+6,pA.pending_buf_size=4*pA.lit_bufsize,pA.pending_buf=new i.Buf8(pA.pending_buf_size),pA.d_buf=1*pA.lit_bufsize,pA.l_buf=3*pA.lit_bufsize,pA.level=hA,pA.strategy=J,pA.method=sA,IA(k)}s=[new yA(0,0,0,0,function(k,hA){var sA=65535;for(sA>k.pending_buf_size-5&&(sA=k.pending_buf_size-5);;){if(k.lookahead<=1){if(gA(k),k.lookahead===0&&hA===u)return b;if(k.lookahead===0)break}k.strstart+=k.lookahead,k.lookahead=0;var H=k.block_start+sA;if((k.strstart===0||k.strstart>=H)&&(k.lookahead=k.strstart-H,k.strstart=H,S(k,!1),k.strm.avail_out===0)||k.strstart-k.block_start>=k.w_size-L&&(S(k,!1),k.strm.avail_out===0))return b}return k.insert=0,hA===h?(S(k,!0),k.strm.avail_out===0?$:U):(k.strstart>k.block_start&&(S(k,!1),k.strm.avail_out),b)}),new yA(4,4,8,4,EA),new yA(4,5,16,8,EA),new yA(4,6,32,32,EA),new yA(4,4,16,16,OA),new yA(8,16,32,32,OA),new yA(8,16,128,128,OA),new yA(8,32,128,256,OA),new yA(32,128,258,1024,OA),new yA(32,258,258,4096,OA)],r.deflateInit=function(k,hA){return FA(k,hA,x,15,8,0)},r.deflateInit2=FA,r.deflateReset=IA,r.deflateResetKeep=ZA,r.deflateSetHeader=function(k,hA){return k&&k.state?k.state.wrap!==2?m:(k.state.gzhead=hA,f):m},r.deflate=function(k,hA){var sA,H,C,J;if(!k||!k.state||5<hA||hA<0)return k?W(k,m):m;if(H=k.state,!k.output||!k.input&&k.avail_in!==0||H.status===666&&hA!==h)return W(k,k.avail_out===0?-5:m);if(H.strm=k,sA=H.last_flush,H.last_flush=hA,H.status===v)if(H.wrap===2)k.adler=0,AA(H,31),AA(H,139),AA(H,8),H.gzhead?(AA(H,(H.gzhead.text?1:0)+(H.gzhead.hcrc?2:0)+(H.gzhead.extra?4:0)+(H.gzhead.name?8:0)+(H.gzhead.comment?16:0)),AA(H,255&H.gzhead.time),AA(H,H.gzhead.time>>8&255),AA(H,H.gzhead.time>>16&255),AA(H,H.gzhead.time>>24&255),AA(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),AA(H,255&H.gzhead.os),H.gzhead.extra&&H.gzhead.extra.length&&(AA(H,255&H.gzhead.extra.length),AA(H,H.gzhead.extra.length>>8&255)),H.gzhead.hcrc&&(k.adler=c(k.adler,H.pending_buf,H.pending,0)),H.gzindex=0,H.status=69):(AA(H,0),AA(H,0),AA(H,0),AA(H,0),AA(H,0),AA(H,H.level===9?2:2<=H.strategy||H.level<2?4:0),AA(H,3),H.status=Y);else{var dA=x+(H.w_bits-8<<4)<<8;dA|=(2<=H.strategy||H.level<2?0:H.level<6?1:H.level===6?2:3)<<6,H.strstart!==0&&(dA|=32),dA+=31-dA%31,H.status=Y,Q(H,dA),H.strstart!==0&&(Q(H,k.adler>>>16),Q(H,65535&k.adler)),k.adler=1}if(H.status===69)if(H.gzhead.extra){for(C=H.pending;H.gzindex<(65535&H.gzhead.extra.length)&&(H.pending!==H.pending_buf_size||(H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),N(k),C=H.pending,H.pending!==H.pending_buf_size));)AA(H,255&H.gzhead.extra[H.gzindex]),H.gzindex++;H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),H.gzindex===H.gzhead.extra.length&&(H.gzindex=0,H.status=73)}else H.status=73;if(H.status===73)if(H.gzhead.name){C=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),N(k),C=H.pending,H.pending===H.pending_buf_size)){J=1;break}J=H.gzindex<H.gzhead.name.length?255&H.gzhead.name.charCodeAt(H.gzindex++):0,AA(H,J)}while(J!==0);H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),J===0&&(H.gzindex=0,H.status=91)}else H.status=91;if(H.status===91)if(H.gzhead.comment){C=H.pending;do{if(H.pending===H.pending_buf_size&&(H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),N(k),C=H.pending,H.pending===H.pending_buf_size)){J=1;break}J=H.gzindex<H.gzhead.comment.length?255&H.gzhead.comment.charCodeAt(H.gzindex++):0,AA(H,J)}while(J!==0);H.gzhead.hcrc&&H.pending>C&&(k.adler=c(k.adler,H.pending_buf,H.pending-C,C)),J===0&&(H.status=103)}else H.status=103;if(H.status===103&&(H.gzhead.hcrc?(H.pending+2>H.pending_buf_size&&N(k),H.pending+2<=H.pending_buf_size&&(AA(H,255&k.adler),AA(H,k.adler>>8&255),k.adler=0,H.status=Y)):H.status=Y),H.pending!==0){if(N(k),k.avail_out===0)return H.last_flush=-1,f}else if(k.avail_in===0&&q(hA)<=q(sA)&&hA!==h)return W(k,-5);if(H.status===666&&k.avail_in!==0)return W(k,-5);if(k.avail_in!==0||H.lookahead!==0||hA!==u&&H.status!==666){var pA=H.strategy===2?(function(iA,_A){for(var TA;;){if(iA.lookahead===0&&(gA(iA),iA.lookahead===0)){if(_A===u)return b;break}if(iA.match_length=0,TA=o._tr_tally(iA,0,iA.window[iA.strstart]),iA.lookahead--,iA.strstart++,TA&&(S(iA,!1),iA.strm.avail_out===0))return b}return iA.insert=0,_A===h?(S(iA,!0),iA.strm.avail_out===0?$:U):iA.last_lit&&(S(iA,!1),iA.strm.avail_out===0)?b:I})(H,hA):H.strategy===3?(function(iA,_A){for(var TA,DA,UA,ye,ee=iA.window;;){if(iA.lookahead<=j){if(gA(iA),iA.lookahead<=j&&_A===u)return b;if(iA.lookahead===0)break}if(iA.match_length=0,iA.lookahead>=R&&0<iA.strstart&&(DA=ee[UA=iA.strstart-1])===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]){ye=iA.strstart+j;do;while(DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&DA===ee[++UA]&&UA<ye);iA.match_length=j-(ye-UA),iA.match_length>iA.lookahead&&(iA.match_length=iA.lookahead)}if(iA.match_length>=R?(TA=o._tr_tally(iA,1,iA.match_length-R),iA.lookahead-=iA.match_length,iA.strstart+=iA.match_length,iA.match_length=0):(TA=o._tr_tally(iA,0,iA.window[iA.strstart]),iA.lookahead--,iA.strstart++),TA&&(S(iA,!1),iA.strm.avail_out===0))return b}return iA.insert=0,_A===h?(S(iA,!0),iA.strm.avail_out===0?$:U):iA.last_lit&&(S(iA,!1),iA.strm.avail_out===0)?b:I})(H,hA):s[H.level].func(H,hA);if(pA!==$&&pA!==U||(H.status=666),pA===b||pA===$)return k.avail_out===0&&(H.last_flush=-1),f;if(pA===I&&(hA===1?o._tr_align(H):hA!==5&&(o._tr_stored_block(H,0,0,!1),hA===3&&(tA(H.head),H.lookahead===0&&(H.strstart=0,H.block_start=0,H.insert=0))),N(k),k.avail_out===0))return H.last_flush=-1,f}return hA!==h?f:H.wrap<=0?1:(H.wrap===2?(AA(H,255&k.adler),AA(H,k.adler>>8&255),AA(H,k.adler>>16&255),AA(H,k.adler>>24&255),AA(H,255&k.total_in),AA(H,k.total_in>>8&255),AA(H,k.total_in>>16&255),AA(H,k.total_in>>24&255)):(Q(H,k.adler>>>16),Q(H,65535&k.adler)),N(k),0<H.wrap&&(H.wrap=-H.wrap),H.pending!==0?f:1)},r.deflateEnd=function(k){var hA;return k&&k.state?(hA=k.state.status)!==v&&hA!==69&&hA!==73&&hA!==91&&hA!==103&&hA!==Y&&hA!==666?W(k,m):(k.state=null,hA===Y?W(k,-3):f):m},r.deflateSetDictionary=function(k,hA){var sA,H,C,J,dA,pA,iA,_A,TA=hA.length;if(!k||!k.state||(J=(sA=k.state).wrap)===2||J===1&&sA.status!==v||sA.lookahead)return m;for(J===1&&(k.adler=a(k.adler,hA,TA,0)),sA.wrap=0,TA>=sA.w_size&&(J===0&&(tA(sA.head),sA.strstart=0,sA.block_start=0,sA.insert=0),_A=new i.Buf8(sA.w_size),i.arraySet(_A,hA,TA-sA.w_size,sA.w_size,0),hA=_A,TA=sA.w_size),dA=k.avail_in,pA=k.next_in,iA=k.input,k.avail_in=TA,k.next_in=0,k.input=hA,gA(sA);sA.lookahead>=R;){for(H=sA.strstart,C=sA.lookahead-(R-1);sA.ins_h=(sA.ins_h<<sA.hash_shift^sA.window[H+R-1])&sA.hash_mask,sA.prev[H&sA.w_mask]=sA.head[sA.ins_h],sA.head[sA.ins_h]=H,H++,--C;);sA.strstart=H,sA.lookahead=R-1,gA(sA)}return sA.strstart+=sA.lookahead,sA.block_start=sA.strstart,sA.insert=sA.lookahead,sA.lookahead=0,sA.match_length=sA.prev_length=R-1,sA.match_available=0,k.next_in=pA,k.input=iA,k.avail_in=dA,sA.wrap=J,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(t,n,r){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(t,n,r){n.exports=function(s,i){var o,a,c,l,u,h,f,m,d,g,p,x,y,E,B,T,D,Z,R,j,L,v,Y,b,I;o=s.state,a=s.next_in,b=s.input,c=a+(s.avail_in-5),l=s.next_out,I=s.output,u=l-(i-s.avail_out),h=l+(s.avail_out-257),f=o.dmax,m=o.wsize,d=o.whave,g=o.wnext,p=o.window,x=o.hold,y=o.bits,E=o.lencode,B=o.distcode,T=(1<<o.lenbits)-1,D=(1<<o.distbits)-1;A:do{y<15&&(x+=b[a++]<<y,y+=8,x+=b[a++]<<y,y+=8),Z=E[x&T];e:for(;;){if(x>>>=R=Z>>>24,y-=R,(R=Z>>>16&255)===0)I[l++]=65535&Z;else{if(!(16&R)){if((64&R)==0){Z=E[(65535&Z)+(x&(1<<R)-1)];continue e}if(32&R){o.mode=12;break A}s.msg="invalid literal/length code",o.mode=30;break A}j=65535&Z,(R&=15)&&(y<R&&(x+=b[a++]<<y,y+=8),j+=x&(1<<R)-1,x>>>=R,y-=R),y<15&&(x+=b[a++]<<y,y+=8,x+=b[a++]<<y,y+=8),Z=B[x&D];t:for(;;){if(x>>>=R=Z>>>24,y-=R,!(16&(R=Z>>>16&255))){if((64&R)==0){Z=B[(65535&Z)+(x&(1<<R)-1)];continue t}s.msg="invalid distance code",o.mode=30;break A}if(L=65535&Z,y<(R&=15)&&(x+=b[a++]<<y,(y+=8)<R&&(x+=b[a++]<<y,y+=8)),f<(L+=x&(1<<R)-1)){s.msg="invalid distance too far back",o.mode=30;break A}if(x>>>=R,y-=R,(R=l-u)<L){if(d<(R=L-R)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break A}if(Y=p,(v=0)===g){if(v+=m-R,R<j){for(j-=R;I[l++]=p[v++],--R;);v=l-L,Y=I}}else if(g<R){if(v+=m+g-R,(R-=g)<j){for(j-=R;I[l++]=p[v++],--R;);if(v=0,g<j){for(j-=R=g;I[l++]=p[v++],--R;);v=l-L,Y=I}}}else if(v+=g-R,R<j){for(j-=R;I[l++]=p[v++],--R;);v=l-L,Y=I}for(;2<j;)I[l++]=Y[v++],I[l++]=Y[v++],I[l++]=Y[v++],j-=3;j&&(I[l++]=Y[v++],1<j&&(I[l++]=Y[v++]))}else{for(v=l-L;I[l++]=I[v++],I[l++]=I[v++],I[l++]=I[v++],2<(j-=3););j&&(I[l++]=I[v++],1<j&&(I[l++]=I[v++]))}break}}break}}while(a<c&&l<h);a-=j=y>>3,x&=(1<<(y-=j<<3))-1,s.next_in=a,s.next_out=l,s.avail_in=a<c?c-a+5:5-(a-c),s.avail_out=l<h?h-l+257:257-(l-h),o.hold=x,o.bits=y}},{}],49:[function(t,n,r){var s=t("../utils/common"),i=t("./adler32"),o=t("./crc32"),a=t("./inffast"),c=t("./inftrees"),l=1,u=2,h=0,f=-2,m=1,d=852,g=592;function p(v){return(v>>>24&255)+(v>>>8&65280)+((65280&v)<<8)+((255&v)<<24)}function x(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function y(v){var Y;return v&&v.state?(Y=v.state,v.total_in=v.total_out=Y.total=0,v.msg="",Y.wrap&&(v.adler=1&Y.wrap),Y.mode=m,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new s.Buf32(d),Y.distcode=Y.distdyn=new s.Buf32(g),Y.sane=1,Y.back=-1,h):f}function E(v){var Y;return v&&v.state?((Y=v.state).wsize=0,Y.whave=0,Y.wnext=0,y(v)):f}function B(v,Y){var b,I;return v&&v.state?(I=v.state,Y<0?(b=0,Y=-Y):(b=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?f:(I.window!==null&&I.wbits!==Y&&(I.window=null),I.wrap=b,I.wbits=Y,E(v))):f}function T(v,Y){var b,I;return v?(I=new x,(v.state=I).window=null,(b=B(v,Y))!==h&&(v.state=null),b):f}var D,Z,R=!0;function j(v){if(R){var Y;for(D=new s.Buf32(512),Z=new s.Buf32(32),Y=0;Y<144;)v.lens[Y++]=8;for(;Y<256;)v.lens[Y++]=9;for(;Y<280;)v.lens[Y++]=7;for(;Y<288;)v.lens[Y++]=8;for(c(l,v.lens,0,288,D,0,v.work,{bits:9}),Y=0;Y<32;)v.lens[Y++]=5;c(u,v.lens,0,32,Z,0,v.work,{bits:5}),R=!1}v.lencode=D,v.lenbits=9,v.distcode=Z,v.distbits=5}function L(v,Y,b,I){var $,U=v.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new s.Buf8(U.wsize)),I>=U.wsize?(s.arraySet(U.window,Y,b-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(I<($=U.wsize-U.wnext)&&($=I),s.arraySet(U.window,Y,b-I,$,U.wnext),(I-=$)?(s.arraySet(U.window,Y,b-I,I,0),U.wnext=I,U.whave=U.wsize):(U.wnext+=$,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=$))),0}r.inflateReset=E,r.inflateReset2=B,r.inflateResetKeep=y,r.inflateInit=function(v){return T(v,15)},r.inflateInit2=T,r.inflate=function(v,Y){var b,I,$,U,W,q,tA,N,S,AA,Q,rA,gA,EA,OA,yA,YA,ZA,IA,FA,k,hA,sA,H,C=0,J=new s.Buf8(4),dA=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!v||!v.state||!v.output||!v.input&&v.avail_in!==0)return f;(b=v.state).mode===12&&(b.mode=13),W=v.next_out,$=v.output,tA=v.avail_out,U=v.next_in,I=v.input,q=v.avail_in,N=b.hold,S=b.bits,AA=q,Q=tA,hA=h;A:for(;;)switch(b.mode){case m:if(b.wrap===0){b.mode=13;break}for(;S<16;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(2&b.wrap&&N===35615){J[b.check=0]=255&N,J[1]=N>>>8&255,b.check=o(b.check,J,2,0),S=N=0,b.mode=2;break}if(b.flags=0,b.head&&(b.head.done=!1),!(1&b.wrap)||(((255&N)<<8)+(N>>8))%31){v.msg="incorrect header check",b.mode=30;break}if((15&N)!=8){v.msg="unknown compression method",b.mode=30;break}if(S-=4,k=8+(15&(N>>>=4)),b.wbits===0)b.wbits=k;else if(k>b.wbits){v.msg="invalid window size",b.mode=30;break}b.dmax=1<<k,v.adler=b.check=1,b.mode=512&N?10:12,S=N=0;break;case 2:for(;S<16;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(b.flags=N,(255&b.flags)!=8){v.msg="unknown compression method",b.mode=30;break}if(57344&b.flags){v.msg="unknown header flags set",b.mode=30;break}b.head&&(b.head.text=N>>8&1),512&b.flags&&(J[0]=255&N,J[1]=N>>>8&255,b.check=o(b.check,J,2,0)),S=N=0,b.mode=3;case 3:for(;S<32;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.head&&(b.head.time=N),512&b.flags&&(J[0]=255&N,J[1]=N>>>8&255,J[2]=N>>>16&255,J[3]=N>>>24&255,b.check=o(b.check,J,4,0)),S=N=0,b.mode=4;case 4:for(;S<16;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.head&&(b.head.xflags=255&N,b.head.os=N>>8),512&b.flags&&(J[0]=255&N,J[1]=N>>>8&255,b.check=o(b.check,J,2,0)),S=N=0,b.mode=5;case 5:if(1024&b.flags){for(;S<16;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.length=N,b.head&&(b.head.extra_len=N),512&b.flags&&(J[0]=255&N,J[1]=N>>>8&255,b.check=o(b.check,J,2,0)),S=N=0}else b.head&&(b.head.extra=null);b.mode=6;case 6:if(1024&b.flags&&(q<(rA=b.length)&&(rA=q),rA&&(b.head&&(k=b.head.extra_len-b.length,b.head.extra||(b.head.extra=new Array(b.head.extra_len)),s.arraySet(b.head.extra,I,U,rA,k)),512&b.flags&&(b.check=o(b.check,I,rA,U)),q-=rA,U+=rA,b.length-=rA),b.length))break A;b.length=0,b.mode=7;case 7:if(2048&b.flags){if(q===0)break A;for(rA=0;k=I[U+rA++],b.head&&k&&b.length<65536&&(b.head.name+=String.fromCharCode(k)),k&&rA<q;);if(512&b.flags&&(b.check=o(b.check,I,rA,U)),q-=rA,U+=rA,k)break A}else b.head&&(b.head.name=null);b.length=0,b.mode=8;case 8:if(4096&b.flags){if(q===0)break A;for(rA=0;k=I[U+rA++],b.head&&k&&b.length<65536&&(b.head.comment+=String.fromCharCode(k)),k&&rA<q;);if(512&b.flags&&(b.check=o(b.check,I,rA,U)),q-=rA,U+=rA,k)break A}else b.head&&(b.head.comment=null);b.mode=9;case 9:if(512&b.flags){for(;S<16;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(N!==(65535&b.check)){v.msg="header crc mismatch",b.mode=30;break}S=N=0}b.head&&(b.head.hcrc=b.flags>>9&1,b.head.done=!0),v.adler=b.check=0,b.mode=12;break;case 10:for(;S<32;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}v.adler=b.check=p(N),S=N=0,b.mode=11;case 11:if(b.havedict===0)return v.next_out=W,v.avail_out=tA,v.next_in=U,v.avail_in=q,b.hold=N,b.bits=S,2;v.adler=b.check=1,b.mode=12;case 12:if(Y===5||Y===6)break A;case 13:if(b.last){N>>>=7&S,S-=7&S,b.mode=27;break}for(;S<3;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}switch(b.last=1&N,S-=1,3&(N>>>=1)){case 0:b.mode=14;break;case 1:if(j(b),b.mode=20,Y!==6)break;N>>>=2,S-=2;break A;case 2:b.mode=17;break;case 3:v.msg="invalid block type",b.mode=30}N>>>=2,S-=2;break;case 14:for(N>>>=7&S,S-=7&S;S<32;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if((65535&N)!=(N>>>16^65535)){v.msg="invalid stored block lengths",b.mode=30;break}if(b.length=65535&N,S=N=0,b.mode=15,Y===6)break A;case 15:b.mode=16;case 16:if(rA=b.length){if(q<rA&&(rA=q),tA<rA&&(rA=tA),rA===0)break A;s.arraySet($,I,U,rA,W),q-=rA,U+=rA,tA-=rA,W+=rA,b.length-=rA;break}b.mode=12;break;case 17:for(;S<14;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(b.nlen=257+(31&N),N>>>=5,S-=5,b.ndist=1+(31&N),N>>>=5,S-=5,b.ncode=4+(15&N),N>>>=4,S-=4,286<b.nlen||30<b.ndist){v.msg="too many length or distance symbols",b.mode=30;break}b.have=0,b.mode=18;case 18:for(;b.have<b.ncode;){for(;S<3;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.lens[dA[b.have++]]=7&N,N>>>=3,S-=3}for(;b.have<19;)b.lens[dA[b.have++]]=0;if(b.lencode=b.lendyn,b.lenbits=7,sA={bits:b.lenbits},hA=c(0,b.lens,0,19,b.lencode,0,b.work,sA),b.lenbits=sA.bits,hA){v.msg="invalid code lengths set",b.mode=30;break}b.have=0,b.mode=19;case 19:for(;b.have<b.nlen+b.ndist;){for(;yA=(C=b.lencode[N&(1<<b.lenbits)-1])>>>16&255,YA=65535&C,!((OA=C>>>24)<=S);){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(YA<16)N>>>=OA,S-=OA,b.lens[b.have++]=YA;else{if(YA===16){for(H=OA+2;S<H;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(N>>>=OA,S-=OA,b.have===0){v.msg="invalid bit length repeat",b.mode=30;break}k=b.lens[b.have-1],rA=3+(3&N),N>>>=2,S-=2}else if(YA===17){for(H=OA+3;S<H;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}S-=OA,k=0,rA=3+(7&(N>>>=OA)),N>>>=3,S-=3}else{for(H=OA+7;S<H;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}S-=OA,k=0,rA=11+(127&(N>>>=OA)),N>>>=7,S-=7}if(b.have+rA>b.nlen+b.ndist){v.msg="invalid bit length repeat",b.mode=30;break}for(;rA--;)b.lens[b.have++]=k}}if(b.mode===30)break;if(b.lens[256]===0){v.msg="invalid code -- missing end-of-block",b.mode=30;break}if(b.lenbits=9,sA={bits:b.lenbits},hA=c(l,b.lens,0,b.nlen,b.lencode,0,b.work,sA),b.lenbits=sA.bits,hA){v.msg="invalid literal/lengths set",b.mode=30;break}if(b.distbits=6,b.distcode=b.distdyn,sA={bits:b.distbits},hA=c(u,b.lens,b.nlen,b.ndist,b.distcode,0,b.work,sA),b.distbits=sA.bits,hA){v.msg="invalid distances set",b.mode=30;break}if(b.mode=20,Y===6)break A;case 20:b.mode=21;case 21:if(6<=q&&258<=tA){v.next_out=W,v.avail_out=tA,v.next_in=U,v.avail_in=q,b.hold=N,b.bits=S,a(v,Q),W=v.next_out,$=v.output,tA=v.avail_out,U=v.next_in,I=v.input,q=v.avail_in,N=b.hold,S=b.bits,b.mode===12&&(b.back=-1);break}for(b.back=0;yA=(C=b.lencode[N&(1<<b.lenbits)-1])>>>16&255,YA=65535&C,!((OA=C>>>24)<=S);){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(yA&&(240&yA)==0){for(ZA=OA,IA=yA,FA=YA;yA=(C=b.lencode[FA+((N&(1<<ZA+IA)-1)>>ZA)])>>>16&255,YA=65535&C,!(ZA+(OA=C>>>24)<=S);){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}N>>>=ZA,S-=ZA,b.back+=ZA}if(N>>>=OA,S-=OA,b.back+=OA,b.length=YA,yA===0){b.mode=26;break}if(32&yA){b.back=-1,b.mode=12;break}if(64&yA){v.msg="invalid literal/length code",b.mode=30;break}b.extra=15&yA,b.mode=22;case 22:if(b.extra){for(H=b.extra;S<H;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.length+=N&(1<<b.extra)-1,N>>>=b.extra,S-=b.extra,b.back+=b.extra}b.was=b.length,b.mode=23;case 23:for(;yA=(C=b.distcode[N&(1<<b.distbits)-1])>>>16&255,YA=65535&C,!((OA=C>>>24)<=S);){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if((240&yA)==0){for(ZA=OA,IA=yA,FA=YA;yA=(C=b.distcode[FA+((N&(1<<ZA+IA)-1)>>ZA)])>>>16&255,YA=65535&C,!(ZA+(OA=C>>>24)<=S);){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}N>>>=ZA,S-=ZA,b.back+=ZA}if(N>>>=OA,S-=OA,b.back+=OA,64&yA){v.msg="invalid distance code",b.mode=30;break}b.offset=YA,b.extra=15&yA,b.mode=24;case 24:if(b.extra){for(H=b.extra;S<H;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}b.offset+=N&(1<<b.extra)-1,N>>>=b.extra,S-=b.extra,b.back+=b.extra}if(b.offset>b.dmax){v.msg="invalid distance too far back",b.mode=30;break}b.mode=25;case 25:if(tA===0)break A;if(rA=Q-tA,b.offset>rA){if((rA=b.offset-rA)>b.whave&&b.sane){v.msg="invalid distance too far back",b.mode=30;break}gA=rA>b.wnext?(rA-=b.wnext,b.wsize-rA):b.wnext-rA,rA>b.length&&(rA=b.length),EA=b.window}else EA=$,gA=W-b.offset,rA=b.length;for(tA<rA&&(rA=tA),tA-=rA,b.length-=rA;$[W++]=EA[gA++],--rA;);b.length===0&&(b.mode=21);break;case 26:if(tA===0)break A;$[W++]=b.length,tA--,b.mode=21;break;case 27:if(b.wrap){for(;S<32;){if(q===0)break A;q--,N|=I[U++]<<S,S+=8}if(Q-=tA,v.total_out+=Q,b.total+=Q,Q&&(v.adler=b.check=b.flags?o(b.check,$,Q,W-Q):i(b.check,$,Q,W-Q)),Q=tA,(b.flags?N:p(N))!==b.check){v.msg="incorrect data check",b.mode=30;break}S=N=0}b.mode=28;case 28:if(b.wrap&&b.flags){for(;S<32;){if(q===0)break A;q--,N+=I[U++]<<S,S+=8}if(N!==(4294967295&b.total)){v.msg="incorrect length check",b.mode=30;break}S=N=0}b.mode=29;case 29:hA=1;break A;case 30:hA=-3;break A;case 31:return-4;default:return f}return v.next_out=W,v.avail_out=tA,v.next_in=U,v.avail_in=q,b.hold=N,b.bits=S,(b.wsize||Q!==v.avail_out&&b.mode<30&&(b.mode<27||Y!==4))&&L(v,v.output,v.next_out,Q-v.avail_out)?(b.mode=31,-4):(AA-=v.avail_in,Q-=v.avail_out,v.total_in+=AA,v.total_out+=Q,b.total+=Q,b.wrap&&Q&&(v.adler=b.check=b.flags?o(b.check,$,Q,v.next_out-Q):i(b.check,$,Q,v.next_out-Q)),v.data_type=b.bits+(b.last?64:0)+(b.mode===12?128:0)+(b.mode===20||b.mode===15?256:0),(AA==0&&Q===0||Y===4)&&hA===h&&(hA=-5),hA)},r.inflateEnd=function(v){if(!v||!v.state)return f;var Y=v.state;return Y.window&&(Y.window=null),v.state=null,h},r.inflateGetHeader=function(v,Y){var b;return v&&v.state?(2&(b=v.state).wrap)==0?f:((b.head=Y).done=!1,h):f},r.inflateSetDictionary=function(v,Y){var b,I=Y.length;return v&&v.state?(b=v.state).wrap!==0&&b.mode!==11?f:b.mode===11&&i(1,Y,I,0)!==b.check?-3:L(v,Y,I,I)?(b.mode=31,-4):(b.havedict=1,h):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(t,n,r){var s=t("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(l,u,h,f,m,d,g,p){var x,y,E,B,T,D,Z,R,j,L=p.bits,v=0,Y=0,b=0,I=0,$=0,U=0,W=0,q=0,tA=0,N=0,S=null,AA=0,Q=new s.Buf16(16),rA=new s.Buf16(16),gA=null,EA=0;for(v=0;v<=15;v++)Q[v]=0;for(Y=0;Y<f;Y++)Q[u[h+Y]]++;for($=L,I=15;1<=I&&Q[I]===0;I--);if(I<$&&($=I),I===0)return m[d++]=20971520,m[d++]=20971520,p.bits=1,0;for(b=1;b<I&&Q[b]===0;b++);for($<b&&($=b),v=q=1;v<=15;v++)if(q<<=1,(q-=Q[v])<0)return-1;if(0<q&&(l===0||I!==1))return-1;for(rA[1]=0,v=1;v<15;v++)rA[v+1]=rA[v]+Q[v];for(Y=0;Y<f;Y++)u[h+Y]!==0&&(g[rA[u[h+Y]]++]=Y);if(D=l===0?(S=gA=g,19):l===1?(S=i,AA-=257,gA=o,EA-=257,256):(S=a,gA=c,-1),v=b,T=d,W=Y=N=0,E=-1,B=(tA=1<<(U=$))-1,l===1&&852<tA||l===2&&592<tA)return 1;for(;;){for(Z=v-W,j=g[Y]<D?(R=0,g[Y]):g[Y]>D?(R=gA[EA+g[Y]],S[AA+g[Y]]):(R=96,0),x=1<<v-W,b=y=1<<U;m[T+(N>>W)+(y-=x)]=Z<<24|R<<16|j|0,y!==0;);for(x=1<<v-1;N&x;)x>>=1;if(x!==0?(N&=x-1,N+=x):N=0,Y++,--Q[v]==0){if(v===I)break;v=u[h+g[Y]]}if($<v&&(N&B)!==E){for(W===0&&(W=$),T+=b,q=1<<(U=v-W);U+W<I&&!((q-=Q[U+W])<=0);)U++,q<<=1;if(tA+=1<<U,l===1&&852<tA||l===2&&592<tA)return 1;m[E=N&B]=$<<24|U<<16|T-d|0}}return N!==0&&(m[T+N]=v-W<<24|64<<16|0),p.bits=$,0}},{"../utils/common":41}],51:[function(t,n,r){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(t,n,r){var s=t("../utils/common"),i=0,o=1;function a(C){for(var J=C.length;0<=--J;)C[J]=0}var c=0,l=29,u=256,h=u+1+l,f=30,m=19,d=2*h+1,g=15,p=16,x=7,y=256,E=16,B=17,T=18,D=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],R=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],j=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],L=new Array(2*(h+2));a(L);var v=new Array(2*f);a(v);var Y=new Array(512);a(Y);var b=new Array(256);a(b);var I=new Array(l);a(I);var $,U,W,q=new Array(f);function tA(C,J,dA,pA,iA){this.static_tree=C,this.extra_bits=J,this.extra_base=dA,this.elems=pA,this.max_length=iA,this.has_stree=C&&C.length}function N(C,J){this.dyn_tree=C,this.max_code=0,this.stat_desc=J}function S(C){return C<256?Y[C]:Y[256+(C>>>7)]}function AA(C,J){C.pending_buf[C.pending++]=255&J,C.pending_buf[C.pending++]=J>>>8&255}function Q(C,J,dA){C.bi_valid>p-dA?(C.bi_buf|=J<<C.bi_valid&65535,AA(C,C.bi_buf),C.bi_buf=J>>p-C.bi_valid,C.bi_valid+=dA-p):(C.bi_buf|=J<<C.bi_valid&65535,C.bi_valid+=dA)}function rA(C,J,dA){Q(C,dA[2*J],dA[2*J+1])}function gA(C,J){for(var dA=0;dA|=1&C,C>>>=1,dA<<=1,0<--J;);return dA>>>1}function EA(C,J,dA){var pA,iA,_A=new Array(g+1),TA=0;for(pA=1;pA<=g;pA++)_A[pA]=TA=TA+dA[pA-1]<<1;for(iA=0;iA<=J;iA++){var DA=C[2*iA+1];DA!==0&&(C[2*iA]=gA(_A[DA]++,DA))}}function OA(C){var J;for(J=0;J<h;J++)C.dyn_ltree[2*J]=0;for(J=0;J<f;J++)C.dyn_dtree[2*J]=0;for(J=0;J<m;J++)C.bl_tree[2*J]=0;C.dyn_ltree[2*y]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function yA(C){8<C.bi_valid?AA(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function YA(C,J,dA,pA){var iA=2*J,_A=2*dA;return C[iA]<C[_A]||C[iA]===C[_A]&&pA[J]<=pA[dA]}function ZA(C,J,dA){for(var pA=C.heap[dA],iA=dA<<1;iA<=C.heap_len&&(iA<C.heap_len&&YA(J,C.heap[iA+1],C.heap[iA],C.depth)&&iA++,!YA(J,pA,C.heap[iA],C.depth));)C.heap[dA]=C.heap[iA],dA=iA,iA<<=1;C.heap[dA]=pA}function IA(C,J,dA){var pA,iA,_A,TA,DA=0;if(C.last_lit!==0)for(;pA=C.pending_buf[C.d_buf+2*DA]<<8|C.pending_buf[C.d_buf+2*DA+1],iA=C.pending_buf[C.l_buf+DA],DA++,pA===0?rA(C,iA,J):(rA(C,(_A=b[iA])+u+1,J),(TA=D[_A])!==0&&Q(C,iA-=I[_A],TA),rA(C,_A=S(--pA),dA),(TA=Z[_A])!==0&&Q(C,pA-=q[_A],TA)),DA<C.last_lit;);rA(C,y,J)}function FA(C,J){var dA,pA,iA,_A=J.dyn_tree,TA=J.stat_desc.static_tree,DA=J.stat_desc.has_stree,UA=J.stat_desc.elems,ye=-1;for(C.heap_len=0,C.heap_max=d,dA=0;dA<UA;dA++)_A[2*dA]!==0?(C.heap[++C.heap_len]=ye=dA,C.depth[dA]=0):_A[2*dA+1]=0;for(;C.heap_len<2;)_A[2*(iA=C.heap[++C.heap_len]=ye<2?++ye:0)]=1,C.depth[iA]=0,C.opt_len--,DA&&(C.static_len-=TA[2*iA+1]);for(J.max_code=ye,dA=C.heap_len>>1;1<=dA;dA--)ZA(C,_A,dA);for(iA=UA;dA=C.heap[1],C.heap[1]=C.heap[C.heap_len--],ZA(C,_A,1),pA=C.heap[1],C.heap[--C.heap_max]=dA,C.heap[--C.heap_max]=pA,_A[2*iA]=_A[2*dA]+_A[2*pA],C.depth[iA]=(C.depth[dA]>=C.depth[pA]?C.depth[dA]:C.depth[pA])+1,_A[2*dA+1]=_A[2*pA+1]=iA,C.heap[1]=iA++,ZA(C,_A,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],(function(ee,lt){var O,M,_,P,V,lA,z=lt.dyn_tree,eA=lt.max_code,QA=lt.stat_desc.static_tree,WA=lt.stat_desc.has_stree,qA=lt.stat_desc.extra_bits,RA=lt.stat_desc.extra_base,ln=lt.stat_desc.max_length,zn=0;for(P=0;P<=g;P++)ee.bl_count[P]=0;for(z[2*ee.heap[ee.heap_max]+1]=0,O=ee.heap_max+1;O<d;O++)ln<(P=z[2*z[2*(M=ee.heap[O])+1]+1]+1)&&(P=ln,zn++),z[2*M+1]=P,eA<M||(ee.bl_count[P]++,V=0,RA<=M&&(V=qA[M-RA]),lA=z[2*M],ee.opt_len+=lA*(P+V),WA&&(ee.static_len+=lA*(QA[2*M+1]+V)));if(zn!==0){do{for(P=ln-1;ee.bl_count[P]===0;)P--;ee.bl_count[P]--,ee.bl_count[P+1]+=2,ee.bl_count[ln]--,zn-=2}while(0<zn);for(P=ln;P!==0;P--)for(M=ee.bl_count[P];M!==0;)eA<(_=ee.heap[--O])||(z[2*_+1]!==P&&(ee.opt_len+=(P-z[2*_+1])*z[2*_],z[2*_+1]=P),M--)}})(C,J),EA(_A,ye,C.bl_count)}function k(C,J,dA){var pA,iA,_A=-1,TA=J[1],DA=0,UA=7,ye=4;for(TA===0&&(UA=138,ye=3),J[2*(dA+1)+1]=65535,pA=0;pA<=dA;pA++)iA=TA,TA=J[2*(pA+1)+1],++DA<UA&&iA===TA||(DA<ye?C.bl_tree[2*iA]+=DA:iA!==0?(iA!==_A&&C.bl_tree[2*iA]++,C.bl_tree[2*E]++):DA<=10?C.bl_tree[2*B]++:C.bl_tree[2*T]++,_A=iA,ye=(DA=0)===TA?(UA=138,3):iA===TA?(UA=6,3):(UA=7,4))}function hA(C,J,dA){var pA,iA,_A=-1,TA=J[1],DA=0,UA=7,ye=4;for(TA===0&&(UA=138,ye=3),pA=0;pA<=dA;pA++)if(iA=TA,TA=J[2*(pA+1)+1],!(++DA<UA&&iA===TA)){if(DA<ye)for(;rA(C,iA,C.bl_tree),--DA!=0;);else iA!==0?(iA!==_A&&(rA(C,iA,C.bl_tree),DA--),rA(C,E,C.bl_tree),Q(C,DA-3,2)):DA<=10?(rA(C,B,C.bl_tree),Q(C,DA-3,3)):(rA(C,T,C.bl_tree),Q(C,DA-11,7));_A=iA,ye=(DA=0)===TA?(UA=138,3):iA===TA?(UA=6,3):(UA=7,4)}}a(q);var sA=!1;function H(C,J,dA,pA){Q(C,(c<<1)+(pA?1:0),3),(function(iA,_A,TA,DA){yA(iA),AA(iA,TA),AA(iA,~TA),s.arraySet(iA.pending_buf,iA.window,_A,TA,iA.pending),iA.pending+=TA})(C,J,dA)}r._tr_init=function(C){sA||((function(){var J,dA,pA,iA,_A,TA=new Array(g+1);for(iA=pA=0;iA<l-1;iA++)for(I[iA]=pA,J=0;J<1<<D[iA];J++)b[pA++]=iA;for(b[pA-1]=iA,iA=_A=0;iA<16;iA++)for(q[iA]=_A,J=0;J<1<<Z[iA];J++)Y[_A++]=iA;for(_A>>=7;iA<f;iA++)for(q[iA]=_A<<7,J=0;J<1<<Z[iA]-7;J++)Y[256+_A++]=iA;for(dA=0;dA<=g;dA++)TA[dA]=0;for(J=0;J<=143;)L[2*J+1]=8,J++,TA[8]++;for(;J<=255;)L[2*J+1]=9,J++,TA[9]++;for(;J<=279;)L[2*J+1]=7,J++,TA[7]++;for(;J<=287;)L[2*J+1]=8,J++,TA[8]++;for(EA(L,h+1,TA),J=0;J<f;J++)v[2*J+1]=5,v[2*J]=gA(J,5);$=new tA(L,D,u+1,h,g),U=new tA(v,Z,0,f,g),W=new tA(new Array(0),R,0,m,x)})(),sA=!0),C.l_desc=new N(C.dyn_ltree,$),C.d_desc=new N(C.dyn_dtree,U),C.bl_desc=new N(C.bl_tree,W),C.bi_buf=0,C.bi_valid=0,OA(C)},r._tr_stored_block=H,r._tr_flush_block=function(C,J,dA,pA){var iA,_A,TA=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=(function(DA){var UA,ye=4093624447;for(UA=0;UA<=31;UA++,ye>>>=1)if(1&ye&&DA.dyn_ltree[2*UA]!==0)return i;if(DA.dyn_ltree[18]!==0||DA.dyn_ltree[20]!==0||DA.dyn_ltree[26]!==0)return o;for(UA=32;UA<u;UA++)if(DA.dyn_ltree[2*UA]!==0)return o;return i})(C)),FA(C,C.l_desc),FA(C,C.d_desc),TA=(function(DA){var UA;for(k(DA,DA.dyn_ltree,DA.l_desc.max_code),k(DA,DA.dyn_dtree,DA.d_desc.max_code),FA(DA,DA.bl_desc),UA=m-1;3<=UA&&DA.bl_tree[2*j[UA]+1]===0;UA--);return DA.opt_len+=3*(UA+1)+5+5+4,UA})(C),iA=C.opt_len+3+7>>>3,(_A=C.static_len+3+7>>>3)<=iA&&(iA=_A)):iA=_A=dA+5,dA+4<=iA&&J!==-1?H(C,J,dA,pA):C.strategy===4||_A===iA?(Q(C,2+(pA?1:0),3),IA(C,L,v)):(Q(C,4+(pA?1:0),3),(function(DA,UA,ye,ee){var lt;for(Q(DA,UA-257,5),Q(DA,ye-1,5),Q(DA,ee-4,4),lt=0;lt<ee;lt++)Q(DA,DA.bl_tree[2*j[lt]+1],3);hA(DA,DA.dyn_ltree,UA-1),hA(DA,DA.dyn_dtree,ye-1)})(C,C.l_desc.max_code+1,C.d_desc.max_code+1,TA+1),IA(C,C.dyn_ltree,C.dyn_dtree)),OA(C),pA&&yA(C)},r._tr_tally=function(C,J,dA){return C.pending_buf[C.d_buf+2*C.last_lit]=J>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&J,C.pending_buf[C.l_buf+C.last_lit]=255&dA,C.last_lit++,J===0?C.dyn_ltree[2*dA]++:(C.matches++,J--,C.dyn_ltree[2*(b[dA]+u+1)]++,C.dyn_dtree[2*S(J)]++),C.last_lit===C.lit_bufsize-1},r._tr_align=function(C){Q(C,2,3),rA(C,y,L),(function(J){J.bi_valid===16?(AA(J,J.bi_buf),J.bi_buf=0,J.bi_valid=0):8<=J.bi_valid&&(J.pending_buf[J.pending++]=255&J.bi_buf,J.bi_buf>>=8,J.bi_valid-=8)})(C)}},{"../utils/common":41}],53:[function(t,n,r){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(t,n,r){(function(s){(function(i,o){if(!i.setImmediate){var a,c,l,u,h=1,f={},m=!1,d=i.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(i);g=g&&g.setTimeout?g:i,a={}.toString.call(i.process)==="[object process]"?function(E){Ln.nextTick(function(){x(E)})}:(function(){if(i.postMessage&&!i.importScripts){var E=!0,B=i.onmessage;return i.onmessage=function(){E=!1},i.postMessage("","*"),i.onmessage=B,E}})()?(u="setImmediate$"+Math.random()+"$",i.addEventListener?i.addEventListener("message",y,!1):i.attachEvent("onmessage",y),function(E){i.postMessage(u+E,"*")}):i.MessageChannel?((l=new MessageChannel).port1.onmessage=function(E){x(E.data)},function(E){l.port2.postMessage(E)}):d&&"onreadystatechange"in d.createElement("script")?(c=d.documentElement,function(E){var B=d.createElement("script");B.onreadystatechange=function(){x(E),B.onreadystatechange=null,c.removeChild(B),B=null},c.appendChild(B)}):function(E){setTimeout(x,0,E)},g.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var B=new Array(arguments.length-1),T=0;T<B.length;T++)B[T]=arguments[T+1];var D={callback:E,args:B};return f[h]=D,a(h),h++},g.clearImmediate=p}function p(E){delete f[E]}function x(E){if(m)setTimeout(x,0,E);else{var B=f[E];if(B){m=!0;try{(function(T){var D=T.callback,Z=T.args;switch(Z.length){case 0:D();break;case 1:D(Z[0]);break;case 2:D(Z[0],Z[1]);break;case 3:D(Z[0],Z[1],Z[2]);break;default:D.apply(o,Z)}})(B)}finally{p(E),m=!1}}}}function y(E){E.source===i&&typeof E.data=="string"&&E.data.indexOf(u)===0&&x(+E.data.slice(u.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof is<"u"?is:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Ip)),Ip.exports}var yV=bV(),Cp=Ps(yV);const Ev={"application/andrew-inset":["ez"],"application/appinstaller":["appinstaller"],"application/applixware":["aw"],"application/appx":["appx"],"application/appxbundle":["appxbundle"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/automationml-aml+xml":["aml"],"application/automationml-amlx+zip":["amlx"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cpl+xml":["cpl"],"application/cu-seeme":["cu"],"application/cwl":["cwl"],"application/dash+xml":["mpd"],"application/dash-patch+xml":["mpp"],"application/davmount+xml":["davmount"],"application/dicom":["dcm"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdf":["fdf"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["*js"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/media-policy-dataset+xml":["mpf"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["*mp4","*mpg4","mp4s","m4p"],"application/msix":["msix"],"application/msixbundle":["msixbundle"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg","one","onea"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-keys":["asc"],"application/pgp-signature":["sig","*asc"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/sql":["sql"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/watcherinfo+xml":["wif"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xfdf":["xfdf"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"application/zip+dotlottie":["lottie"],"audio/3gpp":["*3gpp"],"audio/aac":["adts","aac"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a","m4b"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avci":["avci"],"image/avcs":["avcs"],"image/avif":["avif"],"image/bmp":["bmp","dib"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/dpx":["dpx"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/ief":["ief"],"image/jaii":["jaii"],"image/jais":["jais"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpg","jpeg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm","jpgm"],"image/jpx":["jpx","jpf"],"image/jxl":["jxl"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/pjpeg":["jfif"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime","mht","mhtml"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/jt":["jt"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/prc":["prc"],"model/step":["step","stp","stpnc","p21","210"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/u3d":["u3d"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/javascript":["js","mjs"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["md","markdown"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/wgsl":["wgsl"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","*jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts","m2t","m2ts","mts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]};Object.freeze(Ev);var In=function(e,A,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof A=="function"?e!==A||!n:!A.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(e):n?n.value:A.get(e)},_o,rc,Di;class _V{constructor(...A){_o.set(this,new Map),rc.set(this,new Map),Di.set(this,new Map);for(const t of A)this.define(t)}define(A,t=!1){for(let[n,r]of Object.entries(A)){n=n.toLowerCase(),r=r.map(o=>o.toLowerCase()),In(this,Di,"f").has(n)||In(this,Di,"f").set(n,new Set);const s=In(this,Di,"f").get(n);let i=!0;for(let o of r){const a=o.startsWith("*");if(o=a?o.slice(1):o,s?.add(o),i&&In(this,rc,"f").set(n,o),i=!1,a)continue;const c=In(this,_o,"f").get(o);if(c&&c!=n&&!t)throw new Error(`"${n} -> ${o}" conflicts with "${c} -> ${o}". Pass \`force=true\` to override this definition.`);In(this,_o,"f").set(o,n)}}return this}getType(A){if(typeof A!="string")return null;const t=A.replace(/^.*[/\\]/s,"").toLowerCase(),n=t.replace(/^.*\./s,"").toLowerCase(),r=t.length<A.length;return!(n.length<t.length-1)&&r?null:In(this,_o,"f").get(n)??null}getExtension(A){return typeof A!="string"?null:(A=A?.split?.(";")[0],(A&&In(this,rc,"f").get(A.trim().toLowerCase()))??null)}getAllExtensions(A){return typeof A!="string"?null:In(this,Di,"f").get(A.toLowerCase())??null}_freeze(){this.define=()=>{throw new Error("define() not allowed for built-in Mime objects. See https://github.com/broofa/mime/blob/main/README.md#custom-mime-instances")},Object.freeze(this);for(const A of In(this,Di,"f").values())Object.freeze(A);return this}_getTestState(){return{types:In(this,_o,"f"),extensions:In(this,rc,"f")}}}_o=new WeakMap,rc=new WeakMap,Di=new WeakMap;var DV=new _V(Ev)._freeze(),rh={},kv;function BV(){if(kv)return rh;kv=1,Object.defineProperty(rh,"__esModule",{value:!0});function e(o){return typeof o=="string"?o.startsWith("#")?"hex":null:"r"in o&&"g"in o&&"b"in o?"rgb":"h"in o&&"s"in o&&"l"in o?"hsl":"h"in o&&"s"in o&&"v"in o?"hsv":null}function A(o){const a=o.replace("#",""),c=parseInt(a.substring(0,2),16),l=parseInt(a.substring(2,4),16),u=parseInt(a.substring(4,6),16);return{r:c,g:l,b:u}}function t(o){const{r:a,g:c,b:l}=o;return`#${(a<<16|c<<8|l).toString(16).padStart(6,"0")}`}function n(o,a,c){a/=100,c/=100;const l=f=>(f+o/30)%12,u=a*Math.min(c,1-c),h=f=>c-u*Math.max(-1,Math.min(l(f)-3,Math.min(9-l(f),1)));return{r:Math.round(h(0)*255),g:Math.round(h(8)*255),b:Math.round(h(4)*255)}}function r(o,a,c){a/=100,c/=100;const l=h=>(h+o/60)%6,u=h=>c-c*a*Math.max(0,Math.min(l(h),4-l(h),1));return{r:Math.round(u(5)*255),g:Math.round(u(3)*255),b:Math.round(u(1)*255)}}function s(o,a){const c=Math.abs(o.r-a.r),l=Math.abs(o.g-a.g),u=Math.abs(o.b-a.b),h=1-c/255,f=1-l/255,m=1-u/255;return(h+f+m)/3}function i(o){let a=Math.min(Math.max(o.similarityThreshold||.8,.01),1);const{targetColor:c,colorArray:l}=o,u=e(c);if(u===null)return null;let h;if(u==="hex")h=A(c);else if(u==="rgb")h=c;else if(u==="hsl"){const{h:d,s:g,l:p}=c;h=n(d,g,p)}else if(u==="hsv"){const{h:d,s:g,v:p}=c;h=r(d,g,p)}else return null;let f=null,m=0;for(const d of l){e(d.hex?d.hex:d.rgb),d.hex?d.rgb||(d.rgb=A(d.hex)):d.hex=t(d.rgb);const g=Math.round(s(h,d.rgb)*100)/100;g>=a&&g>m&&(m=g,f={name:d.name,hex:d.hex,rgb:d.rgb,similarity:g})}return f}return rh.default=i,rh}var EV=BV(),kV=Ps(EV);function vV(e,A=16){return e?ba(A-1).map(t=>{const n=t*Yl;return new yl(e.bits[n]/63,e.bits[n+1]/63,e.bits[n+2]/63)}):[]}let ts=class{pos;bytes;size;sauce;SAUCE_ID=new Uint8Array([83,65,85,67,69]);COMNT_ID=new Uint8Array([67,79,77,78,84]);constructor(A){this.bytes=A,this.pos=0,this.size=A.length,this.parseSauce()}get(){if(this.pos>=this.bytes.length)throw new Error("Unexpected end of file reached.");return this.bytes[this.pos++]}get16(){return this.get()+(this.get()<<8)}get32(){let A=this.get();return A+=this.get()<<8,A+=this.get()<<16,A+(this.get()<<24)}getC(){return String.fromCharCode(this.get())}getS(A){let t="";for(;A-- >0;)t+=this.getC();return t.replace(/\s+$/,"")}getSZ(A){let t="",n;for(;A-- >0&&(n=this.get(),n!==0);)t+=String.fromCharCode(n);return t}lookahead(A){let t;for(t=0;t<A.length&&!(this.pos+t===this.bytes.length||this.bytes[this.pos+t]!==A[t]);++t);return t===A.length}read(A){const t=this.pos;for(A=A??this.size-this.pos;++this.pos<this.size&&--A!==0;);return this.bytes.subarray(t,this.pos)}seek(A){this.pos=A}peek(A){return A=A??0,this.bytes[this.pos+A]}getPos(){return this.pos}eof(){return this.pos===this.size}parseSauce(){if(this.pos=this.bytes.length-128,this.lookahead(this.SAUCE_ID)){this.sauce={},this.getS(5),this.sauce.version=this.getS(2),this.sauce.title=this.getS(35),this.sauce.author=this.getS(20),this.sauce.group=this.getS(20),this.sauce.date=this.getS(8),this.sauce.fileSize=this.get32(),this.sauce.dataType=this.get(),this.sauce.fileType=this.get(),this.sauce.tInfo1=this.get16(),this.sauce.tInfo2=this.get16(),this.sauce.tInfo3=this.get16(),this.sauce.tInfo4=this.get16(),this.sauce.comments=[];const A=this.get();if(this.sauce.flags=this.get(),this.sauce.blinkMode=(this.sauce.flags&1)===1,this.sauce.letterSpacing=this.sauce.flags>>1&3,this.sauce.aspectRatio=this.sauce.flags>>3&3,this.sauce.tInfoS=this.getSZ(22),A>0&&(this.pos=this.bytes.length-128-A*64-5,this.lookahead(this.COMNT_ID))){this.getS(5);let t=A;for(;t-- >0;)this.sauce.comments.push(this.getS(64))}}this.pos=0,this.sauce?this.sauce.fileSize>0&&this.sauce.fileSize<this.bytes.length?this.size=this.sauce.fileSize:this.size=this.bytes.length-128:this.size=this.bytes.length}};function vv(e,A,t){const n=e.getData();A=A*e.columns*10;const r=Math.min(A+t*e.columns*10,n.length),s=[];for(let i=A;i<r;i+=10)if(n[i+1]){const o=n[i],a=n.subarray(i+2,i+6),c=n.subarray(i+6,i+10);s.push([o,a[0],c[0]])}else{const o=n[i],a=n[i+2],c=n[i+3];s.push([o,a,c])}return{screen:s,palette:e.palette,width:e.columns,height:e.rows}}function YV(e){e=e??{};const A={};switch(A.icecolors=typeof e.icecolors=="number"&&e.icecolors>=0&&e.icecolors<=1?e.icecolors:0,e.bits){case"8":case"9":case"ced":case"workbench":A.bits=e.bits;break;default:A.bits="8"}return A.columns=typeof e.columns=="number"&&e.columns>0?e.columns:160,A.font=typeof e.font=="string"&&e.font?e.font:"80x25",A.thumbnail=typeof e.thumbnail=="number"&&e.thumbnail>=0&&e.thumbnail<=3?e.thumbnail:0,A["2x"]=typeof e["2x"]=="number"&&e["2x"]>=0&&e["2x"]<=1?e["2x"]:0,A.imagedata=typeof e.imagedata=="number"&&e.imagedata>=0&&e.imagedata<=1?e.imagedata:0,A.rows=typeof e.rows=="number"&&e.rows>0?e.rows:26,A["2J"]=typeof e["2J"]=="number"&&e["2J"]>=0&&e["2J"]<=1?e["2J"]:1,A.filetype=typeof e.filetype=="string"?e.filetype:"ans",A}const Bi={"b-strict":{width:8,height:8,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgAGABsbAAAAAAAAGxs/mz+bGwAGD5gPAZ8GAAAdpx4PGrMADxmZD9sxn8AGBgwAAAAAAAMGDAwMBgMADAYDAwMGDAAAMd+PH7/GBAAGBj/GBgAAAAAAAAAGBgwAAAA/gAAAAAAAAAAABgYAAMGDBgwYMCAAnzO1tbmfIAAfAwMDAwMAHzGxgZ8wP4A/AZ8BsbGfADAwMbGxn8GAP7AfAbGxnwAfMD8xsbGfAD+xgwYMDAwAHzGxsZ8xnwAfMbGxn4GfAAAGBgAABgYAAAYGAAAGBgwAAYYYBgGAAAAAH4AfgAAAABgGAYYYAAAfMbGBnwwADB+w9/z38B9AHzGxsb+xsYA/MbGxvzG/AB8xsbAwMZ8APjMxsbGxvwAPmbGwPjA/gA+ZsbA+MDAAHzGxsDexn4AxsbGxv7GxgAYGBgYGBgYAP7GBgbGzPgAxsbGzPjGxgDAwMDAwMD+AMbu/tbGxsYAxub23s7GxgB8xsbGxsZ8APzGxsb8wMAAfMbGxsbOfgP8xsbM+MbGAHzGxsB8BnwAfhgYGBgYGADGxsbGxsZ8AMbGxsZsbDgAxsbG1v7uxgDGxsbGfMbGAMbGbGw4MGAA/sbGBnzA/AA8MDAwMDA8AMBgMBgMBgMBPAwMDAwMPAAYPGbDAAAAAAAAAAAAAAD/GBgOAAAAAAAAfAZ+xsZ+AMD8xsbGxvwAAHzGwMDGfAAGfsbGxsZ+AAB8xsb+wHwAADxmZmZg/GAAfsbGxn4GfMD8xsbGxsYAGAAYGBgYGAAGAAYGxsbGfMDGxsbM/sYAwMDAwMbGfAAA/NbW1sbGAAD8xsbGxsYAAHzGxsbGfAAA/MbGxvzAAAB+xsbGfgYAAHzGxsbAwAAAfMbAfAZ8AGD+YGZmZjwAAMbGxsbGfgAAxsbGbHw4AADGxtbW1nwAAMbGxnzGxgAAwMbGxn4GfAD+xgZ8wP4ADhgYcBgYDgAYGBgYGBgYGHAYGA4YGHAAdtwAAAAAAAAPPvjjDz74AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAAAAAAAAAABgAGBgYGBgA//////////8cMDB8MDB+AGM+dz5jAAAAw2Y8GD4YGAAYGBgAGBgYAD5wPnc+Bz4AZmYAAAAAAAB+gZ2xnYF+AB42Zj4AfwAAADt37nc7AAD/DgAAAAAAAAAAAP4AAAAAf8H99/33wX//AAAAAAAAADxmPAAAAAAAHBx/HBwAfwB8Dhw4fgAAAHwOHA58AAAAHDhwAAAAAAAAAHd3d3d/cD9/fz8PDw8AAAAcHAAAAAAAAAAAAAAcODh4ODg4AAAAPGZmPAB+AAAA7nc7d+4AAGDnbnw7d+8DYOdufD9z5g/gM3c+/Tt34RwAHDhwdz4AOBw+d393dwAOHD53f3d3ABx3Pnd/d3cAec8+d393dwB3AD53f3d3ABw2Pnd/d3cAHz4+f37u7wAfOHBwOB8OHDgcf3B8cH8ADhx/cHxwfwAcd39wfHB/AP9/Pw8ff///OBw+HBwcPgAOHD4cHBw+ABx3PhwcHD4A//788Pj+//98fnf/d358AHnv9///7+cAOBw+d3d3PgAOHD53d3c+ABx3Pnd3dz4Aec8+d3d3PgDjPnd3d3c+AADnfjx+5wAAP3d/f393/gA4HHd3d3c+AA4cd3d3dz4AHDZ3d3d3PgB3AHd3d3c+AAcM43c+HBwA4OD+5/7g4AA+d3d+d3d+cDgcPgc/dz8ADhw+Bz93PwAcdz4HP3c/AHnPPgc/dz8AdwA+Bz93PwAcNj4HP3c/AAAAfx9//H8AAAA+cHBwPhw4HD53f3A+AA4cPnd/cD4AHHc+d39wPgAPP39//////zgcABwcHA4ADhwAHBwcDgAcdwAcHBwOAPD8/v7/////cP4cPnd3PgB5zwB+d3d3ADgcAD53dz4ADhwAPnd3PgAcdwA+d3c+AHnPAD53dz4AAHcAPnd3PgAAHAB/ABwAAAADfu//937AOBwAd3d3PwAOHAB3d3c/ABx3AHd3dz8A/////39/Pw8OHAB3dz4cOHBwfnd3fnBw//////7+/PA=",amigaFont:!0},"b-struct":{width:8,height:8,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgAGABsbAAAAAAAAGxs/mz+bGwAGD5gPAZ8GAAAdpx4PGrMADxmZD9sxn8AGBgwAAAAAAAMGDAwMBgMADAYDAwMGDAAAMd+PH7/GBAAGBj/GBgAAAAAAAAAGBgwAAAA/gAAAAAAAAAAABgYAAMGDBgwYMCAAnzO1tbmfIAAfAwMDAwMAHzGxgZ8wP4A/AZ8BsbGfADAwMbGxn8GAP7AfAbGxnwAfMD8xsbGfAD+xgwYMDAwAHzGxsZ8xnwAfMbGxn4GfAAAGBgAABgYAAAYGAAAGBgwAAYYYBgGAAAAAH4AfgAAAABgGAYYYAAAfMbGBnwwADB+w9/z38B9AHwGfsbGxn4A/MbGxvzG/AB8xsbAwMZ8APjMxsbGxvwAfMbGxv7AfAA8ZmZmYP5gAHbOxsZ+BnwAxsbGxv7GxgAYGBgYGBgYAH4GBsbGxnwAxsbGzPjGxgDAwMDAxsZ8AMbu/tbGxsYA/MbGxsbGxgB8xsbGxsZ8APzGxsbG/MAAfMbGxsbMfgP8xsbM+MbGAHzGxsB8BnwAYPxgZmZmPADGxsbGxsZ8AMbGxsZsbDgAxsbG1v7uxgDGxsbGfMbGAMbGxsZ+BnwA/sbGBnzA/gA8MDAwMDA8AMBgMBgMBgMBPAwMDAwMPAAYPGbDAAAAAAAAAAAAAAD/GBgOAAAAAAB8BnbOxsZ+APzGzPjGxvwAfMbAxsbGfAAGfsbGxsZ+AHzG/sDGxnwAPGZmZmD8YAB+xsbOdgZ8AMbG/sbGxsYAGAAYGBgYGAAGAB7GxsZ8AMbGxsz8xsYAYGBgYGZmPAD81tbWxsbGAMbm9t7OxsYAfMbGxsbGfAD8xsbG/MDAAHzGxsbOdgYA/MbG+MzGxgB8xsbAfAZ8AP5gZmZmZjwABsbGxsbOdgAGxsbGbHw4AAbGxtbW1nwABsbGxnzGxgAGxsbGfgZ8AP4GfMDGxv4ADhgYcBgYDgAYGBgYGBgYGHAYGA4YGHAAdtwAAAAAAAAGPOCGDjjAAAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAf3d3d3d/AAB/d3d3d38AAH93d3d3fwAAAAAAAAAAABgAGBgYGBgA//////////8cMDB8MDB+AGM+dz5jAAAAw2Y8GD4YGAAYGBgAGBgYAAAzZsxmMwAAZmYAAAAAAAB+gZ2xnYF+AB42Zj4AfwAAADNmzGYzAAD/DgAAAAAAAAAAAP4AAAAA6U9JAAAAAAD/AAAAAAAAADxmPAAAAAAAAAAYfhgAfgB4DBgwfAAAAHgMGAx4AAAAGDBgAAAAAAAAAGZmZmZ/YD56ejoKCgoAAAAAGBgAAAAAAAAAAAAcOHgYGBgAAAAAPGZmPAB+AAAAzGYzZswAAEDGTFgyZs4CQMNGTB4yZA7gM2Y8+TNnAQwADD5gY2M+YDB8xsb+xgAMGHzGxv7GADjGfMbG/sYAdtx8xsb+xgBsAHzGxv7GABhmfMbG/sYAAH/MzP/MzwB8xsDAwMZ8GHA+ZsD4wP4ADD5mwPjA/gAwzP7A+MD+AP9/Pw8ff///MBgAGBgYGAAMGAAYGBgYABhmGBgYGBgA//788Pj+//94bGb2ZmZ8ADtuAOb23s4AYDB8xsbGfAAMGHzGxsZ8ADDMfMbGxnwAbNh8xsbGfADGAHzGxsZ8AADDZhhmwwAAfM7O1ubmfAAwGMbGxsZ8ABgwxsbGxnwAEGyCxsbGfABsAMbGxsZ8ABgwxsbGfgZ8YGB8ZnxgYAB8xsbG3MbcwGAwPAZ+xn4ADBg8Bn7GfgAYZjwGfsZ+AHbcPAZ+xn4AbAA8Bn7GfgAYZjwGfsZ+AAAAPht/2G4AAHzGwMDGfBhgMHzG/sB8AAwYfMb+wHwAMMx8xv7AfAADHz9/f////zAYABgYGAwADBgAGBgYDAAYZgAYGBgMAMD4/P7+////Dz9///9/Pw9m2PzGxsbGADAYfMbGxnwAGDB8xsbGfADw/P7///788HbcfMbGxnwAbAB8xsbGfAAAGAB+ABgAAAB8ztbW5nwAYDDGxsbGfgAYMMbGxsZ+ABhmAMbGxn4A////f38/HwMYMMbGxn4GfGBgfGZmfGBg/////v78+MA=",amigaFont:!0},microknight:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwkJAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAEBB8fNDQfHwWFhYWfHwQEGBglpZ8fBgYMDBsbNLSDAxwcNjYcHD29tzc2Nh8fAYGGBgYGDAwAAAAAAAAAAAAABgYMDBgYGBgYGAwMBgYAAAwMBgYDAwMDAwMGBgwMAAAAABsbDg4/v44OGxsAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAf38AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB4eMzM3t729ubmfHwAABgYGBg4OBgYGBgYGH5+AAB8fAYGPDxgYMDAwMD+/gAAPDwGBhwcBgZGRsbGfHwAABgYGBgwMGxszMz+/gwMAAD4+MDA/PwGBkZGzMx4eAAAcHDAwPz8xsbGxszMeHgAAP7+BgYMDBgYGBgYGBgYAAB4eMzMfHzGxsbGzMx4eAAAeHjMzMbGxsZ+fgYGHBwAAAAAAAAYGBgYAAAYGBgYAAAAAAAAGBgYGAAAGBgYGDAwAAAYGDAwYGAwMBgYAAAAAAAAAAB+fgAAAAB+fgAAAAAAADAwGBgMDBgYMDAAAAAAfHzGxgYGPDwwMAAAMDAAAHx8xsbe3tbW3t7AwH5+AAB4eMzMxsb+/sbGxsbGxgAA+PjMzPz8xsbGxszM+PgAAHh4zMzAwMDAwMDGxnx8AAD4+MzMxsbGxsbGxsb8/AAA/v7AwPz8wMDAwMDA/v4AAP7+wMD8/MDAwMDAwMDAAAA4OGBgwMDOzsbGxsZ+fgYGxsbGxsbG/v7GxsbGxsYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBsbGxsZ8fAAAxsbMzNjY8PDY2MzMxsYAAMDAwMDAwMDAwMDAwP7+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAAHh4zMzGxsbGxsbGxnx8AAD4+MzMxsbGxvz8wMDAwAAAeHjMzMbGxsbGxtbWfHwMDPj4zMzGxsbG/PzY2MzMBgZ4eMDAfHwGBkZGxsZ8fAAAfn4YGBgYGBgYGBgYGBgAAMbGxsbGxsbGxsbGxnx8AADGxsbGxsZsbGxsODg4OAAAxsbGxsbG1tb+/u7uxsYAAMbGbGw4ODg4bGzGxsbGAADGxsbGxsZ8fAwMDAwMDAAA/v4MDBgYMDBgYMDA/v4AADg4MDAwMDAwMDAwMDg4AADAwGBgMDAYGAwMBgYDAwEBODgYGBgYGBgYGBgYODgAABAQODhsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAPDwGBn5+xsbGxn5+AADAwPj4zMzGxsbGxsb8/AAAAAB4eMzMwMDAwMbGfHwAAAYGPj5mZsbGxsbGxn5+AAAAAHh4zMz8/MDAxsZ8fAAAODhsbGBgeHhgYGBgYGBgYAAAfn7GxsbGxsZ+fgYGfHzAwPj4zMzGxsbGxsbGxgAAGBgAADg4GBgYGBgYfn4AAAwMAAAcHAwMDAwMDExMODjAwMzM2Njw8NjYzMzGxgAAODgYGBgYGBgYGBgYfn4AAAAAxMTu7v7+1tbGxsbGAAAAAPj4zMzGxsbGxsbGxgAAAAB4eMzMxsbGxsbGfHwAAAAA+PjMzMbGxsbGxvz8wMAAAD4+ZmbGxsbGxsZ+fgYGAAD8/MbGwMDAwMDAwMAAAAAAeHjAwHx8BgbGxnx8AAAwMHx8MDAwMDAwMjIcHAAAAADGxsbGxsbGxsbGfn4AAAAAxsbGxmxsbGw4ODg4AAAAAMbG1tb+/nx8bGxERAAAAADGxmxsODg4OGxsxsYAAAAAxsbGxsbGxsZ+fgYGfHwAAP7+DAwYGDAwYGD+/gAADAwYGBgYMDAYGBgYDAwAABgYGBgYGBgYGBgYGBgYGBgwMBgYGBgMDBgYGBgwMAAAcnKcnAAAAAAAAAAAAAAAADg4cHDg4MHBg4MHBw4OHBzPz/f3h4czMwEBOTk5Of//5+ff34eHMzMBATk5OTn//8/PMzOHhzMzAQE5OTk5//+NjWNjh4czMwEBOTk5Of//k5P//4eHMzMBATk5OTn//4eHMzOHhzMzAQE5OTk5///AwJOTMDADAzMzMzMwMP//h4czMz8/Pz8/PzMzh4fPz8/P9/cBAT8/AwM/PwEB///n59/fAQE/PwMDPz8BAf//5+eZmQEBPz8DAz8/AQH//5OT//8BAT8/AwM/PwEB///Pz/f3gYHn5+fn5+eBgf//5+ff34GB5+fn5+fngYH//+fnmZmBgefn5+fn54GB//+Tk///gYHn5+fn5+eBgf//BwczMzk5GRk5OTk5AwP//42NY2MZGQkJISExMTk5///Pz/f3h4czMzk5OTmDg///5+ff34eHMzM5OTk5g4P//8/PMzOHhzMzOTk5OYOD//+NjWNjh4czMzk5OTmDg///k5P//4eHMzM5OTk5g4P/////g4MpKQAAJCQ4OIGB//+HhzMzISEJCRkZOTmDg///z8/39zk5OTk5OTk5g4P//+fn3985OTk5OTk5OYOD///n55mZOTk5OTk5OTmDg///k5P//zk5OTk5OTk5g4P//+fn3985OTk5g4Pz8/Pz//8/PwcHMzM5OQMDPz8/Pz8///+HhzMzIyM5OTk5IyM/PwAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAMDB4eMzMwMDAwMbGfHwwMDg4bGxgYPj4YGBgYP7+AAAAAMbGfHzGxsbGfHzGxgAAxsbGxsbGfHwMDD4+DAwAABgYGBgYGAAAGBgYGBgYAAB4eMDAfHzGxsbGfHwGBjw8bGwAAAAAAAAAAAAAAAAAADw8QkKZmaGhoaGZmUJCPDwAAH5+xsbGxn5+AAB8fAAAAAA2Nmxs2NhsbDY2AAAAAHx8DAwAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PHx8AAAAAAAAAAAAAAAAAAA4OGxsbGw4OAAAAAAAAAAAAAAQEHx8EBAAAHx8AAAAAHBwGBgwMGBgeHgAAAAAAABwcBgYMDAYGHBwAAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAxsbGxsbGxsbGxvz8wMAAAH5+9PR0dBQUFBQUFAAAAAAAAAAAGBgYGAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMHh4AAAAAAAAAAB8fMbGxsZ8fAAAfHwAAAAA2NhsbDY2bGzY2AAAAABgYObmbGx6ejY2b2/PzwMDYGDm5mxseHg+PmNjzs4fH+DgNjZsbDo69vZvb8/PAwMwMAAAMDA8PAYGxsZ8fAAAMDAICHh4zMz+/sbGxsYAABgYICB4eMzM/v7GxsbGAAAwMMzMeHjMzP7+xsbGxgAAcnKcnHh4zMz+/sbGxsYAAGxsAAB4eMzM/v7GxsbGAAB4eMzMeHjMzP7+xsbGxgAAPz9sbM/P/PzMzMzMz88AAHh4zMzAwMDAwMDGxnx8MDAwMAgI/v7AwPz8wMD+/gAAGBggIP7+wMD8/MDA/v4AABgYZmb+/sDA/PzAwP7+AABsbAAA/v7AwPz8wMD+/gAAMDAICH5+GBgYGBgYfn4AABgYICB+fhgYGBgYGH5+AAAYGGZmfn4YGBgYGBh+fgAAbGwAAH5+GBgYGBgYfn4AAPj4zMzGxubmxsbGxvz8AABycpyc5ub29t7ezs7GxgAAMDAICHh4zMzGxsbGfHwAABgYICB4eMzMxsbGxnx8AAAwMMzMeHjMzMbGxsZ8fAAAcnKcnHh4zMzGxsbGfHwAAGxsAAB4eMzMxsbGxnx8AAAAAHx81tb//9vbx8d+fgAAeHjMzN7e9vbm5sbGfHwAADAwCAjGxsbGxsbGxnx8AAAYGCAgxsbGxsbGxsZ8fAAAGBhmZsbGxsbGxsbGfHwAAGxsAADGxsbGxsbGxnx8AAAYGCAgxsbGxnx8DAwMDAAAwMD4+MzMxsb8/MDAwMDAwAAAeHjMzNzcxsbGxtzcwMAwMAgIPDwGBn5+xsZ+fgAAGBggIDw8BgZ+fsbGfn4AABgYZmY8PAYGfn7Gxn5+AABycpycPDwGBn5+xsZ+fgAAbGwAADw8BgZ+fsbGfn4AADw8ZmY8PAYGfn7Gxn5+AAAAAH5+Gxt/f9jY2Nh/fwAAAAB4eMzMwMDAwMbGfHwwMDAwCAh4ePz8wMDGxnx8AAAYGCAgeHj8/MDAxsZ8fAAAMDDMzHh4/PzAwMbGfHwAAGxsAAB4ePz8wMDGxnx8AAAwMAgIODgYGBgYGBh+fgAAGBggIDg4GBgYGBgYfn4AABgYZmY4OBgYGBgYGH5+AABsbAAAODgYGBgYGBh+fgAADAwWFj4+ZmbGxsbGfn4AAHJynJz4+MzMxsbGxsbGAAAwMAgIeHjMzMbGxsZ8fAAAGBggIHh4zMzGxsbGfHwAABgYZmZ4eMzMxsbGxnx8AABycpyceHjMzMbGxsZ8fAAAbGwAAHh4zMzGxsbGfHwAAAAAGBgAAH5+AAAYGAAAAAAAAHh4zMze3vb25uZ8fAAAMDAICMbGxsbGxsbGfn4AABgYICDGxsbGxsbGxn5+AAAYGGZmxsbGxsbGxsZ+fgAAbGwAAMbGxsbGxsbGfn4AABgYICDGxsbGxsZ+fgYGfHzAwMDA+PjMzMbG/PzAwMDAbGwAAMbGxsbGxn5+BgZ8fA==",amigaFont:!0},"microknight+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwkJAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAEBB8fNDQfHwWFhYWfHwQEGBglpZsbBgYMDBsbNLSDAxwcNjYcHD29tzc2Nh8fAYGGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABsbDg4/v44OGxsAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB4eMzM3t729ubmfHwAABgYGBg4OBgYGBgYGH5+AAB8fAYGPDxgYMDAwMD+/gAAPDwGBhwcBgZGRsbGfHwAABgYGBgwMGxszMz+/gwMAAD4+MDA/PwGBkZGzMx4eAAAcHDAwPz8xsbGxszMeHgAAP7+BgYMDBgYGBgYGBgYAAB4eMzMfHzGxsbGzMx4eAAAeHjMzMbGxsZ+fgYGHBwAAAAAAAAYGBgYAAAYGBgYAAAAAAAAGBgYGAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAB+fgAAAAB+fgAAAADAwGBgMDAYGDAwYGDAwAAAfHzGxgYGPDwwMAAAMDAAAHx8xsbe3tbW3t7AwH5+AAB4eMzMxsb+/sbGxsbGxgAA+PjMzPz8xsbGxszM+PgAAHh4zMzAwMDAwMDGxnx8AAD4+MzMxsbGxsbGxsb8/AAA/v7AwPz8wMDAwMDA/v4AAP7+wMD8/MDAwMDAwMDAAAA4OGBgwMDOzsbGxsZ+fgYGxsbGxsbG/v7GxsbGxsYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBsbGxsZ8fAAAxsbMzNjY8PDY2MzMxsYAAMDAwMDAwMDAwMDAwP7+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAAHh4zMzGxsbGxsbGxnx8AAD4+MzMxsbGxvz8wMDAwAAAeHjMzMbGxsbGxtbWfHwMDPj4zMzGxsbG/PzY2MzMBgZ4eMDAfHwGBkZGxsZ8fAAAfn4YGBgYGBgYGBgYGBgAAMbGxsbGxsbGxsbGxnx8AADGxsbGxsZsbGxsODg4OAAAxsbGxsbG1tb+/u7uxsYAAMbGbGw4ODg4bGzGxsbGAADGxsbGxsZ8fAwMDAwMDAAA/v4MDBgYMDBgYMDA/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABAQODhsbAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAPDwGBn5+xsbGxn5+AADAwPj4zMzGxsbGxsb8/AAAAAB4eMzMwMDAwMbGfHwAAAYGPj5mZsbGxsbGxn5+AAAAAHh4zMz8/MDAxsZ8fAAAODhsbGBgeHhgYGBgYGBgYAAAfn7GxsbGxsZ+fgYGfHzAwPj4zMzGxsbGxsbGxgAAGBgAADg4GBgYGBgYfn4AAAwMAAAcHAwMDAwMDExMODjAwMzM2Njw8NjYzMzGxgAAODgYGBgYGBgYGBgYfn4AAAAAxMTu7v7+1tbGxsbGAAAAAPj4zMzGxsbGxsbGxgAAAAB4eMzMxsbGxsbGfHwAAAAA+PjMzMbGxsbGxvz8wMAAAD4+ZmbGxsbGxsZ+fgYGAAD8/MbGwMDAwMDAwMAAAAAAeHjAwHx8BgbGxnx8AAAwMHx8MDAwMDAwMjIcHAAAAADGxsbGxsbGxsbGfn4AAAAAxsbGxmxsbGw4ODg4AAAAAMbG1tb+/nx8bGxERAAAAADGxmxsODg4OGxsxsYAAAAAxsbGxsbGxsZ+fgYGfHwAAP7+DAwYGDAwYGD+/gAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAADg4cHDg4MHBg4MHBw4OHBzPz/f3h4czMwEBOTk5Of//5+ff34eHMzMBATk5OTn//8/PMzOHhzMzAQE5OTk5//+NjWNjh4czMwEBOTk5Of//k5P//4eHMzMBATk5OTn//4eHMzOHhzMzAQE5OTk5///AwJOTMDADAzMzMzMwMP//h4czMz8/Pz8/PzMzh4fPz8/P9/cBAT8/AwM/PwEB///n59/fAQE/PwMDPz8BAf//5+eZmQEBPz8DAz8/AQH//5OT//8BAT8/AwM/PwEB///Pz/f3gYHn5+fn5+eBgf//5+ff34GB5+fn5+fngYH//+fnmZmBgefn5+fn54GB//+Tk///gYHn5+fn5+eBgf//BwczMzk5GRk5OTk5AwP//42NY2MZGQkJISExMTk5///Pz/f3h4czMzk5OTmDg///5+ff34eHMzM5OTk5g4P//8/PMzOHhzMzOTk5OYOD//+NjWNjh4czMzk5OTmDg///k5P//4eHMzM5OTk5g4P/////g4MpKQAAJCQ4OIGB//+HhzMzISEJCRkZOTmDg///z8/39zk5OTk5OTk5g4P//+fn3985OTk5OTk5OYOD///n55mZOTk5OTk5OTmDg///k5P//zk5OTk5OTk5g4P//+fn3985OTk5g4Pz8/Pz//8/PwcHMzM5OQMDPz8/Pz8///+HhzMzIyM5OTk5IyM/PwAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAMDB4eMzMwMDAwMbGfHwwMDg4bGxgYPj4YGBgYP7+AAAAAMbGfHzGxsbGfHzGxgAAxsbGxsbGfHwMDD4+DAwAABgYGBgYGBgAABgYGBgYGBh4eMDAfHzGxsbGfHwGBjw8bGwAAAAAAAAAAAAAAAAAADw8QkKZmaGhoaGZmUJCPDwAAH5+xsbGxn5+AAB8fAAAAAA2Nmxs2NhsbDY2AAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PP//AAAAAAAAAAAAAAAAAAA8PGZmZmY8PAAAAAAAAAAAAAAQEHx8EBAAAHx8AAAAAHBwGBgwMGBgeHgAAAAAAABwcBgYMDAYGHBwAAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAxsbGxsbGxsbGxvz8wMAAAH5+9PR0dBQUFBQUFAAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMHh4AAAAAAAAAAB8fMbGxsZ8fAAAfHwAAAAA2NhsbDY2bGzY2AAAAABjY+bmbGx7ezc1bW/Dw4CAY2Pm5mxsfn8zNmZvz8CAgMDAZsZsbNvbNzVtb8PDAAAwMAAAMDA8PAYGxsZ8fAAAMDAICHh4zMz+/sbGxsYAABgYICB4eMzM/v7GxsbGAAAwMMzMeHjMzP7+xsbGxgAAcnKcnHh4zMz+/sbGxsYAAGxsAAB4eMzM/v7GxsbGAAB4eMzMeHjMzP7+xsbGxgAAPz9sbM/P/PzMzMzMz88AAHh4zMzAwMDAwMDGxnx8MDAwMAgI/v7AwPz8wMD+/gAAGBggIP7+wMD8/MDA/v4AABgYZmb+/sDA/PzAwP7+AABsbAAA/v7AwPz8wMD+/gAAMDAICH5+GBgYGBgYfn4AABgYICB+fhgYGBgYGH5+AAAYGGZmfn4YGBgYGBh+fgAAbGwAAH5+GBgYGBgYfn4AAPj4zMzGxubmxsbGxvz8AABycpyc5ub29t7ezs7GxgAAMDAICHh4zMzGxsbGfHwAABgYICB4eMzMxsbGxnx8AAAwMMzMeHjMzMbGxsZ8fAAAcnKcnHh4zMzGxsbGfHwAAGxsAAB4eMzMxsbGxnx8AAAAAHx81tb//9vbx8d+fgAAeHjMzN7e9vbm5sbGfHwAADAwCAjGxsbGxsbGxnx8AAAYGCAgxsbGxsbGxsZ8fAAAGBhmZsbGxsbGxsbGfHwAAGxsAADGxsbGxsbGxnx8AAAYGCAgxsbGxnx8DAwMDAAAwMD4+MzMxsb8/MDAwMDAwAAAeHjMzNzcxsbGxtzcwMAwMAgIPDwGBn5+xsZ+fgAAGBggIDw8BgZ+fsbGfn4AABgYZmY8PAYGfn7Gxn5+AABycpycPDwGBn5+xsZ+fgAAbGwAADw8BgZ+fsbGfn4AADw8ZmY8PAYGfn7Gxn5+AAAAAH5+Gxt/f9jY2Nh/fwAAAAB4eMzMwMDAwMbGfHwwMDAwCAh4ePz8wMDGxnx8AAAYGCAgeHj8/MDAxsZ8fAAAMDDMzHh4/PzAwMbGfHwAAGxsAAB4ePz8wMDGxnx8AAAwMAgIODgYGBgYGBh+fgAAGBggIDg4GBgYGBgYfn4AABgYZmY4OBgYGBgYGH5+AABsbAAAODgYGBgYGBh+fgAADAwWFj4+ZmbGxsbGfn4AAHJynJz4+MzMxsbGxsbGAAAwMAgIeHjMzMbGxsZ8fAAAGBggIHh4zMzGxsbGfHwAABgYZmZ4eMzMxsbGxnx8AABycpyceHjMzMbGxsZ8fAAAbGwAAHh4zMzGxsbGfHwAAAAAGBgAAH/+AAAYGAAAAAAAAHh4zMze3vb25uZ8fAAAMDAICMbGxsbGxsbGfn4AABgYICDGxsbGxsbGxn5+AAAYGGZmxsbGxsbGxsZ+fgAAbGwAAMbGxsbGxsbGfn4AABgYICDGxsbGxsZ+fgYGfHzAwMDA+PjMzMbG/PzAwMDAbGwAAMbGxsbGxn5+BgZ8fA==",amigaFont:!0},mosoul:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAADg4GBgYGBgYGBgYGBgYAAA8PAYGPDxgYGBgYGB+fgAAfHwGBhwcBgYGBgYGfHwAAAwMzMzMzMzM/v4MDAwMAAB8fGBgfHwGBgYGBgZ8fAAAPDxgYHx8ZmZmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmPDxmZmZmZmY8PAAAPDxmZmZmZmY+PgYGPDwAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAAAGBhgYYGAYGAYGAAAAAAAAAAD//wAA//8AAAAAAAAAAGBgGBgGBhgYYGAAAAAAPDxmZgYGHBwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZmZn5+ZmZmZgAAfHxmZnx8ZmZmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB8fGZmZmZmZmZmZmZ8fAAAfn5gYGBgYGB4eGBgfn4AAH5+YGBgYGBgeHhgYGBgAAA8PGBgbm5mZmZmZmY+PgAAZmZmZmZmZmZ+fmZmZmYAADw8GBgYGBgYGBgYGDw8AAAODgYGBgYGBgYGBgY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZmZnx8YGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZmZmfHxmZmZmAAA8PGBgPDwGBgYGBgZ8fAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/PwAADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwEBPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMDAwMDB8fDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAD4+YGBgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPDwAAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY+PgYGPDwAAAAAfn4MDBgYMDB+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYGBhwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAfn5mZmZmZmZmZn5+AAAAAH5+ZmZmZmZmZmZ+fgAAAAB+fmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAADw8QkKdnaGhoaGdnUJCPDwcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAPDxCQrm5paW5uaWlQkI8PP//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDIyZmbPzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAP//AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},"pot-noodle":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAP//g4M5OSkpIyM/P4GB/////4ODOTkhITk5OTk5OX9///8DA5mZk5OZmZmZAwP/////g4M5OT8/Pz85OYOD9/f//w8Ph4eTk5mZmZkDA/////8BAZ+fg4Ofn5mZAwP39/v7AQGcnIeHn5+fnx8f///394ODOTk/PzExOTmBgf39//85OTk5ISE5OTk5OTl/f///gYHn5+fn5+fn54GB///9/fn5+fn5+RkZOTkDA39///85OTMzJyczMzk5OTl/f///Hx+fn5+fn5+ZmQMD9/f//zk5EREBASkpOTk5OX9///85OSkpISExMTk5OTn/////g4M5OTk5OTk5OYOD/////wMDmZmZmZOTn58fH/////+Dgzk5OTkpKTU1i4v9/f//AwOZmZOTmZmZmRkZ+/v//4ODPz+Dg/n5OTkDA39/9/cDA8nJz8/Pz8/Pz8/f339/MTEzMzMzMzMzM4GB//9/fzk5OTmTk5OTx8fv7///f385OTk5KSkBAREROTn//z8/OTk5OaOjOTk5OTk5/f39/Tk5OTmjo+fn5+fn5/////8BAfPz5+fNzZmZgYH9/f//gYHPz8/Pz8/Pz4GB//8/P5+fz8/n5/Pz+fn8/P7+//+BgfPz8/Pz8/PzgYH/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAAAAcHBwcGBgYGAAAGBgQEGZmZmYAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBh+fsDAfHwGBvz8MDAAAGNjpqbMzBgYMzNlZcbGgIA8PGZmZGR7e87OxsZ7ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAAAB8fM7O1tbW1ubmfHwAAAAAGBg4OBgYGBgYGH5+AAAAAHx8xsaMjDg4Zmb+/gAAICB8fMbGHh4GBsbGfHwAAICAxsbGxn5+BgYGBgYGAgIAAP7+wMD8/AYGxsb8/AAAAAB8fMDA/PzGxsbGfHwAAICA/v7MzJiYMDBgYMDAAAAAAHx8xsZ8fMbGxsZ8fAAAAAB8fMbGxsZ+fgYGfHwAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwGBgwMGBgwMBgYDAwGBgAAAAAAAD//wAAAAD//wAAAAAwMBgYDAwGBgwMGBgwMAAAAAA8PGZmDAwYGAAAGBgQEAAAfHzGxtbW3NzAwH5+AAAAAHx8xsbe3sbGxsbGxoCAAAD8/GZmbGxmZmZm/PwAAAAAfHzGxsDAwMDGxnx8CAgAAPDweHhsbGZmZmb8/AAAAAD+/mBgfHxgYGZm/PwICAQE/v5jY3h4YGBgYODgAAAICHx8xsbAwM7OxsZ+fwICAADGxsbG3t7GxsbGxsaAgAAAfn4YGBgYGBgYGH5+AAACAgYGBgYGBubmxsb8/ICAAADGxszM2NjMzMbGxsaAgAAA4OBgYGBgYGBmZvz8CAgAAMbG7u7+/tbWxsbGxoCAAADGxtbW3t7OzsbGxsYAAAAAfHzGxsbGxsbGxnx8AAAAAPz8ZmZmZmxsYGDg4AAAAAB8fMbGxsbW1srKdHQCAgAA/PxmZmxsZmZmZubmBAQAAH5+wMB8fAYGxsb8/ICACAj8/DY2MDAwMDAwMDAgIICAzs7MzMzMzMzMzH5+AACAgMbGxsZsbGxsODgQEAAAgIDGxsbG1tb+/u7uxsYAAICAxsbGxlxcxsbGxsbGAgICAsbGxsZcXBgYGBgYGAgIAAD+/gwMGBgyMmZm/v4CAgAAfn4wMDAwMDAwMH5+AADAwGBgMDAYGAwMBgYDAwEBAAB+fgwMDAwMDAwMfn4AABgYPDxmZgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAB8fAYGdnbGxn5+AADg4GBgbGxmZmZmZmb8/AAAAAAAAH5+wsLAwMLCfn4AAA4ODAxsbMzMzMzMzH5+AAAAAAAAfHzGxtzcwMB+fgAAHh4wMHx8MDAwMDAwMDAgIAAAAAB8fMbGxsZ2dgYG/Pzg4GBgbGxmZmZmZmbm5gAAGBgAABgYGBgYGBgYGBgQEAICBgYAAAYGBgbGxsbGfHzg4GBgZmZsbHh4bGzm5gICGBgYGBgYGBgYGBgYGBgQEAAAAAD8/NbW1tbW1tbWgIAAAAAA/PxmZmZmZmbm5gQEAAAAAHx8xsbGxsbGfHwAAAAAAAD8/GZmZmZsbGBg4OAAAAAAfn7MzMzMbGwMDA4OAAAICPz8ZmZgYGBgYGBAQAAAAAB+fsDAfHwGBvz8AAAwMDAwfHwwMDAwMDAwMCAgAACAgM7OzMzMzMzMfn4AAAAAgIDGxsbGbGxsbDg4AAAAAAIC1tbW1tbW1tZ8fAAAAAAAAMbGxsZcXMbGxsYCAgAAgIDGxsbGxsZeXgYGfHwAAAAA/v6MjBgYMjL+/gAAHBwwMDAwYGAwMDAwHBwAABgYGBgYGBgYGBgYGBgYGBg4OAwMDAwGBgwMDAw4OAAAdnbc3AAAAAAAAAAAAAAAAMzMMzPMzDMzzMwzM8zMMzOfn+fng4M5OSEhOTk5OXt78/PPz4ODOTkhITk5OTl7e4ODOTmDgzk5ISE5OTk5e3uJiSMjg4M5OSEhOTk5OXt7OTn//4ODOTkhITk5OTl7e4ODOTmDgzk5ISE5OTk5e3v//4CAMzMgIDMzMzMwMHd3//+Dgzk5Pz8/Pzk5g4PPz5+fz88DA5+fg4OfnwEB///n58/PAwOfn4ODn58BAf//z88zMwMDn5+Dg5+fAQH//zMz//8DA5+fg4OfnwEB//8/P8/PAwPPz8/Pz88DA///8/PPzwMDz8/Pz8/PAwP//8/PMzP//wMDz8/PzwMD//8zM///AwPPz8/Pz88DA/////8fH4+Ph4cTE5mZAwP//4mJIyMZGQkJISExMTk5///Pz+fng4M5OTk5OTmDg///5+fPz4ODOTk5OTk5g4P//8/PMzP//4eHMzMzM4eH//+JiSMj//+Dgzk5OTmDg///OTn//4ODOTk5OTk5g4P///////88PJmZ5+eZmTw8///+/oWFOzs1NSkpWVmjo39/z8/n539/MTEzMzMzgYH//+fnz89/fzExMzMzM4GB///PzzMzf38xMTMzMzOBgf////8zM39/MTEzMzMzgYH///Pz5+c8PJmZw8Pn58PD//8PD5+fg4OZmYODn5+fnw8Pg4M5OTk5IyM5OTk5IyM/P+fnw8OZmf////////////8QEBgYAAAYGBgYHBwcHAAAAAAYGH5+wMDAwMDAfn4YGAgIPDxmZvj4YGBmZvz8CAjGxnx8xsbGxnx8xsYAAAAAxsbGxmxsODgQEP7+EBAQEBgYGBgYGAAAGBgYGBgYAAB8fMDAPDxmZmZmPDwDAz4+JCQAAAAAAAAAAAAAAAAAAHx8goKamqKioqKamoKCfHwAAHh4zMzMzPb2AAD+/gAAAAASEmxs2NhsbBISAAAAAP7+BgYAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfHyCgrKyqqqysqqqgoJ8fP//AAAAAAAAAAAAAAAAAAB4eMzMeHgAAAAAAAAAAAAAMDAwMPz8MDAwMAAA/PwAAHBw2NgwMGBg+PgAAAAAAADw8BgYcHAYGPDwAAAAAAAAMDBgYMDAAAAAAAAAAAAAAAAAAACAgMbGxsbGxv//wMB+fuzs7OxsbCwsLCwuLgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDBgYODgYGBgYPDwAAAAAAAAAAB4eMzMeHgAAPz8AAAAAAAASEg2NhsbNjZISAAAAABjY+bmbGx7ezc3b2/DwwAAY2Pm5mxsfn4zM2Zmz88AAMPD5uZsbNvbNzdvb8PDAAAICBgYAAAYGDAwZmY8PAAAYGAYGHx8xsbe3sbGxsaEhAwMMDB8fMbG3t7GxsbGhIR8fMbGfHzGxt7exsbGxoSEdnbc3Hx8xsbe3sbGxsaEhMbGAAB8fMbG3t7GxsbGhIR8fMbGfHzGxt7exsbGxoSEAAB/f8zM39/MzMzMz8+IiAAAfHzGxsDAwMDGxnx8MDBgYDAw/PxgYHx8YGD+/gAAGBgwMPz8YGB8fGBg/v4AADAwzMz8/GBgfHxgYP7+AADMzAAA/PxgYHx8YGD+/gAAwMAwMPz8MDAwMDAw/PwAAAwMMDD8/DAwMDAwMPz8AAAwMMzMAAD8/DAwMDD8/AAAzMwAAPz8MDAwMDAw/PwAAAAA4OBwcHh47OxmZvz8AAB2dtzc5ub29t7ezs7GxgAAMDAYGHx8xsbGxsbGfHwAABgYMDB8fMbGxsbGxnx8AAAwMMzMAAB4eMzMzMx4eAAAdnbc3AAAfHzGxsbGfHwAAMbGAAB8fMbGxsbGxnx8AAAAAAAAw8NmZhgYZmbDwwAAAQF6esTEysrW1qamXFyAgDAwGBiAgM7OzMzMzH5+AAAYGDAwgIDOzszMzMx+fgAAMDDMzICAzs7MzMzMfn4AAAAAzMyAgM7OzMzMzH5+AAAMDBgYw8NmZjw8GBg8PAAA8PBgYHx8ZmZ8fGBgYGDw8Hx8xsbGxtzcxsbGxtzcwMAwMBgYfHwGBnZ2xsZ+fgAAGBgwMHx8BgZ2dsbGfn4AABgYZmZ8fAYGdnbGxn5+AAB2dtzcfHwGBnZ2xsZ+fgAAxsYAAHx8BgZ2dsbGfn4AAHx8xsZ8fAYGdnbGxn5+AAAAAAAAfn4bG35+yMh/fwAAAAAAAHx8xsbAwMbGfHwwMDAwGBh8fMbG3NzAwH5+AAAYGDAwfHzGxtzcwMB+fgAAGBhmZnx8xsbc3MDAfn4AAMbGAAB8fMbG3NzAwH5+AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAMDB+fhgYfHzGxsbGfHwAAHZ23NwAAPz8xsbGxsbGAgIwMBgYAAB8fMbGxsZ8fAAAGBgwMAAAfHzGxsbGfHwAABgYZmYAAHx8xsbGxnx8AAB2dtzcAAB8fMbGxsZ8fAAAAABsbAAAfHzGxsbGfHwAAAAAGBgAAH5+AAAYGAAAAAAAAAMDPj5ubn5+dnZ8fMDAdnbc3ICAxsbGxsbGfn4AAAwMGBiAgMbGxsbGxn5+AAAYGGZmgIDGxsbGxsZ+fgAAAADGxoCAxsbGxsbGfn4AAAwMGBiAgMbGxsZsbDg48PDw8GBgfHxmZmZmfHxgYPDwAADGxoCAxsbGxmxsODjw8A==",amigaFont:!0},topaz:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAIODOTkhISkpISE/P4eH///Dw5mZmZmBgZmZmZmZmf//g4OZmZmZg4OZmZmZg4P//+Hhz8+fn5+fn5/Pz+Hh//+Hh5OTmZmZmZmZk5OHh///gYGfn5+fh4efn5+fgYH//4GBn5+fn4eHn5+fn5+f///Dw5mZn5+RkZmZmZnBwf//mZmZmZmZgYGZmZmZmZn//8PD5+fn5+fn5+fn58PD///5+fn5+fn5+fn5mZnDw///nJyZmZOTh4eTk5mZnJz//5+fn5+fn5+fn5+fn4GB//+cnIiIgICUlJycnJycnP//nJyMjISEkJCYmJycnJz//8PDmZmZmZmZmZmZmcPD//+Dg5mZmZmDg5+fn5+fn///w8OZmZmZmZmZmZGRwMD//4ODmZmZmYODk5OZmZmZ///Dw5mZj4/Dw/HxmZnDw///gYHn5+fn5+fn5+fn5+f//5mZmZmZmZmZmZmZmcPD//+ZmZmZmZmZmZmBw8Pn5///nJycnJyclJSAgIiInJz//zw8mZnDw+fnw8OZmTw8//88PJmZw8Pn5+fn5+fn5///gID5+fPz5+fPz5+fgID//8PDz8/Pz8/Pz8/Pz8PD//8/P5+fz8/n5/Pz+fn8/P//w8Pz8/Pz8/Pz8/Pzw8P/////////////////////gIAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAfn4AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwAAAPDxmZm5ufn52dmZmPDwAABgYODh4eBgYGBgYGBgYAAA8PGZmBgYMDBgYMDB+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDAwMAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAAAGBhgYYGAYGAYGAAAAAAAAAAB+fgAAfn4AAAAAAAAAAGBgGBgGBhgYYGAAAAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZ+fmZmZmZmZgAAfHxmZmZmfHxmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB4eGxsZmZmZmZmbGx4eAAAfn5gYGBgeHhgYGBgfn4AAH5+YGBgYHh4YGBgYGBgAAA8PGZmYGBubmZmZmY+PgAAZmZmZmZmfn5mZmZmZmYAADw8GBgYGBgYGBgYGDw8AAAGBgYGBgYGBgYGZmY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZ8fGBgYGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZnx8bGxmZmZmAAA8PGZmcHA8PA4OZmY8PAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/v4AADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwAAPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMHx8MDAwMDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAHx8ZmZgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPj4AAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY8PBgYMDAAAAAAfn4MDBgYMDB+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYAABwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAADPz+fnw8OZmYGBmZmZmf//8/Pn58PDmZmBgZmZmZn//+fnmZnDw5mZgYGZmZmZ//+OjnFxw8OZmYGBmZmZmf//mZn//8PDmZmBgZmZmZn//+fn29vDw5mZgYGZmZmZ///g4MPDw8OQkIODMzMwMP//4eHPz5+fn5/Pz+Hh8/Pn58/P5+eBgZ+fh4efn4GB///z8+fngYGfn4eHn5+Bgf//5+eZmYGBn5+Hh5+fgYH//5mZ//+BgZ+fh4efn4GB///Pz+fnw8Pn5+fn5+fDw///8/Pn58PD5+fn5+fnw8P//+fnmZnDw+fn5+fn58PD//+Zmf//w8Pn5+fn5+fDw///h4eTk5mZCQmZmZOTh4f//46OMTEZGQkJISExMTk5///Pz+fnw8OZmZmZmZnDw///8/Pn58PDmZmZmZmZw8P//+fnmZnDw5mZmZmZmcPD//+OjnFxw8OZmZmZmZnDw///PDzDw5mZmZmZmZmZw8P/////OTmTk8fHk5M5Of/////AwJmZkZGBgYmJmZkDA///z8/n55mZmZmZmZmZw8P///Pz5+eZmZmZmZmZmcPD///n59vbmZmZmZmZmZnDw///mZn//5mZmZmZmZmZw8P///n59/c8PJmZw8Pn5+fn//8/Pz8/AwM5OQMDPz8/P///w8OZmZmZk5OZmZmZk5Ofn/f34+PJyZyc//////////8YGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAAH5+gYGdnbGxnZ2BgX5+AAAcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAAAB+fgAAAAAAAAAAfn6Bgbm5paW5uaWlgYF+fn5+AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDIyZmbPzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},"topaz+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAIODOTkhISkpISE/P4eH///Dw5mZmZmBgZmZmZmZmf//g4OZmZmZg4OZmZmZg4P//+Hhz8+fn5+fn5/Pz+Hh//+Hh5OTmZmZmZmZk5OHh///gYGfn5+fh4efn5+fgYH//4GBn5+fn4eHn5+fn5+f///Dw5mZn5+RkZmZmZnBwf//mZmZmZmZgYGZmZmZmZn//8PD5+fn5+fn5+fn58PD///5+fn5+fn5+fn5mZnDw///nJyZmZOTh4eTk5mZnJz//5+fn5+fn5+fn5+fn4GB//+cnIiIgICUlJycnJycnP//nJyMjISEkJCYmJycnJz//8PDmZmZmZmZmZmZmcPD//+Dg5mZmZmDg5+fn5+fn///w8OZmZmZmZmZmZGRwMD//4ODmZmZmYODk5OZmZmZ///Dw5mZj4/Dw/HxmZnDw///gYHn5+fn5+fn5+fn5+f//5mZmZmZmZmZmZmZmcPD//+ZmZmZmZmZmZmBw8Pn5///nJycnJyclJSAgIiInJz//zw8mZnDw+fnw8OZmTw8//88PJmZw8Pn5+fn5+fn5///gID5+fPz5+fPz5+fgID//8PAz8/Pz8/Pz8/Pz8DD//8/P5+fz8/n5/Pz+fn8/P7+wwPz8/Pz8/Pz8/PzA8P/////////////////////AAAAAAAAAAAAAAAAAAAAAAAAGBgYGBgYGBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAMDZmasrNjYNjZqaszMAAA4OGxsaGh2dtzczs57ewAAGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAABgYODh4eBgYGBgYGBgYAAA8PGZmBgYMDBgYMDB+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDAwMAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+BgYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAD//wAA//8AAAAAAADAwGBgMDAYGDAwYGDAwAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3tbW3t7AwHh4AAA8PGZmZmZ+fmZmZmZmZgAAfHxmZmZmfHxmZmZmfHwAAB4eMDBgYGBgYGAwMB4eAAB4eGxsZmZmZmZmbGx4eAAAfn5gYGBgeHhgYGBgfn4AAH5+YGBgYHh4YGBgYGBgAAA8PGZmYGBubmZmZmY+PgAAZmZmZmZmfn5mZmZmZmYAADw8GBgYGBgYGBgYGDw8AAAGBgYGBgYGBgYGZmY8PAAAxsbMzNjY8PDY2MzMxsYAAGBgYGBgYGBgYGBgYH5+AADGxu7u/v7W1sbGxsbGxgAAxsbm5vb23t7OzsbGxsYAADw8ZmZmZmZmZmZmZjw8AAB8fGZmZmZ8fGBgYGBgYAAAeHjMzMzMzMzMzNzcfn4AAHx8ZmZmZnx8bGxmZmZmAAA8PGZmcHA8PA4OZmY8PAAAfn4YGBgYGBgYGBgYGBgAAGZmZmZmZmZmZmZmZjw8AABmZmZmZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw2ZmPDwYGBgYGBgYGAAA/v4MDBgYMDBgYMDA/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGPj5mZj4+AABgYGBgfHxmZmZmZmZ8fAAAAAAAADw8YGBgYGBgPDwAAAYGBgY+PmZmZmZmZj4+AAAAAAAAPDxmZn5+YGA8PAAAHBwwMHx8MDAwMDAwMDAAAAAAAAA+PmZmZmY+PgYGPDxgYGBgfHxmZmZmZmZmZgAAGBgAABgYGBgYGBgYDAwAAAwMAAAMDAwMDAwMDAwMeHhgYGBgZmZsbHh4bGxmZgAAGBgYGBgYGBgYGBgYDAwAAAAAAADs7P7+1tbGxsbGAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAAB8fGZmZmZ8fGBgYGAAAAAAPj5mZmZmPj4GBgYGAAAAAHx8ZmZgYGBgYGAAAAAAAAA8PGBgPDwGBnx8AAAwMDAwfHwwMDAwMDAcHAAAAAAAAGZmZmZmZmZmPj4AAAAAAABmZmZmZmY8PBgYAAAAAAAAxsbGxtbW/v5sbAAAAAAAAMbGbGw4OGxsxsYAAAAAAABmZmZmZmY8PBgYMDAAAAAAfn4MDBgYMDB+fgAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAADPz+fnw8OZmYGBmZmZmf//8/Pn58PDmZmBgZmZmZn//+fnmZnDw5mZgYGZmZmZ//+OjnFxw8OZmYGBmZmZmf//mZn//8PDmZmBgZmZmZn//+fn29vDw5mZgYGZmZmZ///g4MPDw8OQkIODMzMwMP//4eHPz5+fn5/Pz+Hh8/Pn58/P5+eBgZ+fh4efn4GB///z8+fngYGfn4eHn5+Bgf//5+eZmYGBn5+Hh5+fgYH//5mZ//+BgZ+fh4efn4GB///Pz+fnw8Pn5+fn5+fDw///8/Pn58PD5+fn5+fnw8P//+fnmZnDw+fn5+fn58PD//+Zmf//w8Pn5+fn5+fDw///h4eTk5mZCQmZmZOTh4f//46OMTEZGQkJISExMTk5///Pz+fnw8OZmZmZmZnDw///8/Pn58PDmZmZmZmZw8P//+fnmZnDw5mZmZmZmcPD//+OjnFxw8OZmZmZmZnDw///PDzDw5mZmZmZmZmZw8P/////OTmTk8fHk5M5Of/////AwJmZkZGBgYmJmZkDA///z8/n55mZmZmZmZmZw8P///Pz5+eZmZmZmZmZmcPD///n59vbmZmZmZmZmZnDw///mZn//5mZmZmZmZmZw8P///n59/c8PJmZw8Pn5+fn//8/Pz8/AwM5OQMDPz8/P///w8OZmZmZk5OZmZmZk5Ofn/f34+PJyZyc//////////8YGAAAGBgYGBgYGBgYGAAAAAAMDD4+bGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYGBgAABgYGBgYGAAAGBgYGBgYAAA8PGBgPDxmZjw8BgY8PAAAZmZmZgAAAAAAAAAAAAAAAH5+gYGdnbGxnZ2BgX5+AAAcHCQkREQ8PAAAfn4AAAAAAAAzM2ZmzMxmZjMzAAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAAAD//wAAAAAAAAAAfn6Bgbm5paW5uaWlgYF+fv//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAHh4DAwYGDAwfHwAAAAAAAB4eAwMGBgMDHh4AAAAAAAAGBgwMGBgAAAAAAAAAAAAAAAAAABmZmZmZmZmZn9/YGA+Pnp6eno6OgoKCgoKCgAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAODhEREREODgAAHx8AAAAAAAAzMxmZjMzZmbMzAAAAABAQMbGTExYWDAyYmbGzwICQEDGxkxMWFg+PmJixMQODsDAIyNmZiws2BoyNmZvwsIYGAAAGBgwMGBgZmY8PAAAMDAYGDw8ZmZ+fmZmZmYAAAwMGBg8PGZmfn5mZmZmAAAYGGZmPDxmZn5+ZmZmZgAAcXGOjjw8ZmZ+fmZmZmYAAGZmAAA8PGZmfn5mZmZmAAAYGCQkPDxmZn5+ZmZmZgAAHx88PDw8b298fMzMz88AAB4eMDBgYGBgMDAeHgwMGBgwMBgYfn5gYHh4YGB+fgAADAwYGH5+YGB4eGBgfn4AABgYZmZ+fmBgeHhgYH5+AABmZgAAfn5gYHh4YGB+fgAAMDAYGDw8GBgYGBgYPDwAAAwMGBg8PBgYGBgYGDw8AAAYGGZmPDwYGBgYGBg8PAAAZmYAADw8GBgYGBgYPDwAAHh4bGxmZvb2ZmZsbHh4AABxcc7O5ub29t7ezs7GxgAAMDAYGDw8ZmZmZmZmPDwAAAwMGBg8PGZmZmZmZjw8AAAYGGZmPDxmZmZmZmY8PAAAcXGOjjw8ZmZmZmZmPDwAAMPDPDxmZmZmZmZmZjw8AAAAAMbGbGw4OGxsxsYAAAAAPz9mZm5ufn52dmZm/PwAADAwGBhmZmZmZmZmZjw8AAAMDBgYZmZmZmZmZmY8PAAAGBgkJGZmZmZmZmZmPDwAAGZmAABmZmZmZmZmZjw8AAAGBggIw8NmZjw8GBgYGAAAwMDAwPz8xsb8/MDAwMAAADw8ZmZmZmxsZmZmZmxsYGAwMBgYPDwGBj4+ZmY+PgAADAwYGDw8BgY+PmZmPj4AABgYZmY8PAYGPj5mZj4+AABxcY6OPDwGBj4+ZmY+PgAAZmYAADw8BgY+PmZmPj4AABgYJCQ8PAYGPj5mZj4+AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8YGBgYGBgPDwYGDAwGBg8PGZmfn5gYDw8AAAMDBgYPDxmZn5+YGA8PAAAGBhmZjw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMBgYAAAYGBgYGBgMDAAADAwYGAAAGBgYGBgYDAwAABgYZmYAABgYGBgYGAwMAAAAAGZmAAAYGBgYGBgMDAAAYGD8/BgYPDxmZmZmPDwAAHFxjo4AAHx8ZmZmZmZmAAAwMBgYAAA8PGZmZmY8PAAADAwYGAAAPDxmZmZmPDwAABgYZmYAADw8ZmZmZjw8AABxcY6OAAA8PGZmZmY8PAAAAABmZgAAPDxmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAICfHzOztbW5uZ8fICAMDAYGAAAZmZmZmZmPj4AAAwMGBgAAGZmZmZmZj4+AAAYGGZmAABmZmZmZmY+PgAAAABmZgAAZmZmZmZmPj4AAAwMGBgAAGZmZmY8PBgYMDBgYGBgfHxmZmZmfHxgYGBgAABmZgAAZmZmZjw8GBgwMA==",amigaFont:!0},topaz500:{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBg8PDw8GBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAAAxsbMzBgYMDBmZsbGAAA4OGxsaGh2dtzczMx2dgAAGBgYGDAwAAAAAAAAAAAAAAwMGBgwMDAwMDAYGAwMAAAwMBgYDAwMDAwMGBgwMAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAAfn4AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwAAAPDxmZm5ufn52dmZmPDwAABgYODgYGBgYGBgYGH5+AAA8PGZmBgYcHDAwZmZ+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDB4eAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+ZmYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwDAwYGDAwYGAwMBgYDAwAAAAAAAB+fgAAAAB+fgAAAAAwMBgYDAwGBgwMGBgwMAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3t7e3t7AwHh4AAAYGDw8PDxmZn5+w8PDwwAA/PxmZmZmfHxmZmZm/PwAADw8ZmbAwMDAwMBmZjw8AAD4+GxsZmZmZmZmbGz4+AAA/v5mZmBgeHhgYGZm/v4AAP7+ZmZgYHh4YGBgYPDwAAA8PGZmwMDOzsbGZmY+PgAAZmZmZmZmfn5mZmZmZmYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBmZmZmY8PAAA5uZmZmxseHhsbGZm5uYAAPDwYGBgYGBgYmJmZv7+AACCgsbG7u7+/tbWxsbGxgAAxsbm5vb23t7OzsbGxsYAADg4bGzGxsbGxsZsbDg4AAD8/GZmZmZ8fGBgYGDw8AAAODhsbMbGxsbGxmxsPDwGBvz8ZmZmZnx8bGxmZuPjAAA8PGZmcHA4OA4OZmY8PAAAfn5aWhgYGBgYGBgYPDwAAGZmZmZmZmZmZmZmZj4+AADDw8PDZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw8PDZmY8PBgYGBg8PAAA/v7GxoyMGBgyMmZm/v4AADw8MDAwMDAwMDAwMDw8AADAwGBgMDAYGAwMBgYDAwAAPDwMDAwMDAwMDAwMPDwAABAQODhsbMbGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP7+GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGHh5mZjs7AADg4GBgbGx2dmZmZmY8PAAAAAAAADw8ZmZgYGZmPDwAAA4OBgY2Nm5uZmZmZjs7AAAAAAAAPDxmZn5+YGA8PAAAHBw2NjAweHgwMDAweHgAAAAAAAA7O2ZmZmY8PMbGfHzg4GBgbGx2dmZmZmbm5gAAGBgAADg4GBgYGBgYPDwAAAYGAAAGBgYGBgYGBmZmPDzg4GBgZmZsbHh4bGzm5gAAODgYGBgYGBgYGBgYPDwAAAAAAABmZnd3a2tjY2NjAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAADc3GZmZmZ8fGBg8PAAAAAAPT1mZmZmPj4GBgcHAAAAAOzsdnZmZmBg8PAAAAAAAAA+PmBgPDwGBnx8AAAICBgYPj4YGBgYGhoMDAAAAAAAAGZmZmZmZmZmOzsAAAAAAABmZmZmZmY8PBgYAAAAAAAAY2Nra2trNjY2NgAAAAAAAGNjNjYcHDY2Y2MAAAAAAABmZmZmZmY8PBgYcHAAAAAAfn5MTBgYMjJ+fgAADg4YGBgYcHAYGBgYDg4AABgYGBgYGBgYGBgYGBgYAABwcBgYGBgODhgYGBhwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGDw8PDwYGAAADAw+PmxsbGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYPDwAABgYGBgYGAAAGBgYGBgYAAA8PEBAPDxmZjw8AgI8PAAAZmYAAAAAAAAAAAAAAAAAAH5+gYGdnbGxsbGdnYGBfn4wMEhIiIj4+AAA/PwAAAAAAAAzM2ZmzMxmZjMzAAAAAD4+BgYAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfn6Bgbm5ubmxsampgYF+fn5+AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAPDwGBgwMGBg+PgAAAAAAADw8BgYMDAYGPDwAAAAAAAAGBgwMAAAAAAAAAAAAAAAAAAAAADGxsbGxsbu7vr6wMB+fvT09PR0dBQUFBQUFAAAAAAAABgYGBgAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAcHCIiIiIcHAAAPj4AAAAAAAAzMxmZjMzZmbMzAAAAAAgIGNjJiYsLBkZMzNnZwEBICBjYyYmLCwbGzExYmIHB8DAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAICDw8ZmZ+fsPDw8MAAAwMEBA8PGZmfn7Dw8PDAAAYGCQkPDxmZn5+w8PDwwAAcXGOjjw8ZmZ+fsPDw8MAAMPDGBg8PGZmfn7Dw8PDAAA8PGZmPDxmZn5+w8PDwwAAHx88PDw8b298fMzMz88AADw8ZmbAwMDAZmY8PAgIMDBgYBAQ/v5gYHh4YGD+/gAAGBggIP7+YGB4eGBg/v4AADAwSEj+/mBgeHhgYP7+AABmZgAA/v5gYHh4YGD+/gAAMDAICH5+GBgYGBgYfn4AAAwMEBB+fhgYGBgYGH5+AAAYGCQkfn4YGBgYGBh+fgAAZmYAAH5+GBgYGBgYfn4AAPj4bGxmZvb2ZmZsbPj4AABxcY6Oxsbm5tbWzs7GxgAAMDAICDw8ZmbDw2ZmPDwAAAwMEBA8PGZmw8NmZjw8AAAYGCQkPDxmZsPDZmY8PAAAcXGOjjw8ZmbDw2ZmPDwAAMPDPDxmZsPDw8NmZjw8AAAAAGNjNjYcHDY2Y2MAAAAAPT1mZs/P29vz82ZmvLwAADAwCAhmZmZmZmZmZj4+AAAMDBAQZmZmZmZmZmY+PgAAGBgkJGZmZmZmZmZmPj4AAGZmAABmZmZmZmZmZj4+AAAGBggIw8NmZjw8GBg8PAAA8PBgYH5+Y2NjY35+YGDw8Hx8ZmZmZmxsZmZmZmxsYGAwMAgIPDwGBh4eZmY7OwAADAwQEDw8BgYeHmZmOzsAABgYJCQ8PAYGHh5mZjs7AABxcY6OPDwGBh4eZmY7OwAAMzMAADw8BgYeHmZmOzsAADw8ZmY8PAYGHh5mZjs7AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8ZmZgYGZmPDwQEDAwCAg8PGZmfn5gYDw8AAAMDBAQPDxmZn5+YGA8PAAAGBgkJDw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMAgIODgYGBgYGBg8PAAADAwQEDg4GBgYGBgYPDwAABgYJCQ4OBgYGBgYGDw8AABmZgAAODgYGBgYGBg8PAAAYGD8/BgYfHzGxsbGfHwAAHFxjo58fGZmZmZmZmZmAAAwMAgIPDxmZmZmZmY8PAAADAwQEDw8ZmZmZmZmPDwAABgYJCQ8PGZmZmZmZjw8AABxcY6OPDxmZmZmZmY8PAAAZmYAADw8ZmZmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAEBPj5nZ2trc3M+PkBAMDAICGZmZmZmZmZmOzsAAAwMEBBmZmZmZmZmZjs7AAAYGCQkZmZmZmZmZmY7OwAAZmYAAGZmZmZmZmZmOzsAAAwMEBBmZmZmZmY8PBgYcHDw8GBgfHxmZmZmfHxgYPDwZmYAAGZmZmZmZjw8GBhwcA==",amigaFont:!0},"topaz500+":{width:8,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGBg8PDw8GBgYGAAAGBgAAGxsbGwAAAAAAAAAAAAAAABsbGxs/v5sbP7+bGxsbAAAGBg+PmBgPDwGBnx8GBgAAAMDxsbMzBgYMDBmZsbGgIA4OGxsaGh2dtzczMx2dgAAGBgYGDAwAAAAAAAAAAAAAAMHDgwYGBgYGBgMDgcDAADA4HAwGBgYGBgYMHDgwAAAAABmZjw8//88PGZmAAAAAAAAGBgYGH5+GBgYGAAAAAAAAAAAAAAAAAAAGBgYGDAwAAAAAAAA//8AAAAAAAAAAAAAAAAAAAAAAAAYGBgYAAADAwYGDAwYGDAwYGDAwICAPDxmZm5ufn52dmZmPDwAABgYODgYGBgYGBgYGH5+AAA8PGZmBgYcHDAwZmZ+fgAAPDxmZgYGHBwGBmZmPDwAABwcPDxsbMzM/v4MDB4eAAB+fmBgfHwGBgYGZmY8PAAAHBwwMGBgfHxmZmZmPDwAAH5+ZmYGBgwMGBgYGBgYAAA8PGZmZmY8PGZmZmY8PAAAPDxmZmZmPj4GBgwMODgAAAAAGBgYGAAAAAAYGBgYAAAAABgYGBgAAAAAGBgYGDAwAwMGBgwMGBgMDAYGAwMAAAAAAAD//wAA//8AAAAAAADAwGBgMDAYGDAwYGDAwAAAPDxmZgYGDAwYGAAAGBgAAHx8xsbe3t7e3t7AwHh4AAAYGDw8PDxmZn5+w8PDwwAA/PxmZmZmfHxmZmZm/PwAADw8ZmbAwMDAwMBmZjw8AAD4+GxsZmZmZmZmbGz4+AAA/v5mZmBgeHhgYGZm/v4AAP7+ZmZgYHh4YGBgYPDwAAA8PGZmwMDOzsbGZmY+PgAAZmZmZmZmfn5mZmZmZmYAAH5+GBgYGBgYGBgYGH5+AAAODgYGBgYGBmZmZmY8PAAA5uZmZmxseHhsbGZm5uYAAPDwYGBgYGBgYmJmZv7+AACCgsbG7u7+/tbWxsbGxgAAxsbm5vb23t7OzsbGxsYAADg4bGzGxsbGxsZsbDg4AAD8/GZmZmZ8fGBgYGDw8AAAODhsbMbGxsbGxmxsPDwGBvz8ZmZmZnx8bGxmZuPjAAA8PGZmcHA4OA4OZmY8PAAAfn5aWhgYGBgYGBgYPDwAAGZmZmZmZmZmZmZmZj4+AADDw8PDZmZmZjw8PDwYGAAAxsbGxsbG1tb+/u7uxsYAAMPDZmY8PBgYPDxmZsPDAADDw8PDZmY8PBgYGBg8PAAA/v7GxoyMGBgyMmZm/v4AADw/MDAwMDAwMDAwMD88AADAwGBgMDAYGAwMBgYDAwEBPPwMDAwMDAwMDAwM/DwAABgYPDxmZsPDAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP//GBgYGAwMAAAAAAAAAAAAAAAAAAA8PAYGHh5mZjs7AADg4GBgbGx2dmZmZmY8PAAAAAAAADw8ZmZgYGZmPDwAAA4OBgY2Nm5uZmZmZjs7AAAAAAAAPDxmZn5+YGA8PAAAHBw2NjAweHgwMDAweHgAAAAAAAA7O2ZmZmY8PMbGfHzg4GBgbGx2dmZmZmbm5gAAGBgAADg4GBgYGBgYPDwAAAYGAAAGBgYGBgYGBmZmPDzg4GBgZmZsbHh4bGzm5gAAODgYGBgYGBgYGBgYPDwAAAAAAABmZnd3a2tjY2NjAAAAAAAAfHxmZmZmZmZmZgAAAAAAADw8ZmZmZmZmPDwAAAAAAADc3GZmZmZ8fGBg8PAAAAAAPT1mZmZmPj4GBgcHAAAAAOzsdnZmZmBg8PAAAAAAAAA+PmBgPDwGBnx8AAAICBgYPj4YGBgYGhoMDAAAAAAAAGZmZmZmZmZmOzsAAAAAAABmZmZmZmY8PBgYAAAAAAAAY2Nra2trNjY2NgAAAAAAAGNjNjYcHDY2Y2MAAAAAAABmZmZmZmY8PBgYcHAAAAAAfn5MTBgYMjJ+fgAADg8ZGBgYcHAYGBgZDw4AABgYGBgYGBgYGBgYGBgYGBhw8JgYGBgODhgYGJjwcAAAcnKcnAAAAAAAAAAAAAAAAA8PPDzw8MPDDw88PPDwAAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAH5+ZmZmZmZmZmZmZn5+AAB+fmZmZmZmZmZmZmZ+fgAAfn5mZmZmZmZmZmZmfn4AAAAAAAAAAAAAAAAAAAAAAAAYGAAAGBgYGDw8PDwYGAAADAw+PmxsbGw+PgwMAAAAABwcNjYwMHh4MDAwMH5+AABCQjw8ZmY8PEJCAAAAAAAAw8NmZjw8GBg8PBgYPDwAABgYGBgYGAAAGBgYGBgYAAA8PEBAPDxmZjw8AgI8PAAAZmYAAAAAAAAAAAAAAAAAAH5+gYGdnbGxsbGdnYGBfn4wMEhIiIj4+AAA/PwAAAAAAAAzM2ZmzMxmZjMzAAAAAP5/AwMAAAAAAAAAAAAAAAAAAAAAfn5+fgAAAAAAAAAAfn6Bgbm5ubmxsampgYF+fv//AAAAAAAAAAAAAAAAAAA8PGZmPDwAAAAAAAAAAAAAGBgYGH5+GBgYGAAAfn4AAPDwGBgwMGBg+PgAAAAAAADw8BgYMDAYGPDwAAAAAAAAGBgwMAAAAAAAAAAAAAAAAAAAAADGxsbGxsbu7vr6wMB+fvT09PR0dBQUFBQUFAAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAAAAAAABgYMDAwMHBwMDAwMDAwAAAAAAAAcHCIiIiIcHAAAPj4AAAAAAAAzMxmZjMzZmbMzAAAAAAgIGNjJiYsLBkZMzNnZwEBICBjYyYmLCwbGzExYmIHB8DAIyNmZiws2dkzM2dnAQEYGAAAGBgwMGBgZmY8PAAAMDAICDw8ZmZ+fsPDw8MAAAwMEBA8PGZmfn7Dw8PDAAAYGCQkPDxmZn5+w8PDwwAAcXGOjjw8ZmZ+fsPDw8MAAMPDGBg8PGZmfn7Dw8PDAAA8PGZmPDxmZn5+w8PDwwAAHx88PDw8b298fMzMz88AADw8ZmbAwMDAZmY8PAgIMDBgYBAQ/v5gYHh4YGD+/gAAGBggIP7+YGB4eGBg/v4AADAwSEj+/mBgeHhgYP7+AABmZgAA/v5gYHh4YGD+/gAAMDAICH5+GBgYGBgYfn4AAAwMEBB+fhgYGBgYGH5+AAAYGCQkfn4YGBgYGBh+fgAAZmYAAH5+GBgYGBgYfn4AAPj4bGxmZvb2ZmZsbPj4AABxcY6Oxsbm5tbWzs7GxgAAMDAICDw8ZmbDw2ZmPDwAAAwMEBA8PGZmw8NmZjw8AAAYGCQkPDxmZsPDZmY8PAAAcXGOjjw8ZmbDw2ZmPDwAAMPDPDxmZsPDw8NmZjw8AAAAAGNjNjYcHDY2Y2MAAAAAPT1mZs/P29vz82ZmvLwAADAwCAhmZmZmZmZmZj4+AAAMDBAQZmZmZmZmZmY+PgAAGBgkJGZmZmZmZmZmPj4AAGZmAABmZmZmZmZmZj4+AAAGBggIw8NmZjw8GBg8PAAA8PBgYH5+Y2NjY35+YGDw8Hx8ZmZmZmxsZmZmZmxsYGAwMAgIPDwGBh4eZmY7OwAADAwQEDw8BgYeHmZmOzsAABgYJCQ8PAYGHh5mZjs7AABxcY6OPDwGBh4eZmY7OwAAMzMAADw8BgYeHmZmOzsAADw8ZmY8PAYGHh5mZjs7AAAAAAAAfn4bG39/2Nh3dwAAAAAAADw8ZmZgYGZmPDwQEDAwCAg8PGZmfn5gYDw8AAAMDBAQPDxmZn5+YGA8PAAAGBgkJDw8ZmZ+fmBgPDwAAGZmAAA8PGZmfn5gYDw8AAAwMAgIODgYGBgYGBg8PAAADAwQEDg4GBgYGBgYPDwAABgYJCQ4OBgYGBgYGDw8AABmZgAAODgYGBgYGBg8PAAAYGD8/BgYfHzGxsbGfHwAAHFxjo58fGZmZmZmZmZmAAAwMAgIPDxmZmZmZmY8PAAADAwQEDw8ZmZmZmZmPDwAABgYJCQ8PGZmZmZmZjw8AABxcY6OPDxmZmZmZmY8PAAAZmYAADw8ZmZmZmZmPDwAAAAAGBgAAH5+AAAYGAAAAAAAAAEBPj5nZ2trc3M+PkBAMDAICGZmZmZmZmZmOzsAAAwMEBBmZmZmZmZmZjs7AAAYGCQkZmZmZmZmZmY7OwAAZmYAAGZmZmZmZmZmOzsAAAwMEBBmZmZmZmY8PBgYcHDw8GBgfn5jY2Njfn5gYPDwZmYAAGZmZmZmZjw8GBhwcA==",amigaFont:!0},"80x25":{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAZjMPAwfgwfgwGAwAAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},"80x25small":{width:4,height:8,data:"AAAAAACQD2Bvb/CfCu5EAATu5AAE6k4ABO5OAAAGYAD/+Z//AGmWAP+Waf8CSqQABKpEAAdESAAHVVoABEpEAAjOyAACbmIABOTkAAqqCgAHpiIwaGlhYAAA7gAE5OTgBOREQATkREAALyAAAE9AAAAI8AAAb2AAAE7gAADuQAAAAAAABEQEAAqgAAAE5OQARoQsQACSSQAE5JpQBIAAAAJERCAEIiJACk5KAABOQAAAAASAAA4AAAAABAAAJEgABKqkAAxETgAMJI4ADCQsAAiORAAOhCwABIykAA4kRAAEpKQABqYiAABAQAAAQEgAAkhCAADw8AAIQkgASiQEAATuhgAErqoADKysAASopAAMqqwADoyOAA6MiAAEqOQACq6qAA5ETgAOIqQACqyqAAiIjgAK7qoACu7qAASqpAAMrIgABKqmAAysqgAGhCwADkREAAqqpAAKqkQACq7kAAqkqgAKpEQADiSOAAZERgAAhEIABiImAEoAAAAAAADwCEAAAABqpgAIyqwAAGiGAAJqpgAAToYAAkZEAABKpiQIyqoABAREAAQERIAIrKoABEREAADuqgAAyqoAAEqkAADKyAAAamIAAMqIAABoLAAE5EQAAKqmAACqpAAAqu4AAKRKAACqRAAA4s4AAkxCAARERAAIRkgAbAAAAABKrgAEqKSACgqmACQk6OBKBuYACgbmAEIG5gAEBuYAAAaGSEoE6OAKBOjghATo4AoERABKBEQAhAREAKBK6gBASuoAJA6MjgBv5wAHr6sASgSqQKAEqkCEBKpASgqkAIQKpACgqkQAoEqqQKCqqkAARoZASoyOAKpORADKyrohJU5EgCQG5gAkBEQAJASqQCQKpABsDKoAbAru6gbmDgAEpA4AQEikAAAOiAAADiIARA4EjkQOCOQEBO5AAFhQAAChoAAUFBQUWlpaWtfX19dERERERExERETMRERVXVVVAA9VVQDMRERV3VVVVVVVVQD9VVVV3wAAVV8AAETMAAAADEREREcAAERPAAAAD0REREdERAAPAABET0RERHdERFVXVVVVdwAAAHdVVVX/AAAA/1VVVXdVVQD/AABV/1VVRP8AAFVfAAAA/0REAA9VVVVXAABEdwAAAHdERAAHVVVVX1VVRP9ERERMAAAAB0RE/////wAA///MzMzMMzMzM///AAAFqqUAaamSAA6oiAAA6qoA+EJI8AB6qkAAVVZIAKREQOSqpOBKrqpAaZZmkGQmmWAA+Z8AEmlkgAaOhgAGmZkADg4OAABOQOAAQkBgACQgYAJUREREREzABA4EAAWgWgBKQAAAAAZgAAAGAAADIqYgDKoAAEJGAAAAZmYAAAAAAA==",amigaFont:!1},"80x50":{width:9,height:8,data:"AAAAAAAAAAAAfkCpUCvUygT8fn+23+w3O/z8bH8/n8fBwEAAEBwfH8fBwEAAOD4OH8/msEBwEBwfH8/j4EBwAAAGB4PAwAAA/3+52Gw3O/3+AB4ZiEQjMPAA/2GmV6vUyw3+DwODz6zGYzDwPDMZjMPAwfgwPxmPxgMDg8HAfzGfzGYzO5mAGG2PHO5x42wwgHA+H8+HAgAAAgcPn8PgcAgAGB4fgwGD8PAwZjMZjMZgAZgAf222z2Gw2GwAPjCPDMZh4hj4AAAAAAfj8fgAGB4fgwfh4GH+GB4fgwGAwGAAGAwGAwfh4GAAAAwDH8DAwAAAABgYH8YBgAAAAAAwGAwH8AAAABIZn+ZhIAAAAAwPD8/3+AAAAH+/z8PAwAAAAAAAAAAAAAAAGB4PAwGAAGAAZjMJAAAAAAAAbDY/jY/jYbAAGB8YB4Bj4GAAAGMzAwMDMxgAODYODs3GYdgAGAwMAAAAAAAADAwMBgMAwDAAMAwDAYDAwMAAADMPH+PDMAAAAAwGD8GAwAAAAAAAAAAAwGBgAAAAD8AAAAAAAAAAAAAAwGAABgYGBgYGAgAAODYxmsxjYOAAGBwGAwGAwfgAfGMBg4MDM/gAfGMBh4BmMfAAHB4bGY/gYHgA/mAwH4BmMfAAODAwH4xmMfAA/mMDAwMBgMAAfGMxj4xmMfAAfGMxj8BgYeAAAAwGAAAAwGAAAAwGAAAAwGBgBgYGBgGAYBgAAAAfgAAD8AAAYBgGAYGBgYAAfGMDAwGAAGAAfGM3m83mAeAAODYxn8xmMxgA/DMZj4ZjM/AAPDMwGAwDMPAA+DYZjMZjY+AA/jEaDwaDE/gA/jEaDwaDA8AAPDMwGAzjMOgAxmMxn8xmMxgAPAwGAwGAwPAAHgYDAYzGYeAA5jMbDwbDM5gA8DAYDAYjM/gAxnc/n81mMxgAxnM9m8zmMxgAfGMxmMxmMfAA/DMZj4YDA8AAfGMxmMxmcfAc/DMZj4bDM5gAPDMMAwDDMPAAfj8WgwGAwPAAxmMxmMxmMfAAxmMxmMxjYOAAxmMxms1n8bAAxmMbBwbGMxgAZjMZh4GAwPAA/mMjAwMjM/gAPBgMBgMBgPAAwDAMAwDAMAgAPAYDAYDAYPAAEBwbGMAAAAAAAAAAAAAAAAH+MAwDAAAAAAAAAAAeAYfGYdgA4DAfDMZjM3AAAAAfGMwGMfAAHAYfGYzGYdgAAAAfGM/mAfAAPDMYHwYDA8AAAAAdmYzD4DHw4DAbDsZjM5gAGAAOAwGAwPAABgABgMBjMZh44DAZjYeDY5gAOAwGAwGAwPAAAAA7H81ms1gAAAA3DMZjMZgAAAAfGMxmMfAAAAA3DMZj4YHgAAAdmYzD4DA8AAA3DsYDA8AAAAAfmAfAM/AAMBg/BgMBsHAAAAAzGYzGYdgAAAAxmMxjYOAAAAAxms1n8bAAAAAxjYODYxgAAAAxmMxj8Bn4AAAfiYGBkfgADgwGDgGAwDgAGAwGAwGAwGAAcAwGAcGAwcAAdm4AAAAAAAAAAAgODYxmM/gAfGMwGAxj4DDwzAAzGYzGYdgADAwfGM/mAfAAfEEeAYfGYdgAxgAeAYfGYdgAMAweAYfGYdgAMBgeAYfGYdgAAAAfmAwD8DBwfEEfGM/mAfAAxgAfGM/mAfAAMAwfGM/mAfAAZgAOAwGAwPAAfEEOAwGAwPAAMAwABwGAwPAAxhwbGM/mMxgAODYfGM/mMxgAGBg/mA+GA/gAAAAfgwfmwfgAPjYzH8zGYzgAfEEfGMxmMfAAxgAfGMxmMfAAMAwfGMxmMfAAeEIAGYzGYdgAYBgzGYzGYdgAxgAxmMxj8Bn4xhwbGMxjYOAAxgAxmMxmMfAAGAwfmAwD8GAwODYZHgYDM/AAZjMPD8GD8GAw+GYzH0xmexmODg2GB4GGwcAAGBgeAYfGYdgADAwABwGAwPAADAwfGMxmMfAAGBgzGYzGYdgAdm4AG4ZjMZgAdm4AHM9m8zgAPDYbB8AD8AAAODYbBwAD4AAAGAAGAwMDGPgAAAAAH8wGAAAAAAAAH8BgMAAAY3MbD8MzMzAeY3MbD0NjU3wMGAAGAwPB4GAAABmZmYZhmAAAAGYZhmZmYAAAIkQIkQIkQIkQVVUVVUVVUVVUd26d26d26d26GAwGAwGAwGAwGAwGAw+AwGAwGAw+Aw+AwGAwNhsNhs9hsNhsAAAAAA/hsNhsAAA+Aw+AwGAwNhs9gM9hsNhsNhsNhsNhsNhsAAA/gM9hsNhsNhs9gM/gAAAANhsNhs/gAAAAGAw+Aw+AAAAAAAAAAA+AwGAwGAwGAwH4AAAAGAwGAw/4AAAAAAAAAA/4wGAwGAwGAwH4wGAwAAAAAA/4AAAAGAwGAw/4wGAwGAwH4wH4wGAwNhsNhsN5sNhsNhsN5gP4AAAAAAAP5gN5sNhsNhs94A/4AAAAAAA/4A95sNhsNhsN5gN5sNhsAAA/4A/4AAAANhs94A95sNhsGAw/4A/4AAAANhsNhs/4AAAAAAA/4A/4wGAwAAAAAA/5sNhsNhsNhsP4AAAAGAwH4wH4AAAAAAAH4wH4wGAwAAAAAAP5sNhsNhsNhs/5sNhsGAw/4w/4wGAwGAwGAw+AAAAAAAAAAAH4wGAw////////////AAAAAA//////8Hg8Hg8Hg8HgD4fD4fD4fD4f//////AAAAAAAAAdm4yG4dgAeGYzGwzGMzAA/mMwGAwGAwAAAAA/jYbDYbAA/mMYBgYGM/gAAAAfmw2GwcAAAAAZjMZjMfGAADs3AwGAwGAAfgwPDMZh4GD8ODYxn8xjYOAAODYxmMbDY7gADgwDB8ZjMPAAAAAfm22z8AAABgYfm22z8YGAHhgYD8YBgHgAAD4xmMxmMxgAAH8AH8AH8AAAGAwfgwGAAfgAMAwDAwMAAfgADAwMAwDAAfgADg2GwwGAwGAwGAwGAwGGw2DgAAwAD8AAwAAAADs3AAdm4AAAODYbBwAAAAAAAAAAAwGAAAAAAAAAAwAAAAAADwYDAY7DYPA4bBsNhsNgAAAAeAYGBgfAAAAAAAAPB4PB4AAAAAAAAAAAAAAA",amigaFont:!1},armenian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAPDMw2G222w2GZh4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAw3O/3+22Gw2Gw2GAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAw2Gw2Gw2GwzMPAwAAAAAAAAAw2Gw2Gw2223+ZjMAAAAAAAAAw2GZh4GAwPDMw2GAAAAAAAAAw2GwzMPAwGAwGB4AAAAAAAAA/2GhgYGBgYGCw3+AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHM/22222222AAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGGw2GwzMPAwAAAAAAAAAAAAAGGw2G222/zMAAAAAAAAAAAAAGGZh4GB4ZmGAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAzGYzGYzGY3G4zjsAAAAAAAAAAAAAG22222222zeAAAAAAAAAeGYzGYzGAwH8wGAAAAAAAAAAAAAAHwzGYzGAwH8wGAwAAAAAeGYzGYzGYfwYDAYAAAAAAAAAAAAAD4zGYzGYzD+DAYDAAAAAeGYzGYzGYzwYDAYAAAAAAAAAAAAAHwzGYzGYzGeDAYDAAAAAwGA/mAwGYzGYzDwAAAAAAAAAwGA/GAwGAzGYzD4AAAAAAAAAPDMZjMZh8BgY2H8wwAAAAAAAAAAAGYzGYzGYzD4DAYDwAAAAwGA/mAwGAwHwDAYeAAAAAAAAwGAwH4wGAwGA+AYeAAAAAAAAeGYzGYzGYwGAwH8AAAAAAAAAAAAAHwzGYzGYzGAwGA/gAAAAfGMz2s1ms1ms1mYAAAAAAAAAAAAAH4xme1ms1mYwGAwAAAAADAYf2YzGYzGYzDwAAAAAAAAADAYDD+zGYzGYzD4AAAAAAAAAwGA+GYzGYzGYwGAAAAAAAAAAwGAwHwzGYzGYzGYwGAwAAAAAwGAwGAwGAwGAwH4BgAAAAAAAAAAADAYDAYDAYDAYDAfAAAAAwGA+2222222222cAAAAAAAAAwGAwH222222222ewGAwAAAAAwD8+2YzGYzGYzDwAAAAAAAGAeAYDD+zGYzGYzD4AAAAAAAAAwGAzGYzGYzD4DAYAAAAAAAAAwGAwGYzGYzGYzD4DAYDAAAAAMAwDAwMDAwGAwH4DgAAAAAAAwGAwHwzGYzGYzGYAAAAAAAAAPDMZjMZgMBjY2DcAAAAAAAAAID8DAwMDg2GYzjsAAAAAAAAAeGYzGYzGYzAYDAeAAAAAAAAAAAAAHwzGYzGYzGYDAYDAeAAAzj2cGwzGYzGYzD4AAAAAAAAAGHgYDg2GYzGYzD4AAAAAAAAAz2YzGYzGYzGYzDwAAAAAAAAADwYDGYzGYzGYzD4AAAAAAAAAeGYDBwbAYDGYzDwAAAAAAAAAAAAAAYDAYDAYDAYbG4eAAAAA4DAYDMZjMZjMZh4AAAAAAAAA4DAYDMZjMZjMZh8AAAAAAAAA+AYfGYwGAzGYzDwAAAAAAAAAAAAADwzGYzAYGBgYGAfgAAAAeGYzGYzGYzGYzGYAAAAAAAAAAAAAHwzGYzGYzGYAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAeGYzGYDAYDGwcBgGAAAAAAAAAAAAAwMAwDAwMDAwGAfgAAAAfm2222222Gw2AwGAAAAAAAAAAAAAG22222222z+AwGAwAAAAYHg2GYZhsFg42H8wwAAAAAAAAAAADg2GYzDYOBgYGAfgAAAAeGYzGYzGezGYzGYAAAAAAAAAAAAAHwzGYzGYzGeAAAAAAAAAzGYzGYzGYzGYzDwAAAAAAAAAAAAAGYzGYzGYzD4AAAAAAAAADAYzGYzGYzD4DAeAAAAAAAAADAYDGYzGYzGYzD4DAYDwAAAAeGYzDAMAwDGYzDwAAAAAAAAAAAAAG82222222z2AAAAAAAAAeGYzGYzGYzGAwGAAAAAAAAAAAAAAHwzGYzGYzGYwGAwAAAAAeGYzDwzAYDAYzDwAAAAAAAAAAAAAGYzGYzGYzD4DAYeAAAAAwGA+GYzGYzGMwGAAAAAAAAAAAAAADAYDAYDAYD4AAAAAAAAAGAwfm22222z8GAwAAAAAAAAAGAwGG82222222z2GAwGAAAAAPDMZjMfDAYH8YDAAAAAAAAAAAAAAD4ZjMZjMZj4YH8YAAAAAeGYzGYzGYzGYzDwAAAAAAAAAAAAADwzGYzGYzDwAAAAAAAAAeGw2D8Gw22222z8AAAAAAAAAeGw2D8Gw22222z8GAwGAAAAAOCIlAQAAAAAAAAAAAAAAAAAYGBgYAAAAAAAAAAAAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},baltic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAADAwAB4ZmEwGAwGEZh4AAAAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAAfgAADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAAAAHBgGDszGYzGIzD4DGYeAAABwbBwADwDD4zGYzDsAAAAAAAAYGBgAD4xmAwGAxj4AAAAAAAAAOA0Hg4GBweCwGB4AAAAAAAAAfgAAD4xn8wGAxj4AAAAAAAAA/DMZjMfDYZjMZnMDAMPAAAAAAAAAG4djMYDAYHgGAYeAAAAAfAAABwGAwGAwGB4AAAAAAGBgAH8hgYGBgYGExn8AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAAfgAAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAAAAPDMwmAwG8xmMZh0DAMPAAAAAGAwfGMwGAxj4GAwAAAAAAGBgAD4xmMYBwDGMxj4AAAAAAAAADAwAD4xjAOAYxj4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAAAAAAAGMbBwODYxgAAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAfgAEBwbGMxn8xmMxmMAAAAAAfgAPAwGAwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAGAwAH8hgYGBgYGExn8AAAAAAAAAGAwAH8zAwMDAxn8AAAAAAAAYGBgAH8zAwMDAxn8AAAAAAABsbGwAAAAAAAAAAAAAAAAAAAAwGAwGAwAAAGAwGAwGAAAAAAAAfEEmlEolEmkEfAAAAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAAAD8AgEAAAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAA8DIbDwcHA4DEZn8AAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwAAAEBwbGMxn8xmMxmMGBgHgAZh4AB4ZmEwGAwGEZh4AAAAAAAAA/jMYjQeDQYDEZn8GBgHgAGAw/jMYjQeDQYDEZn8AAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAPAwGAwGAwGAwGB4GBgHgAbBwAD4xmAYBwDAMxj4AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAxmMxmMxmMxmMxj4MDAPAAfgAxmMxmMxmMxmMxj4AAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsbBwAH8xkYGBgYGExn8AAAAAAAAAAAAADwDD4zGYzDsGBgHgAAAAbBwAD4xmAwGAxj4AAAAAAAAAAAAAD4xn8wGAxj4MDAPAAAAAGAwAD4xn8wGAxj4AAAAAAAAAGAwABwGAwGAwGB4GBgHgAAAAbBwAD4xjAOAYxj4AAAAAAAAAAAAAGYzGYzGYzDsMDAPAAAAAfAAAGYzGYzGYzDsAAAAAAAAAbBwAH8zAwMDAxn8AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAfgAAD4xmMxmMxmMxj4AAAAAADAwAGM5ns/m8zmMxmMAAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAYGBgAG4ZjMZjMZjMAAAAAAAAA5jMZjYeDwbDMZnMGAYeAAAAA4DAYDMbDweDYZnMGAYeAAAAA8DAYDAYDAYDEZn8GAYeAAAAAOAwGAwGAwGAwGB4GAYeAAAAAAAAAG4ZjMZjMZjMDAMPAAfgA/jMYjQeDQYDEZn8AAAAAAAAAAGM5ns/m8zmMxmMGAYeAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAABsbGwAAAAAAAAAAAAAAAAAAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAA2DYNgAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},cyrillic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAfGMxmc1nMxmMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAYDA+DAYD4ZjMZnMBgICAAAAA/DAYDAbDsZjMZnYAAAAAAAAADAwAH8YjAYDAYHgAAAAAADAwAH8ZjEYDAYDAYHgAAAAAAAAAADYAD4xmM/GAxj4AAAAAAbAA/jMYjQeDQYDEZn8AAAAAAAAAAAAAD4xmA+GAxj4AAAAAAAAAfGMwGQ+GQwGAxj4AAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAADYABwGAwGAwGB4AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAAHgYDAYDAYzGYzDwAAAAAAAAAAAAAH4WC4Wi0Wm4AAAAAAAAA/CwWCwXC0Wi0Wm4AAAAAAAAAAAAAGw2H42m02m4AAAAAAAAA2Gw2Gw/G02m02m4AAAAAAAAAYHwYDAfDMZjMZnMAAAAAAAAA/DAYDAfDMZjMZnMAAAAAAAAADAwAHMbDweDYZnMAAAAAADAwAHMZjYeDwbDYZnMAAAAAAAAAADYOGMxmMxmMfgMBmMfAAbBwxmMxmMxj8BgMxj4AAAAAAAAAAAAAHcbDYbDYbH8EAAAAAAAA7jYbDYbDYbDYbH8EAAAAAAAAAAAAGc222+2222cAAAAAAAAAzm2222+2222222cAAAAAAAAAAAAAHwsFgPhmMz8AAAAAAAAA+HgsBgPhmMxmMz8AAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAAHhsZmMxn8xmMxmMAAAAAAAAEBj4wGA/GMxmMxj4AAAAAAAAA/jEYjAfDMZjMZn4AAAAAAAAAAAAAGMxmMxmMxn+AwGAAAAAAxmMxmMxmMxmMxn+AwGAAAAAAAAAAA8NjMZjMZn+w2GAAAAAAHhsZjMZjMZjMZn+w0CAAAAAAAAAAD4xmM/mAxj4AAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAAAB4GD82222222z8GAwPAAAAAfm22222222z8GB4AAAAAAAAAAAAAH8YjEYDAYHgAAAAAAAAA/jMYjAYDAYDAYHgAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAARAiRAiRAiRAiRAiRAiRAiRAiqiqqiqqiqqiqqiqqiqqiqqiqd26d26d26d26d26d26d26d26GAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAw+AwGAwGAwGAwAAAAAAAGMbBwOBwbGMAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAAAAAGMxmc1nMxmMAAAAAAAAAxmMxmc3ns5mMxmMAAAAAANhsNhsNhs9gM9hsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAAA/gM9hsNhsNhsNhsNhsNhsNhs9gM/gAAAAAAAAAAAAAADYOGMxmc1nMxmMAAAAAAbBwxmMxmc3ns5mMxmMAAAAAAAAAAAAAAAAAA+AwGAwGAwGAwGAwGAwGAwGAwH4AAAAAAAAAAGAwGAwGAwGAw/4AAAAAAAAAAAAAAAAAAAAAA/4wGAwGAwGAwGAwGAwGAwGAwH4wGAwGAwGAwAAAAAAAAAAAA/4AAAAAAAAAAGAwGAwGAwGAw/4wGAwGAwGAwAAAAAAAHMbDweDYZnMAAAAAAAAA5jMbDYeDwbDYZnMAAAAAANhsNhsNhsN5gP4AAAAAAAAAAAAAAAAAAAP5gN5sNhsNhsNhsNhsNhsNhs94A/4AAAAAAAAAAAAAAAAAAA/4A95sNhsNhsNhsNhsNhsNhsN5gN5sNhsNhsNhsAAAAAAAAA/4A/4AAAAAAAAAANhsNhsNhs94A95sNhsNhsNhsAAAAGMfGMxmMxmMfGMAAAAAAAAAAAAAA8NjMZjMZnMAAAAAAAAAHhsZjMZjMZjMZmMAAAAAAAAAAAAAGM7n8/ms1mMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAAAAAGMxmM/mMxmMAAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAAAAAAH8xmMxmMxmMAAAAAAGAwGAwGAwGAw+AAAAAAAAAAAAAAAAAAAAAAAH4wGAwGAwGAw////////////////////////AAAAAAAAAAAA////////////AAA/mMxmMxmMxmMxmMAAAAAAAAAAAAAD8xmMfhsZmMAAAAAA////////////AAAAAAAAAAAAAAAPzMZjMPh8ZjMZnOAAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAA/DMZjMZj4YDAYHgAAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAfGMxmAwGAwGExj4AAAAAAAAAAAAAD8WgwGAwGB4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAAAAAGMxmMxmMfgMBmMfAAAAAxmMxmMxj8BgMxj4AAAAAAAAAAAAAGs1iofCo1msAAAAAAAAA222Wi0fj8Wm2222AAAAAAAAAAAAAH4ZjMfDMZn4AAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAAAAAHgYDAfDMZn4AAAAAAAAA8DAYDAfDMZjMZn4AAAAAAAAAz2a73Y/243GYzGYAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAAGMxmM9m83nsAAAAAAAAAw2Gw2G82222223mAAAAAAAAAAAAAD4xgMPAMxj4AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAAAAAAGs1ms1ms1n8AAAAAAAAA1ms1ms1ms1ms1n8AAAAAAAAAAAAAD4xgMPgMxj4AAAAAAAAAfGMBhMPhMBgMxj4AAAAAAAAAAAAAGs1ms1ms1n8AwGAAAAAA1ms1ms1ms1ms1n8BgMAAAAAAAAAAGMxmMxj8BgMAAAAAAAAAxmMxmMxj8BgMBgMAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAfD4fD4fD4fD4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},french_canadian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAODYxggODYxmM/mMxmMAAAAAAADAMAwADwDD4zGYzDsAAAAAAAAAAD+2222z2Gw2Gw2AAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAAAAAAAAAAAAAAAAAAA/wA/wAGAYBggODYxmM/mMxmMAAAAAAAD4xjAODYxmMbBwDGMfAAAAADAwAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAAgODYAD4xmMxmMxj4AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAADMAB4GAwGAwGAwGB4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAODYAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwGAwGAwAAAGAwGAwGAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAAD4Bh4BgMfAAAAAAAAAAAAAAAH+AAAAAAAAAAAAAAAAAAAAAPDMAB4GAwGAwGAwGB4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAHAMHENnYGBgZmcmh+BgMAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},greek:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/jEYDAYDAYDAYHgAAAAAAAAAEBwbGMxmMxmMxn8AAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAfGMxmM/mMxmMxj4AAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAAEBwbGMxmMxmMxmMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAA/kEAAAfAAAAAgn8AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/mMxmMxmMxmMxmMAAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAA/mAYBgGAwMDAwH8AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAAPAwfkymUyfgwGB4AAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAGG2222222fgwGB4AAAAAAAAAPDMw2Gw2GwzMJHOAAAAAAAAAAAAAD2zmYzGYzD2AAAAAAAAAfGMxmMxn4xmMxn4wGAwAAAAAAAAAGGZh4GB4ZiEZh4AAAAAAfDAMAweGYzGYzDwAAAAAAAAAAAAAD4xmAeGAxj4AAAAAAAAA/AYGBgYGAwGAwDwDAYeAAAAAAAAAG4ZjMZjMZjMBgMBgAAAAPjGYzGfzGYzGYx8AAAAAAAAAAAAAAwGAwGAwGgYAAAAAAAAAAAAAHMbDweDYZnMAAAAAAAAAPDMBgMBh8ZjMZjMAAAAAAAAAAAAADMZjMZjMZj+YDAYAAAAAAAAAHMZjMZjYeBgAAAAAAAAA/DAwDwMDAwGAwD4BgMPAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH+ZjMZjMZjMAAAAAAAAAAAAAB4ZjMZjMZj4YDAYAAAAAAAAAD+zGYzGYzDwAAAAAAAAAAAAAD4xmAYB4BmMfAAAAAAAAAAAAH4MBgMBgNAwAAAAAAAAAAAAAHOZjMZjMZh4AAAAAAAAAAAAAC41ms1ms1j4EAgEAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGs1ms1ms1j4EAgEAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADMw2Gw22/zMAAAAAAAAAOAgAD2zmYzGYzD2AAAAAAAAAOAgAD4xmAeGAxj4AAAAAAAAAOAgAG4ZjMZjMZjMBgMBgAAAAZgAAAwGAwGAwGgYAAAAAAAAAOAgAAwGAwGAwGgYAAAAAAAAAOAgAD4xmMxmMxj4AAAAAAAAAOAgAHOZjMZjMZh4AAAAAAAAAZgAAHOZjMZjMZh4AAAAAAAAAOAgADMw2Gw22/zMAAAAAAQEAEBwbGMxn8xmMxmMAAAAAAQEA/jMYjQeDQYDEZn8AAAAAAQEAxmMxmM/mMxmMxmMAAAAAAQEAPAwGAwGAwGAwGB4AAAAAAQEAfGMxmMxmMxmMxj4AAAAAAQEAZjMZjMPAwGAwGB4AAAAAAQEAPDMw2Gw2GwzMJHOAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAZgAZjMZjMPAwGAwGB4AAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},greek_869:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABASA4NjGYz+YzGYzGAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAAAAAAAAAAH8BgMAAAAAAAAAAAwGAwGAwGAAAAwGAwGAwGAAAAAGAwEAQAAAAAAAAAAAAAAAAAAGAwCAgAAAAAAAAAAAAAAAACAvxgMBgPhgMBgMB+AAAAAAAAAAAAAAAAH+AAAAAAAAAAAAACAsxmMxmPxmMxmMxmAAAAAAABAXgYDAYDAYDAYDA8AAAAAAZgAfgwGAwGAwGAwGD8AAAAAAACAvjGYzGYzGYzGYx8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAsxmMxmHgYDAYDAYAAAAAAZgAZjMZjMPAwGAwGAwAAAAAAAAAPCEmVKoVKmSEPAAAAAAAAACAuDYxmMxmMxjYKHcAAAAAAABwbAYGBgfAAAAAAAAAAAAAAAD4DBgDAYeAAAAAAAAAAAAAAAAACAgADszGYzGYzDsAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAACAgAD4xmAeGAxj4AAAAAAAAACAgAG4ZjMZjMZjMBgAAAAAAACAgABgMBgMBgMA4AAAAAAAAAAGYABgMBgMBgMA4AAAAAACAgAGYABgMBgMBgMA4AAAAAAAAACAgAD4xmMxmMxj4AAAAAAAAABAQAHMZjMZjMZh4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/mAwGAwGAwGAwGAAAAAAAAAAEBwbDYxmMxmMxn8AAAAAAAAA/mAwGA/GAwGAwH8AAAAAAAAA/gMBgYGBgYGAwH8AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAADA4DEZjYGBgYG4hgYGB8AAAAAAfGMxmMxn8xmMxj4AAAAAAAAAfgwGAwGAwGAwGD8AAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwAAAxmY2Hg4Hg2GYxmMAAAAAAAAAEBwbDYxmMxmMxmMAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAA/mMAAAfD4AAAxn8AAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAA/7MZjMZjMZjMZjMAAAAAAAAA/GMxmM/GAwGAwGAAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAA/mAYBgGAwMDAwH8AAAAAAAAAfgwGAwGAwGAwGAwAAAAAAAAAZjMZjMPAwGAwGAwAAAAAAAAAED41ms1msfAgEBwAAAAAAAAAxmMbDYOBwbDYxmMAAAAAAAAAEGs1ms1msfAgEBwAAAAAAAAAODYxmMxmMxjYKHcAAAAAAAAAAAAADszGYzGYzDsAAAAAAAAAeGYzGY2H4xmMxn4wEAAAAAAAAAAAEExjYOD4xmMxmMfAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAAfjAMAwfGMxmMxj4AAAAAAAAAAAAAD4xmAeGAxj4AAAAAA//////////4AAAAAAAAAAAAAAAAfgMDAwMDAYDAYB8Bh4AAAAAAAAAAG4ZjMZjMZjMBgAAAAAAAfGMxjMNh8hmMxj4AAAAAAAAAAAAABgMBgMBgMA4AAAAAAAAAAAAAGMzGw8GwzGMAAAAAAAAAfGMBgMPjMZmMxmMAAAAAAAAAAAAAGMxmMxmM5m6wGAwAAAAAAAAAEExmMxjYbBwAAAAAAAAAfgwMBgHBgYDAYB8Bh4AAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH+ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmM5m4wGAwAAAAAAAAAD82GYzGYzDwAAAAAAAAAAAAAD4xmAwD4BgMPAAAAAAAAAAAAH4MBgMBgNg4AAAAAAAAYGAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAHMZjMZjMZh4AAAAAAAAAAAAAA4Vms1ms1j4EAgEAAAAAAAAAGEbBwOBwbEMAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAg1ms1ms1j4EAgEAABAQADMAAAAAAAAAAAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAADMAAAAAAAAAAAAAAAAAAAAAAAAACIxmM1ms1jYAAAAAAAAAADMAHMZjMZjMZh4AAAAAABAQADMAHMZjMZjMZh4AAAAAAAAACAgACIxmM1ms1jYAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},hebrew:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/wAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZm4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAAAAxmMZjs3GYxmMAAAAAAAAAAAA+AYDAYDAYDH8AAAAAAAAAAAAOAYDAYDA4NnMAAAAAAAAAAAA/gYDAYDAYDAYAAAAAAAAAAAA/AMBgMxmMxmMAAAAAAAAAAAAcAwGAwGAwGAwAAAAAAAAAAAA/BgMBgGAwMDAAAAAAAAAAAAA/DMxmMxmMxmMAAAAAAAAAAAAzGs1mMxmMxj4AAAAAAAAAAAAcAwGAwMAAAAAAAAAAAAAAAAA/AMBgMDAYDAYDAYDgAAAAAAA/AMBgMBgMBn4AAAAAAAAAwGA/AMBgMBgYGAwAAAAAAAAAAAA/DMxmMxmMxn8AAAAAAAAAAAA3DsZmMxmMxm8AAAAAAAAAAAAOAYDAwGAwGAwGAwHAAAAAAAAOAYDAYDAYDD4AAAAAAAAAAAA/DMxmMxmMzDwAAAAAAAAAAAA7jMZjMZjMLHwAAAAAAAAAAAA+CYzGY7AYDAYDAYDgAAAAAAA/CMxmM5gMBn8AAAAAAAAAAAA7jMZjYeDAYDAYDAcAAAAAAAA7jMZhoGAYBn8AAAAAAAAAAAA/AMBjMZDYbjAYDAYAAAAAAAA/AMBgMBgMBgMAAAAAAAAAAAA1ms1ms1nsxj4AAAAAAAAAAAA/DMZjMZjM5nMAAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAZjMPAwfgwfgwGAwAAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},icelandic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcHhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwGD8PAwAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAAAH8/n8AAAAAAAAAGB4fgwGAwGD8PAwfgAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAGAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAgEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAAAwGD4xmEwD4BkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAAAwGAwMAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGH+GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAABgMDAYGAwMBgYDAAAAAAAAAAfGMxms1ms1mMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAAA/gAAH8AAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgMDAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAADwMBgMBgMBmMxj4AAAAAAAAA5jMbDYeD4bDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAODYxmMxmMxmMbBwAAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmMxms1n8bDYAAAAAAAAAxmMbDYOBwbDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAYDAMBgGAwDAYBgMAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZm4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYfAYDGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1msxmMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMfDAYDA8AAAAAAAAADszGYzGYfAYDAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAADMZjMZjMPAwAAAAAAAAAAAAAGMxmM1ms/jYAAAAAAAAAAAAAGMxjYODYxmMAAAAAAAAAAAAAGMxmMxmMfgMBgYeAAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcDgGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgcGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GAYOAAAAAzGYAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzGYADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GAYOAAAAgODYAD4xn8wGAxj4AAAAAAAAAzGYAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAA+DYZjM9jMZjMbHwAAAAAAAAAbBg2AYfmMxmMxj4AAAAAAAAA8DAfDMZjMZj4YHgAAAAAAxmMEBwbGMxn8xmMxmMAAAAAAODYOAAODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNjs3mw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxmMAD4xmMxmMxj4AAAAAAAAA4DAYD4ZjMZjMfDAYDA8AAABgeGYAGYzGYzGYzDsAAAAAADAwADMZjMZh4GAwGB4AAAAAAAAYGBgAGMxmMxmMfgMBgYeAAxmMODYxmMxmMxmMbBwAAAAAAxmMAGMxmMxmMxmMxj4AAAAAAAAAAAABj4zm81nM5j4wAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAMPDYzmc1ms5nMbDwwAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAwGAw2DgAAAAAYGBgADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAYGBgAD4xmMxmMxj4AAAAAAAAYGBgAGYzGYzGYzDsAAAAAADAwABwbGMxn8xmMxmMAAAAAADAwAB4GAwGAwGAwGB4AAAAAADAwABwbGMxmMxmMbBwAAAAAADAwAGMxmMxmMxmMxj4AAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAAAAAAAAAAAAAAAAAAA/gMBgMAAAAAAAAAAGAwGExmYGBgYG4pgYGB8AAAAGAwGExmYGBgZmcnh8BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABmZmYZhmAAAAAAAAAAAAAAAAGYZhmZmYAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxm4AAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAADs3AwGAwGAwAAAAAAAAAPAwPDMZjMZh4GB4AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxmMxjYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAfGMxmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAw2Gw2DgAAAAAAAAAAAAGAwAD8AAwGAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAAGwbDYbDYbAAAAAAAAAAAAAAADg2BgYGQ+AAAAAAAAAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},latin1:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAAAAAAAGMbBwODYxgAAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwYGAEBwbGMxn8xmMxmMAAAAAAfGMEBwbGMxn8xmMxmMAAAAAADAMEBwbGMxn8xmMxmMAAAAAAAAAfEEmlEolEmkEfAAAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAGAwfGMwGAxj4GAwAAAAAAAAAADMZh4GD8GD8GAwAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAdm4ADwDD4zGYzDsAAAAAAdm4ABwbGMxn8xmMxmMAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAxj4xmMxmMfGMAAAAAAAAANAwLAMPjMZjMZh4AAAAAAAAA+DYZjM9jMZjMbHwAAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAABwGAwGAwGB4AAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAADMAB4GAwGAwGAwGB4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAwGAwGAwAAAGAwGAwGAAAAAMAwAB4GAwGAwGAwGB4AAAAAA//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAA4DAYD4ZjMZjMZj4YDA8AAAAA8DAfDMZjMZj4YHgAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAAAYGBgAGMxmMxmMxj8BgY+AADAwADMZjMZh4GAwGB4AAAAAAAH+AAAAAAAAAAAAAAAAAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAAAAAAAAAAAA/wA/wAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAABwbDYOAAAAAAAAAAAAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},latin2:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPhsPhgMBgMDg8HAAAAAAAAAAfjMfjMZjMZjc7nYwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH4YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAAGMxmMRAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgYGBgMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnsAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGYzGYzGYeBgAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAdm4AAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4DAMfAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADwzDwAGYzGYzGYzDsAAAAAAAAYGBgAD4xmAwGAxj4AAAAAAAAAAAAAD4xmAwGAxj4GAYeAAAAAOA0Hg4GBweCwGB4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAANjYAD4xmMxmMxmMxj4AAAAAAAAANjYAD4xmMxmMxj4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAGBgAH8hgYGBgYGExn8AAAAAAAGMEBwbGMxn8xmMxmMAAAAAADAwAB4ZmEwGAwGEZh4AAAAAAGBgYAA/jMYDwYDEZn8AAAAAAMDAAHgYDAYDAYDEZn8AAAAAAMDAAHAYDAYDAYDAYHgAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAAAA9jEZDAYDAYDEZn8AAAAAAAAA7DIaDAYDAYDAYHgAAAAAAGBgAD4xmMYBwDGMxj4AAAAAAAAADAwAD4xjAOAYxj4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAZh4AD8fi0GAwGAwGB4AAAAAAAAMEhoMH4MBgMBgNg4AAAAAAAAA8DIbDwcHA4DEZn8AAAAAAAAAAAAAAAxjYODYxgAAAAAAAAAAbBwAD4xmAwGAxj4AAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAEBwbGMxn8xmMxmMGBgHgAAAAAAAADwDD4zGYzDsGBgHgAbBwAH8xkYGBgYGExn8AAAAAAAAAbBwAH8zAwMDAxn8AAAAAAAAA/jMYjQeDQYDEZn8GBgHgAAAAAAAAD4xn8wGAxj4MDAPAAAAAAAAAAA/gMBgMBgAAAAAAAAAYGBgAH8zAwMDAxn8AAAAAAZh4AB4ZmEwGAwGEZh4AAAAAAAAAAAAAD4xjAOAYxj4GAYeAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAADYNg2NjYAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGBgAAgODYxmM/mMxmMAAAAAAODYAAgODYxmM/mMxmMAAAAAAbBwAH8ZjEaDwaDEZn8AAAAAAAAAfGMxjAOAYBmMxj4GAYeAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAGAwAH8hgYGBgYGExn8AAAAAAAAAGAwAH8zAwMDAxn8AAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwxj4AAgODYxmM/mMxmMAAAAAAAAAxj4ADwDD4zGYzDsAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAAGMfGMxmMfGMAAAAAAAAADAYfgYPDYzGYzDsAAAAAAAAA+DYZjM9jMZjMbHwAAAAAAbBwAHwbDMZjMZjMbHwAAAAAAbAAAH8ZjEaDwaDEZn8AAAAAAAAAHYbDZ4bGYzGYzDsAAAAAAbBwAGM5ns/m8zmMxmMAAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAAAAZh4AD4xn8wGAxj4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAAfj8WgwGAwGAwGB4GAYeAAODYOAAxmMxmMxmMxj4AAAAAA//////////4AAAAAAAAAAAAADAwAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAADAwAGM5ns/m8zmMxmMAAAAAAAAYGBgAG4ZjMZjMZjMAAAAAAAAAbBwAG4ZjMZjMZjMAAAAAAbBwAD4xmAYBwDAMxj4AAAAAAAAAbBwAD4xjAOAYxj4AAAAAAGBgAH4ZjMZj4bDMZnsAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAAAYGBgAG4djMYDAYHgAAAAAANjYAGMxmMxmMxmMxj4AAAAAAAAYGBgAGMxmMxmMxj8BgY+AADAwADMZjMZh4GAwGB4AAAAAAAAAEBgMH4MBgMBgNg4GAYeAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAAAAAAAAAAABsbGwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMDAPAAADYOAAAAAAAAAAAAAAAAAAAAAGMfAAAAAAAAAAAAAAAAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAGAwAD8AAwGAAAAAAAAAAAAAAAAAAAAAAAAAAGAYeAAABwbDYOAAAAAAAAAAAAAAAAAADYbAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAANjYAGYzGYzGYzDsAAAAAAbBwAH4ZjMZj4bDMZnsAAAAAAAAAbBwAG4djMYDAYHgAAAAAAAAAAAAfD4fD4fD4fAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},nordic:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxmM/mMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAHYNhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4xmc1nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAIfGczms1ms1nM5j4QAAAAAAHwzGY+GIzG8zGYzGMAAAAAAAAcGwwGAwfgwGAw2DgAAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAAAAAAAAAA/mAwGAwAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAxj4xmMxmMfGMAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},persian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABIZn+ZhIAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAPDMw2G222w2GZh4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAw3O/3+22Gw2Gw2GAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAw2Gw2Gw2GwzMPAwAAAAAAAAAw2Gw2Gw2223+ZjMAAAAAAAAAw2GZh4GAwPDMw2GAAAAAAAAAw2GwzMPAwGAwGB4AAAAAAAAA/2GhgYGBgYGCw3+AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAMBgGAAAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAODYZDA8DAYDAYHgAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHM/22222222AAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGGw2GwzMPAwAAAAAAAAAAAAAGGw2G222/zMAAAAAAAAAAAAAGGZh4GB4ZmGAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwAAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAAAAAAAAAAAAAAAQEAgCAOAAAAAAAAAAAACAgDwAAAAAAAAAAAAAAAAAAAAAAAAgOAgAAAAAAAAAAAgEAgEAQCAQBAIBAIAAAAAAAAEQj4QBAIBAEAgEAgAAAAAAACSSTsQBAIBAEAgEAgAAAAAAAAMCAgEAYCAgIBAIA8AAAAAAAAAEAQFBIIiEQUCkTcAAAAAAACEPgEAgIBAIBAEAgEAAAAAAACEQiEQhEJBIFAwGAgAAAAAAAAQGAwFBIJBEQiEQiEAAAAAAAAwJCIRB4BAIBAEAgEAAAAAAAAAAAADAwGAwAAAAAAAAAAAAAAAAAAAAAAH+AAAAAAAAAAB4QiAQBAEAYDAAAAYDAAAAAAACPiACAQCAQCAQCAAAAAAAAAAAAAMCAcEACAX8AAAAAAAAAAAAAAAAAQEAgDAgBAQAAAAAAAACAQCAQCAQCAQCAAAAAAAAAAAIBAIBAIBAIBAGAAAAAAAAAAAAAAAAAAACCgT8AAAEAAAAAAAAAAAAAAAACAX8AAAEAAAAAAAAAAAAAAACCgT8AAAFAQAAAAAAAAAAAAAACAX8AAAKAgAAAAAAAAAFAAACCgT8AAAAAAAAAAAAAAAFAAAACAX8AAAAAAAAAAAAAAQFAAACCgT8AAAAAAAAAAAAAAQFAAAACAX8AAAAAAAAAAAAAAAAAwJAEHxAQCARCAIQ8AAAAAAAAAGBIAn+AAACAAAAAAAAAAAAAwJAEHxAQCURCAIQ8AAAAAAAAAGBIAn+AAAKAgAAAAAAAAAAAwJAEHxAQCAQCAIQ8AAAAAAAAAGBIAn+AAAAAAAAAAAAEAAAAwJAEHxAQCAQCAIQ8AAAAAgAAAGBIAn+AAAAAAAAAAAAAAAAAIAgCIQ8AAAAAAAAAAAACAAAAIAgCIQ8AAAAAAAAAAAAAAAAAAAAEAQCAQEBBwAAAAAAAAAAgAAAEAQCAQEBBwAAAAAAAAICgAAAEAQCAQEBBwAAAAAAAAAAAAABKFQ+EAgIGAAAAAAAAAAAAAAACJX8AAAAAAAAAAAAAAICgAABKFQ+EAgIGAAAAAAAAAQFAAAACJX8AAAAAAAAAAAAAAAAAAAgKKQ8EAgIGAAAAAAAAAAAAABhSMX8AAAAAAAAAAAAAAIAAAAgKKQ8EAgIGAAAAAAABAAAAABhSMX8AAAAAAAAAABAIBAIBAJhSMX8AAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVUAAAAQCAgEBEISBQEAAAAAAAAGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAw+AwGAwGAwGAwGAwGAwGAw+Aw+AwGAwGAwGAwNhsNhsNhsNhs9hsNhsNhsNhsAAAAAAAAAAAA/hsNhsNhsNhsAAAAAAAAA+Aw+AwGAwGAwGAwNhsNhsNhs9gM9hsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAAA/gM9hsNhsNhsNhsNhsNhsNhs9gM/gAAAAAAAAAANhsNhsNhsNhs/gAAAAAAAAAAGAwGAwGAw+Aw+AAAAAAAAAAAAAAAAAAAAAAA+AwGAwGAwGAwGAwGAwGAwGAwH4AAAAAAAAAAGAwGAwGAwGAw/4AAAAAAAAAAAAAAAAAAAAAA/4wGAwGAwGAwGAwGAwGAwGAwH4wGAwGAwGAwAAAAAAAAAAAA/4AAAAAAAAAAGAwGAwGAwGAw/4wGAwGAwGAwGAwGAwGAwH4wH4wGAwGAwGAwNhsNhsNhsNhsN5sNhsNhsNhsNhsNhsNhsN5gP4AAAAAAAAAAAAAAAAAAAP5gN5sNhsNhsNhsNhsNhsNhs94A/4AAAAAAAAAAAAAAAAAAA/4A95sNhsNhsNhsNhsNhsNhsN5gN5sNhsNhsNhsAAAAAAAAA/4A/4AAAAAAAAAANhsNhsNhs94A95sNhsNhsNhsGAwGAwGAw/4A/4AAAAAAAAAANhsNhsNhsNhs/4AAAAAAAAAAAAAAAAAAA/4A/4wGAwGAwGAwAAAAAAAAAAAA/5sNhsNhsNhsNhsNhsNhsNhsP4AAAAAAAAAAGAwGAwGAwH4wH4AAAAAAAAAAAAAAAAAAAH4wH4wGAwGAwGAwAAAAAAAAAAAAP5sNhsNhsNhsNhsNhsNhsNhs/5sNhsNhsNhsGAwGAwGAw/4w/4wGAwGAwGAwGAwGAwGAwGAw+AAAAAAAAAAAAAAAAAAAAAAAH4wGAwGAwGAw////////////////////////AAAAAAAAAAAA////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f////////////AAAAAAAAAAAAABAIBIIBAJhSMX8AAAAAAAAAAAAAAADAgEAQHhAQCAQCAIQ8AAAAAAAAcHgYExAQCAQCAIQ8AAAAAAAAAHB4GHOAAAAAAAAAAAAAAAAAYEggCH+AAAAAAAAAAAACAADAgEAQHhAQCAQCAIQ8AAABAAAAcHgYExAQCAQCAIQ8AAAAAQAAAHB4GHOAAAAAAAAAAAACAAAAYEggCH+AAAAAAAAAAAAAgAAAEBSOgT8AAAAAAAAAAAAAgAAAEBQOAX8AAAAAAAAAAAAAAUAAAAgKJSGQSCQREHAAAAACgAAAEBQOAX8AAAAAAAAAAACAQCCQiCQigT8AAAAAAAAAAQEBAQEAgDgCAX8AAAAAAAAABQUFAQEAwBgCgT8AAAAAAAAABQUFAQEAgDgCAX8AAAAAAAAAAACAQCAQCAQCISCQSCQR8AAAAACIRCEQiCQSBg+AAAAAAAAAAACAQCAQCAQCAX8AAAAAAAAAAAAAAAAAADAcHxAIBAIBAIBAAAAAAAAAAAAMCXsAAAAAAAAAAAAAAAAAIAACISCQSCQRCHgAAAAAAACAAAACAX8AAAAAAAAAAAAAAAAAAAgKBQGAQEBDwAAAAAAAAAAAIBgSCQMAAAAAAAAAAAAAAAAAAHBIKHmJAkDgAAAAAAAAAACAIHhKGXsAAAAAAAAAAAAAAAAAAAAAAAOCCQhEEgj4AAAAAAAAABgQSEIgkEgj4AAAAAAAAAAAAAACAX8AAAKAAAAAAAAAH+VX+VX+VX+5Xu/X+/3+",amigaFont:!1},portuguese:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GDgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAdm4ADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAYGAEBwbGMxn8xmMxmMAAAAAAAAAAAAAD4xmAwGAxj4GDgAAAAAgODYAD4xn8wGAxj4AAAAAAODYAH8ZjEaDwaDEZn8AAAAAAADAMAwAD4xn8wGAxj4AAAAAADAwAB4GAwGAwGAwGB4AAAAAAODYAD4xmMxmMxmMxj4AAAAAAADAMAwABwGAwGAwGB4AAAAAAdm4ABwbGMxn8xmMxmMAAAAAAODYxhwbGMxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAADAMEBwbGMxn8xmMxmMAAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAGBgAGMxmMxmMxmMxj4AAAAAAADAMAwAGYzGYzGYzDsAAAAAAMAwAB4GAwGAwGAwGB4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAwGD4xmAwGAxj4GAwAAAAAAABwbDIYHgYDAYDA5n4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAAHwzGY+GIzG8zGYzGMAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAMBgABgMDAwGMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAADs3Gw2Gw3DsAAAAAAAAAeGYzGY2GYxmMxmYAAAAAAAAA/mMxmAwGAwGAwGAAAAAAAAAAAAAAH8bDYbDYbDYAAAAAAAAA/mMYBgGAwMDAxn8AAAAAAAAAAAAAD82Gw2Gw2DgAAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAdm4GAwGAwGAwAAAAAAAAAfgwPDMZjMZh4GD8AAAAAAAAAODYxmM/mMxmMbBwAAAAAAAAAODYxmMxjYbDYbHcAAAAAAAAAHhgGAYPjMZjMZh4AAAAAAAAAAAAAD82222z8AAAAAAAAAAAAAAGBj82228z8YGAAAAAAAAAAHBgYDAfDAYDAMA4AAAAAAAAAAD4xmMxmMxmMxmMAAAAAAAAAAAA/gAAH8AAA/gAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAABgGAYBgYGBgAD8AAAAAAAAAAAYGBgYBgGAYAD8AAAAAAAAADg2GwwGAwGAwGAwGAwGAwGAwGAwGAwGAwGGw2GwcAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAADs3AAdm4AAAAAAAAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAeDAYDAYDHYbDYPA4AAAAAAADYNhsNhsNgAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},russian:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAfGMxmc1nMxmMxj4AAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAHhsZmMxn8xmMxmMAAAAAAAAA/jEYDAfDMZjMZn4AAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAA/jMYjAYDAYDAYHgAAAAAAAAAHhsZjMZjMZjMZn+w0CAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA222Wi0fj8Wm2222AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAAxmMxmc3ns5mMxmMAAAAAAbBwxmMxmc3ns5mMxmMAAAAAAAAA5jMbDYeDwbDYZnMAAAAAAAAAHxsZjMZjMZjMZmeAAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/mMxmMxmMxmMxmMAAAAAAAAA/DMZjMZj4YDAYHgAAAAAAAAAfGMxmAwGAwGExj4AAAAAAAAA/22mQwGAwGAwGB4AAAAAAAAAxmMxmMxj8BgMxj4AAAAAAAAAfm22222222z8GB4AAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAxmMxmMxmMxmMxn+AwGAAAAAAxmMxmMxj8BgMBgMAAAAAAAAA1ms1ms1ms1ms1n8AAAAAAAAA1ms1ms1ms1ms1n+AwGAAAAAA+HgsBgPhmMxmMz8AAAAAAAAAw2Gw2G82222223mAAAAAAAAA8DAYDAfDMZjMZn4AAAAAAAAAfGMBhMPhMBgMxj4AAAAAAAAAzm2222+2222222cAAAAAAAAAPzMZjMPh8ZjMZnOAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAEBj4wGA/GMxmMxj4AAAAAAAAAAAAAH4ZjMfDMZn4AAAAAAAAAAAAAH8YjEYDAYHgAAAAAAAAAAAAAA8NjMZjMZn+w2GAAAAAAAAAAD4xmM/mAxj4AAAAAAAAAAAAAGs1iofCo1msAAAAAAAAAAAAAD4xgMPAMxj4AAAAAAAAAAAAAGMxmc1nMxmMAAAAAAAAAADYOGMxmc1nMxmMAAAAAAAAAAAAAHMbDweDYZnMAAAAAAAAAAAAAA8NjMZjMZnMAAAAAAAAAAAAAGM7n8/ms1mMAAAAAAAAAAAAAGMxmM/mMxmMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAH8xmMxmMxmMAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwGAwGAwGHwGHwGAwGAwGAwGAwNhsNhsNhsNnsNhsNhsNhsNhsAAAAAAAAAAH8NhsNhsNhsNhsAAAAAAAHwGHwGAwGAwGAwGAwNhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAANhsNhsNhsNn8AAAAAAAAAAAAGAwGAwGHwGHwAAAAAAAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwGAwGAwGA/GA/GAwGAwGAwGAwNhsNhsNhsNhvNhsNhsNhsNhsNhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsGAwGAwGH/AH/AAAAAAAAAAAANhsNhsNhsNn/AAAAAAAAAAAAAAAAAAAH/AH/GAwGAwGAwGAwAAAAAAAAAAH/NhsNhsNhsNhsNhsNhsNhsNh/AAAAAAAAAAAAGAwGAwGA/GA/AAAAAAAAAAAAAAAAAAAA/GA/GAwGAwGAwGAwAAAAAAAAAAB/NhsNhsNhsNhsNhsNhsNhsNn/NhsNhsNhsNhsGAwGAwGH/GH/GAwGAwGAwGAwGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f//////////4AAAAAAAAAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAAD4xmAwGAxj4AAAAAAAAAAAAAD8WgwGAwGB4AAAAAAAAAAAAAGMxmMxmMfgMBmMfAAAAAAB4GD82222222z8GAwPAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxn+AwGAAAAAAAAAAGMxmMxj8BgMAAAAAAAAAAAAAGs1ms1ms1n8AAAAAAAAAAAAAGs1ms1ms1n8AwGAAAAAAAAAAHwsFgPhmMz8AAAAAAAAAAAAAGMxmM9m83nsAAAAAAAAAAAAAHgYDAfDMZn4AAAAAAAAAAAAAD4xgMPgMxj4AAAAAAAAAAAAAGc222+2222cAAAAAAAAAAAAAD+xmMfhsZnOAAAAAAbAA/jMYjQeDQYDEZn8AAAAAAAAAADYAD4xmM/GAxj4AAAAAAAAAfGMwGQ+GQwGAxj4AAAAAAAAAAAAAD4xmA+GAxj4AAAAAAZgAPAwGAwGAwGAwGB4AAAAAAAAAADYABwGAwGAwGB4AAAAAAbBwxmMxmMxj8BgMxj4AAAAAAAAAADYOGMxmMxmMfgMBmMfAAABwbDYOAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAcDAYDAYDAY7DYPA4AAAAAAAAAz2a73Y/243GYzGYAAAAAAAAAAGMfGMxmMxmMfGMAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},terminus:{width:9,height:16,data:"AAAfiEQiEQiEQiEQj8AAAAAAAAAfEEqkEgl0kkEgj4AAAAAAAAAfH81n8/mM7n8/j4AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAEBwOAgVH8/ioEBwAAAAAAAAAEAgOD4/n8fAgEBwAAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAAAGBIJAwAAAAAAAAA/3+/3+/3+52223O/3+/3+/3+AAAHgMCgkOCIRCIRBwAAAAAAAAAOCIRCIRBwED4EAgAAAAAAAAAPhEPhAIBAIBAIGAAAAAAAAAAfiEfiEQiEQiEQiIgAAAAAAAAAAgkioOHcOCokggAAAAAAAAAAAAwHg/H+/HgwAAAAAAAAAAAAAAAweP3+PweAwAAAAAAAAAAEBwVAgEAgECoOAgAAAAAAAAAJBIJBIJBIJAAJBIAAAAAAAAAfkkkkkkjkEgkEgkAAAAAAABwRCAMCQRCIJAwBCIOAAAAAAAAAAAAAAAAAfj8fj8AAAAAAAAAEBwVAgEAgVBwED4AAAAAAAAAEBwVAgEAgEAgEAgAAAAAAAAAEAgEAgEAgECoOAgAAAAAAAAAAAAAAQBH8BAQAAAAAAAAAAAAAAAABAQH8QBAAAAAAAAAAAAAAAAQCAQCAQD8AAAAAAAAAAAAAAAABIQn+QhIAAAAAAAAAAAAAAAEAgOBwfD4/n8AAAAAAAAAAAA/n8fD4OBwEAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAgEAgEAgEAAEAgAAAAAAABIJBIAAAAAAAAAAAAAAAAAAAAAJBIJD8JBIfhIJBIAAAAAAAAgED4kkgkD4Egkkj4EAgAAAAAAZEoaAQEAgIBYUiYAAAAAAAAAGBIJAwMCURCIRB0AAAAAAAAgEAgAAAAAAAAAAAAAAAAAAAAACAgIBAIBAIBAEAQAAAAAAAAAIAgCAQCAQCAQEBAAAAAAAAAAAAAABIGD8GBIAAAAAAAAAAAAAAAAAgED4EAgAAAAAAAAAAAAAAAAAAAAAAAAEAgIAAAAAAAAAAAAAAAD8AAAAAAAAAAAAAAAAAAAAAAAAAAAEAgAAAAAAAAABAICAQEAgIBAQCAAAAAAAAAAPCEQiMSikYiEQh4AAAAAAAAACAwKAQCAQCAQCB8AAAAAAAAAPCEQgEBAQEBAQD8AAAAAAAAAPCEQgEHAEAiEQh4AAAAAAAAAAgMCgkIiEfgEAgEAAAAAAAAAfiAQCAfAEAgEQh4AAAAAAAAAHBAQCAfCEQiEQh4AAAAAAAAAfgEAgIBAQCAgEAgAAAAAAAAAPCEQiEPCEQiEQh4AAAAAAAAAPCEQiEQh8AgEBBwAAAAAAAAAAAAAAgEAAAAAEAgAAAAAAAAAAAAAAgEAAAAAEAgIAAAAAAAAAAICAgICAIAgCAIAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAACAIAgCAICAgICAAAAAAAAAAPCEQiEBAQCAACAQAAAAAAAAAfEEnlEolEpk0gD8AAAAAAAAAPCEQiEQj8QiEQiEAAAAAAAAAfCEQiEfCEQiEQj4AAAAAAAAAPCEQiAQCAQCEQh4AAAAAAAAAeCIQiEQiEQiERDwAAAAAAAAAfiAQCAeCAQCAQD8AAAAAAAAAfiAQCAeCAQCAQCAAAAAAAAAAPCEQiAQCcQiEQh4AAAAAAAAAQiEQiEfiEQiEQiEAAAAAAAAAOAgEAgEAgEAgEBwAAAAAAAAADgIBAIBAIBCIRBwAAAAAAAAAQiISCgYDAUCQRCEAAAAAAAAAQCAQCAQCAQCAQD8AAAAAAAAAgmMqkkkkEgkEgkEAAAAAAAAAQiEQjEUiURiEQiEAAAAAAAAAPCEQiEQiEQiEQh4AAAAAAAAAfCEQiEQj4QCAQCAAAAAAAAAAPCEQiEQiEQiESh4AgAAAAAAAfCEQiEQj4UCQRCEAAAAAAAAAPCEQCAPAEAiEQh4AAAAAAAAA/ggEAgEAgEAgEAgAAAAAAAAAQiEQiEQiEQiEQh4AAAAAAAAAQiEQiEQhIJBIGAwAAAAAAAAAgkEgkEgkkklUxkEAAAAAAAAAQiEJBIGAwJBIQiEAAAAAAAAAgkERCIKAgEAgEAgAAAAAAAAAfgEAgICAgICAQD8AAAAAAAAAOBAIBAIBAIBAIBwAAAAAAAAAQCAIBAEAgCAQBAIAAAAAAAAAOAQCAQCAQCAQCBwAAAAAAAAgKCIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD8AAAEAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4Ah8QiEQh8AAAAAAAAAQCAQD4QiEQiEQj4AAAAAAAAAAAAAB4QiAQCAQh4AAAAAAAAAAgEAh8QiEQiEQh8AAAAAAAAAAAAAB4QiEfiAQB4AAAAAAAAADggED4EAgEAgEAgAAAAAAAAAAAAAB8QiEQiEQh8AgEPAAAAAQCAQD4QiEQiEQiEAAAAAAAAAEAgABgEAgEAgEBwAAAAAAAAABAIAAYBAIBAIBAIRCIOAAAAAQCAQCERCQcCQRCEAAAAAAAAAMAgEAgEAgEAgEBwAAAAAAAAAAAAAH4kkkkkkkkkAAAAAAAAAAAAAD4QiEQiEQiEAAAAAAAAAAAAAB4QiEQiEQh4AAAAAAAAAAAAAD4QiEQiEQj4QCAQAAAAAAAAAB8QiEQiEQh8AgEAgAAAAAAAAC8YCAQCAQCAAAAAAAAAAAAAAB8QCAPAEAj4AAAAAAAAAEAgED4EAgEAgEAcAAAAAAAAAAAAACEQiEQiEQh8AAAAAAAAAAAAACEQiEJBIGAwAAAAAAAAAAAAAEEgkkkkkkj4AAAAAAAAAAAAACEQhIGBIQiEAAAAAAAAAAAAACEQiEQiEQh8AgEPAAAAAAAAAD8BAQEBAQD8AAAAAAAAADAgEAgIAgEAgEAYAAAAAAAAAEAgEAgEAgEAgEAgAAAAAAAAAMAQCAQBAQCAQCBgAAAAAAADEkkYAAAAAAAAAAAAAAAAAAAAAAAAEBQREEgkEgn8AAAAAAAAAPCEQiAQCAQCEQh4EAgIAAAAAJBIACEQiEQiEQh8AAAAAAAAACAgAB4QiEfiAQB4AAAAAAAAAGBIAB4Ah8QiEQh8AAAAAAAAAJBIAB4Ah8QiEQh8AAAAAAAAAEAQAB4Ah8QiEQh8AAAAAAAAAGBIGB4Ah8QiEQh8AAAAAAAAAAAAAB4QiAQCAQh4EAgIAAAAAGBIAB4QiEfiAQB4AAAAAAAAAJBIAB4QiEfiAQB4AAAAAAAAAEAQAB4QiEfiAQB4AAAAAAAAASCQABgEAgEAgEBwAAAAAAAAAMCQABgEAgEAgEBwAAAAAAAAAIAgABgEAgEAgEBwAAAAAAJBIAB4QiEQj8QiEQiEAAAAAAGBIGB4QiEQj8QiEQiEAAAAAACAgAD8QCAQDwQCAQD8AAAAAAAAAAAAADYEjknkgkDYAAAAAAAAAfkgkEg/EgkEgkE8AAAAAAAAAGBIAB4QiEQiEQh4AAAAAAAAAJBIAB4QiEQiEQh4AAAAAAAAAEAQAB4QiEQiEQh4AAAAAAAAAGBIACEQiEQiEQh8AAAAAAAAAEAQACEQiEQiEQh8AAAAAAAAAJBIACEQiEQiEQh8AgEPAAJBIAB4QiEQiEQiEQh4AAAAAAJBIACEQiEQiEQiEQh4AAAAAAAAAAAgED4kkgkEgkj4EAgAAAAAAGBIIBAeBAIBAIj8AAAAAAAAAgkERBQED4ED4EAgAAAAAAAAA8EQiEQ9EIjkIhEEAAAAAAAAADAkEAgfAgEAgEAgEEgYAAAAACAgAB4Ah8QiEQh8AAAAAAAAACAgABgEAgEAgEBwAAAAAAAAACAgAB4QiEQiEQh4AAAAAAAAACAgACEQiEQiEQh8AAAAAAAAAMiYAD4QiEQiEQiEAAAAAAMiYACEQjEUiURiEQiEAAAAAAABwBB4RB4AD4AAAAAAAAAAAAABwRCIRBwAD4AAAAAAAAAAAAAAAEAgAAgEBAQiEQh4AAAAAAAAAAAAAD8QCAQAAAAAAAAAAAAAAAAAAD8AgEAgAAAAAAAAAAABAYBAIhICAgICYkgICA8AAAABAYBAIhICAgIiMig8AgEAAAAAAEAgAAgEAgEAgEAgAAAAAAAAAAAAAAkJCQkCQJAkAAAAAAAAAAAAAEgSBIEhISEgAAAAAAiBEiBEiBEiBEiBEiBEiBEiBEqiqqiqqiqqiqqiqqiqqiqqiq7l27l27l27l27l27l27l27l2EAgEAgEAgEAgEAgEAgEAgEAgEAgEAgEAgEHgEAgEAgEAgEAgEAgEAgEAg8Ag8AgEAgEAgEAgKBQKBQKBQKHQKBQKBQKBQKBQAAAAAAAAAAHwKBQKBQKBQKBQAAAAAAAAA8Ag8AgEAgEAgEAgKBQKBQKBQ6AQ6BQKBQKBQKBQKBQKBQKBQKBQKBQKBQKBQKBQAAAAAAAAA+AQ6BQKBQKBQKBQKBQKBQKBQ6AQ+AAAAAAAAAAAKBQKBQKBQKHwAAAAAAAAAAAAEAgEAgEAg8Ag8AAAAAAAAAAAAAAAAAAAAAHgEAgEAgEAgEAgEAgEAgEAgEA/AAAAAAAAAAAAEAgEAgEAgEH/AAAAAAAAAAAAAAAAAAAAAAH/EAgEAgEAgEAgEAgEAgEAgEA/EAgEAgEAgEAgAAAAAAAAAAH/AAAAAAAAAAAAEAgEAgEAgEH/EAgEAgEAgEAgEAgEAgEAgH4gH4gEAgEAgEAgKBQKBQKBQKBfKBQKBQKBQKBQKBQKBQKBQL5AP4AAAAAAAAAAAAAAAAAAAP5AL5QKBQKBQKBQKBQKBQKBQ74A/4AAAAAAAAAAAAAAAAAAA/4A75QKBQKBQKBQKBQKBQKBQL5AL5QKBQKBQKBQAAAAAAAAA/4A/4AAAAAAAAAAKBQKBQKBQ74A75QKBQKBQKBQEAgEAgEAg/4A/4AAAAAAAAAAKBQKBQKBQKH/AAAAAAAAAAAAAAAAAAAAA/4A/4gEAgEAgEAgAAAAAAAAAAH/KBQKBQKBQKBQKBQKBQKBQKB/AAAAAAAAAAAAEAgEAgEAgH4gH4AAAAAAAAAAAAAAAAAAAH4gH4gEAgEAgEAgAAAAAAAAAAB/KBQKBQKBQKBQKBQKBQKBQKH/KBQKBQKBQKBQEAgEAgEAg/4g/4gEAgEAgEAgEAgEAgEAgEHgAAAAAAAAAAAAAAAAAAAAAAA/EAgEAgEAgEAg////////////////////////AAAAAAAAAAAA////////////8Hg8Hg8Hg8Hg8Hg8Hg8Hg8HgD4fD4fD4fD4fD4fD4fD4fD4f////////////AAAAAAAAAAAAAAAAAAAB0RiIRCIRh0AAAAAAAAAOCIRCQfCEQiEQj4QCAQAAAAAfiAQCAQCAQCAQCAAAAAAAAAAAAAAD8QiEQiEQiEAAAAAAAAAfiAIAgCAQEBAQD8AAAAAAAAAAAAAB8RCIRCIRBwAAAAAAAAAAAAACEQiEQiERj0QCAQAAAAAAAAAH8EAgEAgEAYAAAAAAAAAED4kkkkkkkkkfAgAAAAAAAAAPCEQiEWiEQiEQh4AAAAAAAAAPCEQiEQiEQhIJDMAAAAAAAAAPggCB4QiEQiEQh4AAAAAAAAAAAAADYkkkkjYAAAAAAAAAAAAAgIfEUkkkoj4QEAAAAAAAAAAAAAHhAQD8QBAHgAAAAAAAAAAAAAPCEQiEQiEQiEAAAAAAAAAAAAfgAAD8AAAfgAAAAAAAAAAAAAAAgED4EAgAD4AAAAAAAAAABAEAQBAQEBAAD4AAAAAAAAAAAICAgIAgCAIAB8AAAAAAAAADAkEggEAgEAgEAgEAgEAgEAgEAgEAgEAgEEgkDAAAAAAAAAAAAAEAgAD4AAgEAAAAAAAAAAAAAAABkTAAMiYAAAAAAAAAAAwJBIGAAAAAAAAAAAAAAAAAAAAAAAAAAAAwGAAAAAAAAAAAAAAAAAAAAAAgEAAAAAAAAAAAAAMBAIBAIRCIRBIFAYAAAAAAABwJBIJBIAAAAAAAAAAAAAAAAAwJAQEB4AAAAAAAAAAAAAAAAAAAAAAB4PB4PB4PAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1},turkish:{width:9,height:16,data:"AAAAAAAAAAAAAAAAAAAAAAAAAAAfkCpUCgV6mUCgT8AAAAAAAAAfn+23+/2G53+/z8AAAAAAAAAAAAbH8/n8/j4OAgAAAAAAAAAAAAEBwfH8fBwEAAAAAAAAAAAAAwPB453O5wwGB4AAAAAAAAAAAwPD8/3+fgwGB4AAAAAAAAAAAAAAAGB4PAwAAAAAAAAA/3+/3+/3+52Gw3O/3+/3+/3+AAAAAAAB4ZiEQjMPAAAAAAAA/3+/3+/2GmV6vUyw3+/3+/3+AAAHgcGhkeGYzGYzDwAAAAAAAAAPDMZjMZh4GD8GAwAAAAAAAAAPxmPxgMBgMDg8HAAAAAAAAAAfzGfzGYzGYzO53MwAAAAAAAAAAwGG2PHOPG2GAwAAAAAAAEAwHA8Hw/nw8HAwEAAAAAAAAAEBgcHh8/h8HgcBgEAAAAAAAAAGB4fgwGAwfh4GAAAAAAAAAAAZjMZjMZjMZgAZjMAAAAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAAAAA/n8/n8AAAAAAAAAGB4fgwGAwfh4GD8AAAAAAAAAGB4fgwGAwGAwGAwAAAAAAAAAGAwGAwGAwGD8PAwAAAAAAAAAAAAAAwDH8DAwAAAAAAAAAAAAAAAABgYH8YBgAAAAAAAAAAAAAAAAAAwGAwH8AAAAAAAAAAAAAAAABQbH8bBQAAAAAAAAAAAAAAAEBwOD4fH8/gAAAAAAAAAAAAA/n8fD4OBwEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGB4PB4GAwGAAGAwAAAAAAADMZjMJAAAAAAAAAAAAAAAAAAAAADYbH8bDYbH8bDYAAAAAAGAwfGMwmAfAMBkMxj4GAwAAAAAAAAAwmMDAwMDAxkMAAAAAAAAAODYbBwdm4zGYzDsAAAAAAABgMBgYAAAAAAAAAAAAAAAAAAAADAwMBgMBgMBgGAYAAAAAAAAAMAwDAYDAYDAYGBgAAAAAAAAAAAAADMPH+PDMAAAAAAAAAAAAAAAAAwGD8GAwAAAAAAAAAAAAAAAAAAAAAAAwGAwMAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAAAAAAAAAAGAwAAAAAAAAAAAAAgMDAwMDAwEAAAAAAAAAAODYxmM1msxmMbBwAAAAAAAAAGBweAwGAwGAwGD8AAAAAAAAAfGMBgYGBgYGAxn8AAAAAAAAAfGMBgMPAMBgMxj4AAAAAAAAADA4PDYzH8DAYDA8AAAAAAAAA/mAwGA/AMBgMxj4AAAAAAAAAODAwGA/GMxmMxj4AAAAAAAAA/mMBgMDAwMBgMBgAAAAAAAAAfGMxmMfGMxmMxj4AAAAAAAAAfGMxmMfgMBgMDDwAAAAAAAAAAAAGAwAAAAAwGAAAAAAAAAAAAAAGAwAAAAAwGBgAAAAAAAAAAAMDAwMDAMAwDAMAAAAAAAAAAAAAD8AAAfgAAAAAAAAAAAAAADAMAwDAMDAwMDAAAAAAAAAAfGMxgYGAwGAAGAwAAAAAAAAAAD4xmM3m83m4wD4AAAAAAAAAEBwbGMxn8xmMxmMAAAAAAAAA/DMZjMfDMZjMZn4AAAAAAAAAPDMwmAwGAwGEZh4AAAAAAAAA+DYZjMZjMZjMbHwAAAAAAAAA/jMYjQeDQYDEZn8AAAAAAAAA/jMYjQeDQYDAYHgAAAAAAAAAPDMwmAwG8xmMZh0AAAAAAAAAxmMxmM/mMxmMxmMAAAAAAAAAPAwGAwGAwGAwGB4AAAAAAAAAHgYDAYDAYzGYzDwAAAAAAAAA5jMZjYeDwbDMZnMAAAAAAAAA8DAYDAYDAYDEZn8AAAAAAAAAxnc/n81mMxmMxmMAAAAAAAAAxnM9n83mcxmMxmMAAAAAAAAAfGMxmMxmMxmMxj4AAAAAAAAA/DMZjMfDAYDAYHgAAAAAAAAAfGMxmMxmMxms3j4DAcAAAAAA/DMZjMfDYZjMZnMAAAAAAAAAfGMxjAOAYBmMxj4AAAAAAAAAfj8WgwGAwGAwGB4AAAAAAAAAxmMxmMxmMxmMxj4AAAAAAAAAxmMxmMxmMxjYOAgAAAAAAAAAxmMxmM1ms1n87jYAAAAAAAAAxmMbD4OBwfDYxmMAAAAAAAAAZjMZjMPAwGAwGB4AAAAAAAAA/mMhgYGBgYGExn8AAAAAAAAAPBgMBgMBgMBgMB4AAAAAAAAAAEAwHAcBwHAcBgEAAAAAAAAAPAYDAYDAYDAYDB4AAAAAAEBwbGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAABgGAYAAAAAAAAAAAAAAAAAAAAAAAAADwDD4zGYzDsAAAAAAAAA4DAYDwbDMZjMZj4AAAAAAAAAAAAAD4xmAwGAxj4AAAAAAAAAHAYDB4bGYzGYzDsAAAAAAAAAAAAAD4xn8wGAxj4AAAAAAAAAHBsMhgeBgMBgMDwAAAAAAAAAAAAADszGYzGYzD4DGYeAAAAA4DAYDYdjMZjMZnMAAAAAAAAAGAwABwGAwGAwGB4AAAAAAAAABgMAAcBgMBgMBgMZjMPAAAAA4DAYDMbDweDYZnMAAAAAAAAAOAwGAwGAwGAwGB4AAAAAAAAAAAAAHY/ms1ms1mMAAAAAAAAAAAAAG4ZjMZjMZjMAAAAAAAAAAAAAD4xmMxmMxj4AAAAAAAAAAAAAG4ZjMZjMZj4YDA8AAAAAAAAADszGYzGYzD4DAYHgAAAAAAAAG4djMYDAYHgAAAAAAAAAAAAAD4xjAOAYxj4AAAAAAAAAEBgMH4MBgMBgNg4AAAAAAAAAAAAAGYzGYzGYzDsAAAAAAAAAAAAAGMxmMxmMbBwAAAAAAAAAAAAAGMxms1ms/jYAAAAAAAAAAAAAGMbBwOBwbGMAAAAAAAAAAAAAGMxmMxmMxj8BgY+AAAAAAAAAH8zAwMDAxn8AAAAAAAAADgwGAwcAwGAwGAcAAAAAAAAAGAwGAwGAwGAwGAwAAAAAAAAAcAwGAwDgwGAwGDgAAAAAAADs3AAAAAAAAAAAAAAAAAAAAAAAAAAEBwbGMxmM/gAAAAAAAAAAPDMwmAwGAwGEZh4GBgAAAAAAzAAAGYzGYzGYzDsAAAAAAAAYGBgAD4xn8wGAxj4AAAAAAAAgODYADwDD4zGYzDsAAAAAAAAAzAAADwDD4zGYzDsAAAAAAADAMAwADwDD4zGYzDsAAAAAAABwbBwADwDD4zGYzDsAAAAAAAAAAAAAD4xmAwGAxj4GBgAAAAAgODYAD4xn8wGAxj4AAAAAAAAAxgAAD4xn8wGAxj4AAAAAAADAMAwAD4xn8wGAxj4AAAAAAAAAZgAABwGAwGAwGB4AAAAAAAAwPDMABwGAwGAwGB4AAAAAAAAAAAAABwGAwGAwGB4AAAAAAAGMAAgODYxmM/mMxmMAAAAAAODYOAgODYxn8xmMxmMAAAAAADAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAGYdhsfmw2DcAAAAAAAAAPjYzGY/mYzGYzGcAAAAAAAAgODYAD4xmMxmMxj4AAAAAAAAAxgAAD4xmMxmMxj4AAAAAAADAMAwAD4xmMxmMxj4AAAAAAABgeGYAGYzGYzGYzDsAAAAAAADAMAwAGYzGYzGYzDsAAAAAAAAwAB4GAwGAwGAwGB4AAAAAAAGMAD4xmMxmMxmMxj4AAAAAAAGMAGMxmMxmMxmMxj4AAAAAAAAAAAAAD4zm89nMxj4AAAAAAABwbDIYHgYDAYDA5n4AAAAAAAAAfGMxmc3ns5mMxj4AAAAAAAAAfGMxjAOAYBmMxj4GBgAAAAAAAAAAD4xjAOAYxj4GBgAAAAAwMDAADwDD4zGYzDsAAAAAAAAYGBgABwGAwGAwGB4AAAAAAAAwMDAAD4xmMxmMxj4AAAAAAAAwMDAAGYzGYzGYzDsAAAAAAAAAdm4AG4ZjMZjMZjMAAAAAAdm4AGM5ns/m8zmMxmMAAAAAAADMfh4ZmEwGA3mMbh0AAAAAAAAAzDwADszGYzGYzD4DGYeAAAAAMBgABgMDAwGMxj4AAAAAAAAAfEEslUslUqkEfAAAAAAAAAAAAAAAAA/gMBgMBgAAAAAAAADA4DEZjYGBgYG4hgYGB8AAAADA4DEZjYGBgZmcmh+BgMAAAAAAGAwAAwGAwPB4PAwAAAAAAAAAAAAABsbGwbBsAAAAAAAAAAAAAAAAGwbBsbGwAAAAAAAAAESIESIESIESIESIESIESIESIVVUVVUVVUVVUVVUVVUVVUVVU3Tu3Tu3Tu3Tu3Tu3Tu3Tu3TuGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGAwGHwGAwGAwGAwGAwYGAEBwbGMxn8xmMxmMAAAAAAfGMEBwbGMxn8xmMxmMAAAAAADAMEBwbGMxn8xmMxmMAAAAAAAAAfEEmlEolEmkEfAAAAAAAANhsNhsNnsBnsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsNhsAAAAAAAH8BnsNhsNhsNhsNhsNhsNhsNnsBn8AAAAAAAAAAAAAAAGAwfGMwGAxj4GAwAAAAAAAAAADMZh4GD8GD8GAwAAAAAAAAAAAAAAAAHwGAwGAwGAwGAwGAwGAwGAwGA/AAAAAAAAAAAAGAwGAwGAwGH/AAAAAAAAAAAAAAAAAAAAAAH/GAwGAwGAwGAwGAwGAwGAwGA/GAwGAwGAwGAwAAAAAAAAAAH/AAAAAAAAAAAAGAwGAwGAwGH/GAwGAwGAwGAwAAAdm4ADwDD4zGYzDsAAAAAAdm4ABwbGMxn8xmMxmMAAAAAANhsNhsNhvMB/AAAAAAAAAAAAAAAAAAAB/MBvNhsNhsNhsNhsNhsNhsNnvAH/AAAAAAAAAAAAAAAAAAAH/AHvNhsNhsNhsNhsNhsNhsNhvMBvNhsNhsNhsNhsAAAAAAAH/AH/AAAAAAAAAAAANhsNhsNnvAHvNhsNhsNhsNhsAAAAAAxj4xmMxmMfGMAAAAAAAAAODYbBwAD4AAAAAAAAAAAAAAAPDYbB8AD8AAAAAAAAAAAAODYAH8ZjEaDwaDEZn8AAAAAAAGMAH8ZjEaDwaDEZn8AAAAAAMAwAH8ZjEaDwaDEZn8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAwAB4GAwGAwGAwGB4AAAAAAPDMAB4GAwGAwGAwGB4AAAAAAADMAB4GAwGAwGAwGB4AAAAAAGAwGAwGAwGHwAAAAAAAAAAAAAAAAAAAAAAA/GAwGAwGAwGAw////////////////////////AAAAAAAAAAH/////////////AAwGAwGAwAAAGAwGAwGAAAAAMAwAB4GAwGAwGAwGB4AAAAAA//////////4AAAAAAAAAAAAAGBgAD4xmMxmMxmMxj4AAAAAAAAAeGYzGY2GYxmMxmYAAAAAAODYAD4xmMxmMxmMxj4AAAAAAMAwAD4xmMxmMxmMxj4AAAAAAAAAdm4AD4xmMxmMxj4AAAAAAdm4AD4xmMxmMxmMxj4AAAAAAAAAAAAADMZjMZjMZj4YDAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGMbBwODYxgAAAAAAAGBgAGMxmMxmMxmMxj4AAAAAAODYAGMxmMxmMxmMxj4AAAAAAMAwAGMxmMxmMxmMxj4AAAAAAADAMAwABwGAwGAwGB4AAAAAAAAAxgAAGMxmMxmMxj8BgYeAAAH+AAAAAAAAAAAAAAAAAAAAAAAYGBgAAAAAAAAAAAAAAAAAAAAAAAAAAAAH8AAAAAAAAAAAAAAAAAAGAwfgwGAAAD8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAMDENnYGBgZmcmh+BgMAAAAAAf22222ew2Gw2Gw2AAAAAAAD4xjAODYxmMbBwDGMfAAAAAAAAAAAAAwAD8AAwAAAAAAAAAAAAAAAAAAAAAAAAAAwDDwAAAABwbDYOAAAAAAAAAAAAAAAAAAGMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAwOAwGAwPAAAAAAAAAAAAAAAD4Bh4BgMfAAAAAAAAAAAAAAAB4ZgYGBkfgAAAAAAAAAAAAAAAAAAAfj8fj8fj8fgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",amigaFont:!1}},sh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",zp={};function Yv(e,A){const t=A*4,n=t*2,r=new Uint8Array(e.length*4);for(let s=0,i=0;s<e.length;s+=4){const o=e.subarray(s,s+4);if(r.set(o,i),i+=4,r.set(o,i),i+=4,(s+4)%t===0){const a=i-n;r.set(r.subarray(a,a+n),i),i+=n}}return r}function Hp(e,A,t,n,r){const s=A*t,i={},o=A===9&&r.bits!=="9"||A===9&&r.thumbnail,a=new Uint8Array((o?A-1:A)*t*4);function c(u,h,f,m){const d=u+(f<<8)+(m<<12);if(!i[d]){i[d]=new Uint8Array((o?A-1:A)*t*4);for(let g=0,p=u*s,x=0;g<s;++g,++p)(!o||(g+1)%9!==0)&&(e[p]||n&&f>7&&g%A>0&&e[p-1]&&(r.bits==="ced"||r.bits==="workbench")?i[d].set(h[f],x):i[d].set(h[m],x),x+=4);r["2x"]&&(i[d]=Yv(i[d],o?A-1:A))}return i[d]}function l(u,h,f){for(let m=0,d=u*s,g=0;m<s;++m,++d)(!o||(m+1)%9!==0)&&(e[d]?a.set(h,g):a.set(f,g),g+=4);return r["2x"]?Yv(a,o?A-1:A):a}return{getData:c,get24BitData:l,height:t*(r["2x"]?2:1),width:(o?8:A)*(r["2x"]?2:1)}}function Lp(e,A,t){const n=new Uint8Array(A*t*256);for(let r=A*t*256/8,s=0;r>0;--r){const i=e.get();for(let o=7;o>=0;--o)n[s++]=i>>o&1?1:0}return n}function NV(e){const A=new Uint32Array(1),t=new Uint8Array(e.length/4*3);for(let n=0,r=0;n<e.length;A[0]=0)A[0]+=(sh.indexOf(e.charAt(n++))&63)<<18,A[0]+=(sh.indexOf(e.charAt(n++))&63)<<12,A[0]+=(sh.indexOf(e.charAt(n++))&63)<<6,A[0]+=sh.indexOf(e.charAt(n++))&63,t[r++]=A[0]>>16&255,t[r++]=A[0]>>8&255,t[r++]=A[0]&255;return new ts(t)}function ZV(e,A){switch(e){case"amiga":e="topaz";break;case"microknightplus":e="microknight+";break;case"topazplus":e="topaz+";break;case"topaz500plus":e="topaz500+";break}return zp[e]||(zp[e]=Lp(NV(Bi[e].data),Bi[e].width,Bi[e].height)),Hp(zp[e],Bi[e].width,Bi[e].height,Bi[e].amigaFont,A)}function OV(e,A,t){return Hp(Lp(e,8,A),8,A,!1,t)}function TV(e,A){return Hp(Lp(e,8,16),8,16,!1,A)}function SV(e){switch(e){case"amiga":case"microknightplus":case"topazplus":case"topaz500plus":return!0;default:return Object.prototype.hasOwnProperty.call(Bi,e)}}const ns={preset:ZV,xbin:OV,font8x16x256:TV,has:SV};function ih(e){return new Uint8Array([(((e&32)>>5)+((e&4)>>1))*85,(((e&16)>>4)+(e&2))*85,(((e&8)>>3)+((e&1)<<1))*85,255])}const PV=[0,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7].map(ih),jV=[0,4,2,20,1,5,3,7,56,60,58,62,57,61,59,63].map(ih),RV=[0,1,2,3,4,5,20,7,56,57,58,59,60,61,62,63].map(ih),IV=[7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0].map(ih),CV=[new Uint8Array([170,170,170,255]),new Uint8Array([170,170,170,255]),new Uint8Array([0,0,0,255]),new Uint8Array([0,0,0,255]),new Uint8Array([255,255,255,255]),new Uint8Array([255,255,255,255]),new Uint8Array([102,136,187,255]),new Uint8Array([102,136,187,255]),new Uint8Array([0,0,255,255]),new Uint8Array([0,0,255,255]),new Uint8Array([255,0,255,255]),new Uint8Array([255,0,255,255]),new Uint8Array([0,255,255,255]),new Uint8Array([0,255,255,255]),new Uint8Array([255,255,255,255]),new Uint8Array([255,255,255,255])];function zV(e){const A=[];for(let t=0;t<16;++t){const n=e.get(),r=e.get(),s=e.get();A.push(new Uint8Array([n<<2|n>>4,r<<2|r>>4,s<<2|s>>4,255]))}return A}function HV(e){const A=[];for(let t=0;t<64;++t){const n=e.get(),r=e.get(),s=e.get();A.push(new Uint8Array([n<<2|n>>4,r<<2|r>>4,s<<2|s>>4,255]))}return[A[0],A[1],A[2],A[3],A[4],A[5],A[20],A[7],A[56],A[57],A[58],A[59],A[60],A[61],A[62],A[63]]}const nr={ASC_PC:PV,ANSI:jV,BIN:RV,CED:IV,WORKBENCH:CV,adf:HV,triplets16:zV};class ks{imageData;pos;columns;rows;palette;font;constructor(A){this.columns=A,this.rows=0,this.pos=0,this.imageData=new Uint8Array(A*1e3*10)}reset(){this.imageData=new Uint8Array(this.columns*1e3*10),this.pos=0,this.rows=0}extendImageData(A){const t=new Uint8Array(this.columns*(A+1e3)*10+this.imageData.length);t.set(this.imageData,0),this.imageData=t}set(A,t,n,r,s,i){this.pos=(t*this.columns+A)*10,this.pos>=this.imageData.length&&this.extendImageData(t),this.imageData[this.pos]=n,r?(this.imageData[this.pos+1]=1,this.imageData.set(s,this.pos+2),this.imageData.set(i,this.pos+6)):(this.imageData[this.pos+2]=s,this.imageData[this.pos+3]=i),t+1>this.rows&&(this.rows=t+1)}raw(A){this.rows=Math.ceil(A.length/2/this.columns),this.imageData=new Uint8Array(this.columns*this.rows*10);for(let t=0,n=0;n<A.length;t+=10,n+=2)this.imageData[t]=A[n],this.imageData[t+2]=A[n+1]&15,this.imageData[t+3]=A[n+1]>>4}trimColumns(){let A=0;const t=this.imageData.length/10/this.columns;for(let r=0;r<this.imageData.length;r+=10)this.imageData[r]&&(A=Math.max(r/10%this.columns,A));++A;const n=new Uint8Array((A+1)*t*10);for(let r=0,s=0;r<n.length;r+=A*10,s+=this.columns*10)n.set(this.imageData.subarray(s,s+this.columns*10),r);this.imageData=n,this.columns=A}getData(){const A=this.imageData.subarray(0,this.columns*this.rows*10);for(let t=0;t<A.length;t+=10)A[t+5]=255,A[t+9]=255;return A}}function LV(e,A){const t=new ts(e);t.getC();const n=new ks(80);return n.palette=nr.adf(t),n.font=ns.font8x16x256(t,A),n.raw(t.read()),{imageData:n,sauce:t.sauce}}function Nv(e,A){const t=new ts(e);let n=!1,r="",s,i,o,a;const c=new ks(80);let l=0,u=1,h=1,f,m,d=7,g=0,p,x,y,E,B=!1,T=!1,D=!1,Z;function R(){d=7,g=0,p=void 0,x=void 0,B=!1,T=!1,D=!1}function j(){u=1,h===25?++l:++h}function L(Y,b){u=Math.min(a,Math.max(1,Y)),h=Math.min(26,Math.max(1,b))}function v(){return r.substr(1,r.length-2).split(";").map(Y=>{const b=Number.parseInt(Y,10);return Number.isNaN(b)?1:b})}if(t.sauce){switch(t.sauce.tInfo1>0?a=t.sauce.tInfo1:a=80,Z=t.sauce.flags&1||(A.icecolors??0),t.sauce.letterSpacing){case 1:A.bits="8";break;case 2:A.bits="9";break}switch(t.sauce.tInfoS){case"IBM VGA":A.font="80x25";break;case"IBM VGA50":A.font="80x50";break;case"Amiga Topaz 1":A.font="topaz500";break;case"Amiga Topaz 1+":A.font="topaz500+";break;case"Amiga Topaz 2":A.font="topaz";break;case"Amiga Topaz 2+":A.font="topaz+";break;case"Amiga P0T-NOoDLE":A.font="pot-noodle";break;case"Amiga MicroKnight":A.font="microknight";break;case"Amiga MicroKnight+":A.font="microknight+";break;case"Amiga mOsOul":A.font="mosoul";break}}else A.mode==="ced"?a=78:a=80,Z=A.icecolors??0;switch(c.columns=a,c.font=ns.preset(A.font??"80x25",A),A.bits){case"ced":c.palette=nr.CED;break;case"workbench":c.palette=nr.WORKBENCH;break;default:c.palette=nr.ANSI}for(;!t.eof();)if(i=t.get(),n){if(r+=String.fromCharCode(i),i>=65&&i<=90||i>=97&&i<=122){if(n=!1,o=v(),r.startsWith("["))switch(r.charAt(r.length-1)){case"A":h=Math.max(1,h-o[0]);break;case"B":h=Math.min(25,h+o[0]);break;case"C":u===a&&j(),u=Math.min(a,u+o[0]);break;case"D":u=Math.max(1,u-o[0]);break;case"H":o.length===1?L(1,o[0]):L(o[1],o[0]);break;case"J":o[0]===2&&(u=1,h=1,c.reset());break;case"K":for(s=u-1;s<a;++s)c.set(s,h-1+l,0,!1,0,0);break;case"m":for(s=0;s<o.length;++s)if(o[s]>=30&&o[s]<=37)d=o[s]-30,p&&(p=void 0);else if(o[s]>=40&&o[s]<=47)g=o[s]-40,x&&(x=void 0);else switch(o[s]){case 0:R();break;case 1:B=!0,p&&(p=void 0);break;case 5:T=!0,x&&(x=void 0);break;case 7:D=!0;break;case 22:B=!1;break;case 25:T=!1;break;case 27:D=!1;break}break;case"s":f=u,m=h;break;case"t":if(o.length===4)switch(o[0]){case 0:x=new Uint8Array([o[1],o[2],o[3]]);break;case 1:p=new Uint8Array([o[1],o[2],o[3]]);break}break;case"u":u=f??u,h=m??h;break}r=""}}else switch(i){case 10:j();break;case 13:t.peek()===10&&(t.read(1),j());break;case 26:break;default:i===27&&t.peek()===91?n=!0:(A.mode==="ced"?c.set(u-1,h-1+l,i,!1,1,0):(D?(y=g,E=d):(y=d,E=g),B&&(y+=8),T&&Z&&!x&&(E+=8),p||x?c.set(u-1,h-1+l,i,!0,p??c.palette[y],x??c.palette[E]):c.set(u-1,h-1+l,i,!1,y,E)),++u===a+1&&j())}return{imageData:c,sauce:t.sauce}}function Zv(e,A){const t=new ts(e),n=new ks(80);n.font=ns.preset(A.font??"80x25",A),n.palette=nr.ASC_PC;let r=0,s=0;for(;!t.eof();){const i=t.get();i===13&&t.peek()===10?(t.read(1),++s,r=0):i===10?(++s,r=0):(n.set(r,s,i,!1,1,0),++r===80&&(++s,r=0))}return{imageData:n,sauce:t.sauce}}function UV(e,A){const t=new ts(e),n=new ks(A.columns??160);n.font=ns.preset(A.font??"80x25",A),n.palette=nr.BIN,n.raw(t.read());let r;if(t.sauce){switch(r=t.sauce.flags&1||(A.icecolors??0),t.sauce.letterSpacing){case 1:A.bits="8";break;case 2:A.bits="9";break}switch(t.sauce.tInfoS){case"IBM VGA":A.font="80x25";break;case"IBM VGA50":A.font="80x50";break;case"Amiga Topaz 1":A.font="topaz500";break;case"Amiga Topaz 1+":A.font="topaz500+";break;case"Amiga Topaz 2":A.font="topaz";break;case"Amiga Topaz 2+":A.font="topaz+";break;case"Amiga P0T-NOoDLE":A.font="pot-noodle";break;case"Amiga MicroKnight":A.font="microknight";break;case"Amiga MicroKnight+":A.font="microknight+";break;case"Amiga mOsOul":A.font="mosoul";break}}else r=A.icecolors??0;if(!r){const s=n.getData();for(let i=1;i<s.length;i+=2)s[i]=s[i]&127}return{imageData:n,sauce:t.sauce}}function $V(e,A){const t=new ts(e);t.seek(8);const n=t.get16()+1,r=new ks(n);t.seek(12);let s=0,i=0;for(;t.getPos()<t.size-4144;){const o=t.get16();if(o===1){let a=t.get();t.get();const c=t.get(),l=t.get();for(;a-- >0;)r.set(s++,i,c,!1,l&15,l>>4),s===n&&(s=0,++i)}else r.set(s++,i,o&255,!1,o>>8&15,o>>12),s===n&&(s=0,++i)}return r.font=ns.font8x16x256(t,A),r.palette=nr.triplets16(t),{imageData:r,sauce:t.sauce}}function FV(e,A){const t=new ts(e),n=new ks(80);n.font=ns.preset(A.font??"80x25",A),n.palette=nr.BIN;let r=0,s=7,i=0,o=0;const a=t.sauce&&t.sauce.flags&1||(A.icecolors??0);function c(u){n.set(i,o,u,!1,s,r),++i===80&&(o++,i=0)}let l=0;for(;l<t.size;){const u=e[l];if(u===26)break;switch(u){case 13:break;case 10:o++,i=0;break;case 9:i+=8;break;case 64:e[l+1]===88?(r=e[l+2]-(e[l+2]>=65?55:48),!a&&r>7&&(r-=8),s=e[l+3]-(e[l+3]>=65?55:48),l+=3):e[l+1]===67&&e[l+2]===76&&e[l+3]===83?(i=o=0,n.reset(),l+=4):e[l+1]===80&&e[l+2]===79&&e[l+3]===83&&e[l+4]===58?e[l+6]===64?(i=e[l+5]-48-1,l+=5):(i=10*(e[l+5]-48)+e[l+6]-48-1,l+=6):c(u);break;default:c(u)}l++}return{imageData:n,sauce:t.sauce}}function QV(e,A){const t=new ts(e);function n(c){let l=c.get()<<24;return l+=c.get()<<16,l+=c.get()<<8,l+c.get()}if(t.get()!==24)throw new Error("File ID does not match.");if(t.getS(8)!=="TUNDRA24")throw new Error("File ID does not match.");const r=new Uint8Array(3),s=new Uint8Array(3);let i=0,o=0;const a=new ks(80);for(a.font=ns.preset(A.font??"80x25",A),a.palette=nr.ANSI;!t.eof();){i===80&&(i=0,++o);let c=t.get();c===1&&(o=n(t),i=n(t)),c===2&&(c=t.get(),t.get(),r.set(t.read(3),0)),c===4&&(c=t.get(),t.get(),s.set(t.read(3),0)),c===6&&(c=t.get(),t.get(),r.set(t.read(3),0),t.get(),s.set(t.read(3),0)),c!==1&&c!==2&&c!==4&&c!==6&&(a.set(i,o,c,!0,r,s),++i)}return{imageData:a,sauce:t.sauce}}function KV(e,A){const t=new ts(e);function n(o){if(o.getS(4)!=="XBIN")throw new Error("File ID does not match.");if(o.get()!==26)throw new Error("File ID does not match.");const a={};if(a.width=o.get16(),a.height=o.get16(),a.fontHeight=o.get(),a.fontHeight===0||a.fontHeight>32)throw new Error(`Illegal value for the font height (${a.fontHeight}).`);const c=o.get();if(a.palette=(c&1)===1,a.font=(c&2)===2,a.fontHeight!==16&&!a.font)throw new Error("A non-standard font size was defined, but no font information was included with the file.");return a.compressed=(c&4)===4,a.nonBlink=(c&8)===8,a.char512=(c&16)===16,a}function r(o,a,c){const l=new Uint8Array(a*c*2);let u=0;for(;u<l.length;){const h=o.get(),f=h&63;switch(h>>6){case 1:{const m=o.get();for(let d=0;d<=f;++d)l[u++]=m,l[u++]=o.get();break}case 2:{const m=o.get();for(let d=0;d<=f;++d)l[u++]=o.get(),l[u++]=m;break}case 3:{const m=o.get(),d=o.get();for(let g=0;g<=f;++g)l[u++]=m,l[u++]=d;break}default:for(let m=0;m<=f;++m)l[u++]=o.get(),l[u++]=o.get()}}return l}const s=n(t),i=new ks(s.width);return i.palette=s.palette?nr.triplets16(t):nr.BIN,i.font=s.font?ns.xbin(t,s.fontHeight,A):ns.preset("80x25",A),s.compressed?i.raw(r(t,s.width,s.height)):i.raw(t.read(s.width*s.height*2)),{imageData:i,sauce:t.sauce}}function WV(e,A,t,n){n=YV(n);let r;switch(n.filetype){case"txt":r=Zv(e,n);break;case"ion":r=Zv(e,n),r.imageData.trimColumns();break;case"adf":r=LV(e,n);break;case"bin":r=UV(e,n);break;case"idf":r=$V(e,n);break;case"pcb":r=FV(e,n);break;case"tnd":r=QV(e,n);break;case"xb":r=KV(e,n);break;case"diz":r=Nv(e,n),r.imageData.trimColumns();break;default:r=Nv(e,n)}if(t>0){const s=[];for(let i=0;i<r.imageData.rows;i+=t){const o=vv(r.imageData,i,t);s.push(o)}A(s,r.sauce)}else{const s=vv(r.imageData,0,r.imageData.rows);A(s,r.sauce)}}const VV={readBytes:WV};function qV(e,A,t,n){try{VV.readBytes(e,A,0,t)}catch(r){if(n)n(r);else throw r}}function JV(e,A,t,n){const r=Ka();G(r)&&qV(n,(s,i)=>{const o=i?.title??"",a=i?.author??"",c=new Map,l=vV(bb(_b));if(G(s.palette)&&G(l)){const x=[];for(let y=0;y<l.length;++y){const E=l[y];x.push({name:`${y}`,rgb:{r:Math.round(E.r*255),g:Math.round(E.g*255),b:Math.round(E.b*255)}})}for(let y=0;y<s.palette.length;++y){const E=s.palette[y][0],B=s.palette[y][1],T=s.palette[y][2],D=kV({targetColor:{r:E,g:B,b:T},colorArray:x}),Z=parseFloat(D?.name??"0");c.set(y,Z)}}const u=`${o||A}${a?` by ${a}`:""}`,h=Math.ceil(s.width/jA),f=Math.ceil(s.height/re),m=[];for(let x=0;x<h*f;++x)m.push(void 0);let d=0,g=0;const p=Uh();for(let x=0;x<s.screen.length;++x){const y=d%jA,E=g%re,B=Math.floor(d/jA),T=Math.floor(g/re),D=B+T*h;let Z=m[D];if(!G(Z)){const R=[`@${p}_${B}_${T}`,`@exitnorth ${p}_${B}_${T-1}`,`@exitsouth ${p}_${B}_${T+1}`,`@exitwest ${p}_${B-1}_${T}`,`@exiteast ${p}_${B+1}_${T}`],j=`${D}`.padStart(3,"0"),L=`@board ${u} ${j}
${R.join(`
`)}
`,v=po(L,{});fi(r,v),m[D]=Z=Rn(v)}if(G(Z)&&Ys({x:y,y:E})){const[R,j,L]=s.screen[x],v=c.get(j)??0,Y=c.get(L)??0;ze(Z,{x:y,y:E,kind:"fake",char:R,color:v,bg:Y})}++d,d>=s.width&&(d=0,++g)}Sr(K,e,`imported ansi file ${u} into ${r.name} book`)},{filetype:t,imagedata:1})}function XV(e,A,t){const n=Ka();if(!G(n))return;const r=`@charset ${A.toLowerCase().replace(".chr","")}`,s=po(r,{}),i=de(s),o=yb(t),a=Rn(s);G(o)&&G(a)&&(Object.assign(a,o),fi(n,s),Sr(K,e,`imported chr file ${i} into ${n.name} book`))}const Aq=/; \$(\w+) ?(.*)/,eq=/title (.+?) (.*)/i;function Up(e){return e.replace(/\\/g,"\\\\").replace(/'/g,"\\'")}function tq(e,A){const t=Ka();if(!G(t))return;const n=A.split(/\r?\n/),r={title:"",gendate:"",gentime:"",songs:[]};function s(m){return r.songs.find(d=>d.order===m)}function i(m,d){return{order:m,title:d,lines:[]}}for(let m=0;m<n.length;++m){const d=n[m],g=Aq.exec(d);if(G(g)){const p=g[1].toLowerCase(),x=g[2];switch(p){case"title":r.title=x;break;case"gendate":r.gendate=x;break;case"gentime":r.gentime=x;break;case"song":{const y=eq.exec(x);if(G(y)){const E=parseFloat(y[1]),B=y[2],T=s(E);G(T)?T.title=B:r.songs.push(i(E,B))}else{const E=parseFloat(x);if(kA(E)){const B=s(E);G(B)||r.songs.push(i(E,""))}}break}}}else{const p=r.songs[r.songs.length-1];G(p)&&d.trim().length&&p.lines.push(d)}}r.songs.sort((m,d)=>m.order-d.order);const o=r.songs.map(m=>m.title),a=`@play_${CA(r.title).replace(/\W/g,"")}
@cycle 1
@char 14
#end

:touch
"ALBUM: ${Up(r.title)}"
"$purple  ${Up(r.gendate)}"
"$purple  ${Up(r.gentime)}"
${o.map((m,d)=>`!song_${d};${d+1} ${m||"untitled"}`).join(`
`)}
#end

${r.songs.map((m,d)=>`:song_${d}
${m.lines.map(g=>`#play ${g}`).join(`
`)}
#end
`).join(`
`)}
`,c=po(a,{}),l=de(c);fi(t,c),Sr(K,e,`imported zzt zzm file ${l} into ${t.name} book`);const u=de(c),h=Nr(c);me(K,e,`!pageopen ${c.id};$blue[${h}]$white ${u}`);const f=`#put n ${l}`;fV(K,e,f,f,!1)}function Ov(e,A){let t=e;return t.trim()===`:${A}`&&(t=t.replace(`:${A}`,`:_${A}`)),t.trim()===`'${A}`&&(t=t.replace(`'${A}`,`'_${A}`)),t.startsWith(`#${A}`)&&(t=t.replace(`#${A}`,`#_${A}`)),t.endsWith(` ${A}`)&&(t=t.replace(` ${A}`,` _${A}`)),t}function nq(e,A,t){let n=e;return n.trimStart().startsWith(`#${A}`)&&(n=n.replace(`#${A}`,`#${t}`)),n.trimStart().startsWith("#")&&n.includes(` ${A}`)&&(n=n.replace(` ${A}`,` ${t}`)),n}function $p(e){return e.replaceAll(/\r?\n|\r/g,`
`).split(`
`).map(t=>{let n=t;n.trimStart().startsWith("$")&&(n=n.replace("$","$CENTER")),n.trimStart().startsWith("#")&&n.includes(" $")&&(n=n.replace(" $",' "$CENTER')+'"');let r="";for(let s=0;s<n.length;++s){const i=n.charCodeAt(s);i<32||i>127?r+=`$${i}`:r+=n[s]}return r=Ov(r,"do"),r=Ov(r,"done"),r=nq(r,"fgplay","play"),r.includes("do")||r.includes("run")||r.includes("done")||r.includes("load"),r}).join(`
`)}const oh=60,rq=oh*25;function Tv(e){let A=0;const t=new DataView(e.buffer);function n(c){A=c}function r(){return A}function s(){const c=t.getUint8(A);return A++,c}function i(){const c=t.getInt16(A,!0);return A+=2,c}function o(){const c=t.getInt32(A,!0);return A+=4,c}function a(c){let l="";const u=e.subarray(A,A+c);for(let h=0;h<u.length;++h)l+=String.fromCharCode(u[h]);return A+=c,l.replace("\r",`
`)}return{seek:n,index:r,readuint8:s,readint16:i,readint32:o,readstring:a}}function Sv(e){const A=e.index(),t=e.readint16(),n=e.readuint8(),s={boardname:e.readstring(50).slice(0,n),elements:[],stats:[]};for(;s.elements.length<rq;){let o=e.readuint8();o===0&&(o=1500);const a=e.readuint8(),c=e.readuint8();for(let l=0;l<o;++l)s.elements.push({type:a,color:c})}s.maxplayershots=e.readuint8(),s.isdark=e.readuint8(),s.exitnorth=e.readuint8(),s.exitsouth=e.readuint8(),s.exitwest=e.readuint8(),s.exiteast=e.readuint8(),s.restartonzap=e.readuint8(),s.messagelength=e.readuint8(),s.message=e.readstring(58).slice(0,s.messagelength),s.playerenterx=e.readuint8(),s.playerentery=e.readuint8(),s.timelimit=e.readint16(),e.seek(e.index()+16);const i=e.readint16()+1;for(;s.stats.length<i;){const o={};o.x=e.readuint8()-1,o.y=e.readuint8()-1,o.stepx=e.readint16(),o.stepy=e.readint16(),o.cycle=e.readint16(),o.p1=e.readuint8(),o.p2=e.readuint8(),o.p3=e.readuint8(),o.follower=e.readint16(),o.leader=e.readint16(),o.underelement=e.readuint8(),o.undercolor=e.readuint8(),o.pointer=e.readint32(),o.currentinstruction=e.readint16();const a=e.readint16();e.seek(e.index()+8),a<0?o.bind=Math.abs(a):o.code=e.readstring(a),s.stats.push(o)}return e.seek(A+t+2),s}function Pv(e,A,t){function n(o,a,c,l){const u=Gn(o,a,c);if(G(u)&&G(l)){const h=Wt(l);for(let f=0;f<h.length;++f){const m=h[f];u[m]=l[m]}}}function r(o){const a=o%16,c=Math.floor(o/16);return{color:a,bg:c}}function s(o,a,c,l,u){const h=r(l.color),f=gs(h.color,h.bg),m=gs((h.bg+8)%16,h.color),d={},g=u.find(p=>p.x===a&&p.y===c);if(G(g)&&(kA(g.cycle)&&g.cycle>0&&(d.cycle=g.cycle),G(g.p1)&&(d.p1=g.p1),G(g.p2)&&(d.p2=g.p2),G(g.p3)&&(d.p3=g.p3),G(g.code)&&g.code&&(d.code=$p(g.code)),G(g.stepx)&&(d.stepx=g.stepx),G(g.stepy)&&(d.stepy=g.stepy),G(g.bind)&&g.bind>0)){const p=u[g.bind];G(p?.code)&&wA(p.code)&&(d.code=$p(p.code))}switch(l.type){case 0:case 1:case 2:case 3:break;case 4:break;case 5:n(o,["ammo",f],{x:a,y:c},d);break;case 6:n(o,["torch",f],{x:a,y:c},d);break;case 7:n(o,["gem",f],{x:a,y:c},d);break;case 8:n(o,["key",f],{x:a,y:c},d);break;case 9:n(o,["door",m],{x:a,y:c},d);break;case 10:n(o,["scroll",f],{x:a,y:c},d);break;case 11:{d.p3=i(g?.p3)??"",n(o,["passage",f],{x:a,y:c},d);break}case 12:n(o,["duplicator",f],{x:a,y:c},{...d,stepx:0,stepy:0,shootx:d.stepx??0,shooty:d.stepy??0});break;case 13:n(o,["bomb",f],{x:a,y:c},d);break;case 14:n(o,["energize",f],{x:a,y:c},d);break;case 15:n(o,["star",f],{x:a,y:c},d);break;case 16:n(o,["clockwise",f],{x:a,y:c},d);break;case 17:n(o,["counter",f],{x:a,y:c},d);break;case 18:n(o,["bullet",f],{x:a,y:c},d);break;case 19:n(o,["water",f],{x:a,y:c},d);break;case 20:n(o,["forest",f],{x:a,y:c},d);break;case 21:n(o,["solid",f],{x:a,y:c},d);break;case 22:n(o,["normal",f],{x:a,y:c},d);break;case 23:n(o,["breakable",f],{x:a,y:c},d);break;case 24:n(o,["boulder",f],{x:a,y:c},d);break;case 25:n(o,["sliderns",f],{x:a,y:c},d);break;case 26:n(o,["sliderew",f],{x:a,y:c},d);break;case 27:n(o,["fake",f],{x:a,y:c},d);break;case 28:n(o,["invisible",f],{x:a,y:c},d);break;case 29:n(o,["blinkwall",f],{x:a,y:c},{...d,stepx:0,stepy:0,shootx:d.stepx??0,shooty:d.stepy??0});break;case 30:n(o,["transporter",f],{x:a,y:c},{...d,stepx:0,stepy:0,shootx:d.stepx??0,shooty:d.stepy??0});break;case 31:n(o,["line",f],{x:a,y:c},d);break;case 32:n(o,["ricochet",f],{x:a,y:c},d);break;case 33:n(o,["blinkew",f],{x:a,y:c},d);break;case 34:n(o,["bear",f],{x:a,y:c},d);break;case 35:n(o,["ruffian",f],{x:a,y:c},d);break;case 36:n(o,["object",f],{x:a,y:c},{...d,char:g?.p1??1});break;case 37:n(o,["slime",f],{x:a,y:c},d);break;case 38:n(o,["shark",f],{x:a,y:c},d);break;case 39:n(o,["spinninggun",f],{x:a,y:c},d);break;case 40:n(o,["pusher",f],{x:a,y:c},d);break;case 41:n(o,["lion",f],{x:a,y:c},d);break;case 42:n(o,["tiger",f],{x:a,y:c},d);break;case 43:n(o,["blinkns",f],{x:a,y:c},d);break;case 44:n(o,["head",f],{x:a,y:c},d);break;case 45:n(o,["segment",f],{x:a,y:c},d);break;case 46:n(o,["customtext"],{x:a,y:c},{...d,char:l.color});break;default:if(l.type>=47&&l.type<=53){const p=r(l.type===53?15:(l.type-46)*16+15),x=gs(p.color,p.bg%8);n(o,["text",x],{x:a,y:c},{...d,char:l.color})}else if(l.type>=128){const p=r(l.type),x=gs(p.color,p.bg%8);n(o,["text",x],{x:a,y:c},{...d,char:l.color})}break}}function i(o){if(kA(o)&&o>0)return`zztboard${o}`}for(let o=0;o<t.length;++o){const a=t[o],c=[`@zztboard${o}`,""];o===0?c.push("@title"):o===A&&c.push("@zztstartboard");for(let y=0;y<a.elements.length;++y)a.elements[y].type===4&&(c.push(`@startx ${VM(y,oh)}`),c.push(`@starty ${qM(y,oh)}`));kA(a.maxplayershots)&&c.push(`@maxplayershots ${a.maxplayershots}`),kA(a.isdark)&&a.isdark&&c.push("@isdark"),kA(a.restartonzap)&&a.restartonzap&&c.push("@restartonzap"),kA(a.timelimit)&&c.push(`@timelimit ${a.timelimit}`);const l=i(a.exitnorth);wA(l)&&c.push(`@exitnorth ${l}`);const u=i(a.exitsouth);wA(u)&&c.push(`@exitsouth ${u}`);const h=i(a.exitwest);wA(h)&&c.push(`@exitwest ${h}`);const f=i(a.exiteast);wA(f)&&c.push(`@exiteast ${f}`);const m=`@board ${String(o).padStart(3,"0")}. ${a.boardname}
${c.join(`
`)}`,d=po(m,{});fi(e,d);const g=Rn(d);if(!G(g))continue;let p=0,x=0;for(let y=0;y<a.elements.length;++y){const E=a.elements[y];s(g,p,x,E,a.stats),++p,p===oh&&(p=0,++x)}$e(g)}}function sq(e,A){const t=Ka();if(!G(t))return;const n=Tv(A),r=Sv(n);Pv(t,-1,[r]),Sr(K,e,`imported zzt brd ${r.boardname} into ${t.name} book`)}function iq(e,A){const t=Tv(A);if(t.readint16()!=-1)return;const r=t.readint16()+1,s=t.readint16(),i=t.readint16(),o=t.readstring(7),a=t.readint16(),c=t.readint16(),l=t.readint16(),u=t.readint16(),h=t.readint16();t.readint16();const f=t.readint16(),m=t.readuint8(),d=t.readstring(20).slice(0,m);for(let B=0;B<10;B++){const T=t.readuint8();t.readstring(20).slice(0,T)}const g=t.readint16(),p=t.readint16(),x=t.readuint8();console.info(s,i,o,a,c,l,u,h,f,g,p,x),t.seek(512);const y=[];for(let B=0;B<r;++B){const T=Sv(t);y.push(T)}const E=og([]);E.name=d,Pv(E,c,y),Eu(E),Sr(K,e,`imported zzt file into ${E.name} book`)}function oq(e,A,t){const n=Ka();if(!G(n))return;const s=Du(t).name?t:`@${A.toLowerCase().replace(".obj","")}
${t}`,i=po($p(s),{}),o=de(i);fi(n,i),Sr(K,e,`imported zzt obj file ${o} into ${n.name} book`)}function jv(e,A){switch([...A.slice(0,4)].map(r=>r.toString(16)).join("").toUpperCase()){case"89504E47":return"image/png";case"47494638":return"image/gif";case"25504446":return"application/pdf";case"FFD8FFDB":case"FFD8FFE0":case"FFD8FFE1":return"image/jpeg";case"504B0304":return"application/zip"}return DV.getType(e)??"application/octet-stream"}function Rv(e,A){if(!G(A))return"";switch(e){case"model/obj":return"obj";case"text/plain":return"txt";case"application/json":return"json";case"application/zip":return"zip";case"application/octet-stream":if(/.zzt$/i.test(A.name))return"zzt";if(/.brd$/i.test(A.name))return"brd";if(/.chr$/i.test(A.name))return"chr";if(/.zzm$/i.test(A.name))return"zzm";if(/.ans$/i.test(A.name))return"ans";if(/.adf$/i.test(A.name))return"adf";if(/.bin$/i.test(A.name))return"bin";if(/.idf$/i.test(A.name))return"idf";if(/.pcb$/i.test(A.name))return"pcb";if(/.tnd$/i.test(A.name))return"tnd";if(/.xb$/i.test(A.name))return"xb";if(/.diz$/i.test(A.name))return"diz";break}return""}let Do=[],ah={};async function aq(e,A){try{st(K,e,"parsezipfile",A.name);const t=await A.arrayBuffer(),r=await new Cp().loadAsync(t);Do=[],ah={};const s=[];r.forEach((i,o)=>s.push([i,o]));for(let i=0;i<s.length;++i){const[o,a]=s[i],c=await a.async("uint8array"),l=jv(o,c),u=new File([c],a.name,{type:l});Do.push(u)}AN(K,e)}catch(t){we(K,e,"crash",t.message)}}function cq(){const e=[];for(let A=0;A<Do.length;++A){const t=Do[A];e.push([Rv(t.type,t),t.name])}return e}function lq(e,A){ah[e.toLowerCase()]=A}function uq(e){return ah[e.toLowerCase()]}async function hq(e){for(let A=0;A<Do.length;++A){const t=Do[A];ah[t.name.toLowerCase()]&&(Fp(e,t),await zs(2e3))}await zs(2e3),Co(K,e,!1)}function Iv(e,A,t){if(!G(t))return;const n=Rv(A,t);switch(n){case"obj":t.text().then(r=>oq(e,t.name,r)).catch(r=>we(K,e,"crash",r.message));break;case"txt":t.text().then(r=>zo(K,e,void 0,"text",`file:${t.name}`,r)).catch(r=>we(K,e,"crash",r.message));break;case"json":t.text().then(r=>zo(K,e,void 0,"json",`file:${t.name}`,r)).catch(r=>we(K,e,"crash",r.message));break;case"zip":aq(e,t).catch(r=>we(K,e,"crash",r.message));break;case"zzt":t.arrayBuffer().then(r=>{iq(e,new Uint8Array(r))}).catch(r=>we(K,e,"crash",r.message));break;case"brd":t.arrayBuffer().then(r=>{sq(e,new Uint8Array(r))}).catch(r=>we(K,e,"crash",r.message));break;case"chr":t.arrayBuffer().then(r=>{XV(e,t.name,new Uint8Array(r))}).catch(r=>we(K,e,"crash",r.message));break;case"zzm":t.text().then(r=>{tq(e,r)}).catch(r=>we(K,e,"crash",r.message));break;case"ans":case"adf":case"bin":case"idf":case"pcb":case"tnd":case"xb":t.arrayBuffer().then(r=>{JV(e,t.name,n,new Uint8Array(r))}).catch(r=>we(K,e,"crash",r.message));break;default:A||t.arrayBuffer().then(r=>{const s=jv(t.name,new Uint8Array(r));if(s)Iv(e,s,t);else return we(K,e,"parsewebfile",`unsupported file ${t.name}`)}).catch(r=>we(K,e,"crash",r.message));return}}function Fp(e,A){Iv(e,A?.type??"",A)}function Cv(){return location.href.includes("/join/")}const ch="https://bridge.zed.cafe";async function fq(e,A,t){const n=`offset=${t}&${e}=${A}`,r=new Request(`${ch}/api/v1/search/files/?${n}`);return(await(await fetch(r)).json()).data.results}async function dq(){const e=new Request(`${ch}/api/v1/get/random-file/`);return[(await(await fetch(e)).json()).data]}function mq(e){return`${ch}/static/${e}`}async function gq(e,A){const n=await(await fetch(`${ch}/zgames/${A}`)).arrayBuffer(),r=new File([n],A);Fp(e,r)}async function pq(e,A){const t=new FormData;t.append("email",e),t.append("tag",A);const n=new Request("https://bbs.zed.cafe/api/login",{method:"POST",body:t});return await(await fetch(n)).json()}async function wq(e,A){const t=new FormData;t.append("email",e),t.append("code",A);const n=new Request("https://bbs.zed.cafe/api/code",{method:"POST",body:t});return await(await fetch(n)).json()}async function Gq(e,A){const t=new FormData;t.append("email",e),t.append("code",A);const n=new Request("https://bbs.zed.cafe/api/list",{method:"POST",body:t});return await(await fetch(n)).json()}async function xq(e,A,t){const n=new FormData;n.append("email",e),n.append("code",A),n.append("filename",t);const r=new Request("https://bbs.zed.cafe/api/delete",{method:"POST",body:n});return await(await fetch(r)).json()}function Se(e,A,t){t().catch(n=>{console.error(n),we(e,A,"crash",n?.message)})}function lh(e){if(Lt(e)!==NA.TERRAIN&&Lt(e)!==NA.OBJECT)return"";const t={kind:de(e)};return wn(t),`${Kp(t)}$ONCLEAR$BLUE `}function Mq(e,A,t){const n=_q(e,A),r=Je(t,e);if(!G(t)||!G(r))return[];n.focusid=r.id??"",n.focusx=r.x??0,n.focusy=r.y??0;const{graphics:s,camera:i,facing:o}=Lv(e,t);if(wA(s)){const a=CA(s);switch(s){case"fpv":case"iso":case"flat":case"mode7":n.graphics=a;break;default:n.graphics="flat";break}}if(wA(i))switch(CA(i)){default:n.viewscale=Nl.MID;break;case"near":n.viewscale=Nl.NEAR;break;case"far":n.viewscale=Nl.FAR;break}return kA(o)&&(n.facing=cb(o)),[n]}function Qp(e,A,t,n,r,s=!1){if(!G(t)||!G(t.terrain)||!G(t.objects))return[];$e(t),d8(t);const i=CA(Lv(e,t).graphics),o=[];let a=A;const c=t.id,l=jA,u=re,h=Bq(c,a++,l,u,XA.BLACK);o.push(h);const f=a++,m=bq(c,f);m.sprites=[],o.push(m);const d=t.isdark?1:0,g=yq(c,a++,l,u,d);o.push(g),g.alphas.fill(d);for(let y=0;y<t.terrain.length;++y){const E=t.terrain[y],B=tt(E,0,XA.WHITE,r===bA.OVER?XA.ONCLEAR:XA.BLACK),T=KA(E,"collision");h.char[y]=B.char,h.color[y]=B.color,h.bg[y]=B.bg,h.stats[y]=T}if(i==="fpv")for(let y=0;y<t.terrain.length;++y){const E=t.terrain[y];(s||G(KA(E,"sky")))&&(h.char[y]=-h.char[y])}const p=Object.values(t.objects??{}),x=new Set;for(let y=0;y<p.length;++y){const E=p[y];Ce(E.id)&&kA(E.x)&&kA(E.y)&&x.add(Xt(E,jA))}for(let y=0;y<p.length;++y){const E=p[y],B=KA(E,"collision");if(G(E.removed)||B===$A.ISGHOST)continue;const T=E.id??"";if(Ce(T)===!1&&kA(E.x)&&kA(E.y)&&x.has(Xt(E,jA))===!0)continue;const D=tt(E),Z=zv(c,f,T,y);if(Z.x=E.x??0,Z.y=E.y??0,Z.char=D.char,Z.color=D.color,Z.bg=D.bg,Z.stat=B,Z.pid=Ce(T)?T:void 0,m.sprites.push(Z),d){if(D.light>0){const R=ss(t,Z),j=Wn(Math.round(D.light),1,re),L=1/(j*.5);if(g.alphas[R]=0,j>1){const v=[];for(let Y=1;Y<=j;++Y){if(Y===2){const $=KA(E,"lightdir");if(gn($)){const U=Ei(t,E,"",$,Z);switch(Nn(Z,U.destpt)){case bA.EAST:v.push([45,315,1]);break;case bA.WEST:v.push([225,135,1]);break;case bA.NORTH:v.push([315,225,1]);break;case bA.SOUTH:v.push([135,45,1]);break}}}const b=[];for(let $=Z.y-Y;$<=Z.y+Y;++$)hh(t,g.alphas,v,b,Z,j,L,Z.x-Y,$),hh(t,g.alphas,v,b,Z,j,L,Z.x+Y,$);const I=Y-1;for(let $=Z.x-I;$<=Z.x+I;++$)hh(t,g.alphas,v,b,Z,j,L,$,Z.y-Y),hh(t,g.alphas,v,b,Z,j,L,$,Z.y+Y);for(let $=0;$<b.length;++$){const U=b[$];let W=0;for(W=0;W<v.length;++W){const q=v[W];if(q[1]>q[0]&&U[1]>=q[0]&&U[0]<=q[1]&&U[2]>=1&&q[2]>=1){v[W]=[Math.min(U[0],q[0]),Math.max(U[1],q[1]),1];break}}W===v.length&&v.push(U)}}}}else if(Ce(T)){const R=ss(t,Z);g.alphas[R]=0}}}for(let y=0;y<p.length;++y){const E=p[y],B=KA(E,"collision");if(G(E.removed)||B!==$A.ISGHOST)continue;const T=E.id??"",D=tt(E),Z=zv(c,f,T,y);Z.x=E.x??0,Z.y=E.y??0,Z.char=D.char,Z.color=D.color,Z.bg=D.bg,Z.stat=B,m.sprites.push(Z)}for(let y=0;y<p.length;++y){const E=p[y];wA(E.tickertext)&&kA(E.tickertime)&&E.tickertext.length&&n.push(`${Uv(E)}${E.tickertext}`)}if(r===bA.MID){if(o.push(uh(c,a++,"text/mood",d?"dark":"bright")),wA(t.palettepage)){const E=at(NA.PALETTE,t.palettepage),B=Rn(E);G(B?.bits)&&o.push(uh(c,a++,"image/palette",Array.from(B.bits)))}if(wA(t.charsetpage)){const E=at(NA.CHARSET,t.charsetpage),B=Rn(E);G(B?.bits)&&o.push(uh(c,a++,"image/charset",Array.from(B.bits)))}const y=Object.keys(t.objects).filter(Ce);o.push(uh(c,a++,"text/players",y.join(",")))}return o}function zv(e,A,t,n){const r=`sprites:${e}:${A}:${t}`,s=`sprite:${e}:${A}:${n}`;return G(fh[s])||(fh[s]=IP(e,A,t)),fh[s].id=r,fh[s]}function bq(e,A){const t=`sprites:${e}:${A}`;return G(Ft[t])||(Ft[t]=CP(e,A)),Ft[t]}function yq(e,A,t,n,r=0){const s=`dither:${e}:${A}`;return G(Ft[s])||(Ft[s]=zP(e,A,t,n,r)),Ft[s]}function uh(e,A,t,n){const r=`media:${e}:${A}`;G(Ft[r])||(Ft[r]=HP(e,A,t,n));const s=Ft[r];return s.mime=t,s.media=n,s}function _q(e,A){const t=`control:${e}:${A}`;return G(Ft[t])||(Ft[t]=UP(e,A)),Ft[t]}function Hv(e,A){const t=[],n=(e.x+.5)*Mr,r=(e.y+.5)*$r,s=A.x*Mr,i=A.y*$r,o=s-n,a=i-r;St.x=o-ps,St.y=a-ps,t.push(St.angle()),St.x=o+Mr+ps,St.y=a-ps,t.push(St.angle()),St.x=o-ps,St.y=a+$r+ps,t.push(St.angle()),St.x=o+Mr+ps,St.y=a+$r+ps,t.push(St.angle());const c=t.map(f=>Math.round(lb(f))),l=Math.min(...c),u=Math.max(...c);if(u-l>180){const f=c.filter(p=>p<180),m=c.filter(p=>p>180),d=Math.max(...f);return[Math.min(...m),d]}return[l,u]}function hh(e,A,t,n,r,s,i,o,a){const c={x:o,y:a},l=ss(e,c);if(l===-1)return;St.x=o-r.x,St.y=Math.round((a-r.y)*1.333);const u=St.length();if(u>s)return;const h=Math.round(lb(St.angle()));let f=0;for(let y=0;y<t.length;++y){const[E,B,T]=t[y];E>B?(h>=E||h<=B)&&(f=Math.max(f,T)):h>=E&&h<=B&&(f=Math.max(f,T))}const m=s*.5;A[l]=Math.min(A[l],f+(u<m?0:(u-m)*i)),A[l]=Wn(A[l],0,1);const d=Je(e,e.lookup?.[l]??"");if(G(d)){const y=[...Hv(r,c),.45];n.push(y)}const g=e.terrain[l],p=wn(g),x=g?.collision??p?.collision;if(Gi($A.ISBULLET,x)){const y=[...Hv(r,c),1];n.push(y)}}function Lv(e,A){const{graphics:t,camera:n,facing:r}=Ut(e),s=t??A.graphics??"",i=n??A.camera??"",o=r??A.facing??"";return{graphics:s,camera:i,facing:o}}function Kp(e){const A=tt(e),t=`${XA[A.color]}`,n=`${XA[A.bg>XA.WHITE?XA.BLACK:A.bg]}`;return`$${t}$ON${n}$${A.char}`}function Uv(e){if(!G(e?.id))return"";let A=tt(e).name;if(e.kind==="player"){const{user:n}=Ut(e.id);A=wA(n)?n:"player"}return`${Kp(e)}$ONCLEAR$CYAN ${A}:$WHITE `}function Dq(e,A){const t=[],n=[],r=[],s=[];if(!G(A))return{id:"",board:"",exiteast:"",exitwest:"",exitnorth:"",exitsouth:"",over:t,under:n,layers:r,tickers:s};const i=[`${A.id}`],o=K6(A);o?.id&&i.push(o.id);const a=W6(A);a?.id&&i.push(a.id),n.push(...Qp(e,0,a,s,bA.UNDER));const c=G(o);r.push(...Qp(e,n.length,A,s,bA.MID,c)),t.push(...Qp(e,n.length+r.length,o,s,bA.OVER,c));const l=LP(r);for(let u=0;u<l.length;++u){const h=l[u];h.type===Gb.MEDIA&&(i.push(h.id),wA(h.media)&&i.push(h.media))}return{id:i.join("|"),board:A.id,exiteast:ae(A.exiteast??"")?.id??"",exitwest:ae(A.exitwest??"")?.id??"",exitnorth:ae(A.exitnorth??"")?.id??"",exitsouth:ae(A.exitsouth??"")?.id??"",over:t,under:n,layers:r,tickers:s}}const St=new xa,Ft={},fh={};function Bq(e,A,t,n,r=0){const s=`tiles:${e}:${A}`;return G(Ft[s])||(Ft[s]=RP(e,A,t,n,r)),Ft[s]}function Bo(e,A=!1){const[t,n]=aA(e,0,[F.ANY]);if(A&&gn(t)){const[r,s,i]=aA(e,0,[F.DIR,F.NAME]);return s.startsWith(":")?{targetdir:r,label:s.substring(1).trim(),args:e.slice(i)}:{targetdir:r,label:s,args:e.slice(i)}}else{const[r,s,i]=aA(e,0,[F.NAME,F.ANY]);return wA(s)&&s.startsWith(":")?{targetname:r,label:s.substring(1).trim(),args:e.slice(i)}:{targetname:"self",label:r,args:e.slice(n)}}}let rs="",rr="";function Eq(e){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|.(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.exec(String(e).toLowerCase())}function ct(e){return e===nt()}function Eo(){G0(K,nt())}const kq=_s().command("shortsend",(e,A)=>{const t=Bo(A);return t.targetname==="self"?zo(K,w.elementfocus,void 0,"text",`cli:${t.label}`,t.args.join(" ")):Yo(e,w.element,t),0}).command("send",(e,A)=>{const t=Bo(A,!0);return Yo(e,w.element,t),0}).command("stat",(e,A)=>(X4(K,w.elementfocus,A.map(Ye).join(" ")),0)).command("text",(e,A)=>{const t=A.map(Ye).join(" ");if(G(w.element)&&w.elementisplayer){w.element.tickertext=t,w.element.tickertime=w.timestamp,nw("",w.element,t);const{user:n}=Ut(w.elementid),r=wA(n)?n:"player";zo(K,w.elementid,void 0,"text",`chat:message:${w.board?.id??""}`,`${r}:${t}`)}return 0}).command("hyperlink",(e,A)=>{const[t,...n]=A,{user:r}=Ut(w.elementid),s=wA(r)?r:"player",i=tt(w.element),o=`$${XA[i.color]}$ON${XA[i.bg]}$${i.char}$ONCLEAR $WHITE${s}$BLUE `,a=e.template(Ye(t).split(" "));return st(K,w.elementid,`!${e.template(n)};${o}${a}`),0}).command("bookrename",()=>{if(!ct(w.elementfocus))return 0;const e=yt(LA.MAIN);return S6(e),G(e)&&Es(K,w.elementfocus,"main",`${e?.name??"empty"} $GREEN${e?.id??""}`),0}).command("booktrash",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.NAME]),n=be(LA.MAIN),r=Jr(t);return G(r)&&(n===r&&lE(LA.MAIN,""),J6(t),st(K,w.elementfocus,`trashed [book] ${r.name}`),Eo(),e.command("pages")),0}).command("boardopen",(e,A)=>{const[t]=aA(A,0,[F.NAME]),n=ae(t);return G(n)&&Ds(w.book,w.elementfocus,n.id,{x:It(0,jA-1),y:It(0,re-1)}),0}).command("pageopen",(e,A)=>{const[t,n]=aA(A,0,[F.NAME,F.MAYBE_NAME]);let r,s;const i=vt();for(let o=0;o<i.length&&(s=i[o],r=ys(s,t),!G(r));++o);if(G(r)&&G(s)){const o=de(r),a=[r.id,n];yd(Mc(s.id,a),r.code);const c=Nr(r),l=`${lh(r)}$ONCLEAR$GREEN ${o} - ${s.name}`;g0(K,w.elementfocus,s.id,a,c,l)}else we(K,"pageopen",`page ${t} not found`,w.elementfocus);return 0}).command("pagetrash",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.NAME]),n=yt(LA.MAIN),r=oE(n,t);if(G(t)){const s=de(r),i=Nr(r);st(K,w.elementfocus,`trashed [${i}] ${s}`),Eo(),e.command("pages")}return 0}).command("help",()=>(p0(K,w.elementfocus),0)).command("books",()=>{if(!ct(w.elementfocus))return 0;yi(K,w.elementfocus,"books");const e=be(LA.MAIN);Es(K,w.elementfocus,"main",`${e?.name??"empty"} $GREEN${e?.id??""}`);const A=be(LA.MAIN);Es(K,w.elementfocus,"content",`${A?.name??"empty"} ${A?.id??""}`),jp(K,w.elementfocus,7);const t=vt();return t.length?t.forEach(n=>{me(K,w.elementfocus,`!bookopen ${n.id};${n.name}`)}):rt(K,w.elementfocus,"no books found"),me(K,w.elementfocus,"!bookcreate;create a new book"),0}).command("pages",()=>{const e=yt(LA.MAIN);if(!G(e))return 0;yi(K,w.elementfocus,"pages"),Es(K,w.elementfocus,"main",`${e.name} $GREEN${e.id}`),e.pages.length?hi(e).forEach(n=>{const r=de(n),s=Nr(n),i=lh(n);me(K,w.elementfocus,`!pageopen ${n.id};$blue[${s}] ${i}$white${r}`)}):(me(K,w.elementfocus,""),Rp(th("help:nopages"),t=>mV(w.elementfocus,t)));const A=vt();for(let t=0;t<A.length;++t){const n=A[t];n.id!==e.id&&(Es(K,w.elementfocus,"content",`${n.name} $GREEN${n.id}`),hi(n).forEach(s=>{const i=de(s),o=Nr(s);me(K,w.elementfocus,`!pageopen ${s.id};$blue[${o}]$white ${i}`)}))}return 0}).command("boards",()=>{yi(K,w.elementfocus,"boards");const e=yt(LA.MAIN);if(G(e)){Es(K,w.elementfocus,"main",`${e.name} $GREEN${e.id}`);const t=hi(e);t.filter(n=>Lt(n)===NA.BOARD).forEach(n=>{const r=de(n);me(K,w.elementfocus,`!boardopen ${n.id};$blue[#goto]$white ${r}`)}),t.length===0&&(me(K,w.elementfocus,""),rt(K,w.elementfocus,"$white no boards found"),rt(K,w.elementfocus,"$white use @ to create a board"),rt(K,w.elementfocus,"$white @board name of board"))}const A=vt();for(let t=0;t<A.length;++t){const n=A[t];n.id!==e.id&&(Es(K,w.elementfocus,"content",`${n.name} $GREEN${n.id}`),hi(n).filter(s=>Lt(s)===NA.BOARD).forEach(s=>{const i=de(s);me(K,w.elementfocus,`!boardopen ${s.id};$blue[#goto]$white ${i}`)}))}return 0}).command("trash",()=>{if(!ct(w.elementfocus))return 0;yi(K,w.elementfocus,"$REDTRASH"),rt(K,w.elementfocus,"books");const e=vt();e.length&&(e.forEach(t=>{me(K,w.elementfocus,`!booktrash ${t.id};$REDTRASH ${t.name}`)}),me(K,w.elementfocus,""));const A=be(LA.MAIN);return G(A)&&(rt(K,w.elementfocus,`pages in open ${A.name} book`),A.pages.forEach(t=>{const n=de(t),r=Nr(t),s=lh(t);me(K,w.elementfocus,`!pagetrash ${t.id};$REDTRASH [${r}] ${s}${n}`)}),me(K,w.elementfocus,"")),0}).command("dev",()=>(ct(w.elementfocus)&&(Eo(),F4(K,w.elementfocus)),0)).command("share",()=>(ct(w.elementfocus)&&(Eo(),D4(K,w.elementfocus)),0)).command("save",()=>(ct(w.elementfocus)&&Eo(),0)).command("fork",(e,A)=>{if(ct(w.elementfocus)){const[t]=aA(A,0,[F.MAYBE_NAME]);tN(K,w.elementfocus,t??"")}return 0}).command("nuke",()=>(ct(w.elementfocus)&&B4(K,w.elementfocus),0)).command("endgame",()=>(Co(K,w.elementfocus,!1),0)).command("restart",()=>(ct(w.elementfocus)&&(eN(K,w.elementfocus),Eo()),0)).command("export",()=>{if(!ct(w.elementfocus))return 0;eh(K,w.elementfocus,"E X P O R T"),yi(K,w.elementfocus,"books");const e=vt();return e.length&&e.forEach(A=>me(K,w.elementfocus,`!bookexport ${A.id};${A.name}`)),0}).command("bookexport",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.NAME]),n=Jr(t);return G(n)&&(eh(K,w.elementfocus,"E X P O R T"),yi(K,w.elementfocus,"pages"),setTimeout(()=>{if(n.pages.length){const r=hi(n);me(K,w.elementfocus,`!bookallexport ${t};$blue[all] $whiteexport book`),r.forEach(s=>{const i=de(s),o=Nr(s),a=lh(s);me(K,w.elementfocus,`!pageexport ${t}:${s.id};$blue[${o}] ${a}$white${i}`)})}},1e3)),0}).command("bookallexport",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.NAME]),n=Jr(t);return G(n)&&h0(K,w.elementfocus,Vt(n),`${n.name}.book.json`),0}).command("pageexport",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.NAME]),{target:n,path:r}=yn(t),s=Jr(n),i=ys(s,r);return G(i)&&h0(K,w.elementfocus,Vt(i),`${de(i)}.${Nr(i)}.json`),0}).command("itchiopublish",()=>{if(!ct(w.elementfocus))return 0;const e=be(LA.MAIN);return x0(K,w.elementfocus,"itchio",e?.name??""),0}).command("gadget",()=>(d0(K,w.elementfocus,void 0),0)).command("findany",(e,A)=>{const[t]=aA(A,0,[F.ANY]);if(se(t)){const n=t.filter(ms);m0(K,w.elementfocus,n)}else m0(K,w.elementfocus,[]);return 0}).command("zztsearch",(e,A)=>{const[t,n]=aA(A,0,[F.NAME,F.MAYBE_NAME]),r=G(n)?t:"title",s=G(n)?n:t;return U4(K,w.elementfocus,r,s),0}).command("zztrandom",()=>($4(K,w.elementfocus),0)).command("admin",()=>(L4(K,w.elementfocus),0)).command("joincode",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.MAYBE_NAME]),n=De(w.elementfocus);return G(n)?d4(K,w.elementfocus,!!t):we(K,w.elementfocus,"multiplayer","need to have an active player on a board in order to start multiplayer"),0}).command("jointab",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.MAYBE_NAME]);return m4(K,w.elementfocus,!!t),0}).command("chat",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.MAYBE_NAME]);return t?u4(K,w.elementfocus,t):h4(K,w.elementfocus),0}).command("broadcast",(e,A)=>{if(!ct(w.elementfocus))return 0;const[t]=aA(A,0,[F.MAYBE_NAME]);return t?c4(K,w.elementfocus,t):l4(K,w.elementfocus),0}).command("agent",(e,A)=>{const[t,n]=aA(A,0,[F.MAYBE_NAME]);switch(CA(t)){case"start":V4(K,w.elementfocus);break;case"stop":{const[r]=aA(A,1,[F.NAME]);G(r)?q4(K,w.elementfocus,r):we(K,w.elementfocus,"agent","#agent stop <id>");break}case"":case"list":rf(K,w.elementfocus);break;default:{if(wA(t)){let r=n;const s=[];for(;r<A.length;){const[i,o]=aA(A,r,[F.ANY]);s.push(i),r=o}J4(K,w.elementfocus,t,s.map(Ye).join(" "))}else we(K,w.elementfocus,"agent","#agent <id> <prompt>");break}}return 0}).command("screenshot",()=>(_4(K,w.elementfocus),0)).command("bbs",(e,A)=>{const[t,n]=aA(A,0,[F.ANY]);switch(CA(t)){default:if(rr)rs?rt(K,w.elementfocus,"you are already logged in, use #bbs restart to login again"):Se(K,w.elementfocus,async()=>{rt(K,w.elementfocus,`confirming login with $green${t}`),(await wq(rr,t)).success&&(rs=`${t}`,rt(K,w.elementfocus,`$green${rr} has been logged in`))});else{const[r,s]=aA(A,0,[F.NAME,F.NAME]);Eq(r)&&s?Se(K,w.elementfocus,async()=>{rt(K,w.elementfocus,`starting login with $green${r} ${s}`),(await pq(r,s)).success&&(rr=r,rt(K,w.elementfocus,"check your email for #bbs <code>"))}):rt(K,w.elementfocus,"please login with $green#bbs <email> <tag>")}break;case"restart":rr="",rs="",rt(K,w.elementfocus,"bbs restarted"),rt(K,w.elementfocus,"please login with $green#bbs <email> <tag>");break;case"list":!rr||!rs?rt(K,w.elementfocus,"please login with $green#bbs <email> <tag>$blue first"):Se(K,w.elementfocus,async()=>{rt(K,w.elementfocus,"listing files");const r=await Gq(rr,rs);if(r.success)for(let s=0;s<r.list.length;++s){const{metadata:i}=r.list[s];dV(K,w.elementfocus,i.url,i.filename),rt(K,w.elementfocus,i.tags)}});break;case"pub":case"publish":if(!rr||!rs)rt(K,w.elementfocus,"please login with $green#bbs <email> <tag>$blue first");else{const[r,s]=aA(A,n,[F.NAME]),i=[];for(let o=s;o<A.length;){const[a,c]=aA(A,o,[F.NAME]);o=c,i.push(a)}x0(K,w.elementfocus,"bbs",rr,rs,r,...i)}break;case"del":case"delete":if(!rr||!rs)rt(K,w.elementfocus,"please login with $green#bbs <email> <tag>$blue first");else{const[r]=aA(A,n,[F.NAME]);Se(K,w.elementfocus,async()=>{rt(K,w.elementfocus,`deleting ${r}`),(await xq(rr,rs,r)).success&&rt(K,w.elementfocus,`$red${r} has been deleted`)})}break}return 0}),vq=new Set(["inputmove","inputalt","inputctrl","inputshift","inputok","inputcancel","inputmenu"]),$v=new Set(["char","color","bg","displaychar","displaycolor","displaybg","item","group","party","player","pushable","collision","breakable","p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","cycle","stepx","stepy","shootx","shooty","light","lightdir","arg"]),Yq=["NORTH","SOUTH","WEST","EAST"];function Nq(e,A,t){const n=Ut(e);if(kA(n.inputcurrent)||(n.inputcurrent=0),se(n.inputqueue)||(n.inputqueue=[]),n.inputcurrent>0)return n;const[r]=n.inputqueue,[s=Re.NONE,i=0]=r??[Re.NONE,0];switch(n.inputmove=[],n.inputok=0,n.inputcancel=0,n.inputmenu=0,n.inputalt=i&$P?1:0,n.inputctrl=i&FP?1:0,n.inputshift=i&QP?1:0,s){case Re.MOVE_UP:case Re.MOVE_DOWN:case Re.MOVE_LEFT:case Re.MOVE_RIGHT:{const o=Yq[s-Re.MOVE_UP];if(wA(A)&&A==="fpv"&&kA(t))switch(Math.round(t/90)){default:case 0:n.inputmove=[o];break;case 1:switch(o){default:case"NORTH":n.inputmove=["EAST"];break;case"EAST":n.inputmove=["SOUTH"];break;case"SOUTH":n.inputmove=["WEST"];break;case"WEST":n.inputmove=["NORTH"];break}break;case 2:switch(o){default:case"NORTH":n.inputmove=["SOUTH"];break;case"EAST":n.inputmove=["WEST"];break;case"SOUTH":n.inputmove=["NORTH"];break;case"WEST":n.inputmove=["EAST"];break}break;case 3:switch(o){default:case"NORTH":n.inputmove=["WEST"];break;case"EAST":n.inputmove=["NORTH"];break;case"SOUTH":n.inputmove=["EAST"];break;case"WEST":n.inputmove=["SOUTH"];break}break}else n.inputmove=[o];break}case Re.OK_BUTTON:n.inputok=1;break;case Re.CANCEL_BUTTON:n.inputcancel=1;break;case Re.MENU_BUTTON:n.inputmenu=1;break}return n.inputcurrent=s,n.inputqueue=n.inputqueue.filter(o=>{const[a]=o;return a!==Re.NONE&&a!==s}),n}function Zq(e){const A=kp[e];if(G(A))return A;const t=Bp[e];if(G(t))return t;const n=_a[e];if(G(n))return n;const r=Ld[e];if(G(r))return r}const Oq=_s({get(e,A){const t=Zq(A);if(G(t))return[!0,t];if(w.elementisplayer&&vq.has(A)){const a=e.get("graphics"),c=e.get("facing"),l=Nq(w.elementid,a,c)[A];return[G(l),l]}const n=Ac(w.board,{x:w.element?.x??-1,y:w.element?.y??-1},w.elementfocus),r=n?.id??w.elementfocus??nt(),s=w.element?.sender,i=iw(w.board,wA(s)?s:"");switch(A){case"camera":case"graphics":case"facing":{const a=Ut(r)[A];return[!0,G(a)?a:w.board?.[A]??0]}case"isdark":return[!0,w.board?.isdark?1:0];case"startx":return[!0,w.board?.startx??0];case"starty":return[!0,w.board?.starty??0];case"over":return[!0,w.board?.over??""];case"under":return[!0,w.board?.under??""];case"palette":return[!0,w.board?.palette??""];case"charset":return[!0,w.board?.charset??""];case"exitnorth":return[!0,w.board?.exitnorth??""];case"exitsouth":return[!0,w.board?.exitsouth??""];case"exitwest":return[!0,w.board?.exitwest??""];case"exiteast":return[!0,w.board?.exiteast??""];case"timelimit":return[!0,w.board?.timelimit??0];case"restartonzap":return[!0,w.board?.restartonzap??0];case"maxplayershots":return[!0,w.board?.maxplayershots??0];case"b1":return[!0,w.board?.b1??0];case"b2":return[!0,w.board?.b2??0];case"b3":return[!0,w.board?.b3??0];case"b4":return[!0,w.board?.b4??0];case"b5":return[!0,w.board?.b5??0];case"b6":return[!0,w.board?.b6??0];case"b7":return[!0,w.board?.b7??0];case"b8":return[!0,w.board?.b8??0];case"b9":return[!0,w.board?.b9??0];case"b10":return[!0,w.board?.b10??0];case"currenttick":return[!0,w.timestamp];case"boardid":return[!0,w.board?.id??""];case"playerid":return[!0,r];case"playerx":return[!0,n?.x??-1];case"playery":return[!0,n?.y??-1];case"thisid":return[!0,w.element?.id??""];case"thisx":return[!0,w.element?.x??-1];case"thisy":return[!0,w.element?.y??-1];case"senderid":return[!0,i?.id??""];case"senderx":return[!0,i?.x??-1];case"sendery":return[!0,i?.y??-1];default:{if($v.has(A))return[!0,KA(w.element,A)??0];break}}const o=Ut(r)[A];return[G(o),o]},set(e,A,t){const n={x:w.element?.x??-1,y:w.element?.y??-1},s=Ac(w.board,n,w.elementfocus)?.id??w.elementfocus;switch(A){case"camera":case"graphics":break;case"facing":t=_P.euclideanModulo(t,360);break;case"isdark":if(G(w.board))return w.board.isdark=t?1:0,[!0,w.board.isdark];break;case"startx":if(G(w.board))return w.board.startx=us(t,0),[!0,w.board.startx];break;case"starty":if(G(w.board))return w.board.starty=us(t,0),[!0,w.board.starty];break;case"over":if(G(w.board)){const o=Ye(t);return w.board.over!==o&&(w.board.overboard=void 0),w.board.over=o,[!0,o]}break;case"under":if(G(w.board)){const o=Ye(t);return w.board.under!==o&&(w.board.underboard=void 0),w.board.under=o,[!0,o]}break;case"palette":if(G(w.board)){const o=Ye(t);return w.board.palette!==o&&(w.board.palettepage=void 0),w.board.palette=o,[!0,o]}break;case"charset":if(G(w.board)){const o=Ye(t);return w.board.charset!==o&&(w.board.charsetpage=void 0),w.board.charset=o,[!0,o]}break;case"exitnorth":if(G(w.board))return[!0,w.board.exitnorth=Ye(t)];break;case"exitsouth":if(G(w.board))return[!0,w.board.exitsouth=Ye(t)];break;case"exitwest":if(G(w.board))return[!0,w.board.exitwest=Ye(t)];break;case"exiteast":if(G(w.board))return[!0,w.board.exiteast=Ye(t)];break;case"timelimit":if(G(w.board))return[!0,w.board.timelimit=us(t,0)];break;case"restartonzap":if(G(w.board))return[!0,w.board.restartonzap=t?1:0];break;case"maxplayershots":if(G(w.board))return[!0,w.board.maxplayershots=us(t,0)];break;case"b1":if(G(w.board))return[!0,w.board.b1=t];break;case"b2":if(G(w.board))return[!0,w.board.b2=t];break;case"b3":if(G(w.board))return[!0,w.board.b3=t];break;case"b4":if(G(w.board))return[!0,w.board.b4=t];break;case"b5":if(G(w.board))return[!0,w.board.b5=t];break;case"b6":if(G(w.board))return[!0,w.board.b6=t];break;case"b7":if(G(w.board))return[!0,w.board.b7=t];break;case"b8":if(G(w.board))return[!0,w.board.b8=t];break;case"b9":if(G(w.board))return[!0,w.board.b9=t];break;case"b10":if(G(w.board))return[!0,w.board.b10=t];break;case"currenttick":case"boardid":return[!0,t];case"playerid":case"playerx":case"playery":return[!0,t];case"thisid":case"thisx":case"thisy":return[!0,t];case"senderid":return G(w.element)&&(w.element.sender=t),[!0,t];case"senderx":case"sendery":return[!0,t];default:{if($v.has(A)){if(G(w.element))switch(A){case"color":if(ft(t)){const{color:o,bg:a}=io(t);G(o)&&(w.element.color=o),G(a)&&(w.element.bg=a)}else kA(t)&&(w.element.color=t);break;case"bg":if(ft(t)){const{color:o,bg:a}=io(t);w.element.bg=o??a??XA.PURPLE}else kA(t)&&(w.element.bg=t);break;case"displaycolor":if(ft(t)){const{color:o,bg:a}=io(t);G(o)&&(w.element.displaycolor=o),G(a)&&(w.element.displaybg=a)}else kA(t)&&(w.element.displaycolor=t);break;case"displaybg":{if(ft(t)){const{color:o,bg:a}=io(t);w.element.displaybg=o??a??XA.PURPLE}else kA(t)&&(w.element.displaybg=t);break}default:w.element[A]=t;break}return[!0,t]}break}}const i=Ut(s);return G(i)?(i[A]=t,A==="user"&&z4(K,s,A,t),[!0,t]):[!1,t]},everytick(e){if(w.elementisplayer){const A=e.get("health");kA(A)&&A<=0&&(e.endofprogram(),Co(K,w.elementid,!0))}!w.element?.removed&&G(w.element?.x)&&G(w.element.y)&&G(w.element.stepx)&&G(w.element.stepy)&&(w.element.stepx||w.element.stepy)&&Mn(w.book,w.board,w.element,{x:w.element.x+w.element.stepx,y:w.element.y+w.element.stepy})}}).command("clear",(e,A)=>{for(let t=0;t<A.length;++t)e.set(Ye(A[t]),0);return 0}).command("set",(e,A)=>{const[t,n]=aA(A,0,[F.NAME,F.ANY]);return e.set(t,n??1),0}).command("become",(e,A)=>{const[t]=aA(A,0,[F.KIND]),n=tt(w.element),[r,s]=t,i=[...gs(n.color,n.bg),...s??[]],o=[r,i];if(ku(w.board,w.element),Yt(w.board,w.element,w.timestamp)){const a={x:w.element?.x??0,y:w.element?.y??0};Gn(w.board,o,a)}return e.endofprogram(),0}).command("bind",(e,A)=>{const[t]=aA(A,0,[F.NAME]),n=bo(w.board,t);return G(w.element)&&n.length>0&&(w.element.code=Yn(...n).code??"",ec(w.elementid)),0}).command("char",(e,A)=>{const[t]=aA(A,0,[F.ANY]);if(gn(t)){const[n,r]=aA(A,0,[F.DIR,F.NUMBER]);if(n.targets.length){for(let i=0;i<n.targets.length;++i){const o=n.targets[i],a=ne(w.board,o);G(a)&&(a.char=r)}return 0}const s=ne(w.board,n.destpt);G(s)&&(s.char=r)}else G(w.element)&&kA(t)&&(w.element.char=t);return 0}).command("color",(e,A)=>{const[t]=aA(A,0,[F.ANY]);if(gn(t)){const[n,r]=aA(A,0,[F.DIR,F.COLOR]);if(n.targets.length){for(let i=0;i<n.targets.length;++i){const o=n.targets[i],a=ne(w.board,o);G(a)&&Ai(a,r??XA.PURPLE)}return 0}const s=ne(w.board,n.destpt);G(s)&&Ai(s,r??XA.PURPLE)}else{const[n]=aA(A,0,[F.COLOR]);G(w.element)&&G(n)&&Ai(w.element,n)}return 0}).command("go",(e,A)=>{if(G(w.element)){const[t]=aA(A,0,[F.DIR]);if(Mn(w.book,w.board,w.element,t.destpt),e.yield(),w.element.x===t.destpt.x&&w.element.y===t.destpt.y)return 0}return 1}).command("walk",(e,A)=>{if(!G(w.element))return 0;const[t]=aA(A,0,[F.DIR]),n=w.element.x??0,r=w.element.y??0;return w.element.stepx=t.destpt.x-n,w.element.stepy=t.destpt.y-r,0}).command("idle",e=>(e.yield(),0)).command("end",(e,A)=>{const[t]=aA(A,0,[F.ANY]);return G(t)&&e.set("arg",t),e.endofprogram(),0}).command("lock",e=>(e.lock(e.id()),0)).command("restore",(e,A)=>(e.restore(Ye(A[0])),0)).command("unlock",e=>(e.unlock(),0)).command("zap",(e,A)=>(e.zap(Ye(A[0])),0)).command("cycle",(e,A)=>{if(G(w.element)){const[t]=aA(A,0,[F.NUMBER]);w.element.cycle=Wn(Math.round(t),1,255)}return 0}).command("die",e=>{if(Yt(w.board,w.element,w.timestamp),KA(w.element,"item")){const A={x:w.element?.x??-1,y:w.element?.y??-1},t=Ac(w.board,A,w.elementfocus);G(t?.x)&&G(t.y)&&Math.abs(t.x-A.x)+Math.abs(t.y-A.y)<2&&(t.x=A.x,t.y=A.y)}else e.endofprogram();return 0}).command("run",(e,A)=>{const[t]=aA(A,0,[F.NAME]);return Fu(t),0}).command("runwith",(e,A)=>{const[t,n]=aA(A,0,[F.ANY,F.NAME]);return e.set("arg",t),Fu(n),0}).command("array",(e,A)=>{const t=[],[n,r]=aA(A,0,[F.NAME]);for(let s=r;s<A.length;){const[i,o]=aA(A,s,[F.ANY]);t.push(i),s=o}return e.set(n,t),0}).command("read",(e,A)=>{const[t,n,r]=aA(A,0,[F.ANY,F.NUMBER_OR_STRING,F.NAME]);if(G(t)){const s=t[n];e.set(r,s)}return 0}).command("load",(e,A)=>{const[t,n,r]=aA(A,0,[F.DIR,F.NAME]),s=ne(w.board,t.destpt);if(G(s)&&Me(s))if(CA(n)==="append"){const[i]=aA(A,r,[F.NAME]),o=at(NA.OBJECT,i);G(o)&&(s.code+=o.code,ec(s.id??""))}else{const i=at(NA.OBJECT,n);G(i)&&(s.code=i.code,ec(s.id??""))}return 0}).command("toast",(e,A)=>{const t=A.map(Ye).join("");return Sr(K,w.elementfocus,t),0}).command("ticker",(e,A)=>{const t=A.map(Ye).join("");return G(w.element)&&(w.element.tickertext=t,w.element.tickertime=w.timestamp,nw(w.board?.id,w.element,t)),0});function Fv(e,A){if(!G(e))return;const t=CA(A),n=t.endsWith("le");switch(t){case"float32":case"float32le":{const r=e.dataview.getFloat32(e.cursor,n);return e.cursor+=4,r}case"float64":case"float64le":{const r=e.dataview.getFloat64(e.cursor,n);return e.cursor+=8,r}case"int8":case"int8le":{const r=e.dataview.getInt8(e.cursor);return e.cursor+=1,r}case"int16":case"int16le":{const r=e.dataview.getInt16(e.cursor,n);return e.cursor+=2,r}case"int32":case"int32le":{const r=e.dataview.getInt32(e.cursor,n);return e.cursor+=4,r}case"int64":case"int64le":{const r=e.dataview.getBigInt64(e.cursor,n);return e.cursor+=8,r}case"uint8":case"uint8le":{const r=e.dataview.getUint8(e.cursor);return e.cursor+=1,r}case"uint16":case"uint16le":{const r=e.dataview.getUint16(e.cursor,n);return e.cursor+=2,r}case"uint32":case"uint32le":{const r=e.dataview.getUint32(e.cursor,n);return e.cursor+=4,r}case"uint64":case"uint64le":{const r=e.dataview.getBigUint64(e.cursor,n);return e.cursor+=8,r}}}const Tq=(e,A)=>{const t=Mo(e.id());if(!G(t))return 0;const[n,r]=aA(A,0,[F.NAME]),s=CA(n);switch(s){case"seek":{const[i]=aA(A,r,[F.NUMBER]);t.cursor=i;break}case"float32":case"float32le":case"float64":case"float64le":case"int8":case"int8le":case"int16":case"int16le":case"int32":case"int32le":case"int64":case"int64le":case"uint8":case"uint8le":case"uint16":case"uint16le":case"uint32":case"uint32le":case"uint64":case"uint64le":{const[i]=aA(A,r,[F.NAME]);e.set(i,Fv(t,s));break}case"text":{const[i,o]=aA(A,r,[F.NAME,F.NAME]),a=Fv(t,i);if(kA(a)&&wA(o)){const c=new Uint8Array(t.bytes.buffer,t.cursor,a),u=new TextDecoder("utf-8").decode(c);e.set(o,u),t.cursor+=a}break}}return 0},ko=e=>e!==null&&Object.prototype.toString.call(e)==="[object Object]",dh=(e,A)=>{if(e===A)return!0;if(typeof e!=typeof A)return!1;if(Array.isArray(e)&&Array.isArray(A)){if(e.length!==A.length)return!1;for(let t=0;t<e.length;t+=1)if(!dh(e[t],A[t]))return!1;return!0}if(ko(e)&&ko(A)){const t=Object.entries(e),n=new Set(Object.keys(A));if(t.length!==n.size)return!1;for(const[r,s]of t){if(!dh(s,A[r]))return!1;n.delete(r)}return n.size===0}return!1},mh=e=>{if(e===""||e===!1||e===null||e===void 0||Array.isArray(e)&&e.length===0)return!0;if(ko(e)){for(const A in e)if(e.hasOwnProperty(A))return!1;return!0}return!1},Sq=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e==="_",Qv=e=>e>="0"&&e<="9"||e==="-",Pq=e=>e>="a"&&e<="z"||e>="A"&&e<="Z"||e>="0"&&e<="9"||e==="_";var oA;(function(e){e.TOK_EOF="EOF",e.TOK_UNQUOTEDIDENTIFIER="UnquotedIdentifier",e.TOK_QUOTEDIDENTIFIER="QuotedIdentifier",e.TOK_RBRACKET="Rbracket",e.TOK_RPAREN="Rparen",e.TOK_COMMA="Comma",e.TOK_COLON="Colon",e.TOK_RBRACE="Rbrace",e.TOK_NUMBER="Number",e.TOK_CURRENT="Current",e.TOK_ROOT="Root",e.TOK_EXPREF="Expref",e.TOK_PIPE="Pipe",e.TOK_OR="Or",e.TOK_AND="And",e.TOK_EQ="EQ",e.TOK_GT="GT",e.TOK_LT="LT",e.TOK_GTE="GTE",e.TOK_LTE="LTE",e.TOK_NE="NE",e.TOK_FLATTEN="Flatten",e.TOK_STAR="Star",e.TOK_FILTER="Filter",e.TOK_DOT="Dot",e.TOK_NOT="Not",e.TOK_LBRACE="Lbrace",e.TOK_LBRACKET="Lbracket",e.TOK_LPAREN="Lparen",e.TOK_LITERAL="Literal"})(oA||(oA={}));const Kv={"(":oA.TOK_LPAREN,")":oA.TOK_RPAREN,"*":oA.TOK_STAR,",":oA.TOK_COMMA,".":oA.TOK_DOT,":":oA.TOK_COLON,"@":oA.TOK_CURRENT,$:oA.TOK_ROOT,"]":oA.TOK_RBRACKET,"{":oA.TOK_LBRACE,"}":oA.TOK_RBRACE},jq={"!":!0,"<":!0,"=":!0,">":!0},Rq={"	":!0,"\n":!0,"\r":!0," ":!0};class Iq{constructor(){this._current=0}tokenize(A){const t=[];this._current=0;let n,r,s;for(;this._current<A.length;)if(Sq(A[this._current]))n=this._current,r=this.consumeUnquotedIdentifier(A),t.push({start:n,type:oA.TOK_UNQUOTEDIDENTIFIER,value:r});else if(Kv[A[this._current]]!==void 0)t.push({start:this._current,type:Kv[A[this._current]],value:A[this._current]}),this._current+=1;else if(Qv(A[this._current]))s=this.consumeNumber(A),t.push(s);else if(A[this._current]==="[")s=this.consumeLBracket(A),t.push(s);else if(A[this._current]==='"')n=this._current,r=this.consumeQuotedIdentifier(A),t.push({start:n,type:oA.TOK_QUOTEDIDENTIFIER,value:r});else if(A[this._current]==="'")n=this._current,r=this.consumeRawStringLiteral(A),t.push({start:n,type:oA.TOK_LITERAL,value:r});else if(A[this._current]==="`"){n=this._current;const i=this.consumeLiteral(A);t.push({start:n,type:oA.TOK_LITERAL,value:i})}else if(jq[A[this._current]]!==void 0)s=this.consumeOperator(A),s&&t.push(s);else if(Rq[A[this._current]]!==void 0)this._current+=1;else if(A[this._current]==="&")n=this._current,this._current+=1,A[this._current]==="&"?(this._current+=1,t.push({start:n,type:oA.TOK_AND,value:"&&"})):t.push({start:n,type:oA.TOK_EXPREF,value:"&"});else if(A[this._current]==="|")n=this._current,this._current+=1,A[this._current]==="|"?(this._current+=1,t.push({start:n,type:oA.TOK_OR,value:"||"})):t.push({start:n,type:oA.TOK_PIPE,value:"|"});else{const i=new Error(`Unknown character: ${A[this._current]}`);throw i.name="LexerError",i}return t}consumeUnquotedIdentifier(A){const t=this._current;for(this._current+=1;this._current<A.length&&Pq(A[this._current]);)this._current+=1;return A.slice(t,this._current)}consumeQuotedIdentifier(A){const t=this._current;this._current+=1;const n=A.length;for(;A[this._current]!=='"'&&this._current<n;){let r=this._current;A[r]==="\\"&&(A[r+1]==="\\"||A[r+1]==='"')?r+=2:r+=1,this._current=r}return this._current+=1,JSON.parse(A.slice(t,this._current))}consumeRawStringLiteral(A){const t=this._current;this._current+=1;const n=A.length;for(;A[this._current]!=="'"&&this._current<n;){let s=this._current;A[s]==="\\"&&(A[s+1]==="\\"||A[s+1]==="'")?s+=2:s+=1,this._current=s}return this._current+=1,A.slice(t+1,this._current-1).replace("\\'","'")}consumeNumber(A){const t=this._current;this._current+=1;const n=A.length;for(;Qv(A[this._current])&&this._current<n;)this._current+=1;const r=parseInt(A.slice(t,this._current),10);return{start:t,value:r,type:oA.TOK_NUMBER}}consumeLBracket(A){const t=this._current;return this._current+=1,A[this._current]==="?"?(this._current+=1,{start:t,type:oA.TOK_FILTER,value:"[?"}):A[this._current]==="]"?(this._current+=1,{start:t,type:oA.TOK_FLATTEN,value:"[]"}):{start:t,type:oA.TOK_LBRACKET,value:"["}}consumeOperator(A){const t=this._current,n=A[t];if(this._current+=1,n==="!")return A[this._current]==="="?(this._current+=1,{start:t,type:oA.TOK_NE,value:"!="}):{start:t,type:oA.TOK_NOT,value:"!"};if(n==="<")return A[this._current]==="="?(this._current+=1,{start:t,type:oA.TOK_LTE,value:"<="}):{start:t,type:oA.TOK_LT,value:"<"};if(n===">")return A[this._current]==="="?(this._current+=1,{start:t,type:oA.TOK_GTE,value:">="}):{start:t,type:oA.TOK_GT,value:">"};if(n==="="&&A[this._current]==="=")return this._current+=1,{start:t,type:oA.TOK_EQ,value:"=="}}consumeLiteral(A){this._current+=1;const t=this._current,n=A.length;for(;A[this._current]!=="`"&&this._current<n;){let i=this._current;A[i]==="\\"&&(A[i+1]==="\\"||A[i+1]==="`")?i+=2:i+=1,this._current=i}let r=A.slice(t,this._current).trimLeft();r=r.replace("\\`","`");const s=this.looksLikeJSON(r)?JSON.parse(r):JSON.parse(`"${r}"`);return this._current+=1,s}looksLikeJSON(A){const n=["true","false","null"],r="-0123456789";if(A==="")return!1;if('[{"'.includes(A[0])||n.includes(A))return!0;if(r.includes(A[0]))try{return JSON.parse(A),!0}catch{return!1}return!1}}const Cq=new Iq,Pt={[oA.TOK_EOF]:0,[oA.TOK_UNQUOTEDIDENTIFIER]:0,[oA.TOK_QUOTEDIDENTIFIER]:0,[oA.TOK_RBRACKET]:0,[oA.TOK_RPAREN]:0,[oA.TOK_COMMA]:0,[oA.TOK_RBRACE]:0,[oA.TOK_NUMBER]:0,[oA.TOK_CURRENT]:0,[oA.TOK_EXPREF]:0,[oA.TOK_ROOT]:0,[oA.TOK_PIPE]:1,[oA.TOK_OR]:2,[oA.TOK_AND]:3,[oA.TOK_EQ]:5,[oA.TOK_GT]:5,[oA.TOK_LT]:5,[oA.TOK_GTE]:5,[oA.TOK_LTE]:5,[oA.TOK_NE]:5,[oA.TOK_FLATTEN]:9,[oA.TOK_STAR]:20,[oA.TOK_FILTER]:21,[oA.TOK_DOT]:40,[oA.TOK_NOT]:45,[oA.TOK_LBRACE]:50,[oA.TOK_LBRACKET]:55,[oA.TOK_LPAREN]:60};class zq{constructor(){this.index=0,this.tokens=[]}parse(A){this.loadTokens(A),this.index=0;const t=this.expression(0);if(this.lookahead(0)!==oA.TOK_EOF){const n=this.lookaheadToken(0);this.errorToken(n,`Unexpected token type: ${n.type}, value: ${n.value}`)}return t}loadTokens(A){this.tokens=[...Cq.tokenize(A),{type:oA.TOK_EOF,value:"",start:A.length}]}expression(A){const t=this.lookaheadToken(0);this.advance();let n=this.nud(t),r=this.lookahead(0);for(;A<Pt[r];)this.advance(),n=this.led(r,n),r=this.lookahead(0);return n}lookahead(A){return this.tokens[this.index+A].type}lookaheadToken(A){return this.tokens[this.index+A]}advance(){this.index+=1}nud(A){let t,n,r;switch(A.type){case oA.TOK_LITERAL:return{type:"Literal",value:A.value};case oA.TOK_UNQUOTEDIDENTIFIER:return{type:"Field",name:A.value};case oA.TOK_QUOTEDIDENTIFIER:const s={type:"Field",name:A.value};if(this.lookahead(0)===oA.TOK_LPAREN)throw new Error("Quoted identifier not allowed for function names.");return s;case oA.TOK_NOT:return n=this.expression(Pt.Not),{type:"NotExpression",children:[n]};case oA.TOK_STAR:return t={type:"Identity"},n=this.lookahead(0)===oA.TOK_RBRACKET&&{type:"Identity"}||this.parseProjectionRHS(Pt.Star),{type:"ValueProjection",children:[t,n]};case oA.TOK_FILTER:return this.led(A.type,{type:"Identity"});case oA.TOK_LBRACE:return this.parseMultiselectHash();case oA.TOK_FLATTEN:return t={type:oA.TOK_FLATTEN,children:[{type:"Identity"}]},n=this.parseProjectionRHS(Pt.Flatten),{type:"Projection",children:[t,n]};case oA.TOK_LBRACKET:return this.lookahead(0)===oA.TOK_NUMBER||this.lookahead(0)===oA.TOK_COLON?(n=this.parseIndexExpression(),this.projectIfSlice({type:"Identity"},n)):this.lookahead(0)===oA.TOK_STAR&&this.lookahead(1)===oA.TOK_RBRACKET?(this.advance(),this.advance(),n=this.parseProjectionRHS(Pt.Star),{children:[{type:"Identity"},n],type:"Projection"}):this.parseMultiselectList();case oA.TOK_CURRENT:return{type:oA.TOK_CURRENT};case oA.TOK_ROOT:return{type:oA.TOK_ROOT};case oA.TOK_EXPREF:return r=this.expression(Pt.Expref),{type:"ExpressionReference",children:[r]};case oA.TOK_LPAREN:const i=[];for(;this.lookahead(0)!==oA.TOK_RPAREN;)this.lookahead(0)===oA.TOK_CURRENT?(r={type:oA.TOK_CURRENT},this.advance()):r=this.expression(0),i.push(r);return this.match(oA.TOK_RPAREN),i[0];default:this.errorToken(A)}}led(A,t){let n;switch(A){case oA.TOK_DOT:const r=Pt.Dot;return this.lookahead(0)!==oA.TOK_STAR?(n=this.parseDotRHS(r),{type:"Subexpression",children:[t,n]}):(this.advance(),n=this.parseProjectionRHS(r),{type:"ValueProjection",children:[t,n]});case oA.TOK_PIPE:return n=this.expression(Pt.Pipe),{type:oA.TOK_PIPE,children:[t,n]};case oA.TOK_OR:return n=this.expression(Pt.Or),{type:"OrExpression",children:[t,n]};case oA.TOK_AND:return n=this.expression(Pt.And),{type:"AndExpression",children:[t,n]};case oA.TOK_LPAREN:const s=t.name,i=[];let o;for(;this.lookahead(0)!==oA.TOK_RPAREN;)this.lookahead(0)===oA.TOK_CURRENT?(o={type:oA.TOK_CURRENT},this.advance()):o=this.expression(0),this.lookahead(0)===oA.TOK_COMMA&&this.match(oA.TOK_COMMA),i.push(o);return this.match(oA.TOK_RPAREN),{name:s,type:"Function",children:i};case oA.TOK_FILTER:const c=this.expression(0);return this.match(oA.TOK_RBRACKET),n=this.lookahead(0)===oA.TOK_FLATTEN&&{type:"Identity"}||this.parseProjectionRHS(Pt.Filter),{type:"FilterProjection",children:[t,n,c]};case oA.TOK_FLATTEN:const l={type:oA.TOK_FLATTEN,children:[t]},u=this.parseProjectionRHS(Pt.Flatten);return{type:"Projection",children:[l,u]};case oA.TOK_EQ:case oA.TOK_NE:case oA.TOK_GT:case oA.TOK_GTE:case oA.TOK_LT:case oA.TOK_LTE:return this.parseComparator(t,A);case oA.TOK_LBRACKET:const h=this.lookaheadToken(0);return h.type===oA.TOK_NUMBER||h.type===oA.TOK_COLON?(n=this.parseIndexExpression(),this.projectIfSlice(t,n)):(this.match(oA.TOK_STAR),this.match(oA.TOK_RBRACKET),n=this.parseProjectionRHS(Pt.Star),{type:"Projection",children:[t,n]});default:return this.errorToken(this.lookaheadToken(0))}}match(A){if(this.lookahead(0)===A){this.advance();return}else{const t=this.lookaheadToken(0);this.errorToken(t,`Expected ${A}, got: ${t.type}`)}}errorToken(A,t=""){const n=new Error(t||`Invalid token (${A.type}): "${A.value}"`);throw n.name="ParserError",n}parseIndexExpression(){if(this.lookahead(0)===oA.TOK_COLON||this.lookahead(1)===oA.TOK_COLON)return this.parseSliceExpression();const A={type:"Index",value:this.lookaheadToken(0).value};return this.advance(),this.match(oA.TOK_RBRACKET),A}projectIfSlice(A,t){const n={type:"IndexExpression",children:[A,t]};return t.type==="Slice"?{children:[n,this.parseProjectionRHS(Pt.Star)],type:"Projection"}:n}parseSliceExpression(){const A=[null,null,null];let t=0,n=this.lookahead(0);for(;n!==oA.TOK_RBRACKET&&t<3;){if(n===oA.TOK_COLON)t+=1,this.advance();else if(n===oA.TOK_NUMBER)A[t]=this.lookaheadToken(0).value,this.advance();else{const r=this.lookaheadToken(0);this.errorToken(r,`Syntax error, unexpected token: ${r.value}(${r.type})`)}n=this.lookahead(0)}return this.match(oA.TOK_RBRACKET),{children:A,type:"Slice"}}parseComparator(A,t){const n=this.expression(Pt[t]);return{type:"Comparator",name:t,children:[A,n]}}parseDotRHS(A){const t=this.lookahead(0);if([oA.TOK_UNQUOTEDIDENTIFIER,oA.TOK_QUOTEDIDENTIFIER,oA.TOK_STAR].includes(t))return this.expression(A);if(t===oA.TOK_LBRACKET)return this.match(oA.TOK_LBRACKET),this.parseMultiselectList();if(t===oA.TOK_LBRACE)return this.match(oA.TOK_LBRACE),this.parseMultiselectHash();const r=this.lookaheadToken(0);this.errorToken(r,`Syntax error, unexpected token: ${r.value}(${r.type})`)}parseProjectionRHS(A){if(Pt[this.lookahead(0)]<10)return{type:"Identity"};if(this.lookahead(0)===oA.TOK_LBRACKET)return this.expression(A);if(this.lookahead(0)===oA.TOK_FILTER)return this.expression(A);if(this.lookahead(0)===oA.TOK_DOT)return this.match(oA.TOK_DOT),this.parseDotRHS(A);const t=this.lookaheadToken(0);this.errorToken(t,`Syntax error, unexpected token: ${t.value}(${t.type})`)}parseMultiselectList(){const A=[];for(;this.lookahead(0)!==oA.TOK_RBRACKET;){const t=this.expression(0);if(A.push(t),this.lookahead(0)===oA.TOK_COMMA&&(this.match(oA.TOK_COMMA),this.lookahead(0)===oA.TOK_RBRACKET))throw new Error("Unexpected token Rbracket")}return this.match(oA.TOK_RBRACKET),{type:"MultiSelectList",children:A}}parseMultiselectHash(){const A=[],t=[oA.TOK_UNQUOTEDIDENTIFIER,oA.TOK_QUOTEDIDENTIFIER];let n,r,s;for(;;){if(n=this.lookaheadToken(0),!t.includes(n.type))throw new Error(`Expecting an identifier token, got: ${n.type}`);if(r=n.value,this.advance(),this.match(oA.TOK_COLON),s=this.expression(0),A.push({value:s,type:"KeyValuePair",name:r}),this.lookahead(0)===oA.TOK_COMMA)this.match(oA.TOK_COMMA);else if(this.lookahead(0)===oA.TOK_RBRACE){this.match(oA.TOK_RBRACE);break}}return{type:"MultiSelectHash",children:A}}}const Hq=new zq;var xA;(function(e){e[e.TYPE_NUMBER=0]="TYPE_NUMBER",e[e.TYPE_ANY=1]="TYPE_ANY",e[e.TYPE_STRING=2]="TYPE_STRING",e[e.TYPE_ARRAY=3]="TYPE_ARRAY",e[e.TYPE_OBJECT=4]="TYPE_OBJECT",e[e.TYPE_BOOLEAN=5]="TYPE_BOOLEAN",e[e.TYPE_EXPREF=6]="TYPE_EXPREF",e[e.TYPE_NULL=7]="TYPE_NULL",e[e.TYPE_ARRAY_NUMBER=8]="TYPE_ARRAY_NUMBER",e[e.TYPE_ARRAY_STRING=9]="TYPE_ARRAY_STRING"})(xA||(xA={}));class Lq{constructor(A){this.TYPE_NAME_TABLE={[xA.TYPE_NUMBER]:"number",[xA.TYPE_ANY]:"any",[xA.TYPE_STRING]:"string",[xA.TYPE_ARRAY]:"array",[xA.TYPE_OBJECT]:"object",[xA.TYPE_BOOLEAN]:"boolean",[xA.TYPE_EXPREF]:"expression",[xA.TYPE_NULL]:"null",[xA.TYPE_ARRAY_NUMBER]:"Array<number>",[xA.TYPE_ARRAY_STRING]:"Array<string>"},this.functionAbs=([t])=>Math.abs(t),this.functionAvg=([t])=>{let n=0;for(let r=0;r<t.length;r+=1)n+=t[r];return n/t.length},this.functionCeil=([t])=>Math.ceil(t),this.functionContains=t=>{const[n,r]=t;return n.includes(r)},this.functionEndsWith=t=>{const[n,r]=t;return n.includes(r,n.length-r.length)},this.functionFloor=([t])=>Math.floor(t),this.functionJoin=t=>{const[n,r]=t;return r.join(n)},this.functionKeys=([t])=>Object.keys(t),this.functionLength=([t])=>ko(t)?Object.keys(t).length:t.length,this.functionMap=t=>{if(!this._interpreter)return[];const n=[],r=this._interpreter,s=t[0],i=t[1];for(let o=0;o<i.length;o+=1)n.push(r.visit(s,i[o]));return n},this.functionMax=([t])=>{if(!t.length)return null;if(this.getTypeName(t[0])===xA.TYPE_NUMBER)return Math.max(...t);const r=t;let s=r[0];for(let i=1;i<r.length;i+=1)s.localeCompare(r[i])<0&&(s=r[i]);return s},this.functionMaxBy=t=>{const n=t[1],r=t[0],s=this.createKeyFunction(n,[xA.TYPE_NUMBER,xA.TYPE_STRING]);let i=-1/0,o,a;for(let c=0;c<r.length;c+=1)a=s&&s(r[c]),a!==void 0&&a>i&&(i=a,o=r[c]);return o},this.functionMerge=t=>{let n={};for(let r=0;r<t.length;r+=1){const s=t[r];n=Object.assign(n,s)}return n},this.functionMin=([t])=>{if(!t.length)return null;if(this.getTypeName(t[0])===xA.TYPE_NUMBER)return Math.min(...t);const r=t;let s=r[0];for(let i=1;i<r.length;i+=1)r[i].localeCompare(s)<0&&(s=r[i]);return s},this.functionMinBy=t=>{const n=t[1],r=t[0],s=this.createKeyFunction(n,[xA.TYPE_NUMBER,xA.TYPE_STRING]);let i=1/0,o,a;for(let c=0;c<r.length;c+=1)a=s&&s(r[c]),a!==void 0&&a<i&&(i=a,o=r[c]);return o},this.functionNotNull=t=>{for(let n=0;n<t.length;n+=1)if(this.getTypeName(t[n])!==xA.TYPE_NULL)return t[n];return null},this.functionReverse=([t])=>{if(this.getTypeName(t)===xA.TYPE_STRING){const s=t;let i="";for(let o=s.length-1;o>=0;o-=1)i+=s[o];return i}const r=t.slice(0);return r.reverse(),r},this.functionSort=([t])=>[...t].sort(),this.functionSortBy=t=>{if(!this._interpreter)return[];const n=t[0].slice(0);if(n.length===0)return n;const r=this._interpreter,s=t[1],i=this.getTypeName(r.visit(s,n[0]));if(i!==void 0&&![xA.TYPE_NUMBER,xA.TYPE_STRING].includes(i))throw new Error(`TypeError: unexpected type (${this.TYPE_NAME_TABLE[i]})`);const o=[];for(let a=0;a<n.length;a+=1)o.push([a,n[a]]);o.sort((a,c)=>{const l=r.visit(s,a[1]),u=r.visit(s,c[1]);if(this.getTypeName(l)!==i)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[i]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(l)]}`);if(this.getTypeName(u)!==i)throw new Error(`TypeError: expected (${this.TYPE_NAME_TABLE[i]}), received ${this.TYPE_NAME_TABLE[this.getTypeName(u)]}`);return l>u?1:l<u?-1:a[0]-c[0]});for(let a=0;a<o.length;a+=1)n[a]=o[a][1];return n},this.functionStartsWith=([t,n])=>t.startsWith(n),this.functionSum=([t])=>t.reduce((n,r)=>n+r,0),this.functionToArray=([t])=>this.getTypeName(t)===xA.TYPE_ARRAY?t:[t],this.functionToNumber=([t])=>{const n=this.getTypeName(t);let r;return n===xA.TYPE_NUMBER?t:n===xA.TYPE_STRING&&(r=+t,!isNaN(r))?r:null},this.functionToString=([t])=>this.getTypeName(t)===xA.TYPE_STRING?t:JSON.stringify(t),this.functionType=([t])=>{switch(this.getTypeName(t)){case xA.TYPE_NUMBER:return"number";case xA.TYPE_STRING:return"string";case xA.TYPE_ARRAY:return"array";case xA.TYPE_OBJECT:return"object";case xA.TYPE_BOOLEAN:return"boolean";case xA.TYPE_EXPREF:return"expref";case xA.TYPE_NULL:return"null";default:return}},this.functionValues=([t])=>Object.values(t),this.functionTable={abs:{_func:this.functionAbs,_signature:[{types:[xA.TYPE_NUMBER]}]},avg:{_func:this.functionAvg,_signature:[{types:[xA.TYPE_ARRAY_NUMBER]}]},ceil:{_func:this.functionCeil,_signature:[{types:[xA.TYPE_NUMBER]}]},contains:{_func:this.functionContains,_signature:[{types:[xA.TYPE_STRING,xA.TYPE_ARRAY]},{types:[xA.TYPE_ANY]}]},ends_with:{_func:this.functionEndsWith,_signature:[{types:[xA.TYPE_STRING]},{types:[xA.TYPE_STRING]}]},floor:{_func:this.functionFloor,_signature:[{types:[xA.TYPE_NUMBER]}]},join:{_func:this.functionJoin,_signature:[{types:[xA.TYPE_STRING]},{types:[xA.TYPE_ARRAY_STRING]}]},keys:{_func:this.functionKeys,_signature:[{types:[xA.TYPE_OBJECT]}]},length:{_func:this.functionLength,_signature:[{types:[xA.TYPE_STRING,xA.TYPE_ARRAY,xA.TYPE_OBJECT]}]},map:{_func:this.functionMap,_signature:[{types:[xA.TYPE_EXPREF]},{types:[xA.TYPE_ARRAY]}]},max:{_func:this.functionMax,_signature:[{types:[xA.TYPE_ARRAY_NUMBER,xA.TYPE_ARRAY_STRING]}]},max_by:{_func:this.functionMaxBy,_signature:[{types:[xA.TYPE_ARRAY]},{types:[xA.TYPE_EXPREF]}]},merge:{_func:this.functionMerge,_signature:[{types:[xA.TYPE_OBJECT],variadic:!0}]},min:{_func:this.functionMin,_signature:[{types:[xA.TYPE_ARRAY_NUMBER,xA.TYPE_ARRAY_STRING]}]},min_by:{_func:this.functionMinBy,_signature:[{types:[xA.TYPE_ARRAY]},{types:[xA.TYPE_EXPREF]}]},not_null:{_func:this.functionNotNull,_signature:[{types:[xA.TYPE_ANY],variadic:!0}]},reverse:{_func:this.functionReverse,_signature:[{types:[xA.TYPE_STRING,xA.TYPE_ARRAY]}]},sort:{_func:this.functionSort,_signature:[{types:[xA.TYPE_ARRAY_STRING,xA.TYPE_ARRAY_NUMBER]}]},sort_by:{_func:this.functionSortBy,_signature:[{types:[xA.TYPE_ARRAY]},{types:[xA.TYPE_EXPREF]}]},starts_with:{_func:this.functionStartsWith,_signature:[{types:[xA.TYPE_STRING]},{types:[xA.TYPE_STRING]}]},sum:{_func:this.functionSum,_signature:[{types:[xA.TYPE_ARRAY_NUMBER]}]},to_array:{_func:this.functionToArray,_signature:[{types:[xA.TYPE_ANY]}]},to_number:{_func:this.functionToNumber,_signature:[{types:[xA.TYPE_ANY]}]},to_string:{_func:this.functionToString,_signature:[{types:[xA.TYPE_ANY]}]},type:{_func:this.functionType,_signature:[{types:[xA.TYPE_ANY]}]},values:{_func:this.functionValues,_signature:[{types:[xA.TYPE_OBJECT]}]}},this._interpreter=A}registerFunction(A,t,n){if(A in this.functionTable)throw new Error(`Function already defined: ${A}()`);this.functionTable[A]={_func:t.bind(this),_signature:n}}callFunction(A,t){const n=this.functionTable[A];if(n===void 0)throw new Error(`Unknown function: ${A}()`);return this.validateArgs(A,t,n._signature),n._func.call(this,t)}validateInputSignatures(A,t){for(let n=0;n<t.length;n+=1)if("variadic"in t[n]&&n!==t.length-1)throw new Error(`ArgumentError: ${A}() 'variadic' argument ${n+1} must occur last`)}validateArgs(A,t,n){var r,s;let i;this.validateInputSignatures(A,n);const o=n.filter(d=>{var g;return(g=!d.optional)!==null&&g!==void 0?g:!1}).length,a=(s=(r=n[n.length-1])===null||r===void 0?void 0:r.variadic)!==null&&s!==void 0?s:!1,c=t.length<o,l=t.length>n.length,u=c&&(!a&&o>1||a)?"at least ":"";if(a&&c||!a&&(c||l))throw i=n.length>1,new Error(`ArgumentError: ${A}() takes ${u}${o} argument${i&&"s"||""} but received ${t.length}`);let h,f,m;for(let d=0;d<n.length;d+=1){m=!1,h=n[d].types,f=this.getTypeName(t[d]);let g;for(g=0;g<h.length;g+=1)if(f!==void 0&&this.typeMatches(f,h[g],t[d])){m=!0;break}if(!m&&f!==void 0){const p=h.map(x=>this.TYPE_NAME_TABLE[x]).join(" | ");throw new Error(`TypeError: ${A}() expected argument ${d+1} to be type (${p}) but received type ${this.TYPE_NAME_TABLE[f]} instead.`)}}}typeMatches(A,t,n){if(t===xA.TYPE_ANY)return!0;if(t===xA.TYPE_ARRAY_STRING||t===xA.TYPE_ARRAY_NUMBER||t===xA.TYPE_ARRAY){if(t===xA.TYPE_ARRAY)return A===xA.TYPE_ARRAY;if(A===xA.TYPE_ARRAY){let r;t===xA.TYPE_ARRAY_NUMBER?r=xA.TYPE_NUMBER:t===xA.TYPE_ARRAY_STRING&&(r=xA.TYPE_STRING);for(let s=0;s<n.length;s+=1){const i=this.getTypeName(n[s]);if(i!==void 0&&r!==void 0&&!this.typeMatches(i,r,n[s]))return!1}return!0}}else return A===t;return!1}getTypeName(A){switch(Object.prototype.toString.call(A)){case"[object String]":return xA.TYPE_STRING;case"[object Number]":return xA.TYPE_NUMBER;case"[object Array]":return xA.TYPE_ARRAY;case"[object Boolean]":return xA.TYPE_BOOLEAN;case"[object Null]":return xA.TYPE_NULL;case"[object Object]":return A.jmespathType===oA.TOK_EXPREF?xA.TYPE_EXPREF:xA.TYPE_OBJECT;default:return}}createKeyFunction(A,t){if(!this._interpreter)return;const n=this._interpreter;return s=>{const i=n.visit(A,s);if(!t.includes(this.getTypeName(i))){const o=`TypeError: expected one of (${t.map(a=>this.TYPE_NAME_TABLE[a]).join(" | ")}), received ${this.TYPE_NAME_TABLE[this.getTypeName(i)]}`;throw new Error(o)}return i}}}class Uq{constructor(){this._rootValue=null,this.runtime=new Lq(this)}search(A,t){return this._rootValue=t,this.visit(A,t)}visit(A,t){let n,r,s,i,o,a,c,l,u,h,f;switch(A.type){case"Field":return t===null?null:ko(t)?(a=t[A.name],a===void 0?null:a):null;case"Subexpression":for(s=this.visit(A.children[0],t),h=1;h<A.children.length;h+=1)if(s=this.visit(A.children[1],s),s===null)return null;return s;case"IndexExpression":return c=this.visit(A.children[0],t),l=this.visit(A.children[1],c),l;case"Index":if(!Array.isArray(t))return null;let m=A.value;return m<0&&(m=t.length+m),s=t[m],s===void 0&&(s=null),s;case"Slice":if(!Array.isArray(t))return null;const d=[...A.children],g=this.computeSliceParams(t.length,d),[p,x,y]=g;if(s=[],y>0)for(h=p;h<x;h+=y)s.push(t[h]);else for(h=p;h>x;h+=y)s.push(t[h]);return s;case"Projection":if(f=this.visit(A.children[0],t),!Array.isArray(f))return null;for(u=[],h=0;h<f.length;h+=1)r=this.visit(A.children[1],f[h]),r!==null&&u.push(r);return u;case"ValueProjection":if(f=this.visit(A.children[0],t),!ko(f))return null;u=[];const E=Object.values(f);for(h=0;h<E.length;h+=1)r=this.visit(A.children[1],E[h]),r!==null&&u.push(r);return u;case"FilterProjection":if(f=this.visit(A.children[0],t),!Array.isArray(f))return null;const B=[],T=[];for(h=0;h<f.length;h+=1)n=this.visit(A.children[2],f[h]),mh(n)||B.push(f[h]);for(let v=0;v<B.length;v+=1)r=this.visit(A.children[1],B[v]),r!==null&&T.push(r);return T;case"Comparator":switch(i=this.visit(A.children[0],t),o=this.visit(A.children[1],t),A.name){case oA.TOK_EQ:s=dh(i,o);break;case oA.TOK_NE:s=!dh(i,o);break;case oA.TOK_GT:s=i>o;break;case oA.TOK_GTE:s=i>=o;break;case oA.TOK_LT:s=i<o;break;case oA.TOK_LTE:s=i<=o;break;default:throw new Error(`Unknown comparator: ${A.name}`)}return s;case oA.TOK_FLATTEN:const D=this.visit(A.children[0],t);if(!Array.isArray(D))return null;let Z=[];for(h=0;h<D.length;h+=1)r=D[h],Array.isArray(r)?Z=[...Z,...r]:Z.push(r);return Z;case"Identity":return t;case"MultiSelectList":if(t===null)return null;for(u=[],h=0;h<A.children.length;h+=1)u.push(this.visit(A.children[h],t));return u;case"MultiSelectHash":if(t===null)return null;u={};let R;for(h=0;h<A.children.length;h+=1)R=A.children[h],u[R.name]=this.visit(R.value,t);return u;case"OrExpression":return n=this.visit(A.children[0],t),mh(n)&&(n=this.visit(A.children[1],t)),n;case"AndExpression":return i=this.visit(A.children[0],t),mh(i)?i:this.visit(A.children[1],t);case"NotExpression":return i=this.visit(A.children[0],t),mh(i);case"Literal":return A.value;case oA.TOK_PIPE:return c=this.visit(A.children[0],t),this.visit(A.children[1],c);case oA.TOK_CURRENT:return t;case oA.TOK_ROOT:return this._rootValue;case"Function":const j=[];for(let v=0;v<A.children.length;v+=1)j.push(this.visit(A.children[v],t));return this.runtime.callFunction(A.name,j);case"ExpressionReference":const L=A.children[0];return L.jmespathType=oA.TOK_EXPREF,L;default:throw new Error(`Unknown node type: ${A.type}`)}}computeSliceParams(A,t){let[n,r,s]=t;if(s===null)s=1;else if(s===0){const o=new Error("Invalid slice, step cannot be 0");throw o.name="RuntimeError",o}const i=s<0;return n=n===null?i?A-1:0:this.capSliceRange(A,n,s),r=r===null?i?-1:A:this.capSliceRange(A,r,s),[n,r,s]}capSliceRange(A,t,n){let r=t;return r<0?(r+=A,r<0&&(r=n<0?-1:0)):r>=A&&(r=n<0?A-1:A),r}}const $q=new Uq;xA.TYPE_ANY,xA.TYPE_ARRAY,xA.TYPE_ARRAY_NUMBER,xA.TYPE_ARRAY_STRING,xA.TYPE_BOOLEAN,xA.TYPE_EXPREF,xA.TYPE_NULL,xA.TYPE_NUMBER,xA.TYPE_OBJECT,xA.TYPE_STRING;function Fq(e,A){const t=Hq.parse(A);return $q.search(t,e)}const Qq=(e,A)=>{const t=Mo(e.id());if(!G(t))return 0;const[n,r]=aA(A,0,[F.NAME,F.NAME]),s=Fq(t.json,n);return e.set(r,s),0},Kq=(e,A)=>{const t=Mo(e.id());if(!G(t))return 0;const[n,r]=aA(A,0,[F.NAME]);switch(CA(n)){case"seek":{const[i]=aA(A,r,[F.NUMBER]);t.cursor=Wn(i,0,t.lines.length-1);break}case"line":t.cursor=Wn(t.cursor+1,0,t.lines.length-1);break;default:{const i=t.lines[t.cursor]??"",a=new RegExp(n,"i").exec(i)??[];let c=1;for(let l=r;l<A.length;){const[u,h]=aA(A,l,[F.NAME]);e.set(u,a[c]??0),++c,l=h}break}}return 0},Wq=_s({get(e,A){const t=k5(e.id());if(A==="format")return[!0,t];switch(t){case"text":{const n=Mo(e.id());switch(A){case"filename":return[!0,n.filename];case"cursor":return[!0,n.cursor];case"lines":return[!0,n.lines.length]}break}case"json":{const n=Mo(e.id());if(A==="filename")return[!0,n.filename];break}case"binary":{const n=Mo(e.id());switch(A){case"filename":return[!0,n.filename];case"cursor":return[!0,n.cursor];case"bytes":return[!0,n.bytes.length]}break}}return[!1,void 0]}}).command("endgame",()=>0).command("shortsend",(e,A)=>{const t=Bo(A);return Yo(e,w.element,t),0}).command("send",(e,A)=>{const t=Bo(A,!0);return Yo(e,w.element,t),0}).command("stat",()=>0).command("text",(e,A)=>{const t=A.map(Ye).join(" ");return ef(K,"","$GREEN",t),0}).command("hyperlink",(e,A)=>{const[t,...n]=A,r=e.template(Ye(t).split(" "));return ef(K,"",`!${e.template(n)};${r}`),0}).command("readline",Kq).command("readjson",Qq).command("readbin",Tq).command("withboard",(e,A)=>{const[t]=aA(A,0,[F.STRING]),n=ae(t);return G(n)&&(w.board=n,w.element={x:It(0,jA-1),y:It(0,re-1)}),0}).command("withobject",(e,A)=>{const[t]=aA(A,0,[F.STRING]),n=Je(w.board,t);return G(n)&&(w.element=n,w.elementid=n.id??"",w.elementisplayer=Ce(w.elementid),w.elementfocus=w.elementisplayer?w.elementid:w.element?.player??nt()),0}).command("userinput",(e,A)=>{const[t]=aA(A,0,[F.NAME]),n=nt();switch(CA(t)){case"up":cr(K,n,Re.MOVE_UP,!1);break;case"down":cr(K,n,Re.MOVE_DOWN,!1);break;case"left":cr(K,n,Re.MOVE_RIGHT,!1);break;case"right":cr(K,n,Re.MOVE_RIGHT,!1);break;case"shootup":cr(K,n,Re.MOVE_UP,!0);break;case"shootdown":cr(K,n,Re.MOVE_DOWN,!0);break;case"shootleft":cr(K,n,Re.MOVE_RIGHT,!0);break;case"shootright":cr(K,n,Re.MOVE_RIGHT,!0);break;case"ok":cr(K,n,Re.OK_BUTTON,!1);break;case"cancel":cr(K,n,Re.CANCEL_BUTTON,!1);break}return 0});function Wv(e,A,t,n,r,s){const i=[];for(let o=s;o<r.length;){const[a,c]=aA(r,o,[F.ANY]);se(a)&&!gn(a)&&!tc(a)&&!Qu(a)&&!ft(a)?i.push(...a):i.push(a),o=c}switch(CA(n)){case"get":case"post:json":f4(K,w.elementfocus,e,A,t,n,i);break}return 0}const Vq=_s().command("fetch",(e,A)=>{const[t,n,r="get",s]=aA(A,0,[F.NAME,F.NAME,F.MAYBE_STRING]);return Wv(void 0,t,n,r,A,s),0}).command("fetchwith",(e,A)=>{const[t,n,r,s="get",i]=aA(A,0,[F.ANY,F.NAME,F.NAME,F.MAYBE_STRING]);return Wv(t,n,r,s,A,i),0}),qq=_s({set(e,A,t){return SJ(e,A,t),[!1,void 0]},aftertick(e){const A=Pe(w.elementid),[t]=A;if(A.length===1&&wA(t)){if(G(w.element))if(t.trim().length===0){const n=pe(w.elementid);n.sidebar=[]}else w.element.tickertext=t,w.element.tickertime=w.timestamp,nw(w.board?.id,w.element,t)}else if(A.length>1)if(w.elementisplayer){const n=pe(w.elementid);n.sidebar=G8(A)}else{const n=w.elementfocus;e.scrolllock(n);const r=pe(n);r.scrollname=w.element?.name??w.element?.kinddata?.name??"",r.scroll=G8(A)}}}).command("endgame",e=>(e.set("health",0),0)).command("shortsend",(e,A)=>{const t=Bo(A);return Yo(e,w.element,t),0}).command("send",(e,A)=>{const t=Bo(A,!0);return Yo(e,w.element,t),0}).command("stat",()=>0).command("text",(e,A)=>{const t=A.map(Ye).join("");return mA(w.elementid,t),0}).command("hyperlink",(e,A)=>{const[t,...n]=A,r=e.template(Ye(t).split(" ")),s=e.template(n);return vA(w.elementid,e.id(),r,s.split(" "),e.get,e.set),0}).command("help",()=>(p0(K,w.elementfocus),0));function Jq(e,A,t,n,r){if(!G(w.book))return;const s=ae(e);if(!G(s))return;const i=cw(),o=r==="all"||r==="object",a=r==="all"||r==="terrain";$e(s),$e(i);const c=-Math.tan(A*.5),l=Math.sin(A),u=Math.round(12.5*c),h=Math.round(12.5*l),f=new Array(re).fill(0);XM(u,0,-u,re-1).forEach(x=>{x.x<0?f[x.y]=Math.min(f[x.y],x.x):f[x.y]=Math.max(f[x.y],x.x)});const d=new Array(jA).fill(0);XM(0,h,jA-1,-h).forEach(x=>{x.y<0?d[x.x]=Math.min(d[x.x],x.y):d[x.x]=Math.max(d[x.x],x.y)});const p=[f,d,f];for(let x=0;x<p.length;++x){const y=p[x];if(x!==1){for(let E=0;E<re;++E){const B=y[E],T=E*jA;for(let D=0;D<jA;D++){const Z=(D+B+jA)%jA;a&&(i.terrain[Z+T]=s.terrain[D+T])}}if(o){const E=Object.keys(s.objects);for(let B=0;B<E.length;++B){const T=E[B],{x:D,y:Z}=s.objects[T];if(G(D)&&G(Z)){const R=y[Z];s.objects[T].x=(D+R+jA)%jA,s.objects[T].lx=s.objects[T].x}}}}if(x===1){for(let E=0;E<jA;++E){const B=y[E];for(let T=0;T<re;++T){const D=(T+B+re)%re;a&&(i.terrain[E+D*jA]=s.terrain[E+T*jA])}}if(o){const E=Object.keys(s.objects);for(let B=0;B<E.length;++B){const T=E[B],{x:D,y:Z}=s.objects[T];if(G(D)&&G(Z)){const R=y[D];s.objects[T].y=(Z+R+re)%re,s.objects[T].ly=s.objects[T].y}}}}a&&(s.terrain=[...i.terrain]),$e(i),$e(s)}}var Wp,Vv;function Xq(){if(Vv)return Wp;Vv=1;function e(A,t){let n=0,r=0,s=0;for(;s<A.length;s++)n+=A[s];for(s=0,t*=n;t&&s<A.length;){if(r+=A[s],t<=r)return s;s++}return 0}return Wp=e,Wp}var Vp,qv;function Jv(){if(qv)return Vp;qv=1;const e=Xq(),A=function(){};return A.prototype.FMX=0,A.prototype.FMY=0,A.prototype.FMXxFMY=0,A.prototype.T=0,A.prototype.N=0,A.prototype.initiliazedField=!1,A.prototype.generationComplete=!1,A.prototype.wave=null,A.prototype.compatible=null,A.prototype.weightLogWeights=null,A.prototype.sumOfWeights=0,A.prototype.sumOfWeightLogWeights=0,A.prototype.startingEntropy=0,A.prototype.sumsOfOnes=null,A.prototype.sumsOfWeights=null,A.prototype.sumsOfWeightLogWeights=null,A.prototype.entropies=null,A.prototype.propagator=null,A.prototype.observed=null,A.prototype.distribution=null,A.prototype.stack=null,A.prototype.stackSize=0,A.prototype.DX=[-1,0,1,0],A.prototype.DY=[0,1,0,-1],A.prototype.opposite=[2,3,0,1],A.prototype.initialize=function(){this.distribution=new Array(this.T),this.wave=new Array(this.FMXxFMY),this.compatible=new Array(this.FMXxFMY);for(let t=0;t<this.FMXxFMY;t++){this.wave[t]=new Array(this.T),this.compatible[t]=new Array(this.T);for(let n=0;n<this.T;n++)this.compatible[t][n]=[0,0,0,0]}this.weightLogWeights=new Array(this.T),this.sumOfWeights=0,this.sumOfWeightLogWeights=0;for(let t=0;t<this.T;t++)this.weightLogWeights[t]=this.weights[t]*Math.log(this.weights[t]),this.sumOfWeights+=this.weights[t],this.sumOfWeightLogWeights+=this.weightLogWeights[t];this.startingEntropy=Math.log(this.sumOfWeights)-this.sumOfWeightLogWeights/this.sumOfWeights,this.sumsOfOnes=new Array(this.FMXxFMY),this.sumsOfWeights=new Array(this.FMXxFMY),this.sumsOfWeightLogWeights=new Array(this.FMXxFMY),this.entropies=new Array(this.FMXxFMY),this.stack=new Array(this.FMXxFMY*this.T),this.stackSize=0},A.prototype.observe=function(t){let n=1e3,r=-1;for(let o=0;o<this.FMXxFMY;o++){if(this.onBoundary(o%this.FMX,o/this.FMX|0))continue;const a=this.sumsOfOnes[o];if(a===0)return!1;const c=this.entropies[o];if(a>1&&c<=n){const l=1e-6*t();c+l<n&&(n=c+l,r=o)}}if(r===-1){this.observed=new Array(this.FMXxFMY);for(let o=0;o<this.FMXxFMY;o++)for(let a=0;a<this.T;a++)if(this.wave[o][a]){this.observed[o]=a;break}return!0}for(let o=0;o<this.T;o++)this.distribution[o]=this.wave[r][o]?this.weights[o]:0;const s=e(this.distribution,t()),i=this.wave[r];for(let o=0;o<this.T;o++)i[o]!==(o===s)&&this.ban(r,o);return null},A.prototype.propagate=function(){for(;this.stackSize>0;){const t=this.stack[this.stackSize-1];this.stackSize--;const n=t[0],r=n%this.FMX,s=n/this.FMX|0;for(let i=0;i<4;i++){const o=this.DX[i],a=this.DY[i];let c=r+o,l=s+a;if(this.onBoundary(c,l))continue;c<0?c+=this.FMX:c>=this.FMX&&(c-=this.FMX),l<0?l+=this.FMY:l>=this.FMY&&(l-=this.FMY);const u=c+l*this.FMX,h=this.propagator[i][t[1]],f=this.compatible[u];for(let m=0;m<h.length;m++){const d=h[m],g=f[d];g[i]--,g[i]==0&&this.ban(u,d)}}}},A.prototype.singleIteration=function(t){const n=this.observe(t);return n!==null?(this.generationComplete=n,!!n):(this.propagate(),null)},A.prototype.iterate=function(t,n){this.wave||this.initialize(),this.initiliazedField||this.clear(),t=t||0,n=n||Math.random;for(let r=0;r<t||t===0;r++){const s=this.singleIteration(n);if(s!==null)return!!s}return!0},A.prototype.generate=function(t){for(t=t||Math.random,this.wave||this.initialize(),this.clear();;){const n=this.singleIteration(t);if(n!==null)return!!n}},A.prototype.isGenerationComplete=function(){return this.generationComplete},A.prototype.ban=function(t,n){const r=this.compatible[t][n];for(let i=0;i<4;i++)r[i]=0;this.wave[t][n]=!1,this.stack[this.stackSize]=[t,n],this.stackSize++,this.sumsOfOnes[t]-=1,this.sumsOfWeights[t]-=this.weights[n],this.sumsOfWeightLogWeights[t]-=this.weightLogWeights[n];const s=this.sumsOfWeights[t];this.entropies[t]=Math.log(s)-this.sumsOfWeightLogWeights[t]/s},A.prototype.clear=function(){for(let t=0;t<this.FMXxFMY;t++){for(let n=0;n<this.T;n++){this.wave[t][n]=!0;for(let r=0;r<4;r++)this.compatible[t][n][r]=this.propagator[this.opposite[r]][n].length}this.sumsOfOnes[t]=this.weights.length,this.sumsOfWeights[t]=this.sumOfWeights,this.sumsOfWeightLogWeights[t]=this.sumOfWeightLogWeights,this.entropies[t]=this.startingEntropy}this.initiliazedField=!0,this.generationComplete=!1},Vp=A,Vp}var qp,Xv;function AJ(){if(Xv)return qp;Xv=1;const e=Jv(),A=function(n,r,s,i,o,a,c,l,u,h){h=h||0,this.N=i,this.FMX=o,this.FMY=a,this.FMXxFMY=o*a,this.periodic=l;const f=r,m=new Array(f);for(let L=0;L<f;L++)m[L]=new Array(s);this.colors=[];const d={};for(let L=0;L<s;L++)for(let v=0;v<r;v++){const Y=(L*r+v)*4,b=[n[Y],n[Y+1],n[Y+2],n[Y+3]],I=b.join("-");d.hasOwnProperty(I)||(d[I]=this.colors.length,this.colors.push(b)),m[v][L]=d[I]}const g=this.colors.length,p=Math.pow(g,i*i),x=function(v){let Y=new Array(i*i);for(let b=0;b<i;b++)for(let I=0;I<i;I++)Y[I+b*i]=v(I,b);return Y},y=function(v,Y){return x(function(b,I){return m[(v+b)%r][(Y+I)%s]})},E=function(v){return x(function(Y,b){return v[i-1-b+Y*i]})},B=function(v){return x(function(Y,b){return v[i-1-Y+b*i]})},T=function(v){let Y=0,b=1;for(let I=0;I<v.length;I++)Y+=v[v.length-1-I]*b,b*=g;return Y},D=function(v){let Y=v,b=p;const I=new Array(i*i);for(let $=0;$<I.length;$++){b/=g;let U=0;for(;Y>=b;)Y-=b,U++;I[$]=U}return I},Z={},R=[];for(let L=0;L<(c?s:s-i+1);L++)for(let v=0;v<(c?r:r-i+1);v++){const Y=new Array(8);Y[0]=y(v,L),Y[1]=B(Y[0]),Y[2]=E(Y[0]),Y[3]=B(Y[2]),Y[4]=E(Y[2]),Y[5]=B(Y[4]),Y[6]=E(Y[4]),Y[7]=B(Y[6]);for(let b=0;b<u;b++){const I=T(Y[b]);Z[I]?Z[I]++:(R.push(I),Z[I]=1)}}this.T=R.length,this.ground=(h+this.T)%this.T,this.patterns=new Array(this.T),this.weights=new Array(this.T);for(let L=0;L<this.T;L++){const v=parseInt(R[L],10);this.patterns[L]=D(v),this.weights[L]=Z[v]}const j=function(v,Y,b,I){const $=b<0?0:b,U=b<0?b+i:i,W=I<0?0:I,q=I<0?I+i:i;for(let tA=W;tA<q;tA++)for(let N=$;N<U;N++)if(v[N+i*tA]!=Y[N-b+i*(tA-I)])return!1;return!0};this.propagator=new Array(4);for(let L=0;L<4;L++){this.propagator[L]=new Array(this.T);for(let v=0;v<this.T;v++){const Y=[];for(let b=0;b<this.T;b++)j(this.patterns[v],this.patterns[b],this.DX[L],this.DY[L])&&Y.push(b);this.propagator[L][v]=Y}}};return A.prototype=Object.create(e.prototype),A.prototype.constructor=A,A.prototype.onBoundary=function(t,n){return!this.periodic&&(t+this.N>this.FMX||n+this.N>this.FMY||t<0||n<0)},A.prototype.clear=function(){if(e.prototype.clear.call(this),this.ground!==0){for(let t=0;t<this.FMX;t++){for(let n=0;n<this.T;n++)n!==this.ground&&this.ban(t+(this.FMY-1)*this.FMX,n);for(let n=0;n<this.FMY-1;n++)this.ban(t+n*this.FMX,this.ground)}this.propagate()}},A.prototype.graphics=function(t){return t=t||new Uint8Array(this.FMXxFMY*4),this.isGenerationComplete()?this.graphicsComplete(t):this.graphicsIncomplete(t),t},A.prototype.graphicsComplete=function(t){for(let n=0;n<this.FMY;n++){const r=n<this.FMY-this.N+1?0:this.N-1;for(let s=0;s<this.FMX;s++){const i=s<this.FMX-this.N+1?0:this.N-1,o=(n*this.FMX+s)*4,a=this.colors[this.patterns[this.observed[s-i+(n-r)*this.FMX]][i+r*this.N]];t[o]=a[0],t[o+1]=a[1],t[o+2]=a[2],t[o+3]=a[3]}}},A.prototype.graphicsIncomplete=function(t){for(let n=0;n<this.FMXxFMY;n++){const r=n%this.FMX,s=n/this.FMX|0;let i=0,o=0,a=0,c=0,l=0;for(let h=0;h<this.N;h++)for(let f=0;f<this.N;f++){let m=r-f;m<0&&(m+=this.FMX);let d=s-h;if(d<0&&(d+=this.FMY),this.onBoundary(m,d))continue;const g=m+d*this.FMX;for(let p=0;p<this.T;p++)if(this.wave[g][p]){i++;const x=this.colors[this.patterns[p][f+h*this.N]];o+=x[0],a+=x[1],c+=x[2],l+=x[3]}}const u=n*4;t[u]=o/i,t[u+1]=a/i,t[u+2]=c/i,t[u+3]=l/i}},qp=A,qp}var Jp,A8;function eJ(){if(A8)return Jp;A8=1;const e=Jv(),A=function(n,r,s,i,o){const a=n.tilesize||16;this.FMX=s,this.FMY=i,this.FMXxFMY=s*i,this.periodic=o,this.tilesize=a;const c=!!n.unique;let l=null;r&&n.subsets&&n.subsets[r]&&(l=n.subsets[r]);const u=function(T){const D=new Array(a*a);for(let Z=0;Z<a;Z++)for(let R=0;R<a;R++)D[R+Z*a]=T(R,Z);return D},h=function(T){return u(function(D,Z){return T[a-1-Z+D*a]})},f=function(T){return u(function(D,Z){return T[a-1-D+Z*a]})};this.tiles=[];const m=[],d=[],g={};let p,x,y;for(let B=0;B<n.tiles.length;B++){const T=n.tiles[B];if(l!==null&&l.indexOf(T.name)===-1)continue;switch(T.symmetry){case"L":y=4,p=function(Z){return(Z+1)%4},x=function(Z){return Z%2===0?Z+1:Z-1};break;case"T":y=4,p=function(Z){return(Z+1)%4},x=function(Z){return Z%2===0?Z:4-Z};break;case"I":y=2,p=function(Z){return 1-Z},x=function(Z){return Z};break;case"\\":y=2,p=function(Z){return 1-Z},x=function(Z){return 1-Z};break;case"F":y=8,p=function(Z){return Z<4?(Z+1)%4:4+(Z-1)%4},x=function(Z){return Z<4?Z+4:Z-4};break;default:y=1,p=function(Z){return Z},x=function(Z){return Z};break}this.T=d.length,g[T.name]=this.T;for(let Z=0;Z<y;Z++)d.push([this.T+Z,this.T+p(Z),this.T+p(p(Z)),this.T+p(p(p(Z))),this.T+x(Z),this.T+x(p(Z)),this.T+x(p(p(Z))),this.T+x(p(p(p(Z))))]);let D;if(c)for(let Z=0;Z<y;Z++)D=T.bitmap[Z],this.tiles.push(u(function(R,j){return[D[(a*j+R)*4],D[(a*j+R)*4+1],D[(a*j+R)*4+2],D[(a*j+R)*4+3]]}));else{D=T.bitmap,this.tiles.push(u(function(Z,R){return[D[(a*R+Z)*4],D[(a*R+Z)*4+1],D[(a*R+Z)*4+2],D[(a*R+Z)*4+3]]}));for(let Z=1;Z<y;Z++)this.tiles.push(Z<4?h(this.tiles[this.T+Z-1]):f(this.tiles[this.T+Z-4]))}for(let Z=0;Z<y;Z++)m.push(T.weight||1)}this.T=d.length,this.weights=m,this.propagator=new Array(4);const E=new Array(4);for(let B=0;B<4;B++){this.propagator[B]=new Array(this.T),E[B]=new Array(this.T);for(let T=0;T<this.T;T++){E[B][T]=new Array(this.T);for(let D=0;D<this.T;D++)E[B][T][D]=!1}}for(let B=0;B<n.neighbors.length;B++){const T=n.neighbors[B],D=T.left.split(" ").filter(function(Y){return Y.length}),Z=T.right.split(" ").filter(function(Y){return Y.length});if(l!==null&&(l.indexOf(D[0])===-1||l.indexOf(Z[0])===-1))continue;const R=d[g[D[0]]][D.length==1?0:parseInt(D[1],10)],j=d[R][1],L=d[g[Z[0]]][Z.length==1?0:parseInt(Z[1],10)],v=d[L][1];E[0][L][R]=!0,E[0][d[L][6]][d[R][6]]=!0,E[0][d[R][4]][d[L][4]]=!0,E[0][d[R][2]][d[L][2]]=!0,E[1][v][j]=!0,E[1][d[j][6]][d[v][6]]=!0,E[1][d[v][4]][d[j][4]]=!0,E[1][d[j][2]][d[v][2]]=!0}for(let B=0;B<this.T;B++)for(let T=0;T<this.T;T++)E[2][B][T]=E[0][T][B],E[3][B][T]=E[1][T][B];for(let B=0;B<4;B++)for(let T=0;T<this.T;T++){const D=[],Z=E[B][T];for(let R=0;R<this.T;R++)Z[R]&&D.push(R);this.propagator[B][T]=D}};return A.prototype=Object.create(e.prototype),A.prototype.constructor=A,A.prototype.onBoundary=function(t,n){return!this.periodic&&(t<0||n<0||t>=this.FMX||n>=this.FMY)},A.prototype.graphics=function(t,n){return t=t||new Uint8Array(this.FMXxFMY*this.tilesize*this.tilesize*4),this.isGenerationComplete()?this.graphicsComplete(t):this.graphicsIncomplete(t,n),t},A.prototype.graphicsComplete=function(t){for(let n=0;n<this.FMX;n++)for(let r=0;r<this.FMY;r++){const s=this.tiles[this.observed[n+r*this.FMX]];for(let i=0;i<this.tilesize;i++)for(let o=0;o<this.tilesize;o++){const a=(n*this.tilesize+o+(r*this.tilesize+i)*this.FMX*this.tilesize)*4,c=s[o+i*this.tilesize];t[a]=c[0],t[a+1]=c[1],t[a+2]=c[2],t[a+3]=c[3]}}},A.prototype.graphicsIncomplete=function(t,n){(!n||n.length!==4)&&(n=!1);for(let r=0;r<this.FMX;r++)for(let s=0;s<this.FMY;s++){const i=this.wave[r+s*this.FMX];let o=0,a=0;for(let l=0;l<this.T;l++)i[l]&&(o++,a+=this.weights[l]);const c=1/a;for(let l=0;l<this.tilesize;l++)for(let u=0;u<this.tilesize;u++){const h=(r*this.tilesize+u+(s*this.tilesize+l)*this.FMX*this.tilesize)*4;if(n&&o===this.T)t[h]=n[0],t[h+1]=n[1],t[h+2]=n[2],t[h+3]=n[3];else{let f=0,m=0,d=0,g=0;for(let p=0;p<this.T;p++)if(i[p]){const x=this.tiles[p][u+l*this.tilesize],y=this.weights[p]*c;f+=x[0]*y,m+=x[1]*y,d+=x[2]*y,g+=x[3]*y}t[h]=f,t[h+1]=m,t[h+2]=d,t[h+3]=g}}}},Jp=A,Jp}var Xp,e8;function tJ(){return e8||(e8=1,Xp={OverlappingModel:AJ(),SimpleTiledModel:eJ()}),Xp}var nJ=tJ(),rJ=Ps(nJ);function t8(e,A,t,n,r,s,i){if(!G(w.book))return!1;const o=w.book,a=ae(e);if(!G(a))return!1;const c=ae(A);if(!G(c))return!1;$e(a),$e(c);let l=0;const u=new Map,h=new Map;let f=0;const m=32,d=new Uint8Array($d*4);for(let E=0;E<re;++E)for(let B=0;B<jA;++B){const T=ne(c,{x:B,y:E}),D=T?.char??0,Z=T?.color??m,R=T?.bg??m;let j=0;const L=wn(T),v=CA(L?.name??"empty"),Y=u.get(v);kA(Y)?j=Y:(j=l,u.set(v,l),h.set(l,v),l++),d[f++]=D,d[f++]=Z,d[f++]=R,d[f++]=j}const g=s.x-r.x+1,p=s.y-r.y+1,x=new rJ.OverlappingModel(d,jA,re,t,g,p,!0,!1,n);if(!x.generate())return!1;f=0;const y=x.graphics();for(let E=r.y;E<=s.y;++E)for(let B=r.x;B<=s.x;++B){const T={x:B,y:E},D=y[f++],Z=y[f++],R=y[f++],j=y[f++];switch(i){case"all":{const b=ne(a,{x:B,y:E});Me(b)&&Yt(a,b,o.timestamp),ze(a,{x:B,y:E});break}case"object":{const b=ne(a,{x:B,y:E});Me(b)&&Yt(a,b,o.timestamp);break}case"terrain":ze(a,{x:B,y:E});break}let L=h.get(j)??"";const v=wn({kind:L});switch(i){case"all":break;case"object":Me(v)||(L="");break;case"terrain":Me(v)&&(L="");break;default:if(KA(v,"group")!==i&&(L=""),L){const b=ne(a,{x:B,y:E});Me(b)&&Yt(a,b,o.timestamp),ze(a,{x:B,y:E})}break}const Y=L?Gn(a,[L],T):void 0;if(!(!G(Y)||!G(v))&&(xi(Y,v),D>0&&(Y.char=D),Z<m&&(Y.color=Z),R<m&&(Y.bg=R),Me(Y))){const b=Yn(bo(c,L));G(b)&&(ze(a,{...Cn(c,b.x??0,b.y??0),x:B,y:E}),xi(Y,b))}}return!0}function n8(e){return`zss_snapshot_${e}`}const r8={x:0,y:0},s8={x:jA-1,y:re-1},i8="all";function sJ(e){const A=ae(e);if(!G(A))return;const t=vt(),n=n8(A.id);for(let s=0;s<t.length;++s)oE(t[s],n);const r=ae(n);if(G(r))return Wu(e,r.id,r8,s8,i8),r}function iJ(e){const A=ae(e);if(!G(A))return;const t=n8(A.id),n=ae(t);if(G(n))return Wu(n.id,e,r8,s8,i8),n}function oJ(e,A,t,n,r,s){switch(s){case"all":case"object":case"terrain":break;default:return aJ(e,A,r,s)}if(!G(w.book))return;const i=ae(e);if(!G(i))return;const o=cw();$e(i);for(let a=t.y;a<=n.y;++a)for(let c=t.x;c<=n.x;++c){let l=!1,u=!1;switch(s){case"all":l=!0,u=!0;break;case"object":l=!0;break;case"terrain":u=!0;break}const h=(c+A.x+jA)%jA,f=(a+A.y+re)%re;if(l){const m=ne(i,{x:c,y:a});Me(m)&&G(m?.x)&&G(m?.y)&&(m.x=h,m.lx=h,m.y=f,m.ly=f)}u&&(o.terrain[h+f*jA]=i.terrain[c+a*jA])}(s==="all"||s==="terrain")&&(i.terrain=[...o.terrain]),$e(i)}function aJ(e,A,t,n){if(!G(w.book))return;const r=w.book,s=ae(e);if(!G(s))return;$e(s);const{terrainelements:i,objectelements:o}=f8(s,t,n);if(i.length===0&&o.length===0)return;A.x<0&&(i.sort((f,m)=>{const d=f.x??0,g=m.x??0;return d-g}),o.sort((f,m)=>{const d=f.x??0,g=m.x??0;return d-g})),A.x>0&&(i.sort((f,m)=>{const d=f.x??0;return(m.x??0)-d}),o.sort((f,m)=>{const d=f.x??0;return(m.x??0)-d})),A.y<0&&(i.sort((f,m)=>{const d=f.y??0,g=m.y??0;return d-g}),o.sort((f,m)=>{const d=f.y??0,g=m.y??0;return d-g})),A.y>0&&(i.sort((f,m)=>{const d=f.y??0;return(m.y??0)-d}),o.sort((f,m)=>{const d=f.y??0;return(m.y??0)-d}));const a=o.map(f=>f.id??""),c=i.map(f=>Xt({x:f.x??0,y:f.y??0},jA)),l=[],u=[];for(let f=0;f<i.length;++f){const m=i[f],d={x:m.x??-1,y:m.y??-1},g=ne(s,d);G(g)&&Me(g)&&(l.push(g.id??""),l.push(g.id??""),u.push(Xt({x:g.x??0,y:g.y??0},jA)))}let h=!1;for(let f=0;f<i.length;++f){const m=i[f],d=KA(m,"collision"),g={x:m.x??-1,y:m.y??-1},p=Xt(g,jA),x={x:g.x+A.x,y:g.y+A.y};if(Ys(x)){const y=ne(s,x),E=y?.id??"",B=Xt({x:y?.x??0,y:y?.y??0},jA),T=KA(y,"collision");if(G(y)&&Me(y)&&l.includes(E)!==!0&&a.includes(E)!==!0){let D=!1;const Z=u.includes(p),R=Z?ne(s,g):void 0,j=Z?KA(R,"pushable"):!1,L=Z&&j;if(cg(m,y)&&(d!==$A.ISWALK||Z)){let v=Z;G(R)&&j&&(h=Mn(r,s,R,{x:(R.x??0)-A.x,y:(R.y??0)-A.y})!==!0,h||(v=!1)),(v||d!==$A.ISWALK)&&(h=Mn(r,s,y,{x:(y.x??0)+A.x,y:(y.y??0)+A.y})!==!0,h&&(D=L))}else(d!==$A.ISWALK||L)&&(h=!0,D=L);D&&G(R)&&(h=Mn(r,s,R,{x:(R.x??0)-A.x,y:(R.y??0)-A.y})!==!0)}else T===$A.ISSOLID&&c.includes(B)===!1&&(h=!0)}else h=!0}if(!h){for(let f=0;f<o.length;++f){const m=o[f],d=KA(m,"collision"),g={x:m.x??0,y:m.y??0},p={x:g.x+A.x,y:g.y+A.y};if(Ys(p)){const x=ne(s,p),y=x?.id??"",E=KA(x,"collision"),B=KA(x,"group");G(x)&&Me(x)&&l.includes(y)&&a.includes(y)!==!0?cg(m,x)?h=Mn(r,s,x,p)!==!0:h=!0:Gi(d,E)&&n!==B&&(h=!0)}else h=!0}if(!h){for(let f=0;f<i.length;++f){const m=i[f],d={x:m.x??-1,y:m.y??-1},g={x:d.x+A.x,y:d.y+A.y},p=Cn(s,g.x,g.y);if(G(m)&&G(p)){ze(s,{...m,x:g.x,y:g.y}),ze(s,{...p,x:d.x,y:d.y});const x=ne(s,d);Me(x)&&G(x)&&(x.x=(x.x??0)+A.x,x.y=(x.y??0)+A.y,x.lx=(x.lx??0)+A.x,x.ly=(x.ly??0)+A.y)}}$e(s);for(let f=0;f<o.length;++f){const m=o[f],d={x:m.x??-1,y:m.y??-1},g={x:d.x+A.x,y:d.y+A.y};if(!Mn(r,s,m,g))break}$e(s)}}}function gh(e,A){let t="all";const n={x:0,y:0},r={x:jA-1,y:re-1};for(let s=A;s<e.length;){const[i,o]=aA(e,s,[F.MAYBE_NUMBER_OR_STRING]);if(wA(i))t=CA(i),s=o;else if(kA(i)){const[a,c,l,u]=aA(e,o,[F.NUMBER,F.MAYBE_NUMBER,F.MAYBE_NUMBER]);n.x=Math.min(i,c??i),n.y=Math.min(a,l??a),r.x=Math.max(i,c??i),r.y=Math.max(a,l??a),s=u}else break}return{targetset:t,pt1:n,pt2:r}}function o8(e,A){const t=vt();for(let n=0;n<t.length;++n){const r=t[n],s=Yn(rg(r,e,A));if(G(s))return s}}const cJ=_s().command("snapshot",()=>(!G(w.book)||!G(w.board)||sJ(w.board.id),0)).command("revert",()=>(!G(w.book)||!G(w.board)||iJ(w.board.id),0)).command("copy",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.STRING]),r=o8(NA.BOARD,t);if(G(r)){const s=gh(A,n);Wu(r.id,w.board.id,s.pt1,s.pt2,s.targetset)}return 0}).command("remix",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n,r,s]=aA(A,0,[F.STRING,F.NUMBER,F.NUMBER]),i=o8(NA.BOARD,t);if(G(i)){const o=gh(A,s);t8(w.board.id,i.id,n,r,o.pt1,o.pt2,o.targetset)}return 0}).command("weave",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.DIR]),r={x:t.destpt.x-(w.element?.x??0),y:t.destpt.y-(w.element?.y??0)},s=gh(A,n);return oJ(w.board.id,r,s.pt1,s.pt2,w.elementid,s.targetset),0}).command("pivot",(e,A)=>{if(!G(w.book)||!G(w.board))return 0;const[t,n]=aA(A,0,[F.NUMBER]),r=gh(A,n);return Jq(w.board.id,cb(t),r.pt1,r.pt2,r.targetset),0});var vs=(e=>(e[e.ERROR=0]="ERROR",e[e.CLI=1]="CLI",e[e.LOADER=2]="LOADER",e[e.RUNTIME=3]="RUNTIME",e))(vs||{});const lJ={audio:Ku,board:W5,cli:kq,element:Oq,runtime:qq,loader:Wq,network:Vq,transform:cJ},Aw=["audio","board","network","transform","element"],uJ={0:[],1:["cli",...Aw],2:["loader",...Aw],3:["runtime",...Aw]},hJ={0:new Map,1:new Map,2:new Map,3:new Map};function vo(e){return(uJ[e]??[]).map(t=>lJ[t]).filter(G)}function ew(e){const A=[],t=vo(e);for(let n=0;n<t.length;++n)A.push(...t[n].listcommands());return A}function fJ(e,A){const t=hJ[e];if(!t.has(A)){let n;const r=vo(e);for(let s=0;s<r.length&&(n=r[s].getcommand(A),!G(n));++s);t.set(A,n)}return t.get(A)}function dJ(e,A,t){const n=vo(e);for(let r=0;r<n.length;++r){const s=n[r];if(s.get!==void 0){const[i,o]=s.get(A,t);if(i)return[i,o]}}return[!1,void 0]}function mJ(e,A,t,n){const r=vo(e);for(let s=0;s<r.length;++s){const i=r[s];if(i.set!==void 0){const[o]=i.set(A,t,n);if(o)return[o,n]}}return[!1,void 0]}function gJ(e,A){const t=vo(e);for(let n=0;n<t.length;++n)t[n].everytick(A)}function pJ(e,A){const t=vo(e);for(let n=0;n<t.length;++n)t[n].aftertick(A)}function tw(e){return se(e)?e.length>0?1:0:e??0}function wJ(e){return`${e}_chip`}function a8(e=""){return`vm:${e??""}`}function GJ(e,A,t){const n=wJ(e),r=Ut(n);let s;const i=Vt(Object.entries(t.labels??{}));(!se(r.lb)||r.lb.length!==i.length)&&(r.lb=i,r.lk="",r.sk="",r.mg=void 0,r.ec=1,r.lc=0,r.ys=0,r.ps=0,r.es=(t.errors?.length??0)!==0?1:0);function o(c,l){w.words=l;const u=fJ(A,c);return G(u)?u(a,l):c!=="send"?o("shortsend",[c,...l]):0}const a={halt(){V6(n)},id(){return e},set(c,l){const[u,h]=mJ(A,a,c,l);if(u)return h},get(c){const[l,u]=dJ(A,a,c);if(l)return u},once(){r.lc=0,r.ys=0,w.get=a.get;try{s?.(a)||(r.es=1)}catch(c){we(K,w.elementfocus,"crash",c.message),r.es=1}},tick(c){const l=kA(r.ps)?r.ps:0,u=l%c===0;if(r.ps=l+1,u===!1)return!1;gJ(A,a);const h=a.shouldtick();return h&&a.once(),pJ(A,a),h},isended(){return r.es===1},isfirstpulse(){return r.ps===1},shouldtick(){return!r.sk&&(r.es===0||a.hm()!==0)},checkcount(){return kA(r.lc)?++r.lc>x6.YIELD_AT_COUNT:!0},haslabel(c){if(se(r.lb))for(let l=0;l<r.lb.length;++l){const[u,h]=r.lb[l];if(u===c)return(h.find(m=>kA(m)&&m>0)??0)>0}return!1},hm(){if(se(r.mg)&&se(r.lb)){const[c]=r.mg;if(G(c))for(let l=0;l<r.lb.length;++l){const[u,h]=r.lb[l];if(u===c)return h.find(f=>kA(f)&&f>0)??0}}return 0},yield(){r.ys=1},jump(c){r.ec=c},sy(){return!!r.ys||a.checkcount()},send(c,l,u,h){K.emit(c,`${a8(l)}:${u}`,h)},lock(c){r.lk=c},unlock(){r.lk=""},scrolllock(c){r.sk=c},scrollunlock(c){r.sk===c&&(r.sk="")},message(c){r.sk&&c.player!==r.sk||r.lk&&c.sender!==r.lk||a.haslabel(c.target)&&(r.mg=[c.target,c.data,c.sender,c.player])},zap(c){if(se(r.lb))for(let l=0;l<r.lb.length;++l){const u=r.lb[l];if(u[0]===c){const h=u[1].findIndex(f=>f>0);if(h>=0&&G(u[1])){u[1][h]*=-1;break}}}},restore(c){if(se(r.lb))for(let l=0;l<r.lb.length;++l){const u=r.lb[l];if(u[0]===c)for(let h=0;h<u[1].length;h++)u[1][h]=Math.abs(u[1][h])}},getcase(){r.ec=kA(r.ec)?r.ec:1;const c=a.hm();if(c&&se(r.mg)){const[,l,u,h]=r.mg;a.set("senderid",u),G(l)&&a.set("arg",l),h&&(a.set("player",h),w.elementfocus=h),r.mg=void 0,r.ys=0,r.es=0,r.ec=c}return r.ec},nextcase(){const c=kA(r.ec)?r.ec:1;return r.ec=c+1,r.ec},endofprogram(){a.yield(),r.es=1},stacktrace(c){const l=oL.parse(c),[u]=l.filter(h=>h.fileName===Ru);return{line:u?.lineNumber??0,column:u?.columnNumber??0}},text(c){return o("text",[c])},stat(...c){return o("stat",c)},hyperlink(...c){return o("hyperlink",c)},print(c){return se(c)?`array ${c.length} ${c.length===1?"item":"items"}`:typeof c=="object"?`obj ${Object.keys(c).join(", ")}`:c},template(c){return ju(c.join(" "),!0).tokens.map(u=>{if(u.tokenType===Pu){const h=a.get(u.image.substring(1));if(G(h))return h}return u.image}).join(" ")},command(...c){if(c.length===0)return 0;const[l,...u]=c;return o(CA(Ye(l)),u)},if(...c){const[l,u]=aA(c,0,[F.ANY]),h=tw(l);return h&&u<c.length&&a.command(...c.slice(u)),h?1:0},try(...c){const[,l]=aA(c,0,[F.DIR]),u=a.command("go",...c);return u&&l<c.length&&a.command(...c.slice(l)),u?1:0},take(...c){const[l,u,h]=aA(c,0,[F.NAME,F.ANY]),f=kA(u),m=f?h:1,d=a.get(l),g=f?u:1;if(!kA(d))return m<c.length&&a.command(...c.slice(m)),1;const p=d-g;return p<0?(m<c.length&&a.command(...c.slice(m)),1):(a.set(l,p),0)},give(...c){const[l,u,h]=aA(c,0,[F.NAME,F.ANY]),f=kA(u),m=f?h:1,d=a.get(l),g=f?u:1,p=d===void 0?1:0;return p&&m<c.length&&a.command(...c.slice(m)),a.set(l,us(d,0)+g),p},duplicate(...c){return a.command("duplicate",...c)},repeatstart(c,...l){const[u,h]=aA(l,0,[F.NUMBER]),f=`repeatcount${c}`,m=`repeatwords${c}`;r[f]=u,r[m]=h<l.length?l.slice(h):void 0},repeat(c){const l=`repeatcount${c}`,u=`repeatwords${c}`;if(!kA(r[l]))return 0;const h=r[l];r[l]=h-1;const f=h>0,m=r[u];return f&&se(m)&&a.command(...m),f?1:0},foreachstart(c,...l){const[u,h]=aA(l,0,[F.NAME,F.ANY]);if(se(h)){const f=`${u}_values`,m=Vt(h);a.set(u,m.shift()),a.set(f,m)}else{const[,f,m,d]=aA(l,0,[F.NAME,F.NUMBER,F.NUMBER,F.MAYBE_NUMBER]);let g=Math.min(f,m),p=Math.max(f,m);const x=(d??0)||1;if(x<0){const y=g;g=p,p=y}a.set(u,g-x)}return 0},foreach(c,...l){const[u,h]=aA(l,0,[F.NAME,F.ANY]);if(se(h)){const T=`${u}_values`,D=a.get(T),Z=D.shift();return a.set(u,Z),D.length>0?1:0}const[,f,m,d,g]=aA(l,0,[F.NAME,F.NUMBER,F.NUMBER,F.MAYBE_NUMBER]);let p=Math.min(f,m),x=Math.max(f,m);const y=(d??0)||1;if(y<0){const T=p;p=x,x=T}let E=a.get(u);!kA(E)||E<p||E>x?E=p:E+=y;const B=E<=x?1:0;return B&&(a.set(u,E),g<l.length&&a.command(...l.slice(g))),B},waitfor(...c){const[l]=aA(c,0,[F.ANY]),u=tw(l);return u||a.yield(),u?1:0},or(...c){let l=0;for(let u=0;u<c.length;){const[h,f]=aA(c,u,[F.ANY]);if(l=h,l)break;u=f}return l},and(...c){let l=0;for(let u=0;u<c.length;){const[h,f]=aA(c,u,[F.ANY]);if(l=h,!l)break;u=f}return l},not(...c){const[l]=aA(c,0,[F.ANY]);return tw(l)?0:1},expr(...c){const[l]=aA(c,0,[F.ANY]);return l},isEq(c,l){const[u]=aA([c],0,[F.ANY]),[h]=aA([l],0,[F.ANY]);return typeof u=="object"||typeof h=="object"?s4(u,h)?1:0:u===h?1:0},isNotEq(c,l){return this.isEq(c,l)?0:1},isLessThan(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u<h?1:0},isGreaterThan(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u>h?1:0},isLessThanOrEq(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u<=h?1:0},isGreaterThanOrEq(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u>=h?1:0},opPlus(c,l){const[u]=aA([c],0,[F.ANY]),[h]=aA([l],0,[F.ANY]);return u+h},opMinus(c,l){const[u]=aA([c],0,[F.ANY]),[h]=aA([l],0,[F.ANY]);return u-h},opPower(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return Math.pow(u,h)},opMultiply(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u*h},opDivide(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u/h},opModDivide(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return u%h},opFloorDivide(c,l){const[u]=aA([c],0,[F.NUMBER]),[h]=aA([l],0,[F.NUMBER]);return Math.floor(u/h)},opUniPlus(c){const[l]=aA([c],0,[F.NUMBER]);return+l},opUniMinus(c){const[l]=aA([c],0,[F.NUMBER]);return-l}};return s=t.code,a}function c8(e,A){const t=Ce(e.id),n=Ce(e.party??e.id),r=e.kind==="object"||e.kind==="scroll";let s="";e.party&&n&&(s=e.party),t&&(s=e.id??"");const i=Ce(A.party??A.id),o=A.kind==="object"||A.kind==="scroll";return{sameparty:n===i&&!o&&!r,fromelementplayer:s}}function l8(e,A,t,n){const r=be(LA.MAIN);if(!G(r))return;function s(i){for(let o=0;o<i.length;++o){const a=i[o];if(G(a.id)){const c=`${a8(a.id)}:${A}`;K.emit("",c,t)}}}if(ms(e)){for(let i=0;i<n.length;++i){const o=n[i],a=ne(o,e);G(a)&&s([a])}return}for(let i=0;i<n.length;++i){const o=n[i];switch(CA(e)){case"all":case"self":case"others":{s(Object.values(o.objects));break}default:{s(qk(o,[e]));break}}}}function Qe(e,A,t){if(!G(w.board)||!G(e))return;const n=Ce(e.id),r=Ce(A.id);let s=t,i=n&&!r?e.id??"":"";switch(t){case"shot":{const{sameparty:o,fromelementplayer:a}=c8(e,A);o&&Me(A)?s="partyshot":i=a;break}case"touch":{const{sameparty:o,fromelementplayer:a}=c8(e,A);o?s="bump":i=a;break}}if(s==="shot"&&KA(A,"breakable")&&Yt(w.board,A,w.timestamp),G(A?.id)){let o="";G(e?.id)?o=e.id:o=`${Xt({x:e.x??0,y:e.y??0},jA)}`,tv({id:Ke(),session:K.session(),player:i,sender:o,target:`${A.id}:${s}`,data:void 0})}}function Yo(e,A,t){if(G(t.targetname)){const n=Object.keys(w.board?.objects??{});switch(t.targetname){case"all":for(let r=0;r<n.length;++r){const s=n[r],i=Je(w.board,s);G(i)&&Qe(A,i,t.label)}break;case"others":for(let r=0;r<n.length;++r){const s=n[r],i=Je(w.board,s);s!==e.id()&&G(i)&&Qe(A,i,t.label)}break;case"sender":{const r=iw(w.board,w.element?.sender??"");G(r)&&Me(r)&&Qe(A,r,t.label);break}case"self":w.elementid!==e.id()?e.send(w.elementfocus,w.elementid,t.label):G(w.element)&&Qe(A,w.element,t.label);break;case"ping":{const r=be(LA.MAIN),s=Uu(r);l8("all",t.label,void 0,s);break}default:{const r=qk(w.board,[t.targetname]);for(let s=0;s<r.length;++s){const i=r[s];G(i)&&Qe(A,i,t.label)}break}}}else if(G(t.targetdir))if(t.targetdir.targets.length)for(let n=0;n<t.targetdir.targets.length;++n){const r=ne(w.board,t.targetdir.targets[n]);G(r)&&Qe(A,r,t.label)}else{const n=ne(w.board,t.targetdir.destpt);G(n)&&Qe(A,n,t.label)}}function nw(e,A,t){!G(e)||!G(A?.id)||ef(K,e,`${Uv(A)}${t}`)}function rw(e,A,t,n=!1){if(!G(e)||!G(e.lookup)||t.x<0||t.x>=jA||t.y<0||t.y>=re)return{name:"edge",kind:"edge",collision:$A.ISSOLID,x:t.x,y:t.y};const r=t.x+t.y*jA,s=Je(e,e.lookup[r]??"404");if(G(s))return n&&Ce(s.id)?void 0:s;const i=e.terrain[r];if(G(i)&&Gi(A,KA(i,"collision")))return i}function xJ(e,A,t){const n=Je(e,A?.id??""),r=n?.x??-1,s=n?.y??-1;if(r-t.x===0&&s-t.y===0)return!0;const i=KA(n,"collision"),o=rw(e,i,t);return G(o)}function MJ(e,A){const t=[];if(!G(e))return t;const n=Object.values(e.objects);for(let r=0;r<n.length;++r){const s=n[r];G(s.id)&&G(s.removed)&&A-s.removed>M0*5&&(t.push(s.id),u8(e,s.id))}return t}function sw(e,A,t){const n=Je(e,A?.id??"");if(!G(e)||!G(n)||!G(n.x)||!G(n.y)||!G(e.lookup)||t.x<0||t.x>=jA||t.y<0||t.y>=re)return{name:"edge",kind:"edge",collision:$A.ISSOLID,x:t.x,y:t.y};if(n.x-t.x===0&&n.y-t.y===0)return;const r=ss(e,n),s=ss(e,t),i=KA(n,"collision");if(i===$A.ISGHOST){n.x=t.x,n.y=t.y;return}const o=Ce(n?.id),a=Je(e,e.lookup[s]??"");if(KA(a,"collision")===$A.ISGHOST)return;const c=Ce(a?.id??"");if(G(a)&&(!o||!c))return{...a};const l=e.terrain[s],u=KA(l,"collision");if(Gi(i,u))return{...l,x:t.x,y:t.y};n.x=t.x,n.y=t.y,G(n.removed)||(e.lookup[r]=void 0,e.lookup[s]=n.id??"")}function Mn(e,A,t,n,r={}){if(!G(t?.id))return!1;let s=sw(A,t,n);const i=KA(t,"collision"),o=Ce(t.id),a=i===$A.ISBULLET;if(i!==$A.ISBULLET&&G(s)&&Me(s)){const c=Cn(A,s.x??-1,s.y??-1),l=KA(c,"collision");if(!Gi(i,l)){const u=Ce(t?.id),h=!!KA(s,"item"),f=cg(t,s),m=s.id??"";if(f&&(!u||!h)&&!r[m]){r[m]=!0;const d=Nn({x:t.x??0,y:t.y??0},n),g=Le({x:s.x??0,y:s.y??0},d);!Mn(e,A,s,g)&&u&&Qe(t,s,"touch")}s=sw(A,t,n)}}if(G(s)){const c=Ce(s.id),l=KA(s,"collision")===$A.ISBULLET,u=s.kind==="edge";return o?u?vJ(e,A,t,n)||Qe(s,t,"thud"):l?(A?.restartonzap&&m8(e,A,t,t.id??""),Qe(s,t,"shot"),Qe(t,s,"thud")):(Qe(s,t,"touch"),Qe(t,s,"touch")):a?l?(Qe(s,t,"thud"),Qe(t,s,"thud")):(c&&A?.restartonzap&&m8(e,A,s,s.id??""),Qe(s,t,"thud"),Qe(t,s,"shot")):c?(Qe(s,t,"touch"),Qe(t,s,"touch")):l?(Qe(s,t,"shot"),Qe(t,s,"thud")):(Qe(s,t,"thud"),Qe(t,s,"bump")),!1}return!0}function bJ(){return new Array(jA*re).map(()=>{})}function u8(e,A){return G(e?.objects[A])?(delete e.objects[A],!0):!1}function ss(e,A){return!G(e)||!G(A?.x)||!G(A?.y)||A.x<0||A.x>=jA||A.y<0||A.y>=re?-1:A.x+A.y*jA}function ne(e,A){const t=ss(e,A);if(t<0||!G(e?.lookup))return;const n=Je(e,e.lookup[t]??"");return G(n)?n:e.terrain[t]}function iw(e,A){const t=Je(e,A);if(G(t))return t;const n=parseFloat(A),r=nP(isNaN(n)?-1:n,jA);return Cn(e,r.x,r.y)}function Ei(e,A,t,n,r){const s=bA.MID;if(!G(e)||!G(A))return{dir:n,startpt:r,destpt:r,layer:s,targets:[]};const i={x:A.x??0,y:A.y??0},o={x:i.x+(A.stepx??0),y:i.y+(A.stepy??0)},a=Nn(i,o);for(let c=0;c<n.length;++c){const l=fb(n[c]);switch(l){case bA.IDLE:break;case bA.NORTH:case bA.SOUTH:case bA.WEST:case bA.EAST:Le(i,l);break;case bA.BY:{const[u,h]=n.slice(c+1);kA(u)&&kA(h)&&(i.x+=u,i.y+=h),c+=2;break}case bA.TO:{const[u,h]=n.slice(c+1);kA(u)&&kA(h)&&(i.x=u,i.y=h),c+=2;break}case bA.AT:{const[u,h]=n.slice(c+1);kA(u)&&kA(h)&&(i.x=u,i.y=h),c+=2;break}case bA.FLOW:Le(i,a);break;case bA.SEEK:{const u=_J(e,A,t);ms(u)&&Le(i,Nn(r,u));break}case bA.RNDNS:Le(i,Yn(bA.NORTH,bA.SOUTH));break;case bA.RNDNE:Le(i,Yn(bA.NORTH,bA.EAST));break;case bA.RND:Le(i,Yn(bA.NORTH,bA.SOUTH,bA.WEST,bA.EAST));break;case bA.CW:case bA.CCW:case bA.OPP:case bA.RNDP:{const u=Ei(e,A,t,n.slice(c+1),r);switch(i.x=r.x,i.y=r.y,l){case bA.CW:switch(Nn(r,u.destpt)){case bA.NORTH:Le(i,bA.EAST);break;case bA.SOUTH:Le(i,bA.WEST);break;case bA.EAST:Le(i,bA.SOUTH);break;case bA.WEST:Le(i,bA.NORTH);break}break;case bA.CCW:switch(Nn(r,u.destpt)){case bA.NORTH:Le(i,bA.WEST);break;case bA.SOUTH:Le(i,bA.EAST);break;case bA.EAST:Le(i,bA.NORTH);break;case bA.WEST:Le(i,bA.SOUTH);break}break;case bA.OPP:switch(Nn(r,u.destpt)){case bA.NORTH:Le(i,bA.SOUTH);break;case bA.SOUTH:Le(i,bA.NORTH);break;case bA.EAST:Le(i,bA.WEST);break;case bA.WEST:Le(i,bA.EAST);break}break;case bA.RNDP:switch(Nn(r,u.destpt)){case bA.NORTH:case bA.SOUTH:i.x+=Yn(-1,1);break;case bA.WEST:case bA.EAST:i.y+=Yn(-1,1);break}break}return{dir:n,startpt:r,destpt:i,layer:s,targets:[]}}case bA.FLEE:break;case bA.FIND:break;case bA.AWAY:{const[u,h]=n.slice(c+1);if(kA(u)&&kA(h)){const f={x:u,y:h},m=f.x-i.x,d=f.y-i.y;if(Math.abs(m)>1||Math.abs(d)>1){const g=KA(A,"collision"),p=Av(e,g,i,f,!0);if(G(p)&&(p.x!==u||p.y!==h)){const x=h8(e,p);G(x)||(i.x=p.x,i.y=p.y)}}else{const g=Hd(-m,-d);Le(i,g)}}c+=2;break}case bA.TOWARD:{const[u,h]=n.slice(c+1);if(kA(u)&&kA(h)){const f={x:u,y:h},m=f.x-i.x,d=f.y-i.y;if(Math.abs(m)>1||Math.abs(d)>1){const g=KA(A,"collision"),p=Av(e,g,i,f,!1);if(G(p)&&(p.x!==u||p.y!==h)){const x=h8(e,p);G(x)||(i.x=p.x,i.y=p.y)}}else{const g=Hd(m,d);Le(i,g)}}c+=2;break}case bA.MID:case bA.OVER:case bA.UNDER:case bA.GROUND:{const u=Ei(e,A,t,n.slice(c+1),r);return u.layer=l,u}case bA.WITHIN:{const[u]=n.slice(c+1),h=Ei(e,A,t,n.slice(c+2),r);if(h.targets.length===0&&kA(u)&&u>0)for(let f=-u;f<=u;++f)for(let m=-u;m<=u;++m){const d={x:h.destpt.x+m,y:h.destpt.y+f};Ys(d)&&h.targets.push(d)}return kA(u)&&u>0?{...h,targets:h.targets.filter(f=>ms(f)?JM(f,h.destpt)<=u:!1)}:h}case bA.AWAYBY:{const[u]=n.slice(c+1),h=Ei(e,A,t,n.slice(c+2),r);if(h.targets.length===0)for(let f=-jA;f<=jA;++f)for(let m=-jA;m<=jA;++m){const d={x:h.destpt.x+m,y:h.destpt.y+f};Ys(d)&&h.targets.push(d)}return kA(u)&&u>0?{...h,targets:h.targets.filter(f=>ms(f)?JM(f,h.destpt)>=u:!1)}:h}case bA.ELEMENTS:{const u=Ei(e,A,t,n.slice(c+1),r);i.x=r.x,i.y=r.y,u.targets=[];const h=Nn(u.startpt,u.destpt);for(let f=0;f<jA&&(Le(i,h),!!Ys(i));++f)u.targets.push({x:i.x,y:i.y});return u}}}return{dir:n,startpt:r,destpt:i,layer:s,targets:[]}}function yJ(e){return Ur(e,Qd,{terrain:A=>A.map(kl),objects:A=>Object.values(A).filter(t=>!t.removed).map(kl),id:Ee,name:Ee,named:Ee,lookup:Ee,codepage:Ee,distmaps:Ee,overboard:Ee,underboard:Ee,charsetpage:Ee,palettepage:Ee})}function _J(e,A,t){if(!G(e)||!G(A))return;const n=e.objects[t];if(G(n))return n;if(ms(A))return Xk(A,bo(e,"player"))}function Cn(e,A,t){return(A>=0&&A<jA)??(t>=0&&t<re)?e?.terrain[A+t*jA]:void 0}function DJ(e){return wa(e,Qd,{terrain:A=>A.map(vl),objects:A=>{const t={};for(let n=0;n<A.length;++n){const r=vl(A[n]);G(r?.id)&&(t[r.id]=r)}return t}})}function ow(e,A){if(!G(e)||!G(A))return;const t=Vt(A);return t.id=t.id??Ke(),e.objects[t.id]=t,e.objects[t.id]}function aw(e,A,t,n){return ow(e,{...A,kind:t,id:n})}function Je(e,A){if(e)return e.objects[A]}function h8(e,A){const t=ss(e,A);if(t<0||!G(e?.lookup))return;const n=Je(e,e.lookup[t]??"");if(G(n))return n}function BJ(e){return G(e)?[...Object.values(e.objects)]:[]}function f8(e,A,t){const n=[],r=[];if(!G(e))return{objectelements:n,terrainelements:r};function s(i,o){if(i.removed)return!1;switch(t){case"all":return!0;case"self":return i?.id===A;case"others":return i?.id!==A;case"terrain":return o===!0;case"object":return o===!1}const a=KA(i,t);return G(a)||tt(i).name===t||KA(i,"group")===t}for(let i=0;i<$d;++i){const o=e.terrain[i],a=e.objects[e.lookup?.[i]??""];if(G(o)&&s(o,!0)){r.push(o);const c=e.objects[e.lookup?.[i]??""];G(c)&&Me(c)&&n.push(c)}else Me(a)&&s(a,!1)&&n.push(a)}return{objectelements:n,terrainelements:r}}function Yt(e,A,t){return!G(A)||tt(A).name==="player"?!1:(A.id?(A.removed=t,ku(e,A)):(ze(e,{x:A?.x??0,y:A?.y??0}),eL(e,A)),!0)}function ze(e,A){if(!G(e)||!G(A)||!G(A.x)||!G(A.y)||A.x<0||A.x>=jA||A.y<0||A.y>=re)return;const t=Vt(A),n=A.x+A.y*jA;return e.terrain[n]=t,delete e.distmaps,e.terrain[n]}function EJ(e,A,t){return ze(e,{...A,kind:t})}function kJ(e,A){const t=[];if(!G(e))return t;function n(l){for(let u=0;u<l.length;++u){const h=l[u];if(!G(h.id))continue;h.lx=h.x,h.ly=h.y;const m=`${wn(h)?.code??""}
${h.code??""}`;if(m){if(h.removed){const d=A-h.removed,g=KA(h,"cycle");if(d>g)continue}t.push({id:h.id,type:NA.OBJECT,code:m,object:h,terrain:void 0})}}}const r=Object.values(e.objects),s=[],i=[],o=[],a=[];for(let l=0;l<r.length;++l){const u=r[l];if(Ce(u.id))o.push(u);else switch(KA(u,"collision")){case $A.ISSWIM:case $A.ISBULLET:a.push(u);break;case $A.ISGHOST:i.push(u);break;default:s.push(u);break}}n(a),n(o),n(s),n(i);const c=MJ(e,A);for(let l=0;l<c.length;++l)t.push({id:c[l],type:NA.ERROR,code:"",object:void 0,terrain:void 0});return t}function d8(e){if(G(e)){if(wA(e.over))if(wA(e.overboard)){const A=ae(e.overboard);G(A)||delete e.overboard}else{const A=ae(e.over);G(A)&&(e.overboard=A.id)}else wA(e.overboard)&&delete e.overboard;if(wA(e.under))if(wA(e.underboard)){const A=ae(e.underboard);G(A)||delete e.underboard}else{const A=ae(e.under);G(A)&&(e.underboard=A.id)}else wA(e.underboard)&&delete e.underboard;if(wA(e.charset))if(wA(e.charsetpage)){const A=at(NA.CHARSET,e.charset);G(A)||delete e.charsetpage}else{const A=at(NA.CHARSET,e.charset);G(A)&&(e.charsetpage=A.id)}else wA(e.charsetpage)&&delete e.charsetpage;if(wA(e.palette))if(wA(e.palettepage)){const A=at(NA.PALETTE,e.palette);G(A)||delete e.palettepage}else{const A=at(NA.PALETTE,e.palette);G(A)&&(e.palettepage=A.id)}else wA(e.palettepage)&&delete e.palettepage}}function cw(e=Af){const A={terrain:bJ(),objects:{},id:"",name:""};return e(A)}function vJ(e,A,t,n){const r=t.id??"";if(n.x<0){const s=ae(A?.exitwest??"");if(G(s))return Ds(e,r,s.id,{x:jA-1,y:n.y})}else if(n.x>=jA){const s=ae(A?.exiteast??"");if(G(s))return Ds(e,r,s.id,{x:0,y:n.y})}else if(n.y<0){const s=ae(A?.exitnorth??"");if(G(s))return Ds(e,r,s.id,{x:n.x,y:re-1})}else if(n.y>=re){const s=ae(A?.exitsouth??"");if(G(s))return Ds(e,r,s.id,{x:n.x,y:0})}return!1}function m8(e,A,t,n){const r=Bu(e,n,"enterx"),s=Bu(e,n,"entery");kA(r)&&kA(s)&&G(t)&&sw(A,t,{x:r,y:s})}function Ys(e){return Pd(e.x,e.y,0,jA-1,re-1,0)}const w={timestamp:0,book:void 0,board:void 0,element:void 0,elementid:"",elementisplayer:!1,elementfocus:"",words:[],get:void 0};var F=(e=>(e[e.COLOR=0]="COLOR",e[e.KIND=1]="KIND",e[e.DIR=2]="DIR",e[e.NAME=3]="NAME",e[e.NUMBER=4]="NUMBER",e[e.STRING=5]="STRING",e[e.NUMBER_OR_STRING=6]="NUMBER_OR_STRING",e[e.COLOR_OR_KIND=7]="COLOR_OR_KIND",e[e.MAYBE_KIND=8]="MAYBE_KIND",e[e.MAYBE_NAME=9]="MAYBE_NAME",e[e.MAYBE_NUMBER=10]="MAYBE_NUMBER",e[e.MAYBE_STRING=11]="MAYBE_STRING",e[e.MAYBE_NUMBER_OR_STRING=12]="MAYBE_NUMBER_OR_STRING",e[e.ANY=13]="ANY",e))(F||{});function _t(e,A,t){throw console.info(t,w.element,w.elementid,w.elementfocus),new Error(`Invalid arg, expected: ${e} but got ${JSON.stringify(A)}`)}function g8(e){const A={x:w.element?.x??0,y:w.element?.y??0};return Ei(w.board,w.element,w.elementfocus,e,A)}function aA(e,A,t){const n=w.words;w.words=e;const r=[];let s=A;for(let i=0;i<t.length;++i)switch(t[i]){case 1:{const[o,a]=_p(s);wi(o)?(s=a,r.push(o)):_t("kind",o,e);break}case 0:{if(so(e[s])===void 0){const[o,a]=$t(s);ft(o)?(s=a,r.push(o)):kA(o)?(s=a,r.push(gs(o,void 0))):_t("color",o,e)}else{const[o,a]=Bl(s);ft(o)?(s=a,r.push(o)):_t("color",o,e)}break}case 2:{if(ya(e[s])===void 0){const[o,a]=$t(s);gn(o)?(s=a,r.push(g8(o))):_t("direction",o,e)}else{const[o,a]=mb(s);gn(o)?(s=a,r.push(g8(o))):_t("direction",o,e)}break}case 3:{const o=w.words[s];wA(o)||_t("string",o,e),++s,r.push(o);break}case 4:{const[o,a]=$t(s);if(wA(o)){const c=parseFloat(o);kA(c)?r.push(c):_t("number",o,e)}else kA(o)?r.push(o):_t("number",o,e);s=a;break}case 5:{const[o,a]=$t(s);wA(o)||_t("string",o,e),s=a,r.push(o);break}case 6:{const[o,a]=$t(s);let c=o;if(wA(c)){const l=parseFloat(c);kA(l)&&(c=l)}else kA(c)||_t("number or string",c,e);s=a,r.push(c);break}case 7:{const[o,a]=_p(s);if(wi(o))s=a,r.push(o);else if(so(e[s])===void 0){const[c,l]=$t(s);ft(c)?(s=l,r.push(c)):_t("color",c,e)}else{const[c,l]=Bl(s);ft(c)?(s=l,r.push(c)):_t("color or kind",c,e)}break}case 8:{const[o,a]=_p(s);o!==void 0&&!wi(o)&&_t("optional kind",o,e),s=a,r.push(o);break}case 9:{const o=w.words[s];o!==void 0&&!wA(o)&&_t("optional string",o,e),++s,r.push(o);break}case 10:{const[o,a]=$t(s);if(wA(o)){const c=parseFloat(o);kA(c)?r.push(c):_t("optional number",o,e)}else kA(o)||o===void 0?r.push(o):_t("optional number",o,e);s=a;break}case 11:{const[o,a]=$t(s);o!==void 0&&!wA(o)&&_t("optional string",o,e),s=a,r.push(o);break}case 12:{const[o,a]=$t(s);let c=o;if(wA(c)){const l=parseFloat(c);kA(l)&&(c=l)}else c!==void 0&&!kA(c)&&_t("number or string",c,e);s=a,r.push(c);break}case 13:{const[o,a]=$t(s);s=a,r.push(o);break}}return w.words=n,[...r,s]}const ph={},No={};function lw(){return{id:Ke(),board:"",layers:[],scroll:[],sidebar:[],exiteast:"",exitwest:"",exitnorth:"",exitsouth:""}}const YJ=new Set(["rn","range","sl","select","nm","number","tx","text","zssedit","charedit","coloredit","bgedit"]),NJ=new Set(["tx","text"]),ZJ={rn:1,range:1,sl:0,select:0,nm:0,number:0,tx:"",text:"",zssedit:"",charedit:"",coloredit:""},p8={};let w8=e=>{let A=p8[e];return G(A)||(p8[e]=A=lw()),A};function OJ(e){w8=e}function pe(e){return w8(e)}function uw(e){return G(ph[e])||(ph[e]=[]),ph[e]}function TJ(e){const A=pe(e);A.scrollname="",A.scroll=[]}function SJ(e,A,t){Object.values(No).forEach(n=>{if(n[A]!==void 0){const r=xb(e.id(),A);kA(t)&&TS(r,t),wA(t)&&SS(r,t)}})}function Pe(e){const A=uw(e);return ph[e]=[],A}function G8(e){const A=[];let t;for(let n=0;n<e.length;++n){const r=e[n],s=wA(r)&&G(f5(r));G(t)&&t!==s&&A.push(" "),A.push(r),t=s}return A}function mA(e,A){uw(e).push(A)}function vA(e,A,t,n,r=()=>0,s=Af){switch(CA(Ye(n[0]))){case"copyit":case"openit":case"viewit":case"runit":n.unshift("istargetless");break}const o=[A,t,...n],a=CA(`${o[3]}`),c={...w};function l(u,h){G(h)&&h!==r(u)&&(w.board=c.board,w.element=c.element,w.elementfocus=c.elementfocus,s(u,h))}if(YJ.has(a)){const u=`${o[2]}`;No[A]=No[A]??{};const h=r(u)??ZJ[a];if(No[A][u]===void 0){const f=xb(A,u);NJ.has(a)?(wA(h)&&yd(f,h),No[A][u]=DM(f,m=>{l(u,m)})):(kA(h)&&OS(f,h),No[A][u]=PS(f,m=>{l(u,m)}))}}uw(e).push(o)}var x8=(e=>(e[e.id=0]="id",e[e.x=1]="x",e[e.y=2]="y",e[e.char=3]="char",e[e.color=4]="color",e[e.bg=5]="bg",e[e.stat=6]="stat",e[e.pid=7]="pid",e))(x8||{});function PJ(e){return Ur(e,x8)}var M8=(e=>(e[e.id=0]="id",e[e.type=1]="type",e[e.tag=2]="tag",e[e.width=3]="width",e[e.height=4]="height",e[e.char=5]="char",e[e.color=6]="color",e[e.bg=7]="bg",e[e.stats=8]="stats",e[e.sprites=9]="sprites",e[e.alphas=10]="alphas",e[e.mime=11]="mime",e[e.media=12]="media",e[e.focusx=13]="focusx",e[e.focusy=14]="focusy",e[e.focusid=15]="focusid",e[e.viewscale=16]="viewscale",e[e.graphics=17]="graphics",e[e.facing=18]="facing",e))(M8||{});function jJ(e){return Ur(e,M8,{sprites:A=>A.map(PJ)})}var b8=(e=>(e[e.id=0]="id",e[e.board=1]="board",e[e.over=2]="over",e[e.under=3]="under",e[e.layers=4]="layers",e[e.tickers=5]="tickers",e[e.scrollname=6]="scrollname",e[e.scroll=7]="scroll",e[e.sidebar=8]="sidebar",e))(b8||{});function y8(e){return Ur(e,b8,{layers:A=>A.map(jJ)})}const RJ=new xN;OJ(e=>{if(Ce(e)){const A=be(LA.MAIN),t=ui(A,LA.GADGETSTORE);let n=t[e];return G(n)||(t[e]=n=lw()),n}return lw()});const hw=new Map,wh=Is("gadgetserver",["tock"],e=>{if(!wh.session(e))return;const A=be(LA.MAIN),t=new Set(A?.activelist??[]);t.add(nt());const n=[...t];switch(e.target){case"tock":if(nt()){const r=new Map;for(let s=0;s<n.length;++s){const i=n[s],o=De(i);let a=r.get(o?.id??"");G(o)&&!G(a)&&(a=Vt(Dq(i,o)),r.set(o.id,a));const c=pe(i);if(G(a)){const f=Mq(i,1e3,o);c.id=a.id,c.board=a.board,c.exiteast=a.exiteast,c.exitwest=a.exitwest,c.exitnorth=a.exitnorth,c.exitsouth=a.exitsouth,c.over=a.over,c.under=a.under,c.layers=[...a.layers,...f],c.tickers=a.tickers}else c.id="",c.board="",c.exiteast="",c.exitwest="",c.exitnorth="",c.exitsouth="",c.over=[],c.under=[],c.layers=[],c.tickers=[],c.sidebar=[];const l=y8(c);if(!G(l))continue;const u=hw.get(i)??[],h=l0(u,l);if(hw.set(i,l),h.length){const f=RJ.encode(_Z(h,{}));p4(wh,i,f)}}}break;case"desync":{const r=pe(e.player),s=y8(r);if(!G(s))break;hw.set(e.player,s),g4(wh,e.player,s);break}case"clearscroll":TJ(e.player),w0(wh,e.player);break}});async function IJ(e){const A=It(1111111,9999999),t=CA(e.replace(/[^a-zA-Z/]/g,""));return await(await fetch(`https://raw.githubusercontent.com/wiki/goldbuick/zed-software-system/${t}.md?q=${A}`)).text()}const fw=10;function CJ(){const e=zY();let A=fw;const t=Is(`agent_${e}`,["second"],n=>{switch(n.target){case"second":++A,A>=fw&&(A-=fw,W4(t,e));break;case"acklogin":i4(n.data)&&me(t,n.player,`agent login ${n.data?"success":"failure"}`);break}},K.session());return Q4(t,e,{}),{id(){return e},stop(){Co(t,e,!1),t.disconnect()}}}function dw(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}var ki=dw();function _8(e){ki=e}var sc={exec:()=>null};function xe(e,A=""){let t=typeof e=="string"?e:e.source,n={replace:(r,s)=>{let i=typeof s=="string"?s:s.source;return i=i.replace(Qt.caret,"$1"),t=t.replace(r,i),n},getRegex:()=>new RegExp(t,A)};return n}var zJ=(()=>{try{return!!new RegExp("(?<=1)(?<!1)")}catch{return!1}})(),Qt={codeRemoveIndent:/^(?: {1,4}| {0,3}\t)/gm,outputLinkReplace:/\\([\[\]])/g,indentCodeCompensation:/^(\s+)(?:```)/,beginningSpace:/^\s+/,endingHash:/#$/,startingSpaceChar:/^ /,endingSpaceChar:/ $/,nonSpaceChar:/[^ ]/,newLineCharGlobal:/\n/g,tabCharGlobal:/\t/g,multipleSpaceGlobal:/\s+/g,blankLine:/^[ \t]*$/,doubleBlankLine:/\n[ \t]*\n[ \t]*$/,blockquoteStart:/^ {0,3}>/,blockquoteSetextReplace:/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,blockquoteSetextReplace2:/^ {0,3}>[ \t]?/gm,listReplaceTabs:/^\t+/,listReplaceNesting:/^ {1,4}(?=( {4})*[^ ])/g,listIsTask:/^\[[ xX]\] /,listReplaceTask:/^\[[ xX]\] +/,anyLine:/\n.*\n/,hrefBrackets:/^<(.*)>$/,tableDelimiter:/[:|]/,tableAlignChars:/^\||\| *$/g,tableRowBlankLine:/\n[ \t]*$/,tableAlignRight:/^ *-+: *$/,tableAlignCenter:/^ *:-+: *$/,tableAlignLeft:/^ *:-+ *$/,startATag:/^<a /i,endATag:/^<\/a>/i,startPreScriptTag:/^<(pre|code|kbd|script)(\s|>)/i,endPreScriptTag:/^<\/(pre|code|kbd|script)(\s|>)/i,startAngleBracket:/^</,endAngleBracket:/>$/,pedanticHrefTitle:/^([^'"]*[^\s])\s+(['"])(.*)\2/,unicodeAlphaNumeric:/[\p{L}\p{N}]/u,escapeTest:/[&<>"']/,escapeReplace:/[&<>"']/g,escapeTestNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,escapeReplaceNoEncode:/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/g,unescapeTest:/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,caret:/(^|[^\[])\^/g,percentDecode:/%25/g,findPipe:/\|/g,splitPipe:/ \|/,slashPipe:/\\\|/g,carriageReturn:/\r\n|\r/g,spaceLine:/^ +$/gm,notSpaceStart:/^\S*/,endingNewline:/\n$/,listItemRegex:e=>new RegExp(`^( {0,3}${e})((?:[	 ][^\\n]*)?(?:\\n|$))`),nextBulletRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),hrRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),fencesBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}(?:\`\`\`|~~~)`),headingBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}#`),htmlBeginRegex:e=>new RegExp(`^ {0,${Math.min(3,e-1)}}<(?:[a-z].*>|!--)`,"i")},HJ=/^(?:[ \t]*(?:\n|$))+/,LJ=/^((?: {4}| {0,3}\t)[^\n]+(?:\n(?:[ \t]*(?:\n|$))*)?)+/,UJ=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,ic=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,$J=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,mw=/(?:[*+-]|\d{1,9}[.)])/,D8=/^(?!bull |blockCode|fences|blockquote|heading|html|table)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html|table))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,B8=xe(D8).replace(/bull/g,mw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/\|table/g,"").getRegex(),FJ=xe(D8).replace(/bull/g,mw).replace(/blockCode/g,/(?: {4}| {0,3}\t)/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).replace(/table/g,/ {0,3}\|?(?:[:\- ]*\|)+[\:\- ]*\n/).getRegex(),gw=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,QJ=/^[^\n]+/,pw=/(?!\s*\])(?:\\[\s\S]|[^\[\]\\])+/,KJ=xe(/^ {0,3}\[(label)\]: *(?:\n[ \t]*)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n[ \t]*)?| *\n[ \t]*)(title))? *(?:\n+|$)/).replace("label",pw).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),WJ=xe(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,mw).getRegex(),Gh="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ww=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,VJ=xe("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n[ 	]*)+\\n|$))","i").replace("comment",ww).replace("tag",Gh).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),E8=xe(gw).replace("hr",ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gh).getRegex(),qJ=xe(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",E8).getRegex(),Gw={blockquote:qJ,code:LJ,def:KJ,fences:UJ,heading:$J,hr:ic,html:VJ,lheading:B8,list:WJ,newline:HJ,paragraph:E8,table:sc,text:QJ},k8=xe("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code","(?: {4}| {0,3}	)[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gh).getRegex(),JJ={...Gw,lheading:FJ,table:k8,paragraph:xe(gw).replace("hr",ic).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",k8).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Gh).getRegex()},XJ={...Gw,html:xe(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ww).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:sc,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:xe(gw).replace("hr",ic).replace("heading",` *#{1,6} *[^
]`).replace("lheading",B8).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},AX=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,eX=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,v8=/^( {2,}|\\)\n(?!\s*$)/,tX=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,xh=/[\p{P}\p{S}]/u,xw=/[\s\p{P}\p{S}]/u,Y8=/[^\s\p{P}\p{S}]/u,nX=xe(/^((?![*_])punctSpace)/,"u").replace(/punctSpace/g,xw).getRegex(),N8=/(?!~)[\p{P}\p{S}]/u,rX=/(?!~)[\s\p{P}\p{S}]/u,sX=/(?:[^\s\p{P}\p{S}]|~)/u,iX=xe(/link|precode-code|html/,"g").replace("link",/\[(?:[^\[\]`]|(?<a>`+)[^`]+\k<a>(?!`))*?\]\((?:\\[\s\S]|[^\\\(\)]|\((?:\\[\s\S]|[^\\\(\)])*\))*\)/).replace("precode-",zJ?"(?<!`)()":"(^^|[^`])").replace("code",/(?<b>`+)[^`]+\k<b>(?!`)/).replace("html",/<(?! )[^<>]*?>/).getRegex(),Z8=/^(?:\*+(?:((?!\*)punct)|[^\s*]))|^_+(?:((?!_)punct)|([^\s_]))/,oX=xe(Z8,"u").replace(/punct/g,xh).getRegex(),aX=xe(Z8,"u").replace(/punct/g,N8).getRegex(),O8="^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)punct(\\*+)(?=[\\s]|$)|notPunctSpace(\\*+)(?!\\*)(?=punctSpace|$)|(?!\\*)punctSpace(\\*+)(?=notPunctSpace)|[\\s](\\*+)(?!\\*)(?=punct)|(?!\\*)punct(\\*+)(?!\\*)(?=punct)|notPunctSpace(\\*+)(?=notPunctSpace)",cX=xe(O8,"gu").replace(/notPunctSpace/g,Y8).replace(/punctSpace/g,xw).replace(/punct/g,xh).getRegex(),lX=xe(O8,"gu").replace(/notPunctSpace/g,sX).replace(/punctSpace/g,rX).replace(/punct/g,N8).getRegex(),uX=xe("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)punct(_+)(?=[\\s]|$)|notPunctSpace(_+)(?!_)(?=punctSpace|$)|(?!_)punctSpace(_+)(?=notPunctSpace)|[\\s](_+)(?!_)(?=punct)|(?!_)punct(_+)(?!_)(?=punct)","gu").replace(/notPunctSpace/g,Y8).replace(/punctSpace/g,xw).replace(/punct/g,xh).getRegex(),hX=xe(/\\(punct)/,"gu").replace(/punct/g,xh).getRegex(),fX=xe(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),dX=xe(ww).replace("(?:-->|$)","-->").getRegex(),mX=xe("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",dX).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Mh=/(?:\[(?:\\[\s\S]|[^\[\]\\])*\]|\\[\s\S]|`+[^`]*?`+(?!`)|[^\[\]\\`])*?/,gX=xe(/^!?\[(label)\]\(\s*(href)(?:(?:[ \t]*(?:\n[ \t]*)?)(title))?\s*\)/).replace("label",Mh).replace("href",/<(?:\\.|[^\n<>\\])+>|[^ \t\n\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),T8=xe(/^!?\[(label)\]\[(ref)\]/).replace("label",Mh).replace("ref",pw).getRegex(),S8=xe(/^!?\[(ref)\](?:\[\])?/).replace("ref",pw).getRegex(),pX=xe("reflink|nolink(?!\\()","g").replace("reflink",T8).replace("nolink",S8).getRegex(),P8=/[hH][tT][tT][pP][sS]?|[fF][tT][pP]/,Mw={_backpedal:sc,anyPunctuation:hX,autolink:fX,blockSkip:iX,br:v8,code:eX,del:sc,emStrongLDelim:oX,emStrongRDelimAst:cX,emStrongRDelimUnd:uX,escape:AX,link:gX,nolink:S8,punctuation:nX,reflink:T8,reflinkSearch:pX,tag:mX,text:tX,url:sc},wX={...Mw,link:xe(/^!?\[(label)\]\((.*?)\)/).replace("label",Mh).getRegex(),reflink:xe(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Mh).getRegex()},bw={...Mw,emStrongRDelimAst:lX,emStrongLDelim:aX,url:xe(/^((?:protocol):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/).replace("protocol",P8).replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])((?:\\[\s\S]|[^\\])*?(?:\\[\s\S]|[^\s~\\]))\1(?=[^~]|$)/,text:xe(/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|protocol:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/).replace("protocol",P8).getRegex()},GX={...bw,br:xe(v8).replace("{2,}","*").getRegex(),text:xe(bw.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},bh={normal:Gw,gfm:JJ,pedantic:XJ},oc={normal:Mw,gfm:bw,breaks:GX,pedantic:wX},xX={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},j8=e=>xX[e];function Tr(e,A){if(A){if(Qt.escapeTest.test(e))return e.replace(Qt.escapeReplace,j8)}else if(Qt.escapeTestNoEncode.test(e))return e.replace(Qt.escapeReplaceNoEncode,j8);return e}function R8(e){try{e=encodeURI(e).replace(Qt.percentDecode,"%")}catch{return null}return e}function I8(e,A){let t=e.replace(Qt.findPipe,(s,i,o)=>{let a=!1,c=i;for(;--c>=0&&o[c]==="\\";)a=!a;return a?"|":" |"}),n=t.split(Qt.splitPipe),r=0;if(n[0].trim()||n.shift(),n.length>0&&!n.at(-1)?.trim()&&n.pop(),A)if(n.length>A)n.splice(A);else for(;n.length<A;)n.push("");for(;r<n.length;r++)n[r]=n[r].trim().replace(Qt.slashPipe,"|");return n}function ac(e,A,t){let n=e.length;if(n===0)return"";let r=0;for(;r<n&&e.charAt(n-r-1)===A;)r++;return e.slice(0,n-r)}function MX(e,A){if(e.indexOf(A[1])===-1)return-1;let t=0;for(let n=0;n<e.length;n++)if(e[n]==="\\")n++;else if(e[n]===A[0])t++;else if(e[n]===A[1]&&(t--,t<0))return n;return t>0?-2:-1}function C8(e,A,t,n,r){let s=A.href,i=A.title||null,o=e[1].replace(r.other.outputLinkReplace,"$1");n.state.inLink=!0;let a={type:e[0].charAt(0)==="!"?"image":"link",raw:t,href:s,title:i,text:o,tokens:n.inlineTokens(o)};return n.state.inLink=!1,a}function bX(e,A,t){let n=e.match(t.other.indentCodeCompensation);if(n===null)return A;let r=n[1];return A.split(`
`).map(s=>{let i=s.match(t.other.beginningSpace);if(i===null)return s;let[o]=i;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}var yh=class{options;rules;lexer;constructor(e){this.options=e||ki}space(e){let A=this.rules.block.newline.exec(e);if(A&&A[0].length>0)return{type:"space",raw:A[0]}}code(e){let A=this.rules.block.code.exec(e);if(A){let t=A[0].replace(this.rules.other.codeRemoveIndent,"");return{type:"code",raw:A[0],codeBlockStyle:"indented",text:this.options.pedantic?t:ac(t,`
`)}}}fences(e){let A=this.rules.block.fences.exec(e);if(A){let t=A[0],n=bX(t,A[3]||"",this.rules);return{type:"code",raw:t,lang:A[2]?A[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):A[2],text:n}}}heading(e){let A=this.rules.block.heading.exec(e);if(A){let t=A[2].trim();if(this.rules.other.endingHash.test(t)){let n=ac(t,"#");(this.options.pedantic||!n||this.rules.other.endingSpaceChar.test(n))&&(t=n.trim())}return{type:"heading",raw:A[0],depth:A[1].length,text:t,tokens:this.lexer.inline(t)}}}hr(e){let A=this.rules.block.hr.exec(e);if(A)return{type:"hr",raw:ac(A[0],`
`)}}blockquote(e){let A=this.rules.block.blockquote.exec(e);if(A){let t=ac(A[0],`
`).split(`
`),n="",r="",s=[];for(;t.length>0;){let i=!1,o=[],a;for(a=0;a<t.length;a++)if(this.rules.other.blockquoteStart.test(t[a]))o.push(t[a]),i=!0;else if(!i)o.push(t[a]);else break;t=t.slice(a);let c=o.join(`
`),l=c.replace(this.rules.other.blockquoteSetextReplace,`
    $1`).replace(this.rules.other.blockquoteSetextReplace2,"");n=n?`${n}
${c}`:c,r=r?`${r}
${l}`:l;let u=this.lexer.state.top;if(this.lexer.state.top=!0,this.lexer.blockTokens(l,s,!0),this.lexer.state.top=u,t.length===0)break;let h=s.at(-1);if(h?.type==="code")break;if(h?.type==="blockquote"){let f=h,m=f.raw+`
`+t.join(`
`),d=this.blockquote(m);s[s.length-1]=d,n=n.substring(0,n.length-f.raw.length)+d.raw,r=r.substring(0,r.length-f.text.length)+d.text;break}else if(h?.type==="list"){let f=h,m=f.raw+`
`+t.join(`
`),d=this.list(m);s[s.length-1]=d,n=n.substring(0,n.length-h.raw.length)+d.raw,r=r.substring(0,r.length-f.raw.length)+d.raw,t=m.substring(s.at(-1).raw.length).split(`
`);continue}}return{type:"blockquote",raw:n,tokens:s,text:r}}}list(e){let A=this.rules.block.list.exec(e);if(A){let t=A[1].trim(),n=t.length>1,r={type:"list",raw:"",ordered:n,start:n?+t.slice(0,-1):"",loose:!1,items:[]};t=n?`\\d{1,9}\\${t.slice(-1)}`:`\\${t}`,this.options.pedantic&&(t=n?t:"[*+-]");let s=this.rules.other.listItemRegex(t),i=!1;for(;e;){let a=!1,c="",l="";if(!(A=s.exec(e))||this.rules.block.hr.test(e))break;c=A[0],e=e.substring(c.length);let u=A[2].split(`
`,1)[0].replace(this.rules.other.listReplaceTabs,p=>" ".repeat(3*p.length)),h=e.split(`
`,1)[0],f=!u.trim(),m=0;if(this.options.pedantic?(m=2,l=u.trimStart()):f?m=A[1].length+1:(m=A[2].search(this.rules.other.nonSpaceChar),m=m>4?1:m,l=u.slice(m),m+=A[1].length),f&&this.rules.other.blankLine.test(h)&&(c+=h+`
`,e=e.substring(h.length+1),a=!0),!a){let p=this.rules.other.nextBulletRegex(m),x=this.rules.other.hrRegex(m),y=this.rules.other.fencesBeginRegex(m),E=this.rules.other.headingBeginRegex(m),B=this.rules.other.htmlBeginRegex(m);for(;e;){let T=e.split(`
`,1)[0],D;if(h=T,this.options.pedantic?(h=h.replace(this.rules.other.listReplaceNesting,"  "),D=h):D=h.replace(this.rules.other.tabCharGlobal,"    "),y.test(h)||E.test(h)||B.test(h)||p.test(h)||x.test(h))break;if(D.search(this.rules.other.nonSpaceChar)>=m||!h.trim())l+=`
`+D.slice(m);else{if(f||u.replace(this.rules.other.tabCharGlobal,"    ").search(this.rules.other.nonSpaceChar)>=4||y.test(u)||E.test(u)||x.test(u))break;l+=`
`+h}!f&&!h.trim()&&(f=!0),c+=T+`
`,e=e.substring(T.length+1),u=D.slice(m)}}r.loose||(i?r.loose=!0:this.rules.other.doubleBlankLine.test(c)&&(i=!0));let d=null,g;this.options.gfm&&(d=this.rules.other.listIsTask.exec(l),d&&(g=d[0]!=="[ ] ",l=l.replace(this.rules.other.listReplaceTask,""))),r.items.push({type:"list_item",raw:c,task:!!d,checked:g,loose:!1,text:l,tokens:[]}),r.raw+=c}let o=r.items.at(-1);if(o)o.raw=o.raw.trimEnd(),o.text=o.text.trimEnd();else return;r.raw=r.raw.trimEnd();for(let a=0;a<r.items.length;a++)if(this.lexer.state.top=!1,r.items[a].tokens=this.lexer.blockTokens(r.items[a].text,[]),!r.loose){let c=r.items[a].tokens.filter(u=>u.type==="space"),l=c.length>0&&c.some(u=>this.rules.other.anyLine.test(u.raw));r.loose=l}if(r.loose)for(let a=0;a<r.items.length;a++)r.items[a].loose=!0;return r}}html(e){let A=this.rules.block.html.exec(e);if(A)return{type:"html",block:!0,raw:A[0],pre:A[1]==="pre"||A[1]==="script"||A[1]==="style",text:A[0]}}def(e){let A=this.rules.block.def.exec(e);if(A){let t=A[1].toLowerCase().replace(this.rules.other.multipleSpaceGlobal," "),n=A[2]?A[2].replace(this.rules.other.hrefBrackets,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",r=A[3]?A[3].substring(1,A[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):A[3];return{type:"def",tag:t,raw:A[0],href:n,title:r}}}table(e){let A=this.rules.block.table.exec(e);if(!A||!this.rules.other.tableDelimiter.test(A[2]))return;let t=I8(A[1]),n=A[2].replace(this.rules.other.tableAlignChars,"").split("|"),r=A[3]?.trim()?A[3].replace(this.rules.other.tableRowBlankLine,"").split(`
`):[],s={type:"table",raw:A[0],header:[],align:[],rows:[]};if(t.length===n.length){for(let i of n)this.rules.other.tableAlignRight.test(i)?s.align.push("right"):this.rules.other.tableAlignCenter.test(i)?s.align.push("center"):this.rules.other.tableAlignLeft.test(i)?s.align.push("left"):s.align.push(null);for(let i=0;i<t.length;i++)s.header.push({text:t[i],tokens:this.lexer.inline(t[i]),header:!0,align:s.align[i]});for(let i of r)s.rows.push(I8(i,s.header.length).map((o,a)=>({text:o,tokens:this.lexer.inline(o),header:!1,align:s.align[a]})));return s}}lheading(e){let A=this.rules.block.lheading.exec(e);if(A)return{type:"heading",raw:A[0],depth:A[2].charAt(0)==="="?1:2,text:A[1],tokens:this.lexer.inline(A[1])}}paragraph(e){let A=this.rules.block.paragraph.exec(e);if(A){let t=A[1].charAt(A[1].length-1)===`
`?A[1].slice(0,-1):A[1];return{type:"paragraph",raw:A[0],text:t,tokens:this.lexer.inline(t)}}}text(e){let A=this.rules.block.text.exec(e);if(A)return{type:"text",raw:A[0],text:A[0],tokens:this.lexer.inline(A[0])}}escape(e){let A=this.rules.inline.escape.exec(e);if(A)return{type:"escape",raw:A[0],text:A[1]}}tag(e){let A=this.rules.inline.tag.exec(e);if(A)return!this.lexer.state.inLink&&this.rules.other.startATag.test(A[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&this.rules.other.endATag.test(A[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&this.rules.other.startPreScriptTag.test(A[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&this.rules.other.endPreScriptTag.test(A[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:A[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:A[0]}}link(e){let A=this.rules.inline.link.exec(e);if(A){let t=A[2].trim();if(!this.options.pedantic&&this.rules.other.startAngleBracket.test(t)){if(!this.rules.other.endAngleBracket.test(t))return;let s=ac(t.slice(0,-1),"\\");if((t.length-s.length)%2===0)return}else{let s=MX(A[2],"()");if(s===-2)return;if(s>-1){let i=(A[0].indexOf("!")===0?5:4)+A[1].length+s;A[2]=A[2].substring(0,s),A[0]=A[0].substring(0,i).trim(),A[3]=""}}let n=A[2],r="";if(this.options.pedantic){let s=this.rules.other.pedanticHrefTitle.exec(n);s&&(n=s[1],r=s[3])}else r=A[3]?A[3].slice(1,-1):"";return n=n.trim(),this.rules.other.startAngleBracket.test(n)&&(this.options.pedantic&&!this.rules.other.endAngleBracket.test(t)?n=n.slice(1):n=n.slice(1,-1)),C8(A,{href:n&&n.replace(this.rules.inline.anyPunctuation,"$1"),title:r&&r.replace(this.rules.inline.anyPunctuation,"$1")},A[0],this.lexer,this.rules)}}reflink(e,A){let t;if((t=this.rules.inline.reflink.exec(e))||(t=this.rules.inline.nolink.exec(e))){let n=(t[2]||t[1]).replace(this.rules.other.multipleSpaceGlobal," "),r=A[n.toLowerCase()];if(!r){let s=t[0].charAt(0);return{type:"text",raw:s,text:s}}return C8(t,r,t[0],this.lexer,this.rules)}}emStrong(e,A,t=""){let n=this.rules.inline.emStrongLDelim.exec(e);if(!(!n||n[3]&&t.match(this.rules.other.unicodeAlphaNumeric))&&(!(n[1]||n[2])||!t||this.rules.inline.punctuation.exec(t))){let r=[...n[0]].length-1,s,i,o=r,a=0,c=n[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(c.lastIndex=0,A=A.slice(-1*e.length+r);(n=c.exec(A))!=null;){if(s=n[1]||n[2]||n[3]||n[4]||n[5]||n[6],!s)continue;if(i=[...s].length,n[3]||n[4]){o+=i;continue}else if((n[5]||n[6])&&r%3&&!((r+i)%3)){a+=i;continue}if(o-=i,o>0)continue;i=Math.min(i,i+o+a);let l=[...n[0]][0].length,u=e.slice(0,r+n.index+l+i);if(Math.min(r,i)%2){let f=u.slice(1,-1);return{type:"em",raw:u,text:f,tokens:this.lexer.inlineTokens(f)}}let h=u.slice(2,-2);return{type:"strong",raw:u,text:h,tokens:this.lexer.inlineTokens(h)}}}}codespan(e){let A=this.rules.inline.code.exec(e);if(A){let t=A[2].replace(this.rules.other.newLineCharGlobal," "),n=this.rules.other.nonSpaceChar.test(t),r=this.rules.other.startingSpaceChar.test(t)&&this.rules.other.endingSpaceChar.test(t);return n&&r&&(t=t.substring(1,t.length-1)),{type:"codespan",raw:A[0],text:t}}}br(e){let A=this.rules.inline.br.exec(e);if(A)return{type:"br",raw:A[0]}}del(e){let A=this.rules.inline.del.exec(e);if(A)return{type:"del",raw:A[0],text:A[2],tokens:this.lexer.inlineTokens(A[2])}}autolink(e){let A=this.rules.inline.autolink.exec(e);if(A){let t,n;return A[2]==="@"?(t=A[1],n="mailto:"+t):(t=A[1],n=t),{type:"link",raw:A[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}url(e){let A;if(A=this.rules.inline.url.exec(e)){let t,n;if(A[2]==="@")t=A[0],n="mailto:"+t;else{let r;do r=A[0],A[0]=this.rules.inline._backpedal.exec(A[0])?.[0]??"";while(r!==A[0]);t=A[0],A[1]==="www."?n="http://"+A[0]:n=A[0]}return{type:"link",raw:A[0],text:t,href:n,tokens:[{type:"text",raw:t,text:t}]}}}inlineText(e){let A=this.rules.inline.text.exec(e);if(A){let t=this.lexer.state.inRawBlock;return{type:"text",raw:A[0],text:A[0],escaped:t}}}},sr=class Hw{tokens;options;state;tokenizer;inlineQueue;constructor(A){this.tokens=[],this.tokens.links=Object.create(null),this.options=A||ki,this.options.tokenizer=this.options.tokenizer||new yh,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let t={other:Qt,block:bh.normal,inline:oc.normal};this.options.pedantic?(t.block=bh.pedantic,t.inline=oc.pedantic):this.options.gfm&&(t.block=bh.gfm,this.options.breaks?t.inline=oc.breaks:t.inline=oc.gfm),this.tokenizer.rules=t}static get rules(){return{block:bh,inline:oc}}static lex(A,t){return new Hw(t).lex(A)}static lexInline(A,t){return new Hw(t).inlineTokens(A)}lex(A){A=A.replace(Qt.carriageReturn,`
`),this.blockTokens(A,this.tokens);for(let t=0;t<this.inlineQueue.length;t++){let n=this.inlineQueue[t];this.inlineTokens(n.src,n.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(A,t=[],n=!1){for(this.options.pedantic&&(A=A.replace(Qt.tabCharGlobal,"    ").replace(Qt.spaceLine,""));A;){let r;if(this.options.extensions?.block?.some(i=>(r=i.call({lexer:this},A,t))?(A=A.substring(r.raw.length),t.push(r),!0):!1))continue;if(r=this.tokenizer.space(A)){A=A.substring(r.raw.length);let i=t.at(-1);r.raw.length===1&&i!==void 0?i.raw+=`
`:t.push(r);continue}if(r=this.tokenizer.code(A)){A=A.substring(r.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.at(-1).src=i.text):t.push(r);continue}if(r=this.tokenizer.fences(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.heading(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.hr(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.blockquote(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.list(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.html(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.def(A)){A=A.substring(r.raw.length);let i=t.at(-1);i?.type==="paragraph"||i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.raw,this.inlineQueue.at(-1).src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title},t.push(r));continue}if(r=this.tokenizer.table(A)){A=A.substring(r.raw.length),t.push(r);continue}if(r=this.tokenizer.lheading(A)){A=A.substring(r.raw.length),t.push(r);continue}let s=A;if(this.options.extensions?.startBlock){let i=1/0,o=A.slice(1),a;this.options.extensions.startBlock.forEach(c=>{a=c.call({lexer:this},o),typeof a=="number"&&a>=0&&(i=Math.min(i,a))}),i<1/0&&i>=0&&(s=A.substring(0,i+1))}if(this.state.top&&(r=this.tokenizer.paragraph(s))){let i=t.at(-1);n&&i?.type==="paragraph"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(r),n=s.length!==A.length,A=A.substring(r.raw.length);continue}if(r=this.tokenizer.text(A)){A=A.substring(r.raw.length);let i=t.at(-1);i?.type==="text"?(i.raw+=(i.raw.endsWith(`
`)?"":`
`)+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue.at(-1).src=i.text):t.push(r);continue}if(A){let i="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(i);break}else throw new Error(i)}}return this.state.top=!0,t}inline(A,t=[]){return this.inlineQueue.push({src:A,tokens:t}),t}inlineTokens(A,t=[]){let n=A,r=null;if(this.tokens.links){let a=Object.keys(this.tokens.links);if(a.length>0)for(;(r=this.tokenizer.rules.inline.reflinkSearch.exec(n))!=null;)a.includes(r[0].slice(r[0].lastIndexOf("[")+1,-1))&&(n=n.slice(0,r.index)+"["+"a".repeat(r[0].length-2)+"]"+n.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(r=this.tokenizer.rules.inline.anyPunctuation.exec(n))!=null;)n=n.slice(0,r.index)+"++"+n.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);let s;for(;(r=this.tokenizer.rules.inline.blockSkip.exec(n))!=null;)s=r[2]?r[2].length:0,n=n.slice(0,r.index+s)+"["+"a".repeat(r[0].length-s-2)+"]"+n.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);n=this.options.hooks?.emStrongMask?.call({lexer:this},n)??n;let i=!1,o="";for(;A;){i||(o=""),i=!1;let a;if(this.options.extensions?.inline?.some(l=>(a=l.call({lexer:this},A,t))?(A=A.substring(a.raw.length),t.push(a),!0):!1))continue;if(a=this.tokenizer.escape(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.tag(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.link(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.reflink(A,this.tokens.links)){A=A.substring(a.raw.length);let l=t.at(-1);a.type==="text"&&l?.type==="text"?(l.raw+=a.raw,l.text+=a.text):t.push(a);continue}if(a=this.tokenizer.emStrong(A,n,o)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.codespan(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.br(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.del(A)){A=A.substring(a.raw.length),t.push(a);continue}if(a=this.tokenizer.autolink(A)){A=A.substring(a.raw.length),t.push(a);continue}if(!this.state.inLink&&(a=this.tokenizer.url(A))){A=A.substring(a.raw.length),t.push(a);continue}let c=A;if(this.options.extensions?.startInline){let l=1/0,u=A.slice(1),h;this.options.extensions.startInline.forEach(f=>{h=f.call({lexer:this},u),typeof h=="number"&&h>=0&&(l=Math.min(l,h))}),l<1/0&&l>=0&&(c=A.substring(0,l+1))}if(a=this.tokenizer.inlineText(c)){A=A.substring(a.raw.length),a.raw.slice(-1)!=="_"&&(o=a.raw.slice(-1)),i=!0;let l=t.at(-1);l?.type==="text"?(l.raw+=a.raw,l.text+=a.text):t.push(a);continue}if(A){let l="Infinite loop on byte: "+A.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return t}},_h=class{options;parser;constructor(e){this.options=e||ki}space(e){return""}code({text:e,lang:A,escaped:t}){let n=(A||"").match(Qt.notSpaceStart)?.[0],r=e.replace(Qt.endingNewline,"")+`
`;return n?'<pre><code class="language-'+Tr(n)+'">'+(t?r:Tr(r,!0))+`</code></pre>
`:"<pre><code>"+(t?r:Tr(r,!0))+`</code></pre>
`}blockquote({tokens:e}){return`<blockquote>
${this.parser.parse(e)}</blockquote>
`}html({text:e}){return e}def(e){return""}heading({tokens:e,depth:A}){return`<h${A}>${this.parser.parseInline(e)}</h${A}>
`}hr(e){return`<hr>
`}list(e){let A=e.ordered,t=e.start,n="";for(let i=0;i<e.items.length;i++){let o=e.items[i];n+=this.listitem(o)}let r=A?"ol":"ul",s=A&&t!==1?' start="'+t+'"':"";return"<"+r+s+`>
`+n+"</"+r+`>
`}listitem(e){let A="";if(e.task){let t=this.checkbox({checked:!!e.checked});e.loose?e.tokens[0]?.type==="paragraph"?(e.tokens[0].text=t+" "+e.tokens[0].text,e.tokens[0].tokens&&e.tokens[0].tokens.length>0&&e.tokens[0].tokens[0].type==="text"&&(e.tokens[0].tokens[0].text=t+" "+Tr(e.tokens[0].tokens[0].text),e.tokens[0].tokens[0].escaped=!0)):e.tokens.unshift({type:"text",raw:t+" ",text:t+" ",escaped:!0}):A+=t+" "}return A+=this.parser.parse(e.tokens,!!e.loose),`<li>${A}</li>
`}checkbox({checked:e}){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph({tokens:e}){return`<p>${this.parser.parseInline(e)}</p>
`}table(e){let A="",t="";for(let r=0;r<e.header.length;r++)t+=this.tablecell(e.header[r]);A+=this.tablerow({text:t});let n="";for(let r=0;r<e.rows.length;r++){let s=e.rows[r];t="";for(let i=0;i<s.length;i++)t+=this.tablecell(s[i]);n+=this.tablerow({text:t})}return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+A+`</thead>
`+n+`</table>
`}tablerow({text:e}){return`<tr>
${e}</tr>
`}tablecell(e){let A=this.parser.parseInline(e.tokens),t=e.header?"th":"td";return(e.align?`<${t} align="${e.align}">`:`<${t}>`)+A+`</${t}>
`}strong({tokens:e}){return`<strong>${this.parser.parseInline(e)}</strong>`}em({tokens:e}){return`<em>${this.parser.parseInline(e)}</em>`}codespan({text:e}){return`<code>${Tr(e,!0)}</code>`}br(e){return"<br>"}del({tokens:e}){return`<del>${this.parser.parseInline(e)}</del>`}link({href:e,title:A,tokens:t}){let n=this.parser.parseInline(t),r=R8(e);if(r===null)return n;e=r;let s='<a href="'+e+'"';return A&&(s+=' title="'+Tr(A)+'"'),s+=">"+n+"</a>",s}image({href:e,title:A,text:t,tokens:n}){n&&(t=this.parser.parseInline(n,this.parser.textRenderer));let r=R8(e);if(r===null)return Tr(t);e=r;let s=`<img src="${e}" alt="${t}"`;return A&&(s+=` title="${Tr(A)}"`),s+=">",s}text(e){return"tokens"in e&&e.tokens?this.parser.parseInline(e.tokens):"escaped"in e&&e.escaped?e.text:Tr(e.text)}},yw=class{strong({text:e}){return e}em({text:e}){return e}codespan({text:e}){return e}del({text:e}){return e}html({text:e}){return e}text({text:e}){return e}link({text:e}){return""+e}image({text:e}){return""+e}br(){return""}},ir=class Lw{options;renderer;textRenderer;constructor(A){this.options=A||ki,this.options.renderer=this.options.renderer||new _h,this.renderer=this.options.renderer,this.renderer.options=this.options,this.renderer.parser=this,this.textRenderer=new yw}static parse(A,t){return new Lw(t).parse(A)}static parseInline(A,t){return new Lw(t).parseInline(A)}parse(A,t=!0){let n="";for(let r=0;r<A.length;r++){let s=A[r];if(this.options.extensions?.renderers?.[s.type]){let o=s,a=this.options.extensions.renderers[o.type].call({parser:this},o);if(a!==!1||!["space","hr","heading","code","table","blockquote","list","html","def","paragraph","text"].includes(o.type)){n+=a||"";continue}}let i=s;switch(i.type){case"space":{n+=this.renderer.space(i);continue}case"hr":{n+=this.renderer.hr(i);continue}case"heading":{n+=this.renderer.heading(i);continue}case"code":{n+=this.renderer.code(i);continue}case"table":{n+=this.renderer.table(i);continue}case"blockquote":{n+=this.renderer.blockquote(i);continue}case"list":{n+=this.renderer.list(i);continue}case"html":{n+=this.renderer.html(i);continue}case"def":{n+=this.renderer.def(i);continue}case"paragraph":{n+=this.renderer.paragraph(i);continue}case"text":{let o=i,a=this.renderer.text(o);for(;r+1<A.length&&A[r+1].type==="text";)o=A[++r],a+=`
`+this.renderer.text(o);t?n+=this.renderer.paragraph({type:"paragraph",raw:a,text:a,tokens:[{type:"text",raw:a,text:a,escaped:!0}]}):n+=a;continue}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}parseInline(A,t=this.renderer){let n="";for(let r=0;r<A.length;r++){let s=A[r];if(this.options.extensions?.renderers?.[s.type]){let o=this.options.extensions.renderers[s.type].call({parser:this},s);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(s.type)){n+=o||"";continue}}let i=s;switch(i.type){case"escape":{n+=t.text(i);break}case"html":{n+=t.html(i);break}case"link":{n+=t.link(i);break}case"image":{n+=t.image(i);break}case"strong":{n+=t.strong(i);break}case"em":{n+=t.em(i);break}case"codespan":{n+=t.codespan(i);break}case"br":{n+=t.br(i);break}case"del":{n+=t.del(i);break}case"text":{n+=t.text(i);break}default:{let o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return n}},cc=class{options;block;constructor(e){this.options=e||ki}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens","emStrongMask"]);static passThroughHooksRespectAsync=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}emStrongMask(e){return e}provideLexer(){return this.block?sr.lex:sr.lexInline}provideParser(){return this.block?ir.parse:ir.parseInline}},yX=class{defaults=dw();options=this.setOptions;parse=this.parseMarkdown(!0);parseInline=this.parseMarkdown(!1);Parser=ir;Renderer=_h;TextRenderer=yw;Lexer=sr;Tokenizer=yh;Hooks=cc;constructor(...e){this.use(...e)}walkTokens(e,A){let t=[];for(let n of e)switch(t=t.concat(A.call(this,n)),n.type){case"table":{let r=n;for(let s of r.header)t=t.concat(this.walkTokens(s.tokens,A));for(let s of r.rows)for(let i of s)t=t.concat(this.walkTokens(i.tokens,A));break}case"list":{let r=n;t=t.concat(this.walkTokens(r.items,A));break}default:{let r=n;this.defaults.extensions?.childTokens?.[r.type]?this.defaults.extensions.childTokens[r.type].forEach(s=>{let i=r[s].flat(1/0);t=t.concat(this.walkTokens(i,A))}):r.tokens&&(t=t.concat(this.walkTokens(r.tokens,A)))}}return t}use(...e){let A=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(t=>{let n={...t};if(n.async=this.defaults.async||n.async||!1,t.extensions&&(t.extensions.forEach(r=>{if(!r.name)throw new Error("extension name required");if("renderer"in r){let s=A.renderers[r.name];s?A.renderers[r.name]=function(...i){let o=r.renderer.apply(this,i);return o===!1&&(o=s.apply(this,i)),o}:A.renderers[r.name]=r.renderer}if("tokenizer"in r){if(!r.level||r.level!=="block"&&r.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");let s=A[r.level];s?s.unshift(r.tokenizer):A[r.level]=[r.tokenizer],r.start&&(r.level==="block"?A.startBlock?A.startBlock.push(r.start):A.startBlock=[r.start]:r.level==="inline"&&(A.startInline?A.startInline.push(r.start):A.startInline=[r.start]))}"childTokens"in r&&r.childTokens&&(A.childTokens[r.name]=r.childTokens)}),n.extensions=A),t.renderer){let r=this.defaults.renderer||new _h(this.defaults);for(let s in t.renderer){if(!(s in r))throw new Error(`renderer '${s}' does not exist`);if(["options","parser"].includes(s))continue;let i=s,o=t.renderer[i],a=r[i];r[i]=(...c)=>{let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l||""}}n.renderer=r}if(t.tokenizer){let r=this.defaults.tokenizer||new yh(this.defaults);for(let s in t.tokenizer){if(!(s in r))throw new Error(`tokenizer '${s}' does not exist`);if(["options","rules","lexer"].includes(s))continue;let i=s,o=t.tokenizer[i],a=r[i];r[i]=(...c)=>{let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l}}n.tokenizer=r}if(t.hooks){let r=this.defaults.hooks||new cc;for(let s in t.hooks){if(!(s in r))throw new Error(`hook '${s}' does not exist`);if(["options","block"].includes(s))continue;let i=s,o=t.hooks[i],a=r[i];cc.passThroughHooks.has(s)?r[i]=c=>{if(this.defaults.async&&cc.passThroughHooksRespectAsync.has(s))return(async()=>{let u=await o.call(r,c);return a.call(r,u)})();let l=o.call(r,c);return a.call(r,l)}:r[i]=(...c)=>{if(this.defaults.async)return(async()=>{let u=await o.apply(r,c);return u===!1&&(u=await a.apply(r,c)),u})();let l=o.apply(r,c);return l===!1&&(l=a.apply(r,c)),l}}n.hooks=r}if(t.walkTokens){let r=this.defaults.walkTokens,s=t.walkTokens;n.walkTokens=function(i){let o=[];return o.push(s.call(this,i)),r&&(o=o.concat(r.call(this,i))),o}}this.defaults={...this.defaults,...n}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,A){return sr.lex(e,A??this.defaults)}parser(e,A){return ir.parse(e,A??this.defaults)}parseMarkdown(e){return(A,t)=>{let n={...t},r={...this.defaults,...n},s=this.onError(!!r.silent,!!r.async);if(this.defaults.async===!0&&n.async===!1)return s(new Error("marked(): The async option was set to true by an extension. Remove async: false from the parse options object to return a Promise."));if(typeof A>"u"||A===null)return s(new Error("marked(): input parameter is undefined or null"));if(typeof A!="string")return s(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(A)+", string expected"));if(r.hooks&&(r.hooks.options=r,r.hooks.block=e),r.async)return(async()=>{let i=r.hooks?await r.hooks.preprocess(A):A,o=await(r.hooks?await r.hooks.provideLexer():e?sr.lex:sr.lexInline)(i,r),a=r.hooks?await r.hooks.processAllTokens(o):o;r.walkTokens&&await Promise.all(this.walkTokens(a,r.walkTokens));let c=await(r.hooks?await r.hooks.provideParser():e?ir.parse:ir.parseInline)(a,r);return r.hooks?await r.hooks.postprocess(c):c})().catch(s);try{r.hooks&&(A=r.hooks.preprocess(A));let i=(r.hooks?r.hooks.provideLexer():e?sr.lex:sr.lexInline)(A,r);r.hooks&&(i=r.hooks.processAllTokens(i)),r.walkTokens&&this.walkTokens(i,r.walkTokens);let o=(r.hooks?r.hooks.provideParser():e?ir.parse:ir.parseInline)(i,r);return r.hooks&&(o=r.hooks.postprocess(o)),o}catch(i){return s(i)}}}onError(e,A){return t=>{if(t.message+=`
Please report this to https://github.com/markedjs/marked.`,e){let n="<p>An error occurred:</p><pre>"+Tr(t.message+"",!0)+"</pre>";return A?Promise.resolve(n):n}if(A)return Promise.reject(t);throw t}}},vi=new yX;function _e(e,A){return vi.parse(e,A)}_e.options=_e.setOptions=function(e){return vi.setOptions(e),_e.defaults=vi.defaults,_8(_e.defaults),_e},_e.getDefaults=dw,_e.defaults=ki,_e.use=function(...e){return vi.use(...e),_e.defaults=vi.defaults,_8(_e.defaults),_e},_e.walkTokens=function(e,A){return vi.walkTokens(e,A)},_e.parseInline=vi.parseInline,_e.Parser=ir,_e.parser=ir.parse,_e.Renderer=_h,_e.TextRenderer=yw,_e.Lexer=sr,_e.lexer=sr.lex,_e.Tokenizer=yh,_e.Hooks=cc,_e.parse=_e,_e.options,_e.setOptions,_e.use,_e.walkTokens,_e.parseInline,ir.parse,sr.lex;const Dh="$dkpurple",_X="$196",DX="$205";function z8(e,A){const t=_X.repeat(A);mA(e,`${Dh}${t}`)}function BX(e,A){const t=DX.repeat(A);mA(e,`${Dh}${t}`)}function EX(e,A){mA(e,`${Dh} ${" ".repeat(A.length)} `),z8(e,A.length+2),mA(e,`${Dh} $white${A} `),BX(e,A.length+2)}function H8(e,A,t){const n=A.split(" ");switch(CA(n[0]??"")){case"copyit":vA(e,"refscroll",t,["",n[0]??"",n[1]??""]);break;default:{switch(CA(n[1]??"")){case"hk":case"hotkey":vA(e,"refscroll",t,[n[0]??"",n[1]??"",n[2]??"",` ${n[3]??""} `,n[4]??""]);break;default:vA(e,"refscroll",t,[n[0]??""]);break}break}}}function Ns(e,A){switch(A.type){default:console.info("unknown",A);break;case"heading":EX(e,A.text),mA(e," ");break;case"hr":mA(e," "),z8(e,10),mA(e," ");break;case"paragraph":for(let t=0;t<(A.tokens?.length??0);++t)G(A.tokens?.[t])&&Ns(e,A.tokens[t]);break;case"code":A.text.split(`
`).forEach(t=>mA(e,t.replace(/\s+/g," ").trim()));break;case"text":mA(e,A.text);break;case"link":{const[t,...n]=A.text.split("|").map(s=>s.trim()),r=[...n,A.href??""];H8(e,r.join(" "),t);break}case"image":H8(e,`openit ${A.href}`,`show ${A.title??A.href}`);break;case"blockquote":A.text.split(`
`).forEach(t=>{mA(e,`$dkpurple$221$white  ${t}`)}),mA(e," ");break;case"list":for(let t=0;t<(A.items?.length??0);++t)G(A.items?.[t])&&Ns(e,A.items[t]);mA(e," ");break;case"list_item":mA(e,` $grey$7 ${A.text}`);break}}function kX(e,A){_e.use({pedantic:!1,gfm:!0,breaks:!1,renderer:{heading(t){return Ns(e,t),""},blockquote(t){return Ns(e,t),""},hr(t){return Ns(e,t),""},list(t){return Ns(e,t),""},listitem(t){return Ns(e,t),""},paragraph(t){return Ns(e,t),""}}}),_e.parse(A)}typeof SuppressedError=="function"&&SuppressedError;var L8;(function(e){e[e.Audio=1]="Audio",e[e.Cache=2]="Cache",e[e.Config=3]="Config",e[e.Data=4]="Data",e[e.LocalData=5]="LocalData",e[e.Document=6]="Document",e[e.Download=7]="Download",e[e.Picture=8]="Picture",e[e.Public=9]="Public",e[e.Video=10]="Video",e[e.Resource=11]="Resource",e[e.Temp=12]="Temp",e[e.AppConfig=13]="AppConfig",e[e.AppData=14]="AppData",e[e.AppLocalData=15]="AppLocalData",e[e.AppCache=16]="AppCache",e[e.AppLog=17]="AppLog",e[e.Desktop=18]="Desktop",e[e.Executable=19]="Executable",e[e.Font=20]="Font",e[e.Home=21]="Home",e[e.Runtime=22]="Runtime",e[e.Template=23]="Template"})(L8||(L8={}));var U8;(function(e){e[e.Start=0]="Start",e[e.Current=1]="Current",e[e.End=2]="End"})(U8||(U8={}));function Bh(e){return new Promise((A,t)=>{e.oncomplete=e.onsuccess=()=>A(e.result),e.onabort=e.onerror=()=>t(e.error)})}function vX(e,A){let t;const n=()=>{if(t)return t;const r=indexedDB.open(e);return r.onupgradeneeded=()=>r.result.createObjectStore(A),t=Bh(r),t.then(s=>{s.onclose=()=>t=void 0},()=>{}),t};return(r,s)=>n().then(i=>s(i.transaction(A,r).objectStore(A)))}let _w;function Dw(){return _w||(_w=vX("keyval-store","keyval")),_w}function lc(e,A=Dw()){return A("readonly",t=>Bh(t.get(e)))}function YX(e,A=Dw()){return A("readonly",t=>Promise.all(e.map(n=>Bh(t.get(n)))))}function uc(e,A,t=Dw()){return t("readwrite",n=>new Promise((r,s)=>{n.get(e).onsuccess=function(){try{n.put(A(this.result),e),r(Bh(n.transaction))}catch(i){s(i)}}}))}async function NX(e){return lc(e)}async function ZX(e,A){return uc(e,A)}function Bw(e){return e==="crt"?"on":"off"}async function OX(e){const A=await NX(`config_${e}`);return A?A&&A!=="off"?"on":"off":Bw(e)}async function TX(e,A){return ZX(`config_${e}`,()=>A)}async function SX(){const e=["config_crt","config_lowrez","config_scanlines","config_voice2text","config_loaderlogging"];return(await YX(e)).map((t,n)=>{const s=e[n].replace("config_","");return t?[s,t&&t!=="off"?"on":"off"]:[s,Bw(s)]})}let or={stylechars:1,stylecolors:1,stylebgs:1};async function PX(e,A,t,n){await IX(()=>or);const r=De(e),s=await Ew();if(!G(r)||!G(s))return;const i=Math.min(A.x,t.x),o=Math.min(A.y,t.y),a=Math.max(A.x,t.x),c=Math.max(A.y,t.y),l=a-i+1,u=c-o+1,h=Math.min(s.width,l),f=Math.min(s.height,u);for(let m=0;m<f;++m)for(let d=0;d<h;++d){const g=Xt({x:d,y:m},s.width),p=s.flattened[g],x=tt(p),y={x:i+d,y:o+m};if(n==="styleall"||n==="styleobjects"){const E=ne(r,y);G(E)&&Me(E)&&(or.stylechars&&(E.char=x.char),or.stylecolors&&(E.color=x.color),or.stylebgs&&(E.bg=x.bg))}if(n==="styleall"||n==="styleterrain"){const E=Cn(r,y.x,y.y);G(E)&&(or.stylechars&&(E.char=x.char),or.stylecolors&&(E.color=x.color),or.stylebgs&&(E.bg=x.bg))}}}async function jX(e,A,t){const n=await RX();or={...or,...n};const r=Fn(A,t);function s(a){return or[a]}function i(a,c){(kA(c)||wA(c))&&(or[a]=c)}mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,"apply visuals from the terrain"),mA(e,"stored in the paste buffer"),vA(e,"batch","style chars?",["stylechars","select","no","0","yes","1"],s,i),vA(e,"batch","style colors?",["stylecolors","select","no","0","yes","1"],s,i),vA(e,"batch","style bgs?",["stylebgs","select","no","0","yes","1"],s,i),mA(e,ke),vA(e,"batch","style terrain & objects",[`styleall:${r}`,"hk","1"]),vA(e,"batch","style objects",[`styleobjects:${r}`,"hk","2"]),vA(e,"batch","style terrain",[`styleterrain:${r}`,"hk","3"]);const o=pe(e);o.scrollname="style",o.scroll=Pe(e)}async function RX(){return lc("styleconfig")}async function IX(e){return uc("styleconfig",e)}function $8(e,A,t){const n=Math.min(A.x,t.x),r=Math.min(A.y,t.y),s=Math.max(A.x,t.x),i=Math.max(A.y,t.y),o=s-n+1,a=i-r+1,c=[],l=[],u=[];for(let h=r;h<=i;++h)for(let f=n;f<=s;++f){const m={x:f-n,y:h-r},d=ne(e,{x:f,y:h});if(d?.kind==="player"){const g=Vt(Cn(e,f,h));c.push(g),u.push(g)}else d?.category===qt.ISOBJECT?(c.push(Vt(Cn(e,f,h))),l.push({...Vt(d),...m,id:"blank"})):c.push({...Vt(d),...m}),u.push(Vt(d))}return{board:e.id,width:o,height:a,terrain:c,objects:l,flattened:u}}async function F8(e){return uc("secretheap",e)}async function CX(){return!!await Ew()}async function zX(e,A){const t=De(A);if(!G(t))return;const n=yn(e),[r,s,i,o]=n.path.split(",").map(l=>parseFloat(l)),a={x:Math.min(r,i),y:Math.min(s,o)},c={x:Math.max(r,i),y:Math.max(s,o)};switch(n.target){case"copy":LX(A,a,c);break;case"copyall":case"copyobjects":case"copyterrain":await HX(A,a,c,n.target);break;case"copyastext":{const l=Math.min(a.x,c.x),u=Math.min(a.y,c.y),h=Math.max(a.x,c.x),f=Math.max(a.y,c.y);let m="";for(let d=u;d<=f;++d){let g=XA.ONCLEAR,p=XA.ONCLEAR;m+="";for(let x=l;x<=h;++x){const y=Cn(t,x,d),E=tt(y);E.color!=g&&(g=E.color,m+=`$${XA[E.color]}`.toLowerCase()),E.bg!=p&&(p=E.bg,m+=`$ON${XA[E.bg]}`.toLowerCase()),m+=`$${E.char}`}m+=`
`}xc(K,A,m),Sr(K,A,`copied! chars ${l},${u} to ${h},${f}`);break}case"cut":$X(A,a,c);break;case"cutall":case"cutobjects":case"cutterrain":await UX(A,a,c,n.target);break;case"paste":QX(A,a,c);break;case"pasteall":case"pasteobjects":case"pasteterrain":case"pasteterraintiled":await FX(A,a,c,n.target);break;case"style":await jX(A,a,c);break;case"styleall":case"styleobjects":case"styleterrain":await PX(A,a,c,n.target);break;case"empty":rAA(A,a,c);break;case"emptyall":case"emptyobjects":case"emptyterrain":nAA(A,a,c,n.target);break;case"chars":JX(A,a,c,"char");break;case"colors":AAA(A,a,c,"color");break;case"bgs":VX(A,a,c,"bg");break;case"copycoords":xc(K,A,[r,s,i,o].join(" "));break;case"pageopen":Se(K,A,async()=>{await zs(800),Cs(K,A,`#pageopen ${n.path}`)});break;default:console.info("unknown batch",n);break}}async function HX(e,A,t,n){const r=De(e);if(!G(r))return;const s=$8(r,A,t);switch(n){case"copyobjects":s.terrain=[];break;case"copyterrain":s.objects=[];break}await F8(()=>s)}function LX(e,A,t){const n=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,"batch","copy terrain & objects",[`copyall:${n}`,"hk","1"]),vA(e,"batch","copy objects",[`copyobjects:${n}`,"hk","2"]),vA(e,"batch","copy terrain",[`copyterrain:${n}`,"hk","3"]),vA(e,"batch","copy as text",[`copyastext:${n}`,"hk","4"]);const r=pe(e);r.scrollname="copy",r.scroll=Pe(e)}async function UX(e,A,t,n){const r=yt(LA.MAIN);if(!G(r))return;const s=De(e);if(!G(s))return;const i=$8(s,A,t);switch(n){case"cutobjects":i.terrain=[];break;case"cutterrain":i.objects=[];break}switch(n){case"cutall":{for(let o=A.y;o<=t.y;++o)for(let a=A.x;a<=t.x;++a){const c=ne(s,{x:a,y:o});c?.category===qt.ISOBJECT&&Yt(s,c,r.timestamp),ze(s,{x:a,y:o})}break}case"cutobjects":{for(let o=A.y;o<=t.y;++o)for(let a=A.x;a<=t.x;++a){const c=ne(s,{x:a,y:o});c?.category===qt.ISOBJECT&&Yt(s,c,r.timestamp)}break}case"cutterrain":{for(let o=A.y;o<=t.y;++o)for(let a=A.x;a<=t.x;++a)ze(s,{x:a,y:o});break}}await F8(()=>i)}function $X(e,A,t){const n=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,"batch","cut terrain & objects",[`cutall:${n}`,"hk","1"]),vA(e,"batch","cut objects",[`cutobjects:${n}`,"hk","2"]),vA(e,"batch","cut terrain",[`cutterrain:${n}`,"hk","3"]);const r=pe(e);r.scrollname="cut",r.scroll=Pe(e)}async function FX(e,A,t,n){const r=De(e),s=await Ew();if(!G(r)||!G(s))return;const i=Math.min(A.x,t.x),o=Math.min(A.y,t.y),a=Math.max(A.x,t.x),c=Math.max(A.y,t.y),l=a-i+1,u=c-o+1,h=Math.min(s.width,l),f=Math.min(s.height,u);switch(n){case"pasteall":{for(let m=0;m<f;++m)for(let d=0;d<h;++d){const g=Xt({x:d,y:m},s.width);ze(r,{...s.terrain[g],x:i+d,y:o+m})}for(let m=0;m<s.objects.length;++m){const d=s.objects[m];G(d.x)&&G(d.y)&&Pd(d.x,d.y,0,l-1,u-1,0)&&ow(r,{...d,id:void 0,x:i+d.x,y:o+d.y})}break}case"pasteobjects":for(let m=0;m<s.objects.length;++m){const d=s.objects[m];G(d.x)&&G(d.y)&&Pd(d.x,d.y,0,l-1,u-1,0)&&ow(r,{...d,id:void 0,x:i+d.x,y:o+d.y})}break;case"pasteterrain":for(let m=0;m<f;++m)for(let d=0;d<h;++d){const g=Xt({x:d,y:m},s.width);ze(r,{...s.terrain[g],x:i+d,y:o+m})}break;case"pasteterraintiled":for(let m=o;m<=c;++m)for(let d=i;d<=a;++d){const g=(d-i)%s.width,p=(m-o)%s.height,x=Xt({x:g,y:p},s.width);ze(r,{...s.terrain[x],x:d,y:m})}break}}function QX(e,A,t){const n=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,"batch","paste terrain & objects",[`pasteall:${n}`,"hk","1"]),vA(e,"batch","paste objects",[`pasteobjects:${n}`,"hk","2"]),vA(e,"batch","paste terrain",[`pasteterrain:${n}`,"hk","3"]),vA(e,"batch","paste terrain tiled",[`pasteterraintiled:${n}`,"hk","4"]);const r=pe(e);r.scrollname="paste",r.scroll=Pe(e)}async function Ew(){return lc("secretheap")}function kw(e,A){return`inspect:${A?.id??ss(e,A)}`}function vw(e,A){const t=at(NA.BOARD,A);mA(e,`board ${de(t)}:`),vA(e,"batch",`board id ${A}`,["copyit",A]),vA(e,"batch","edit board codepage",[`pageopen:${A}`])}function Yw(e,A,t){const n=Kk("text","gadget:action");n.length&&mA(e,"gadget actions:");const r=Fn(A,t);for(let s=0;s<n.length;++s){const i=n[s],o=de(i);vA(e,"gadget",`run ${o}`,["action","",i.id,r])}}async function KX(e,A,t){const n=yt(LA.MAIN),r=await CX();if(!G(n))return;const s=De(e);if(!G(s))return;if($e(s),A.x===t.x&&A.y===t.y){const o=ne(s,A),a=iE(n,o);G(o)&&G(a)&&tAA(e,s,a,o,A,Me(o)),o?.kind||(mA(e,`empty: ${A.x}, ${A.y}`),mA(e,ke),vA(e,"empty","copy coords",[`copycoords:${A.x},${A.y}`,"hk","5"," 5 "]),Yw(e,A,t),vw(e,s.id))}else WX(e,A,t,r);const i=pe(e);i.scrollname="inspect",i.scroll=Pe(e)}function WX(e,A,t,n){const r=yt(LA.MAIN);if(!G(r))return;const s=De(e);if(!G(s))return;let i=0;function o(d){return d==="group"?i:0}function a(d,g){d==="group"&&kA(g)&&(i=g,jd(A.x,A.y,t.x,t.y).forEach(p=>{const x=ne(s,p);G(x)&&(x[d]=`group${g}`)}))}const c=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,"batch","copy elements",[`copy:${c}`,"hk","1"," 1 ","next"]),vA(e,"batch","cut elements",[`cut:${c}`,"hk","2"," 2 ","next"]),n&&vA(e,"batch","paste elements",[`paste:${c}`,"hk","3"," 3 ","next"]),vA(e,"batch","copy coords",[`copycoords:${c}`,"hk","5"," 5 "]),n&&vA(e,"batch","style transfer",[`style:${c}`,"hk","s"," S ","next"]),vA(e,"remix","remix coords",[`remix:${c}`,"hk","r"," R ","next"]),mA(e,ke),vA(e,"batch","set chars:",[`chars:${c}`,"hk","a"," A ","next"]),vA(e,"batch","set colors:",[`colors:${c}`,"hk","c"," C ","next"]),vA(e,"batch","set bgs:",[`bgs:${c}`,"hk","b"," B ","next"]),vA(e,`groups:${c}`,"group",["group","select","none","0",...ba(1,127).map(d=>[`group${d}`,`${d}`]).flat()],o,a),mA(e,ke),vA(e,"batch","make empty",[`empty:${c}`,"hk","0"," 0 ","next"]),mA(e,ke),Yw(e,A,t),mA(e,"codepages:");const l=Math.min(A.x,t.x),u=Math.min(A.y,t.y),h=Math.max(A.x,t.x),f=Math.max(A.y,t.y),m=new Set;for(let d=u;d<=f;++d)for(let g=l;g<=h;++g){const p=ne(s,{x:g,y:d}),x=iE(r,p);G(x)&&!m.has(x.id)&&(m.add(x.id),vA(e,"batch",`edit @${de(x)}`,[`pageopen:${x.id}`]))}vw(e,s.id)}function VX(e,A,t,n){const r=De(e);if(!G(r))return;let s=0;function i(){return s}function o(c,l){kA(l)&&(s=l,jd(A.x,A.y,t.x,t.y).forEach(u=>{const h=ne(r,u);G(h)&&(h[c]=l)}))}mA(e,`batch chars: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,`batch:${Fn(A,t)}`,"bg",[n,"bgedit"],i,o);const a=pe(e);a.scrollname="bulk set bg",a.scroll=Pe(e)}function qX(e,A,t){const n=yt(LA.MAIN);if(!G(n))return;const r=De(e);if(!G(r))return;function s(h){return A?.[h]??A?.kinddata?.[h]??0}function i(h,f){G(A)&&(A[h]=f)}const o=A.category===qt.ISTERRAIN?"terrain":"object",a=A.name??A.kind??"ERR",c=`${A.x??-1}, ${A.y??-1}`,l=kw(r,A);mA(e,`${o}: ${a} ${c}`),mA(e,ke),vA(e,l,"char",[t,"charedit"],s,i);const u=pe(e);u.scrollname="char",u.scroll=Pe(e)}function JX(e,A,t,n){const r=De(e);if(!G(r))return;let s=0;function i(){return s}function o(c,l){kA(l)&&(s=l,jd(A.x,A.y,t.x,t.y).forEach(u=>{const h=ne(r,u);G(h)&&(h[c]=l)}))}mA(e,`batch chars: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,`batch:${Fn(A,t)}`,"char",[n,"charedit"],i,o);const a=pe(e);a.scrollname="bulk set char",a.scroll=Pe(e)}function XX(e,A,t){const n=yt(LA.MAIN);if(!G(n))return;const r=De(e);if(!G(r))return;function s(h){return A?.[h]??A?.kinddata?.[h]??0}function i(h,f){G(A)&&(A[h]=f)}const o=A.category===qt.ISTERRAIN?"terrain":"object",a=A.name??A.kind??"ERR",c=`${A.x??-1}, ${A.y??-1}`,l=kw(r,A);mA(e,`${o}: ${a} ${c}`),mA(e,ke),vA(e,l,"color",[t,`${t}edit`],s,i);const u=pe(e);u.scrollname=t,u.scroll=Pe(e)}function AAA(e,A,t,n){const r=De(e);if(!G(r))return;let s=0;function i(){return s}function o(c,l){if(kA(l)){s=l;for(let u=A.y;u<=t.y;++u)for(let h=A.x;h<=t.x;++h){const f=ne(r,{x:h,y:u});G(f)&&(f[c]=l)}}}mA(e,`batch chars: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,`batch:${Fn(A,t)}`,"color",[n,"coloredit"],i,o);const a=pe(e);a.scrollname="bulk set color",a.scroll=Pe(e)}function eAA(e,A){const t=be(LA.MAIN);if(!G(t))return;const n=De(A);if(!G(n))return;const r=yn(e),s=iw(n,r.target);if(G(s))switch(r.path){case"copycoords":xc(K,nt(),[s.x??0,s.y??0].join(" "));break;case"bg":case"color":XX(A,s,r.path);break;case"char":qX(A,s,r.path);break;case"empty":Yt(n,s,t.timestamp);break;case"code":Se(K,A,async()=>{const i="object",o=[n.id,s.id];yd(Mc(t.id,o),s.code??""),w4(K,A),await zs(800);const c=`${Kp(s)}$ONCLEAR$GREEN ${s.name??s.kind??"??"} - ${t.name}`;g0(K,A,t.id,o,i,c)});break;default:console.info("unknown inspect",r);break}}function tAA(e,A,t,n,r,s){const i=yt(LA.MAIN);if(!G(i))return;function o(f){const m=n?.[f]??n?.kinddata?.[f];if(f==="group")return parseFloat(n.group?.replace("group","")??"0");if(!G(m))switch(f){case"color":return 15;case"bg":return 0;case"group":return 0;case"cycle":return b0;case"collision":return $A.ISWALK;case"pushable":return 0;case"breakable":return 0}return m}function a(f,m){G(n)&&(f==="group"?n.group=`group${m}`:n[f]=m)}s?mA(e,`object: ${n.name??n.kind??"ERR"} ${r.x}, ${r.y}`):mA(e,`terrain: ${n.kind??"ERR"} ${r.x}, ${r.y}`);const c=kw(A,n);switch(s&&mA(e,`cycle: ${KA(n,"cycle")}`),KA(n,"collision")){case $A.ISWALK:mA(e,"collision: iswalk");break;case $A.ISSWIM:mA(e,"collision: isswim");break;case $A.ISSOLID:mA(e,"collision: issolid");break;case $A.ISBULLET:mA(e,"collision: isbullet");break;case $A.ISGHOST:mA(e,"collision: isghost");break}s&&mA(e,`ispushable: ${KA(n,"pushable")?"yes":"no"}`),mA(e,`isbreakable: ${KA(n,"breakable")?"yes":"no"}`),mA(e,ke);const u=go(t),h=Wt(u);for(let f=0;f<h.length;++f){const m=h[f];switch(m){case"char":case"cycle":case"color":case"bg":case"group":case"collision":case"pushable":case"breakable":break;default:if(se(u[m])){const[d,g,...p]=u[m];wA(g)&&vA(e,c,g||m,[m,d,...p],o,a)}break}}vA(e,c,"copy coords",["copycoords","hk","5"," 5 "]),mA(e,ke),vA(e,c,`char: ${n.char??n.kinddata?.char??1}`,["char","hk","a"," A ","next"],o,a),vA(e,c,`color: ${n.color??n.kinddata?.color??15}`,["color","hk","c"," C ","next"],o,a),vA(e,c,`bg: ${n.bg??n.kinddata?.bg??0}`,["bg","hk","b"," B ","next"],o,a),vA(e,c,"group",["group","select","none","0",...ba(1,127).map(f=>[`group${f}`,`${f}`]).flat()],o,a),mA(e,ke),vA(e,c,"make empty",["empty","hk","0"],o,a),mA(e,ke),Yw(e,r,r),mA(e,"codepages:"),vA(e,"batch",`edit @${de(t)}`,[`pageopen:${t.id}`]),vw(e,A.id)}function nAA(e,A,t,n){const r=yt(LA.MAIN);if(!G(r))return;const s=De(e);if(G(s))switch(n){case"emptyall":{for(let i=A.y;i<=t.y;++i)for(let o=A.x;o<=t.x;++o){const a=ne(s,{x:o,y:i});a?.category===qt.ISOBJECT&&Yt(s,a,r.timestamp),ze(s,{x:o,y:i})}break}case"emptyobjects":{for(let i=A.y;i<=t.y;++i)for(let o=A.x;o<=t.x;++o){const a=ne(s,{x:o,y:i});a?.category===qt.ISOBJECT&&Yt(s,a,r.timestamp)}break}case"emptyterrain":{for(let i=A.y;i<=t.y;++i)for(let o=A.x;o<=t.x;++o)ze(s,{x:o,y:i});break}}}function rAA(e,A,t){const n=yt(LA.MAIN);if(!G(n))return;const r=De(e);if(!G(r))return;const s=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke),vA(e,"batch","clear terrain & objects",[`emptyall:${s}`,"hk","1"]),vA(e,"batch","clear objects",[`emptyobjects:${s}`,"hk","2"]),vA(e,"batch","clear terrain",[`emptyterrain:${s}`,"hk","3"]);const i=pe(e);i.scrollname="empty",i.scroll=Pe(e)}let Zo={expr1:"player",expr2:"",expr3:"",expr4:""};async function sAA(e,A){const t=De(A);if(!G(t))return;await aAA(()=>Zo);const n=Zo[e]??"";G(n)?Cs(K,A,`#findany ${n?`any ${n}`:""}`):Cs(K,A,"#findany")}async function iAA(e){const A=await oAA();Zo={...Zo,...A};const t=De(e);if(!G(t))return;mA(e,"find any element(s)"),mA(e,ke);function n(i){return Zo[i]}function r(i,o){(kA(o)||wA(o))&&(Zo[i]=o)}vA(e,"findany","slot 1: any",["expr1","text"],n,r),vA(e,"findany","slot 2: any",["expr2","text"],n,r),vA(e,"findany","slot 3: any",["expr3","text"],n,r),vA(e,"findany","slot 4: any",["expr4","text"],n,r),mA(e,ke),vA(e,"findany","clear find(s)",["clear","hk","c"," C "]),vA(e,"findany","find 1",["expr1","hk","1"," 1 "]),vA(e,"findany","find 2",["expr2","hk","2"," 2 "]),vA(e,"findany","find 3",["expr3","hk","3"," 3 "]),vA(e,"findany","find 4",["expr4","hk","4"," 4 "]);const s=pe(e);s.scrollname="findany",s.scroll=Pe(e)}async function oAA(){return lc("findanyconfig")}async function aAA(e){return uc("findanyconfig",e)}function Yi(e,A){switch(e){case NA.OBJECT:mA(A,"$greenobject - moving board elements");break;case NA.TERRAIN:mA(A,"$greenterrain - walkable, walls, or water");break;case NA.BOARD:mA(A,"$greenboard - 60 x 25 area of terrain & object");break;case NA.LOADER:mA(A,"$greenloader - run code on @event(s)");break;case NA.PALETTE:mA(A,"$greenpalette - custom 16 colors");break;case NA.CHARSET:mA(A,"$greencharset - custom ascii font");break}}function cAA(e,A){const t=Lt(e);Yi(t,A),vA(A,"makeit",`edit$CYAN @${Nr(e)} ${de(e)}`,["edit","",e.id]),e.code.split(`
`).slice(1,6).forEach(r=>mA(A,`$WHITE  ${r}`))}function lAA(e,A){const t=vt();let n=!0;for(let r=0;r<t.length;++r){const s=T6(t[r],e);for(let i=0;i<s.length;++i)n=!1,cAA(s[i],A)}return n}function uAA(e){const A=vt();for(let t=0;t<A.length;++t){const n=ys(A[t],e);if(G(n))return n}}function hAA(e,A,t){function n(s){const i=Nr(s),o=de(s);me(K,t,`!pageopen ${s.id};$blue[${i}]$white ${o}`)}function r(s,i){Se(K,t,async()=>{G(s)&&(i&&n(s),await zs(800),Cs(K,t,`#pageopen ${s.id}`))})}switch(e){case"edit":{const[s]=A;r(uAA(s),!1);break}case"create":{const[s,i]=A;switch(s){case on(GA.LOADER):{const[o,a]=di(LA.MAIN,i,NA.LOADER);r(o,a);break}case on(GA.BOARD):{const[o]=di(LA.MAIN,i,NA.BOARD);if(G(o)){n(o);const a=be(LA.MAIN),c={x:Math.round(jA*.5),y:Math.round(re*.5)};Ds(a,t,o.id,c)}break}case on(GA.OBJECT):{const[o,a]=di(LA.MAIN,i,NA.OBJECT);r(o,a);break}case on(GA.TERRAIN):{const[o,a]=di(LA.MAIN,i,NA.TERRAIN);r(o,a);break}case on(GA.CHARSET):{const[o,a]=di(LA.MAIN,i,NA.CHARSET);r(o,a);break}case on(GA.PALETTE):{const[o,a]=di(LA.MAIN,i,NA.PALETTE);r(o,a);break}}break}}}function fAA(e,A){const[t,n]=e.split(";"),r=t.split(" "),s=tg(n,r,!0),i=tg(n,r,!1);function o(l,u){const h=on(l);switch(l){case GA.OBJECT:Yi(NA.OBJECT,A);break;case GA.TERRAIN:Yi(NA.TERRAIN,A);break;case GA.BOARD:Yi(NA.BOARD,A);break;case GA.LOADER:Yi(NA.LOADER,A);break;case GA.PALETTE:Yi(NA.PALETTE,A);break;case GA.CHARSET:Yi(NA.CHARSET,A);break}switch(l){case GA.OBJECT:vA(A,"makeit",`create object$CYAN @${u}`,["create","hk","o","","",h,u]);break;case GA.TERRAIN:vA(A,"makeit",`create$CYAN @terrain ${u}`,["create","hk","t","","",h,u]);break;case GA.BOARD:vA(A,"makeit",`create$CYAN @board ${u}`,["create","hk","b","","",h,u]);break;case GA.LOADER:vA(A,"makeit",`create$CYAN @loader ${u}`,["create","hk","l","","",h,u]);break;case GA.PALETTE:vA(A,"makeit",`create$CYAN @palette ${u}`,["create","hk","p","","",h,u]);break;case GA.CHARSET:vA(A,"makeit",`create$CYAN @charset ${u}`,["create","hk","c","","",h,u]);break}mA(A,"")}if(lAA(t,A))switch(s.type){case GA.LOADER:case GA.BOARD:case GA.TERRAIN:case GA.CHARSET:case GA.PALETTE:{const l=s.values.join(" ");o(s.type,l);break}case GA.OBJECT:if(i.values[0].toLowerCase()==="object"){const u=i.values.slice(1).join(" ");o(s.type,u)}else{const l=i.values.join(" ");switch(i.type){case GA.CONST:o(GA.OBJECT,l),i.values.length===1&&(o(GA.TERRAIN,l),o(GA.BOARD,l),o(GA.LOADER,l),o(GA.PALETTE,l),o(GA.CHARSET,l)),mA(A,"$purple  if you typed in @char 12 or similar"),mA(A,"$purple  try using #set <stat> <value> instead"),mA(A,"$purple  or you can edit the @player codepage"),mA(A,"$purple  to make changes to player stats");break;case GA.RANGE:case GA.SELECT:case GA.NUMBER:case GA.TEXT:case GA.HOTKEY:case GA.COPYIT:case GA.OPENIT:case GA.VIEWIT:case GA.ZSSEDIT:case GA.CHAREDIT:case GA.COLOREDIT:break}}break}const c=pe(A);c.scrollname="makeit",c.scroll=Pe(A)}async function dAA(e,A){const t=De(A);if(!G(t))return;const n=yn(e),[r,s,i,o]=n.path.split(",").map(l=>parseFloat(l)),a={x:Math.min(r,i),y:Math.min(s,o)},c={x:Math.max(r,i),y:Math.max(s,o)};switch(n.target){case"remix":{await Q8(A,a,c);break}case"remixrun":{const l=ae(Zs.stat);G(l)&&(t8(t.id,l.id,Zs.patternsize,Zs.mirror,a,c,"all")?await zs(3e3):Sr(K,A,"failed to remix")),await gAA(()=>Zs),await zs(100),await Q8(A,a,c);break}default:console.info("unknown remix",n);break}}async function Q8(e,A,t){const n=await mAA();Zs={...Zs,...n};const r=Fn(A,t);mA(e,`selected: ${A.x},${A.y} - ${t.x},${t.y}`),mA(e,ke);function s(a){return Zs[a]}function i(a,c){(kA(c)||wA(c))&&(Zs[a]=c)}vA(e,"remix","source board",["stat","text"],s,i),vA(e,"remix","patternsize",["patternsize","number","1","5"],s,i),vA(e,"remix","mirror",["mirror","number","1","8"],s,i),mA(e,ke),vA(e,"remix","run",[`remixrun:${r}`,"hk","r"," R "]);const o=pe(e);o.scrollname="remix",o.scroll=Pe(e)}async function mAA(){return lc("remixconfig")}async function gAA(e){return uc("remixconfig",e)}let Zs={stat:"",patternsize:2,mirror:1};var BA=typeof BA<"u"?BA:{},hc={},Os;for(Os in BA)BA.hasOwnProperty(Os)&&(hc[Os]=BA[Os]);var Oo=BA.printErr||console.warn.bind(console);for(Os in hc)hc.hasOwnProperty(Os)&&(BA[Os]=hc[Os]);var Nw=(e,A)=>{throw A};hc=null,BA.arguments&&BA.arguments,BA.thisProgram&&(thisProgram=BA.thisProgram),BA.quit&&(Nw=BA.quit),typeof WebAssembly!="object"&&Zw("no native wasm support detected");var Eh,kh=!1,vh,K8;function W8(){var e=Eh.buffer;BA.HEAP8=new Int8Array(e),BA.HEAPU8=K8=new Uint8Array(e)}var V8=[],q8=[],J8=[];function pAA(){if(BA.preRun)for(typeof BA.preRun=="function"&&(BA.preRun=[BA.preRun]);BA.preRun.length;)xAA(BA.preRun.shift());Ow(V8)}function wAA(){Ow(q8)}function GAA(){if(BA.postRun)for(typeof BA.postRun=="function"&&(BA.postRun=[BA.postRun]);BA.postRun.length;)bAA(BA.postRun.shift());Ow(J8)}function xAA(e){V8.unshift(e)}function MAA(e){q8.unshift(e)}function bAA(e){J8.unshift(e)}var Ni=0,fc=null;function yAA(e){var A;Ni++,(A=BA.monitorRunDependencies)===null||A===void 0||A.call(BA,Ni)}function _AA(e){var A;if(Ni--,(A=BA.monitorRunDependencies)===null||A===void 0||A.call(BA,Ni),Ni==0&&fc){var t=fc;fc=null,t()}}function Zw(e){var A;(A=BA.onAbort)===null||A===void 0||A.call(BA,e),e="Aborted("+e+")",Oo(e),kh=!0,e+=". Build with -sASSERTIONS for more info.";var t=new WebAssembly.RuntimeError(e);throw t}function DAA(){return{a:CAA}}function BAA(e){return fetch(e,{credentials:"same-origin"}).then(function(A){if(!A.ok)throw"failed to load wasm binary file at '"+e+"'";return A.arrayBuffer()})}function EAA(e){var A=DAA();function t(o,a){return Dt=o.exports,Eh=Dt.f,W8(),MAA(Dt.g),_AA(),Dt}yAA();function n(o){t(o.instance)}function r(o){return BAA(e).then(function(a){var c=WebAssembly.instantiate(a,A);return c}).then(o,function(a){Oo("failed to asynchronously prepare wasm: "+a),Zw(a)})}function s(){return e&&e.byteLength>0?WebAssembly.instantiate(e,A).then(n,function(o){Oo("wasm compile failed: "+o)}):typeof WebAssembly.instantiateStreaming=="function"&&typeof e=="string"&&typeof fetch=="function"?fetch(e,{credentials:"same-origin"}).then(function(o){var a=WebAssembly.instantiateStreaming(o,A);return a.then(n,function(c){return Oo("wasm streaming compile failed: "+c),Oo("falling back to ArrayBuffer instantiation"),r(n)})}):r(n)}if(BA.instantiateWasm)try{var i=BA.instantiateWasm(A,t);return i}catch(o){return Oo("Module.instantiateWasm callback failed with error: "+o),!1}return s(),{}}class X8{constructor(A){this.name="ExitStatus",this.message=`Program terminated with exit(${A})`,this.status=A}}var Ow=e=>{for(;e.length>0;)e.shift()(BA)},AY=BA.noExitRuntime||!0,kAA=()=>Zw(""),eY=0,vAA=()=>{AY=!1,eY=0},dc={},tY=e=>{if(e instanceof X8||e=="unwind")return vh;Nw(1,e)},nY=()=>AY||eY>0,rY=e=>{var A;vh=e,nY()||((A=BA.onExit)===null||A===void 0||A.call(BA,e),kh=!0),Nw(e,new X8(e))},YAA=(e,A)=>{vh=e,rY(e)},NAA=YAA,ZAA=()=>{if(!nY())try{NAA(vh)}catch(e){tY(e)}},OAA=e=>{if(!kh)try{e(),ZAA()}catch(A){tY(A)}},TAA=()=>performance.now(),SAA=(e,A)=>{if(dc[e]&&(clearTimeout(dc[e].id),delete dc[e]),!A)return 0;var t=setTimeout(()=>{delete dc[e],OAA(()=>sY(e,TAA()))},A);return dc[e]={id:t,timeout_ms:A},0},PAA=()=>2147483648,jAA=(e,A)=>Math.ceil(e/A)*A,RAA=e=>{var A=Eh.buffer,t=(e-A.byteLength+65535)/65536|0;try{return Eh.grow(t),W8(),1}catch{}},IAA=e=>{var A=K8.length;e>>>=0;var t=PAA();if(e>t)return!1;for(var n=1;n<=4;n*=2){var r=A*(1+.2/n);r=Math.min(r,e+100663296);var s=Math.min(t,jAA(Math.max(e,r),65536)),i=RAA(s);if(i)return!0}return!1},CAA={c:kAA,b:vAA,d:SAA,e:IAA,a:rY},Dt;BA._ZSTD_isError=e=>(BA._ZSTD_isError=Dt.h)(e),BA._ZSTD_compressBound=e=>(BA._ZSTD_compressBound=Dt.i)(e),BA._ZSTD_createCCtx=()=>(BA._ZSTD_createCCtx=Dt.j)(),BA._ZSTD_freeCCtx=e=>(BA._ZSTD_freeCCtx=Dt.k)(e),BA._ZSTD_compress_usingDict=(e,A,t,n,r,s,i,o)=>(BA._ZSTD_compress_usingDict=Dt.l)(e,A,t,n,r,s,i,o),BA._ZSTD_compress=(e,A,t,n,r)=>(BA._ZSTD_compress=Dt.m)(e,A,t,n,r),BA._ZSTD_createDCtx=()=>(BA._ZSTD_createDCtx=Dt.n)(),BA._ZSTD_freeDCtx=e=>(BA._ZSTD_freeDCtx=Dt.o)(e),BA._ZSTD_getFrameContentSize=(e,A)=>(BA._ZSTD_getFrameContentSize=Dt.p)(e,A),BA._ZSTD_decompress_usingDict=(e,A,t,n,r,s,i)=>(BA._ZSTD_decompress_usingDict=Dt.q)(e,A,t,n,r,s,i),BA._ZSTD_decompress=(e,A,t,n)=>(BA._ZSTD_decompress=Dt.r)(e,A,t,n),BA._malloc=e=>(BA._malloc=Dt.s)(e),BA._free=e=>(BA._free=Dt.t)(e);var sY=(e,A)=>(sY=Dt.v)(e,A),Yh;fc=function e(){Yh||iY(),Yh||(fc=e)};function iY(){if(Ni>0||(pAA(),Ni>0))return;function e(){var A;Yh||(Yh=!0,BA.calledRun=!0,!kh&&(wAA(),(A=BA.onRuntimeInitialized)===null||A===void 0||A.call(BA),GAA()))}BA.setStatus?(BA.setStatus("Running..."),setTimeout(()=>{setTimeout(()=>BA.setStatus(""),1),e()},1)):e()}if(BA.run=iY,BA.preInit)for(typeof BA.preInit=="function"&&(BA.preInit=[BA.preInit]);BA.preInit.length>0;)BA.preInit.pop()();BA.init=EAA;var zAA=function(e,A,t,n){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(e,A||[])).next())})};const HAA=new Promise(e=>{BA.onRuntimeInitialized=e}),LAA=()=>zAA(void 0,void 0,void 0,function*(){yield HAA}),oY=e=>{const A=BA._ZSTD_isError;return A(e)},UAA=(e,A)=>{const t=BA._ZSTD_getFrameContentSize;return t(e,A)},$AA=(e,A={defaultHeapSize:1024*1024})=>{const t=BA._malloc,n=t(e.byteLength);BA.HEAP8.set(e,n);const r=UAA(n,e.byteLength),s=r===-1?A.defaultHeapSize:r,i=BA._free,o=t(s);try{const a=BA._ZSTD_decompress,c=a(o,s,n,e.byteLength);if(oY(c))throw new Error(`Failed to compress with code ${c}`);const l=new Uint8Array(BA.HEAPU8.buffer,o,c).slice();return i(o,s),i(n,e.byteLength),l}catch(a){throw i(o,s),i(n,e.byteLength),a}},FAA=e=>{const A=BA._ZSTD_compressBound;return A(e)},QAA=(e,A)=>{const t=FAA(e.byteLength),n=BA._malloc,r=n(t),s=n(e.byteLength);BA.HEAP8.set(e,s);const i=BA._free;try{const o=BA._ZSTD_compress,a=o(r,t,s,e.byteLength,A??3);if(oY(a))throw new Error(`Failed to compress with code ${a}`);const c=new Uint8Array(BA.HEAPU8.buffer,r,a).slice();return i(r,t),i(s,e.byteLength),c}catch(o){throw i(r,t),i(s,e.byteLength),o}};var KAA=function(e,A,t,n){function r(s){return s instanceof t?s:new t(function(i){i(s)})}return new(t||(t=Promise))(function(s,i){function o(l){try{c(n.next(l))}catch(u){i(u)}}function a(l){try{c(n.throw(l))}catch(u){i(u)}}function c(l){l.done?s(l.value):r(l.value).then(o,a)}c((n=n.apply(e,A||[])).next())})};const WAA=e=>KAA(void 0,void 0,void 0,function*(){const A=new URL("/assets/zstd-CV7N7xSg.wasm",self.location.href).href;BA.init(A),yield LAA()});let aY=!1;async function cY(){aY||(await WAA(),aY=!0)}function VAA(e){const A=e.replace(/-/g,"+").replace(/_/g,"/"),t="=".repeat((4-A.length%4)%4);return A+t}function qAA(e){return e.replace(/\+/g,"-").replace(/\//g,"_")}async function lY(e){const A=I6(e),t=be(LA.MAIN),n=new Set(t?.activelist??[]);n.add(nt());const r=[...n];mA(e,"active player list"),mA(e,ke);for(let l=0;l<r.length;++l){const u=r[l],{user:h}=Ut(u),f=wA(h)?h:"player",m=De(u),d=Je(m,u),g=tt(d),p=`$${XA[g.color]}$ON${XA[g.bg]}$${g.char}$ONCLEAR$CYAN`,x=`$WHITEis on ${m?.name??"void board"}`;A&&G(m)?vA(u,"admingoto",`${p} ${f} ${x}`,[u]):mA(u,`${p} ${f} ${A?x:""}`)}mA(e,""),mA(e,"util list"),mA(e,ke),vA(e,"adminop","toggle #gadget inspector",["gadget"]);const s=ag();mA(e,`#dev mode is ${s?"on":"off"}`),A&&vA(e,"adminop",`turn ${s?"off":"on"} #dev mode`,["dev"]);const i=await SX(),o={};mA(e,""),mA(e,"config list"),mA(e,ke);for(let l=0;l<i.length;++l){const[u,h]=i[l];vA(e,"admin",u,[u,"select","off","0","on","1"],f=>(o[f]??h??Bw(f))==="on"?1:0,(f,m)=>{o[f]=m?"on":"off",Se(K,e,async()=>{await TX(f,o[f])})})}mA(e,""),mA(e,"multiplayer"),mA(e,ke);const a=z6();if(a){const l=Cv()?location.href:`${location.origin}/join/#${a}`;vA(e,"adminop",a,["copyit",l]),mA(e,"");const u=Mv(l);for(let h=0;h<u.length;h++)mA(e,u[h])}else mA(e,"session not active"),Cv()||vA(e,"adminop","open multiplayer session",["joincode"]),mA(e,"");const c=pe(e);c.scrollname="cpu #admin",c.scroll=Pe(e)}async function Tw(e){await cY(),console.info("saved",e);const A=new Cp;for(let n=0;n<e.length;++n){const r=e[n],s=Z6(r);if(s){const i=tP(s);if(G(i)){const o=QAA(i,15);A.file(r.id,o,{date:jP})}}}const t=await A.generateAsync({type:"base64"});return qAA(t)}async function JAA(e){await cY();const A=[],t=VAA(e),n=await Cp.loadAsync(t,{base64:!0}),r=[];n.forEach((s,i)=>r.push(i));for(let s=0;s<r.length;++s){const i=r[s],o=await i.async("string"),a=Sd(o);if(G(a)){const f=ng(a);if(G(f)){A.push(f);continue}}const c=await i.async("uint8array"),l=Sd(c);if(G(l)){const f=ng(l);if(G(f)){A.push(f);continue}}const u=$AA(c),h=Sd(u);if(G(h)){const f=ng(h);G(f)&&A.push(f)}}return A}const XAA=16,Ts={},Nh={},AeA=60;let uY=0;const To={},Zh={},mc={};async function hY(e){const A=vt(),t=be(LA.MAIN);if(A.length&&G(t)){const n=await Tw(A),r=`${e?"autosave ":""}${new Date().toISOString()} ${t.name} ${n.length} chars`;M4(HA,nt(),r,n,A)}}async function eeA(e){const A=vt(),t=be(LA.MAIN);if(A.length&&G(t)){const n=await Tw(A);b4(HA,nt(),n,e)}}async function teA(){const e=vt(),A=be(LA.MAIN);return e.length&&G(A)?await Tw(e):""}const fY="$176$176$177$177$178 ZZT BRIDGE $178$177$177$176$176";function dY(e){mA(e,`Searching ${"$6".repeat(It(1,6))}`);const A=pe(e);A.scrollname=fY,A.scroll=Pe(e)}function mY(e,A){for(let n=0;n<e.length;++n){const r=e[n],s=`pub: ${new Date(r.publish_date).toLocaleDateString()}`;mA(A,`$white${r.title}`),mA(A,`$yellow  ${r.author.join(", ")}`),mA(A,`$dkgreen  ${r.genres.join(", ")}`),mA(A,`$purple  ${s}`),r.screenshot&&vA(A,"zztbridge",r.screenshot,["viewit",mq(r.screenshot)]),vA(A,"zztbridge",r.filename,["zztimport","",`${r.letter}/${r.filename}`]),mA(A," ")}const t=pe(A);t.scrollname=fY,t.scroll=Pe(A)}const HA=Is("vm",["tick","second"],e=>{if(!HA.session(e))return;const A=nt();switch(e.target){case"operator":C6(e.player),st(HA,e.player,`operator set to ${e.player}`),HA.replynext(e,"ackoperator",!0);break;case"topic":wA(e.data)&&H6(e.data);break;case"admin":Se(HA,e.player,async()=>{await lY(e.player)});break;case"zsswords":{const t=be(LA.MAIN),n=["cw","ccw","oop","rndp","to","over","under","ground","within","awayby","elements"];HA.replynext(e,"ackzsswords",{cli:ew(vs.CLI),loader:ew(vs.LOADER),runtime:ew(vs.RUNTIME),flags:[...Wt(Ut(e.player)),"inputmove","inputalt","inputctrl","inputshift","inputok","inputcancel","inputmenu","didshoot"],stats:["currenttick","boardid","isdark","notdark","startx","starty","over","under","camera","graphics","charset","palette","facing","exitnorth","exitsouth","exitwest","exiteast","timelimit","restartonzap","norestartonzap","maxplayershots","b1","b2","b3","b4","b5","b6","b7","b8","b9","b10","playerid","playerx","playery","thisid","thisx","thisy","senderid","senderx","sendery","item","group","party","player","pushable","collision","breakable","ispushable","notpushable","iswalk","iswalking","iswalkable","isswim","isswimming","isswimable","issolid","isbullet","isghost","isbreakable","notbreakable","p1","p2","p3","p4","p5","p6","p7","p8","p9","p10","cycle","stepx","stepy","shootx","shooty","light","lightdir","arg"],kinds:[...li(t,NA.OBJECT).map(r=>de(r)),...Wt(kp)],altkinds:[...li(t,NA.TERRAIN),...li(t,NA.BOARD),...li(t,NA.PALETTE),...li(t,NA.CHARSET),...li(t,NA.LOADER)].map(r=>de(r)),colors:[...Wt(_a)],dirs:[...Wt(Ld).filter(r=>n.includes(r)===!1)],dirmods:[...n,...Wt(Bp)],exprs:["aligned","alligned","contact","blocked","any","countof","color","detect","rnd","abs","intceil","intfloor","intround","clamp","min","max","pick","pickwith","random","randomwith","run","runwith"]});break}case"books":e.player===A&&Se(HA,e.player,async()=>{let t=[];se(e.data)?t=e.data:wA(e.data)&&(t=await JAA(e.data));const n=t.map(r=>r.name);st(HA,e.player,`loading ${n.join(", ")}`),q6(t),tf(HA,e.player)});break;case"search":P5(e.player)||tf(HA,e.player);break;case"logout":w0(HA,e.player),T5(e.player,!!e.data),delete Ts[e.player],st(HA,A,`player ${e.player} logout`),tf(HA,e.player);break;case"login":ev(e.player,e.data)?(Ts[e.player]=0,st(HA,nt(),`login from ${e.player}`),HA.replynext(e,"acklogin",!0)):HA.replynext(e,"acklogin",!1);break;case"local":ev(e.player,{})?(Ts[e.player]=0,st(HA,nt(),`login from ${e.player}`),HA.replynext(e,"acklogin",!0)):HA.replynext(e,"acklogin",!1);break;case"doot":Ts[e.player]=0,Nh[e.player]=Nh[e.player]??0,Nh[e.player]%32===0&&st(HA,e.player,`$whiteactive $blue${e.player}`),++Nh[e.player];break;case"input":{if(e.player.includes("local")&&!hE(e.player)&&K4(HA,e.player),!e.player.includes("local")||hE(e.player)){const t=Ut(e.player),[n=Re.NONE,r=0]=e.data??[Re.NONE,0];se(t.inputqueue)||(t.inputqueue=[]),n!==Re.NONE&&t.inputqueue.push([n,r])}break}case"look":{const t=De(e.player),n=pe(e.player);HA.reply(e,"acklook",{board:t,tickers:n.tickers??[],scrollname:n.scrollname??"",scroll:n.scroll??[],sidebar:n.sidebar??[]});break}case"agentstart":{const t=CJ(),n=t.id();mc[n]=t,me(HA,e.player,`agent ${n} started`),rf(HA,e.player);break}case"agentstop":if(wA(e.data)){const t=e.data,n=mc[t];G(n)?(n.stop(),delete mc[t],me(HA,e.player,`agent ${t} stopped`),rf(HA,e.player)):we(HA,e.player,"vm",`agent ${t} not found`)}break;case"agentlist":{const t=Object.values(mc);if(t.length===0){me(HA,e.player,"no agents running");return}else{eh(HA,e.player,"agents");for(let n=0;n<t.length;++n){const r=t[n];me(HA,e.player,`!copyit ${r.id()};agent ${r.id()}`)}}break}case"agentprompt":if(se(e.data)){const[t,n]=e.data,r=mc[t];G(r)?G4(HA,e.player,t,n):we(HA,e.player,"vm",`agent ${t} not found`)}break;case"codewatch":if(se(e.data)){const[t,n]=e.data,r=Mc(t,n);G(Zh[r])||(Zh[r]=DM(r,s=>{const[i,o]=n,a=Jr(t),c=ys(a,i);if(G(c))if(Lt(c)===NA.BOARD&&G(o)){const l=Rn(c),u=Je(l,o);G(u)&&(u.code=s,yu(Du(s),u))}else c.code=s,Y6(c)})),To[r]=To[r]??new Set,To[r].add(e.player)}break;case"coderelease":if(se(e.data)){const[t,n]=e.data,[,r]=n,s=Mc(t,n);G(To[s])&&(To[s].delete(e.player),To[s].size===0&&(Zh[s]?.(),Zh[s]=void 0,wA(r)&&ec(r)))}break;case"clearscroll":{const t=De(e.player);if(G(t)){const n=Object.keys(t.objects);for(let r=0;r<n.length;++r)C5(n[r],e.player)}break}case"halt":if(e.player===A){const t=!ag();L6(t),st(HA,e.player,`#dev mode is ${t?"$greenon":"$redoff"}`),d0(HA,e.player,t)}break;case"tick":{I5(ag());break}case"second":{S5(Ts);const t=Object.keys(Ts);for(let n=0;n<t.length;++n)++Ts[t[n]];for(let n=0;n<t.length;++n){const r=t[n];Ts[r]>=XAA&&Co(HA,r,!1)}++uY>=AeA&&(uY=0,Se(HA,e.player,async()=>{await hY(!0)}));break}case"makeitscroll":wA(e.data)&&fAA(e.data,e.player);break;case"refscroll":{Rp(th("refscroll:menu"),n=>Dv(e.player,n));const t=pe(e.player);t.scrollname="#help or $meta+h",t.scroll=Pe(e.player);break}case"readzipfilelist":{const t=cq();mA(e.player,"$CENTER Select Files"),vA(e.player,"zipfilelist","import selected",["importfiles"]);for(let r=0;r<t.length;++r){const[s,i]=t[r];s&&(mA(e.player,i),vA(e.player,"zipfilelist",`[${s}]`,[CA(i),"select","NO","0","YES","1"],o=>uq(o)?1:0,(o,a)=>{lq(o,!!a)}))}const n=pe(e.player);n.scrollname="zipfilelist",n.scroll=Pe(e.player);break}case"fork":e.player===A&&Se(HA,e.player,async()=>{await eeA(e.data)});break;case"zztsearch":Se(HA,e.player,async()=>{if(se(e.data)){const[t,n]=e.data;let r=0;const s=[];for(;s.length<256;){dY(e.player);const i=await fq(t,n,r);if(r+=i.length,s.push(...i),i.length<25)break}mY(s,e.player)}});break;case"zztrandom":Se(HA,e.player,async()=>{dY(e.player);const t=await dq();mY(t,e.player)});break;case"publish":Se(HA,e.player,async()=>{if(e.player===A&&se(e.data)){const t=await teA();y4(HA,e.player,t,...e.data)}});break;case"flush":e.player===A&&Se(HA,e.player,async()=>{await hY()});break;case"cli":rv(e.player,e.data);break;case"clirepeatlast":R5(e.player);break;case"restart":e.player===A&&(j5(),G0(HA,e.player));break;case"inspect":Se(HA,e.player,async()=>{if(se(e.data)){const[t,n]=e.data;await KX(e.player,t,n)}});break;case"findany":Se(HA,e.player,async()=>{await iAA(e.player)});break;case"loader":if(se(e.data)){const[t,n,r,s]=e.data;switch(Se(HA,e.player,async()=>{await OX("loaderlogging")==="on"&&(console.info("loader event",r,n,t,s),st(HA,e.player,`loader event ${r} ${n}`))}),n){case"file":Fp(e.player,s);break;case"json":if(/file:.*\.book.json/.test(r)){st(HA,e.player,`loading ${r}`);const i=JSON.parse(s.json);G(i.data)&&wA(i.exported)&&(Eu(i.data),st(HA,e.player,`loaded ${i.exported}`))}else if(/file:.*\..*\.codepage.json/.test(r)){st(HA,e.player,`loading ${r}`);const i=JSON.parse(s.json),o=be(LA.MAIN);G(o)&&G(i.data)&&wA(i.exported)&&(fi(o,i.data),st(HA,e.player,`loaded ${i.exported}`))}else Qk(t,n,r,s,e.player);break;default:Qk(t,n,r,s,e.player);break}}break;default:{const{target:t,path:n}=yn(e.target);switch(CA(t)){case"adminop":{switch(n){case"dev":Cs(HA,e.player,"#dev");break;case"gadget":Cs(HA,e.player,"#gadget");break;case"joincode":Cs(HA,e.player,"#joincode");break}break}case"admingoto":{const r=be(LA.MAIN),s=De(n),i=Je(s,n);if(G(s)&&G(i)){const o={x:i.x??0,y:i.y??0};Ds(r,e.player,s.id,o)}break}case"refscroll":switch(n){case"adminscroll":Se(HA,e.player,async()=>{await lY(e.player)});break;case"objectlistscroll":{const r=uE(NA.OBJECT);for(let i=0;i<r.length;++i){const o=r[i],a=de(o),c=o.code.split(`
`).slice(0,2);vA(e.player,"list",`@${a}$ltgrey ${c[1]??""}`,["copyit",a])}const s=pe(e.player);s.scrollname="object list",s.scroll=Pe(e.player);break}case"terrainlistscroll":{const r=uE(NA.TERRAIN);for(let i=0;i<r.length;++i){const o=r[i],a=de(o),c=o.code.split(`
`).slice(0,2);vA(e.player,"list",`@${a}$ltgrey ${c[1]??""}`,["copyit",a])}const s=pe(e.player);s.scrollname="terrain list",s.scroll=Pe(e.player);break}case"charscroll":{vA(e.player,"refscroll","char",["char","charedit"]);const r=pe(e.player);r.scrollname="chars",r.scroll=Pe(e.player);break}case"colorscroll":{vA(e.player,"refscroll","color",["color","coloredit"]);const r=pe(e.player);r.scrollname="colors",r.scroll=Pe(e.player);break}case"bgscroll":{vA(e.player,"refscroll","bg",["bg","bgedit"]);const r=pe(e.player);r.scrollname="bgs",r.scroll=Pe(e.player);break}default:{Se(HA,e.player,async()=>{const r=th(`refscroll:${n}`);if(G(r))Rp(th(`refscroll:${n}`),i=>Dv(e.player,i));else{const i=pe(e.player);i.scrollname="$7$7$7 please wait",i.scroll=["loading $7$7$7"];const o=await IJ(n);kX(e.player,o)}const s=pe(e.player);s.scrollname=n,s.scroll=Pe(e.player)});break}}break;case"batch":Se(HA,e.player,async()=>{await zX(n,e.player)});break;case"remix":Se(HA,e.player,async()=>{await dAA(n,e.player)});break;case"empty":{const r=yn(n);r.target==="copycoords"&&xc(HA,nt(),r.path.split(",").join(" "));break}case"inspect":eAA(n,e.player);break;case"gadget":if(se(e.data)){const[r,s]=e.data;zo(HA,e.player,void 0,"text",r,s)}break;case"findany":Se(HA,e.player,async()=>{await sAA(n,e.player)});break;case"makeit":hAA(n,e.data??"",e.player);break;case"zztbridge":Se(HA,e.player,async()=>{if(se(e.data)){const[r]=e.data;await gq(e.player,r)}});break;case"zipfilelist":Se(HA,e.player,async()=>{await hq(e.player)});break;default:{const r=yn(n);if(CA(r.target)==="self"||!r.path)e.target=e.target.replace("self:",""),tv(e);else{const s=be(LA.MAIN);l8(r.target,r.path,void 0,Uu(s))}break}}break}}},R6());function neA(){x4(HA)}const{forward:reA}=iN(e=>{oN(e)&&postMessage(e)});onmessage=function(A){reA(A.data)},setTimeout(neA,100)})();
