const a0_0x4bb2=['getTerminalOutput','hash','../../../utilities/serializer-overrides','npm:','statuses','toISOString','target','local-cache-hit','runtime','find','Cannot\x20find\x20task\x20','params','startTask','taskId','CloudEnabledLifeCycle','push','endTasks','status','cacheStatus','obfuscate','scheduleTask','hashDetails','filter','serializeOverrides','collectTerminalOutput','implicitDeps','defineProperty','__esModule','cleanUpHashDetails','../../terminal-output/read-task-terminal-output','keys','readTaskTerminalOutput','nodes','runContext','remote-cache','updateStartedTask','startTime','task','forEach','terminalOutput','endTime','code','cache','tasks','outputObfuscator','startsWith'];(function(_0x32676e,_0x4bb218){const _0x26a2a3=function(_0x3045c8){while(--_0x3045c8){_0x32676e['push'](_0x32676e['shift']());}};_0x26a2a3(++_0x4bb218);}(a0_0x4bb2,0x137));const a0_0x26a2=function(_0x32676e,_0x4bb218){_0x32676e=_0x32676e-0x0;let _0x26a2a3=a0_0x4bb2[_0x32676e];return _0x26a2a3;};'use strict';Object[a0_0x26a2('0x25')](exports,a0_0x26a2('0x26'),{'value':!![]});exports[a0_0x26a2('0x19')]=void 0x0;const serializer_overrides_1=require(a0_0x26a2('0xd'));const read_task_terminal_output_1=require(a0_0x26a2('0x28'));class CloudEnabledLifeCycle{constructor(_0x2eff97,_0x563813,_0x2016e8,_0xa38d46,_0x45de15,_0xf4bba){this['runContext']=_0x2eff97;this['cacheDirectory']=_0x563813;this['collectTerminalOutput']=_0x2016e8;this['cacheableOperations']=_0xa38d46;this[a0_0x26a2('0x9')]=_0x45de15;this['tasks']=_0xf4bba;}[a0_0x26a2('0x1f')](_0x17f4be){this['runContext']['scheduledTasks']['push'](_0x17f4be);}[a0_0x26a2('0x17')](_0x3c8974){this[a0_0x26a2('0x8')][a0_0x26a2('0x1a')]({'taskId':_0x3c8974['id'],'startTime':new Date()['toISOString'](),'target':_0x3c8974[a0_0x26a2('0x11')]['target'],'projectName':_0x3c8974[a0_0x26a2('0x11')]['project'],'hash':_0x3c8974[a0_0x26a2('0xc')],'hashDetails':this['cleanUpHashDetails'](_0x3c8974[a0_0x26a2('0x20')]),'params':(0x0,serializer_overrides_1[a0_0x26a2('0x22')])(_0x3c8974),'uploadedToStorage':![]});}[a0_0x26a2('0x1b')](_0x2ae7ca){for(let _0x459860 of _0x2ae7ca){let _0x597039;const _0x24de2e=_0x459860['status']===a0_0x26a2('0x2d');const _0x1bcee4=_0x459860[a0_0x26a2('0x1c')]===a0_0x26a2('0x7');const _0x56f589=_0x459860['status']==='local-cache'||_0x459860['status']==='local-cache-kept-existing'||_0x1bcee4;if(this[a0_0x26a2('0x2c')][a0_0x26a2('0xf')][_0x459860[a0_0x26a2('0x2')][a0_0x26a2('0xc')]]){_0x597039=this[a0_0x26a2('0x2c')][a0_0x26a2('0xf')][_0x459860['task']['hash']];}else if(_0x24de2e){_0x597039='remote-cache-hit';}else if(_0x56f589){_0x597039=a0_0x26a2('0x12');}else{_0x597039='cache-miss';}this[a0_0x26a2('0x0')](_0x459860,_0x597039);}}['endCommand'](){}[a0_0x26a2('0x0')](_0x5842cf,_0x2b3489){const _0x9c8a49=this[a0_0x26a2('0x8')][a0_0x26a2('0x14')](_0xfd80ac=>_0xfd80ac[a0_0x26a2('0x18')]===_0x5842cf[a0_0x26a2('0x2')]['id']);if(!_0x9c8a49){throw new Error(a0_0x26a2('0x15')+_0x5842cf[a0_0x26a2('0x2')]['id']);}if((_0x5842cf===null||_0x5842cf===void 0x0?void 0x0:_0x5842cf[a0_0x26a2('0x1')])&&(_0x5842cf===null||_0x5842cf===void 0x0?void 0x0:_0x5842cf[a0_0x26a2('0x5')])){_0x9c8a49['startTime']=new Date(_0x5842cf[a0_0x26a2('0x1')])[a0_0x26a2('0x10')]();_0x9c8a49[a0_0x26a2('0x5')]=new Date(_0x5842cf[a0_0x26a2('0x5')])['toISOString']();}else{_0x9c8a49[a0_0x26a2('0x5')]=new Date()['toISOString']();}_0x9c8a49[a0_0x26a2('0x1c')]=_0x5842cf['code'];_0x9c8a49[a0_0x26a2('0x16')]=this[a0_0x26a2('0x9')][a0_0x26a2('0x1e')](_0x9c8a49[a0_0x26a2('0x16')]);_0x9c8a49[a0_0x26a2('0x1d')]=_0x2b3489;if(this[a0_0x26a2('0x23')]){_0x9c8a49[a0_0x26a2('0x4')]=this['getTerminalOutput'](_0x5842cf['task'][a0_0x26a2('0xc')],_0x9c8a49[a0_0x26a2('0x1d')],_0x5842cf[a0_0x26a2('0x6')]);}}[a0_0x26a2('0xb')](_0x2002ef,_0xd8313f,_0x4991a4){return(0x0,read_task_terminal_output_1[a0_0x26a2('0x2a')])(this['cacheDirectory'],this[a0_0x26a2('0x9')],_0x2002ef,_0xd8313f,_0x4991a4);}[a0_0x26a2('0x27')](_0x4b6a47){const _0x3f82ac={};Object[a0_0x26a2('0x29')](_0x4b6a47[a0_0x26a2('0x2b')])[a0_0x26a2('0x21')](_0x2b351=>!_0x2b351[a0_0x26a2('0xa')](a0_0x26a2('0xe')))[a0_0x26a2('0x3')](_0x248fb3=>{_0x3f82ac[_0x248fb3]=_0x4b6a47[a0_0x26a2('0x2b')][_0x248fb3];});return{'nodes':_0x3f82ac,'runtime':_0x4b6a47[a0_0x26a2('0x13')],'implicitDeps':_0x4b6a47[a0_0x26a2('0x24')]};}}exports[a0_0x26a2('0x19')]=CloudEnabledLifeCycle;