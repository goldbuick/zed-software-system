const a5_0x1cc4=['runGroup:\x20','runGroup','/nx-cloud/executions/complete-run-group','axiosMultipleTries','throw','createMetricRecorder','post','mapRespToPerfEntry','../../../utilities/axios','../../../utilities/environment','error:\x20','data','__awaiter','dtePollTasks','apiAxiosInstance','DistributedAgentApi','error','Completed\x20run\x20group\x20with\x20an\x20error','done','__esModule','VERBOSE_LOGGING','/nx-cloud/executions/tasks','Completing\x20run\x20group\x20with\x20an\x20error','apply','createApiAxiosInstance','../../../utilities/nx-imports','recordMetric','tasks','note','../../../utilities/metric-logger','agentName','RUNNER_FAILURE_PERF_ENTRY','axiosException','completeRunGroup','next','response'];(function(_0xfc30db,_0x1cc421){const _0x5b855a=function(_0x837b8a){while(--_0x837b8a){_0xfc30db['push'](_0xfc30db['shift']());}};_0x5b855a(++_0x1cc421);}(a5_0x1cc4,0xa6));const a5_0x5b85=function(_0xfc30db,_0x1cc421){_0xfc30db=_0xfc30db-0x0;let _0x5b855a=a5_0x1cc4[_0xfc30db];return _0x5b855a;};'use strict';var __awaiter=this&&this[a5_0x5b85('0x1a')]||function(_0x48580f,_0x4081a2,_0x326a37,_0x5ce056){function _0x3d79a0(_0xc0869b){return _0xc0869b instanceof _0x326a37?_0xc0869b:new _0x326a37(function(_0x1ad723){_0x1ad723(_0xc0869b);});}return new(_0x326a37||(_0x326a37=Promise))(function(_0x249521,_0x5752d8){function _0x460b38(_0x4bd7ea){try{_0x342660(_0x5ce056[a5_0x5b85('0xc')](_0x4bd7ea));}catch(_0x1bcfb0){_0x5752d8(_0x1bcfb0);}}function _0x51bc34(_0x3cb968){try{_0x342660(_0x5ce056[a5_0x5b85('0x12')](_0x3cb968));}catch(_0x257e09){_0x5752d8(_0x257e09);}}function _0x342660(_0x1cb5e0){_0x1cb5e0[a5_0x5b85('0x20')]?_0x249521(_0x1cb5e0['value']):_0x3d79a0(_0x1cb5e0['value'])['then'](_0x460b38,_0x51bc34);}_0x342660((_0x5ce056=_0x5ce056[a5_0x5b85('0x1')](_0x48580f,_0x4081a2||[]))[a5_0x5b85('0xc')]());});};Object['defineProperty'](exports,a5_0x5b85('0x21'),{'value':!![]});exports[a5_0x5b85('0x1d')]=void 0x0;const axios_1=require(a5_0x5b85('0x16'));const environment_1=require(a5_0x5b85('0x17'));const metric_logger_1=require(a5_0x5b85('0x7'));const {output}=require(a5_0x5b85('0x3'));class DistributedAgentApi{constructor(_0x3bbe08,_0x92f73a,_0xe96e85){this[a5_0x5b85('0xf')]=_0x92f73a;this[a5_0x5b85('0x8')]=_0xe96e85;this[a5_0x5b85('0x1c')]=(0x0,axios_1[a5_0x5b85('0x2')])(_0x3bbe08);}[a5_0x5b85('0x5')](_0x928c3a,_0x35c8eb,_0x4a7790,_0x1ddd2c){var _0x10218f;return __awaiter(this,void 0x0,void 0x0,function*(){const _0x586086=(0x0,metric_logger_1[a5_0x5b85('0x13')])(a5_0x5b85('0x1b'));try{const _0x390a58=yield(0x0,axios_1[a5_0x5b85('0x11')])(()=>this[a5_0x5b85('0x1c')][a5_0x5b85('0x14')](a5_0x5b85('0x23'),{'runGroup':this[a5_0x5b85('0xf')],'agentName':this[a5_0x5b85('0x8')],'executionId':_0x928c3a,'statusCode':_0x35c8eb,'completedTasks':_0x4a7790,'targets':_0x1ddd2c}));_0x586086[a5_0x5b85('0x4')]((0x0,metric_logger_1[a5_0x5b85('0x15')])(_0x390a58));return _0x390a58[a5_0x5b85('0x19')];}catch(_0x780c1c){_0x586086[a5_0x5b85('0x4')](((_0x10218f=_0x780c1c===null||_0x780c1c===void 0x0?void 0x0:_0x780c1c['axiosException'])===null||_0x10218f===void 0x0?void 0x0:_0x10218f[a5_0x5b85('0xd')])?(0x0,metric_logger_1[a5_0x5b85('0x15')])(_0x780c1c[a5_0x5b85('0xa')][a5_0x5b85('0xd')]):metric_logger_1[a5_0x5b85('0x9')]);throw _0x780c1c;}});}['completeRunGroupWithError'](_0x523560){var _0x20403b;return __awaiter(this,void 0x0,void 0x0,function*(){if(environment_1[a5_0x5b85('0x22')]){output[a5_0x5b85('0x6')]({'title':a5_0x5b85('0x0'),'bodyLines':[a5_0x5b85('0xe')+this[a5_0x5b85('0xf')],a5_0x5b85('0x18')+_0x523560]});}const _0x5b4b2=(0x0,metric_logger_1[a5_0x5b85('0x13')])(a5_0x5b85('0xb'));try{const _0x124828=yield(0x0,axios_1[a5_0x5b85('0x11')])(()=>this[a5_0x5b85('0x1c')][a5_0x5b85('0x14')](a5_0x5b85('0x10'),{'runGroup':this[a5_0x5b85('0xf')],'agentName':this[a5_0x5b85('0x8')],'criticalErrorMessage':_0x523560}));if(environment_1[a5_0x5b85('0x22')]){output['note']({'title':a5_0x5b85('0x1f')});}_0x5b4b2['recordMetric']((0x0,metric_logger_1['mapRespToPerfEntry'])(_0x124828));}catch(_0x4bc36e){_0x5b4b2[a5_0x5b85('0x4')](((_0x20403b=_0x4bc36e===null||_0x4bc36e===void 0x0?void 0x0:_0x4bc36e[a5_0x5b85('0xa')])===null||_0x20403b===void 0x0?void 0x0:_0x20403b[a5_0x5b85('0xd')])?(0x0,metric_logger_1['mapRespToPerfEntry'])(_0x4bc36e[a5_0x5b85('0xa')]['response']):metric_logger_1[a5_0x5b85('0x9')]);console[a5_0x5b85('0x1e')](_0x4bc36e);}});}}exports[a5_0x5b85('0x1d')]=DistributedAgentApi;