"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.installCommonDependencies = void 0;
const devkit_1 = require("@nrwl/devkit");
const versions_1 = require("../../../utils/versions");
function installCommonDependencies(host, options) {
    let devDependencies = null;
    // Vite requires style preprocessors to be installed manually.
    // `@nrwl/webpack` installs them automatically for now.
    // TODO(jack): Once we clean up webpack we can remove this check
    if (options.bundler === 'vite' || options.unitTestRunner === 'vitest') {
        switch (options.style) {
            case 'scss':
                devDependencies = { sass: versions_1.sassVersion };
                break;
            case 'less':
                devDependencies = { less: versions_1.lessVersion };
                break;
            case 'styl':
                devDependencies = { stylus: versions_1.stylusVersion };
                break;
        }
    }
    return devDependencies
        ? (0, devkit_1.addDependenciesToPackageJson)(host, {}, devDependencies)
        : function noop() { };
}
exports.installCommonDependencies = installCommonDependencies;
//# sourceMappingURL=install-common-dependencies.js.map